{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/chai/lib/chai/utils/flag.js","webpack:///./node_modules/p4.js/src/ctypes.js","webpack:///./node_modules/p4.js/src/cstore.js","webpack:///./node_modules/p4.js/src/arrays.js","webpack:///./node_modules/chai/lib/chai.js","webpack:///./node_modules/chai/lib/chai/utils/transferFlags.js","webpack:///./node_modules/p4.js/src/utils.js","webpack:///./node_modules/p4.js/src/allocate.js","webpack:///./node_modules/p4.js/src/io/input.js","webpack:///./node_modules/p4.js/src/io/output.js","webpack:///./node_modules/p4.js/src/vis/brush.js","webpack:///./node_modules/p4.js/src/control.js","webpack:///./node_modules/p4.js/src/gljs/Aggregation.gl.js","webpack:///./node_modules/p4.js/src/ops/aggregate.js","webpack:///./node_modules/p4.js/src/ops/cache.gl.js","webpack:///./node_modules/p4.js/src/gljs/datetime.gl.js","webpack:///./node_modules/p4.js/src/ops/extent.gl.js","webpack:///./node_modules/p4.js/src/gljs/Match.gl.js","webpack:///./node_modules/p4.js/src/ops/match.js","webpack:///./node_modules/p4.js/src/vis/gradients.js","webpack:///./node_modules/p4.js/src/vis/colorhex.js","webpack:///./node_modules/p4.js/src/vis/color.js","webpack:///./node_modules/p4.js/src/vis/encode.js","webpack:///./node_modules/p4.js/src/vis/extend.js","webpack:///./node_modules/p4.js/src/vis/shaders/interpolate.gl.js","webpack:///./node_modules/p4.js/src/vis/svg.js","webpack:///./node_modules/p4.js/src/vis/axis.js","webpack:///./node_modules/p4.js/src/vis/scale.js","webpack:///./node_modules/p4.js/src/vis/format.js","webpack:///./node_modules/p4.js/src/vis/legend.js","webpack:///./node_modules/p4.js/src/vis/chart.js","webpack:///./node_modules/p4.js/src/vis/layout.js","webpack:///./node_modules/p4.js/src/vis/shaders/Renderer.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Instanced.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Polygon.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Interleaved.gl.js","webpack:///./node_modules/p4.js/src/vis/visualize.js","webpack:///./node_modules/p4.js/src/vis/reveal.js","webpack:///./node_modules/p4.js/src/kernels.js","webpack:///./node_modules/p4.js/src/ops/derive.js","webpack:///./node_modules/p4.js/src/operate.js","webpack:///./node_modules/p4.js/src/compile.js","webpack:///./node_modules/p4.js/src/extensions.js","webpack:///./node_modules/p4.js/src/grid.js","webpack:///./node_modules/p4.js/src/main.js","webpack:///./node_modules/p4.js/src/initialize.js","webpack:///./node_modules/p4.js/src/pipeline.js","webpack:///./node_modules/p4.js/src/interact.js","webpack:///./node_modules/chai/lib/chai/config.js","webpack:///./node_modules/p3.js/src/ops/derive.js","webpack:///./node_modules/p3.js/src/ops/arrays.js","webpack:///./node_modules/p3.js/src/ops/aggregate.js","webpack:///./node_modules/p3.js/src/ops/match.js","webpack:///./node_modules/p3.js/src/ops/query.js","webpack:///./node_modules/p3.js/src/stats.js","webpack:///./node_modules/p3.js/src/vector.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/merge.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-scale/src/array.js","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/d3-scale/src/band.js","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/d3-scale/src/pow.js","webpack:///./node_modules/d3-time/src/interval.js","webpack:///./node_modules/d3-time/src/year.js","webpack:///./node_modules/d3-time/src/month.js","webpack:///./node_modules/d3-time/src/week.js","webpack:///./node_modules/d3-time/src/duration.js","webpack:///./node_modules/d3-time/src/day.js","webpack:///./node_modules/d3-time/src/hour.js","webpack:///./node_modules/d3-time/src/minute.js","webpack:///./node_modules/d3-time/src/second.js","webpack:///./node_modules/d3-time/src/millisecond.js","webpack:///./node_modules/d3-time/src/utcWeek.js","webpack:///./node_modules/d3-time/src/utcDay.js","webpack:///./node_modules/d3-time/src/utcYear.js","webpack:///./node_modules/d3-time-format/src/locale.js","webpack:///./node_modules/d3-time-format/src/defaultLocale.js","webpack:///./node_modules/d3-scale/src/time.js","webpack:///./node_modules/d3-time/src/utcMonth.js","webpack:///./node_modules/d3-time/src/utcHour.js","webpack:///./node_modules/d3-time/src/utcMinute.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./node_modules/d3-axis/src/array.js","webpack:///./node_modules/d3-axis/src/identity.js","webpack:///./node_modules/d3-axis/src/axis.js","webpack:///./node_modules/p3.js/src/vis/plot.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/curve/basis.js","webpack:///./node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack:///./node_modules/d3-geo/src/adder.js","webpack:///./node_modules/d3-geo/src/math.js","webpack:///./node_modules/d3-geo/src/noop.js","webpack:///./node_modules/d3-geo/src/stream.js","webpack:///./node_modules/d3-geo/src/area.js","webpack:///./node_modules/d3-geo/src/cartesian.js","webpack:///./node_modules/d3-geo/src/bounds.js","webpack:///./node_modules/d3-geo/src/centroid.js","webpack:///./node_modules/d3-geo/src/constant.js","webpack:///./node_modules/d3-geo/src/compose.js","webpack:///./node_modules/d3-geo/src/rotation.js","webpack:///./node_modules/d3-geo/src/circle.js","webpack:///./node_modules/d3-geo/src/clip/buffer.js","webpack:///./node_modules/d3-geo/src/pointEqual.js","webpack:///./node_modules/d3-geo/src/clip/rejoin.js","webpack:///./node_modules/d3-geo/src/polygonContains.js","webpack:///./node_modules/d3-geo/src/clip/index.js","webpack:///./node_modules/d3-geo/src/clip/antimeridian.js","webpack:///./node_modules/d3-geo/src/clip/circle.js","webpack:///./node_modules/d3-geo/src/clip/rectangle.js","webpack:///./node_modules/d3-geo/src/clip/line.js","webpack:///./node_modules/d3-geo/src/clip/extent.js","webpack:///./node_modules/d3-geo/src/length.js","webpack:///./node_modules/d3-geo/src/distance.js","webpack:///./node_modules/d3-geo/src/contains.js","webpack:///./node_modules/d3-geo/src/graticule.js","webpack:///./node_modules/d3-geo/src/interpolate.js","webpack:///./node_modules/d3-geo/src/path/area.js","webpack:///./node_modules/d3-geo/src/identity.js","webpack:///./node_modules/d3-geo/src/path/bounds.js","webpack:///./node_modules/d3-geo/src/path/centroid.js","webpack:///./node_modules/d3-geo/src/path/context.js","webpack:///./node_modules/d3-geo/src/path/measure.js","webpack:///./node_modules/d3-geo/src/path/string.js","webpack:///./node_modules/d3-geo/src/path/index.js","webpack:///./node_modules/d3-geo/src/transform.js","webpack:///./node_modules/d3-geo/src/projection/fit.js","webpack:///./node_modules/d3-geo/src/projection/resample.js","webpack:///./node_modules/d3-geo/src/projection/index.js","webpack:///./node_modules/d3-geo/src/projection/conic.js","webpack:///./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/albers.js","webpack:///./node_modules/d3-geo/src/projection/albersUsa.js","webpack:///./node_modules/d3-geo/src/projection/azimuthal.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/mercator.js","webpack:///./node_modules/d3-geo/src/projection/conicConformal.js","webpack:///./node_modules/d3-geo/src/projection/equirectangular.js","webpack:///./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/equalEarth.js","webpack:///./node_modules/d3-geo/src/projection/gnomonic.js","webpack:///./node_modules/d3-geo/src/projection/identity.js","webpack:///./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack:///./node_modules/d3-geo/src/projection/orthographic.js","webpack:///./node_modules/d3-geo/src/projection/stereographic.js","webpack:///./node_modules/d3-geo/src/projection/transverseMercator.js","webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./node_modules/topojson-client/src/stitch.js","webpack:///./node_modules/topojson-client/src/mesh.js","webpack:///./node_modules/topojson-client/src/bisect.js","webpack:///./node_modules/d3-scale-chromatic/src/ramp.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack:///./node_modules/p3.js/index.js","webpack:///./node_modules/p3.js/src/pipeline.js","webpack:///./node_modules/p3.js/src/allocate.js","webpack:///./node_modules/p3.js/src/join.js","webpack:///./node_modules/p3.js/src/embed.js","webpack:///./node_modules/p3.js/src/toarray.js","webpack:///./node_modules/p3.js/src/vis/circle.js","webpack:///./node_modules/p3.js/src/vis/bar.js","webpack:///./node_modules/p3.js/src/vis/area.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/p3.js/src/vis/spline.js","webpack:///./node_modules/p3.js/src/vis/map.js","webpack:///./node_modules/p4.js/index.js","webpack:///./node_modules/p4.js/test/utils.js","webpack:///./src/FileLoader.js","webpack:///./src/main.js","webpack:///./index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/chai/lib/chai/utils/isProxyEnabled.js","webpack:///./node_modules/chai/lib/chai/utils/addLengthGuard.js","webpack:///./node_modules/chai/lib/chai/utils/proxify.js","webpack:///./node_modules/p4.js/src/io/ajax.js","webpack:///./node_modules/p4.js/src/io/parse.js","webpack:///./src/Transpiler.js","webpack:///./node_modules/chai/index.js","webpack:///./node_modules/p4.js/flexgl/src/uniform.js","webpack:///./node_modules/p4.js/flexgl/src/attribute.js","webpack:///./node_modules/p4.js/flexgl/src/texture.js","webpack:///./node_modules/p4.js/flexgl/src/varying.js","webpack:///./node_modules/p4.js/flexgl/src/subroutine.js","webpack:///./node_modules/p4.js/flexgl/src/resource.js","webpack:///./node_modules/p4.js/flexgl/src/shader.js","webpack:///./node_modules/p4.js/flexgl/src/program.js","webpack:///./node_modules/p4.js/flexgl/src/framebuffer.js","webpack:///./node_modules/p4.js/flexgl/src/main.js","webpack:///./node_modules/type-detect/type-detect.js","webpack:///./node_modules/chai/lib/chai/utils/inspect.js","webpack:///./node_modules/p4.js/test/data-babies.js","webpack:///./node_modules/p4.js/test/data-timeseries.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/assertion-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/getActual.js","webpack:///./node_modules/chai/lib/chai/utils/objDisplay.js","webpack:///./node_modules/get-func-name/index.js","webpack:///./node_modules/chai/lib/chai/utils/getProperties.js","webpack:///./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js","webpack:///./node_modules/p4.js/flexgl/index.js","webpack:///./node_modules/jStat/dist/jstat.js","webpack:///./node_modules/chai/lib/chai/utils/index.js","webpack:///./node_modules/pathval/index.js","webpack:///./node_modules/chai/lib/chai/utils/test.js","webpack:///./node_modules/chai/lib/chai/utils/expectTypes.js","webpack:///./node_modules/chai/lib/chai/utils/getMessage.js","webpack:///./node_modules/chai/lib/chai/utils/getEnumerableProperties.js","webpack:///./node_modules/deep-eql/index.js","webpack:///./node_modules/chai/lib/chai/utils/addProperty.js","webpack:///./node_modules/chai/lib/chai/utils/addMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteProperty.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteMethod.js","webpack:///./node_modules/chai/lib/chai/utils/addChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/compareByInspect.js","webpack:///./node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js","webpack:///./node_modules/check-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/isNaN.js","webpack:///./node_modules/chai/lib/chai/assertion.js","webpack:///./node_modules/chai/lib/chai/core/assertions.js","webpack:///./node_modules/chai/lib/chai/interface/expect.js","webpack:///./node_modules/chai/lib/chai/interface/should.js","webpack:///./node_modules/chai/lib/chai/interface/assert.js","webpack:///./demos/kepler.js","webpack:///./demos/double_input_slider.js","webpack:///./demos/demo.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","flags","__flags","arguments","length","int","Int32Array","short","Int16Array","float","Float32Array","double","Float64Array","string","Uint16Array","time","datetime","temporal","integer","numeric","nominal","ColumnStore","arg","cstore","this","options","columns","size","count","types","attributes","keys","names","struct","schema","strValues","strLists","intervals","indexes","colStats","colAlloc","colRead","skip","initCStore","forEach","configureColumn","intervalize","uniqueValues","index","indexOf","Error","initStruct","Array","isArray","push","type","dtype","k","cid","f","columnType","includes","parseInt","parseFloat","Date","ts","getTime","getTimezoneOffset","Math","floor","addRows","rowArray","j","shift","row","v","addObjects","objArray","console","log","addColumn","props","columnData","data","array","columnName","values","vi","ArrayBuffer","isView","di","metadata","info","stats","dtypes","export","_p4_cstore_version","col","min","max","avg","domains","ctypes","exportAsJSON","rows","ri","dataFrame","attr","ai","exportAsRowArray","import","scale","factor","len","normalize","fid","interval","attrId","sort","a","b","_reduce","opt","result","reduce","apply","range","map","seq","start","end","intv","scan","pfsum","accum","iscan","concat","diff","difference","intersect","filter","e","unique","lcm","A","abs","histogram","numBin","_max","_min","bins","hg","fill","binID","counts","slice","variance","pow","std","sqrt","vectorAdd","vectorSum","vectors","numberOfVectors","_vectorAvg","vectorAvg","used","version","AssertionError","util","use","fn","config","assertion","core","expect","should","assert","includeAll","flag","buf","step","seqFloat","vecId","dataProps","$p","categoryIndex","dkeys","dataSchema","Number","isInteger","dataSize","rowSize","colSize","ceil","getDataWidth","TLB","dataDimension","resultDimension","fields","fieldWidths","deriveMax","fieldCount","field","fi","deriveDomains","deriveWidths","deriveFieldCount","getFieldId","fieldName","fieldId","attribute","id","indexAttrData","ctx","ext","vertexAttribDivisorANGLE","aVertexId","location","aDataFieldId","aDataItemId","_square","fieldDomains","uniform","filterControls","varying","texture","framebuffer","parameter","indexCount","tData","update","uDataInput","subroutine","uFieldWidths","uFieldDomains","uFieldCount","uIndexCount","uDeriveCount","texture2D","fDerivedValues","vec2","aDataValx","aDataValy","addrX","addrY","offsetY","gl","aDataIdx","aDataIdy","INPUT_FORMATS","INPUT_METHODS","output","format","outputTag","objectArray","match","uFilterFlag","getMatchBuffer","edi","extraDimension","undefined","getResultBuffer","cache","offset","res","rs","subarray","bx","by","ax","ay","y","x","arraySize","kid","resultSize","Uint8Array","bindFramebuffer","readPixels","RGBA","UNSIGNED_BYTE","brush","option","container","svg","width","height","base","selectX","selectY","border","color","brushstart","brushend","append","css","sx","sy","dx","dy","selector","selection","intStart","drag","addEventListener","evt","preventDefault","clientX","clientY","x0","y0","nw","nh","sp","getBoundingClientRect","box","left","top","ondrag","selectorBox","nx","ny","right","bottom","window","removeEventListener","registers","control","register","tag","dataDim","uDataDim","deriveCount","filterFlag","uFilterControls","dataInput","resultDim","ids","extraDim","updateRegister","resume","arrayOfArray","reg","uDataSize","branchID","branch","branches","operations","run","Aggregate","groupKeyValue","gl_PointSize","vResult","uAggrOpt","getData","uFieldId","fFilterResults","uVisLevel","pos","Vec2","ii","gid","Int","uGroupFields","w","getFieldWidth","getFieldDomain","uBinCount","uBinIntervals","uExtraKeyValue","gl_Position","vec4","discard","gl_FragColor","GetStats","$vec4","gl_FragCoord","uResultDim","FillValues","uFillValue","VEC_IDS","METRICS","aggregate","program","shader","vertex","vertexShader","fragment","fragmentShader","resultFieldCount","resultDomains","getAvgValues","compute","opts","groupFieldIds","resultFieldIds","_progress","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","disable","BLEND","viewport","drawArrays","TRIANGLES","enableRead","CULL_FACE","DEPTH_TEST","enable","blendFunc","ONE","blendEquation","FUNC_ADD","postComputeFieldIds","MIN_EXT","MAX_EXT","drawArraysInstancedANGLE","POINTS","fAggrStats","postCompute","FRAMEBUFFER","execute","spec","newFieldSpec","$collect","$reduce","groupFields","$group","group","out","newFieldNames","resultFields","operators","twoPassFields","_update","getResult","oldFieldIds","newFieldDomains","newFieldWidths","fii","ifid","extent","rowTotal","colTotal","FLOAT","cacheTag","vs","fs","getHour","hours","getYear","days","getDayOfWeek","getMonth","years","daysInMonth","month","year","isLeapYear","smallest","vDiscardData","fieldIds","extents","idCount","minValue","maxValue","IntervalMatch","sel","visSelect","Bool","$","uVisControls","uFilterRanges","uVisRanges","DiscreteMatch","uFilterLevel","uSelectCount","uInSelections","filterRanges","visControls","visRanges","inSelections","matchResultBuffer","from","rangeMatch","inMatch","ctrl","skipUpdateDomain","filterSpec","crossfilters","$in","filterValues","startIndex","endIndex","newDomains","matchFields","filterSelections","viewSelections","_execute","domain","bitmap","gradients","colorhex","defaultColorScheme","defaultColorSet","gradient","colorset","rgb","hexStr","hex","colorStr","toLowerCase","substring","rgba","alpha","setColorScheme","colors","cc","colorGradient","colorResolution","c0","c1","xi","pop","setColorTable","colorTable","colorSetMax","colorValue","mapColorRGB","colorRGB","Vec3","intValue","uDefaultColor","uColorMode","tColorGradient","uVisDomains","uColorCount","vec3","uColorSet","EncodingChannels","encode","vmap","colorManager","opacity","vmapIndex","scaleExponents","channel","channelIndex","encoding","exponent","uVisualEncodings","uScaleExponents","uDefaultAlpha","revealDensity","uRevealMode","uMarkSize","viewSetting","isRect","mark","markSpace","isXYCategorical","domainX","domainY","dims","dim","histograms","histMin","histMax","histIntv","histBin","h","uMarkSpace","uIsXYCategorical","uDefaultWidth","uDefaultHeight","channelId","indexedValue0","indexedValue1","defaultValue","getNonIndexedData","uGeoProjection","tan","setAttr","elem","replace","setAttribute","setStyle","style","Svg","self","document","createElementNS","parent","padding","defaultAttr","viewBox","join","preserveAspectRatio","innerWidth","innerHeight","getElementById","appendChild","node","publicMethods","context","remove","parentNode","removeChild","Attr","Style","text","str","createTextNode","translate","getAttribute","on","event","callback","addEventListner","domainIntervals","position","align","metric","styles","stroke","ticks","tickLength","tickPosition","tickInterval","tickAlign","skipLast","tickFormat","grid","_","visable","labelPos","labelAngle","X","Y","tickLabelAlign","labelPosition","getTickInterval","log10","dstep","isNaN","scaleOptions","d0","d1","r0","r1","margin","domainLength","rangeLength","invert","axis","show","x1","x2","y1","y2","svgTicks","tickLabel","class","textAnchor","gx1","gx2","gy1","gy2","labelText","printformat","parts","exp","suffix","numericSymbols","precision","number","toExponential","toString","defaultColors","gradID","chart","frontSvg","backSvg","plot","metavis","frontMetaVis","features","labels","showLegend","onclick","onhover","legend","axisOffset","frameBorder","gridlines","axisOption","colorLegend","gradientID","label","gradDirection","linearGradient","title","xAxes","yAxes","axisDist","reverse","labelOffset","histDomain","xAxisTitle","yAxisTitle","chartLayer","newDomain","yp","xp","axisLabels","removeLegend","source","defaultProperties","layout","viz","body","clientWidth","clientHeight","div","createElement","prop","init","className","resize","createSVG","canvas","backSVG","scales","frontSVG","set","addProperty","render","destroy","_super","hide","display","addChart","exportImage","beforeExport","imageCanvas","Promise","resolve","reject","getContext","svgString","XMLSerializer","serializeToString","DOMURL","URL","webkitURL","svgBlob","Blob","svgURL","createObjectURL","canvasLayer","Image","svgLayer","onload","drawImage","src","png","toDataURL","revokeObjectURL","onerror","Renderer","vColorRGBA","primitive","super","posX","posY","visMap","uDropZeros","valid","uVisMark","dist","gl_PointCoord","xy","smoothstep","val0","val1","mod","aDataItemVal0","aDataItemVal1","uInterleaveX","uFeatureCount","getEncodingByFieldId","vm","fv","userActions","visMarks","visualize","updateScheme","newColors","updateTable","g","substr","rgba2hex","getColors","updateColors","colorMode","chartPadding","vis","enhance","aViewX","aViewY","uViewDim","offScreenFBO","vs2","fs2","Vec4","uMaxRGBA","isFBOAllocatedFBO","viewIndex","viewDim","views","vOffset","vDim","maxRGBA","reveal","renderers","instanced","polygon","interleave","colorMap","renderer","visDomain","visDimension","dimSetting","pv","colorInfo","assign","updateDomain","updateAxisX","updateAxisY","zero","removeAxis","updateInstancedAttribute","load","in","ONE_MINUS_SRC_ALPHA","LINE_STRIP","lineWidth","extensions","condition","dataDomains","last","skipRender","skipDefault","json","view","encodings","exportData","exportResult","onready","execution","function","restartOnUpdate","extend","project","act","action","response","viewId","interactOptions","interactions","derive","derivedFields","marco","re","RegExp","formula","matched","Function","getDerivedValue","uDeriveId","uOptMode","createProgram","newDerivedDomains","deriveFieldId","kernels","compile","$bin","binAttrs","binIndex","binAttr","binCount","log2","binAttrId","binDomain","binInterval","bin","setOutput","vmaps","facets","facet","sortBy","sortOpt","sortAttr","sorted","normalizedValues","val","variables","minLoopCount","rule","code","reset","generateViews","setInput","viewTag","responses","_responseType","respond","Spline","AreaChart","BarChart","Grid","calcOffset","p4","defaultLayout","async","primitives","dimX","api","pipeline","optID","queue","addModule","newModule","assignMethods","addToQueue","addOperation","operation","overwrite","clearQueue","jobs","q","isAsync","getRawData","getViews","head","inputName","outputName","dataOptions","allocate","operate","getOperations","optName","configPipeline","asyncPipeline","asyncInput","inputReady","method","delimiter","url","uniqueKeys","createIndexes","uk","dataFormat","dataHandlers","JSON","parse","csv","dataSource","ajax","dataType","then","socket","WebSocket","onopen","onmessage","err","input","commit","runJSON","jsonSpec","inputSpec","clearWebGLBuffers","fb","runSpec","specs","interact","interaction","viewTags","actions","events","interactor","rect","getSelection","cursor","brushOptions","updateEvent","selections","selectors","axisSelect","delta","onwheel","dir","deltaY","proportion","onmousedown","onpan","onmouseover","onmousemove","updateData","newData","updateDataColumn","updateDataRow","rowId","texPosX","extOptions","constructor","annotate","inputDataOptions","includeStack","showDiff","truncateThreshold","useProxy","proxyExcludedKeys","tranfs","sum","var","ks","headers","binCollection","column","si","stringify","bl","$data","gk","mergedResult","collect","fname","warnMsg","warn","_match","sat","query","indexBy","indexed","mf","sortArray","al","orderBy","ss","binAggregate","attrKey","embedData","rangeBegin","rangeEnd","$by","partition","numPart","pid","partitions","partitionBy","bi","hash","toColumnArray","columnArray","add","NaN","compare","ascending","ascendingComparator","lo","hi","mid","ascendingBisect","bisector","bisectRight","bisect","stop","e10","e5","e2","tickIncrement","isFinite","power","LN10","error","tickStep","step0","step1","merged","arrays","initRange","each","has","entries","empty","Set","proto","implicit","ordinal","unknown","copy","band","bandwidth","ordinalRange","round","paddingInner","paddingOuter","rescale","rangeRound","factory","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","trim","exec","rgbn","Rgb","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m1","m2","basis","t1","v0","v1","v2","v3","t2","t3","define","channels","displayable","formatHsl","brighter","darker","linear","gamma","nogamma","exponential","rgbGamma","rgbSpline","spline","rgbBasis","isNumberArray","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","lastIndex","one","numberArray","valueOf","unit","clamper","bimap","interpolate","polymap","target","clamp","transformer","transform","untransform","piecewise","u","continuous","formatSpecifier","specifier","FormatSpecifier","sign","symbol","comma","prefixExponent","coefficient","formatDecimal","toFixed","toPrecision","formatRounded","toUpperCase","prefixes","locale","grouping","thousands","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","i1","i0","formatTrim","charCodeAt","Infinity","formatPrefix","precisionPrefix","precisionRound","precisionFixed","linearish","nice","transformPow","transformSqrt","transformSquare","powish","newInterval","floori","offseti","date","previous","every","setMonth","setHours","setFullYear","getFullYear","setDate","weekday","getDate","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getMilliseconds","getSeconds","getMinutes","getHours","getUTCSeconds","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcDay","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newDate","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","day","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","week","utcFormat","utcParse","formatLocale","utcMonth","utcHour","setUTCMinutes","utcMinute","setUTCSeconds","none","querySelector","EnterNode","datum","ownerDocument","namespaceURI","_next","_parent","__data__","child","insertBefore","next","querySelectorAll","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","xhtml","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","split","classList","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","splice","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","creatorFixed","namespace","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","onRemove","typename","__on","capture","onAdd","wrap","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","matches","enterGroup","updateGroup","_enter","_exit","sparse","onenter","onupdate","onexit","merge","order","groups0","groups1","m0","merges","group0","group1","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","classed","html","creator","insert","before","deep","dispatch","deg2rad","PI","rad2deg","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","cos","sin","hue","translateX","translateY","entering","__axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","path","tick","tickExit","tickEnter","line","transition","tickSize","axisLeft","Data","View","axes","main","createSvg","getScales","hideAxes","xAxis","yAxis","yGridlines","AxisLabels","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","defined","curve","buffer","defined0","that","Basis","Adder","temp","adder","bv","av","halfPi","quarterPi","degrees","radians","atan","asin","haversin","noop","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","Sphere","sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","polygonStart","polygonEnd","phi00","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","cartesian","spherical","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","ranges","deltaSum","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","normal","inflection","phii","lambdai","antimeridian","lambda0","lambda1","rangeCompare","rangeContains","W0","W1","Z0","Z1","X2","Y2","Z2","z0","deltaMax","feature","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","rotate","circleStream","radius","direction","t0","cosRadius","sinRadius","circleRadius","ring","center","circle","lines","rejoin","Intersection","points","other","entry","subject","clip","segments","segment","p0","p1","pointEqual","compareIntersection","startInside","current","isSubject","longitude","angle","winding","point0","phi0","sinPhi0","cosPhi0","sinPhi1","cosPhi1","point1","phi1","absDelta","intersection","phiArc","sink","clipLine","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointVisible","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","cr","smallRadius","notHemisphere","visible","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","q1","v00","point2","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","b0","b1","polygonInside","cleanInside","cacheStream","lengthSum","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","distance","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","X1","X0","Y1","Y0","DX","DY","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","cy0","sy0","cy1","sy1","kx0","ky0","kx1","ky1","B","area","bounds","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_radius","pointRadius","lengthRing","PathString","_string","_circle","projectionStream","contextStream","measure","projection","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","cosMinDistance","delta2","resampleLineTo","depth","d2","phi2","lambda2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","ci","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","theta","preclip","postclip","recenter","resample","transformRotate","clipAngle","conicProjection","parallels","conicEqualAreaRaw","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","azimuthalRaw","azimuthalInvert","sc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","fy","equirectangularRaw","conicEquidistantRaw","gy","A1","A2","A3","A4","equalEarthRaw","l2","l6","gnomonicRaw","kx","ky","tx","ty","reflectX","reflectY","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","topology","objects","bbox","properties","transformPoint","arcs","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","dp","ends","fg","unshift","gf","meshArcs","extractArcs","stitch","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","scheme","task","_callback","oncomplete","header","ds","parsers","ta","insertRows","vl","dataLeft","dataRight","keyL","kr","embed","$id","lookup","toArray","Plot","ScatterPlot","newColor","bars","shape","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","series","sample","legendWidth","legendPosY","GeoMap","gis","borders","defaultColor","valueById","country","countries","colorScale","setColor","setter","icon","global","datasets","Babies","TimeSeries","equal","closeTo","hasAllKeys","normalDist","boundedRandom","rand","mean","random","randomJSONs","vid","randomArrays","FileLoader","file","chunk","fileSize","reader","FileReader","lineTotal","leftOver","rid","NOT_FOUND_ERR","NOT_READABLE_ERR","ABORT_ERR","readAsBinaryString","onloadend","readyState","DONE","parseDataSchema","errorHandler","results","onprocess","PROGRESS_MODES","OPERATIONS","fetchData","batchProcessing","progression","p4x","preserveDrawingBuffer","progressStep","progressedSize","crossViewProc","inputType","profile","profiling","LoadTime","ProcTime","AccuTime","onEach","batchSize","getSchema","read","catch","ops","job","transpile","Transpiler","jobsToPipeline","batch","batches","progress","prepareData","cdata","onComplete","autoProgress","status","done","requestAnimationFrame","completed","inputData","loadStart","performance","now","pp","mergedPipeline","p2","setup","jsonSpecs","connection","sourceView","targetViews","sourceProc","find","sourcePipeline","tv","targetPipeline","interProc","targetView","selectedAttrs","conn","validate","$sum","selected","getProfile","Proxy","Reflect","fnLengthDesc","getOwnPropertyDescriptor","assertionName","isChainable","configurable","getProperties","isProxyEnabled","builtins","nonChainableMethodName","proxyGetter","suggestion","suggestionDistance","strA","strB","cap","memo","ch","stringDistanceCapped","request","encodeURIComponent","req","XMLHttpRequest","open","responseType","statusText","setRequestHeader","send","getAll","promises","all","post","loadLine","delimiterCode","initPos","EOL","QUOTE","categories","rules","$aggregate","$include","excludes","$exclude","calculates","$calculate","collection","$count","Uniform","glContext","serializeArray","sa","setUniform","resourceType","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","ptr","uniform1i","link","getUniformLocation","sanitize","Attribute","attributeID","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","createBuffer","getAttribLocation","vertexAttribPointer","enableVertexAttribArray","arrayBuffer","bufferSubData","delete","deleteBuffer","Texture","textureID","setTexture","texData","texImage2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","sampler","texIndex","createTexture","copyFromFBO","copyTexImage2D","texSubImage2D","updateTexture","deleteTexture","Varying","Subroutine","Resource","resource","gpuResources","resourceTypes","resources","resourceName","Shader","glResource","parameters","_dict","shaderType","VERTEX_SHADER","FRAGMENT_SHADER","toGLSL","returnType","glsl","envParam","applyEnvParameters","expr","args","isObject","getExtraDeps","fnString","extraDeps","sdep","sres","declareDep","dep","uniqueDeps","deps","require","debug","shaderSource","sourceCode","shaderArgs","getDeps","allDeps","subroutineNames","_shader","createShader","compileShader","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","_shaderType","Program","pm","shaders","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","detachShader","deleteProgram","Framebuffer","createFramebuffer","renderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferTexture2D","COLOR_ATTACHMENT0","framebufferRenderbuffer","DEPTH_ATTACHMENT","deleteRenderbuffer","deleteFramebuffer","FlexGL","flexgl","glAttr","sharedFunction","cavnas","marginLeft","marginTop","setupWebGL","env","dict","dictionary","framebuffers","programManager","blendExt","getExtension","enableExtension","extension","extProps","ep","isProgram","serialize","aoa","fbName","keyValuePairs","newArray","dictKeys","fxgl","app","draw","dimension","promiseExists","globalObject","symbolExists","mapExists","Map","setExists","weakMapExists","WeakMap","weakSetExists","WeakSet","dataViewExists","symbolIteratorExists","iterator","symbolToStringTagExists","setEntriesExists","mapEntriesExists","setIteratorPrototype","getPrototypeOf","mapIteratorPrototype","arrayIteratorExists","arrayIteratorPrototype","stringIteratorExists","stringIteratorPrototype","typeofObj","navigator","mimeTypes","plugins","HTMLElement","tagName","stringTag","objPrototype","getName","getEnumerableProperties","showHidden","formatValue","seen","stylize","recurseTimes","inspect","ret","simple","formatPrimitive","nodeType","nodeName","outerHTML","xmlVersion","nameSuffix","visibleKeys","isError","isRegExp","isDate","toUTCString","formatError","ar","typedArray","braces","objectToString","formatProperty","formatArray","formatTypedArray","prev","cur","reduceToSingleString","propDescriptor","educations","races","timesteps","record","originalModule","webpackPolyfill","children","exclude","excludeProps","message","_props","ssf","captureStackTrace","stack","toJSON","_obj","functionNameMatch","aFunc","getOwnPropertyNames","getOwnPropertySymbols","sym","jStat","isFunction","utils","ascNum","arr","sumsqrd","sumsqerr","tmp","sumrow","product","prod","low","high","_arr","meansqerr","geomean","median","arrlen","cumsum","cumreduce","cumprod","diffs","arrLen","rank","ranks","lastIndexOf","maxCount","numMaxCount","mode_arr","pooledvariance","samples","deviation","dev","stdev","pooledstdev","meandev","meddev","coeffvar","quartiles","quantiles","quantilesArray","alphap","betap","aleph","sortedArray","quantileVals","percentile","exclusive","realIndex","frac","percentileOfScore","score","kind","counter","strict","binCnt","binWidth","covariance","arr1","arr2","arr1Len","sq_dev","corrcoeff","spearmancoeff","stanMoment","mu","sigma","skewSum","skewness","kurtosis","jProto","funcs","passfunc","fullbool","func","tmpthis","setTimeout","transpose","toVector","callbackFunction","argsToPass","curriedFunction","calcRdx","LOG10E","isNumber","_init","retZero","retOne","retIdent","_random_fn","setRandom","TypeError","cols","dimensions","rowa","submat","arange","ind","cola","diag","nrow","antidiag","objArr","toAlter","ncol","alter","zeros","ones","identity","symmetric","cnt","hival","rl","_slice","rcSlice","colSlice","rowSlice","sliceAssign","nl","ml","diagonal","diagArray","mat","gammaln","xx","cof","ser","gammafn","yi","fact","xden","xnum","gammap","lowRegGamma","an","aln","ap","del","ITMAX","factorialln","factorial","combination","combinationln","permutation","betafn","betaln","betacf","aa","qab","qap","qam","gammapinv","lna1","afac","gln","erf","isneg","dd","erfc","erfcinv","ibetainv","lna","lnb","ibeta","bt","randn","randg","a2","oalph","betinc","eps","c9","m9","tukeyWprob","rr","xleg","aleg","qsqz","wincr","pr_w","cdf","blb","binc","bub","einsum","cc1","wi","elsum","jj","ac","qexpo","rinsum","callee","_a","_b","_c","newthis","vals","fnfunc","beta","pdf","inv","centralF","df1","df2","binomial","cauchy","chisquare","dof","rate","invgamma","kumaraswamy","lognormal","noncentralt","ncp","studentt","flip","prob","lastvalue","pareto","SQRT2","dof2","weibull","betacdf","negbin","hypgeom","N","scaledPDF","samplesDone","scaledCDF","poisson","sumarr","triangular","arcsine","laplace","tukey","nmeans","df","xlegq","alegq","ulen","f2","f2lf","f21","ff4","ans","otsum","twa1","ps","tukeyQinv","valx0","valx1","iter","isUsable","subtract","divide","multiply","nrescols","rescols","outer","dot","norm","nnorm","aug","newarr","gauss_jordan","det","alen","alend","rowshift","colshift","mrow","mcol","gauss_elimination","maug","pivot","maxrow","triaUpSolve","matrix_mode","triaLowSolve","lu","R","cholesky","T","gauss_jacobi","xv","xk","gauss_seidel","SOR","householder","QR","lstsq","array_mode","attrs","Q1","RI","I","Aj","cAi","Ij","cIi","R_I","Q2","jacobi","maxim","ev","rungekutta","t_j","u_j","k1","k2","k3","romberg","h1","richardson","h_min","simpson","hermite","F","dF","dl","lagrange","cubic_spline","sq","gauss_quadrature","PCA","temp1","Bt","D","temp2","C","Vt","differenceOfProportions","pooled","zscore","ztest","sides","tscore","ttest","anovafscore","expVar","sampMean","sampSampMean","tmpargs","unexpVar","anovaftest","ftest","fscore","anovaftes","qscore","mean1","mean2","sd","qtest","tukeyhsd","means","normalci","change","tci","significant","pvalue","oneSidedDifferenceOfProportions","twoSidedDifferenceOfProportions","models","ols","endog","exog","nobs","df_model","df_resid","coef","predict","resid","ybar","SSE","SSR","SST","R2","t_test","model","var_count","subModelList","endog_index","exog_index","sigmaHat","seBetaHat","tStatistic","pValue","leftppf","interval95","se","F_statistic","F_test","adjust_R2","buildxmatrix","matrixRows","builddxmatrix","buildjxmatrix","jMat","pass","buildymatrix","buildjymatrix","matrixmult","regress","jMatX","jMatY","innerinv","xtranspxinv","xtransp","regresst","jMatYBar","yBar","yAverage","anova","residuals","ssr","msr","sse","mse","sst","mst","r2","fratio","rmse","r2adj","sds","covar","xtranspx","inner","matrixsubtract","pathval","expectTypes","getMessage","getActual","objDisplay","transferFlags","eql","getPathInfo","hasProperty","addMethod","overwriteProperty","overwriteMethod","addChainableMethod","overwriteChainableMethod","compareByInspect","getOwnEnumerablePropertySymbols","getOwnEnumerableProperties","checkError","proxify","addLengthGuard","parsePath","mArr","internalGetPathValue","parsed","pathDepth","temporaryValue","part","exists","getPathValue","setPathValue","tempObj","propName","propVal","internalSetPathValue","negate","flagMsg","ssfi","art","objType","some","expected","actual","msg","FakeMap","_key","isExtensible","MemoizeMap","memoizeCompare","leftHandOperand","rightHandOperand","memoizeMap","isPrimitive","leftHandMap","memoizeSet","deepEqual","comparator","extensiveDeepEqual","simpleResult","simpleEqual","memoize","memoizeResultLeft","memoizeResultRight","comparatorResult","leftHandType","iterableEqual","regexpEqual","getGeneratorEntries","generatorEqual","entriesEqual","leftHandKeys","getEnumerableKeys","rightHandKeys","keysEqual","leftHandEntries","getIteratorEntries","rightHandEntries","objectEqual","extensiveDeepEqualByType","leftHandItems","rightHandItems","hasIteratorFunction","iteratorError","generator","generatorResult","accumulator","chai","propertyGetter","newAssertion","Assertion","methodWrapper","_get","overwritingPropertyGetter","origLockSsfi","_method","overwritingMethodWrapper","canSetPrototype","setPrototypeOf","testFn","excludeNames","propDesc","chainingBehavior","chainableBehavior","__methods","chainableMethodWrapper","asserterName","pd","_chainingBehavior","getFunctionName","constructorFn","compatibleInstance","thrown","errorLike","compatibleConstructor","compatibleMessage","errMatcher","comparisonString","getConstructorName","constructorName","_chai","lockSsfi","negateMsg","_actual","ok","article","SameValueZero","includeChainingBehavior","include","isDeep","descriptor","included","isEql","item","firstErr","numErrs","propAssertion","checkArguments","assertEqual","prevLockSsfi","assertEql","assertAbove","errorMessage","doLength","msgPrefix","nType","shouldThrow","have","itemsCount","assertLeast","assertBelow","assertMost","assertInstanceOf","isInstanceOf","assertProperty","isNested","isOwn","nameType","pathInfo","assertOwnProperty","assertOwnPropertyDescriptor","actualDescriptor","assertLengthChain","assertLength","assertMatch","assertKeys","keysType","deepStr","mixedArgsMsg","any","expectedKey","actualKey","assertThrows","errMsgMatcher","caughtErr","is","everyArgIsUndefined","everyArgIsDefined","Boolean","errorLikeFail","errMsgMatcherFail","errorLikeString","placeholder","respondTo","itself","satisfy","matcher","assertChanges","initial","final","msgObj","assertIncreases","assertDecreases","chain","finish","startType","finishType","subset","be","failMsg","failNegateMsg","ordered","cmp","superset","idx","matchIdx","elem2","isSubsetOf","expression","behavior","realDelta","isSealed","isFrozen","fail","operator","loadShould","writable","shouldGetter","val2","errt","errs","Throw","exist","not","Should","express","errmsg","isOk","isNotOk","notEqual","strictEqual","notStrictEqual","deepStrictEqual","notDeepEqual","isAbove","abv","above","isAtLeast","atlst","least","isBelow","blw","below","isAtMost","atmst","most","isTrue","isNotTrue","isFalse","isNotFalse","isNull","isNotNull","isNotNaN","notExists","isUndefined","isDefined","isNotFunction","isNotObject","isNotArray","isString","isNotString","isNotNumber","finite","isBoolean","isNotBoolean","typeOf","notTypeOf","instanceOf","notInstanceOf","inc","notInclude","deepInclude","notDeepInclude","nestedInclude","nested","notNestedInclude","deepNestedInclude","notDeepNestedInclude","ownInclude","own","notOwnInclude","deepOwnInclude","notDeepOwnInclude","notMatch","notProperty","propertyVal","notPropertyVal","deepPropertyVal","notDeepPropertyVal","ownProperty","notOwnProperty","ownPropertyVal","notOwnPropertyVal","deepOwnPropertyVal","notDeepOwnPropertyVal","nestedProperty","notNestedProperty","nestedPropertyVal","notNestedPropertyVal","deepNestedPropertyVal","notDeepNestedPropertyVal","lengthOf","hasAnyKeys","containsAllKeys","contain","doesNotHaveAnyKeys","doesNotHaveAllKeys","hasAnyDeepKeys","hasAllDeepKeys","containsAllDeepKeys","doesNotHaveAnyDeepKeys","doesNotHaveAllDeepKeys","throws","assertErr","throw","doesNotThrow","approximately","sameMembers","set1","set2","same","members","notSameMembers","sameDeepMembers","notSameDeepMembers","sameOrderedMembers","notSameOrderedMembers","sameDeepOrderedMembers","notSameDeepOrderedMembers","includeMembers","notIncludeMembers","includeDeepMembers","notIncludeDeepMembers","includeOrderedMembers","notIncludeOrderedMembers","includeDeepOrderedMembers","notIncludeDeepOrderedMembers","oneOf","inList","changes","changesBy","tmpMsg","doesNotChange","changesButNotBy","but","increases","increase","increasesBy","doesNotIncrease","increasesButNotBy","decreases","decrease","decreasesBy","doesNotDecrease","doesNotDecreaseBy","decreasesButNotBy","ifError","extensible","isNotExtensible","sealed","isNotSealed","frozen","isNotFrozen","isEmpty","isNotEmpty","alias","as","slider","slide","ui","disabled","keyCode","scrollTop","pageYOffset","scrollLeft","pageXOffset","onscroll","scrollTo","disableScroll","onchange","files","target_name","s_ra","s_dec","t_min","t_max","t_exptime","ra","getRightAscension","dec","getDecline","binSize","raRange","decRange","raMaxRange","raRatio","decMaxRange","decRatio","calculateBinRatio","map_values","chart_values","chart_min","$min","map_aggr"],"mappings":"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AW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjwF,MAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/vF,OAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChwF,QAAW,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YCJxvFC,EAAW,CACpB,UAAa,UACb,aAAgB,UAChB,KAAQ,UACR,WAAc,UACd,MAAS,UACT,MAAS,UACT,OAAU,UACV,MAAS,UACT,eAAkB,UAClB,KAAQ,UACR,WAAc,UACd,MAAS,UACT,UAAa,UACb,UAAa,UACb,WAAc,UACd,UAAa,UACb,MAAS,UACT,eAAkB,UAClB,SAAY,UACZ,QAAW,UACX,KAAQ,UACR,SAAY,UACZ,SAAY,UACZ,cAAiB,UACjB,SAAY,UACZ,UAAa,UACb,UAAa,UACb,YAAe,UACf,eAAkB,UAClB,WAAc,UACd,WAAc,UACd,QAAW,UACX,WAAc,UACd,aAAgB,UAChB,cAAiB,UACjB,cAAiB,UACjB,cAAiB,UACjB,WAAc,UACd,SAAY,UACZ,YAAe,UACf,QAAW,UACX,WAAc,UACd,UAAa,UACb,YAAe,UACf,YAAe,UACf,QAAW,UACX,UAAa,UACb,WAAc,UACd,KAAQ,UACR,UAAa,UACb,KAAQ,UACR,MAAS,UACT,YAAe,UACf,SAAY,UACZ,QAAW,UACX,aAAc,UACd,OAAU,UACV,MAAS,UACT,MAAS,UACT,SAAY,UACZ,cAAiB,UACjB,UAAa,UACb,aAAgB,UAChB,UAAa,UACb,WAAc,UACd,UAAa,UACb,qBAAwB,UACxB,UAAa,UACb,WAAc,UACd,UAAa,UACb,YAAe,UACf,cAAiB,UACjB,aAAgB,UAChB,eAAkB,UAClB,eAAkB,UAClB,YAAe,UACf,KAAQ,UACR,UAAa,UACb,MAAS,UACT,QAAW,UACX,OAAU,UACV,iBAAoB,UACpB,WAAc,UACd,aAAgB,UAChB,aAAgB,UAChB,eAAkB,UAClB,gBAAmB,UACnB,kBAAqB,UACrB,gBAAmB,UACnB,gBAAmB,UACnB,aAAgB,UAChB,UAAa,UACb,UAAa,UACb,SAAY,UACZ,YAAe,UACf,KAAQ,UACR,QAAW,UACX,MAAS,UACT,UAAa,UACb,OAAU,UACV,UAAa,UACb,OAAU,UACV,cAAiB,UACjB,UAAa,UACb,cAAiB,UACjB,cAAiB,UACjB,WAAc,UACd,UAAa,UACb,KAAQ,UACR,KAAQ,UACR,KAAQ,UACR,WAAc,UACd,OAAU,UACV,IAAO,UACP,UAAa,UACb,UAAa,UACb,YAAe,UACf,OAAU,UACV,WAAc,UACd,SAAY,UACZ,SAAY,UACZ,OAAU,UACV,OAAU,UACV,QAAW,UACX,UAAa,UACb,UAAa,UACb,KAAQ,UACR,YAAe,UACf,UAAa,UACb,IAAO,UACP,KAAQ,UACR,QAAW,UACX,OAAU,UACV,UAAa,UACb,OAAU,UACV,MAAS,UACT,MAAS,UACT,WAAc,UACd,OAAU,UACV,YAAe,WCvIbC,EAAqB,EAAsB,QAC3CC,EAAkB,CACpB,YACA,MACA,OACA,SACA,UAGJ,IAAIC,EAAWF,EACXG,EAAWF,EA+Df,SAASG,EAAIC,GACT,IAAIC,EATeC,EAoBnB,OARID,EADoB,KAArBD,EAAOnW,MAAM,EAAE,GACRmW,EAAOnW,MAAM,IAZJqW,EAcKF,OAbuB,IAApCN,EAASQ,EAASC,gBAClBT,EAASQ,EAASC,gBAYGtW,MAAM,GAM/B,CAHH7F,SAASic,EAAIG,UAAU,EAAE,GAAI,IAAM,IACnCpc,SAASic,EAAIG,UAAU,EAAE,GAAI,IAAM,IACnCpc,SAASic,EAAIG,UAAU,EAAE,GAAI,IAAM,KAI3C,SAASC,EAAKL,EAAQM,EAAQ,GAC1B,IAAI/hB,EAAIwhB,EAAIC,GACZ,MAAO,CAACzhB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI+hB,GAc9B,SAASC,EAAeC,GACpB,IAAIC,EAAKD,EAAOlgB,OAAS,EACrBiL,EAAQkV,GAAM,EA5GE,KA4GsBA,EAAG,GAAK,EAC9CC,EAAgB,IAAI9f,aAAa+f,MAErCH,EAAOhd,KAAKgd,EAAOC,IACnB,IAAI,IAAIviB,EAAI,EAAGA,EAAIuiB,EAAG,EAAGviB,IAKrB,IAJA,IAAI0iB,EAAKP,EAAKG,EAAOtiB,IACjB2iB,EAAKR,EAAKG,EAAOtiB,EAAE,IACnBwS,EAA8B,EAArBpM,KAAKC,MAAMrG,EAAIqN,GAEpB4F,EAAI,EAAGA,EAAI5F,EAAM4F,IAAK,CAC1B,IAAI2P,EAAK3P,EAAI,EACbuP,EAAchQ,EAAS,EAAFS,GAASyP,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EACxDJ,EAAchQ,EAAS,EAAFS,EAAI,GAAKyP,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EACxDJ,EAAchQ,EAAS,EAAFS,EAAI,GAAKyP,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EACxDJ,EAAchQ,EAAS,EAAFS,EAAI,GAAKyP,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EAIhE,OADAN,EAAOO,MACAL,EAGX,SAASM,EAAcR,GACnB,IAAIS,EAAa,IAAIrgB,aAAasgB,IAOlC,OANAV,EAAO1d,SAAQ,SAASvE,EAAGL,GACvB,IAAIijB,EAAapB,EAAIxhB,GACrB0iB,EAAa,EAAF/iB,GAAOijB,EAAW,GAC7BF,EAAa,EAAF/iB,EAAI,GAAKijB,EAAW,GAC/BF,EAAa,EAAF/iB,EAAI,GAAKijB,EAAW,MAE5BF,EAGX,SAASG,GAAY,QAAChU,EAAU,MAAK,MAAEjO,EAAQ,UAC3C,IAAIX,EAAI,IAAIkY,KACR2K,EAAW,IAAIC,KACfC,EAAW,IAAI1K,IAiBnB,OAhBe,GAAZzJ,EACCiU,EAAW3f,KAAK8f,cAEM,GAAnB9f,KAAK+f,WACJJ,EAAWpS,UAAUvN,KAAKggB,eAAgBvS,KAAKhQ,EAAO,IAAM4gB,KAE5DvhB,EAAIkD,KAAKigB,YAAYvU,GAIjBiU,GAHJE,EAAWhhB,IAAIpB,GAASX,EAAE0S,EAAI1S,EAAE2S,GAAK3S,EAAE2S,EAAI,MAE5BzP,KAAKkgB,YACLC,KAAK,EAAK,EAAK,GAEfngB,KAAKogB,UAAUP,IAI/BF,ECnKJ,MAAMU,EAAmB,CAAC,IAAK,IAAK,QAAS,UAAW,QAAS,SAAU,QAE3E,SAASC,EAAOrW,EAAIsW,EAAMC,GAC7B,IAAIC,EAAUF,EAAKE,SAAWF,EAAK3B,MAC/B8B,EAAY,IAAI5hB,WAAWuhB,EAAiBzhB,QAC5C+hB,EAAiB,IAAIzhB,aAAamhB,EAAiBzhB,QAAQoJ,KAAK,GAEpEqY,EAAiBjf,QAAQ,CAACwf,EAASC,KAC/B,IAAIC,EAAWP,EAAKK,GACI,iBAAd,GAA0BE,EAASziB,eAAe,WAC/B,IAAtByiB,EAASC,WACRJ,EAAeE,GAAgBC,EAASC,UAE5CD,EAAWP,EAAKK,GAASzV,OAE7BuV,EAAUG,GAAgB5W,EAAGc,OAAOtJ,QAAQqf,KAEhD7W,EAAGsC,QAAQyU,iBAAiBrd,KAAO+c,EACnCzW,EAAGsC,QAAQ0U,gBAAgBtd,KAAOgd,EAClC1W,EAAGsC,QAAQ2U,cAAcvd,KAAO,GACX,IAAlB+c,EAAU,GACkB,iBAAhBH,EAAU,MACC,SAAfA,EAAK3P,OACJ3G,EAAGkX,eAAgB,EACnBlX,EAAGsC,QAAQ6U,YAAYzd,KAAO,GAE9BsG,EAAGsC,QAAQuT,cAAcnc,KAAO6c,EAAanC,IAAIkC,EAAK3P,OAGlC,iBAAd2P,EAAS,OACftW,EAAGsC,QAAQ8U,UAAU1d,KAAO4c,EAAKpgB,MAItC8J,EAAGrJ,SAASvC,eAAe4L,EAAGc,OAAO2V,EAAU,KAC9CzW,EAAGsC,QAAQwT,WAAWpc,KAAO,EAE7BsG,EAAGsC,QAAQwT,WAAWpc,KAAO,EAId,iBAAd,EACLsG,EAAGsC,QAAQ2U,cAAcvd,KAAO8c,GACR,IAAlBC,EAAU,IACG,iBAAb,GACK,QAAXD,IAEAxW,EAAGkX,eAAgB,EACnBlX,EAAGsC,QAAQ6U,YAAYzd,KAAO,IAIb,IAAlB+c,EAAU,IAAkC,iBAAdH,EAAS,OACtCtW,EAAGsC,QAAQ8U,UAAU1d,KAAO4c,EAAKpgB,MAGrC,IAAImhB,EAAc,CAAC/b,MAAO,GAAImC,UAAW,IACrC6Z,GAAkD,IAAxC,CAAC,OAAQ,OAAO9f,QAAQ8e,EAAKiB,MACvCC,EAAY,CAAC,EAAG,GAChBC,EAAkB,CAAC,EAAG,GAC1B,GAAGhB,EAAU,IAAM,EAAG,CAClB,IAAIjb,EAAMwE,EAAGe,YAAY0V,EAAU,IAC/B3U,EAAM9B,EAAGqC,aAAaoU,EAAU,IACjCzW,EAAGrJ,SAASvC,eAAekiB,EAAK9Q,IAC/B6R,EAAY/b,MAAMkK,EAAI,cACtB6R,EAAYK,QAAU,IAAI/f,MAAM6D,GAAKuC,KAAK,GAAGzB,IACzC,CAACzJ,EAAEN,IAAMyN,EAAGrJ,SAAS2f,EAAK9Q,GAAGjT,IAEjCklB,EAAgB,GAAK,GACbH,IACRD,EAAY/b,MAAMkK,EAAI,UACtB6R,EAAYK,QAAU,IAAI/f,MAAM6D,GAAKuC,KAAK,GAAGzB,IAAI,CAACzJ,EAAEN,IAAMuP,EAAI,GAAKvP,IAEtEilB,EAAU,GAAK,IAGpB,GAAGf,EAAU,IAAM,EAAG,CAClB,IAAIjb,EAAMwE,EAAGe,YAAY0V,EAAU,IAC/B3U,EAAM9B,EAAGqC,aAAaoU,EAAU,IAEjCzW,EAAGrJ,SAASvC,eAAekiB,EAAK/Q,IAC/B8R,EAAY/b,MAAMiK,EAAI,cACtB8R,EAAYM,QAAU,IAAIhgB,MAAM6D,GAAKuC,KAAK,GAAGzB,IACzC,CAACzJ,EAAEN,IAAIyN,EAAGrJ,SAAS2f,EAAK/Q,GAAGhT,IAE/BklB,EAAgB,GAAK,GACdH,IACPD,EAAY/b,MAAMiK,EAAI,UACtB8R,EAAYM,QAAU,IAAIhgB,MAAM6D,GAAKuC,KAAK,GAAGzB,IAAI,CAACzJ,EAAEN,IAAIuP,EAAI,GAAKvP,IAErEilB,EAAU,GAAK,GAGhBf,EAAU,IAAM,GAAKA,EAAU,IAAM,IACpCe,EAAY,CAAC,EAAG,IAEpB,IAAII,EAAO,CAAC,IAAK,KACjB,IAAI,IAAIC,KAAOD,EACX,IAAyC,IAAtC5X,EAAG8X,WAAWtgB,QAAQ8e,EAAKuB,IAAc,CACxC,IAAIE,EAAU/X,EAAGpJ,UAAU0f,EAAKuB,IAAMpd,IAClCud,EAAUhY,EAAGpJ,UAAU0f,EAAKuB,IAAMnd,IAClCud,EAAWjY,EAAGpJ,UAAU0f,EAAKuB,IAAMlc,SAEnCuc,EAAUvf,KAAK8H,MAAMuX,EAAUD,GAAWE,GAC1CplB,EAAY,KAAPglB,EAAc,UAAY,UACnCR,EAAY5Z,UAAUoa,IAAO,EAC7BR,EAAYxkB,GAAK,IAAI8E,MAAMugB,GAASna,KAAKga,GAASzb,IAAI,CAAC6b,EAAG5lB,IAAM4lB,EAAI5lB,EAAE0lB,GAoB9E,OAhBAjY,EAAGsC,QAAQ8V,WAAW1e,KAAO8d,EAC7BxX,EAAGsC,QAAQ+V,iBAAiB3e,KAAO+d,GAG3BnB,EAAKjQ,OAASiQ,EAAK9Q,EACnBxF,EAAGsC,QAAQgW,cAAc5e,KAAO,EAAOsG,EAAGe,YAAYf,EAAGc,OAAOtJ,QAAQ8e,EAAK9Q,KACrD,IAAlBiR,EAAU,IAAmC,iBAAfH,EAAU,QAC9CtW,EAAGsC,QAAQgW,cAAc5e,KAAO4c,EAAKjQ,MAAQA,QAG7CiQ,EAAKhQ,QAAUgQ,EAAK/Q,EACpBvF,EAAGsC,QAAQiW,eAAe7e,KAAO,EAAOsG,EAAGe,YAAYf,EAAGc,OAAOtJ,QAAQ8e,EAAK/Q,KACtD,IAAlBkR,EAAU,IAAmC,iBAAfH,EAAU,QAC9CtW,EAAGsC,QAAQiW,eAAe7e,KAAO4c,EAAKhQ,OAASA,QAGhD+Q,EC9HI,ICAA,GACX,QAAO,UACHmB,EAAY,MAAK,MACjB7U,EAAQ,QAAO,MACfC,EAAQ,QAAO,cACf6U,EAAgB,QAAO,cACvBC,EAAgB,QAAO,aACvBC,EAAe,UAEf,IAAInlB,EACAX,EAAI,IAAIkY,KACRtJ,EAAU,IAAIyJ,IAsBlB,OArBAzJ,EAAU1L,KAAKghB,iBAAiByB,KACjB,GACP/W,GAAW1L,KAAKqN,YAChB5P,EAAQuC,KAAK6iB,kBAAkBnX,EAASkC,EAAOC,GACxCnC,EAAU1L,KAAKqN,cACtB5P,EAAoB,GAAXiO,EAAgBgX,EAAgBC,GAI7CllB,GAASA,GAFTX,EAAIkD,KAAKigB,YAAYvU,IAEF+D,IAAM3S,EAAE0S,EAAI1S,EAAE2S,GACM,GAAnCzP,KAAKihB,gBAAgBwB,KACrBhlB,EAAQ4K,IAAI5K,EAAOuC,KAAKihB,gBAAgBwB,KAGjB,GAAvBziB,KAAK8iB,gBAAoC,GAAbL,IAC5BhlB,EAAyD,IAAjD8F,IAAIwf,IAA2B,SAAtBtlB,EAAQ,GAAO,GAAiB,IAAgB,UAGrEA,EAAQmlB,EAGLnlB,GAGX,sBAAqB,QACjBiO,EAAU,MAAK,MACfkC,EAAQ,QAAO,MACfC,EAAQ,UAER,IAAIpQ,EACAiO,GAAW1L,KAAKqN,YAChB5P,EAAQuC,KAAK6iB,kBAAkBnX,EAASkC,EAAOC,GACxCnC,EAAU1L,KAAKqN,cACtB5P,EAAoB,GAAXiO,EAAgBkC,EAAQC,GAErC,IAAI/Q,EAAI,IAAIkY,KAGZ,OADAvX,GAASA,GADTX,EAAIkD,KAAKigB,YAAYvU,IACF+D,IAAM3S,EAAE0S,EAAI1S,EAAE2S,KCjDzC,SAASuT,EAAQC,EAAM9d,GACnB,IAAK,IAAIpH,KAAOoH,EAAM,CAClB,IAAI1H,EAAQ0H,EAAKpH,GACblB,EAAIkB,EAAIyQ,MAAM,SACT,OAAN3R,IAAYkB,EAAMA,EAAImlB,QAAQrmB,EAAE,GAAI,IAAIA,EAAE,GAAG4hB,gBAChDwE,EAAKE,aAAaplB,EAAKN,IAI/B,SAAS2lB,EAASH,EAAMI,GACpB,IAAK,IAAItlB,KAAOslB,EAAO,CACnB,IAAI5lB,EAAQ4lB,EAAMtlB,GACdlB,EAAIkB,EAAIyQ,MAAM,SACT,OAAN3R,IAAYkB,EAAMA,EAAImlB,QAAQrmB,EAAE,GAAI,IAAIA,EAAE,GAAG4hB,gBAChDwE,EAAKI,MAAMtlB,GAAON,GAIX,SAAS6lB,EAAIxjB,GAExB,IAAIyjB,EAAQvjB,gBAAgBsjB,EAAOtjB,KAAM,GACrCmQ,EAASrQ,GAAO,GAChBiC,EAAOoO,EAAOpO,MAAQ,MAEtBsO,EAAMmT,SAASC,gBADP,6BAC8B1hB,GACtCuO,EAAQH,EAAOG,OAAS,IACxBC,EAASJ,EAAOI,QAAU,IAC1BmT,EAASvT,EAAOuT,QAAUvT,EAAOC,WAAapQ,KAAK0jB,OACnDve,EAAOgL,EAAOhL,MAAQ,GACtBke,EAAQlT,EAAOkT,OAAS,GACxBM,EAAUxT,EAAOwT,SAAW,CAACtR,KAAM,EAAGM,MAAO,EAAGL,IAAK,EAAGM,OAAQ,GAEpE,GAAY,QAAT7Q,EAAgB,CACf,IAAI6hB,EAAc,CACdtT,MAAUA,EAAQqT,EAAQtR,KAAOsR,EAAQhR,MACzCpC,OAAUA,EAASoT,EAAQrR,IAAMqR,EAAQ/Q,OACzCiR,QAAU,CAAC,EAAG,EAAGvT,EAAQqT,EAAQtR,KAAOsR,EAAQhR,MAAQpC,EAASoT,EAAQrR,IAAMqR,EAAQ/Q,QAAQkR,KAAK,KACpGC,oBAAqB,QAEzBf,EAAQ3S,EAAKuT,GAkCjB,OA/BAL,EAAKS,WAAa,WACd,OAAO1T,GAGXiT,EAAKU,YAAc,WACf,OAAO1T,GAGXgT,EAAKI,QAAU,WACX,OAAOA,GAGRN,GAAOD,EAAS/S,EAAKgT,GACrBle,GAAM6d,EAAQ3S,EAAKlL,GAEnBue,IACCA,EAA2B,iBAAVA,EAAsBF,SAASU,eAAeR,GAAUA,GAClES,YAAY9T,GAGvBkT,EAAKlT,IAAMA,EACXkT,EAAKG,OAASA,EAEdH,EAAKa,KAAO,IAAM/T,EAGdgU,EADDd,aAAgBD,EACDA,EAAIllB,UAEJmlB,GAGXA,EAGX,SAASc,EAAcC,GA8DnB,OA7DAA,EAAQvT,OAAS,SAAShP,EAAMoD,EAAMke,GAClC,IAAIpjB,EAAU,GAKd,OAJAA,EAAQyjB,OAAS1jB,KAAKqQ,IACtBpQ,EAAQ8B,KAAOA,EACf9B,EAAQkF,KAAOA,EACflF,EAAQojB,MAAQA,EACT,IAAIC,EAAIrjB,IAGnBqkB,EAAQC,OAAS,WACVvkB,KAAKqQ,KAAOrQ,KAAKqQ,IAAImU,aAAexkB,KAAK0jB,QACxC1jB,KAAK0jB,OAAOe,YAAYzkB,KAAKqQ,MAIrCiU,EAAQnf,KAAO,SAASY,EAAG5C,GAMvB,MALgB,iBAAP,EACL6f,EAAQhjB,KAAKqQ,IAAKtK,GAElB/F,KAAKqQ,IAAI8S,aAAapd,EAAG5C,GAEtBnD,MAGXskB,EAAQI,KAAQ,SAAS3e,EAAG5C,GAExB,OADA6f,EAAQhjB,KAAKqQ,IAAKtK,GACX/F,MAGXskB,EAAQK,MAAS,SAAS5e,EAAG5C,GAEzB,OADAigB,EAASpjB,KAAKqQ,IAAKtK,GACZ/F,MAGXskB,EAAQjB,MAAQ,SAAStd,EAAG5C,GAMxB,MALgB,iBAAP,EACLigB,EAASpjB,KAAKqQ,IAAKtK,GAEnB/F,KAAKqQ,IAAIgT,MAAMtd,GAAK5C,EAEjBnD,MAGXskB,EAAQtT,IAAMsT,EAAQjB,MAEtBiB,EAAQM,KAAO,SAASC,GAEpB,OADA7kB,KAAKqQ,IAAI8T,YAAYX,SAASsB,eAAeD,IACtC7kB,MAGXskB,EAAQS,UAAY,SAAStV,EAAGD,GAC5B,IAAIlR,EAAI0B,KAAKqQ,IAAI2U,aAAa,cAAgB,GAE9C,OADAhlB,KAAKqQ,IAAI8S,aAAa,YAAa7kB,EAAI,aAAe,CAACmR,EAAED,GAAGsU,KAAK,KAAO,MACjE9jB,MAGXskB,EAAQW,GAAK,SAASC,EAAOC,GAEzB,OADAnlB,KAAKqQ,IAAI+U,gBAAgBF,EAAOC,GACzBnlB,MAGJskB,ECxII,SAAS,GAAKxkB,GAEzB,IAiCIulB,EAjCAlV,EAASrQ,GAAO,GAChBuQ,EAAMF,EAAOC,WAAaD,EAAOuT,OACjC5B,EAAM3R,EAAO2R,KAAO,IACpBlR,EAAQT,EAAOS,OAAS,OACxB0U,EAAWnV,EAAOmV,UAAY,EAC9BC,EAAQpV,EAAOoV,OAAS,GACxBhgB,EAAQ4K,EAAO5K,OAAS,SACxBwb,EAAW5Q,EAAO4Q,UAAY,EAC9ByE,EAASrV,EAAOqV,QAAU,KAC1B3H,EAAS1N,EAAO0N,QAAU,CAAC,EAAG,GAC9BvN,EAAQH,EAAOG,OAASD,EAAI2T,aAC5BzT,EAASJ,EAAOI,QAAUF,EAAI4T,cAC9BN,EAAUxT,EAAOwT,SAAWtT,EAAIsT,WAAa,CACzCtR,KAAM,EACNM,MAAO,EACPL,IAAK,EACLM,OAAQ,GAEZtM,EAAQ6J,EAAO7J,OAAiB,KAAPwb,EAAc,CAAC,EAAGxR,GAAS,CAACC,EAAQ,GAC7DkV,EAAS,CACLC,OAAQ9U,EACR,eAAgB,GAEpB+U,EAAQxV,EAAOwV,MACfC,EAAazV,EAAOyV,YAAc,EAClCC,EAAe1V,EAAO0V,cAAgB,CAAC,EAAG,GAC1CC,EAAe3V,EAAO2V,cAAgB,OACtCC,EAAY5V,EAAO4V,WAAa,SAChCC,EAAW7V,EAAO6V,WAAY,EAC9BC,EAAa9V,EAAO8V,YAAc,KAClCC,EAAO/V,EAAO+V,KACd7X,EAAS8B,EAAO9B,QAAU,SAAU8X,GAAI,OAAOA,GAC/CC,EAAUjW,EAAOiW,UAAW,EAE5BC,EAAW,KACXC,EAAanW,EAAOmW,YAAc,EAClCC,EAAI,GACJC,EAAI,GAEc,iBAAX,IACPb,EAAgB,KAAP7D,EAAclf,KAAK8H,KAAK4F,EAAQ,IAAM1N,KAAK8H,KAAK6F,EAAS,KAEtE,IAiEQ5J,EAjEJ8f,EAAiBtW,EAAOsW,gBAAkB,MAC9C,OAAQlB,GACJ,IAAK,OACDc,EAAWlW,EAAOkW,UAAY,CAC1B5W,GAAImW,EAAa,EACjBpW,GAAI,GAERiX,EAAiBtW,EAAOsW,gBAAkB,MAC1C,MACJ,IAAK,QACDJ,EAAWlW,EAAOkW,UAAY,CAC1B5W,EAAGmW,EACHpW,GAAI,GAERiX,EAAiBtW,EAAOsW,gBAAkB,QACrCZ,IAAcA,EAAe,CAACD,EAAa,EAAG,IACnD,MACJ,IAAK,MACDS,EAAW,CACP5W,EAAG,EACHD,EAAG,GAEPiX,EAAiB,SACZZ,IAAcA,EAAe,CAAC,GAAID,IACvC,MACJ,IAAK,SACDS,EAAWlW,EAAOkW,UAAY,CAC1B5W,EAAG,EACHD,EAAiB,GAAboW,GAERa,EAAiBtW,EAAOsW,gBAAkB,SAC1C,MACJ,QACIJ,EAAWlW,EAAOkW,UAAYlW,EAAOuW,eAAiB,CAClDjX,EAAG,EACHD,EAAG,GAKf,SAASmX,IACL,IACIhgB,EADU/D,KAAK6E,IAAIoW,EAAO,GAAKA,EAAO,IACrB8H,EACjBtd,EAAMzF,KAAK8H,KAAK9H,KAAKgkB,MAAMjgB,IAU/B,OANIA,GAHAA,EAAOA,EAAO/D,KAAKyF,IAAI,GAAIA,IAEpB,IAAO1B,GAAQ,IACf,IACAA,EAAO,IAAOA,GAAQ,IACtB,IAEA/D,KAAK8H,KAAY,GAAP/D,GAAa,IAEpB/D,KAAKyF,IAAI,GAAIA,GAGlB,eAAT9C,GAAmC,WAATA,EAC1B8f,EAAkB,WACd,GAAGxH,EAAOjf,OAAS,GAAI,CACnB,IAAIioB,EAAQjkB,KAAKC,MAAMgb,EAAOjf,OAAS,IACvC,OAAOif,EAAOzW,OAAQ,CAACtK,EAAEoH,IAAOA,EAAK2iB,GAAU,GAEnD,OAAOhJ,IAKS,QAAhBiI,EACAnf,EAAOggB,IAGsB,iBAAlB,EACPhgB,EAAOmf,GAGPnf,EAAOggB,IACP9I,EAAO,GAAKlX,EAAO/D,KAAKC,MAAMgb,EAAO,GAAKlX,GAC1CkX,EAAO,GAAKlX,EAAO/D,KAAK8H,KAAKmT,EAAO,GAAKlX,IAIjD0e,EAAkB,WACd,IAAInhB,EAAK,GAET,GAAI2Z,EAAO,GAAKA,EAAO,GAAI,CACvBA,EAAO,IAAMlX,EACb,IAAK,IAAInK,EAAIqhB,EAAO,GAAIrhB,EAAIqhB,EAAO,GAAIrhB,GAAQmK,EAC3CzC,EAAGpC,KAAKtF,QAEZ,IAASA,EAAIqhB,EAAO,GAAIrhB,EAAIqhB,EAAO,GAAIrhB,GAAQmK,EAC3CzC,EAAGpC,KAAKtF,GAUhB,OAPI0H,EAAGA,EAAGtF,OAAS,IAAMif,EAAO,IAAOiJ,MAAMjJ,EAAO,KAAQmI,IAEnDnI,EAAO,GAAK3Z,EAAGA,EAAGtF,OAAS,GAAM,GAAM+H,EACxCzC,EAAGA,EAAGtF,OAAS,GAAKif,EAAO,GAE3B3Z,EAAGpC,KAAK+b,EAAO,KAEhB3Z,IAIf,GAAe,OAAXshB,EAAiB,CAEjB,IAAIuB,EAAe,CACfxB,MAAOQ,EACPhkB,KAAMwD,EACNsY,OAAQA,EACRvX,MAAOA,GAGE,SAATf,IACAwhB,EAAahG,SAAWA,GAG5ByE,ECnKO,SAAe1lB,GAC1B,IAUQknB,EACAC,EACAC,EACAC,EAbJhX,EAASrQ,GAAO,GAChBylB,EAAQpV,EAAOoV,OAAS,SACxBxjB,EAAOoO,EAAOpO,MAAQ,SACtB8b,EAAS1N,EAAO0N,QAAU,CAAC,EAAE,GAE7BkD,GADS5Q,EAAOiX,OACLjX,EAAO4Q,UAAY,GAC9Bza,EAAQ6J,EAAO7J,OAAS,CAAC,EAAE,GAkC3Bf,GA9BIyhB,GAAMnJ,EAAO,IAAMA,EAAO,GAAKA,EAAO,IACtCoJ,EAAK,GAAKpJ,EAAO,GAAKA,EAAO,IAC7BqJ,EAAK5gB,EAAM,GACX6gB,EAAK7gB,EAAM,GAAKA,EAAM,GAEf,UAARvE,EACQ,SAASoB,GAAK,OAAO+jB,GAAMF,EAAK7jB,EAAI8jB,GAAME,GACnC,SAARplB,GACNilB,GAAMpkB,KAAKyF,KAAK2e,EAAIjG,GACpBkG,EAAKrkB,KAAKyF,IAAI4e,EAAIlG,GACX,SAAS5d,GAAK,OAAO+jB,GAAMF,EAAKpkB,KAAKyF,IAAIlF,EAAG4d,GAAYkG,GAAME,IACtD,OAARplB,GACPgf,EAAW5Q,EAAO4Q,UAAY,GAC9BiG,GAAOpkB,KAAKW,KAAKyjB,GAAMpkB,KAAKW,IAAIwd,GAChCkG,EAAMrkB,KAAKW,IAAI0jB,GAAMrkB,KAAKW,IAAIwd,GAEvB,SAAS5d,GAAK,OAAO+jB,GAAMF,EAAKpkB,KAAKW,IAAIJ,GAAKP,KAAKW,IAAIwd,GAAYkG,GAAME,IAElE,WAARplB,GAA6B,eAARA,EACpB,SAASoB,GACZ,MAAY,SAAToiB,EACQ2B,GAAMrJ,EAAOpc,QAAQ0B,GAAG,KAAQ0a,EAAOjf,OAAO,GAAKuoB,EAEnDD,GAAMrJ,EAAOpc,QAAQ0B,GAAG,IAAO0a,EAAOjf,OAASuoB,GAGvD,SAAShkB,GAAK,OAAOA,IAuCpC,OAjCAoC,EAAMK,SAAW,SAAS+f,GACtB,GAAY,WAAR5jB,GAA6B,eAARA,EACrB,OAAQ,EAAI8b,EAAOjf,OAASgE,KAAK6E,IAAInB,EAAM,GAAKA,EAAM,IAEtD,IAAI/H,EAAIqE,KAAKyF,IAAI,GAAIzF,KAAKC,MAAMD,KAAKgkB,MAAMhkB,KAAK6E,IAAInB,EAAM,GAAKA,EAAM,MAAM,GAC3E,OAAO1D,KAAKC,MAAOD,KAAK6E,IAAInB,EAAM,GAAKA,EAAM,KAAOqf,EAAQpnB,IAAQA,GAI5EgH,EAAM8hB,aAAe,WACjB,MAAW,UAARtlB,EACQa,KAAK6E,IAAIoW,EAAO,GAAKA,EAAO,IACvB,WAAR9b,GAA6B,eAARA,EAClB8b,EAAOjf,YADb,GAIT2G,EAAM+hB,YAAc,WAChB,OAAO1kB,KAAK6E,IAAInB,EAAM,GAAKA,EAAM,KAGrCf,EAAMgiB,OAAS,SAASjqB,GACpB,GAAW,UAARyE,EACC,OAAO8b,EAAO,IAAMvgB,EAAIgJ,EAAM,KAAOA,EAAM,GAAKA,EAAM,KAAOuX,EAAO,GAAKA,EAAO,IAC7E,GAAW,WAAR9b,GAA6B,eAARA,EAAuB,CAClD,IAAI4E,EAAOA,EAAOrJ,EAAIiI,EAAM+hB,cAC5B,OAAOzJ,EAAOjb,KAAK8B,IAAI9B,KAAKC,MAAM8D,EAAQkX,EAAa,QAAIA,EAAOjf,OAAO,MAIjF2G,EAAMsY,OAAS,WACX,OAAOA,GAGJtY,EDuFM,CAAMwhB,QAEflJ,EAAS2H,EAAO3H,SAGpB,IAAI2J,EAAOnX,EAAIU,OAAO,KA2GtB,MAzGW,KAAP+Q,IACKwD,GAAYC,IAEbD,GADAA,EAAW,CAAC,EAAG/U,EAAS,EAAGA,IACP,CAAC,MAAO,SAAU,UAAU9O,QAAQ8jB,KAE5DiB,EAAE,GAAKA,EAAE,GAAKlB,EACdiB,EAAE,GAAK,EACPA,EAAE,GAAK3jB,KAAK6E,IAAInB,EAAM,GAAKA,EAAM,OAE5Bgf,GAAYC,IAEbD,GADAA,EAAW,CAAC,EAAGhV,EAAQ,EAAGA,IACN,CAAC,OAAQ,SAAU,SAAS7O,QAAQ8jB,KAE5DgB,EAAE,GAAKA,EAAE,GAAKjB,EACdkB,EAAE,GAAK,EACPA,EAAE,GAAK5jB,KAAK6E,IAAInB,EAAM,GAAKA,EAAM,KAGrCkf,EAAOiC,KAAOjC,EAAOgC,KAAO,WACxBA,EAAKzW,OAAO,KACPA,OAAO,QACP2T,KAAK,CACFgD,GAAInB,EAAE,GACNoB,GAAIpB,EAAE,GACNqB,GAAIpB,EAAE,GACNqB,GAAIrB,EAAE,KAET7B,MAAMc,GAIX,IAFA,IAAIvhB,EAAKmhB,IAEA7oB,EAAI,EAAGA,EAAI0H,EAAGtF,OAAQpC,IAAK,CAChC,IAAIkrB,EAAIC,EAAIC,EAAIC,EACL,KAAP/F,GACA4F,EAAKC,EAAKnC,EAAOthB,EAAG1H,IAAMqpB,EAAa,GAEvCgC,GADAD,EAAKtC,EAAWO,EAAa,GAAKD,GACxBA,IAEVgC,EAAKC,EAAKrC,EAAOthB,EAAG1H,IAAMqpB,EAAa,GAEvC8B,GADAD,EAAKpC,EAAWO,EAAa,IACnBD,GAGd,IAAIkC,EAAWN,EAAKzW,OAAO,KAC3B+W,EAAS/W,OAAO,OAAQ,CACpB2W,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,GACLpC,GAMH,IAAIsC,EAAYD,EAAS/W,OAAO,QAC3B2T,KAAK,CACFjV,EAAGkY,EAAKtB,EAAS5W,EACjBD,EAAGqY,EAAKxB,EAAS7W,EACjBwY,MAAO,gBACP,YAAa,QACbC,WAAYxB,IAEhBH,GAAYyB,EAAU5iB,KAAK,YAAa,UAAY,CAACmhB,EAAaqB,EAAKtB,EAAS5W,EAAKoY,EAAKxB,EAAS7W,GAAIsU,KAAK,KAAO,KAEvH,IAKQoE,EAAKC,EAAKC,EAAKC,EALnBC,EAAkDja,EAAd,mBAAhB,EAAqC4X,EAAW/hB,EAAG1H,IAAc0H,EAAG1H,IAI5F,GAFAurB,EAAUnD,KAAK0D,GAEXpC,EAEW,KAAPpE,GACAoG,EAAMC,EAAM3C,EAAOthB,EAAG1H,IACtB4rB,EAAM,EACNC,EAAM9X,IAEN6X,EAAMC,EAAM7C,EAAOthB,EAAG1H,IACtB0rB,EAAM,EACNC,EAAM7X,GAEVkX,EAAKzW,OAAO,OAAQ,CAChB2W,GAAIQ,EACJP,GAAIQ,EACJP,GAAIQ,EACJP,GAAIQ,EACJL,MAAO,cACR,CACC,OAAUpX,EAEV,iBAAkB,MAK9B,OADA4W,EAAKzC,UAAUpB,EAAQtR,KAAMsR,EAAQrR,KAC9BkV,GAGXhC,EAAOjB,OAAS,WACZiD,EAAKjD,UAGL6B,IACAZ,EAAOnV,IAAMmV,EAAOiC,QAGjBjC,EEjRI,SAAS+C,GAAYvP,GAChC,OAAO,SAASvb,GACZ,GAAoB,iBAAVA,EAAoB,OAAOA,EACrC,IAKI+qB,EAGAC,EACAC,EAPAC,EAAiB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAI,IAAK,IAAK,IAAK,IAAK,IAAK,KAChG1qB,EAAI,eAAK,GAAG,GAAG,GACfzB,EAAImsB,EAAe/pB,OAAO,EAE1BgqB,EAAY5P,EAAKxK,MAAM,OAAO,IAAM,EACpCqa,EAASxe,OAAO5M,GAUpB,IAN0B,KAAvBub,EAAKA,EAAKpa,OAAO,IAChBgqB,IAEJJ,EAAQK,EAAOC,cAAcF,GAAWG,WAAWva,MAAM,yCACzDia,EAAMnmB,SAASkmB,EAAM,KAAO,EAErBhsB,KACH,GAAIisB,GAAOxqB,EAAEzB,GAAI,CACb,GAAM,GAAHA,GAASisB,EAAIxqB,EAAEzB,GAAM,EAAG,CAEvBksB,EAASC,EAAensB,EAAE,GAC1BisB,GAAOxqB,EAAEzB,EAAE,GACX,MAEAksB,EAASC,EAAensB,GACxBisB,GAAOxqB,EAAEzB,GACT,MAKZ,OADM+F,WAAWimB,EAAM,GAAKA,EAAM,GAAK,KAAOA,EAAM,IAAI,GAAK,IAAMC,EAAIM,YAC5DA,WAAaL,GCjChC,MAAMM,GAAgB,CAAC,QAAS,aAEhC,IAAIC,GAAS,ECFE,SAASC,GAAMC,EAAUC,EAAStpB,GAC7C,IAAIG,EAAUH,GAAO,GACjBupB,EAAOF,EAASpY,OAAO,KACvBuY,EAAUF,EAAQrY,OAAO,KACzBwY,EAAeJ,EAASpY,OAAO,KAC/BT,EAAQrQ,EAAQqQ,MAChBC,EAAStQ,EAAQsQ,OACjB+B,EAAMrS,EAAQqS,KAAO,EACrBD,EAAOpS,EAAQoS,MAAQ,EACvBkO,EAAOtgB,EAAQsgB,MAAQ,GACvB7Y,EAAazH,EAAQyH,UACrB8hB,EAAWvpB,EAAQ8K,QAAU,GAC7B8S,EAAS5d,EAAQ4d,OACjBjd,EAAWX,EAAQW,SACnB6oB,EAASJ,EAAKtY,OAAO,KAGrB2Y,GAFUzpB,EAAQ0pB,QACR1pB,EAAQ2pB,QACL3pB,EAAQ4pB,QAErBlG,GADa1jB,EAAQ6pB,WACX7pB,EAAQ0jB,SAAW,CAACtR,KAAM,EAAGM,MAAO,EAAGL,IAAK,EAAGM,OAAQ,IAEjEmX,EAAc9pB,EAAQ8pB,cAAe,EACrCC,EAAY/pB,EAAQ+pB,WAAa,CAACva,GAAG,EAAOD,GAAG,GAC/CsP,EAAS7e,EAAQ6e,OAEjBvZ,EAAQtF,EAAQsF,OAAS,CAACkK,EAAG,SAAUD,EAAG,UAC1CmS,EAAU1hB,EAAQ0hB,SAAW9D,EAAO0C,EAAK9Q,IAAMoO,EAAO0C,EAAKjQ,OAC3DsR,EAAU3hB,EAAQ2hB,SAAW/D,EAAO0C,EAAK/Q,IAAMqO,EAAO0C,EAAKhQ,QAK3D0Z,EAAa,CACbxa,EAAG,CACCW,UAAWkZ,EACXxH,IAAK,IACLxR,MAPRA,GAASqT,EAAQtR,KAAOsR,EAAQhR,MAQxBpC,OAPRA,GAAUoT,EAAQrR,IAAMqR,EAAQ/Q,OAQxBiL,OAAQ8D,EACRpc,MAAQA,EAAMkK,EACd8V,MAAO,SAEPW,KAAM8D,EAAUva,EAChBpB,OAAQ,GAAO,QAEnBmB,EAAG,CACCY,UAAWkZ,EACXxH,IAAK,IACLjE,OAAQ+D,EACRrc,MAAOA,EAAMiK,EACbc,MAAOA,EACPC,OAAQA,EACRgV,MAAO,OAGPW,KAAM8D,EAAUxa,EAChBnB,OAAQ,GAAO,SAIvB,IAAI6b,EACDR,IAAgD,IAAlCF,EAAS/nB,QAAQ8e,EAAK3P,SACnCsZ,ED1DO,SAAepqB,GAC5B,IAAIqqB,EAAalB,KAEb9Y,EAASrQ,GAAO,GAClBsQ,EAAYD,EAAOC,WAAa,KAChCE,EAAQH,EAAOG,OAAS,KACxBC,EAASJ,EAAOI,QAAU,KAC1BwE,EAAM5E,EAAO4E,KAAM,CAAC,EAAG,GACvB+M,EAAM3R,EAAO2R,KAAO,IACpB6B,EAAUxT,EAAOwT,SAAW,CAACtR,KAAM,EAAGM,MAAO,EAAGL,IAAK,EAAGM,OAAQ,GAChEwX,EAAQja,EAAOia,QAAS,EACxBtL,EAAS3O,EAAO2O,QAAUkK,GAC1BnL,EAAS1N,EAAO0N,QAAU,CAAC,MAAO,OAClCxP,EAAS8B,EAAO9B,QAAUka,GAAY,OAGrCzJ,EAAOlgB,OAAS,IAAGkgB,EAASkK,IAC/B1Y,GAASqT,EAAQtR,KAAOsR,EAAQhR,MAChCpC,GAAUoT,EAAQrR,IAAMqR,EAAQ/Q,OAEhC,IAIIyX,EAJAR,EAAwB,OAAdzZ,EACV,IAAIkT,EAAI,CAAChT,MAAOA,EAAOC,OAAQA,EAAQoT,QAASA,IAChDvT,EAAUW,OAAO,KAyHrB,MAtHU,KAAP+Q,GACDuI,EAAgB,CAAC3C,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC5B,OAAXtX,IAAiBA,EA9BJ,MAgChB8Z,EAAgB,CAAC3C,GAAI,EAAGC,GAAI,EAAGC,GAAI,EAAGC,GAAI,GAC7B,OAAVvX,IAAgBA,EAjCH,KAoClB,SAAwBwO,GACtB,IAAIX,EAAW0L,EAAO9Y,OAAO,QAC1BA,OAAO,kBACL5L,KAAK,KAAM,aAAaglB,GACxBhlB,KAAKklB,GAEVvL,EAAO1d,SAAQ,SAASvE,EAAGL,GACzB2hB,EAASpN,OAAO,QACb5L,KAAK,SAAU3I,GAAKsiB,EAAOlgB,OAAO,IAClCuG,KAAK,aAAc2Z,EAAOA,EAAOlgB,OAAOpC,EAAE,OAKtC8tB,CAAexL,GAEf+K,EAAO9Y,OAAO,KAEHA,OAAO,QAC1B5L,KAAK,QAASmL,EAAMqT,EAAQtR,MAC5BlN,KAAK,SAAUoL,GACf8S,MAAM,OAAO,kBAAoB8G,EAAa,KAE/BN,EAAO9Y,OAAO,QAC7BqZ,IACDA,EAAMrZ,OAAO,QACV5L,KAAK,IAAK4P,EAAI,GAAK,GACnB5P,KAAK,IAAK4P,EAAI,GAAKxE,EAAO,EAAI,GAC9B8S,MAAM,OAAQ,QACdA,MAAM,cAAe,OACrBuB,KAAK2D,GAAY,KAAZA,CAAkB1K,EAAO,KAEjCgM,EAAO9Y,OAAO,QACX5L,KAAK,IAAK4P,EAAI,GAAKzE,EAAQqT,EAAQtR,KAAO,GAC1ClN,KAAK,IAAK4P,EAAI,GAAKxE,EAAO,EAAI,GAC9B8S,MAAM,OAAQ,QACdA,MAAM,cAAe,SAErBuB,KAAK2D,GAAY,KAAZA,CAAkB1K,EAAO,MAGhC1N,EAAOoa,OACRV,EAAO9Y,OAAO,KACXA,OAAO,QACP5L,KAAK,IAAK4P,EAAI,GAAK4O,EAAQrR,KAC3BnN,KAAK,IAAK4P,EAAI,GAAKzE,EAAM,GACzBnL,KAAK,KAAM,OACXke,MAAM,cAAe,UACrBuB,KAAKzU,EAAOoa,OAIf,IAAI,GADI,KAAPzI,EACQ,CACPA,IAAK,IACLjE,OAAQA,EACRzN,UAAWyZ,EACXtE,MAAO,SACPI,MAAO/iB,KAAKC,MAAMyN,EAAQ,IAC1BC,OAAQA,EACRD,MAAOA,EACP+V,SAAU,CAAC5W,EAAG,EAAGD,GAAI,IACrBnB,OAAQA,GAGD,CACPyT,IAAK,IACLjE,OAAQA,EACRzN,UAAWyZ,EACXtE,MAAO,QACPI,MAAO/iB,KAAKC,MAAM0N,EAAS,IAC3BA,OAAQA,EACRD,MAAOA,EACP+V,SAAU,CAAC5W,EAAG,GAAID,GAAI,GACtBqW,aAAc,CAAC,EAAG,GAClBxX,OAAQA,IAOZwb,EAAO9E,UAAUhQ,EAAI,GAAG4O,EAAQtR,KAAM0C,EAAI,GAAG4O,EAAQrR,KA6B9CuX,ECrFa,CAAO,CACjBzZ,UAAWkZ,EACXhZ,MAAO,GACPC,OAAQ,IACRuR,IAAK,IACLjE,OAAQA,EAAO0C,EAAK3P,OACpBmE,IAAK,CAACzE,EAAQqT,EAAQhR,MAAM,EAAG,GAC/BmM,OAAQA,KAIhB,IAAIrP,EAAGD,EAAGgb,EAAQ,GAAIC,EAAQ,GAG9B,GAAG7oB,MAAMC,QAAQ0e,EAAK9Q,GAAI,CACtB,IAAIib,EAAWna,GAAUgQ,EAAK9Q,EAAE7Q,OAAO,GACvCqrB,EAAWxa,EAAEW,UAAYmZ,EACzBhJ,EAAK9Q,EAAErO,SAAQ,SAAStE,EAAGN,GACvBytB,EAAWxa,EAAE6V,SAAW9oB,EAAIkuB,EAAW,EACvCT,EAAWxa,EAAEoO,OAASA,EAAO/gB,GAC1B8D,EAASvC,eAAevB,KACvBmtB,EAAWxa,EAAElK,MAAQ,UACrB0kB,EAAWxa,EAAEsW,UAAY,QACzBkE,EAAWxa,EAAEoO,OAASjd,EAAS9D,GAAG6tB,WAEtC,IAAIC,EAAc,GACT,IAANpuB,GACCytB,EAAWxa,EAAEoW,aAAe,CAAC,GAAI,GACjCoE,EAAWxa,EAAE4W,SAAW,CAAC5W,EAAG,EAAGD,EAAG,GAClCob,EAAc,KAEdX,EAAWxa,EAAEoW,aAAe,KAC5BoE,EAAWxa,EAAE4W,SAAW,MAE5B5W,EAAI,GAAKwa,EAAWxa,GACpB+a,EAAMhuB,GAAKiT,EAEXga,EACC1Y,OAAO,QACL5L,KAAK,IAAK,GACVA,KAAK,IAAK3I,EAAIkuB,EAAWE,GACzBzlB,KAAK,KAAM,OACX6L,IAAI,cAAe,UACnBA,IAAI,YAAa,OACjB4T,KAAK9nB,MAIhB,GAAG8E,MAAMC,QAAQ0e,EAAK/Q,GAAI,CACtB,IAAIkb,EAAWpa,GAASiQ,EAAK/Q,EAAE5Q,OAAO,GACtCqrB,EAAWza,EAAEY,UAAYmZ,EACzBhJ,EAAK/Q,EAAEpO,SAAQ,SAAStE,EAAGN,GACvBytB,EAAWza,EAAE8V,SAAW9oB,EAAIkuB,EAC5BT,EAAWza,EAAEqO,OAASA,EAAO/gB,GAC1B8D,EAASvC,eAAevB,KACvBmtB,EAAWza,EAAEjK,MAAQ,UACrB0kB,EAAWza,EAAEuW,UAAY,QACzBkE,EAAWza,EAAEqO,OAASjd,EAAS9D,GAAG6tB,WAEnCnuB,GAAK+jB,EAAK/Q,EAAE5Q,OAAO,IAClBqrB,EAAWza,EAAEqW,aAAe,CAAC,EAAG,GAChCoE,EAAWza,EAAEiX,eAAiB,QAC9BwD,EAAWza,EAAE6W,SAAW,CAAC5W,EAAG,EAAGD,GAAI,IAGvCA,EAAI,GAAKya,EAAWza,GACpBib,EAAMjuB,GAAKgT,EAEXia,EAAO1Y,OAAO,QACX5L,KAAK,IAAoB,GAAdwe,EAAQrR,KACnBnN,KAAK,IAAK3I,EAAIkuB,GACdvlB,KAAK,KAAM,OACX6L,IAAI,cAAe,UACnBA,IAAI,YAAa,OACjB4T,KAAK9nB,MAIhB,IAAI+tB,EAAa,CACbpb,EAAGkS,EACHnS,EAAGoS,GAEP,IAAI,IAAIE,IAAO,CAAC,IAAK,KACA,WAAdvc,EAAMuc,IAAmC,eAAdvc,EAAMuc,IAC7BxR,EAAQua,EAAW/I,GAAKljB,OAAS,KAChCqrB,EAAWnI,GAAK6D,MAAQkF,EAAW/I,GAAKljB,QAO7C8I,EAAUoa,KACTmI,EAAWnI,GAAK+D,aAAuB,KAAP/D,EAC1B,EAAExR,GAASua,EAAW/I,GAAKljB,OAAO,GAAI,EAAG,GACzC,CAAC,EAAG2R,GAASsa,EAAW/I,GAAKljB,OAAO,GAAI,GAE9CqrB,EAAWnI,GAAKvc,MAAQ,UACxB0kB,EAAWnI,GAAKiE,UAAY,QAC5BkE,EAAWnI,GAAKjE,OAASgN,EAAW/I,GACpCmI,EAAWnI,GAAK6D,MAAQkF,EAAW/I,GAAKljB,QAOhD,IAHI2hB,EAAK9Q,IAAK8Q,EAAKjQ,OAAW1O,MAAMC,QAAQ0e,EAAK9Q,KAAIA,EAAI,GAAKwa,EAAWxa,KACrE8Q,EAAK/Q,IAAK+Q,EAAKhQ,QAAY3O,MAAMC,QAAQ0e,EAAK/Q,KAAIA,EAAI,GAAKya,EAAWza,KAEtE+Q,EAAKliB,eAAe,MAAQkiB,EAAKliB,eAAe,YAAcuD,MAAMC,QAAQ0e,EAAK9Q,GAAI,CACrF,IAAIqb,EAAavK,EAAK9Q,GAAK8Q,EAAKjQ,MAChCmZ,EAAO1Y,OAAO,KACXA,OAAO,QACL5L,KAAK,IAAKmL,EAAM,GAChBnL,KAAK,IAAKoL,EAASoT,EAAQ/Q,OAAO,GAClCzN,KAAK,KAAM,OACX6L,IAAI,cAAe,UACnBA,IAAI,YAAa,SACjBA,IAAI,cAAe,QACnBA,IAAI,kBAAmB,cACvB4T,KAAKkG,GAGd,IAAIvK,EAAKliB,eAAe,MAAQkiB,EAAKliB,eAAe,aAAeuD,MAAMC,QAAQ0e,EAAK/Q,GAAI,CACtF,IAAIub,EAAaxK,EAAK/Q,GAAK+Q,EAAKhQ,OAC5B3O,MAAMC,QAAQ0e,EAAK/Q,IACnBia,EAAO1Y,OAAO,KACXA,OAAO,QACL5L,KAAK,YAAa,eAClBA,KAAK,KAAMwe,EAAQtR,KAAO,MAC1BlN,KAAK,KAAMoL,EAAS,GACpBpL,KAAK,KAAM,OACX6L,IAAI,cAAe,UACnBA,IAAI,YAAa,SACjBA,IAAI,cAAe,QACnBA,IAAI,kBAAmB,cACvB4T,KAAKmG,GAIfhB,IACCV,EAAKtY,OAAO,QACP5L,KAAK,KAAM,GACXA,KAAK,KAAMmL,GACXnL,KAAK,KAAM,GACXA,KAAK,KAAM,GACX6L,IAAI,SAAU,QACnBqY,EAAKtY,OAAO,QACP5L,KAAK,KAAMmL,GACXnL,KAAK,KAAMmL,GACXnL,KAAK,KAAM,GACXA,KAAK,KAAMoL,GACXS,IAAI,SAAU,QACdA,IAAI,iBAAkB,KAG/BqY,EAAKtE,UAAUpB,EAAQtR,KAAKA,EAAMsR,EAAQrR,IAAIA,GAC9CgX,EAAQvE,UAAUpB,EAAQtR,KAAKA,EAAMsR,EAAQrR,IAAIA,GACjDiX,EAAaxE,UAAUpB,EAAQtR,KAAKA,EAAMsR,EAAQrR,IAAIA,GAEtD,IAAI0Y,EAAa,CACjB,YAA0B,SAASC,GAI/B,OAHAxb,EAAE8U,SACF0F,EAAWxa,EAAEoO,OAASoN,EACtBxb,EAAI,GAAKwa,EAAWxa,GACbub,GAEX,YAA0B,SAASC,GAI/B,OAHAzb,EAAE+U,SACF0F,EAAWza,EAAEqO,OAASoN,EACtBzb,EAAI,GAAKya,EAAWza,GACbwb,GAEX,WAAwB,WAEjBP,EAAM7rB,OACL6rB,EAAMrpB,SAAQ,SAAS8pB,GACnBA,EAAG3G,YAEDiG,EAAM5rB,OACZ4rB,EAAMppB,SAAQ,SAAS+pB,GACnBA,EAAG5G,aAGP9U,EAAE8U,SACF/U,EAAE+U,UAGNkF,EAAOlF,WAcX,OAXAyG,EAAWI,WAAa3B,EAExBuB,EAAWK,aAAe,WACnB3B,GACCQ,EAAY3F,UAGpByG,EAAW3a,IAAMgZ,EACjB2B,EAAWvb,EAAI7N,MAAMC,QAAQ0e,EAAK9Q,GAAK+a,EAAQ/a,EAC/Cub,EAAWxb,EAAI5N,MAAMC,QAAQ0e,EAAK/Q,GAAKib,EAAQjb,EAExCwb,ECvQX,SAAS,GAAO9sB,EAAQotB,GACpBpuB,OAAOqD,KAAK+qB,GAAQlqB,SAAQ,SAASrD,GACjCG,EAAOH,GAAOutB,EAAOvtB,MAG7B,IAAIwtB,GAAoB,CACpBjb,MAAO,IACPC,OAAQ,IACRoT,QAAS,CAACtR,KAAM,EAAGM,MAAO,EAAGL,IAAK,EAAGM,OAAQ,IAGlC,SAAS4Y,GAAO1rB,GAI3B,IAAI2rB,EAAMzrB,KACNmQ,EAASrQ,GAAO,GAChBsQ,EAAYD,EAAOC,WAAaoT,SAASkI,KACzCrI,EAAQlT,EAAOkT,OAAS,KAG5BrjB,KAAKsQ,MAAQF,EAAUub,aAAe,IACtC3rB,KAAKuQ,OAASH,EAAUwb,cAAgB,IAEjB,iBAAbxb,IAAuBA,EAAYoT,SAASU,eAAe9T,IACrE,GAAOqb,EAAKF,IACZ,GAAOE,EAAKtb,GAEZnQ,KAAKugB,KAAOpQ,EAAOoQ,KAEnBvgB,KAAKsQ,OAAUtQ,KAAK2jB,QAAQtR,KAAOrS,KAAK2jB,QAAQhR,MAChD3S,KAAKuQ,QAAWvQ,KAAK2jB,QAAQrR,IAAMtS,KAAK2jB,QAAQ/Q,OAIhD5S,KAAK2D,KAAOwM,EAAOxM,MAAQ,GAC3B3D,KAAK6rB,IAAMrI,SAASsI,cAAc,OACrB,OAAVzI,GACCnmB,OAAOqD,KAAK8iB,GAAOjiB,SAAQ,SAAS2qB,GAChCN,EAAII,IAAIxI,MAAM0I,GAAQ1I,EAAM0I,MAIpC/rB,KAAKgsB,KAAO,WAcR,OAXAhsB,KAAK6rB,IAAII,UAAY9b,EAAO8b,WAAa,SACzCjsB,KAAK6rB,IAAIxI,MAAMiC,SAAW,WAC1BtlB,KAAKksB,OACDlsB,KAAKsQ,MAAQtQ,KAAK2jB,QAAQtR,KAAOrS,KAAK2jB,QAAQhR,MAC9C3S,KAAKuQ,OAASvQ,KAAK2jB,QAAQrR,IAAMtS,KAAK2jB,QAAQ/Q,QAG/CzC,EAAOkT,OAAOrjB,KAAKgR,IAAIb,EAAOkT,OAEjCjT,EAAU+T,YAAYnkB,KAAK6rB,KAC3B7rB,KAAKyrB,MACEA,GAGXzrB,KAAKmsB,UAAY,SAASrsB,GAMtB,OAAO,IAAIwjB,EAAI,CACXhT,OANAxQ,EAAMA,GAAO,IACDwQ,OAAStQ,KAAKsQ,MAM1BC,OALSzQ,EAAIyQ,QAAUvQ,KAAKuQ,OAM5BoT,QALU7jB,EAAI6jB,SAAW3jB,KAAK2jB,QAM9BN,MAAO,CAACiC,SAAU,eAI1B,IAAI8G,EAASjc,EAAOic,OAOhBC,GANMrsB,KAAKmsB,YACJhc,EAAOoQ,KACCvgB,KAAK2jB,QACXxT,EAAO0N,OACP1N,EAAOmc,OAENtsB,KAAKmsB,aACfI,EAAWvsB,KAAKmsB,YAiGpB,OA/FAnsB,KAAKwsB,IAAM,SAAS/oB,GAChB,GAAOgoB,EAAKhoB,IAGhBzD,KAAKysB,YAAc,SAASjuB,EAAKutB,GAE7B,OADA,GAAOvtB,EAAKutB,GACLvtB,GAGXwB,KAAKyrB,IAAM,WAIP,OAHAA,EAAII,IAAI1H,YAAYkI,EAAQhc,KAC5Bob,EAAII,IAAI1H,YAAYiI,GACpBX,EAAII,IAAI1H,YAAYoI,EAASlc,KACtBob,GAGXzrB,KAAK0sB,OAAS1sB,KAAKyrB,IAEnBzrB,KAAKgR,IAAM,SAASqS,GAChB,IAAI,IAAItlB,KAAOslB,EACXrjB,KAAK6rB,IAAIxI,MAAMtlB,GAAOslB,EAAMtlB,GAEhC,OAAOiC,MAGXA,KAAKksB,OAAS,SAAS7W,EAAE+M,GACrBpiB,KAAK6rB,IAAIxI,MAAM/S,MAAQ+E,EAAI,KAC3BrV,KAAK6rB,IAAIxI,MAAM9S,OAAS6R,EAAI,MAGhCpiB,KAAK2sB,QAAU,WACX3sB,KAAK4sB,OAAOD,UACZvc,EAAUqU,YAAYzkB,KAAK6rB,KAC3BA,IAAM,MAGV7rB,KAAK6sB,KAAO,WACR7sB,KAAK6rB,IAAIxI,MAAMyJ,QAAU,QAG7B9sB,KAAKynB,KAAO,WACRznB,KAAK6rB,IAAIxI,MAAMyJ,QAAU,SAG7B9sB,KAAKgkB,WAAa,WACd,OAAOhkB,KAAKsQ,OAGhBtQ,KAAKikB,YAAc,WACf,OAAOjkB,KAAKuQ,QAGhBvQ,KAAK+sB,SAAW,SAAS9sB,GACrB,OAAOipB,GAAMqD,EAAUF,EAASpsB,IAGpCD,KAAKgtB,YAAc,SAASC,GACxB,IAAIC,EAAc1J,SAASsI,cAAc,UAGzC,OAFAoB,EAAY5c,MAAQtQ,KAAKsQ,MACzB4c,EAAY3c,OAASvQ,KAAKuQ,OACnB,IAAI4c,SAAQ,SAASC,EAASC,GAEjC,IAAIvhB,EAAMohB,EAAYI,WAAW,MAC7BC,GAAY,IAAIC,eAAgBC,kBAAkBlB,EAASlc,KAE3Dqd,EAASnK,KAAKoK,KAAOpK,KAAKqK,WAAarK,KACvCsK,EAAU,IAAIC,KAAK,CAACP,GAAY,CAACxrB,KAAM,gCACvCgsB,EAASL,EAAOM,gBAAgBH,GAEhCI,EAAc,IAAIC,MAClBC,EAAW,IAAID,MACnBD,EAAYG,OAAS,WACjBtiB,EAAIuiB,UAAUJ,EAAa,EAAG,GAC9BE,EAASG,IAAMP,EACfI,EAASC,OAAS,WACdtiB,EAAIuiB,UAAUF,EAAU,EAAG,GAC3B,IAAII,EAAMrB,EAAYsB,UAAU,aAChCd,EAAOe,gBAAgBF,GACvBnB,EAAQmB,KAIhBN,EAAYS,QAAU,WAClBrB,EAAO3rB,MAAM,0BAGjBysB,EAASO,QAAU,WACfrB,EAAO3rB,MAAM,uBAEjBurB,IACAgB,EAAYK,IAAMlC,EAAOoC,UAAU,iBAKpC/C,EAAIO,OCtLA,MAAM2C,GACnB,aAAY,QAACrK,EAAO,KAAEvnB,IACpBiD,KAAK+N,GAAKuW,EACVtkB,KAAKjD,KAAOA,EACZiD,KAAK+N,GAAGyI,QACNzZ,EACAiD,KAAK+N,GAAG0I,OAAOC,OAAO1W,KAAK2W,cAC3B3W,KAAK+N,GAAG0I,OAAOG,SAAS5W,KAAK6W,iBAIjC,eACElB,YAAcC,KAAK5V,KAAKqM,QAAS,EAAK,GAGxC,iBACKrM,KAAKyU,SAAWzU,KAAK8U,UAAY,KAAQ9U,KAAKyU,SAAWzU,KAAK8U,UAAY,IAC3EgB,aAAe9V,KAAK4uB,WAEpB/Y,QAIJ,OACE,OAAO7V,KAAK+N,GAAGyI,QAAQxW,KAAKjD,MAG9B,SACE,IAAIgR,EAAK/N,KAAK+N,GAAGjC,IACjBiC,EAAG2J,QAAS3J,EAAG4J,OACf5J,EAAG8J,WAAWgX,WAAa9gB,EAAG+J,UAAW,EAAG,IC5BjC,MAAM,WAAkB6W,GACnC,YAAY7uB,GACRgvB,MAAMhvB,GAGV,eACI,IAAItD,EAAGwG,EAAG+rB,EAAMC,EAAMpe,EAAOgO,EAAOze,EAChCke,EAAM,IAAIuB,KAiBd,GAfApjB,GAAKwD,KAAKgO,SAAW,IAAOhO,KAAKoT,SAAS3D,EAC1CzM,GAAKhD,KAAKiO,SAAW,IAAOjO,KAAKoT,SAAS5D,EAElB,GAApBxP,KAAKyO,YACLzO,KAAKyU,QAAUlH,UAAUvN,KAAK6U,eAAgBpH,KAAKjR,EAAGwG,IAAI+C,EAE1D/F,KAAKyU,QAAUzU,KAAK8U,UAGxBia,EAAO/uB,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGhD,KAAK0N,UAAW1N,KAAK2N,UAAW,GAC5DqhB,EAAOhvB,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGhD,KAAK0N,UAAW1N,KAAK2N,UAAW,GAC5DiD,EAAQ5Q,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGhD,KAAK0N,UAAW1N,KAAK2N,WAAY,GAC9DiR,EAAQ5e,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGhD,KAAK0N,UAAW1N,KAAK2N,UAAW3N,KAAKkhB,eAClE/gB,EAAOH,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGhD,KAAK0N,UAAW1N,KAAK2N,UAAW,GAE7B,GAA5B3N,KAAKsiB,iBAAiB,GAAS,CAC9B,IAAIhS,EAAQtQ,KAAKkN,aAAa,GAC9B6hB,EAAO,GAAMze,EAAQye,GAAQze,EAAQ,GAAOA,EAEhD,GAA+B,GAA5BtQ,KAAKsiB,iBAAiB,GAAS,CAC9B,IAAI/R,EAASvQ,KAAKkN,aAAa,GAC/B8hB,EAAO,GAAMze,EAASye,GAAQze,EAAS,GAAOA,EAGlDwe,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,EAEpB3Q,EAAMre,KAAK0f,YAAY1f,KAAKghB,iBAAiB,GAAIpQ,GAC1B,GAAnB5Q,KAAKkvB,YAA4B,GAATte,IACxBgO,EAAQ,GAEZpK,aAAerU,EAAOH,KAAKqhB,UAC3BrhB,KAAK4uB,WAAahZ,KAAKyI,EAAKO,GAC5BjJ,YAAcC,KAAKmZ,EAAMC,EAAM,EAAK,GAGxC,iBACI,IAAIG,EAAQ,IAAIpT,KAEhB,GADAoT,EAAQnvB,KAAKyU,SAAWzU,KAAK8U,UAAY,KAAQ9U,KAAKyU,SAAWzU,KAAK8U,UAAY,IAC7D,GAAjB9U,KAAKovB,SAAe,CACpB,IAAIC,EAAOzwB,OAAO0wB,cAAcC,GAAK9hB,KAAK,GAAK,KAC3C4hB,EAAO,IAAKxZ,QAChB,IACI+I,EAAQ5e,KAAK4uB,WAAW7oB,EAAIypB,WAAW,IAAa,GAAKH,GACzDF,EACArZ,aAAeF,KAAK5V,KAAK4uB,WAAWvQ,IAAMO,EAAOA,GAEjD/I,aAGAsZ,EACArZ,aAAeF,KAAK5V,KAAK4uB,WAAWvQ,IAAMre,KAAK4uB,WAAW7oB,EAAG/F,KAAK4uB,WAAW7oB,GAE7E8P,QAKZ,OAAOgZ,GACH,IAAI5kB,EAAKjK,KAAK+N,GACd9D,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUqC,SAAS9B,SAAU,GACpEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAU+B,UAAUxB,SAAU,GACrEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUsC,SAAS/B,SAAU,GACpEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUgC,UAAUzB,SAAU,GACrEjC,EAAG6B,IAAIC,IAAI2M,yBAAyBmW,EAAW,EAAG5kB,EAAGY,cAAc,GAAIZ,EAAGY,cAAc,KCzEjF,MAAM,WAAgB8jB,GACnC,YAAa7uB,GACXgvB,MAAMhvB,GAGR,eACE,IAAItD,EAAGwG,EAEH+rB,EAAMC,EAAMpe,EAAOgO,EAAOtO,EAAOC,EASjCkf,EAAMC,EAVNrR,EAAM,IAAIuB,KAEdpjB,GAAKmzB,IAAI3vB,KAAKoM,YAAapM,KAAKoT,SAAS3D,GAAK,IAAOzP,KAAKoT,SAAS3D,EACnEzM,GAAKH,MAAM7C,KAAKoM,YAAcpM,KAAKoT,SAAS3D,GAAK,IAAOzP,KAAKoT,SAAS5D,EAEtExP,KAAKyU,QAAUzU,KAAK8U,UAEI,GAApB9U,KAAKyO,cACPzO,KAAKyU,QAAUlH,UAAUvN,KAAK6U,eAAgBpH,KAAKjR,EAAGwG,IAAI+C,GAG5D0pB,EAAOzvB,KAAK4vB,cACZF,EAAO1vB,KAAK6vB,cACZd,EAAO/uB,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,EAAM,GACxCV,EAAOhvB,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,EAAM,GACxC9e,EAAQ5Q,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,GAAO,GAC1C9Q,EAAQ5e,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,EAAM1vB,KAAKkhB,eAC9C5Q,EAAQtQ,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,EAAM1vB,KAAKuiB,eAC9ChS,EAASvQ,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,EAAM1vB,KAAKwiB,gBACxCxiB,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGysB,EAAMC,EAAM1vB,KAAKqhB,WAC7C0N,EAAOA,GAAQ/uB,KAAKkN,aAAalN,KAAKghB,iBAAiB,IAAM,GAAOhhB,KAAKkN,aAAalN,KAAKghB,iBAAiB,IAC5GgO,EAAOA,GAAQhvB,KAAKkN,aAAalN,KAAKghB,iBAAiB,IAAM,GAAOhhB,KAAKkN,aAAalN,KAAKghB,iBAAiB,IAE5G1Q,GAAS,EAA0B,EAApBtQ,KAAKqiB,WAAW5S,EAC/Bc,GAAU,EAA0B,EAApBvQ,KAAKqiB,WAAW7S,EAChCuf,GAAQ/uB,KAAKqiB,WAAW5S,EAAIa,EAC5B0e,GAAQhvB,KAAKqiB,WAAW7S,EAAIe,EAEN,GAAlBvQ,KAAKiM,WAAsC,GAAlBjM,KAAKiM,WAChC8iB,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,GACO,GAAlBhvB,KAAKiM,WACd8iB,EAAc,EAAPA,EAAa,EACpBC,EAAyB,GAAjBA,EAAOze,GAAgB,GACJ,GAAlBvQ,KAAKiM,WAAsC,GAAlBjM,KAAKiM,WACvC8iB,EAAwB,GAAhBA,EAAOze,GAAe,EAC9B0e,EAAyB,GAAjBA,EAAOze,GAAgB,GACJ,GAAlBvQ,KAAKiM,WACd8iB,EAAwB,GAAhBA,EAAOze,GAAe,EAC9B0e,EAAc,EAAPA,EAAa,IAEpBD,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,GAGtB3Q,EAAMre,KAAK0f,YAAY1f,KAAKghB,iBAAiB,GAAIpQ,GAC1B,GAAnB5Q,KAAKkvB,YAA4B,GAATte,IAC1BgO,EAAQ,GAEV5e,KAAK4uB,WAAahZ,KAAKyI,EAAMO,EAAOA,GACpCjJ,YAAcC,KAAKmZ,EAAMC,EAAM,EAAK,GAGtC,iBACMhvB,KAAKyU,SAAWzU,KAAK8U,UAAY,KAAQ9U,KAAKyU,SAAWzU,KAAK8U,UAAY,IAC5EgB,aAAe9V,KAAK4uB,WAEpB/Y,QAGJ,SACE,IAAI5L,EAAKjK,KAAK+N,GACV8gB,EAAY5kB,EAAG6B,IAAIgM,UACnB2X,EAAO,IAAIvwB,aAAa+K,EAAGM,UAC3BmlB,EAAO,IAAIxwB,aAAa+K,EAAGM,UAC/B,IAAI,IAAIiF,EAAI,EAAGA,EAAIvF,EAAGY,cAAc,GAAI2E,IACtC,IAAI,IAAIC,EAAI,EAAGA,EAAIxF,EAAGY,cAAc,GAAI4E,IACtCggB,EAAKjgB,EAAEvF,EAAGY,cAAc,GAAK4E,GAAKxF,EAAG0B,UAAU+B,UAAU/J,KAAK8L,GAC9DigB,EAAKlgB,EAAEvF,EAAGY,cAAc,GAAK4E,GAAKxF,EAAG0B,UAAUgC,UAAUhK,KAAK6L,GAGlEvF,EAAG0B,UAAUikB,cAAgBH,EAC7BxlB,EAAG0B,UAAUkkB,cAAgBH,EAC7BzlB,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUM,UAAUC,SAAU,GACrEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUS,YAAYF,SAAU,GACvEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUikB,cAAc1jB,SAAU,GACzEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUkkB,cAAc3jB,SAAU,GACzEjC,EAAG6B,IAAIC,IAAI2M,yBAAyBmW,EAAW,EAAG,EAAG5kB,EAAGM,WCpF7C,MAAM,WAAkBokB,GACnC,YAAY7uB,GACRgvB,MAAMhvB,GAGV,eACE,IAAItD,EAAGwG,EAEH+rB,EAAMC,EAAYpe,EAAOgO,EADzBP,EAAM,IAAIuB,KAEdpL,aAAexU,KAAKqhB,UACpB7kB,GAAKmzB,IAAI3vB,KAAKoM,YAAapM,KAAKoT,SAAS3D,GAAK,IAAOzP,KAAKoT,SAAS3D,EACnEzM,GAAKH,MAAM7C,KAAKoM,YAAcpM,KAAKoT,SAAS3D,GAAK,IAAOzP,KAAKoT,SAAS5D,EAEtExP,KAAKyU,QAAUzU,KAAK8U,UACG,GAApB9U,KAAKyO,cACJzO,KAAKyU,QAAUlH,UAAUvN,KAAK6U,eAAgBpH,KAAKjR,EAAGwG,IAAI+C,GAEtC,GAArB/F,KAAK8vB,cACJf,EAAO/uB,KAAKmM,aAAaqD,EAAIvQ,MAAMe,KAAK+vB,cAAc,GACtDf,EAAOhvB,KAAKgwB,qBAAqBnxB,IAAImB,KAAKmM,aAAasD,GAAIjT,EAAGwG,KAE9DgsB,EAAO,EAAMhvB,KAAKmM,aAAaqD,EAAIvQ,MAAMe,KAAK+vB,cAAc,GAC5DhB,EAAO/uB,KAAKgwB,qBAAqBnxB,IAAImB,KAAKmM,aAAasD,GAAIjT,EAAGwG,IAElE4N,EAAQ5Q,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGxG,EAAGwG,GAAI,GACpC4b,EAAQ5e,KAAKivB,OAAO,EAAGzyB,EAAGwG,EAAGxG,EAAGwG,EAAGhD,KAAKkhB,eAExC6N,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,EAEpB3Q,EAAMre,KAAK0f,YAAY1f,KAAKghB,iBAAiB,GAAIpQ,GACjD5Q,KAAK4uB,WAAahZ,KAAKyI,EAAIO,EAAOA,GAClCjJ,YAAcC,KAAKmZ,EAAMC,EAAM,EAAK,GAGtC,yBAAyBiB,GACvB,IAAIhmB,EAAKjK,KAAK+N,GACd,GAAGnM,MAAMC,QAAQouB,GAAI,CACjB,IAAIC,EAAK,IAAIhxB,aAAuB,EAAV+wB,EAAGrxB,QAC7BqxB,EAAG7uB,SAAQ,SAASe,EAAG3F,GACnB0zB,EAAK,EAAF1zB,GAAOyN,EAAGc,OAAOtJ,QAAQU,GAC5B+tB,EAAK,EAAF1zB,EAAI,GAAKA,KAEhByN,EAAG0B,UAAUQ,aAAe+jB,EAC5BjmB,EAAGsC,QAAQwjB,cAAgBE,EAAGrxB,QAIpC,OAAOiwB,GACL,IAAI5kB,EAAKjK,KAAK+N,GACd9D,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUQ,aAAaD,SAAU,GACxEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUS,YAAYF,SAAU,GACvE,IAAI9L,EAAQ6J,EAAG0B,UAAUQ,aAAaxI,KAAK/E,OAASqL,EAAG0B,UAAUQ,aAAahM,KAC9E8J,EAAG6B,IAAIC,IAAI2M,yBAAyBmW,EAAW,EAAGzuB,EAAO6J,EAAGM,WC5ClE,MAAM4lB,GAAc,CAAC,QAAS,QAAS,QAAS,OAAQ,OAClDC,GAAW,CAAC,MAAO,SAAU,OAAQ,QAE5B,SAASC,GAAUpmB,GAE9B,IAAIuW,EfCO,SAAevW,GAC1B,IAAIuW,EAAe,GAiDnB,OA/CAvW,EAAGsC,QAAQ,aAAoB,MAAS,GACnCA,QAAQ,cAAkB,MAjBf,IAkBXA,QAAQ,YAAkB,OAAS+S,EAAclB,IAEjD1R,QAAQ,iBAAkB,QAASmS,EAAeV,GAAY,CArB/C,IAqBiE,GAAI,QACpFlR,WAAW,cAAe,OAASyS,GAExCc,EAAa8P,aAAe,SAASC,GACV,iBAAbA,GAAyB,EAAalyB,eAAekyB,GAC3DpS,EAAW,EAAaoS,GAClB3uB,MAAMC,QAAQ0uB,KACpBpS,EAAWoS,GAEf,IAAIvR,EAAgBH,EAAeV,GACnClU,EAAGyC,QAAQsT,eAAiBhB,GAIhCwB,EAAagQ,YAAc,SAAS1R,GAChCV,EAAWU,EACX7U,EAAGsC,QAAQ6T,UAAUzc,KAAO2b,EAAcR,IAG9C0B,EAAajB,WAAarB,EAAgB3X,KAAI,SAAS7I,GACnD,OAsDR,SAAkBb,GACd,IAAIS,EAAIT,EAAE,GACN4zB,EAAI5zB,EAAE,GACNmJ,EAAInJ,EAAE,GAEV,GAAIS,EAAI,KAAOmzB,EAAI,KAAOzqB,EAAI,IAC1B,KAAM,0BAEV,OAAQ,IAAM1I,GAAGyrB,SAAS,IAAI2H,OAAO,KAAM,GAAK,KAAOD,GAAK,IAAOzqB,GAAK,EAJhE,GAIwE+iB,SAAS,IAAI2H,OAAO,GA9DzFC,CAASjzB,MAGpB8iB,EAAaoQ,UAAY,WACrB,OAA4B,GAAzB3mB,EAAGsC,QAAQwT,WACH3B,EAEAD,GAIfqC,EAAaqQ,aAAe,SAAS/R,EAAQgS,GAEzCtQ,EAAa8P,aAAaxR,GAAUb,GACpCuC,EAAagQ,YAAY1R,GAAUZ,GAChC7T,OAAOC,UAAUwmB,KAChB7mB,EAAGsC,QAAQwT,WAAWpc,KAAOmtB,IAIrCtQ,EAAanC,IAAMA,EACnBmC,EAAa7B,KAAOA,EAEb6B,EenDY,CAAOvW,GACtB8mB,EAAe9mB,EAAG0Z,SAAW,CAACtR,KAAM,EAAGM,MAAO,EAAGL,IAAK,EAAGM,OAAQ,GACjEgF,EAAW3N,EAAG2N,SAEdoZ,EAAM,IAAI,GAAO,CACjB5gB,UAAWnG,EAAGmG,UACdE,MAAOsH,EAAS,GAAKmZ,EAAa1e,KAAO0e,EAAape,MACtDpC,OAAQqH,EAAS,GAAKmZ,EAAaze,IAAMye,EAAane,OACtDwZ,OAAQniB,EAAGmiB,OACXzI,QAASoN,IAGb9mB,EAAGsC,QAAQ,mBAAqB,MAAS,IAAI3K,MAAMye,EAAiBzhB,QAAQoJ,MAAM,IAC7EuE,QAAQ,kBAAmB,QAAW,IAAI3K,MAAMye,EAAiBzhB,QAAQoJ,KAAK,IAC9EuE,QAAQ,WAAmB,OAAStC,EAAG2N,UACvCrL,QAAQ,WAAmB,MAAS,GACpCA,QAAQ,eAAmB,MAAS,GACpCA,QAAQ,cAAmB,OAAStC,EAAGqC,aAAa/F,IAAIzJ,GAAGA,EAAEqL,UAC7DoE,QAAQ,YAAmB,OAAS,CAAC,EAAK,IAC1CA,QAAQ,aAAmB,OAAS,CAAC,EAAK,IAC1CA,QAAQ,gBAAmB,MAAS,GACpCA,QAAQ,YAAmB,QAAS,IACpCA,QAAQ,aAAmB,OAAS,CAAC,IAAM,MAC3CA,QAAQ,gBAAmB,QAAS,GACpCA,QAAQ,gBAAmB,QAAS,EAAMtC,EAAG2N,SAAS,IACtDrL,QAAQ,iBAAmB,QAAS,EAAMtC,EAAG2N,SAAS,IACtDrL,QAAQ,WAAmB,OAAS,CAAC,EAAG,EAAG,EAAG,IAC9CA,QAAQ,gBAAmB,OAAS,CAAC,GAAK,EAAG,IAC7CA,QAAQ,iBAAoB,MAAQ,GACpCA,QAAQ,aAAgB,MAAQ,GAChCA,QAAQ,aAAmB,MAAS,GACpCA,QAAQ,mBAAmB,QAAS,CAAC,EAAG,IACxCE,QAAQ,aAAmB,QAEhC,IAAIwkB,ECjDO,SAAgBhnB,GAC3BA,EAAGsC,QAAQ,cAAe,MAAO,GAC5BI,YAAY,eAAgB,QAAS1C,EAAG2N,UACxCjL,YAAY,WAAY,QAAS,CAAC,EAAG,IAE1C,IAAIukB,EAAS,IAAIhyB,aAAa+K,EAAG2N,SAAS,IAAIrR,IAAI,CAACzJ,EAAGN,IAAMA,GACxD20B,EAAS,IAAIjyB,aAAa+K,EAAG2N,SAAS,IAAIrR,IAAI,CAACzJ,EAAGN,IAAMA,GAE5DyN,EAAG0B,UAAU,SAAU,QAASulB,GAChCjnB,EAAG0B,UAAU,SAAU,QAASwlB,GAChClnB,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUulB,OAAOhlB,SAAU,GAClEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUwlB,OAAOjlB,SAAU,GAElE,IAAIsO,EAAKvQ,EAAGwM,OAAOC,QAAO,WACtB,IAAIla,EAAGwG,EACPxG,GAAKwD,KAAKkxB,OAAO,IAAOlxB,KAAKoxB,SAAS3hB,EACtCzM,GAAKhD,KAAKmxB,OAAO,IAAOnxB,KAAKoxB,SAAS5hB,EACtCxP,KAAK4uB,WAAarhB,UAAUvN,KAAKqxB,aAAc5jB,KAAKjR,EAAGwG,IACvD2S,YAAcC,KAAK,EAAK,EAAK,EAAK,MAGlC6E,EAAKxQ,EAAGwM,OAAOG,UAAS,WACxBd,aAAe9V,KAAK4uB,cAGxB3kB,EAAGuM,QAAQ,kBAAmBgE,EAAIC,GAElC,IAAI6W,EAAMrnB,EAAGwM,OAAOC,QAAO,WACtBf,YAAcC,KAAK5V,KAAKqM,QAAS,EAAG,MAGrCklB,EAAMtnB,EAAGwM,OAAOG,UAAS,WACzB,IAAInH,EAAGD,EAAGzJ,EACNtI,EAAQ,IAAI+zB,KAChB/hB,GAAKwG,aAAaxG,EAAE,IAAOzP,KAAKoxB,SAAS3hB,EACzCD,GAAKyG,aAAazG,EAAE,IAAOxP,KAAKoxB,SAAS5hB,EAG3B,IAFd/R,EAAQ8P,UAAUvN,KAAKqxB,aAAc5jB,KAAKgC,EAAGD,KAEpCzJ,GAAU8P,QAEnB9P,EAA6C,GAAzCsC,IAAK5K,EAAMsI,EAAI/F,KAAKyxB,SAAS1rB,EAAI,KAAc,GAG5B,GAApB/F,KAAKohB,YACJtL,aAAeF,KAAK5V,KAAK8f,cAAc/Z,EAAGA,GAE1C+P,aAAeF,KAAKrI,UAAUvN,KAAKggB,eAAgBvS,KAAK,EAAG1H,EAAG,IAAMsY,IAAIre,KAAKkhB,cAAelhB,KAAKkhB,kBAIzGjX,EAAGuM,QAAQ,aAAc8a,EAAKC,GAE9B,IAAIG,GAAoB,EAExB,OAAO,SAASzxB,GACZ,IAAI8N,EACA4jB,EAAY1xB,EAAQ0xB,UACpBC,EAAU3xB,EAAQ6hB,IAClB9S,EAAS/O,EAAQ+O,QAAU,CAAC,EAAG,GAC/B2U,EAAU1jB,EAAQ0jB,SAAW,CAACtR,KAAM,EAAGM,MAAO,EAAGN,KAAM,EAAGM,MAAM,GAEpE,IAAI1I,EAAG2P,QAAS,CAER8X,IACAA,GAAoB,EACpBznB,EAAG0C,YAAY,WAAY,QAAS,CAAC,EAAG1C,EAAG4nB,MAAMjzB,UAGrD,IAAIkzB,EAAU,CACV9iB,EAAO,GAAK2U,EAAQtR,KACpBpI,EAAG2N,SAAS,GAAKga,EAAQ,GAAKjO,EAAQ/Q,OAAS5D,EAAO,IAEtD+iB,EAAO,CACPH,EAAQ,GAAKjO,EAAQtR,KAAOsR,EAAQhR,MACpCif,EAAQ,GAAKjO,EAAQrR,IAAMqR,EAAQ/Q,QAGvC3I,EAAG0B,UAAUulB,OAASpnB,EAASgoB,EAAQ,GAAIA,EAAQ,GAAKC,EAAK,GAAK,GAClE9nB,EAAG0B,UAAUwlB,OAASrnB,EAASgoB,EAAQ,GAAIA,EAAQ,GAAKC,EAAK,GAAK,GAClEhkB,EAAK9D,EAAGuM,QAAQ,mBAEhBvM,EAAG0C,YAAYoL,WAAW,gBAC1B9N,EAAG6F,gBAAgB,YAEnB7F,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUU,QAAQH,SAAU,GACnEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUulB,OAAOhlB,SAAU,GAClEjC,EAAG6B,IAAIC,IAAIC,yBAAyB/B,EAAG0B,UAAUwlB,OAAOjlB,SAAU,GAGlE6B,EAAG2J,QAAQ3J,EAAGiK,WACdjK,EAAG2J,QAAQ3J,EAAGkK,YACdlK,EAAGmK,OAAQnK,EAAG4J,OACd5J,EAAGoK,UAAWpK,EAAGqK,IAAKrK,EAAGqK,KACzBrK,EAAGsK,cAActK,EAAG0K,SACpB1K,EAAG6J,SAAS,EAAG+Z,EAAW,EAAG,GAC7B5jB,EAAGhC,IAAI2M,yBACH3K,EAAG4K,OACH,EACAoZ,EAAK,GACLA,EAAK,IAET,IAAIptB,EAAM,IAAIzF,aAAa,GAC3B6O,EAAGgC,WAAW,EAAG4hB,EAAW,EAAG,EAAG5jB,EAAGiC,KAAMjC,EAAGuM,MAAO3V,GAKrDsF,EAAG4nB,MAAMF,GAAWK,QAAUrtB,EAGlCsF,EAAGsC,QAAQklB,SAAWxnB,EAAG4nB,MAAMF,GAAWK,QAE1C/nB,EAAG6F,gBAAgB,OACnB/B,EAAK9D,EAAGuM,QAAQ,eACbzK,IAAIC,yBAAyB/B,EAAG0B,UAAUU,QAAQH,SAAU,GAC/DjC,EAAG0C,YAAYoL,WAAW,gBAE1BhK,EAAG6J,SACC5I,EAAO,GAAK2U,EAAQtR,KAEpBpI,EAAG2N,SAAS,GAAKga,EAAQ,GAAKjO,EAAQ/Q,OAAS5D,EAAO,GACtD4iB,EAAQ,GAAKjO,EAAQtR,KAAOsR,EAAQhR,MACpCif,EAAQ,GAAKjO,EAAQrR,IAAMqR,EAAQ/Q,QAGvC7E,EAAG2J,QAAS3J,EAAG4J,OAGf5J,EAAG8J,WAAW9J,EAAG+J,UAAW,EAAG,ID/ErBma,CAAOhoB,GAErBA,EAAG0C,YAAY,eAAgB,QAAS1C,EAAG2N,UAI3C3N,EAAG6F,gBAAgB,gBACnB7F,EAAG6B,IAAIwL,WAAY,EAAK,EAAK,EAAK,GAClCrN,EAAG6B,IAAIyL,MAAOtN,EAAG6B,IAAI0L,iBAAmBvN,EAAG6B,IAAI2L,kBAC/CxN,EAAG6F,gBAAgB,MACnB7F,EAAGgD,WAAW,SAAU,QAAS,EAAYgiB,QAC7ChlB,EAAGgD,WAAW,uBAAwB,QAAS,EAAY+iB,sBAE3D,IAAIkC,EAAY,CACZC,UAAW,IAAI,GAAU,CAAC7N,QAASra,EAAIlN,KAAM,cAC7Cq1B,QAAS,IAAI,GAAQ,CAAC9N,QAASra,EAAIlN,KAAM,YACzCs1B,WAAY,IAAI,GAAY,CAAC/N,QAASra,EAAIlN,KAAM,gBAGpD,OAAO,SAASkD,GACZgK,EAAGkX,eAAgB,EACnB,IAiBImR,EAjBAC,EAAW,YACXhS,EAAOtgB,EAAQsgB,MAAQ,GACvBiB,EAAOvhB,EAAQuhB,MAAQjB,EAAKiB,MAAQ,SACpCmQ,EAAY1xB,EAAQ0xB,UAEpBa,EAAY,GACZC,EAAelS,EAAK3I,UAAY,CAAC3N,EAAG4nB,MAAMF,GAAWrhB,MAAOrG,EAAG4nB,MAAMF,GAAWphB,SAAWqH,EAC3FtH,EAAQmiB,EAAa,GACrBliB,EAAUkiB,EAAa,GACvB9O,EAAUpD,EAAKoD,SAAW1Z,EAAG4nB,MAAMF,GAAWhO,SAAWoN,EACzD/hB,EAASuR,EAAKvR,QAAU/E,EAAG4nB,MAAMF,GAAW3iB,QAAU,CAAC,EAAG,GAC1D0jB,EAAapS,EAAOrW,EAAIsW,EAAMC,GAE9BmS,EAAK1oB,EAAG4nB,MAAMF,GACdiB,EAAqC,iBAAjBrS,EAAW,OAAkBA,EAAKzB,OAAS6T,EAAG/hB,MAElEkgB,EAAY,EAGZxP,EAAc,CACdzD,OAAQ2U,EACRznB,OAAQd,EAAGc,OACXwV,KAAMA,EAEN3f,SAAUqJ,EAAGrJ,SACb+iB,QAASA,EACTtR,KAAMrD,EAAO,GACbsD,IAAMtD,EAAO,GACb8P,OAAQ0B,EAAaoQ,aAGzBtP,EAAcpkB,OAAO21B,OAAOvR,EAAaoR,GACzCpR,EAAcpkB,OAAO21B,OAAOvR,EAAarX,EAAG4nB,MAAMF,IAE9C1nB,EAAG2P,SAwCoB,IAApB+Y,EAAGG,eACFH,EAAGzJ,MAAM6J,YAAYJ,EAAG9tB,QAAQ0b,EAAK9Q,IACrCkjB,EAAGzJ,MAAM8J,YAAYL,EAAG9tB,QAAQ0b,EAAK/Q,MAzCzCvF,EAAGc,OAAO3J,SAAQ,SAASe,EAAG3F,GAC1Bg2B,EAAUrwB,GAAK8H,EAAGqC,aAAa9P,GAAG2L,WAEnCoY,EAAK0S,OACDhpB,EAAGc,OAAOtJ,QAAQ8e,EAAKjQ,QAAU,IAChCkiB,EAAUjS,EAAKjQ,OAAO,GAAK,GAE5BrG,EAAGc,OAAOtJ,QAAQ8e,EAAKhQ,SAAW,IACjCiiB,EAAUjS,EAAKhQ,QAAQ,GAAK,GAE7BtG,EAAGc,OAAOtJ,QAAQ8e,EAAK/Q,IAAM,IAC5BgjB,EAAUjS,EAAK/Q,GAAG,GAAK,IAK/BmjB,EAAG9tB,QAAU2tB,GAEO,IAAhBjS,EAAKxP,QAAqB4hB,EAAGt0B,eAAe,WAC5Cs0B,EAAGzJ,MAAM7Y,IAAIkU,SACboO,EAAGzJ,MAAMgK,cAEbP,EAAGzJ,MAAQ8H,EAAIjE,SAASzL,GACxBqR,EAAGtiB,IAAMsiB,EAAGzJ,MAAM7Y,IAAI+T,OACG,iBAAhB,IACFxiB,MAAMC,QAAQ+wB,GACbN,EAAWM,GAERA,EAAUv0B,eAAe,iBACxByyB,EAAa8B,EAAqB,YAAI,EAAI,GAE9CN,EAAWM,EAAUtsB,OAASssB,EAAU9uB,SAIhD0c,EAAaqQ,aAAayB,EAAUxB,IASxC7mB,EAAGsC,QAAQ0T,YAAYtc,KAAOzG,OAAOqD,KAAKoyB,EAAG9tB,SAAS0B,IAAIpE,GAAGwwB,EAAG9tB,QAAQ1C,IACxE8H,EAAGsC,QAAQ6iB,SAASzrB,KAAOysB,GAAS3uB,QAAQ+f,GAC5CvX,EAAGsC,QAAQuW,eAAenf,KAAQ4c,EAAY,QAAI,EAAI,EACtDtW,EAAGsC,QAAQ2iB,WAAWvrB,KAAQ4c,EAAc,UAAI,EAAI,EAGjD3e,MAAMC,QAAQ0e,EAAK9Q,IAAM7N,MAAMC,QAAQ0e,EAAK/Q,IAC3C+iB,EAAW,aACR3wB,MAAMC,QAAQ0e,EAAK9Q,GAElBxF,EAAGsC,QAAQujB,aAAe,EACpBluB,MAAMC,QAAQ0e,EAAK/Q,KACzBvF,EAAGsC,QAAQujB,aAAe,GAE9BoC,EAAUK,GAAUY,yBAAyB5S,EAAK9Q,GAClDyiB,EAAUK,GAAUY,yBAAyB5S,EAAK/Q,IAC5C+Q,EAAKiB,OAAgD,IAAxC,CAAC,OAAQ,OAAO/f,QAAQ8e,EAAKiB,QAChD+Q,EAAW,WAGf,IAAIxkB,EAAKmkB,EAAUK,GAAUa,OAC7BnpB,EAAG0C,YAAYoL,WAAW,kBAC1B9N,EAAG0C,YAAYoL,WAAW,kBAC1B9N,EAAG0C,YAAYoL,WAAWwI,EAAK8S,IAAM,iBAElCppB,EAAGkX,eACFlX,EAAG6F,gBAAgB,gBACnB/B,EAAGuJ,WAAY,EAAK,EAAK,EAAK,GAC9BvJ,EAAGwJ,MAAOxJ,EAAGyJ,iBAAmBzJ,EAAG0J,kBACnC1J,EAAGoK,UAAUpK,EAAGqK,IAAKrK,EAAGqK,OAExBnO,EAAG6F,gBAAgB,MAEnB/B,EAAGoK,UAAWpK,EAAGqK,IAAKrK,EAAGulB,sBAG7BvlB,EAAG6J,SACC5I,EAAO,GAAK2U,EAAQtR,KACpBuF,EAAS,GAAKrH,EAASoT,EAAQ/Q,OAAS5D,EAAO,GAC/CsB,EAAQqT,EAAQtR,KAAOsR,EAAQhR,MAC/BpC,EAASoT,EAAQrR,IAAMqR,EAAQ/Q,QAEnC7E,EAAG2J,QAAQ3J,EAAGiK,WACdjK,EAAG2J,QAAQ3J,EAAGkK,YACdlK,EAAGmK,OAAOnK,EAAG4J,OACb5J,EAAGsK,cAActK,EAAGuK,UAEpB,IAAIuW,EAAY9gB,EAAG4K,OA+BnB,GA7BW,QAAR6I,IACCqN,EAAY9gB,EAAGwlB,WACfxlB,EAAGylB,UAAUjT,EAAKpgB,MAAQ,IbzMvB,kBACb,IAAI+oB,EAAQjf,EAAG4nB,MAAMF,GACjBrhB,EAAQ4Y,EAAM5Y,MACdC,EAAS2Y,EAAM3Y,OACfoT,EAAUuF,EAAMvF,QAEpB1Z,EAAGwpB,WAAWryB,QAAS2K,IACrB,GAAIA,EAAI2nB,UAAU/2B,KAAK,KAAM4jB,GAAO,CAClC,IAAIoT,EAAc,GAClBz2B,OAAOqD,KAAKsE,GAASzD,QAAQe,IAC3B,GAAI8H,EAAG1I,aAAalD,eAAe8D,GAAI,CACrC,IAAIyxB,EAAO3pB,EAAG1I,aAAaY,GAAGvD,OAAS,EACvC+0B,EAAYxxB,GAAK,CAAC8H,EAAG1I,aAAaY,GAAG,GAAI8H,EAAG1I,aAAaY,GAAGyxB,SACpD3pB,EAAGrJ,SAASvC,eAAe8D,GACnCwxB,EAAYxxB,GAAK8H,EAAGrJ,SAASuB,GAE7BwxB,EAAYxxB,GAAK0C,EAAQ1C,KAI7B8H,EAAG4pB,WAAa9nB,EAAI+nB,YACpB,IAAInwB,EAAO,CACTowB,KAAM,KACNnwB,MAAO,KACP8I,QAAS,KACT6T,KAAMA,EACNxV,OAAQd,EAAGc,OACXrK,OAAQuJ,EAAGG,WACXvF,QAAS8uB,GAGPK,EAAO92B,OAAO21B,OAAO,GAAI3J,GAC7B8K,EAAK1jB,MAAQA,EAAQqT,EAAQtR,KAAOsR,EAAQhR,MAC5CqhB,EAAKzjB,OAASA,EAASoT,EAAQrR,IAAMqR,EAAQ/Q,OAC7CohB,EAAKC,UAAY1T,EACjByT,EAAK3jB,IAAM6Y,EAAMA,MAAM7Y,IAAIA,IAC3B2jB,EAAK5H,OAASniB,EAAGmiB,OAEbrgB,EAAImoB,aACNvwB,EAAKowB,KAAO9pB,EAAGkqB,aAAa,CAAC9lB,OAAQ,MAAOC,UAAWiS,EAAK8S,MAGnC,mBAAhBtnB,EAAIqoB,SACbroB,EAAIqoB,QAAQz3B,KAAKsN,EAAItG,EAAMqwB,GAG7B,IAAIK,EAAyB,SAAZtoB,EAAIhK,KACjB,SAAU4B,EAAMqwB,GAEhB,OADA9K,EAAMG,KAAO,IAAItd,EAAIuoB,SAAS3wB,EAAMqwB,GAC7B9K,EAAMG,MAEbtd,EAAIuoB,SAEJvoB,EAAIwoB,gBACNF,EAAU13B,KAAKoP,EAAKpI,EAAMqwB,GAErB/pB,EAAG2P,SACNya,EAAU13B,KAAKoP,EAAKpI,EAAMqwB,MamJ5BQ,CAAOvqB,EAAIsW,EAAMoR,EAAWa,IAEzBvoB,EAAG4pB,YAActT,EAAKkU,WACrB9B,EAAGzJ,MAAMgK,cAC2B,IAAjCjpB,EAAGc,OAAOtJ,QAAQ8e,EAAK3P,QAAa+hB,EAAGzJ,MAAMmC,gBAGhDphB,EAAG4pB,WAGC5pB,EAAG2P,UACH7L,EAAGuJ,WAAY,EAAK,EAAK,EAAK,GAC9BvJ,EAAGwJ,MAAOxJ,EAAGyJ,iBAAmBzJ,EAAG0J,mBAJvCya,EAAUK,GAAU7F,OAAOmC,GAO/B5kB,EAAG4pB,YAAa,EACb5pB,EAAGkX,eAAe8P,EAAQ,CACzBU,UAAWA,EACX7P,IAAK,CAACxR,EAAOC,GACbvB,OAAQA,EACR2U,QAASA,IAEb1Z,EAAG6F,gBAAgB,OAEf7F,EAAG2P,QAAS,CACE1c,OAAOqD,KAAKggB,GACrBnZ,QAAO,SAASstB,GAAM,OAAqC,IAA9BvE,GAAY1uB,QAAQizB,MAE9CtzB,SAAQ,SAASuzB,GACrB,IAAIC,EAAW,GACXC,EAAStU,EAAK3U,IAAM3B,EAAG4nB,MAAMF,GAAW/lB,GAC5CgpB,EAASC,GAAUtU,EAAKoU,GACxB,IAAIG,EAAkB53B,OAAO21B,OAAO,CAChC3N,MAAOyP,EACP9X,KAAMgY,EACND,SAAUA,GACXrU,EAAKoU,IACR1qB,EAAG8qB,aAAajzB,KAAKgzB,QE1OtB,QACXve,UAAA,EACAxH,MAAA,EACAimB,OCRW,SAAgB/qB,EAAI+O,GAEjC,IAAIgc,EAAS,GACTnqB,EAAgBZ,EAAGsC,QAAQ6G,SAASzP,KACpCsH,EAAYhB,EAAGsC,QAAQe,aAAa3J,KACpCsxB,EAAgB/3B,OAAOqD,KAAKyY,GAE5BjO,EAASd,EAAGc,OAChB,GAAGkqB,EAAcr2B,OAASqL,EAAGgB,UAC3B,MAAMvJ,MAAM,kCAAoCuI,EAAGgB,UAAY,mBAGjEhB,EAAGgD,WAAW,OAAQ,QAASyN,GAC/BzQ,EAAGgD,WAAW,QAAS,QAAS8N,GAChC9Q,EAAGgD,WAAW,OAAQ,QAAS2N,GAC/B3Q,EAAGgD,WAAW,YAAa,QAAS6N,GAEpC,IAAIoa,EAAQ,KAEZD,EAAc7zB,SAAQ,SAAStE,EAAGN,GAChC,IAAI24B,EAAK,IAAIC,OAAO,IAAIrqB,EAAO+Y,KAAK,KAAK,IAAI,KAEzCuR,EAAUrc,EAAKlc,GAAGomB,QAAQiS,GAAI,SAASG,GAGzC,MAAO,2BADKvqB,EAAOtJ,QAAQ6zB,GACkB,qBAE/CJ,GAAS,gBAAkB14B,EAAI,YAAc64B,EAAU,kBAGzDH,EAAQA,EAAMhS,QAAQ,MAAO,SAAW,eAExCjZ,EAAGsC,QAAQ,WAAY,QAAS,GAC7BA,QAAQ,YAAa,MAAO,GAC5BU,WAAW,kBAAmB,QAAS,IAAIsoB,SAAS,aAAc,YAAaL,IAmClF,IAAI1a,EAAKvQ,EAAGwM,OAAOC,QAjCnB,WAGE,IAAIla,EAAGwG,EAUHyM,EAAGD,EAZPgF,aAAe,EAIfhY,GAAKwD,KAAKgO,SAAS,IAAOhO,KAAKoT,SAAS3D,EACxCzM,GAAKhD,KAAKiO,SAAS,IAAOjO,KAAKoT,SAAS5D,EAExCxP,KAAKyU,QAAUzU,KAAKw1B,gBAAgBx1B,KAAKy1B,UAAWhoB,KAAKjR,EAAGwG,IACrC,GAApBhD,KAAKyO,aAC6C,GAAhDlB,UAAUvN,KAAK6U,eAAgBpH,KAAKjR,EAAGwG,IAAI+C,IAC5C/F,KAAKyU,QAAU,GAGC,GAAjBzU,KAAK01B,UACNjmB,EAAI,GACJD,EAAI,KAEJC,EAAQ,EAAJjT,EAAU,EACdgT,EAAQ,EAAJxM,EAAU,GAGhB2S,YAAcC,KAAKnG,EAAGD,EAAG,EAAK,MAY9BiL,EAAKxQ,EAAGwM,OAAOG,UATjB,WACqB,GAAhB5W,KAAKyU,SAAgBoB,QACrB7V,KAAK01B,SAAW,GAAO11B,KAAKyU,SAAW,EACxCqB,aAAeF,KAAK,EAAK,EAAK,EAAK5V,KAAKyU,SAExCqB,aAAeF,MAAM,EAAK5V,KAAKyU,QAAS,EAAK,MAK/C1G,EAAK9D,EAAG0rB,cAAc,SAAUnb,EAAIC,GAOtC,SAASmD,IACP,IAAI7P,EAAK9D,EAAGuM,QAAQ,UACpBvM,EAAG0C,YAAYoL,WAAW,kBAC1B9N,EAAG6F,gBAAgB,kBACnB/B,EAAG2J,QAAQ3J,EAAGiK,WACdjK,EAAG2J,QAAQ3J,EAAGkK,YACdlK,EAAGmK,OAAQnK,EAAG4J,OACd5J,EAAGoK,UAAWpK,EAAGqK,IAAKrK,EAAGqK,KACzBrK,EAAGhC,IAAIC,yBAAyB/B,EAAG0B,UAAUqC,SAAS9B,SAAU,GAChE6B,EAAGhC,IAAIC,yBAAyB/B,EAAG0B,UAAUsC,SAAS/B,SAAU,GAE7DjC,EAAGnJ,QAAQlC,OAAS,GACrBmP,EAAGhC,IAAIC,yBAAyB/B,EAAG0B,UAAU+B,UAAUxB,SAAU,GAEhEjC,EAAGnJ,QAAQlC,OAAS,GACrBmP,EAAGhC,IAAIC,yBAAyB/B,EAAG0B,UAAUgC,UAAUzB,SAAU,GACnEjC,EAAGsC,QAAQmpB,SAAW,EAEtB,IAAIrqB,EAAgB,GAyCpB,OAxCA4pB,EAAc7zB,SAAQ,SAAStE,EAAGN,GAChCyN,EAAGsC,QAAQkpB,UAAYj5B,EACvBuR,EAAGuJ,WAAY,EAAK,EAAK,EAAK,GAC9BvJ,EAAGwJ,MAAOxJ,EAAGyJ,iBAAmBzJ,EAAG0J,kBACnC1J,EAAG6J,SAAS,EAAG,EAAG,EAAI,GAEtB,IAAIzR,EAAS,IAAIjH,aAAa,GAE9B6O,EAAGsK,cAActK,EAAG0K,SACpB1K,EAAGhC,IAAI2M,yBAAyB3K,EAAG4K,OAAQ,EAAG9N,EAAc,GAAIA,EAAc,IAG9EkD,EAAG6J,SAAS,EAAG,EAAG,EAAI,GACtB7J,EAAGhC,IAAI2M,yBAAyB3K,EAAG4K,OAAQ,EAAG9N,EAAc,GAAIA,EAAc,IAE9EkD,EAAGsK,cAActK,EAAGyK,SACpBzK,EAAGhC,IAAI2M,yBAAyB3K,EAAG4K,OAAQ,EAAG9N,EAAc,GAAIA,EAAc,IAC9EkD,EAAGgC,WAAW,EAAG,EAAG,EAAG,EAAGhC,EAAGiC,KAAMjC,EAAGuM,MAAOnU,GAE7C,IAAIuV,EAAYvV,EAAO,GAAK,EAAKA,EAAO,GAAKA,EAAO,GAClDwV,EAAYxV,EAAO,GAAK,EAAKA,EAAO,GAAKA,EAAO,GAClDkF,EAAc7O,GAAK,CAACkf,EAAUC,MAIhC5N,EAAG6J,SAAS,EAAG,EAAG/M,EAAc,GAAIA,EAAc,GAAGI,GACrD8C,EAAG2J,QAAS3J,EAAG4J,OACf5J,EAAGuJ,WAAY,EAAK,EAAK,EAAK,GAC9BvJ,EAAGwJ,MAAOxJ,EAAGyJ,iBAAmBzJ,EAAG0J,kBAEnCxN,EAAGsC,QAAQmpB,SAAW,EAEtBT,EAAc7zB,SAAQ,SAAStE,EAAGN,GAChCyN,EAAGsC,QAAQkpB,UAAYj5B,EACvBuR,EAAG6J,SAAS,EAAG/M,EAAc,GAAGrO,EAAGqO,EAAc,GAAIA,EAAc,IACnEkD,EAAGhC,IAAI2M,yBAAyB3K,EAAG4K,OAAQ,EAAG9N,EAAc,GAAIA,EAAc,OAGhFkD,EAAG+B,gBAAgB/B,EAAG+K,YAAa,MAE5BzN,EAoCT,OAjCA2pB,EAAOjc,QAAU,SAASC,GACxB,IAAIic,EAAgB/3B,OAAOqD,KAAKyY,GAC5B4c,EAAoBhY,IACpB3T,EAAG2P,UACLgc,EAAkBx0B,SAAQ,SAAStE,EAAGN,GACpC,IAAIkP,EAAUzB,EAAGc,OAAOtJ,QAAQwzB,EAAcz4B,KAC9B,IAAbkP,IACDzB,EAAGc,OAAOjJ,KAAKmzB,EAAcz4B,IAC7BkP,EAAUzB,EAAGc,OAAOtJ,QAAQwzB,EAAcz4B,IAC1CyN,EAAGoJ,aAAe,GAEpBpJ,EAAGqC,aAAaZ,GAAW5O,EAC3BmN,EAAGe,YAAYU,GAAW5O,EAAE,GAAKA,EAAE,GAAK,KAE1CmN,EAAGsC,QAAQY,cAAc1P,MAAMwM,EAAGqC,cAClCrC,EAAGsC,QAAQW,aAAavJ,KAAOsG,EAAGe,cAItCgqB,EAAO7uB,OAAS,SAASrG,GACvB,IAAIG,EAAUH,GAAO,GAEnB8P,GADS3P,EAAQ+O,OACJ/O,EAAQE,MAAQ8J,EAAGY,cAAc,GAAIZ,EAAGY,cAAc,IACnElF,EAAM1F,EAAQyL,SAAWzL,EAAQ41B,eAAiB,EAClDrrB,EAAU5H,KAAK8B,IAAIkL,EAAY3F,EAAGY,cAAc,IAChDJ,EAAU7H,KAAK8H,KAAKkF,EAAW3F,EAAGY,cAAc,IAElDZ,EAAG6F,gBAAgB,iBACnB,IAAI3J,EAAS,IAAIjH,aAAasL,EAAUC,EAAU,GAElD,OADAsD,EAAGgC,WAAW,EAAGlF,EAAc,GAAGlF,EAAK6E,EAASC,EAASsD,EAAGiC,KAAMjC,EAAGuM,MAAOnU,GACrEA,EAAOiB,QAAO,SAAStK,EAAGN,GAAI,OAAOA,EAAE,GAAI,MAG7Cw4B,GDpKL7a,SACA3L,MAAA,EACA6hB,cETW,mBACX,IAAIjc,EAAa,GACb0hB,ECEO,SAAiB7rB,EAAIc,EAAQiO,GAQxC,MAAO,CACHzC,UAAY,EAAUtM,GACtB8E,MAAY,EAAM9E,GAClBuE,MAAY,EAAMvE,GAClBkQ,OAAYA,EAAOlQ,GACnBomB,UAAYA,GAAUpmB,IDfZ8rB,CAAQ9rB,GA0LtB,OA7JAmK,EAAWmC,UAAY,SAAUyC,GAC7B,GAAGA,EAAKgd,KAAM,CACV,IACIC,GADWr0B,MAAMC,QAAQmX,EAAKgd,MAAQhd,EAAKgd,KAAO,CAAChd,EAAKgd,OACpCzvB,IAAI,CAACyS,EAAM/D,IA/BjC,SAAU+D,EAAMkd,GACtB,IAAIC,EACAC,EAEe,iBAARpd,GACPmd,EAAUj5B,OAAOqD,KAAKyY,GAAM,GAC5Bod,EAAWpd,EAAKmd,KAEhBA,EAAUnd,EAEVod,EAAWxzB,KAAK8H,KAAK9H,KAAKyzB,KAAKpsB,EAAGM,WAAa,GAEnD,IAAI+rB,EAAYrsB,EAAGc,OAAOtJ,QAAQ00B,GAC9BI,EAAYtsB,EAAGqC,aAAarC,EAAGc,OAAOtJ,QAAQ00B,IAC9CK,GAAeD,EAAU,GAAKA,EAAU,IAAMH,EAWlD,OATAnsB,EAAGsC,QAAQiJ,UAAU7R,KAAKuyB,GAAYE,EACtCnsB,EAAGsC,QAAQkJ,cAAc9R,KAAKuyB,GAAYM,EAC1CvsB,EAAGe,YAAYsrB,GAAaF,EAC5BnsB,EAAGpJ,UAAUs1B,GAAW,GACxBlsB,EAAGpJ,UAAUs1B,GAASn0B,MAAQ,YAC9BiI,EAAGpJ,UAAUs1B,GAASvwB,SAAW4wB,EACjCvsB,EAAGpJ,UAAUs1B,GAASzxB,IAAM6xB,EAAU,GACtCtsB,EAAGpJ,UAAUs1B,GAASxxB,IAAM4xB,EAAU,GACtCtsB,EAAG8X,WAAWjgB,KAAKq0B,GACZA,EAOQM,CAAIzd,EAAM/D,IAElB+D,EAAKK,OACJL,EAAKK,OAAS4c,EAAS7uB,OAAOrB,IAAiC,IAA5BiT,EAAKK,OAAO5X,QAAQsE,IAAWiB,OAAOgS,EAAKK,QAE9EL,EAAKK,OAAS4c,EAetB,OAZG/4B,OAAOqD,KAAK0J,EAAGkT,cAAcve,SAC5BqL,EAAGsC,QAAQkC,YAAc,GAIxBqnB,EAAQz3B,eAAe,eACxBy3B,EAAQvf,UAAY,GAASA,UAAUtM,EAAI+O,IAE/C8c,EAAQvf,UAAUwC,QAAQC,GACD,iBAAdA,EAAQ,KACf/O,EAAGysB,UAAU1d,EAAKO,KAEfuc,EAAQvf,UAAUpQ,QAG7BiO,EAAW5F,MAAQ,SAASwK,GAKxB,OAJK8c,EAAQz3B,eAAe,WACxBy3B,EAAQtnB,MAAQ,GAASA,MAAMvE,IAEnC6rB,EAAQtnB,MAAMuK,QAAQC,GACf8c,EAAQtnB,MAAMrI,QAGzBiO,EAAWrF,MAAQ,SAASmE,GAKxB,OAJK4iB,EAAQz3B,eAAe,WACxBy3B,EAAQ/mB,MAAQ,GAASA,MAAM9E,IAEnC6rB,EAAQ/mB,MAAMgK,QAAQ7F,GACf4iB,EAAQ/mB,MAAM5I,QAGzBiO,EAAW4gB,OAAS,SAAShc,GAOzB,OALI/O,EAAG2P,UACHkc,EAAQd,OAAS,GAASA,OAAO/qB,EAAI+O,IAGzC8c,EAAQd,OAAOjc,QAAQC,GAChB8c,EAAQd,OAAO7uB,QAG1BiO,EAAWic,UAAY,SAAS9P,GAG5B,IAAIoW,EACJ,GAAGpW,EAAKqW,OAAQ,CACZ,IAAIC,EAAQtW,EAAKqW,OACb5d,EAAO6d,EAAM7xB,MAAQ6xB,EAAM32B,QAC/B,QAAoB2O,IAAjBgoB,EAAMC,OAAsB,CAC3B,IAAIC,EAAU75B,OAAOqD,KAAKs2B,EAAMC,QAAQ,GACpCE,EAAWH,EAAMC,OAAOC,GACxB5wB,EAAS8D,EAAGkqB,aAAa,OACzB8C,EAASje,EAAKge,GAAUzwB,IAAKwE,IAC7B,IAAIjH,EAASqC,EAAOI,IAAIjJ,GAAKA,EAAEyN,IAC3BrG,EAAM9B,KAAK8B,OAAOZ,GAClBa,EAAM/B,KAAK+B,OAAOb,GAClBozB,EAAmBpzB,EAAOyC,IAAK4wB,IAAQA,EAAMzyB,IAAQC,EAAMD,IAC/C,QAAZqyB,IAAmBA,EAAU,YACjC,IAAI7wB,EAAoC,mBAAvB,EAAS6wB,GAA2BA,EAAU,MAC/D,MAAO,CACHh6B,KAAMgO,EACNtN,MAAO,EAASyI,GAAKgxB,MAG5BpxB,KAAK,CAACC,EAAGC,IAAMA,EAAEvI,MAAQsI,EAAEtI,OAC5Bub,EAAKge,GAAYC,EAAO1wB,IAAIjJ,GAAKA,EAAEP,MAEvC,IAAIk3B,EAAY/2B,OAAOqD,KAAKggB,GAAMnZ,OAAOnF,GAAW,WAANA,GAC1Cm1B,EAAYl6B,OAAOqD,KAAKyY,GACxBqe,EAAez0B,KAAK8B,OAAO0yB,EAAU7wB,IAAIpD,GAAK6V,EAAK7V,GAAGvE,SAE1D+3B,EAAQ,IAAI/0B,MAAMy1B,GAClB,IAAI,IAAI76B,EAAI,EAAGA,EAAI66B,EAAc76B,IAAK,CAClC,IAAI86B,EAAO,GACXrD,EAAU7yB,QAAQm2B,IACd,IAAIxzB,EAAKqzB,EAAU31B,QAAQ8e,EAAKgX,IAEhCD,EAAKC,GADFxzB,EAAK,EACKwc,EAAKgX,GAELve,EAAKoe,EAAUrzB,IAAKvH,KAGrCm6B,EAAMn6B,GAAK86B,EACRT,EAAM3mB,OAAe,IAAN1T,IACdm6B,EAAMn6B,GAAG0T,MAAQ2mB,EAAM3mB,MACvBymB,EAAMn6B,GAAG0T,MAAM2mB,MAAQ,cAI/BF,EAAQ/0B,MAAMC,QAAQ0e,GAAQA,EAAO,CAACA,GAGvCtW,EAAGic,KAAK2L,MAAMjzB,OAAS+3B,EAAM/3B,SAC5BqL,EAAGic,KAAKsR,QACRvtB,EAAG4nB,MAAQ5nB,EAAGic,KAAKuR,cAAc,CAC7Br3B,MAAOu2B,EAAM/3B,OACb0R,MAAOrG,EAAG2N,SAAS,GACnBrH,OAAQtG,EAAG2N,SAAS,GACpB+L,QAAS1Z,EAAG0Z,QACZqG,UAAWzJ,EAAKyJ,aAGxB2M,EAAMv1B,QAAS,CAACmf,EAAMxc,KACb+xB,EAAQz3B,eAAe,eACxBy3B,EAAQzF,UAAY,GAASA,UAAUpmB,IAEvCsW,EAAK8S,IACLppB,EAAGytB,SAASnX,EAAK8S,IAErB,IAAI1B,EAAY5tB,EAChB,GAAqB,iBAAXwc,EAAK3U,KACX+lB,EAAY1nB,EAAG4nB,MAAMtrB,IAAIzJ,GAAGA,EAAE8O,IAAInK,QAAQ8e,EAAK3U,KAC9B,GAAd+lB,GAEC,IAAI,IAAI5tB,EAAK,EAAGA,EAAKkG,EAAG4nB,MAAMjzB,OAAQmF,IAClC,IAAIkG,EAAG4nB,MAAM9tB,GAAI6H,GAAI,CACjB+lB,EAAY5tB,EACZkG,EAAG4nB,MAAMF,GAAW/lB,GAAK2U,EAAK3U,GAC9B,MAMA,OAAb2U,EAAKiB,OAAejB,EAAK0S,MAAO,GACnChpB,EAAG4nB,MAAMF,GAAWpR,KAAOA,EAC3B,IAAIO,EAAWP,EACXoX,EAAU1tB,EAAG4nB,MAAMF,GAAW/lB,GAE/B3B,EAAG2P,SAAW3P,EAAG2tB,UAAUv5B,eAAes5B,IACtC1tB,EAAG2tB,UAAUD,GAASt5B,eAAe4L,EAAG4tB,iBACvC/W,EAAW5jB,OAAO21B,OAAO,GAAItS,EAAMtW,EAAG2tB,UAAUD,GAAS1tB,EAAG4tB,iBAG5C,IAArB/W,EAASL,UACRqV,EAAQzF,UAAU,CACd9P,KAAMO,EACN6Q,UAAWA,IAEf1nB,EAAG6tB,aAGX7tB,EAAGutB,SAGApjB,G,QE7LI,IACX,CACIrX,KAAM,SACNm3B,YAAY,EACZJ,aAAa,EACbxG,YAAY,EACZiH,iBAAiB,EACjBtd,SAAS,EACTyc,UAAWnT,GAAsB,WAAdA,EAAKiB,KACxBzf,KAAM,QACNuyB,SAAU,KAAIyD,QAElB,CACIh7B,KAAM,OACNm3B,YAAY,EACZJ,aAAa,EACbxG,YAAY,EACZiH,iBAAiB,EACjBb,UAAWnT,GAAsB,SAAdA,EAAKiB,KACxBzf,KAAM,QACNuyB,SAAU,KAAI0D,WAElB,CACIj7B,KAAM,SACNm3B,YAAY,EACZJ,aAAa,EACbxG,YAAY,EACZiH,iBAAiB,EACjBb,UAAWnT,GAAsB,WAAdA,EAAKiB,KACxBzf,KAAM,QACNuyB,SAAU,KAAI2D,WCjCP,MAAMC,GACjB,YAAYrG,GACR7xB,KAAK6xB,MAAQA,EAGjB,IAAKmC,GACDh0B,KAAKg0B,KAAKlyB,KAAKkyB,GAGnB,QACIh0B,KAAK6xB,MAAMzwB,SAAQ,SAAS+B,GACrBA,EAAE9E,eAAe,WAChB8E,EAAE+lB,MAAM7Y,IAAIkU,SACZphB,EAAE+lB,MAAMgK,aACR/vB,EAAE+lB,MAAMmC,sBACDloB,EAAE+lB,UAKrB,eAAe,OACXsC,EAAS,OAAM,MACfprB,EAAQ,EAAC,MACTkQ,EAAQ,IAAG,OACXC,EAAS,IAAG,QACZoT,EAAU,CAACtR,KAAM,EAAGM,MAAO,EAAGL,IAAK,EAAGM,OAAQ,GAAE,UAChDoX,EAAY,CAACva,GAAG,EAAOD,GAAG,KAE1B,IACI2oB,EADAtG,EAAQ,IAAIjwB,MAAMxB,GAIR,QAAVorB,GACAjb,GAAkBnQ,EAClB+3B,EAAc32B,GAAU,CAAC,EAAGA,EAAQ+O,KAEpCD,GAAgBlQ,EAChB+3B,EAAc32B,GAAU,CAACA,EAAQ8O,EAAO,IAE5C,IAAK,IAAI9T,EAAI,EAAGA,EAAI4D,EAAO5D,IAAK,CAC5B,IAAIwS,EAASmpB,EAAW37B,GACxBq1B,EAAMr1B,GAAK,CAAC8T,QAAOC,SAAQoT,UAAS3U,SAAQgb,aAGhD,OADAhqB,KAAK6xB,MAAQA,EACNA,GC/BA,SAASuG,GAAGn4B,GACzB,IAAIgK,ECZS,UAAc,QACzBqa,EAAU,KAAI,UACdlU,EAAYoT,SAASkI,KAAI,SACzB9T,EAAY,CAAC,IAAK,KAAI,QACtB+L,EAAU,CAACtR,KAAK,EAAGM,MAAO,EAAEL,IAAK,EAAGM,OAAQ,GAAE,WAC9CtS,EAAa,GAAE,MACfuxB,IAEA,IAAI5nB,EAAKqa,EACL+T,EAAgB,CAChB,CACI/nB,MAAOsH,EAAS,GAChBrH,OAAQqH,EAAS,GAEjB5I,OAAQ,CAAC,EAAG,KAgBpB,OAbW,OAAP/E,IACAA,EAAK,IAAI,IAAO,CACZmG,UAAWA,EACXE,MAAOsH,EAAS,GAChBrH,OAAQqH,EAAS,GACjB+L,QAAS,CAACtR,KAAK,EAAGM,MAAO,EAAEL,IAAK,EAAGM,OAAQ,GAC3CtS,WAAYA,KAGpB2J,EAAGmG,UAAYA,EACfnG,EAAG0Z,QAAUA,EACb1Z,EAAG2N,SAAWA,EACd3N,EAAG4nB,MAAQA,GAASwG,EACbpuB,EDlBA+hB,CAAW/rB,GACpBgK,EAAGquB,MAAQr4B,EAAQq4B,QAAS,EAC5BruB,EAAG4nB,MAAQ,GACX5nB,EAAG8qB,aAAe,GAClB9qB,EAAG8X,WAAa,GAChB9X,EAAGwpB,WAAaA,GAChBxpB,EAAG2tB,UAAY,GACf3tB,EAAGkT,aAAe,GAClBlT,EAAGsuB,WAAa,GAChBtuB,EAAGM,SAAW,EACdN,EAAGO,QAAUvK,EAAQu4B,MAAQ,KAC7BvuB,EAAGgB,UAAYhL,EAAQgL,WAAa,EACpChB,EAAGoJ,YAAc,EAEjBpJ,EAAG4tB,cAAgB,aACnB5tB,EAAG2P,SAAU,EACb3P,EAAGoN,WAAY,EACfpN,EAAG4pB,YAAY,EAEf5pB,EAAG4P,UAAY,aACf,IAAI4e,EElCS,SAAkBxuB,GAC7B,IAAIyuB,EAAW,GACXJ,GAAQ,EACRK,EAAQ,EACRC,EAAQ,GA8EZ,OA5EAF,EAASG,UAAY,SAASlJ,GAC1B,IAAImJ,EAAYnJ,EAAI1lB,GAUpB,OARA/M,OAAOqD,KAAKu4B,GAAW13B,QAAQrE,IACK,mBAArB+7B,EAAU/7B,KACjB27B,EAAS37B,GAAQ,WAEb,OADA+7B,EAAU/7B,GAAMsJ,MAAM,KAAM1H,WACrB+5B,MAIZA,GAGXA,EAASK,cAAgB,SAASpJ,GAC9B,IAAImJ,EAAYnJ,EAAI1lB,GASpB,OAPA/M,OAAOqD,KAAKu4B,GAAW13B,QAAQrE,IACK,mBAArB+7B,EAAU/7B,KACjB27B,EAAS37B,GAAQ,WACb,OAAO+7B,EAAU/7B,GAAMsJ,MAAM,KAAM1H,eAIxC+5B,GAGXA,EAASM,WAAa,SAAU9yB,EAAKpG,GACjC,GAAImK,EAAG2P,SAAY3P,EAAGoN,UAMlB,OAAQ,EANqB,CAC7B,IAAI2B,EAAO,GAGX,OAFAA,EAAK9S,GAAOpG,EACZ84B,EAAM92B,KAAKkX,GACJ2f,MAMfD,EAASO,aAAe,SAASl8B,EAAMm8B,EAAWC,GAAY,GACtDT,EAASr6B,eAAetB,KAASo8B,IACjCT,EAAS37B,GAAQ,SAAS+C,GAClBw4B,GACAI,EAASM,WAAWj8B,EAAM+C,GAE9B,IAAI+Z,EAAYqf,EAAUp5B,GAI1B,MAHyB,mBAAhB,IACLmK,EAAG4P,UAAYA,GAEZ6e,KAKnBA,EAASU,WAAa,WAElB,OADAR,EAAQ,GACDF,GAGXA,EAASrkB,IAAM,SAASglB,EAAOT,GAC3B,IAAK,IAAIU,KAAKD,EAAM,CAChB,IAAInzB,EAAMhJ,OAAOqD,KAAK+4B,GAAG,GACG,mBAAlBZ,EAASxyB,IACfwyB,EAASxyB,GAAKozB,EAAEpzB,IAGxB,OAAOwyB,GAGXA,EAASE,MAAQ,WACb,OAAOA,GAGXF,EAASJ,MAAQ,SAASiB,GACtBjB,EAAQiB,GAGLb,EFhDCA,CAASzuB,GACnBwuB,EAAI3sB,IAAM7B,EACVwuB,EAAII,UAAU7lB,GACdylB,EAAIM,cAAc3qB,GAIlBqqB,EAAIQ,aAAa,QAAQ,WAIvB,OAHAR,EAAI5kB,OAAO,YACR3W,OAAOqD,KAAK0J,EAAGkT,cAAcve,OAAS,GAAG65B,EAAIjqB,MAAM,IACtDvE,EAAG4P,UAAY5P,EAAGuvB,WACXf,KAGTxuB,EAAGic,KAAO,CAAC2L,MAAO,IAClB4G,EAAIzE,KAAO,SAASnC,GAMlB,OAL4B,IAAzB5nB,EAAGic,KAAK2L,MAAMjzB,QACfqL,EAAGic,KAAKsR,QAEVvtB,EAAGic,KAAO,IAAIgS,GAAKrG,GACnB5nB,EAAG4nB,MAAQ5nB,EAAGic,KAAK2L,MACZ4G,GAETA,EAAI5G,MAAQ4G,EAAIzE,KAChByE,EAAIgB,SAAW,WACb,OAAOxvB,EAAG4nB,OAGZ5nB,EAAGutB,MAAQiB,EAAIiB,KACfzvB,EAAGkqB,aAAesE,EAAItyB,OAEtB8D,EAAGytB,SAAW,SAASiC,GAErB,OADAlB,EAAI5kB,OAAO8lB,GACJlB,GAGTxuB,EAAGysB,UAAY,SAASkD,GAGtB,OAFAnB,EAAIxlB,SAAS2mB,GAENnB,GAoBTA,EAAI90B,KAAO,SAASk2B,GAClB,GAA2B,SAAvBA,EAAYxrB,OAAmB,CACjC,IAAInO,EAAU,OAAAH,EAAA,GAAO,CACjBW,OAAQm5B,EAAYn5B,OACpBP,KAAM05B,EAAY/1B,OAAOlF,SAE1B0G,OAAO,CAAC3B,KAAMk2B,EAAY/1B,SAE7Bg2B,EAAS7vB,EAAI/J,EAAQyD,aAErBm2B,EAAS7vB,EAAI4vB,GAOf,OAlCF,SAAwB5vB,GACtBA,EAAGkQ,OAAS,GAAQA,OAAOlQ,GAE3B,IAAImK,EAAa2lB,GAAQ9vB,GACzBwuB,EAAIuB,cAAgB,IAAM98B,OAAOqD,KAAK6T,GACtC,IAAI,IAAI6lB,KAAW/8B,OAAOqD,KAAK6T,GAC7BqkB,EAAIQ,aAAagB,EAAS7lB,EAAW6lB,IAAU,GAGjD,IAAI,IAAIluB,KAAO9B,EAAGwpB,YACM,IAAnB1nB,EAAIuhB,aACLvhB,EAAIuoB,SAAWvoB,EAAIuoB,SAASrqB,IAGhCwuB,EAAIxlB,SAAS,YAebinB,CAAejwB,GACfA,EAAG4P,UAAYggB,EAAYt1B,OAC3B0F,EAAG8E,MAAQ0pB,EAAI1pB,MACf9E,EAAGuvB,WAAaK,EAAYt1B,OAC5B0F,EAAGuE,MAAQiqB,EAAIjqB,MACRiqB,GAGTA,EAAIj3B,MAAQ,SAASV,GAEnB,OADA6C,KAAK7C,QAAUA,EACR23B,GAGT,IAAI0B,EAAgB,GAChBC,EAAa,SAASt6B,GACxB,IAAIu6B,GAAa,EACjB,IAAI,IAAI7jB,KAAWtZ,OAAOqD,KAAKk4B,GAAKzxB,OAAO9J,OAAOqD,KAAK,KACrD45B,EAAc3jB,GAAW,SAASwC,GAEhC,OADAyf,EAAIO,WAAWxiB,EAASwC,GACjBmhB,GAwBX,OApBAA,EAAcphB,QAAU,WACtB,OpClHS,UAAe,KAC5BhX,EAAO,SAAQ,OACfsM,EAAS,SAAQ,OACjBisB,EAAS,SAAQ,UACjBC,EAAY,IAAG,KACfp6B,EAAO,EAAC,OACRO,EAAM,OACN4qB,EAAM,IACNkP,EAAG,QACHpG,EAAO,WACPqG,EAAa,KAEb,IAAoC,IAAjCvsB,EAAczM,QAAQM,GACvB,MAAML,MAAM,sBAAuBK,GAGrC,IAAsC,IAAnCoM,EAAc1M,QAAQ64B,GACvB,MAAM54B,MAAM,kBAAmB44B,GAGjC,IAAIvrB,EACJ,SAAS2rB,IACPD,EAAWr5B,SAAQ,SAASu5B,GAC1B5rB,EAAMvN,MAAMm5B,MAGhB,IAAIC,EAAavsB,GAAUtM,EACvB84B,EAAe,CACjB9G,KAAM,SAASpwB,GAIb,OAHAoL,EAAQ,OAAAhP,EAAA,GAAO,CAACW,SAAQP,SACxB4O,EAAMzJ,OAAO,CAAC3B,KAAiB,aAAV22B,EAAyBQ,KAAKC,MAAMp3B,GAAQA,IACjE+2B,IACO3rB,EAAMpL,QAEfq3B,IAAK,SAASpW,GACZ,IAAIjhB,EAAO,OAAAo3B,EAAA,GAAMnW,EAAM2V,GAMvB,OAHAxrB,EAAQ,OAAAhP,EAAA,GAAO,CAACW,SAAQP,SACxB4O,EAAMjM,QAAQa,GACd+2B,IACO3rB,EAAMpL,QAEf5D,OAAQ,WACN,GAAGsK,OAAOC,UAAUghB,EAAOnrB,OAASyB,MAAMC,QAAQypB,EAAOjrB,OACvD,OAAOirB,IAKbuP,EAAajW,KAAOiW,EAAaG,IACjC,IAAIpG,EAAW,SAASjxB,GACtB,OAAO,IAAIwpB,SAAQ,SAASC,EAASC,GACK,mBAA9BwN,EAAaD,GACrBxN,EAAQyN,EAAaD,GAAYj3B,IAEjC0pB,EAAO3rB,MAAM,4BAA6Bk5B,QAKhD,GAAc,SAAXN,EAAmB,CACpB,IAAIW,EAAaT,GAAOlP,EACxB,OAAO4P,EAAA,IAAS,CAACV,IAAKS,EAAYE,SAAUP,IAAaQ,KAAKxG,GACzD,MAAc,aAAV0F,EACF,IAAInN,SAAQ,SAASC,EAASC,GACnC,IAAIgO,EAAS,IAAIC,UAAUhQ,GAC3B+P,EAAOE,OAAS,WACS,mBAAd,GAA0BnH,EAAQiH,IAE7CA,EAAOG,UAAY,SAAStW,GAC1BkI,EAAQyN,EAAaD,GAAY1V,EAAMvhB,QAEzC03B,EAAO3M,QAAU,SAAS+M,GACxBpO,EAAOoO,OAIJ7G,EAAStJ,GoCoCPoQ,CAAM57B,GAAKs7B,MAAK,SAASz3B,GAS9B,OARG/B,MAAMC,QAAQ/B,EAAIgB,WACnB6C,EAAK7C,QAAUhB,EAAIgB,SAErB23B,EAAI90B,KAAKA,GACT80B,EAAIH,OAAM,GACVG,EAAIpkB,MACJokB,EAAIH,OAAM,GACV+B,GAAa,EACN,IAAIlN,SAAQ,SAASC,EAASC,GAEnC,OADAD,EAAQqL,EAAItyB,OAAO,QACZsyB,SAKb0B,EAAcwB,OAASxB,EAAcphB,QAElCjZ,EAAI04B,OAAMvuB,EAAGO,QAAU1K,EAAI04B,MACvB2B,GAGT1B,EAAImD,QAAU,SAASC,GACrB,IAAIC,EAAYD,EAAS,GACzB,IAAKC,EAAUz9B,eAAe,SAC5B,MAAMqD,MAAM,sCAEd,IAAIy4B,EAAgB1B,EAAIiD,MAAMI,GAM9B,OALAD,EAAS1zB,MAAM,GAAG/G,QAAQ4X,IACxB,IAAI9S,EAAMhJ,OAAOqD,KAAKyY,GAAM,GAC5BmhB,EAAcj0B,GAAK8S,EAAK9S,MAGnBuyB,GAGTA,EAAI5e,UAAY,SAAU/c,GACxB,OAAOmN,EAAG4P,UAAU/c,IAGtB27B,EAAIsD,kBAAoB,WACH,CAAC,eAAgB,WAAY,MACnC36B,QAAQ46B,IACnB/xB,EAAG6F,gBAAgBksB,GACnB/xB,EAAG6B,IAAIwL,WAAY,EAAK,EAAK,EAAK,GAClCrN,EAAG6B,IAAIyL,MAAOtN,EAAG6B,IAAI0L,iBAAmBvN,EAAG6B,IAAI2L,qBAInDghB,EAAIwD,QAAU,SAASC,GAiBrB,OAhBAzD,EAAIiB,OACJjB,EAAIsD,oBACJ9xB,EAAG8qB,aAAe,GAClB9qB,EAAG2tB,UAAY,GACf3tB,EAAGkT,aAAe,GAClBlT,EAAGsC,QAAQkC,YAAY9K,KAAO,EAC9B80B,EAAIW,aAEJ8C,EAAM96B,SAAQ,SAAS4X,GACrB,IAAI9S,EAAMhJ,OAAOqD,KAAKyY,GAAM,GACxBlZ,EAAMkZ,EAAK9S,GACfA,EAAMA,EAAIiC,MAAM,GACM,mBAAZswB,EAAIvyB,IACZuyB,EAAIvyB,GAAKpG,MAGN24B,GAGTA,EAAI0D,SAAW,SAASnjB,QACH,IAAV,GAAuB/O,EAAG8qB,aAAajzB,KAAKkX,GACrD/O,EAAG8qB,aAAa3zB,SAAQ,SAASg7B,GAE/B,IAAIjX,EAAWiX,EAAYjX,UAAY,SAAS7T,GAC9CrH,EAAG2tB,UAAYwE,EAAYxH,SACvB3qB,EAAG2P,UACL3P,EAAG2P,SAAU,EACb3P,EAAGkT,aAAe,GACK,iBAAb7L,GACRpU,OAAOqD,KAAK+Q,GAAWlQ,SAAQ,SAASa,GACtC,GAAGqP,EAAUrP,GAAGrD,OAAS,GACpBqL,EAAGpJ,UAAUxC,eAAe4D,GAAI,CACjC,IAAIxE,EAASmE,MAAMC,QAAQyP,EAAUrP,IACjCqP,EAAUrP,GAAG,GACbqP,EAAUrP,GACdqP,EAAUrP,GAAK,CAACxE,EAAMwM,EAAGpJ,UAAUoB,GAAG2D,SAAUnI,GAMpDwM,EAAGkT,aAAalb,GAAKqP,EAAUrP,MAGnCgI,EAAG4tB,cAAgB,aACnB5tB,EAAGsC,QAAQ8P,aAAa1Y,KAAO,GAC/BsG,EAAGsC,QAAQuI,UAAUnR,KAAO,GAC5B80B,EAAIiB,OAAOrlB,MACXpK,EAAG4tB,cAAgB,WACnB5tB,EAAGsC,QAAQuI,UAAUnR,KAAO,GAC5B80B,EAAIiB,OAAOrlB,MACXpK,EAAG4tB,cAAgB,aACnB5tB,EAAG2P,SAAU,EACb3P,EAAGsC,QAAQ8P,aAAa1Y,KAAO,GAC/BsG,EAAGsC,QAAQuI,UAAUnR,KAAO,MGvOvB,SAAkBsG,EAAIhK,GACnC,IAAIo8B,EAAWp8B,EAAQ+zB,MAAQ,CAAC/pB,EAAG4nB,MAAM,GAAGjmB,IAExChK,MAAMC,QAAQw6B,KAAWA,EAAW,CAACA,IAEzC,IAAIC,EAAUr8B,EAAQq8B,SAAWr8B,EAAQs8B,QAAU,GACjD7I,EAAYzzB,EAAQyzB,WAAa,GACjCmD,EAAQ52B,EAAQ42B,QAAS,EACzB1R,EAAWllB,EAAQklB,UAAY,aAE9Blb,EAAG2P,UAEF8Z,EAAUjkB,GAAMikB,EAAUlkB,IAC5BkkB,EAAUjkB,EAAIikB,EAAUlkB,GAAI,GAG9B6sB,EAASj7B,SAAQ,SAASu2B,GACxB,IAAI3G,EAAM/mB,EAAG4nB,MAAMzqB,OAAOjE,GAAGA,EAAEyI,IAAM+rB,GAAS,GAO9C,GAJI/1B,MAAMC,QAAQy6B,KAChBA,EAAU,CAACA,SAGFztB,IAARmiB,IAAsBA,EAAI3yB,eAAe,SAAU,OAEtD,IAAIkiB,EAAOyQ,EAAIzQ,KACbjiB,EAAI0yB,EAAIrN,SAAW1Z,EAAG0Z,QACtBtO,EAAI2b,EAAI1gB,MAAQhS,EAAE+T,KAAO/T,EAAEqU,MAC3ByP,EAAI4O,EAAIzgB,OAASjS,EAAEgU,IAAMhU,EAAEsU,OAEzB4pB,EAAaxL,EAAI9H,MAAM7Y,IAAIU,OAAO,KACnC5L,KAAK,QAAS,YAGJ,SAAV0xB,EACDzU,EAAInY,EAAG2N,SAAS,GAAKtZ,EAAEsU,OACL,YAAVikB,IACRxhB,EAAIpL,EAAG2N,SAAS,GAAKtZ,EAAEqU,OAGzB,IAAI8pB,EAAOD,EAAWzrB,OAAO,QAC1B5L,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,QAASkQ,GACdlQ,KAAK,SAAUid,GACfjd,KAAK,eAAgB,GACrBA,KAAK,SAAU,QAEdkL,EAAMmsB,EAAWnsB,IACnB+B,EAAMqqB,EAAKpsB,IAAI8B,wBAGjB,SAASuqB,EAAar1B,GACpB,IAAI8J,EAAK9J,EAAEuK,QAAUQ,EAAIC,KACrBjB,EAAK/J,EAAEwK,QAAUO,EAAIE,IACrBhB,EAAY,GAOhB,OANGiP,EAAK9Q,IACN6B,EAAUiP,EAAK9Q,GAAK,CAACuhB,EAAI9H,MAAMzZ,EAAE8X,OAAOpW,KAEvCoP,EAAK/Q,IACN8B,EAAUiP,EAAK/Q,GAAK,CAACwhB,EAAI9H,MAAM1Z,EAAE+X,OAAOnF,EAAIhR,KAEvCE,EAGTgrB,EAAQl7B,SAAQ,SAASuzB,GACvB,GAAc,UAAXA,EAAoB,CACrBtkB,EAAIgT,MAAMsZ,OAAS,YACnB,IAAIC,EAAe,CACjBxsB,UAAWosB,EACXlsB,MAAO+E,EACP9E,OAAQ6R,GAGV,IAAIxgB,MAAMC,QAAQ0e,EAAK9Q,KAAO7N,MAAMC,QAAQ0e,EAAK/Q,GAAI,CACnD,IAAIqtB,EAAenJ,EAAc,KAAI,WAAa,QAClDkJ,EAAaC,GAAe,SAAS//B,GACnC,IAAIwU,EAAY,GACbiP,EAAK9Q,GAAK3S,EAAE2S,IAAG6B,EAAUiP,EAAK9Q,GAAK3S,EAAE2S,GACrC8Q,EAAK/Q,GAAK1S,EAAE0S,IACT1S,EAAE0S,EAAE,GAAK1S,EAAE0S,EAAE,GACf8B,EAAUiP,EAAK/Q,GAAK1S,EAAE0S,EAAEmb,UAExBrZ,EAAUiP,EAAK/Q,GAAK1S,EAAE0S,GAI1BtS,OAAOqD,KAAK+Q,GAAWlQ,QAAQa,IAC7B,GAAIgI,EAAG1I,aAAalD,eAAe4D,GAAI,CACrC,IAAI6B,EAASmG,EAAG1I,aAAaU,GACzBwE,EAAQ7D,KAAKC,MAAMyO,EAAUrP,GAAG,IAChCyE,EAAM9D,KAAKC,MAAMyO,EAAUrP,GAAG,IAC/ByE,IAAQD,IAAOA,GAAS,GAC3B6K,EAAUrP,GAAK,CAAC6B,EAAO2C,GAAQ3C,EAAO4C,OAI1Cye,EAAS7T,IAERoiB,EAAUjkB,GAAmC,mBAAvBuhB,EAAI9H,MAAMzZ,EAAQ,SACzCmtB,EAAantB,EAAIuhB,EAAI9H,MAAMzZ,EAAE8X,QAE5BmM,EAAUlkB,GAAmC,mBAAvBwhB,EAAI9H,MAAM1Z,EAAQ,SACzCotB,EAAaptB,EAAKA,GACC,SAAd+Q,EAAKiB,KACCwP,EAAI9H,MAAM1Z,EAAE+X,OAAOnF,EAAE5S,GAEvBwhB,EAAI9H,MAAM1Z,EAAE+X,OAAO/X,IAI9B,IAAI,EAAMotB,GAGZ,IACEE,EAAa,GADJ,CAAC,IAAK,KAGZ17B,SAAQ,SAAS0gB,GACpB,GAAGlgB,MAAMC,QAAQ0e,EAAKuB,KAASlgB,MAAMC,QAAQmvB,EAAI9H,MAAMpH,IAAM,CAC3D,IAAI4I,EAAmB,KAAP5I,EAAcM,EAAI/M,EAChC0nB,EAAY/L,EAAI9H,MAAM7Y,IAAIU,OAAO,KAEnC2Z,GAAwBnK,EAAKuB,GAAKljB,OAAO,EAEzC2hB,EAAKuB,GAAK1gB,SAAQ,SAAStE,EAAGN,GAE5B,IAAIwgC,EAAaD,EAAUhsB,OAAO,KACxB,KAAP+Q,GACD8a,EAAarsB,OAAoB,GAAXma,EACtBsS,EAAWjY,UAAU,EAAG2F,GAAYluB,EAAI,KACxCogC,EAAa1sB,MAAQ,SAAS5J,GAC5Bw2B,EAAWhgC,GAAKwJ,EAAMwb,GACtBqD,EAAS2X,MAGXF,EAAatsB,MAAmB,GAAXoa,EACrBsS,EAAWjY,UAAU2F,GAAYluB,EAAI,IAAM,GAC3CogC,EAAa1sB,MAAQ,SAAS5J,GAC5Bw2B,EAAWhgC,GAAKwJ,EAAMwb,GAAK6I,UAC3BxF,EAAS2X,KAGbF,EAAaxsB,UAAY4sB,EACzBJ,EAAa9a,GAAOkP,EAAI9H,MAAMpH,GAAKtlB,GAAG+qB,OAEtC,IAAI,EAAMqV,eAIX,GAAc,SAAXjI,EAAmB,CAC3B3D,EAAI8B,cAAe,EACnB,IAAImK,EAAQ,CAACxtB,EAAG,KAAMD,EAAG,MACrBjK,EAAQ,IACZ8K,EAAI6sB,QAAU,SAAS71B,GACrB,IAAI81B,EAAO91B,EAAE+1B,OAAS,EAAK,GAAK,EAC5B9rB,EAAY,GACZ+rB,EAAa,CACf5tB,GAAIpI,EAAEuK,QAAUQ,EAAIC,MAAQD,EAAI9B,MAChCd,EAAG,GAAOnI,EAAEwK,QAAUO,EAAIE,KAAOF,EAAI7B,QAGvC,IAAK,IAAIuR,IAAO,CAAC,IAAK,KACpB,GAAG4R,EAAU5R,GAAM,CACjB,IAAI3c,EAAO6rB,EAAIzQ,KAAKuB,GACF,OAAfmb,EAAMnb,KACPmb,EAAMnb,GAAQvc,GAASyrB,EAAInsB,QAAQM,GAAM,GAAK6rB,EAAInsB,QAAQM,GAAM,KAGlE,IAAI0Y,EAASmT,EAAInsB,QAAQM,GACrB8lB,EAAY,CAACpN,EAAO,GAAKsf,EAAMF,EAAMnb,GAAQub,EAAWvb,GAAOjE,EAAO,GAAKsf,EAAMF,EAAMnb,IAAQ,EAAEub,EAAWvb,KAC7GmJ,EAAU,GAAKA,EAAU,GAAK,MAC/B3Z,EAAUnM,GAAQ8lB,EAClB+F,EAAInsB,QAAQM,GAAQ8lB,GAEpB1lB,GAAS,GAKf4f,EAAS7T,SAGN,GAAa,OAAVqjB,EAAiB,CACzBtkB,EAAIgT,MAAMsZ,OAAS,OACnB3L,EAAI8B,cAAe,EACnB,IAAIxhB,EAAY,GAChBjB,EAAIitB,YAAc,SAASj2B,GACzB,IAAI4J,EAAK5J,EAAEuK,QACPV,EAAK7J,EAAEwK,QAGX,SAAS0rB,EAAMl2B,GACb,IAAI41B,EAAQ,CACVxtB,IAAKpI,EAAEuK,QAAUX,GAAMmB,EAAI9B,MAC3Bd,GAAInI,EAAEwK,QAAUX,GAAMkB,EAAI7B,QAE5B,IAAK,IAAIuR,IAAO,CAAC,IAAK,KACpB,GAAG4R,EAAU5R,GAAM,CACjB,IAAI3c,EAAO6rB,EAAIzQ,KAAKuB,GAChBjE,EAASmT,EAAInsB,QAAQM,GACrB8B,EAAOg2B,EAAMnb,IAAQjE,EAAO,GAAKA,EAAO,IACxCoN,EAAY,CAACpN,EAAO,GAAK5W,EAAM4W,EAAO,GAAK5W,GAC/CqK,EAAUnM,GAAQ8lB,EAClB+F,EAAInsB,QAAQM,GAAQ8lB,EAGxBha,EAAK5J,EAAEuK,QACPV,EAAK7J,EAAEwK,QACPsT,EAAS7T,GAnBXjB,EAAIgT,MAAMsZ,OAAS,OAsBnB9pB,OAAOpB,iBAAiB,YAAa8rB,GAAO,GAC5C1qB,OAAOpB,iBAAiB,WAAW,WACjCpB,EAAIgT,MAAMsZ,OAAS,UACnB9pB,OAAOC,oBAAoB,YAAayqB,GAAO,MAC9C,QAIc,UAAX5I,IACRtkB,EAAIsZ,QAAU,SAAStiB,GACrB8d,EAASuX,EAAar1B,MAIZ,UAAXstB,IACDtkB,EAAImtB,YAAc,SAASn2B,GACzB8d,EAASuX,EAAar1B,IACtBgJ,EAAIotB,YAAc,SAASp2B,GACzB8d,EAASuX,EAAar1B,cHI5B80B,CAASlyB,EAAI,CACXqyB,QAASF,EAAYlX,MACrB8O,KAAMoI,EAAYvf,KAClB6W,UAAW0I,EAAY1I,UACvBmD,MAAOuF,EAAYvF,MACnB1R,SAAUA,QAIhBlb,EAAG6tB,QAAUW,EAAI0D,SAEjB1D,EAAIiF,WAAa,SAASC,GACxB,IAAIh6B,EACJ,GAAGg6B,EAAQn5B,mBACTb,EAAOg6B,MACF,CAEL,IAAI5uB,EAAQ,OAAAhP,EAAA,GAAO,CACjBW,OAAQuJ,EAAGG,WACXzJ,UAAWsJ,EAAGtJ,YAEhBoO,EAAMjM,QAAQ66B,GACdh6B,EAAOoL,EAAMpL,OAwCf,OApCAzG,OAAOqD,KAAKoD,EAAKhD,WAAWS,QAAS+D,IACnC8E,EAAGtJ,UAAUwE,GAAQjI,OAAO21B,OAAO5oB,EAAGtJ,UAAUwE,GAAOxB,EAAKhD,UAAUwE,MAGrExB,EAAKxD,KAAO,IACb8J,EAAGM,SAAW5G,EAAKxD,MAErB8J,EAAGc,OACF5C,MAAM8B,EAAGnJ,QAAQlC,QACjBwC,QAAQ,CAAC+D,EAAMC,KACd,IAAIwE,EAAM,IAAI1K,aAAa+K,EAAGY,cAAc,GAAKZ,EAAGY,cAAc,IAC/DlH,EAAKwB,GACR,IAAK,IAAI3I,EAAI,EAAGC,EAAIkH,EAAKwB,GAAMvG,OAAQpC,EAAIC,EAAGD,IAC5CoN,EAAIpN,GAAKmH,EAAKwB,GAAM3I,GAEtByN,EAAGyC,QAAQI,MAAMC,OACfnD,EAAK,CAAC,EAAGK,EAAGY,cAAc,GAAKzF,GAAK6E,EAAGY,eAEzCZ,EAAGqC,aAAalH,GAAM,CACpBxC,KAAK8B,IAAIf,EAAKU,MAAMc,GAAMT,IAAKuF,EAAGqC,aAAalH,GAAI,IACnDxC,KAAK+B,IAAIhB,EAAKU,MAAMc,GAAMR,IAAKsF,EAAGqC,aAAalH,GAAI,KAErD6E,EAAGe,YAAY5F,GAAM6E,EAAGqC,aAAalH,GAAI,GAAK6E,EAAGqC,aAAalH,GAAI,GAAK,EACpEzB,EAAK/C,SAASvC,eAAe8G,KAC9B8E,EAAGqC,aAAalH,GAAM,CAAC,EAAGzB,EAAK/C,SAASuE,GAAMvG,OAAS,GACvDqL,EAAGrJ,SAASuE,GAAQxB,EAAK/C,SAASuE,GAClC8E,EAAGe,YAAY5F,GAAMzB,EAAK/C,SAASuE,GAAMvG,UAI7C65B,EAAI7kB,eAAe,WAAY,CAC7BtH,aAAcrC,EAAGqC,aACjBtB,YAAaf,EAAGe,cAElBf,EAAGsC,QAAQY,cAAcxJ,KAAOsG,EAAGqC,aACnCrC,EAAGsC,QAAQW,aAAavJ,KAAOsG,EAAGe,YAC3BytB,GAGTA,EAAImF,iBAAmB,SAASj6B,EAAMgI,GACpC,IAAqC,IAAlC1B,EAAGc,OAAOtJ,QAAQkK,GACnB,MAAMjK,MAAM,oBAAqBiK,GAEnC,IAAI/B,EAAM,IAAI1K,aAAa+K,EAAGY,cAAc,GAAKZ,EAAGY,cAAc,IAC9DhF,EAASoE,EAAGc,OAAOtJ,QAAQkK,GAAa1B,EAAGnJ,QAAQlC,OACvD,IAAK,IAAIpC,EAAI,EAAGC,EAAIkH,EAAKgI,GAAW/M,OAAQpC,EAAIC,EAAGD,IACjDoN,EAAIpN,GAAKmH,EAAKwB,MAAM3I,GAEtByN,EAAGyC,QAAQI,MAAMC,OACfnD,EAAK,CAAC,EAAGK,EAAGY,cAAc,GAAKhF,GAASoE,EAAGY,gBAI/C4tB,EAAIoF,cAAgB,SAASl6B,EAAMm6B,GACjC,IAAI3C,EAAYv5B,MAAMC,QAAQ8B,GAAS,QAAU,OASjD,OARAsG,EAAGc,OAAO5C,MAAM8B,EAAGnJ,QAAQlC,QAAQwC,QAAQ,CAAC+D,EAAMC,KAChD,IAAI24B,EAAUD,EAAQ7zB,EAAGY,cAAc,GAEvC,QAAagE,KADY,SAAZssB,EAAuBx3B,EAAKyB,GAAMzB,EAAKwB,IAC5B,MAAMzD,MAAM,gDACpCuI,EAAGyC,QAAQI,MAAMC,OACf,IAAI7N,aAAayE,EAAKyB,IAAM,CAAC24B,EAAS9zB,EAAGY,cAAc,GAAKrO,GAAI,CAAC,EAAE,MAGhEi8B,GAGTA,EAAIjE,OAAS,SAAS10B,GACpB,IAAIk+B,EAAa9gC,OAAO21B,OAAO,CAC7B0B,iBAAiB,EACjBT,aAAa,EACbI,YAAY,EACZ5G,YAAY,GACXxtB,GAEmB+O,MAAnBmvB,EAAWjhC,MACoB,mBAAxBihC,EAAW1J,UACkB,mBAA3B0J,EAAWC,aAErBh0B,EAAGwpB,WAAW3xB,KAAKk8B,IAIvBvF,EAAIyF,SAAW,UAAU,GACvBtyB,EAAK,EAAC,KACN4V,EAAO,QAAO,MACd5Q,EAAQ,MAAK,KACbzQ,EAAO,EAAC,SACRmlB,EAAW,CAACxhB,OAAQ,MAEpB,IAAIkwB,EAAO/pB,EAAG4nB,MAAM,GASpB,GARIxnB,OAAOC,UAAUsB,IAAOA,EAAK3B,EAAG4nB,MAAMjzB,OACxCo1B,EAAO/pB,EAAG4nB,MAAMjmB,IAEhB3B,EAAG4nB,MAAMzqB,OAAOjE,GAAKA,EAAEyI,IAAMA,GACzBooB,EAAKp1B,OAAS,IAChBo1B,EAAOA,EAAK,KAGH,UAATxS,EAAkB,EACP8D,EAAS0O,EAAKzT,KAAK9Q,GAAKukB,EAAKzT,KAAKjQ,QAAUgV,EAASxhB,QAC3D1C,QAAQ+1B,IACb,IAAI1nB,EAAIukB,EAAK9K,MAAMzZ,EAAE0nB,GACrBnD,EAAK9K,MAAM7Y,IAAIU,OAAO,QACnB5L,KAAK,KAAMsK,GACXtK,KAAK,KAAMsK,GACXtK,KAAK,KAAM,GACXA,KAAK,KAAM6uB,EAAKzjB,OAASyjB,EAAKrQ,QAAQrR,IAAM0hB,EAAKrQ,QAAQ/Q,QACzDzN,KAAK,SAAUyL,GACfzL,KAAK,eAAgBhF,UAErB,GAAa,UAATqhB,EAAkB,EACd8D,EAAS0O,EAAKzT,KAAK/Q,GAAKwkB,EAAKzT,KAAKhQ,SAAW+U,EAASxhB,QAC5D1C,QAAQ+1B,IACb,IAAI3nB,EAAIwkB,EAAK9K,MAAM1Z,EAAE2nB,GACrBnD,EAAK9K,MAAM7Y,IAAIU,OAAO,QACnB5L,KAAK,KAAM,GACXA,KAAK,KAAM6uB,EAAK1jB,MAAQ0jB,EAAKrQ,QAAQtR,KAAO2hB,EAAKrQ,QAAQpT,QACzDpL,KAAK,KAAMqK,GACXrK,KAAK,KAAMqK,GACXrK,KAAK,SAAUyL,GACfzL,KAAK,eAAgBhF,OAK9B,IAAIg+B,EAAmBl+B,EAAQ0D,MAAQ1D,EAAQy7B,MAC/C,OAAIzxB,EAAGquB,OAAS6F,EACP/D,EAAWn6B,EAAQ0D,MACjBsG,EAAGquB,OACZ6B,EAAcx2B,KAAOy2B,EACrBD,EAAcuB,MAAQtB,EACfD,GAEA1B,I,cI3YXl8B,EAAOD,QAAU,CAef8hC,cAAc,EAedC,UAAU,EAsBVC,kBAAmB,GAoBnBC,UAAU,EAoBVC,kBAAmB,CAAC,OAAQ,QAAS,UAAW,Y,67EC5FnC,oBACX,IAAI58B,MAAMC,QAAQ8B,GACd,MAAM,IAAIjC,MAAM,+BAEpB,GAAoB,mBAAX,EACLiC,EAAKvC,QAAQ4X,OACV,CACH,IACIylB,EAAS,GAEbvhC,OAAOqD,KAAKyY,GAAM5X,SAAQ,SAAS7C,GACT,mBAAZya,EAAKza,GACXkgC,EAAOlgC,GAAK,SAASzB,GAAKA,EAAEyB,GAAKya,EAAKza,GAAGzB,IAEzC2hC,EAAOlgC,GAAKg3B,SAAS,OAAQ,QAAUh3B,EAAI,IAAMya,EAAKza,GAAG2kB,QAAQ,KAAM,SAASA,QAAQ,MAAO,MAAQ,QAI/Gvf,EAAKvC,SAAQ,SAAStE,GAClBI,OAAOqD,KAAKyY,GAAM5X,SAAQ,SAAS7C,GAC/BkgC,EAAOlgC,GAAGzB,SAKtB,OAAO6G,GCzBP,EAAQ,GACZ,SAASsC,EAAQrC,EAAOsC,GACpB,IAGIC,EAEJ,IAJUvC,EAAMhF,OAIP,OAAO,EAEhB,OAAQsH,GACJ,IAAK,MACDC,EAASvC,EAAMwC,QAAO,SAASL,EAAGC,GAC9B,OAAQD,EAAIC,EAAKD,EAAIC,KAEzB,MACJ,IAAK,MACDG,EAASvC,EAAMwC,QAAO,SAASL,EAAGC,GAC9B,OAAQD,EAAIC,EAAKD,EAAIC,KAEzB,MACJ,IAAK,MACL,IAAK,IACDG,EAASvC,EAAMwC,QAAO,SAASL,EAAGC,GAC9B,OAAOD,EAAIC,KAEf,MACJ,IAAK,KACL,IAAK,IACDG,EAASvC,EAAMwC,QAAO,SAASL,EAAGC,GAC9B,OAAOD,EAAIC,KAEf,MACJ,IAAK,OACL,IAAK,IACDG,EAASvC,EAAMwC,QAAO,SAASL,EAAGC,GAC9B,OAAOD,EAAIC,KAEf,MACJ,QACIG,EAASvC,EAAMwC,QAAO,SAASL,EAAGC,GAC9B,OAAOD,EAAIC,KAKvB,OAAOG,EAGX,EAAMC,OAAS,SAASF,GACpB,OAAO,SAAStC,GACZ,IAAImC,EAAKnC,aAAiBhC,MAASgC,EAAQhC,MAAMyE,MAAM,KAAM1H,WAC7D,OAAOsH,EAAQF,EAAGG,KAI1B,EAAMtB,IAAM,SAAShB,GACjB,OAAOqC,EAAQrC,EAAO,KAAOA,EAAMhF,QAIvC,EAAM8G,UAAY,SAAS9B,GACvB,IAAIe,EAAMsB,EAAQrC,EAAO,OACrBc,EAAMuB,EAAQrC,EAAO,OACrB0C,EAAQ3B,EAAMD,EAElB,OAAOd,EAAM2C,KAAI,SAASR,GACtB,OAAQA,EAAIrB,GAAO4B,MAI3B,EAAME,IAAM,SAASC,EAAOC,EAAKC,GAI7B,IAHA,IAAIf,EAAWe,GAAQ,EACnB/C,EAAQ,GAEJpH,EAAEiK,EAAOjK,GAAGkK,EAAKlK,GAAGoJ,EACxBhC,EAAM9B,KAAKtF,GAEf,OAAOoH,GAGX,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAMxC,SAAQ,SAASe,GACjD,EAAMA,GAAK,EAAMiE,OAAOjE,MAG5B,EAAMu8B,IAAM,EAAMt4B,OAAO,KAEzB,EAAMQ,KAAO,EAAMC,MAAQ,SAASd,GAIhC,IAHA,IAAIc,EAAQ,GACRC,EAAQ,EAEHtK,EAAI,EAAGA,EAAIuJ,EAAEnH,OAAQpC,IAC1BsK,GAASf,EAAEvJ,GACXqK,EAAM/E,KAAKgF,GAGf,OAAOD,GAGX,EAAME,MAAQ,SAAShB,GACnB,OAAO,EAAMa,KAAK,CAAC,GAAGI,OAAOjB,KAGjC,EAAMkB,KAAO,SAASlB,EAAGC,GACrB,IAAIkB,EAAa,GAMjB,OALAnB,EAAE3E,SAAQ,SAAStE,IACK,IAAhBkJ,EAAEvE,QAAQ3E,IACVoK,EAAWpF,KAAKhF,MAGjBoK,GAGX,EAAMC,UAAY,SAASpB,EAAGC,GAC1B,IAAItI,EAEJ,OADIsI,EAAEpH,OAASmH,EAAEnH,SAAQlB,EAAIsI,EAAGA,EAAID,EAAGA,EAAIrI,GACpCqI,EAAEqB,QAAO,SAAUC,GAClB,IAAsB,IAAlBrB,EAAEvE,QAAQ4F,GAAW,OAAO,MAI5C,EAAMC,OAAS,SAASvB,GACpB,OAAOA,EAAEK,QAAO,SAASJ,EAAGnJ,GAExB,OADImJ,EAAEvE,QAAQ5E,GAAK,GAAGmJ,EAAElE,KAAKjF,GACtBmJ,IACR,KAGP,EAAMuB,IAAM,SAASC,GAEjB,IADA,IAAIvJ,EAAIuJ,EAAE5I,OAAQmH,EAAInD,KAAK6E,IAAID,EAAE,IACxBhL,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAExB,IADA,IAAIwJ,EAAIpD,KAAK6E,IAAID,EAAEhL,IAAKK,EAAIkJ,EACrBA,GAAKC,GAAKD,EAAIC,EAAKD,GAAKC,EAAIA,GAAKD,EACxCA,EAAInD,KAAK6E,IAAI5K,EAAE2K,EAAEhL,KAAKuJ,EAAEC,GAE5B,OAAOD,GAGX,EAAM1B,MAAQ,SAAST,GACnB,MAAO,CACHe,IAAKsB,EAAQrC,EAAO,OACpBc,IAAKuB,EAAQrC,EAAO,OACpBgB,IAAKhB,EAAMgB,IAAIhB,KAIvB,EAAM8D,UAAY,SAAS9D,EAAO+D,EAAQC,EAAMC,GAU5C,IATA,IAAIpL,EAAImH,EAAMhF,OACV8F,EAAuB,iBAAV,EAAsBmD,EAAO5B,EAAQrC,EAAO,OAEzD0C,GADuB,iBAAV,EAAsBsB,EAAO3B,EAAQrC,EAAO,QAC3Cc,EAEdoD,EAAO,GAEPC,EAAK,IAAInG,MAAM+F,EAAO,GAAGK,KAAK,GAE1BhC,EAAI,EAAGA,EAAI2B,EAAQ3B,IACvB8B,EAAKhG,KAAK,CAAC4C,EAAM4B,GAASN,EAAE,GAAWtB,EAAM4B,GAAON,EAAE,GAAG,IAM7D,IAAI,IAAIxJ,EAAI,EAAGA,EAAIC,EAAGD,IAClByL,MAAQrF,KAAKC,OAAQe,EAAMpH,GAAKkI,GAAO4B,EAAQ,GAC/CyB,EAAGE,SAMP,OAFAF,EAAGJ,EAAO,IAAMI,EAAGJ,GAEZ,CACHG,KAAMA,EACNI,OAAQH,EAAGI,MAAM,EAAER,KAK3B,EAAMg3B,IAAM,SAAS57B,GACjB,IAAInG,EAAIqJ,EAAQlD,EAAU,KAAOA,EAASnE,OAG1C,OAAOqH,EAFElD,EAASwD,KAAI,SAASR,GAAI,OAAOnD,KAAKyF,IAAItC,EAAEnJ,EAAG,MAErC,MAAQmG,EAASnE,OAAS,IAGjD,EAAM0J,IAAM,SAASvF,GACjB,OAAOH,KAAK2F,KAAK,EAAMo2B,IAAI57B,KAGhB,QC1LA,kBACX,IAAIvG,EAGAi6B,EAIAmI,EANAniC,EAAIkH,EAAK/E,OACT0B,EAAau+B,GAAW3hC,OAAOqD,KAAKoD,EAAK,IAEzCmE,EAAO,GACPg3B,EAAgB,GAChB34B,EAAS,GAGb,IAAI6S,EAAK3a,eAAe,YAAc2a,EAAK3a,eAAe,QAAS,OAAO8H,EAE1E,GAAuB,iBAAb6S,EAAKgd,KAAkB,CAC7B,IAAIG,EAAUj5B,OAAOqD,KAAKyY,EAAKgd,MAAM,GACjCI,EAAWpd,EAAKgd,KAAKG,GAEzB,IAAoC,IAAjC71B,EAAWmB,QAAQ00B,GAAiB,CACnC,IAAI4I,EAASp7B,EAAK4C,KAAI,SAASzJ,GAAG,OAAOA,EAAEq5B,MACvCzxB,EAAM,EAAUA,IAAIq6B,GAEpBvI,GADM,EAAU7xB,IAAIo6B,GACCr6B,GAAO0xB,EAEhC,IAAI55B,EAAI,EAAGA,EAAIC,EAAGD,IACdmH,EAAKnH,GAAG,OAAS25B,GAAWvzB,KAAK8B,IAAI9B,KAAKC,MAAMc,EAAKnH,GAAG25B,GAASK,GAAcJ,EAAS,GAG5Fpd,EAAKK,OAAS,OAAS8c,EACvB71B,EAAWwB,KAAK,OAASq0B,IAIjC,IAAI35B,EAAI,EAAGA,EAAIC,EAAGD,IACXoF,MAAMC,QAAQmX,EAAKK,SAClBulB,EAAK,GACL5lB,EAAKK,OAAOjY,SAAQ,SAAS49B,GACzBJ,EAAG98B,KAAK6B,EAAKnH,GAAGwiC,OAEpBvI,EAAMqE,KAAKmE,UAAUL,IAErBnI,EAAM9yB,EAAKnH,GAAGwc,EAAKK,QAEnBvR,EAAKrG,QAAQg1B,GAAO,GACpB3uB,EAAKhG,KAAK20B,GACVqI,EAAcrI,GAAO,CAAC9yB,EAAKnH,KAE3BsiC,EAAcrI,GAAK30B,KAAK6B,EAAKnH,IAIrC,IAAI0iC,EAAKp3B,EAAKlJ,OAEd,IAAIpC,EAAI,EAAGA,EAAI0iC,EAAI1iC,IAAI,CACnB,IAAIyS,EAAM,GAeV,GAdGrN,MAAMC,QAAQmX,EAAKK,SAClBulB,EAAK9D,KAAKC,MAAMjzB,EAAKtL,IACrBwc,EAAKK,OAAOjY,SAAQ,SAAS7C,EAAGyE,GAC5BiM,EAAI1Q,GAAKqgC,EAAG57B,OAIhBiM,EAAI+J,EAAKK,QAAUvR,EAAKtL,GAGzBwc,EAAKmmB,QACJlwB,EAAItL,KAAOm7B,EAAch3B,EAAKtL,KAG/Bwc,EAAKK,QACQzX,MAAMC,QAAQmX,EAAKK,QAAUL,EAAKK,OAAS,CAACL,EAAKK,SAEvDjY,SAAQ,SAASg+B,GACnB,IAA+B,IAA5B9+B,EAAWmB,QAAQ29B,GAClB,MAAM19B,MAAM,2BAA4B09B,MAKpD,IAAI7lB,EAAMP,EAAKE,UAAYF,EAAKG,SAAW,GACvC5Y,EAAOrD,OAAOqD,KAAKgZ,GACvB,GAAmB,IAAhBhZ,EAAK3B,SAAiBoa,EAAKmmB,MAAO,OAAOh5B,EAC5C5F,EAAKa,SAAQ,SAASrD,GAClB,IAAIoH,EAAOpH,EACPmI,EAAMqT,EAAIxb,GAKd,GAHW,WAARmI,GAA4B,UAARA,IACnBf,EAAOpH,GAEY,iBAAbwb,EAAIxb,KACVmI,EAAMhJ,OAAOqD,KAAKgZ,EAAIxb,IAAM,GAC5BoH,EAAOoU,EAAIxb,GAAKmI,IAEiB,IAA9B5F,EAAWmB,QAAQ0D,IAAyB,MAATA,GAAiBvD,MAAMC,QAAQsD,KAOzE,GAAkB,mBAARe,EAEN+I,EAAIlR,GAAOmI,EAAIvJ,KAAK,KAAMmiC,EAAch3B,EAAKtL,IAAI+J,KAAI,SAASR,GAAI,OAAOA,EAAEZ,YACxE,GAAkB,iBAARe,EACb,GAAW,YAARA,EACC+I,EAAIlR,GAAO,EAAUuJ,OAAOw3B,EAAch3B,EAAKtL,IAAI+J,KAAI,SAASR,GAAI,OAAOA,EAAEhI,YAC1E,GAAY,UAARmI,EACP+I,EAAIlR,GAAO+gC,EAAch3B,EAAKtL,IAAI+J,KAAI,SAASR,GAAI,OAAOA,EAAEZ,WACzD,GAAY,WAARe,EACP+I,EAAIlR,GAAO+gC,EAAch3B,EAAKtL,IAAI,GAAG2I,QAClC,GAAY,WAARe,EAAkB,CACzB,IAAIm5B,EAAe,GACnBP,EAAch3B,EAAKtL,IAAI+J,KAAI,SAASR,GAAI,OAAOA,EAAEZ,MAAU/D,SAAQ,SAASxE,GACxEyiC,EAAeA,EAAar4B,OAAOpK,MAEvCqS,EAAIlR,GAAOshC,OACR,GAAY,WAARn5B,EACP+I,EAAIlR,GAAO+gC,EAAch3B,EAAKtL,IAAIoC,YAC/B,GAAY,UAARsH,EAAiB,CACxB,IAAIo5B,EAAWtmB,EAAa,SAAI,WAAa,UAC7C/J,EAAIlR,GAAmC,KAA3Bib,EAAKsmB,GAASvhC,GAAKmI,GACzB44B,EAAch3B,EAAKtL,IACnBsiC,EAAch3B,EAAKtL,IAAI+J,KAAI,SAAS5C,GAClC,IAAIT,EAAM,GAEV,OADA8V,EAAKjb,GAAKmI,GAAK9E,SAAQ,SAASa,GAAIiB,EAAIjB,GAAK0B,EAAK1B,MAC3CiB,SAEZ,CACH,IAAIq8B,EAAQr5B,EAAIiC,MAAM,GAEnBo3B,KAAS,IACRtwB,EAAIlR,GAAO,EAAUwhC,GAAO5iC,KAAK,KAAMmiC,EAAch3B,EAAKtL,IAAI+J,KAAI,SAASR,GACvE,OAAOA,EAAEZ,aA3CzB,CAKQ,IAAIq6B,EAAU,oEAAsEzhC,EAAM,IAAMib,EAAKjb,GACrGuF,QAAQm8B,KAAKD,OA2CzBr5B,EAAOrE,KAAKmN,GAGhB,OAAO9I,GC7II,SAAS,EAAMxC,EAAMqV,GAChC,IAAIlY,EAAU6C,EAAK,GAInB,OAFI/B,MAAMC,QAAQf,KAAUA,EAAU,IAE/B6C,EAAKyD,QAAO,SAASrB,GACxB,GAIR,SAAS25B,EAAOlhC,EAAKwa,EAAMlY,GACvB,IAAI0N,EACAtI,EACA1E,EACAm+B,GAAM,EAyCV,OAxCWziC,OAAOqD,KAAKyY,GAElB5X,SAAQ,SAASrD,GACP,SAARA,EACCyQ,GAASkxB,EAAOlhC,EAAKwa,EAAKjb,GAAM+C,GACnB,OAAP/C,GAAuB,QAAPA,GACtByQ,EAAgB,QAAPzQ,EACTib,EAAKjb,GAAKqD,SAAQ,SAAS7C,GACvBiQ,EAAgB,QAAPzQ,EAAiByQ,EAAQkxB,EAAOlhC,EAAKD,EAAGuC,GAAW0N,EAAQkxB,EAAOlhC,EAAKD,EAAGuC,QAGvFU,EAASV,EAAQlC,OAAS,EAAKkC,EAAQW,QAAQ1D,GAAOA,EAE9B,iBAAdib,EAAKjb,GAGE,MAFbmI,EAAMhJ,OAAOqD,KAAKyY,EAAKjb,IAAM,IAEtB,IAAaib,EAAKjb,GAAKmI,aAAgBtE,MAChC,OAAPsE,GAAuB,QAAPA,EACfsI,EAAiB,QAAPtI,EAAkB8S,EAAKjb,GAAKmI,GAAKzE,QAAQjD,EAAIgD,KAAW,EACrD,YAAP0E,EACNsI,EAAQhQ,EAAIT,IAAQib,EAAKjb,GAAKmI,GAAK,GAAK1H,EAAIgD,IAAUwX,EAAKjb,GAAKmI,GAAK,GACxD,aAAPA,EACNsI,EAAQhQ,EAAIT,GAAOib,EAAKjb,GAAKmI,GAAK,GAAK1H,EAAIgD,GAASwX,EAAKjb,GAAKmI,GAAK,GACtD,WAAPA,IACNsI,EAASwK,EAAKjb,GAAKmI,GAAKK,IAAI8D,QAAQ5I,SAAUjD,EAAIgD,KAAY,GAE5DwX,EAAKjb,aAAgB6D,QAC3B4M,EAAQhQ,EAAIT,IAAQib,EAAKjb,GAAK,GAAKS,EAAIgD,IAAUwX,EAAKjb,GAAK,IAI3DyQ,EADgB,MAAjBwK,EAAKjb,GAAK,GACAS,EAAIwa,EAAKjb,GAAKoK,MAAM,MAAQ3J,EAAIgD,GAEhCwX,EAAKjb,IAAQS,EAAIgD,IAItCm+B,GAAYnxB,KAGTmxB,EAjDAD,CAAO35B,EAAGiT,EAAMlY,GAAU,OAAOiF,KCF5C,IAAI65B,EAAQ,GACZA,EAAMpxB,MAAQ,EACdoxB,EAAMtmB,MAAQ/C,EAEdqpB,EAAMC,QAAU,SAASl8B,EAAMiI,GAC3B,IAAIk0B,EAAU,GASd,OARAn8B,EAAKvC,SAAQ,SAAStE,GACdgjC,EAAQzhC,eAAevB,EAAE8O,IAGzBk0B,EAAQhjC,EAAE8O,IAAK9J,KAAKhF,GAFpBgjC,EAAQhjC,EAAE8O,IAAO,CAAE9O,UAIhBA,EAAE8O,MAENk0B,GAOXF,EAAMt5B,MAAQ,SAAS3C,EAAMiI,GACzB,IAAIhI,EAAQD,EAAK4C,KAAI,SAASzJ,GAAG,OAAOA,EAAE8O,MAC1C,MAAO,CAAE,EAAUlH,IAAId,GAAQ,EAAUe,IAAIf,KAGjDg8B,EAAMr5B,IAAM,SAAS5C,EAAM/G,GACvB,IAAImjC,EAAK,SAASjjC,GAAG,OAAOA,GAM5B,MALgB,iBAANF,EACNmjC,EAAK,SAASjjC,GAAG,OAAOA,EAAEF,IACT,mBAANA,IACXmjC,EAAKnjC,GAEF+G,EAAK4C,IAAIw5B,IAYpBH,EAAM9I,OAAS,SAASnzB,EAAMqV,GAC1B,SAASgnB,EAAUj6B,EAAGC,EAAG1H,GACrB,OAAOyH,EAAEzH,GAAK0H,EAAE1H,GAAK,EAAIyH,EAAEzH,GAAK0H,EAAE1H,IAAM,EAAI,EAEhD,OAAOqF,EAAKmC,MAAK,SAASC,EAAGC,GAMzB,IALA,IAAI1I,EAAI,EACJd,EAAI,EACJ8D,EAAapD,OAAOqD,KAAKyY,GACzBinB,EAAK3/B,EAAW1B,OAEP,IAANtB,GAAWd,EAAIyjC,GAClB3iC,EAAI0iC,EAAUj6B,EAAGC,EAAG1F,EAAW9D,IAAMwc,EAAK1Y,EAAW9D,IACrDA,IAEJ,OAAOc,MAIfsiC,EAAMM,QAAU,SAASrjC,EAAG0B,EAAGtB,GAC3B,IAAI+b,EAAO,GAIX,OAHAza,EAAE6C,SAAQ,SAAS++B,GACfnnB,EAAKmnB,GAAMljC,KAER2iC,EAAM95B,KAAKjJ,EAAGmc,IAGzB4mB,EAAMl4B,UAAY,SAAS/D,EAAMqV,EAAMrU,EAAKD,GACxC,IAAIyB,EAAS,GACb,IAAI,IAAIpI,KAAOib,EACX7S,EAAOpI,GAAO,EAAU2J,UAAU/D,EAAK4C,KAAI,SAASzJ,GAAG,OAAOA,EAAEiB,MAAQib,EAAKjb,GAAM4G,EAAKD,GAE5F,OAAOyB,GAGXy5B,EAAMQ,aAAe,SAASz8B,EAAMqV,GAchC,IAbA,IAAIqnB,EAAUnjC,OAAOqD,KAAKyY,GAAM,GAC5B1Y,EAAapD,OAAOqD,KAAKyY,GAAM5R,QAAO,SAASnF,GAAK,MAAY,SAALA,GAAgBA,GAAGo+B,MAAc,GAC5FC,EAAYtnB,EAAKmmB,QAAS,EAC1Bx3B,EAASqR,EAAKqnB,GACdz8B,EAAQD,EAAK4C,KAAI,SAASzJ,GAAI,OAAOA,EAAEujC,MACvC5jC,EAAImH,EAAMhF,OACV8F,EAAM,EAAUA,IAAId,GAEpB0C,EADM,EAAU3B,IAAIf,GACNc,EAEdoD,EAAO,GAGH9B,EAAI,EAAGA,EAAI2B,EAAQ3B,IACvB8B,EAAK9B,GAAK,CAACiC,MAAOjC,EAAGu6B,WAAY77B,EAAM4B,GAASN,EAAE,GAAWw6B,SAAU97B,EAAM4B,GAAON,EAAE,GAAG,EAAU5F,MAAO,GAEtG0H,EAAK9B,GAAGrC,KAAO,GAQvB,IAAI,IAAInH,EAAI,EAAGA,EAAIC,EAAGD,IAClByL,MAAQrF,KAAKC,OAAQe,EAAMpH,GAAKkI,GAAO4B,EAAQ,GAC5C2B,OAASN,GAAQM,QACpBtE,EAAKnH,GAAGyL,MAAQA,MAEZH,EAAKG,OAAOtE,KAAK7B,KAAK6B,EAAKnH,IAOnCwc,EAAKynB,IAAM,eACJznB,EAAKqnB,GAEZ,IAAIl6B,EAASy5B,EAAMtmB,MAAM3V,EAAMqV,GAyB/B,OAxBA7S,EAASy5B,EAAMC,QAAQ15B,EAAQ,SAQ/B2B,EAAK1G,SAAQ,SAASq1B,GAEftwB,EAAO9H,eAAeo4B,EAAIxuB,QACzB3H,EAAWc,SAAQ,SAAS+D,GACxBsxB,EAAItxB,GAAQgB,EAAOswB,EAAIxuB,OAAO,GAAG9C,MAElCm7B,IAAW7J,EAAI9yB,KAAOwC,EAAOswB,EAAIxuB,OAAO,GAAGtE,OAE9CrD,EAAWc,SAAQ,SAAS+D,GACxBsxB,EAAItxB,GAAQ,QAOjB2C,GAGX83B,EAAMc,UAAY,SAAS/8B,EAAMg9B,GAM7B,IALA,IAEIC,EAFAn7B,EAAM9B,EAAK/E,OACXN,EAAIsE,KAAK8H,KAAKjF,EAAMk7B,GAEpBE,EAAa,GAET76B,EAAI,EAAGA,EAAI26B,EAAS36B,IACxB66B,EAAW76B,GAAK,CAAC06B,UAAW16B,EAAGrC,KAAM,GAAIvD,MAAO,GAGpD,IAAI,IAAI5D,EAAI,EAAGA,EAAIiJ,EAAKjJ,IAEpBqkC,EADAD,EAAMh+B,KAAKC,MAAMrG,EAAI8B,IACLqF,KAAK7B,KAAK6B,EAAKnH,IAC/BqkC,EAAWD,GAAKxgC,QAGpB,OAAOygC,GAGXjB,EAAMkB,YAAc,SAASn9B,EAAMqV,GAC/B,IACI4nB,EADAn7B,EAAM9B,EAAK/E,OAEXiiC,EAAa,GACb9iC,EAAMb,OAAOqD,KAAKyY,GAAM,GACxBwP,EAAQxP,EAAKjb,GAEjByqB,EAAMpnB,SAAQ,SAAS4E,EAAG+6B,GACtBF,EAAWE,GAAM,CAACL,UAAWK,EAAIp9B,KAAM,GAAIvD,MAAO,EAAGrD,KAAMiJ,MAG/D,IAAI,IAAIxJ,EAAI,EAAGA,EAAIiJ,EAAKjJ,KACpBokC,EAAMpY,EAAM/mB,QAAQkC,EAAKnH,GAAGuB,MACpB,IACJ8iC,EAAWD,GAAKj9B,KAAK7B,KAAK6B,EAAKnH,IAC/BqkC,EAAWD,GAAKxgC,SAGxB,OAAOygC,GAGXjB,EAAMl6B,UAAY,SAAS/B,EAAMoH,GAC7B,IAAIi2B,EAAO,GAaX,OAXAj2B,EAAO3J,SAAQ,SAASe,GACpB,IAAIyB,EAAQD,EAAK4C,KAAI,SAASzJ,GAAI,OAAOA,EAAEqF,MAC3C6+B,EAAK7+B,GAAK,EAAUuD,UAAU9B,MAGlCD,EAAKvC,SAAQ,SAAStE,EAAGN,GACrBuO,EAAO3J,SAAQ,SAASe,GACpBrF,EAAEqF,GAAK6+B,EAAK7+B,GAAG3F,SAIhBmH,GAGXi8B,EAAMqB,cAAgB,SAASt9B,GAC3B,IAAIu9B,EAAc,GAalB,OAZI5gC,WAAapD,OAAOqD,KAAKoD,EAAK,IAAIyD,QAAO,SAASnF,GAAK,OAAOA,KAElE3B,WAAWc,SAAQ,SAAS+D,GACxB+7B,EAAYp/B,KAAK6B,EAAK4C,KAAI,SAASzJ,GAAG,OAAOA,EAAEqI,UAGnD+7B,EAAYn2B,OAASzK,WAErBA,WAAWc,SAAQ,SAAS+D,EAAMC,GAC9B87B,EAAY/7B,GAAQ+7B,EAAY97B,MAG7B87B,GAGI,QC/Nf,SAAS78B,EAAMV,EAAMoH,GAEjB,IAAInJ,MAAMC,QAAQ8B,GACd,MAAM,IAAIjC,MAAM,+BAEpB,IAAIyE,EAAS,GAYb,OAVA4E,EAAO3J,SAAQ,SAASe,GACpB,IAAI4D,EAAIpC,EAAK4C,KAAI,SAASzJ,GAAG,OAAOA,EAAEqF,MACtCgE,EAAOhE,GAAK,CACRuC,IAAK,EAAMA,IAAIqB,GACfpB,IAAK,EAAMA,IAAIoB,GACfnB,IAAK,EAAMA,IAAImB,GACfuC,IAAK,EAAMA,IAAIvC,OAIhBI,EAIX9B,EAAMQ,QAAU,SAASlB,EAAMoH,GAC3B,IAAInJ,MAAMC,QAAQ8B,GACd,MAAM,IAAIjC,MAAM,+BAEpB,IAAIyE,EAAS,GAOb,OALA4E,EAAO3J,SAAQ,SAASe,GACpB,IAAI4D,EAAIpC,EAAK4C,KAAI,SAASzJ,GAAG,OAAOA,EAAEqF,MACtCgE,EAAOhE,GAAK,CAAE,EAAMuC,IAAIqB,GAAI,EAAMpB,IAAIoB,OAGnCI,GAGI,QCrCf,SAASqC,EAAUzC,EAAGC,GAClB,IAAInJ,EAAI,GAKR,OAJAkJ,EAAE3E,SAAQ,SAAS+B,EAAG3G,GAClBK,EAAEL,GAAK2G,EAAI6C,EAAExJ,MAGVK,EAcX,SAAS+L,EAAW7C,EAAGC,GACnB,IAAInJ,EAAI,GAKR,OAJAkJ,EAAE3E,SAAQ,SAAS+B,EAAG3G,GAClBK,EAAEL,GAAkB,IAAZ2G,EAAI6C,EAAExJ,OAGXK,EAcI,OACXskC,IAAK34B,EACLk2B,IAjCJ,SAAmBh2B,GAIf,IAHA,IAAIvC,EAASuC,EAAQ,GACjBC,EAAkBD,EAAQ9J,OAEtBpC,EAAI,EAAGA,EAAImM,EAAiBnM,IAChC2J,EAASqC,EAAUrC,EAAQuC,EAAQlM,IAGvC,OAAO2J,GA0BPvB,IAdJ,SAAmB8D,GAIf,IAHA,IAAIvC,EAASuC,EAAQ,GACjBC,EAAkBD,EAAQ9J,OAEtBpC,EAAI,EAAGA,EAAImM,EAAiBnM,IAChC2J,EAAUyC,EAAWzC,EAAQuC,EAAQlM,IAGzC,OAAO2J,ICrCI,gBACb,OAAOJ,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIo7B,KCChC,cAEb,OADuB,IAAnBC,EAAQziC,SAAcyiC,EAyB5B,SAA6Bl/B,GAC3B,OAAO,SAASrF,EAAG2S,GACjB,OAAO6xB,EAAUn/B,EAAErF,GAAI2S,IA3BW8xB,CAAoBF,IACjD,CACLhvB,KAAM,SAAStM,EAAG0J,EAAG+xB,EAAIC,GAGvB,IAFU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAK17B,EAAEnH,QAChB4iC,EAAKC,GAAI,CACd,IAAIC,EAAMF,EAAKC,IAAO,EAClBJ,EAAQt7B,EAAE27B,GAAMjyB,GAAK,EAAG+xB,EAAKE,EAAM,EAClCD,EAAKC,EAEZ,OAAOF,GAET7uB,MAAO,SAAS5M,EAAG0J,EAAG+xB,EAAIC,GAGxB,IAFU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAK17B,EAAEnH,QAChB4iC,EAAKC,GAAI,CACd,IAAIC,EAAMF,EAAKC,IAAO,EAClBJ,EAAQt7B,EAAE27B,GAAMjyB,GAAK,EAAGgyB,EAAKC,EAC5BF,EAAKE,EAAM,EAElB,OAAOF,KCpBb,IAAIG,EAAkBC,EAASN,GACpBO,EAAcF,EAAgBhvB,MAE1BmvB,GADSH,EAAgBtvB,KACzB,GCJA,ICFX,EAAQzQ,MAAMxD,UCAH,GDEI,EAAM+J,MACR,EAAM5B,ICHR,gBACbE,GAASA,EAAOs7B,GAAQA,EAAMl4B,GAAQ5L,EAAIU,UAAUC,QAAU,GAAKmjC,EAAOt7B,EAAOA,EAAQ,EAAG,GAAKxI,EAAI,EAAI,GAAK4L,EAM9G,IAJA,IAAIrN,GAAK,EACLyB,EAAoD,EAAhD2E,KAAK+B,IAAI,EAAG/B,KAAK8H,MAAMq3B,EAAOt7B,GAASoD,IAC3CvD,EAAQ,IAAI1E,MAAM3D,KAEbzB,EAAIyB,GACXqI,EAAM9J,GAAKiK,EAAQjK,EAAIqN,EAGzB,OAAOvD,ICXL07B,EAAMp/B,KAAK2F,KAAK,IAChB05B,EAAKr/B,KAAK2F,KAAK,IACf25B,EAAKt/B,KAAK2F,KAAK,GAEJ,kBACb,IAAIoiB,EAEA1sB,EACA0nB,EACA9b,EAHArN,GAAK,EAMT,GAD8B4D,GAASA,GAAzBqG,GAASA,MAAvBs7B,GAAQA,IACc3hC,EAAQ,EAAG,MAAO,CAACqG,GAEzC,IADIkkB,EAAUoX,EAAOt7B,KAAOxI,EAAIwI,EAAOA,EAAQs7B,EAAMA,EAAO9jC,GACT,KAA9C4L,EAAOs4B,EAAc17B,EAAOs7B,EAAM3hC,MAAkBgiC,SAASv4B,GAAO,MAAO,GAEhF,GAAIA,EAAO,EAIT,IAHApD,EAAQ7D,KAAK8H,KAAKjE,EAAQoD,GAC1Bk4B,EAAOn/B,KAAKC,MAAMk/B,EAAOl4B,GACzB8b,EAAQ,IAAI/jB,MAAM3D,EAAI2E,KAAK8H,KAAKq3B,EAAOt7B,EAAQ,MACtCjK,EAAIyB,GAAG0nB,EAAMnpB,IAAMiK,EAAQjK,GAAKqN,OAKzC,IAHApD,EAAQ7D,KAAKC,MAAM4D,EAAQoD,GAC3Bk4B,EAAOn/B,KAAK8H,KAAKq3B,EAAOl4B,GACxB8b,EAAQ,IAAI/jB,MAAM3D,EAAI2E,KAAK8H,KAAKjE,EAAQs7B,EAAO,MACtCvlC,EAAIyB,GAAG0nB,EAAMnpB,IAAMiK,EAAQjK,GAAKqN,EAK3C,OAFI8gB,GAAShF,EAAMgF,UAEZhF,GAGF,SAASwc,EAAc17B,EAAOs7B,EAAM3hC,GACzC,IAAIyJ,GAAQk4B,EAAOt7B,GAAS7D,KAAK+B,IAAI,EAAGvE,GACpCiiC,EAAQz/B,KAAKC,MAAMD,KAAKW,IAAIsG,GAAQjH,KAAK0/B,MACzCC,EAAQ14B,EAAOjH,KAAKyF,IAAI,GAAIg6B,GAChC,OAAOA,GAAS,GACTE,GAASP,EAAM,GAAKO,GAASN,EAAK,EAAIM,GAASL,EAAK,EAAI,GAAKt/B,KAAKyF,IAAI,GAAIg6B,IAC1Ez/B,KAAKyF,IAAI,IAAKg6B,IAAUE,GAASP,EAAM,GAAKO,GAASN,EAAK,EAAIM,GAASL,EAAK,EAAI,GAGlF,SAASM,EAAS/7B,EAAOs7B,EAAM3hC,GACpC,IAAIqiC,EAAQ7/B,KAAK6E,IAAIs6B,EAAOt7B,GAAS7D,KAAK+B,IAAI,EAAGvE,GAC7CsiC,EAAQ9/B,KAAKyF,IAAI,GAAIzF,KAAKC,MAAMD,KAAKW,IAAIk/B,GAAS7/B,KAAK0/B,OACvDC,EAAQE,EAAQC,EAIpB,OAHIH,GAASP,EAAKU,GAAS,GAClBH,GAASN,EAAIS,GAAS,EACtBH,GAASL,IAAIQ,GAAS,GACxBX,EAAOt7B,GAASi8B,EAAQA,ECjDlB,ICAA,cAQb,IAPA,IACI9lC,EAGA+lC,EACA/+B,EALA3F,EAAI2kC,EAAOhkC,OAEXpC,GAAK,EACLwG,EAAI,IAICxG,EAAIyB,GAAG+E,GAAK4/B,EAAOpmC,GAAGoC,OAG/B,IAFA+jC,EAAS,IAAI/gC,MAAMoB,KAEV/E,GAAK,GAGZ,IADArB,GADAgH,EAAQg/B,EAAO3kC,IACLW,SACDhC,GAAK,GACZ+lC,IAAS3/B,GAAKY,EAAMhH,GAIxB,OAAO+lC,GCnBF,SAASE,EAAUhlB,EAAQvX,GAChC,OAAQ3H,UAAUC,QAChB,KAAK,EAAG,MACR,KAAK,EAAGoB,KAAKsG,MAAMuX,GAAS,MAC5B,QAAS7d,KAAKsG,MAAMA,GAAOuX,OAAOA,GAEpC,OAAO7d,KCJT,SAAS,KAkDT,SAAS,EAAI9B,EAAQiE,GACnB,IAAIoE,EAAM,IAAI,EAGd,GAAIrI,aAAkB,EAAKA,EAAO4kC,MAAK,SAASrlC,EAAOM,GAAOwI,EAAIimB,IAAIzuB,EAAKN,WAGtE,GAAImE,MAAMC,QAAQ3D,GAAS,CAC9B,IAEIjB,EAFAT,GAAK,EACLyB,EAAIC,EAAOU,OAGf,GAAS,MAALuD,EAAW,OAAS3F,EAAIyB,GAAGsI,EAAIimB,IAAIhwB,EAAG0B,EAAO1B,SAC5C,OAASA,EAAIyB,GAAGsI,EAAIimB,IAAIrqB,EAAElF,EAAIiB,EAAO1B,GAAIA,EAAG0B,GAASjB,QAIvD,GAAIiB,EAAQ,IAAK,IAAIH,KAAOG,EAAQqI,EAAIimB,IAAIzuB,EAAKG,EAAOH,IAE7D,OAAOwI,EAnET,EAAInI,UAAY,EAAIA,UAAY,CAC9B6/B,YAAa,EACb8E,IAAK,SAAShlC,GACZ,MAPgB,IAOCA,KAAQiC,MAE3B3C,IAAK,SAASU,GACZ,OAAOiC,KAVS,IAUKjC,IAEvByuB,IAAK,SAASzuB,EAAKN,GAEjB,OADAuC,KAbgB,IAaFjC,GAAON,EACduC,MAETukB,OAAQ,SAASxmB,GACf,IAAII,EAjBY,IAiBQJ,EACxB,OAAOI,KAAY6B,aAAeA,KAAK7B,IAEzCoZ,MAAO,WACL,IAAK,IAAIpZ,KAAY6B,KArBL,MAqBe7B,EAAS,WAAsB6B,KAAK7B,IAErEoC,KAAM,WACJ,IAAIA,EAAO,GACX,IAAK,IAAIpC,KAAY6B,KAzBL,MAyBe7B,EAAS,IAAeoC,EAAKuB,KAAK3D,EAASgK,MAAM,IAChF,OAAO5H,GAETuD,OAAQ,WACN,IAAIA,EAAS,GACb,IAAK,IAAI3F,KAAY6B,KA9BL,MA8Be7B,EAAS,IAAe2F,EAAOhC,KAAK9B,KAAK7B,IACxE,OAAO2F,GAETk/B,QAAS,WACP,IAAIA,EAAU,GACd,IAAK,IAAI7kC,KAAY6B,KAnCL,MAmCe7B,EAAS,IAAe6kC,EAAQlhC,KAAK,CAAC/D,IAAKI,EAASgK,MAAM,GAAI1K,MAAOuC,KAAK7B,KACzG,OAAO6kC,GAET7iC,KAAM,WACJ,IAAIA,EAAO,EACX,IAAK,IAAIhC,KAAY6B,KAxCL,MAwCe7B,EAAS,MAAiBgC,EACzD,OAAOA,GAET8iC,MAAO,WACL,IAAK,IAAI9kC,KAAY6B,KAAM,GA5CX,MA4Ce7B,EAAS,GAAe,OAAO,EAC9D,OAAO,GAET2kC,KAAM,SAAS3gC,GACb,IAAK,IAAIhE,KAAY6B,KAhDL,MAgDe7B,EAAS,IAAegE,EAAEnC,KAAK7B,GAAWA,EAASgK,MAAM,GAAInI,QA0BjF,QCxEf,SAASkjC,KAET,IAAIC,EAAQ,EAAI/kC,UAkBhB,SAASouB,EAAItuB,EAAQiE,GACnB,IAAIqqB,EAAM,IAAI0W,EAGd,GAAIhlC,aAAkBglC,EAAKhlC,EAAO4kC,MAAK,SAASrlC,GAAS+uB,EAAI2U,IAAI1jC,WAG5D,GAAIS,EAAQ,CACf,IAAI1B,GAAK,EAAGyB,EAAIC,EAAOU,OACvB,GAAS,MAALuD,EAAW,OAAS3F,EAAIyB,GAAGuuB,EAAI2U,IAAIjjC,EAAO1B,SACzC,OAASA,EAAIyB,GAAGuuB,EAAI2U,IAAIh/B,EAAEjE,EAAO1B,GAAIA,EAAG0B,IAG/C,OAAOsuB,EA7BT0W,EAAI9kC,UAAYouB,EAAIpuB,UAAY,CAC9B6/B,YAAaiF,EACbH,IAAKI,EAAMJ,IACX5B,IAAK,SAAS1jC,GAGZ,OADAuC,KDXgB,KCUhBvC,GAAS,KACcA,EAChBuC,MAETukB,OAAQ4e,EAAM5e,OACdhN,MAAO4rB,EAAM5rB,MACbzT,OAAQq/B,EAAM5iC,KACdJ,KAAMgjC,EAAMhjC,KACZ8iC,MAAOE,EAAMF,MACbH,KAAMK,EAAML,MAmBC,ICtCX,EAAQlhC,MAAMxD,UAEP,EAAM,EAAMmI,IACZ,EAAQ,EAAM4B,MCCdi7B,EAAW,CAACrmC,KAAM,YAEd,SAASsmC,IACtB,IAAI7hC,EAAQ,IACRqc,EAAS,GACTvX,EAAQ,GACRg9B,EAAUF,EAEd,SAAS79B,EAAMzI,GACb,IAAIiB,EAAMjB,EAAI,GAAIN,EAAIgF,EAAMnE,IAAIU,GAChC,IAAKvB,EAAG,CACN,GAAI8mC,IAAYF,EAAU,OAAOE,EACjC9hC,EAAMgrB,IAAIzuB,EAAKvB,EAAIqhB,EAAO/b,KAAKhF,IAEjC,OAAOwJ,GAAO9J,EAAI,GAAK8J,EAAM1H,QAyB/B,OAtBA2G,EAAMsY,OAAS,SAASsI,GACtB,IAAKxnB,UAAUC,OAAQ,OAAOif,EAAO1V,QACrC0V,EAAS,GAAIrc,EAAQ,IAErB,IADA,IAA0B1E,EAAGiB,EAAzBvB,GAAK,EAAGyB,EAAIkoB,EAAEvnB,SACTpC,EAAIyB,GAAQuD,EAAMuhC,IAAIhlC,GAAOjB,EAAIqpB,EAAE3pB,IAAM,KAAKgF,EAAMgrB,IAAIzuB,EAAK8f,EAAO/b,KAAKhF,IAClF,OAAOyI,GAGTA,EAAMe,MAAQ,SAAS6f,GACrB,OAAOxnB,UAAUC,QAAU0H,EAAQ,EAAM3J,KAAKwpB,GAAI5gB,GAASe,EAAM6B,SAGnE5C,EAAM+9B,QAAU,SAASnd,GACvB,OAAOxnB,UAAUC,QAAU0kC,EAAUnd,EAAG5gB,GAAS+9B,GAGnD/9B,EAAMg+B,KAAO,WACX,OAAOF,EAAQxlB,EAAQvX,GAAOg9B,QAAQA,IAGxCT,EAAUx8B,MAAMd,EAAO5G,WAEhB4G,ECvCM,SAASi+B,IACtB,IAII35B,EACA45B,EALAl+B,EAAQ89B,IAAUC,aAAQz0B,GAC1BgP,EAAStY,EAAMsY,OACf6lB,EAAen+B,EAAMe,MACrBA,EAAQ,CAAC,EAAG,GAGZq9B,GAAQ,EACRC,EAAe,EACfC,EAAe,EACfte,EAAQ,GAIZ,SAASue,IACP,IAAI7lC,EAAI4f,IAASjf,OACb+rB,EAAUrkB,EAAM,GAAKA,EAAM,GAC3BG,EAAQH,EAAMqkB,EAAU,GACxBoX,EAAOz7B,EAAM,EAAIqkB,GACrB9gB,GAAQk4B,EAAOt7B,GAAS7D,KAAK+B,IAAI,EAAG1G,EAAI2lC,EAA8B,EAAfC,GACnDF,IAAO95B,EAAOjH,KAAKC,MAAMgH,IAC7BpD,IAAUs7B,EAAOt7B,EAAQoD,GAAQ5L,EAAI2lC,IAAiBre,EACtDke,EAAY55B,GAAQ,EAAI+5B,GACpBD,IAAOl9B,EAAQ7D,KAAK+gC,MAAMl9B,GAAQg9B,EAAY7gC,KAAK+gC,MAAMF,IAC7D,IAAI3/B,EAAS,EAAS7F,GAAGsI,KAAI,SAAS/J,GAAK,OAAOiK,EAAQoD,EAAOrN,KACjE,OAAOknC,EAAa/Y,EAAU7mB,EAAO6mB,UAAY7mB,GAmDnD,cAhEOyB,EAAM+9B,QAgBb/9B,EAAMsY,OAAS,SAASsI,GACtB,OAAOxnB,UAAUC,QAAUif,EAAOsI,GAAI2d,KAAajmB,KAGrDtY,EAAMe,MAAQ,SAAS6f,GACrB,OAAOxnB,UAAUC,QAAU0H,EAAQ,EAAE6f,EAAE,IAAKA,EAAE,IAAK2d,KAAax9B,EAAM6B,SAGxE5C,EAAMw+B,WAAa,SAAS5d,GAC1B,OAAO7f,EAAQ,EAAE6f,EAAE,IAAKA,EAAE,IAAKwd,GAAQ,EAAMG,KAG/Cv+B,EAAMk+B,UAAY,WAChB,OAAOA,GAGTl+B,EAAMsE,KAAO,WACX,OAAOA,GAGTtE,EAAMo+B,MAAQ,SAASxd,GACrB,OAAOxnB,UAAUC,QAAU+kC,IAAUxd,EAAG2d,KAAaH,GAGvDp+B,EAAMoe,QAAU,SAASwC,GACvB,OAAOxnB,UAAUC,QAAUglC,EAAehhC,KAAK8B,IAAI,EAAGm/B,GAAgB1d,GAAI2d,KAAaF,GAGzFr+B,EAAMq+B,aAAe,SAASzd,GAC5B,OAAOxnB,UAAUC,QAAUglC,EAAehhC,KAAK8B,IAAI,EAAGyhB,GAAI2d,KAAaF,GAGzEr+B,EAAMs+B,aAAe,SAAS1d,GAC5B,OAAOxnB,UAAUC,QAAUilC,GAAgB1d,EAAG2d,KAAaD,GAG7Dt+B,EAAMggB,MAAQ,SAASY,GACrB,OAAOxnB,UAAUC,QAAU2mB,EAAQ3iB,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,EAAGyhB,IAAK2d,KAAave,GAG/EhgB,EAAMg+B,KAAO,WACX,OAAOC,EAAK3lB,IAAUvX,GACjBq9B,MAAMA,GACNC,aAAaA,GACbC,aAAaA,GACbte,MAAMA,IAGNsd,EAAUx8B,MAAMy9B,IAAWnlC,WChFrB,sBACbs/B,EAAY7/B,UAAY4lC,EAAQ5lC,UAAYA,EAC5CA,EAAU6/B,YAAcA,GAGnB,SAASzJ,EAAO9Q,EAAQugB,GAC7B,IAAI7lC,EAAYlB,OAAOY,OAAO4lB,EAAOtlB,WACrC,IAAK,IAAIL,KAAOkmC,EAAY7lC,EAAUL,GAAOkmC,EAAWlmC,GACxD,OAAOK,ECNF,SAAS8lC,KAET,IAGHC,EAAM,sBACNC,EAAM,gDACNC,EAAM,iDACNC,EAAQ,qBACRC,EAAe,IAAInP,OAAO,UAAY,CAAC+O,EAAKA,EAAKA,GAAO,QACxDK,EAAe,IAAIpP,OAAO,UAAY,CAACiP,EAAKA,EAAKA,GAAO,QACxDI,EAAgB,IAAIrP,OAAO,WAAa,CAAC+O,EAAKA,EAAKA,EAAKC,GAAO,QAC/DM,GAAgB,IAAItP,OAAO,WAAa,CAACiP,EAAKA,EAAKA,EAAKD,GAAO,QAC/DO,GAAe,IAAIvP,OAAO,UAAY,CAACgP,EAAKC,EAAKA,GAAO,QACxDO,GAAgB,IAAIxP,OAAO,WAAa,CAACgP,EAAKC,EAAKA,EAAKD,GAAO,QAE/DS,GAAQ,CACVC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXvqB,IAAK,SACLwqB,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAiBf,SAASC,KACP,OAAOjuC,KAAKqe,MAAM6vB,YAOpB,SAASC,KACP,OAAOnuC,KAAKqe,MAAM+vB,YAGL,SAAS,GAAM//B,GAC5B,IAAIzR,EAAGH,EAEP,OADA4R,GAAUA,EAAS,IAAIggC,OAAO5vB,eACtB7hB,EAAI0nC,EAAMgK,KAAKjgC,KAAY5R,EAAIG,EAAE,GAAGgC,OAAQhC,EAAI0F,SAAS1F,EAAE,GAAI,IAAW,IAANH,EAAU8xC,GAAK3xC,GAC/E,IAANH,EAAU,IAAI+xC,GAAK5xC,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAANH,EAAU,IAAI+xC,GAAI5xC,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACxE,IAANH,EAAU,IAAI+xC,GAAK5xC,GAAK,GAAK,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KACrJ,OACCA,EAAI2nC,EAAa+J,KAAKjgC,IAAW,IAAImgC,GAAI5xC,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAI4nC,EAAa8J,KAAKjgC,IAAW,IAAImgC,GAAW,IAAP5xC,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAI6nC,EAAc6J,KAAKjgC,IAAWsQ,GAAK/hB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAI8nC,GAAc4J,KAAKjgC,IAAWsQ,GAAY,IAAP/hB,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAI+nC,GAAa2J,KAAKjgC,IAAWogC,GAAK7xC,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAIgoC,GAAc0J,KAAKjgC,IAAWogC,GAAK7xC,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxEioC,GAAMxmC,eAAegQ,GAAUkgC,GAAK1J,GAAMx2B,IAC/B,gBAAXA,EAA2B,IAAImgC,GAAIpN,IAAKA,IAAKA,IAAK,GAClD,KAGR,SAASmN,GAAKtwC,GACZ,OAAO,IAAIuwC,GAAIvwC,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,GAG1D,SAAS0gB,GAAKrhB,EAAGmzB,EAAGzqB,EAAGD,GAErB,OADIA,GAAK,IAAGzI,EAAImzB,EAAIzqB,EAAIo7B,KACjB,IAAIoN,GAAIlxC,EAAGmzB,EAAGzqB,EAAGD,GAGnB,SAAS2oC,GAAWzxC,GAEzB,OADMA,aAAainC,IAAQjnC,EAAI,GAAMA,IAChCA,EAEE,IAAIuxC,IADXvxC,EAAIA,EAAEohB,OACW/gB,EAAGL,EAAEwzB,EAAGxzB,EAAE+I,EAAG/I,EAAEwjB,SAFjB,IAAI+tB,GAKd,SAAS,GAAIlxC,EAAGmzB,EAAGzqB,EAAGya,GAC3B,OAA4B,IAArB9hB,UAAUC,OAAe8vC,GAAWpxC,GAAK,IAAIkxC,GAAIlxC,EAAGmzB,EAAGzqB,EAAc,MAAXya,EAAkB,EAAIA,GAGlF,SAAS+tB,GAAIlxC,EAAGmzB,EAAGzqB,EAAGya,GAC3BzgB,KAAK1C,GAAKA,EACV0C,KAAKywB,GAAKA,EACVzwB,KAAKgG,GAAKA,EACVhG,KAAKygB,SAAWA,EA2BlB,SAASkuB,KACP,MAAO,IAAMpwB,GAAIve,KAAK1C,GAAKihB,GAAIve,KAAKywB,GAAKlS,GAAIve,KAAKgG,GAGpD,SAAS4oC,KACP,IAAI7oC,EAAI/F,KAAKygB,QACb,OAAc,KADQ1a,EAAI+gB,MAAM/gB,GAAK,EAAInD,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,EAAGqB,KAC/C,OAAS,SACrBnD,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,IAAK9B,KAAK+gC,MAAM3jC,KAAK1C,IAAM,IAAM,KACtDsF,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,IAAK9B,KAAK+gC,MAAM3jC,KAAKywB,IAAM,IAAM,KACtD7tB,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,IAAK9B,KAAK+gC,MAAM3jC,KAAKgG,IAAM,KACzC,IAAND,EAAU,IAAM,KAAOA,EAAI,KAGpC,SAASwY,GAAI9gB,GAEX,QADAA,EAAQmF,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,IAAK9B,KAAK+gC,MAAMlmC,IAAU,KACvC,GAAK,IAAM,IAAMA,EAAMsrB,SAAS,IAGlD,SAAS0lB,GAAKrsB,EAAG7jB,EAAG9B,EAAGsJ,GAIrB,OAHIA,GAAK,EAAGqc,EAAI7jB,EAAI9B,EAAI2kC,IACf3kC,GAAK,GAAKA,GAAK,EAAG2lB,EAAI7jB,EAAI6iC,IAC1B7iC,GAAK,IAAG6jB,EAAIgf,KACd,IAAIyN,GAAIzsB,EAAG7jB,EAAG9B,EAAGsJ,GAGnB,SAAS+oC,GAAW7xC,GACzB,GAAIA,aAAa4xC,GAAK,OAAO,IAAIA,GAAI5xC,EAAEmlB,EAAGnlB,EAAEsB,EAAGtB,EAAER,EAAGQ,EAAEwjB,SAEtD,GADMxjB,aAAainC,IAAQjnC,EAAI,GAAMA,KAChCA,EAAG,OAAO,IAAI4xC,GACnB,GAAI5xC,aAAa4xC,GAAK,OAAO5xC,EAE7B,IAAIK,GADJL,EAAIA,EAAEohB,OACI/gB,EAAI,IACVmzB,EAAIxzB,EAAEwzB,EAAI,IACVzqB,EAAI/I,EAAE+I,EAAI,IACVtB,EAAM9B,KAAK8B,IAAIpH,EAAGmzB,EAAGzqB,GACrBrB,EAAM/B,KAAK+B,IAAIrH,EAAGmzB,EAAGzqB,GACrBoc,EAAIgf,IACJ7iC,EAAIoG,EAAMD,EACVjI,GAAKkI,EAAMD,GAAO,EAUtB,OATInG,GACa6jB,EAAX9kB,IAAMqH,GAAU8rB,EAAIzqB,GAAKzH,EAAc,GAATkyB,EAAIzqB,GAC7ByqB,IAAM9rB,GAAUqB,EAAI1I,GAAKiB,EAAI,GAC5BjB,EAAImzB,GAAKlyB,EAAI,EACvBA,GAAK9B,EAAI,GAAMkI,EAAMD,EAAM,EAAIC,EAAMD,EACrC0d,GAAK,IAEL7jB,EAAI9B,EAAI,GAAKA,EAAI,EAAI,EAAI2lB,EAEpB,IAAIysB,GAAIzsB,EAAG7jB,EAAG9B,EAAGQ,EAAEwjB,SAO5B,SAASouB,GAAIzsB,EAAG7jB,EAAG9B,EAAGgkB,GACpBzgB,KAAKoiB,GAAKA,EACVpiB,KAAKzB,GAAKA,EACVyB,KAAKvD,GAAKA,EACVuD,KAAKygB,SAAWA,EAyClB,SAASsuB,GAAQ3sB,EAAG4sB,EAAIC,GACtB,OAGY,KAHJ7sB,EAAI,GAAK4sB,GAAMC,EAAKD,GAAM5sB,EAAI,GAChCA,EAAI,IAAM6sB,EACV7sB,EAAI,IAAM4sB,GAAMC,EAAKD,IAAO,IAAM5sB,GAAK,GACvC4sB,GCjXD,SAASE,GAAMC,EAAIC,EAAIC,EAAIC,EAAIC,GACpC,IAAIC,EAAKL,EAAKA,EAAIM,EAAKD,EAAKL,EAC5B,QAAS,EAAI,EAAIA,EAAK,EAAIK,EAAKC,GAAML,GAC9B,EAAI,EAAII,EAAK,EAAIC,GAAMJ,GACvB,EAAI,EAAIF,EAAK,EAAIK,EAAK,EAAIC,GAAMH,EACjCG,EAAKF,GAAM,EDoKnBG,EAAOxL,EAAO,GAAO,CACnBX,KAAM,SAASoM,GACb,OAAOzyC,OAAO21B,OAAO,IAAI7yB,KAAKi+B,YAAaj+B,KAAM2vC,IAEnDC,YAAa,WACX,OAAO5vC,KAAKqe,MAAMuxB,eAEpBrxB,IAAK0vB,GACLC,UAAWD,GACX4B,UASF,WACE,OAAOf,GAAW9uC,MAAM6vC,aATxBzB,UAAWD,GACXplB,SAAUolB,KA6DZuB,EAAOlB,GAAK,GAAKha,EAAO0P,EAAO,CAC7B4L,SAAU,SAAS7tC,GAEjB,OADAA,EAAS,MAALA,EA9Oc,EADF,GA+OWW,KAAKyF,IA9Od,EADF,GA+O8BpG,GACvC,IAAIusC,GAAIxuC,KAAK1C,EAAI2E,EAAGjC,KAAKywB,EAAIxuB,EAAGjC,KAAKgG,EAAI/D,EAAGjC,KAAKygB,UAE1DsvB,OAAQ,SAAS9tC,GAEf,OADAA,EAAS,MAALA,EAnPY,GAmPSW,KAAKyF,IAnPd,GAmP0BpG,GACnC,IAAIusC,GAAIxuC,KAAK1C,EAAI2E,EAAGjC,KAAKywB,EAAIxuB,EAAGjC,KAAKgG,EAAI/D,EAAGjC,KAAKygB,UAE1DpC,IAAK,WACH,OAAOre,MAET4vC,YAAa,WACX,OAAS,IAAO5vC,KAAK1C,GAAK0C,KAAK1C,EAAI,QAC1B,IAAO0C,KAAKywB,GAAKzwB,KAAKywB,EAAI,QAC1B,IAAOzwB,KAAKgG,GAAKhG,KAAKgG,EAAI,OAC3B,GAAKhG,KAAKygB,SAAWzgB,KAAKygB,SAAW,GAE/ClC,IAAKowB,GACLT,UAAWS,GACXP,UAAWQ,GACX7lB,SAAU6lB,MAiEZc,EAAOb,IAXA,SAAazsB,EAAG7jB,EAAG9B,EAAGgkB,GAC3B,OAA4B,IAArB9hB,UAAUC,OAAekwC,GAAW1sB,GAAK,IAAIysB,GAAIzsB,EAAG7jB,EAAG9B,EAAc,MAAXgkB,EAAkB,EAAIA,KAUxE+T,EAAO0P,EAAO,CAC7B4L,SAAU,SAAS7tC,GAEjB,OADAA,EAAS,MAALA,EApUc,EADF,GAqUWW,KAAKyF,IApUd,EADF,GAqU8BpG,GACvC,IAAI4sC,GAAI7uC,KAAKoiB,EAAGpiB,KAAKzB,EAAGyB,KAAKvD,EAAIwF,EAAGjC,KAAKygB,UAElDsvB,OAAQ,SAAS9tC,GAEf,OADAA,EAAS,MAALA,EAzUY,GAyUSW,KAAKyF,IAzUd,GAyU0BpG,GACnC,IAAI4sC,GAAI7uC,KAAKoiB,EAAGpiB,KAAKzB,EAAGyB,KAAKvD,EAAIwF,EAAGjC,KAAKygB,UAElDpC,IAAK,WACH,IAAI+D,EAAIpiB,KAAKoiB,EAAI,IAAqB,KAAdpiB,KAAKoiB,EAAI,GAC7B7jB,EAAIuoB,MAAM1E,IAAM0E,MAAM9mB,KAAKzB,GAAK,EAAIyB,KAAKzB,EACzC9B,EAAIuD,KAAKvD,EACTwyC,EAAKxyC,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAK8B,EACjCywC,EAAK,EAAIvyC,EAAIwyC,EACjB,OAAO,IAAIT,GACTO,GAAQ3sB,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAK4sB,EAAIC,GAC1CF,GAAQ3sB,EAAG4sB,EAAIC,GACfF,GAAQ3sB,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAK4sB,EAAIC,GACzCjvC,KAAKygB,UAGTmvB,YAAa,WACX,OAAQ,GAAK5vC,KAAKzB,GAAKyB,KAAKzB,GAAK,GAAKuoB,MAAM9mB,KAAKzB,KACzC,GAAKyB,KAAKvD,GAAKuD,KAAKvD,GAAK,GACzB,GAAKuD,KAAKygB,SAAWzgB,KAAKygB,SAAW,GAE/CovB,UAAW,WACT,IAAI9pC,EAAI/F,KAAKygB,QACb,OAAc,KADQ1a,EAAI+gB,MAAM/gB,GAAK,EAAInD,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,EAAGqB,KAC/C,OAAS,UACpB/F,KAAKoiB,GAAK,GAAK,KACA,KAAfpiB,KAAKzB,GAAK,GAAW,MACN,KAAfyB,KAAKvD,GAAK,GAAW,KACf,IAANsJ,EAAU,IAAM,KAAOA,EAAI,SChWvB,ICRA,eACb,OAAO,WACL,OAAO0J,ICAX,SAASugC,GAAOjqC,EAAGjJ,GACjB,OAAO,SAASY,GACd,OAAOqI,EAAIrI,EAAIZ,GAeZ,SAASmzC,GAAMzgC,GACpB,OAAoB,IAAZA,GAAKA,GAAW0gC,GAAU,SAASnqC,EAAGC,GAC5C,OAAOA,EAAID,EAbf,SAAqBA,EAAGC,EAAGwJ,GACzB,OAAOzJ,EAAInD,KAAKyF,IAAItC,EAAGyJ,GAAIxJ,EAAIpD,KAAKyF,IAAIrC,EAAGwJ,GAAKzJ,EAAGyJ,EAAI,EAAIA,EAAG,SAAS9R,GACrE,OAAOkF,KAAKyF,IAAItC,EAAIrI,EAAIsI,EAAGwJ,IAWZ2gC,CAAYpqC,EAAGC,EAAGwJ,GAAK,GAASsX,MAAM/gB,GAAKC,EAAID,IAInD,SAASmqC,GAAQnqC,EAAGC,GACjC,IAAIlJ,EAAIkJ,EAAID,EACZ,OAAOjJ,EAAIkzC,GAAOjqC,EAAGjJ,GAAK,GAASgqB,MAAM/gB,GAAKC,EAAID,GCtBrC,qBACb,IAAI6K,EAAQq/B,GAAMzgC,GAElB,SAAS6O,EAAI5X,EAAOC,GAClB,IAAIpJ,EAAIsT,GAAOnK,EAAQ,GAASA,IAAQnJ,GAAIoJ,EAAM,GAASA,IAAMpJ,GAC7DmzB,EAAI7f,EAAMnK,EAAMgqB,EAAG/pB,EAAI+pB,GACvBzqB,EAAI4K,EAAMnK,EAAMT,EAAGU,EAAIV,GACvBya,EAAUyvB,GAAQzpC,EAAMga,QAAS/Z,EAAI+Z,SACzC,OAAO,SAAS/iB,GAKd,OAJA+I,EAAMnJ,EAAIA,EAAEI,GACZ+I,EAAMgqB,EAAIA,EAAE/yB,GACZ+I,EAAMT,EAAIA,EAAEtI,GACZ+I,EAAMga,QAAUA,EAAQ/iB,GACjB+I,EAAQ,IAMnB,OAFA4X,EAAI4xB,MAAQG,EAEL/xB,EAnBM,CAoBZ,GAEH,SAASgyB,GAAUC,GACjB,OAAO,SAASxxB,GACd,IAIItiB,EAAGoU,EAJH3S,EAAI6gB,EAAOlgB,OACXtB,EAAI,IAAIsE,MAAM3D,GACdwyB,EAAI,IAAI7uB,MAAM3D,GACd+H,EAAI,IAAIpE,MAAM3D,GAElB,IAAKzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBoU,EAAQ,GAASkO,EAAOtiB,IACxBc,EAAEd,GAAKoU,EAAMtT,GAAK,EAClBmzB,EAAEj0B,GAAKoU,EAAM6f,GAAK,EAClBzqB,EAAExJ,GAAKoU,EAAM5K,GAAK,EAMpB,OAJA1I,EAAIgzC,EAAOhzC,GACXmzB,EAAI6f,EAAO7f,GACXzqB,EAAIsqC,EAAOtqC,GACX4K,EAAM6P,QAAU,EACT,SAAS/iB,GAId,OAHAkT,EAAMtT,EAAIA,EAAEI,GACZkT,EAAM6f,EAAIA,EAAE/yB,GACZkT,EAAM5K,EAAIA,EAAEtI,GACLkT,EAAQ,KAKd,IAAI2/B,GAAWF,IH7CP,YACb,IAAIpyC,EAAI6F,EAAOlF,OAAS,EACxB,OAAO,SAASlB,GACd,IAAIlB,EAAIkB,GAAK,EAAKA,EAAI,EAAKA,GAAK,GAAKA,EAAI,EAAGO,EAAI,GAAK2E,KAAKC,MAAMnF,EAAIO,GAChEoxC,EAAKvrC,EAAOtH,GACZ8yC,EAAKxrC,EAAOtH,EAAI,GAChB4yC,EAAK5yC,EAAI,EAAIsH,EAAOtH,EAAI,GAAK,EAAI6yC,EAAKC,EACtCC,EAAK/yC,EAAIyB,EAAI,EAAI6F,EAAOtH,EAAI,GAAK,EAAI8yC,EAAKD,EAC9C,OAAOH,IAAOxxC,EAAIlB,EAAIyB,GAAKA,EAAGmxC,EAAIC,EAAIC,EAAIC,OIhB/B,IDsDac,IEpDb,YACb,IAAIpyC,EAAI6F,EAAOlF,OACf,OAAO,SAASlB,GACd,IAAIlB,EAAIoG,KAAKC,QAAQnF,GAAK,GAAK,IAAMA,EAAIA,GAAKO,GAC1CmxC,EAAKtrC,GAAQtH,EAAIyB,EAAI,GAAKA,GAC1BoxC,EAAKvrC,EAAOtH,EAAIyB,GAChBqxC,EAAKxrC,GAAQtH,EAAI,GAAKyB,GACtBsxC,EAAKzrC,GAAQtH,EAAI,GAAKyB,GAC1B,OAAOixC,IAAOxxC,EAAIlB,EAAIyB,GAAKA,EAAGmxC,EAAIC,EAAIC,EAAIC,ODV/B,cACRvpC,IAAGA,EAAI,IACZ,IAEIxJ,EAFAyB,EAAI8H,EAAInD,KAAK8B,IAAIsB,EAAEpH,OAAQmH,EAAEnH,QAAU,EACvC/B,EAAImJ,EAAEmC,QAEV,OAAO,SAASzK,GACd,IAAKlB,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGK,EAAEL,GAAKuJ,EAAEvJ,IAAM,EAAIkB,GAAKsI,EAAExJ,GAAKkB,EACvD,OAAOb,KAIJ,SAAS2zC,GAAc/gC,GAC5B,OAAOzL,YAAYC,OAAOwL,MAAQA,aAAaghC,UEL1C,SAASC,GAAa3qC,EAAGC,GAC9B,IAIIxJ,EAJAm0C,EAAK3qC,EAAIA,EAAEpH,OAAS,EACpBgyC,EAAK7qC,EAAInD,KAAK8B,IAAIisC,EAAI5qC,EAAEnH,QAAU,EAClC6Q,EAAI,IAAI7N,MAAMgvC,GACd/zC,EAAI,IAAI+E,MAAM+uC,GAGlB,IAAKn0C,EAAI,EAAGA,EAAIo0C,IAAMp0C,EAAGiT,EAAEjT,GAAK,GAAMuJ,EAAEvJ,GAAIwJ,EAAExJ,IAC9C,KAAOA,EAAIm0C,IAAMn0C,EAAGK,EAAEL,GAAKwJ,EAAExJ,GAE7B,OAAO,SAASkB,GACd,IAAKlB,EAAI,EAAGA,EAAIo0C,IAAMp0C,EAAGK,EAAEL,GAAKiT,EAAEjT,GAAGkB,GACrC,OAAOb,GCnBI,qBACb,IAAIC,EAAI,IAAI0F,KACZ,OAAOuD,GAAKA,EAAGC,GAAKA,EAAG,SAAStI,GAC9B,OAAOZ,EAAE+zC,QAAQ9qC,GAAK,EAAIrI,GAAKsI,EAAItI,GAAIZ,ICH5B,iBACb,OAAOiJ,GAAKA,EAAGC,GAAKA,EAAG,SAAStI,GAC9B,OAAOqI,GAAK,EAAIrI,GAAKsI,EAAItI,ICAd,iBACb,IAEIuE,EAFAzF,EAAI,GACJK,EAAI,GAMR,IAAKoF,KAHK,OAAN8D,GAA2B,iBAANA,IAAgBA,EAAI,IACnC,OAANC,GAA2B,iBAANA,IAAgBA,EAAI,IAEnCA,EACJ/D,KAAK8D,EACPvJ,EAAEyF,GAAK,GAAM8D,EAAE9D,GAAI+D,EAAE/D,IAErBpF,EAAEoF,GAAK+D,EAAE/D,GAIb,OAAO,SAASvE,GACd,IAAKuE,KAAKzF,EAAGK,EAAEoF,GAAKzF,EAAEyF,GAAGvE,GACzB,OAAOb,IClBPi0C,GAAM,8CACNC,GAAM,IAAI3b,OAAO0b,GAAIxlB,OAAQ,KAclB,qBACb,IACI0lB,EACAC,EACAC,EAHAnQ,EAAK+P,GAAIK,UAAYJ,GAAII,UAAY,EAIrC30C,GAAK,EACL+B,EAAI,GACJ+6B,EAAI,GAMR,IAHAvzB,GAAQ,GAAIC,GAAQ,IAGZgrC,EAAKF,GAAIxC,KAAKvoC,MACdkrC,EAAKF,GAAIzC,KAAKtoC,MACfkrC,EAAKD,EAAGzvC,OAASu/B,IACpBmQ,EAAKlrC,EAAEmC,MAAM44B,EAAImQ,GACb3yC,EAAE/B,GAAI+B,EAAE/B,IAAM00C,EACb3yC,IAAI/B,GAAK00C,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxB1yC,EAAE/B,GAAI+B,EAAE/B,IAAMy0C,EACb1yC,IAAI/B,GAAKy0C,GAEd1yC,IAAI/B,GAAK,KACT88B,EAAEx3B,KAAK,CAACtF,EAAGA,EAAGiT,EAAG,GAAOuhC,EAAIC,MAE9BlQ,EAAKgQ,GAAII,UAYX,OARIpQ,EAAK/6B,EAAEpH,SACTsyC,EAAKlrC,EAAEmC,MAAM44B,GACTxiC,EAAE/B,GAAI+B,EAAE/B,IAAM00C,EACb3yC,IAAI/B,GAAK00C,GAKT3yC,EAAEK,OAAS,EAAK06B,EAAE,GA7C3B,SAAatzB,GACX,OAAO,SAAStI,GACd,OAAOsI,EAAEtI,GAAK,IA4CV0zC,CAAI9X,EAAE,GAAG7pB,GApDjB,SAAczJ,GACZ,OAAO,WACL,OAAOA,GAmDH,CAAKA,IACJA,EAAIszB,EAAE16B,OAAQ,SAASlB,GACtB,IAAK,IAAWT,EAAPT,EAAI,EAAMA,EAAIwJ,IAAKxJ,EAAG+B,GAAGtB,EAAIq8B,EAAE98B,IAAIA,GAAKS,EAAEwS,EAAE/R,GACrD,OAAOa,EAAEulB,KAAK,OCnDT,iBACb,IAAkBjnB,EAAda,SAAWsI,EACf,OAAY,MAALA,GAAmB,YAANtI,EAAkB,GAASsI,IAClC,WAANtI,EAAiB,GACZ,WAANA,GAAmBb,EAAI,GAAMmJ,KAAOA,EAAInJ,EAAG,IAAO,GAClDmJ,aAAa,GAAQ,GACrBA,aAAaxD,KAAO,GACpBguC,GAAcxqC,GAAKqrC,GACnBzvC,MAAMC,QAAQmE,GAAK0qC,GACE,mBAAd1qC,EAAEsrC,SAAgD,mBAAftrC,EAAE+iB,UAA2BjC,MAAM9gB,GAAK,GAClF,IAAQD,EAAGC,ICpBJ,iBACb,OAAOD,GAAKA,EAAGC,GAAKA,EAAG,SAAStI,GAC9B,OAAOkF,KAAK+gC,MAAM59B,GAAK,EAAIrI,GAAKsI,EAAItI,KCFzB,eACb,OAAQ+R,GCKN8hC,GAAO,CAAC,EAAG,GAER,SAAS,GAAS9hC,GACvB,OAAOA,EAGT,SAAS/J,GAAUK,EAAGC,GACpB,OAAQA,GAAMD,GAAKA,GACb,SAAS0J,GAAK,OAAQA,EAAI1J,GAAKC,ICdxB,EDeE8gB,MAAM9gB,GAAKo7B,IAAM,GCdzB,WACL,OAAO3xB,IAFI,MDkBf,SAAS+hC,GAAQ3zB,GACf,IAAkDngB,EAA9CqI,EAAI8X,EAAO,GAAI7X,EAAI6X,EAAOA,EAAOjf,OAAS,GAE9C,OADImH,EAAIC,IAAGtI,EAAIqI,EAAGA,EAAIC,EAAGA,EAAItI,GACtB,SAAS+R,GAAK,OAAO7M,KAAK+B,IAAIoB,EAAGnD,KAAK8B,IAAIsB,EAAGyJ,KAKtD,SAASgiC,GAAM5zB,EAAQvX,EAAOorC,GAC5B,IAAI1qB,EAAKnJ,EAAO,GAAIoJ,EAAKpJ,EAAO,GAAIqJ,EAAK5gB,EAAM,GAAI6gB,EAAK7gB,EAAM,GAG9D,OAFI2gB,EAAKD,GAAIA,EAAKthB,GAAUuhB,EAAID,GAAKE,EAAKwqB,EAAYvqB,EAAID,KACrDF,EAAKthB,GAAUshB,EAAIC,GAAKC,EAAKwqB,EAAYxqB,EAAIC,IAC3C,SAAS1X,GAAK,OAAOyX,EAAGF,EAAGvX,KAGpC,SAASkiC,GAAQ9zB,EAAQvX,EAAOorC,GAC9B,IAAI1uC,EAAIJ,KAAK8B,IAAImZ,EAAOjf,OAAQ0H,EAAM1H,QAAU,EAC5C9B,EAAI,IAAI8E,MAAMoB,GACd1F,EAAI,IAAIsE,MAAMoB,GACdxG,GAAK,EAQT,IALIqhB,EAAO7a,GAAK6a,EAAO,KACrBA,EAASA,EAAO1V,QAAQwiB,UACxBrkB,EAAQA,EAAM6B,QAAQwiB,aAGfnuB,EAAIwG,GACXlG,EAAEN,GAAKkJ,GAAUmY,EAAOrhB,GAAIqhB,EAAOrhB,EAAI,IACvCc,EAAEd,GAAKk1C,EAAYprC,EAAM9J,GAAI8J,EAAM9J,EAAI,IAGzC,OAAO,SAASiT,GACd,IAAIjT,EAAIslC,EAAOjkB,EAAQpO,EAAG,EAAGzM,GAAK,EAClC,OAAO1F,EAAEd,GAAGM,EAAEN,GAAGiT,KAId,SAAS8zB,GAAKjY,EAAQsmB,GAC3B,OAAOA,EACF/zB,OAAOyN,EAAOzN,UACdvX,MAAMglB,EAAOhlB,SACborC,YAAYpmB,EAAOomB,eACnBG,MAAMvmB,EAAOumB,SACbvO,QAAQhY,EAAOgY,WAGf,SAASwO,KACd,IAGIC,EACAC,EACA1O,EAEA2O,EACA7jC,EACAstB,EATA7d,EAAS0zB,GACTjrC,EAAQirC,GACRG,EAAc,GAIdG,EAAQ,GAKZ,SAAS/N,IAGP,OAFAmO,EAAYrvC,KAAK8B,IAAImZ,EAAOjf,OAAQ0H,EAAM1H,QAAU,EAAI+yC,GAAUF,GAClErjC,EAASstB,EAAQ,KACVn2B,EAGT,SAASA,EAAMkK,GACb,OAAOqX,MAAMrX,GAAKA,GAAK6zB,GAAWl1B,IAAWA,EAAS6jC,EAAUp0B,EAAOtX,IAAIwrC,GAAYzrC,EAAOorC,KAAeK,EAAUF,EAAMpiC,KA+B/H,OA5BAlK,EAAMgiB,OAAS,SAAS/X,GACtB,OAAOqiC,EAAMG,GAAatW,IAAUA,EAAQuW,EAAU3rC,EAAOuX,EAAOtX,IAAIwrC,GAAY,MAAqBviC,MAG3GjK,EAAMsY,OAAS,SAASsI,GACtB,OAAOxnB,UAAUC,QAAUif,EAAS,EAAIlhB,KAAKwpB,EAAG,IAAS0rB,IAAU,KAAaA,EAAQL,GAAQ3zB,IAAUimB,KAAajmB,EAAO1V,SAGhI5C,EAAMe,MAAQ,SAAS6f,GACrB,OAAOxnB,UAAUC,QAAU0H,EAAQ,EAAM3J,KAAKwpB,GAAI2d,KAAax9B,EAAM6B,SAGvE5C,EAAMw+B,WAAa,SAAS5d,GAC1B,OAAO7f,EAAQ,EAAM3J,KAAKwpB,GAAIurB,EAAc,GAAkB5N,KAGhEv+B,EAAMssC,MAAQ,SAAS1rB,GACrB,OAAOxnB,UAAUC,QAAUizC,EAAQ1rB,EAAIqrB,GAAQ3zB,GAAU,GAAUtY,GAASssC,IAAU,IAGxFtsC,EAAMmsC,YAAc,SAASvrB,GAC3B,OAAOxnB,UAAUC,QAAU8yC,EAAcvrB,EAAG2d,KAAa4N,GAG3DnsC,EAAM+9B,QAAU,SAASnd,GACvB,OAAOxnB,UAAUC,QAAU0kC,EAAUnd,EAAG5gB,GAAS+9B,GAG5C,SAAS5lC,EAAGw0C,GAEjB,OADAH,EAAYr0C,EAAGs0C,EAAcE,EACtBpO,KAII,SAASqO,GAAWJ,EAAWC,GAC5C,OAAOF,KAAcC,EAAWC,GEzHlC,IAAI7c,GAAK,2EAEM,SAASid,GAAgBC,GACtC,KAAM7jC,EAAQ2mB,GAAGmZ,KAAK+D,IAAa,MAAM,IAAI3wC,MAAM,mBAAqB2wC,GACxE,IAAI7jC,EACJ,OAAO,IAAI8jC,GAAgB,CACzBtqC,KAAMwG,EAAM,GACZ+W,MAAO/W,EAAM,GACb+jC,KAAM/jC,EAAM,GACZgkC,OAAQhkC,EAAM,GACdykB,KAAMzkB,EAAM,GACZ8B,MAAO9B,EAAM,GACbikC,MAAOjkC,EAAM,GACboa,UAAWpa,EAAM,IAAMA,EAAM,GAAGrG,MAAM,GACtCkmC,KAAM7/B,EAAM,GACZzM,KAAMyM,EAAM,MAMT,SAAS8jC,GAAgBD,GAC9BryC,KAAKgI,UAA0B6G,IAAnBwjC,EAAUrqC,KAAqB,IAAMqqC,EAAUrqC,KAAO,GAClEhI,KAAKulB,WAA4B1W,IAApBwjC,EAAU9sB,MAAsB,IAAM8sB,EAAU9sB,MAAQ,GACrEvlB,KAAKuyC,UAA0B1jC,IAAnBwjC,EAAUE,KAAqB,IAAMF,EAAUE,KAAO,GAClEvyC,KAAKwyC,YAA8B3jC,IAArBwjC,EAAUG,OAAuB,GAAKH,EAAUG,OAAS,GACvExyC,KAAKizB,OAASof,EAAUpf,KACxBjzB,KAAKsQ,WAA4BzB,IAApBwjC,EAAU/hC,WAAsBzB,GAAawjC,EAAU/hC,MACpEtQ,KAAKyyC,QAAUJ,EAAUI,MACzBzyC,KAAK4oB,eAAoC/Z,IAAxBwjC,EAAUzpB,eAA0B/Z,GAAawjC,EAAUzpB,UAC5E5oB,KAAKquC,OAASgE,EAAUhE,KACxBruC,KAAK+B,UAA0B8M,IAAnBwjC,EAAUtwC,KAAqB,GAAKswC,EAAUtwC,KAAO,GAZnEqwC,GAAgBh0C,UAAYk0C,GAAgBl0C,UAe5Ck0C,GAAgBl0C,UAAU2qB,SAAW,WACnC,OAAO/oB,KAAKgI,KACNhI,KAAKulB,MACLvlB,KAAKuyC,KACLvyC,KAAKwyC,QACJxyC,KAAKizB,KAAO,IAAM,UACHpkB,IAAf7O,KAAKsQ,MAAsB,GAAK1N,KAAK+B,IAAI,EAAgB,EAAb3E,KAAKsQ,SACjDtQ,KAAKyyC,MAAQ,IAAM,UACA5jC,IAAnB7O,KAAK4oB,UAA0B,GAAK,IAAMhmB,KAAK+B,IAAI,EAAoB,EAAjB3E,KAAK4oB,aAC3D5oB,KAAKquC,KAAO,IAAM,IACnBruC,KAAK+B,MC1CE,ICDJ2wC,GCAP,GACO,GACA,GFDI,iBACb,IAAKl2C,GAAKiT,EAAInR,EAAImR,EAAEqZ,cAAcxqB,EAAI,GAAKmR,EAAEqZ,iBAAiBrnB,QAAQ,MAAQ,EAAG,OAAO,KACxF,IAAIjF,EAAGm2C,EAAcljC,EAAEtH,MAAM,EAAG3L,GAIhC,MAAO,CACLm2C,EAAY/zC,OAAS,EAAI+zC,EAAY,GAAKA,EAAYxqC,MAAM,GAAKwqC,GAChEljC,EAAEtH,MAAM3L,EAAI,KGTF,eACb,OAAOiT,EAAImjC,GAAchwC,KAAK6E,IAAIgI,KAASA,EAAE,GAAK2xB,KCDrC,iBACb,IAAItkC,EAAI81C,GAAcnjC,EAAGnR,GACzB,IAAKxB,EAAG,OAAO2S,EAAI,GACnB,IAAIkjC,EAAc71C,EAAE,GAChBikB,EAAWjkB,EAAE,GACjB,OAAOikB,EAAW,EAAI,KAAO,IAAInf,OAAOmf,GAAU+C,KAAK,KAAO6uB,EACxDA,EAAY/zC,OAASmiB,EAAW,EAAI4xB,EAAYxqC,MAAM,EAAG4Y,EAAW,GAAK,IAAM4xB,EAAYxqC,MAAM4Y,EAAW,GAC5G4xB,EAAc,IAAI/wC,MAAMmf,EAAW4xB,EAAY/zC,OAAS,GAAGklB,KAAK,MCNzD,IACb,IAAK,SAASrU,EAAGnR,GAAK,OAAY,IAAJmR,GAASojC,QAAQv0C,IAC/C,EAAK,SAASmR,GAAK,OAAO7M,KAAK+gC,MAAMl0B,GAAGsZ,SAAS,IACjD,EAAK,SAAStZ,GAAK,OAAOA,EAAI,IAC9B,EAAK,SAASA,GAAK,OAAO7M,KAAK+gC,MAAMl0B,GAAGsZ,SAAS,KACjD,EAAK,SAAStZ,EAAGnR,GAAK,OAAOmR,EAAEqZ,cAAcxqB,IAC7C,EAAK,SAASmR,EAAGnR,GAAK,OAAOmR,EAAEojC,QAAQv0C,IACvC,EAAK,SAASmR,EAAGnR,GAAK,OAAOmR,EAAEqjC,YAAYx0C,IAC3C,EAAK,SAASmR,GAAK,OAAO7M,KAAK+gC,MAAMl0B,GAAGsZ,SAAS,IACjD,EAAK,SAAStZ,EAAGnR,GAAK,OAAOy0C,GAAkB,IAAJtjC,EAASnR,IACpD,EAAKy0C,GACL,EJVa,cACb,IAAIj2C,EAAI81C,GAAcnjC,EAAGnR,GACzB,IAAKxB,EAAG,OAAO2S,EAAI,GACnB,IAAIkjC,EAAc71C,EAAE,GAChBikB,EAAWjkB,EAAE,GACbN,EAAIukB,GAAY2xB,GAAuE,EAAtD9vC,KAAK+B,KAAK,EAAG/B,KAAK8B,IAAI,EAAG9B,KAAKC,MAAMke,EAAW,MAAY,EAC5F9iB,EAAI00C,EAAY/zC,OACpB,OAAOpC,IAAMyB,EAAI00C,EACXn2C,EAAIyB,EAAI00C,EAAc,IAAI/wC,MAAMpF,EAAIyB,EAAI,GAAG6lB,KAAK,KAChDtnB,EAAI,EAAIm2C,EAAYxqC,MAAM,EAAG3L,GAAK,IAAMm2C,EAAYxqC,MAAM3L,GAC1D,KAAO,IAAIoF,MAAM,EAAIpF,GAAGsnB,KAAK,KAAO8uB,GAAcnjC,EAAG7M,KAAK+B,IAAI,EAAGrG,EAAI9B,EAAI,IAAI,IICnF,EAAK,SAASiT,GAAK,OAAO7M,KAAK+gC,MAAMl0B,GAAGsZ,SAAS,IAAIiqB,eACrD,EAAK,SAASvjC,GAAK,OAAO7M,KAAK+gC,MAAMl0B,GAAGsZ,SAAS,MChBpC,eACb,OAAOtZ,GCQL,GAAM7N,MAAMxD,UAAUmI,IACtB0sC,GAAW,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KLK7E,GKHa,YACb,ICba,IDaT35B,OAA4BzK,IAApBqkC,EAAOC,eAA+CtkC,IAArBqkC,EAAOE,UAA0B,ICbjE,EDawF,GAAIz2C,KAAKu2C,EAAOC,SAAU9oC,QCblH,EDa2H6oC,EAAOE,UAAY,GCZpJ,SAAS31C,EAAO6S,GAOrB,IANA,IAAI9T,EAAIiB,EAAMmB,OACVlB,EAAI,GACJsF,EAAI,EACJytB,EAAI0iB,EAAS,GACbv0C,EAAS,EAENpC,EAAI,GAAKi0B,EAAI,IACd7xB,EAAS6xB,EAAI,EAAIngB,IAAOmgB,EAAI7tB,KAAK+B,IAAI,EAAG2L,EAAQ1R,IACpDlB,EAAEoE,KAAKrE,EAAMihB,UAAUliB,GAAKi0B,EAAGj0B,EAAIi0B,OAC9B7xB,GAAU6xB,EAAI,GAAKngB,KACxBmgB,EAAI0iB,EAASnwC,GAAKA,EAAI,GAAKmwC,EAASv0C,QAGtC,OAAOlB,EAAEitB,UAAU7G,KAAKsvB,KDDtBC,OAAqCxkC,IAApBqkC,EAAOI,SAAyB,GAAKJ,EAAOI,SAAS,GAAK,GAC3EC,OAAqC1kC,IAApBqkC,EAAOI,SAAyB,GAAKJ,EAAOI,SAAS,GAAK,GAC3EE,OAA6B3kC,IAAnBqkC,EAAOM,QAAwB,IAAMN,EAAOM,QAAU,GAChEC,OAA+B5kC,IAApBqkC,EAAOO,SAAyB,GEjBlC,YACb,OAAO,SAASh2C,GACd,OAAOA,EAAMylB,QAAQ,UAAU,SAAS1mB,GACtC,OAAOi3C,GAAUj3C,OFcqCk3C,CAAe,GAAI/2C,KAAKu2C,EAAOO,SAAUE,SAC/FC,OAA6B/kC,IAAnBqkC,EAAOU,QAAwB,IAAMV,EAAOU,QAAU,GAChEC,OAAyBhlC,IAAjBqkC,EAAOW,MAAsB,IAAMX,EAAOW,MAAQ,GAC1DC,OAAqBjlC,IAAfqkC,EAAOY,IAAoB,MAAQZ,EAAOY,IAAM,GAE1D,SAASC,EAAU1B,GAGjB,IAAIrqC,GAFJqqC,EAAYD,GAAgBC,IAEPrqC,KACjBud,EAAQ8sB,EAAU9sB,MAClBgtB,EAAOF,EAAUE,KACjBC,EAASH,EAAUG,OACnBvf,EAAOof,EAAUpf,KACjB3iB,EAAQ+hC,EAAU/hC,MAClBmiC,EAAQJ,EAAUI,MAClB7pB,EAAYypB,EAAUzpB,UACtBylB,EAAOgE,EAAUhE,KACjBtsC,EAAOswC,EAAUtwC,KAGR,MAATA,GAAc0wC,GAAQ,EAAM1wC,EAAO,KAG7BiyC,GAAYjyC,UAAqB8M,IAAd+Z,IAA4BA,EAAY,IAAKylB,GAAO,EAAMtsC,EAAO,MAG1FkxB,GAAkB,MAATjrB,GAA0B,MAAVud,KAAgB0N,GAAO,EAAMjrB,EAAO,IAAKud,EAAQ,KAI9E,IAAI0uB,EAAoB,MAAXzB,EAAiBa,EAA4B,MAAXb,GAAkB,SAAS0B,KAAKnyC,GAAQ,IAAMA,EAAK0c,cAAgB,GAC9GiK,EAAoB,MAAX8pB,EAAiBe,EAAiB,OAAOW,KAAKnyC,GAAQ6xC,EAAU,GAKzEO,EAAaH,GAAYjyC,GACzBqyC,EAAc,aAAaF,KAAKnyC,GAUpC,SAASsM,EAAO5Q,GACd,IAEIjB,EAAGyB,EAAGpB,EAFNw3C,EAAcJ,EACdK,EAAc5rB,EAGlB,GAAa,MAAT3mB,EACFuyC,EAAcH,EAAW12C,GAAS62C,EAClC72C,EAAQ,OACH,CAIL,IAAI82C,GAHJ92C,GAASA,GAGmB,GAAK,EAAIA,EAAQ,EAiB7C,GAdAA,EAAQqpB,MAAMrpB,GAASq2C,EAAMK,EAAWvxC,KAAK6E,IAAIhK,GAAQmrB,GAGrDylB,IAAM5wC,EGjFH,YACb8b,EAAK,IAAK,IAAkCi7B,EAA9Bv2C,EAAIM,EAAEK,OAAQpC,EAAI,EAAGi4C,GAAM,EAAOj4C,EAAIyB,IAAKzB,EACvD,OAAQ+B,EAAE/B,IACR,IAAK,IAAKi4C,EAAKD,EAAKh4C,EAAG,MACvB,IAAK,IAAgB,IAAPi4C,IAAUA,EAAKj4C,GAAGg4C,EAAKh4C,EAAG,MACxC,QAAS,KAAM+B,EAAE/B,GAAI,MAAM+c,EAASk7B,EAAK,IAAGA,EAAK,GAGrD,OAAOA,EAAK,EAAIl2C,EAAE4J,MAAM,EAAGssC,GAAMl2C,EAAE4J,MAAMqsC,EAAK,GAAKj2C,EHyE3Bm2C,CAAWj3C,IAGzB82C,GAA4B,IAAV92C,GAAwB,MAAT80C,IAAcgC,GAAgB,GAGnEF,GAAeE,EAA0B,MAAThC,EAAeA,EAAOsB,EAAkB,MAATtB,GAAyB,MAATA,EAAe,GAAKA,GAAQ8B,EAC3GC,GAAwB,MAATvyC,EAAekxC,GAAS,EAAIP,GAAiB,GAAK,IAAM4B,GAAeC,GAA0B,MAAThC,EAAe,IAAM,IAIxH6B,EAEF,IADA53C,GAAK,EAAGyB,EAAIR,EAAMmB,SACTpC,EAAIyB,GACX,GAA6B,IAAzBpB,EAAIY,EAAMk3C,WAAWn4C,KAAcK,EAAI,GAAI,CAC7Cy3C,GAAqB,KAANz3C,EAAW22C,EAAU/1C,EAAM0K,MAAM3L,EAAI,GAAKiB,EAAM0K,MAAM3L,IAAM83C,EAC3E72C,EAAQA,EAAM0K,MAAM,EAAG3L,GACvB,OAOJi2C,IAAUxf,IAAMx1B,EAAQ6b,EAAM7b,EAAOm3C,MAGzC,IAAIh2C,EAASy1C,EAAYz1C,OAASnB,EAAMmB,OAAS01C,EAAY11C,OACzD+kB,EAAU/kB,EAAS0R,EAAQ,IAAI1O,MAAM0O,EAAQ1R,EAAS,GAAGklB,KAAK9b,GAAQ,GAM1E,OAHIyqC,GAASxf,IAAMx1B,EAAQ6b,EAAMqK,EAAUlmB,EAAOkmB,EAAQ/kB,OAAS0R,EAAQgkC,EAAY11C,OAASg2C,KAAWjxB,EAAU,IAG7G4B,GACN,IAAK,IAAK9nB,EAAQ42C,EAAc52C,EAAQ62C,EAAc3wB,EAAS,MAC/D,IAAK,IAAKlmB,EAAQ42C,EAAc1wB,EAAUlmB,EAAQ62C,EAAa,MAC/D,IAAK,IAAK72C,EAAQkmB,EAAQxb,MAAM,EAAGvJ,EAAS+kB,EAAQ/kB,QAAU,GAAKy1C,EAAc52C,EAAQ62C,EAAc3wB,EAAQxb,MAAMvJ,GAAS,MAC9H,QAASnB,EAAQkmB,EAAU0wB,EAAc52C,EAAQ62C,EAGnD,OAAOb,EAASh2C,GAOlB,OAtEAmrB,OAA0B/Z,IAAd+Z,EAA0B,EAChC,SAASsrB,KAAKnyC,GAAQa,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,GAAIkkB,IAC/ChmB,KAAK+B,IAAI,EAAG/B,KAAK8B,IAAI,GAAIkkB,IAgE/Bva,EAAO0a,SAAW,WAChB,OAAOspB,EAAY,IAGdhkC,EAaT,MAAO,CACLA,OAAQ0lC,EACRc,aAZF,SAAsBxC,EAAW50C,GAC/B,IAAI0E,EAAI4xC,IAAW1B,EAAYD,GAAgBC,IAAsBtwC,KAAO,IAAKswC,IAC7EhrC,EAAiE,EAA7DzE,KAAK+B,KAAK,EAAG/B,KAAK8B,IAAI,EAAG9B,KAAKC,MAAM,GAASpF,GAAS,KAC1DwE,EAAIW,KAAKyF,IAAI,IAAKhB,GAClB4sC,EAAShB,GAAS,EAAI5rC,EAAI,GAC9B,OAAO,SAAS5J,GACd,OAAO0E,EAAEF,EAAIxE,GAASw2C,KL5HjB,CATG,CACZT,QAAS,IACTJ,UAAW,IACXD,SAAU,CAAC,GACXG,SAAU,CAAC,IAAK,IAChBO,MAAO,MAKP,GAAS,GAAOxlC,OAChB,GAAe,GAAOwmC,aSfT,ICCA,qBACb,IACIjsB,EADA/e,EAAO24B,EAAS/7B,EAAOs7B,EAAM3hC,GAGjC,QADAiyC,EAAYD,GAA6B,MAAbC,EAAoB,KAAOA,IACrCtwC,MAChB,IAAK,IACH,IAAItE,EAAQmF,KAAK+B,IAAI/B,KAAK6E,IAAIhB,GAAQ7D,KAAK6E,IAAIs6B,IAE/C,OAD2B,MAAvBsQ,EAAUzpB,WAAsB9B,MAAM8B,ECRjC,cACb,OAAOhmB,KAAK+B,IAAI,EAAgE,EAA7D/B,KAAK+B,KAAK,EAAG/B,KAAK8B,IAAI,EAAG9B,KAAKC,MAAM,GAASpF,GAAS,KAAW,GAASmF,KAAK6E,IAAIoC,KDO5CirC,CAAgBjrC,EAAMpM,MAAS40C,EAAUzpB,UAAYA,GACpG,GAAaypB,EAAW50C,GAEjC,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACwB,MAAvB40C,EAAUzpB,WAAsB9B,MAAM8B,EDhBjC,cAEb,OADA/e,EAAOjH,KAAK6E,IAAIoC,GAAOlF,EAAM/B,KAAK6E,IAAI9C,GAAOkF,EACtCjH,KAAK+B,IAAI,EAAG,GAASA,GAAO,GAASkF,IAAS,ECcKkrC,CAAelrC,EAAMjH,KAAK+B,IAAI/B,KAAK6E,IAAIhB,GAAQ7D,KAAK6E,IAAIs6B,QAAUsQ,EAAUzpB,UAAYA,GAAgC,MAAnBypB,EAAUtwC,OACrK,MAEF,IAAK,IACL,IAAK,IACwB,MAAvBswC,EAAUzpB,WAAsB9B,MAAM8B,EErBjC,YACb,OAAOhmB,KAAK+B,IAAI,GAAI,GAAS/B,KAAK6E,IAAIoC,KFoBoBmrC,CAAenrC,MAAQwoC,EAAUzpB,UAAYA,EAAuC,GAAP,MAAnBypB,EAAUtwC,OAI9H,OAAO,GAAOswC,IGtBT,SAAS4C,GAAU1vC,GACxB,IAAIsY,EAAStY,EAAMsY,OAoDnB,OAlDAtY,EAAMogB,MAAQ,SAASvlB,GACrB,IAAItD,EAAI+gB,IACR,OAAO8H,EAAM7oB,EAAE,GAAIA,EAAEA,EAAE8B,OAAS,GAAa,MAATwB,EAAgB,GAAKA,IAG3DmF,EAAM0gB,WAAa,SAAS7lB,EAAOiyC,GACjC,IAAIv1C,EAAI+gB,IACR,OAAO,GAAW/gB,EAAE,GAAIA,EAAEA,EAAE8B,OAAS,GAAa,MAATwB,EAAgB,GAAKA,EAAOiyC,IAGvE9sC,EAAM2vC,KAAO,SAAS90C,GACP,MAATA,IAAeA,EAAQ,IAE3B,IAKIyJ,EALA/M,EAAI+gB,IACJ42B,EAAK,EACLD,EAAK13C,EAAE8B,OAAS,EAChB6H,EAAQ3J,EAAE23C,GACV1S,EAAOjlC,EAAE03C,GA8Bb,OA3BIzS,EAAOt7B,IACToD,EAAOpD,EAAOA,EAAQs7B,EAAMA,EAAOl4B,EACnCA,EAAO4qC,EAAIA,EAAKD,EAAIA,EAAK3qC,IAG3BA,EAAOs4B,EAAc17B,EAAOs7B,EAAM3hC,IAEvB,EAGTyJ,EAAOs4B,EAFP17B,EAAQ7D,KAAKC,MAAM4D,EAAQoD,GAAQA,EACnCk4B,EAAOn/B,KAAK8H,KAAKq3B,EAAOl4B,GAAQA,EACEzJ,GACzByJ,EAAO,IAGhBA,EAAOs4B,EAFP17B,EAAQ7D,KAAK8H,KAAKjE,EAAQoD,GAAQA,EAClCk4B,EAAOn/B,KAAKC,MAAMk/B,EAAOl4B,GAAQA,EACCzJ,IAGhCyJ,EAAO,GACT/M,EAAE23C,GAAM7xC,KAAKC,MAAM4D,EAAQoD,GAAQA,EACnC/M,EAAE03C,GAAM5xC,KAAK8H,KAAKq3B,EAAOl4B,GAAQA,EACjCgU,EAAO/gB,IACE+M,EAAO,IAChB/M,EAAE23C,GAAM7xC,KAAK8H,KAAKjE,EAAQoD,GAAQA,EAClC/M,EAAE03C,GAAM5xC,KAAKC,MAAMk/B,EAAOl4B,GAAQA,EAClCgU,EAAO/gB,IAGFyI,GAGFA,EAGM,SAAS,KACtB,IAAIA,EAAQ4sC,GAAW,GAAU,IAQjC,OANA5sC,EAAMg+B,KAAO,WACX,OAAOA,GAAKh+B,EAAO,OAGrBs9B,EAAUx8B,MAAMd,EAAO5G,WAEhBs2C,GAAU1vC,GClEnB,SAAS4vC,GAAap0B,GACpB,OAAO,SAAStR,GACd,OAAOA,EAAI,GAAK7M,KAAKyF,KAAKoH,EAAGsR,GAAYne,KAAKyF,IAAIoH,EAAGsR,IAIzD,SAASq0B,GAAc3lC,GACrB,OAAOA,EAAI,GAAK7M,KAAK2F,MAAMkH,GAAK7M,KAAK2F,KAAKkH,GAG5C,SAAS4lC,GAAgB5lC,GACvB,OAAOA,EAAI,GAAKA,EAAIA,EAAIA,EAAIA,EAGvB,SAAS6lC,GAAOvD,GACrB,IAAIxsC,EAAQwsC,EAAU,GAAU,IAC5BhxB,EAAW,EAEf,SAAS+iB,IACP,OAAoB,IAAb/iB,EAAiBgxB,EAAU,GAAU,IACzB,KAAbhxB,EAAmBgxB,EAAUqD,GAAeC,IAC5CtD,EAAUoD,GAAap0B,GAAWo0B,GAAa,EAAIp0B,IAO3D,OAJAxb,EAAMwb,SAAW,SAASoF,GACxB,OAAOxnB,UAAUC,QAAUmiB,GAAYoF,EAAG2d,KAAa/iB,GAGlDk0B,GAAU1vC,GAGJ,SAAS8C,KACtB,IAAI9C,EAAQ+vC,GAAOxD,MAQnB,OANAvsC,EAAMg+B,KAAO,WACX,OAAOA,GAAKh+B,EAAO8C,MAAO0Y,SAASxb,EAAMwb,aAG3C8hB,EAAUx8B,MAAMd,EAAO5G,WAEhB4G,EC5CT,IAAI,GAAK,IAAI/C,KACT,GAAK,IAAIA,KAEE,SAAS+yC,GAAYC,EAAQC,EAASr1C,EAAO+K,GAE1D,SAASvF,EAAS8vC,GAChB,OAAOF,EAAOE,EAA4B,IAArB/2C,UAAUC,OAAe,IAAI4D,KAAO,IAAIA,MAAMkzC,IAAQA,EA8D7E,OA3DA9vC,EAAS/C,MAAQ,SAAS6yC,GACxB,OAAOF,EAAOE,EAAO,IAAIlzC,MAAMkzC,IAAQA,GAGzC9vC,EAAS8E,KAAO,SAASgrC,GACvB,OAAOF,EAAOE,EAAO,IAAIlzC,KAAKkzC,EAAO,IAAKD,EAAQC,EAAM,GAAIF,EAAOE,GAAOA,GAG5E9vC,EAAS+9B,MAAQ,SAAS+R,GACxB,IAAI1uB,EAAKphB,EAAS8vC,GACdzuB,EAAKrhB,EAAS8E,KAAKgrC,GACvB,OAAOA,EAAO1uB,EAAKC,EAAKyuB,EAAO1uB,EAAKC,GAGtCrhB,EAASoJ,OAAS,SAAS0mC,EAAM7rC,GAC/B,OAAO4rC,EAAQC,EAAO,IAAIlzC,MAAMkzC,GAAe,MAAR7rC,EAAe,EAAIjH,KAAKC,MAAMgH,IAAQ6rC,GAG/E9vC,EAASU,MAAQ,SAASG,EAAOs7B,EAAMl4B,GACrC,IAAgB8rC,EAAZrvC,EAAQ,GAGZ,GAFAG,EAAQb,EAAS8E,KAAKjE,GACtBoD,EAAe,MAARA,EAAe,EAAIjH,KAAKC,MAAMgH,KAC/BpD,EAAQs7B,GAAWl4B,EAAO,GAAI,OAAOvD,EAC3C,GAAGA,EAAMxE,KAAK6zC,EAAW,IAAInzC,MAAMiE,IAASgvC,EAAQhvC,EAAOoD,GAAO2rC,EAAO/uC,SAClEkvC,EAAWlvC,GAASA,EAAQs7B,GACnC,OAAOz7B,GAGTV,EAASwB,OAAS,SAAS8sC,GACzB,OAAOqB,IAAY,SAASG,GAC1B,GAAIA,GAAQA,EAAM,KAAOF,EAAOE,IAAQxB,EAAKwB,IAAOA,EAAK7E,QAAQ6E,EAAO,MACvE,SAASA,EAAM7rC,GAChB,GAAI6rC,GAAQA,EACV,GAAI7rC,EAAO,EAAG,OAASA,GAAQ,GAC7B,KAAO4rC,EAAQC,GAAO,IAAKxB,EAAKwB,UAC3B,OAAS7rC,GAAQ,GACtB,KAAO4rC,EAAQC,EAAM,IAAMxB,EAAKwB,UAMpCt1C,IACFwF,EAASxF,MAAQ,SAASqG,EAAOC,GAG/B,OAFA,GAAGmqC,SAASpqC,GAAQ,GAAGoqC,SAASnqC,GAChC8uC,EAAO,IAAKA,EAAO,IACZ5yC,KAAKC,MAAMzC,EAAM,GAAI,MAG9BwF,EAASgwC,MAAQ,SAAS/rC,GAExB,OADAA,EAAOjH,KAAKC,MAAMgH,GACVu4B,SAASv4B,IAAWA,EAAO,EAC3BA,EAAO,EACTjE,EAASwB,OAAO+D,EACZ,SAASrO,GAAK,OAAOqO,EAAMrO,GAAK+M,GAAS,GACzC,SAAS/M,GAAK,OAAO8I,EAASxF,MAAM,EAAGtD,GAAK+M,GAAS,IAH3CjE,EADoB,OAQrCA,EClET,IAAI,GAAO,IAAS,SAAS8vC,GAC3BA,EAAKG,SAAS,EAAG,GACjBH,EAAKI,SAAS,EAAG,EAAG,EAAG,MACtB,SAASJ,EAAM7rC,GAChB6rC,EAAKK,YAAYL,EAAKM,cAAgBnsC,MACrC,SAASpD,EAAOC,GACjB,OAAOA,EAAIsvC,cAAgBvvC,EAAMuvC,iBAChC,SAASN,GACV,OAAOA,EAAKM,iBAId,GAAKJ,MAAQ,SAAS3zC,GACpB,OAAQmgC,SAASngC,EAAIW,KAAKC,MAAMZ,KAASA,EAAI,EAAY,IAAS,SAASyzC,GACzEA,EAAKK,YAAYnzC,KAAKC,MAAM6yC,EAAKM,cAAgB/zC,GAAKA,GACtDyzC,EAAKG,SAAS,EAAG,GACjBH,EAAKI,SAAS,EAAG,EAAG,EAAG,MACtB,SAASJ,EAAM7rC,GAChB6rC,EAAKK,YAAYL,EAAKM,cAAgBnsC,EAAO5H,MALG,MASrC,UCtBX,IDuBe,GAAKqE,MCvBZ,IAAS,SAASovC,GAC5BA,EAAKO,QAAQ,GACbP,EAAKI,SAAS,EAAG,EAAG,EAAG,MACtB,SAASJ,EAAM7rC,GAChB6rC,EAAKG,SAASH,EAAK36B,WAAalR,MAC/B,SAASpD,EAAOC,GACjB,OAAOA,EAAIqU,WAAatU,EAAMsU,WAAyD,IAA3CrU,EAAIsvC,cAAgBvvC,EAAMuvC,kBACrE,SAASN,GACV,OAAOA,EAAK36B,eAIM,GAAMzU,MCX1B,SAAS4vC,GAAQ15C,GACf,OAAO,IAAS,SAASk5C,GACvBA,EAAKO,QAAQP,EAAKS,WAAaT,EAAKU,SAAW,EAAI55C,GAAK,GACxDk5C,EAAKI,SAAS,EAAG,EAAG,EAAG,MACtB,SAASJ,EAAM7rC,GAChB6rC,EAAKO,QAAQP,EAAKS,UAAmB,EAAPtsC,MAC7B,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,ECTU,KDSDC,EAAI/D,oBAAsB8D,EAAM9D,sBCNjC,UDUnB,IAAI0zC,GAASH,GAAQ,GACjBI,GAASJ,GAAQ,GACjBK,GAAUL,GAAQ,GAClBM,GAAYN,GAAQ,GACpBO,GAAWP,GAAQ,GACnBQ,GAASR,GAAQ,GACjBS,GAAWT,GAAQ,GEjB1B,IFmBiBG,GAAO/vC,MACPgwC,GAAOhwC,MACNiwC,GAAQjwC,MACNkwC,GAAUlwC,MACXmwC,GAASnwC,MACXowC,GAAOpwC,MACLqwC,GAASrwC,MEzBtB,IAAS,SAASovC,GAC1BA,EAAKI,SAAS,EAAG,EAAG,EAAG,MACtB,SAASJ,EAAM7rC,GAChB6rC,EAAKO,QAAQP,EAAKS,UAAYtsC,MAC7B,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,EDPY,KCOHC,EAAI/D,oBAAsB8D,EAAM9D,sBDLhC,SCMtB,SAAS+yC,GACV,OAAOA,EAAKS,UAAY,MAGX,MCVX,IDWc,GAAI7vC,MCXX,IAAS,SAASovC,GAC3BA,EAAK7E,QAAQ6E,EAAOA,EAAKkB,kBFJC,IEImBlB,EAAKmB,aFHxB,IEGwDnB,EAAKoB,iBACtF,SAASpB,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EFJU,KEIH7rC,MACpB,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GFNU,QEOvB,SAASivC,GACV,OAAOA,EAAKqB,eCPV,IDWe,GAAKzwC,MCXX,IAAS,SAASovC,GAC7BA,EAAK7E,QAAQ6E,EAAOA,EAAKkB,kBHJC,IGImBlB,EAAKmB,iBACjD,SAASnB,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EHLY,IGKL7rC,MACpB,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GHPY,OGQzB,SAASivC,GACV,OAAOA,EAAKoB,iBCPV,IDWiB,GAAOxwC,MCXf,IAAS,SAASovC,GAC7BA,EAAK7E,QAAQ6E,EAAOA,EAAKkB,sBACxB,SAASlB,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EJNY,IIML7rC,MACpB,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GJRY,OISzB,SAASivC,GACV,OAAOA,EAAKsB,oBCRV,IDYiB,GAAO1wC,MCZV,IAAS,eAExB,SAASovC,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EAAO7rC,MACpB,SAASpD,EAAOC,GACjB,OAAOA,EAAMD,MAIf,GAAYmvC,MAAQ,SAAS3zC,GAE3B,OADAA,EAAIW,KAAKC,MAAMZ,GACVmgC,SAASngC,IAAQA,EAAI,EACpBA,EAAI,EACH,IAAS,SAASyzC,GACvBA,EAAK7E,QAAQjuC,KAAKC,MAAM6yC,EAAOzzC,GAAKA,MACnC,SAASyzC,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EAAO7rC,EAAO5H,MAC3B,SAASwE,EAAOC,GACjB,OAAQA,EAAMD,GAASxE,KANJ,GADgB,MAYb,GAAYqE,MCtBtC,SAAS2wC,GAAWz6C,GAClB,OAAO,IAAS,SAASk5C,GACvBA,EAAKwB,WAAWxB,EAAKyB,cAAgBzB,EAAK0B,YAAc,EAAI56C,GAAK,GACjEk5C,EAAK2B,YAAY,EAAG,EAAG,EAAG,MACzB,SAAS3B,EAAM7rC,GAChB6rC,EAAKwB,WAAWxB,EAAKyB,aAAsB,EAAPttC,MACnC,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GNNQ,UMUnB,IAAI6wC,GAAYL,GAAW,GACvBM,GAAYN,GAAW,GACvBO,GAAaP,GAAW,GACxBQ,GAAeR,GAAW,GAC1BS,GAAcT,GAAW,GACzBU,GAAYV,GAAW,GACvBW,GAAcX,GAAW,GCjBhCY,IDmBoBP,GAAUhxC,MACVixC,GAAUjxC,MACTkxC,GAAWlxC,MACTmxC,GAAanxC,MACdoxC,GAAYpxC,MACdqxC,GAAUrxC,MACRsxC,GAAYtxC,MCzBzB,IAAS,SAASovC,GAC7BA,EAAK2B,YAAY,EAAG,EAAG,EAAG,MACzB,SAAS3B,EAAM7rC,GAChB6rC,EAAKwB,WAAWxB,EAAKyB,aAAettC,MACnC,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GPLS,SOMtB,SAASivC,GACV,OAAOA,EAAKyB,aAAe,MAGd,MCXXW,IDYiBD,GAAOvxC,MCZd,IAAS,SAASovC,GAC9BA,EAAKqC,YAAY,EAAG,GACpBrC,EAAK2B,YAAY,EAAG,EAAG,EAAG,MACzB,SAAS3B,EAAM7rC,GAChB6rC,EAAKsC,eAAetC,EAAKuC,iBAAmBpuC,MAC3C,SAASpD,EAAOC,GACjB,OAAOA,EAAIuxC,iBAAmBxxC,EAAMwxC,oBACnC,SAASvC,GACV,OAAOA,EAAKuC,qBAIdH,GAAQlC,MAAQ,SAAS3zC,GACvB,OAAQmgC,SAASngC,EAAIW,KAAKC,MAAMZ,KAASA,EAAI,EAAY,IAAS,SAASyzC,GACzEA,EAAKsC,eAAep1C,KAAKC,MAAM6yC,EAAKuC,iBAAmBh2C,GAAKA,GAC5DyzC,EAAKqC,YAAY,EAAG,GACpBrC,EAAK2B,YAAY,EAAG,EAAG,EAAG,MACzB,SAAS3B,EAAM7rC,GAChB6rC,EAAKsC,eAAetC,EAAKuC,iBAAmBpuC,EAAO5H,MALH,MASrC,UACO61C,GAAQxxC,MCZ9B,SAAS4xC,GAAUp7C,GACjB,GAAI,GAAKA,EAAE0S,GAAK1S,EAAE0S,EAAI,IAAK,CACzB,IAAIkmC,EAAO,IAAIlzC,MAAM,EAAG1F,EAAEF,EAAGE,EAAEA,EAAGA,EAAEq7C,EAAGr7C,EAAEs7C,EAAGt7C,EAAEu7C,EAAGv7C,EAAEw7C,GAEnD,OADA5C,EAAKK,YAAYj5C,EAAE0S,GACZkmC,EAET,OAAO,IAAIlzC,KAAK1F,EAAE0S,EAAG1S,EAAEF,EAAGE,EAAEA,EAAGA,EAAEq7C,EAAGr7C,EAAEs7C,EAAGt7C,EAAEu7C,EAAGv7C,EAAEw7C,GAGlD,SAASC,GAAQz7C,GACf,GAAI,GAAKA,EAAE0S,GAAK1S,EAAE0S,EAAI,IAAK,CACzB,IAAIkmC,EAAO,IAAIlzC,KAAKA,KAAKg2C,KAAK,EAAG17C,EAAEF,EAAGE,EAAEA,EAAGA,EAAEq7C,EAAGr7C,EAAEs7C,EAAGt7C,EAAEu7C,EAAGv7C,EAAEw7C,IAE5D,OADA5C,EAAKsC,eAAel7C,EAAE0S,GACfkmC,EAET,OAAO,IAAIlzC,KAAKA,KAAKg2C,IAAI17C,EAAE0S,EAAG1S,EAAEF,EAAGE,EAAEA,EAAGA,EAAEq7C,EAAGr7C,EAAEs7C,EAAGt7C,EAAEu7C,EAAGv7C,EAAEw7C,IAG3D,SAASG,GAAQjpC,EAAG5S,EAAGE,GACrB,MAAO,CAAC0S,EAAGA,EAAG5S,EAAGA,EAAGE,EAAGA,EAAGq7C,EAAG,EAAGC,EAAG,EAAGC,EAAG,EAAGC,EAAG,GA6VjD,IC3XI,GD2XAI,GAAO,CAAC,IAAK,GAAI,EAAK,IAAK,EAAK,KAChCC,GAAW,UACXC,GAAY,KACZC,GAAY,sBAEhB,SAASC,GAAIr7C,EAAOuK,EAAMsI,GACxB,IAAIiiC,EAAO90C,EAAQ,EAAI,IAAM,GACzB4B,GAAUkzC,GAAQ90C,EAAQA,GAAS,GACnCmB,EAASS,EAAOT,OACpB,OAAO2zC,GAAQ3zC,EAAS0R,EAAQ,IAAI1O,MAAM0O,EAAQ1R,EAAS,GAAGklB,KAAK9b,GAAQ3I,EAASA,GAGtF,SAAS05C,GAAQx6C,GACf,OAAOA,EAAE2kB,QAAQ21B,GAAW,QAG9B,SAASG,GAASx4C,GAChB,OAAO,IAAI40B,OAAO,OAAS50B,EAAM+F,IAAIwyC,IAASj1B,KAAK,KAAO,IAAK,KAGjE,SAASm1B,GAAaz4C,GAEpB,IADA,IAAI+F,EAAM,GAAI/J,GAAK,EAAGyB,EAAIuC,EAAM5B,SACvBpC,EAAIyB,GAAGsI,EAAI/F,EAAMhE,GAAGiiB,eAAiBjiB,EAC9C,OAAO+J,EAGT,SAAS2yC,GAAyBp8C,EAAGuC,EAAQ7C,GAC3C,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEuY,GAAKpX,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAASu6C,GAAyBr8C,EAAGuC,EAAQ7C,GAC3C,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEo1C,GAAKj0C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAASw6C,GAAsBt8C,EAAGuC,EAAQ7C,GACxC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEu8C,GAAKp7C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS06C,GAAmBx8C,EAAGuC,EAAQ7C,GACrC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEy8C,GAAKt7C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS46C,GAAsB18C,EAAGuC,EAAQ7C,GACxC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAE28C,GAAKx7C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS86C,GAAc58C,EAAGuC,EAAQ7C,GAChC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAE0S,GAAKvR,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS+6C,GAAU78C,EAAGuC,EAAQ7C,GAC5B,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAE0S,GAAKvR,EAAE,KAAOA,EAAE,GAAK,GAAK,KAAO,KAAOzB,EAAIyB,EAAE,GAAGW,SAAW,EAG5E,SAASg7C,GAAU98C,EAAGuC,EAAQ7C,GAC5B,IAAIyB,EAAI,+BAA+BqwC,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAChE,OAAOyB,GAAKnB,EAAE+8C,EAAI57C,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,IAAM,OAAQzB,EAAIyB,EAAE,GAAGW,SAAW,EAG7E,SAASk7C,GAAah9C,EAAGuC,EAAQ7C,GAC/B,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEw8B,EAAW,EAAPr7B,EAAE,GAAS,EAAGzB,EAAIyB,EAAE,GAAGW,SAAW,EAGtD,SAASm7C,GAAiBj9C,EAAGuC,EAAQ7C,GACnC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEF,EAAIqB,EAAE,GAAK,EAAGzB,EAAIyB,EAAE,GAAGW,SAAW,EAGlD,SAASo7C,GAAgBl9C,EAAGuC,EAAQ7C,GAClC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEA,GAAKmB,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAASq7C,GAAen9C,EAAGuC,EAAQ7C,GACjC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEF,EAAI,EAAGE,EAAEA,GAAKmB,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAGxD,SAASs7C,GAAYp9C,EAAGuC,EAAQ7C,GAC9B,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEq7C,GAAKl6C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAASu7C,GAAar9C,EAAGuC,EAAQ7C,GAC/B,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEs7C,GAAKn6C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAASw7C,GAAat9C,EAAGuC,EAAQ7C,GAC/B,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEu7C,GAAKp6C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAASy7C,GAAkBv9C,EAAGuC,EAAQ7C,GACpC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEw7C,GAAKr6C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS07C,GAAkBx9C,EAAGuC,EAAQ7C,GACpC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC1C,OAAOyB,GAAKnB,EAAEw7C,EAAI11C,KAAKC,MAAM5E,EAAE,GAAK,KAAOzB,EAAIyB,EAAE,GAAGW,SAAW,EAGjE,SAAS27C,GAAoBz9C,EAAGuC,EAAQ7C,GACtC,IAAIyB,EAAI26C,GAAUtK,KAAKjvC,EAAO8I,MAAM3L,EAAGA,EAAI,IAC3C,OAAOyB,EAAIzB,EAAIyB,EAAE,GAAGW,QAAU,EAGhC,SAAS47C,GAAmB19C,EAAGuC,EAAQ7C,GACrC,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,IACnC,OAAOyB,GAAKnB,EAAE29C,GAAKx8C,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS87C,GAA0B59C,EAAGuC,EAAQ7C,GAC5C,IAAIyB,EAAI06C,GAASrK,KAAKjvC,EAAO8I,MAAM3L,IACnC,OAAOyB,GAAKnB,EAAEyB,GAAKN,EAAE,GAAIzB,EAAIyB,EAAE,GAAGW,SAAW,EAG/C,SAAS+7C,GAAiB79C,EAAGwB,GAC3B,OAAOw6C,GAAIh8C,EAAEq5C,UAAW73C,EAAG,GAG7B,SAASs8C,GAAa99C,EAAGwB,GACvB,OAAOw6C,GAAIh8C,EAAEi6C,WAAYz4C,EAAG,GAG9B,SAASu8C,GAAa/9C,EAAGwB,GACvB,OAAOw6C,GAAIh8C,EAAEi6C,WAAa,IAAM,GAAIz4C,EAAG,GAGzC,SAASw8C,GAAgBh+C,EAAGwB,GAC1B,OAAOw6C,GAAI,EAAI,GAAQ14C,MAAM,GAAStD,GAAIA,GAAIwB,EAAG,GAGnD,SAASy8C,GAAmBj+C,EAAGwB,GAC7B,OAAOw6C,GAAIh8C,EAAE85C,kBAAmBt4C,EAAG,GAGrC,SAAS08C,GAAmBl+C,EAAGwB,GAC7B,OAAOy8C,GAAmBj+C,EAAGwB,GAAK,MAGpC,SAAS28C,GAAkBn+C,EAAGwB,GAC5B,OAAOw6C,GAAIh8C,EAAEie,WAAa,EAAGzc,EAAG,GAGlC,SAAS48C,GAAcp+C,EAAGwB,GACxB,OAAOw6C,GAAIh8C,EAAEg6C,aAAcx4C,EAAG,GAGhC,SAAS68C,GAAcr+C,EAAGwB,GACxB,OAAOw6C,GAAIh8C,EAAE+5C,aAAcv4C,EAAG,GAGhC,SAAS88C,GAA0Bt+C,GACjC,IAAIu+C,EAAMv+C,EAAEs5C,SACZ,OAAe,IAARiF,EAAY,EAAIA,EAGzB,SAASC,GAAuBx+C,EAAGwB,GACjC,OAAOw6C,GAAI,GAAW14C,MAAM,GAAStD,GAAK,EAAGA,GAAIwB,EAAG,GAGtD,SAASi9C,GAAoBz+C,EAAGwB,GAC9B,IAAI+8C,EAAMv+C,EAAEs5C,SAEZ,OADAt5C,EAAKu+C,GAAO,GAAa,IAARA,EAAa,GAAav+C,GAAK,GAAa4N,KAAK5N,GAC3Dg8C,GAAI,GAAa14C,MAAM,GAAStD,GAAIA,IAA+B,IAAzB,GAASA,GAAGs5C,UAAiB93C,EAAG,GAGnF,SAASk9C,GAA0B1+C,GACjC,OAAOA,EAAEs5C,SAGX,SAASqF,GAAuB3+C,EAAGwB,GACjC,OAAOw6C,GAAI,GAAW14C,MAAM,GAAStD,GAAK,EAAGA,GAAIwB,EAAG,GAGtD,SAAS,GAAWxB,EAAGwB,GACrB,OAAOw6C,GAAIh8C,EAAEk5C,cAAgB,IAAK13C,EAAG,GAGvC,SAASo9C,GAAe5+C,EAAGwB,GACzB,OAAOw6C,GAAIh8C,EAAEk5C,cAAgB,IAAO13C,EAAG,GAGzC,SAASq9C,GAAW7+C,GAClB,IAAI8+C,EAAI9+C,EAAE6F,oBACV,OAAQi5C,EAAI,EAAI,KAAOA,IAAM,EAAG,MAC1B9C,GAAI8C,EAAI,GAAK,EAAG,IAAK,GACrB9C,GAAI8C,EAAI,GAAI,IAAK,GAGzB,SAASC,GAAoB/+C,EAAGwB,GAC9B,OAAOw6C,GAAIh8C,EAAEq6C,aAAc74C,EAAG,GAGhC,SAASw9C,GAAgBh/C,EAAGwB,GAC1B,OAAOw6C,GAAIh8C,EAAEi/C,cAAez9C,EAAG,GAGjC,SAAS09C,GAAgBl/C,EAAGwB,GAC1B,OAAOw6C,GAAIh8C,EAAEi/C,cAAgB,IAAM,GAAIz9C,EAAG,GAG5C,SAAS29C,GAAmBn/C,EAAGwB,GAC7B,OAAOw6C,GAAI,EAAI,GAAO14C,MAAM,GAAQtD,GAAIA,GAAIwB,EAAG,GAGjD,SAAS49C,GAAsBp/C,EAAGwB,GAChC,OAAOw6C,GAAIh8C,EAAEq/C,qBAAsB79C,EAAG,GAGxC,SAAS89C,GAAsBt/C,EAAGwB,GAChC,OAAO49C,GAAsBp/C,EAAGwB,GAAK,MAGvC,SAAS+9C,GAAqBv/C,EAAGwB,GAC/B,OAAOw6C,GAAIh8C,EAAEw/C,cAAgB,EAAGh+C,EAAG,GAGrC,SAASi+C,GAAiBz/C,EAAGwB,GAC3B,OAAOw6C,GAAIh8C,EAAE0/C,gBAAiBl+C,EAAG,GAGnC,SAASm+C,GAAiB3/C,EAAGwB,GAC3B,OAAOw6C,GAAIh8C,EAAEk6C,gBAAiB14C,EAAG,GAGnC,SAASo+C,GAA6B5/C,GACpC,IAAI6/C,EAAM7/C,EAAEs6C,YACZ,OAAe,IAARuF,EAAY,EAAIA,EAGzB,SAASC,GAA0B9/C,EAAGwB,GACpC,OAAOw6C,GAAIxB,GAAUl3C,MAAM,GAAQtD,GAAK,EAAGA,GAAIwB,EAAG,GAGpD,SAASu+C,GAAuB//C,EAAGwB,GACjC,IAAI+8C,EAAMv+C,EAAEs6C,YAEZ,OADAt6C,EAAKu+C,GAAO,GAAa,IAARA,EAAa3D,GAAY56C,GAAK46C,GAAYhtC,KAAK5N,GACzDg8C,GAAIpB,GAAYt3C,MAAM,GAAQtD,GAAIA,IAAiC,IAA3B,GAAQA,GAAGs6C,aAAoB94C,EAAG,GAGnF,SAASw+C,GAA6BhgD,GACpC,OAAOA,EAAEs6C,YAGX,SAAS2F,GAA0BjgD,EAAGwB,GACpC,OAAOw6C,GAAIvB,GAAUn3C,MAAM,GAAQtD,GAAK,EAAGA,GAAIwB,EAAG,GAGpD,SAAS0+C,GAAclgD,EAAGwB,GACxB,OAAOw6C,GAAIh8C,EAAEm7C,iBAAmB,IAAK35C,EAAG,GAG1C,SAAS2+C,GAAkBngD,EAAGwB,GAC5B,OAAOw6C,GAAIh8C,EAAEm7C,iBAAmB,IAAO35C,EAAG,GAG5C,SAAS4+C,KACP,MAAO,QAGT,SAASC,KACP,MAAO,IAGT,SAASC,GAAoBtgD,GAC3B,OAAQA,EAGV,SAASugD,GAA2BvgD,GAClC,OAAO8F,KAAKC,OAAO/F,EAAI,MCloBV,SAAuBmnC,GACpC,GDea,SAAsBiP,GACnC,IAAIoK,EAAkBpK,EAAOqK,SACzBC,EAActK,EAAOwC,KACrB+H,EAAcvK,EAAO3zC,KACrBm+C,EAAiBxK,EAAOyK,QACxBC,EAAkB1K,EAAOr4B,KACzBgjC,EAAuB3K,EAAO4K,UAC9BC,EAAgB7K,EAAO8K,OACvBC,EAAqB/K,EAAOgL,YAE5BC,EAAWnF,GAAS0E,GACpBU,EAAenF,GAAayE,GAC5BW,EAAYrF,GAAS4E,GACrBU,EAAgBrF,GAAa2E,GAC7BW,EAAiBvF,GAAS6E,GAC1BW,EAAqBvF,GAAa4E,GAClCY,EAAUzF,GAAS+E,GACnBW,EAAczF,GAAa8E,GAC3BY,EAAe3F,GAASiF,GACxBW,EAAmB3F,GAAagF,GAEhCY,EAAU,CACZ,EA4PF,SAA4B/hD,GAC1B,OAAO+gD,EAAqB/gD,EAAEs5C,WA5P9B,EA+PF,SAAuBt5C,GACrB,OAAO8gD,EAAgB9gD,EAAEs5C,WA/PzB,EAkQF,SAA0Bt5C,GACxB,OAAOmhD,EAAmBnhD,EAAEie,aAlQ5B,EAqQF,SAAqBje,GACnB,OAAOihD,EAAcjhD,EAAEie,aArQvB,EAAK,KACL,EAAK4/B,GACL,EAAKA,GACL,EAAKK,GACL,EAAKJ,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAKE,GACL,EAAKC,GACL,EA8PF,SAAsBp+C,GACpB,OAAO4gD,IAAiB5gD,EAAEi6C,YAAc,MA9PxC,EAiQF,SAAuBj6C,GACrB,OAAO,KAAOA,EAAEie,WAAa,IAjQ7B,EAAKqiC,GACL,EAAKC,GACL,EAAKlC,GACL,EAAKC,GACL,EAAKE,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAK,KACL,EAAK,KACL,EAAK,GACL,EAAKC,GACL,EAAKC,GACL,IAAKwB,IAGH2B,EAAa,CACf,EAmPF,SAA+BhiD,GAC7B,OAAO+gD,EAAqB/gD,EAAEs6C,cAnP9B,EAsPF,SAA0Bt6C,GACxB,OAAO8gD,EAAgB9gD,EAAEs6C,cAtPzB,EAyPF,SAA6Bt6C,GAC3B,OAAOmhD,EAAmBnhD,EAAEw/C,gBAzP5B,EA4PF,SAAwBx/C,GACtB,OAAOihD,EAAcjhD,EAAEw/C,gBA5PvB,EAAK,KACL,EAAKT,GACL,EAAKA,GACL,EAAKO,GACL,EAAKN,GACL,EAAKE,GACL,EAAKC,GACL,EAAKC,GACL,EAAKG,GACL,EAAKE,GACL,EAqPF,SAAyBz/C,GACvB,OAAO4gD,IAAiB5gD,EAAEi/C,eAAiB,MArP3C,EAwPF,SAA0Bj/C,GACxB,OAAO,KAAOA,EAAEw/C,cAAgB,IAxPhC,EAAKc,GACL,EAAKC,GACL,EAAKZ,GACL,EAAKC,GACL,EAAKE,GACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,EAAK,KACL,EAAK,KACL,EAAKC,GACL,EAAKC,GACL,EAAKC,GACL,IAAKC,IAGH4B,EAAS,CACX,EA0JF,SAA2BjiD,EAAGuC,EAAQ7C,GACpC,IAAIyB,EAAIsgD,EAAejQ,KAAKjvC,EAAO8I,MAAM3L,IACzC,OAAOyB,GAAKnB,EAAEuY,EAAImpC,EAAmBvgD,EAAE,GAAGwgB,eAAgBjiB,EAAIyB,EAAE,GAAGW,SAAW,GA3J9E,EA8JF,SAAsB9B,EAAGuC,EAAQ7C,GAC/B,IAAIyB,EAAIogD,EAAU/P,KAAKjvC,EAAO8I,MAAM3L,IACpC,OAAOyB,GAAKnB,EAAEuY,EAAIipC,EAAcrgD,EAAE,GAAGwgB,eAAgBjiB,EAAIyB,EAAE,GAAGW,SAAW,GA/JzE,EAkKF,SAAyB9B,EAAGuC,EAAQ7C,GAClC,IAAIyB,EAAI0gD,EAAarQ,KAAKjvC,EAAO8I,MAAM3L,IACvC,OAAOyB,GAAKnB,EAAEF,EAAIgiD,EAAiB3gD,EAAE,GAAGwgB,eAAgBjiB,EAAIyB,EAAE,GAAGW,SAAW,GAnK5E,EAsKF,SAAoB9B,EAAGuC,EAAQ7C,GAC7B,IAAIyB,EAAIwgD,EAAQnQ,KAAKjvC,EAAO8I,MAAM3L,IAClC,OAAOyB,GAAKnB,EAAEF,EAAI8hD,EAAYzgD,EAAE,GAAGwgB,eAAgBjiB,EAAIyB,EAAE,GAAGW,SAAW,GAvKvE,EA0KF,SAA6B9B,EAAGuC,EAAQ7C,GACtC,OAAOwiD,EAAeliD,EAAGwgD,EAAiBj+C,EAAQ7C,IA1KlD,EAAKw9C,GACL,EAAKA,GACL,EAAKM,GACL,EAAKJ,GACL,EAAKA,GACL,EAAKD,GACL,EAAKI,GACL,EAAKN,GACL,EAAKI,GACL,EAuIF,SAAqBr9C,EAAGuC,EAAQ7C,GAC9B,IAAIyB,EAAIkgD,EAAS7P,KAAKjvC,EAAO8I,MAAM3L,IACnC,OAAOyB,GAAKnB,EAAEwB,EAAI8/C,EAAangD,EAAE,GAAGwgB,eAAgBjiB,EAAIyB,EAAE,GAAGW,SAAW,GAxIxE,EAAKk7C,GACL,EAAKU,GACL,EAAKE,GACL,EAAKN,GACL,EAAKjB,GACL,EAAKC,GACL,EAAKE,GACL,EAAKJ,GACL,EAAKM,GACL,EA0JF,SAAyB18C,EAAGuC,EAAQ7C,GAClC,OAAOwiD,EAAeliD,EAAG0gD,EAAan+C,EAAQ7C,IA1J9C,EA6JF,SAAyBM,EAAGuC,EAAQ7C,GAClC,OAAOwiD,EAAeliD,EAAG2gD,EAAap+C,EAAQ7C,IA7J9C,EAAKm9C,GACL,EAAKD,GACL,EAAKE,GACL,IAAKW,IAWP,SAASxG,EAAU1B,EAAWwM,GAC5B,OAAO,SAASnJ,GACd,IAII74C,EACAi8C,EACAzqC,EANAhP,EAAS,GACT7C,GAAK,EACLwG,EAAI,EACJ/E,EAAIo0C,EAAUzzC,OAOlB,IAFM82C,aAAgBlzC,OAAOkzC,EAAO,IAAIlzC,MAAMkzC,MAErCl5C,EAAIyB,GACqB,KAA5Bo0C,EAAUsC,WAAWn4C,KACvB6C,EAAOyC,KAAKuwC,EAAUlqC,MAAMnF,EAAGxG,IACgB,OAA1Cs8C,EAAMJ,GAAK77C,EAAIw1C,EAAU4M,SAASziD,KAAcK,EAAIw1C,EAAU4M,SAASziD,GACvEs8C,EAAY,MAANj8C,EAAY,IAAM,KACzBwR,EAASwwC,EAAQhiD,MAAIA,EAAIwR,EAAOqnC,EAAMoD,IAC1Cz5C,EAAOyC,KAAKjF,GACZmG,EAAIxG,EAAI,GAKZ,OADA6C,EAAOyC,KAAKuwC,EAAUlqC,MAAMnF,EAAGxG,IACxB6C,EAAOykB,KAAK,KAIvB,SAASo7B,EAAS7M,EAAWwH,GAC3B,OAAO,SAASx6C,GACd,IAEI8/C,EAAM9D,EAFNv+C,EAAI27C,GAAQ,UAAM5pC,EAAW,GAGjC,GAFQmwC,EAAeliD,EAAGu1C,EAAWhzC,GAAU,GAAI,IAE1CA,EAAOT,OAAQ,OAAO,KAG/B,GAAI,MAAO9B,EAAG,OAAO,IAAI0F,KAAK1F,EAAE29C,GAChC,GAAI,MAAO39C,EAAG,OAAO,IAAI0F,KAAW,IAAN1F,EAAEyB,GAAY,MAAOzB,EAAIA,EAAEw7C,EAAI,IAY7D,GATIuB,KAAO,MAAO/8C,KAAIA,EAAE+8C,EAAI,GAGxB,MAAO/8C,IAAGA,EAAEq7C,EAAIr7C,EAAEq7C,EAAI,GAAW,GAANr7C,EAAEwB,QAGrBuQ,IAAR/R,EAAEF,IAAiBE,EAAEF,EAAI,MAAOE,EAAIA,EAAEw8B,EAAI,GAG1C,MAAOx8B,EAAG,CACZ,GAAIA,EAAEy8C,EAAI,GAAKz8C,EAAEy8C,EAAI,GAAI,OAAO,KAC1B,MAAOz8C,IAAIA,EAAEuY,EAAI,GACnB,MAAOvY,GAC2Bu+C,GAApC8D,EAAO5G,GAAQE,GAAQ37C,EAAE0S,EAAG,EAAG,KAAgB4nC,YAC/C+H,EAAO9D,EAAM,GAAa,IAARA,EAAY9D,GAAU7sC,KAAKy0C,GAAQ5H,GAAU4H,GAC/DA,EAAO,GAAOnwC,OAAOmwC,EAAkB,GAAXriD,EAAEy8C,EAAI,IAClCz8C,EAAE0S,EAAI2vC,EAAKlH,iBACXn7C,EAAEF,EAAIuiD,EAAK7C,cACXx/C,EAAEA,EAAIqiD,EAAKhI,cAAgBr6C,EAAEuY,EAAI,GAAK,IAEAgmC,GAAtC8D,EAAOjH,GAAUO,GAAQ37C,EAAE0S,EAAG,EAAG,KAAgB4mC,SACjD+I,EAAO9D,EAAM,GAAa,IAARA,EAAY,GAAW3wC,KAAKy0C,GAAQ,GAAWA,GACjEA,EAAO,GAAQnwC,OAAOmwC,EAAkB,GAAXriD,EAAEy8C,EAAI,IACnCz8C,EAAE0S,EAAI2vC,EAAKnJ,cACXl5C,EAAEF,EAAIuiD,EAAKpkC,WACXje,EAAEA,EAAIqiD,EAAKhJ,WAAar5C,EAAEuY,EAAI,GAAK,QAE5B,MAAOvY,GAAK,MAAOA,KACtB,MAAOA,IAAIA,EAAEuY,EAAI,MAAOvY,EAAIA,EAAEo1C,EAAI,EAAI,MAAOp1C,EAAI,EAAI,GAC3Du+C,EAAM,MAAOv+C,EAAIy7C,GAAQE,GAAQ37C,EAAE0S,EAAG,EAAG,IAAI4nC,YAAcc,GAAUO,GAAQ37C,EAAE0S,EAAG,EAAG,IAAI4mC,SACzFt5C,EAAEF,EAAI,EACNE,EAAEA,EAAI,MAAOA,GAAKA,EAAEuY,EAAI,GAAK,EAAU,EAANvY,EAAE28C,GAAS4B,EAAM,GAAK,EAAIv+C,EAAEuY,EAAU,EAANvY,EAAEu8C,GAASgC,EAAM,GAAK,GAKzF,MAAI,MAAOv+C,GACTA,EAAEq7C,GAAKr7C,EAAE+8C,EAAI,IAAM,EACnB/8C,EAAEs7C,GAAKt7C,EAAE+8C,EAAI,IACNtB,GAAQz7C,IAIVo7C,GAAUp7C,IAIrB,SAASkiD,EAAeliD,EAAGu1C,EAAWhzC,EAAQ2D,GAO5C,IANA,IAGInG,EACAk+B,EAJAv+B,EAAI,EACJyB,EAAIo0C,EAAUzzC,OACdhC,EAAIyC,EAAOT,OAIRpC,EAAIyB,GAAG,CACZ,GAAI+E,GAAKpG,EAAG,OAAQ,EAEpB,GAAU,MADVC,EAAIw1C,EAAUsC,WAAWn4C,OAIvB,GAFAK,EAAIw1C,EAAU4M,OAAOziD,OACrBu+B,EAAQgkB,EAAOliD,KAAK67C,GAAOrG,EAAU4M,OAAOziD,KAAOK,MACnCmG,EAAI+3B,EAAMj+B,EAAGuC,EAAQ2D,IAAM,EAAI,OAAQ,OAClD,GAAInG,GAAKwC,EAAOs1C,WAAW3xC,KAChC,OAAQ,EAIZ,OAAOA,EAwFT,OAzMA67C,EAAQpvC,EAAIskC,EAAUyJ,EAAaqB,GACnCA,EAAQt4B,EAAIwtB,EAAU0J,EAAaoB,GACnCA,EAAQhiD,EAAIk3C,EAAUuJ,EAAiBuB,GACvCC,EAAWrvC,EAAIskC,EAAUyJ,EAAasB,GACtCA,EAAWv4B,EAAIwtB,EAAU0J,EAAaqB,GACtCA,EAAWjiD,EAAIk3C,EAAUuJ,EAAiBwB,GAoMnC,CACLzwC,OAAQ,SAASgkC,GACf,IAAIlwC,EAAI4xC,EAAU1B,GAAa,GAAIwM,GAEnC,OADA18C,EAAE4mB,SAAW,WAAa,OAAOspB,GAC1BlwC,GAET44B,MAAO,SAASsX,GACd,IAAI/zC,EAAI4gD,EAAS7M,GAAa,IAAI,GAElC,OADA/zC,EAAEyqB,SAAW,WAAa,OAAOspB,GAC1B/zC,GAET8gD,UAAW,SAAS/M,GAClB,IAAIlwC,EAAI4xC,EAAU1B,GAAa,GAAIyM,GAEnC,OADA38C,EAAE4mB,SAAW,WAAa,OAAOspB,GAC1BlwC,GAETk9C,SAAU,SAAShN,GACjB,IAAI/zC,EAAI4gD,EAAS7M,GAAa,IAAI,GAElC,OADA/zC,EAAEyqB,SAAW,WAAa,OAAOspB,GAC1B/zC,ICpWFghD,CAAarb,GACT,GAAO51B,OACR,GAAO0sB,MACP,GAAOqkB,UACR,GAAOC,SAhBpB,CAAc,CACZ9B,SAAU,SACV7H,KAAM,aACNn2C,KAAM,eACNo+C,QAAS,CAAC,KAAM,MAChB9iC,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACzEijC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtDE,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACvHE,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,SCoH9E,IClIXqB,GAAW,IAAS,SAAS7J,GAC/BA,EAAKwB,WAAW,GAChBxB,EAAK2B,YAAY,EAAG,EAAG,EAAG,MACzB,SAAS3B,EAAM7rC,GAChB6rC,EAAKqC,YAAYrC,EAAK4G,cAAgBzyC,MACrC,SAASpD,EAAOC,GACjB,OAAOA,EAAI41C,cAAgB71C,EAAM61C,cAAkE,IAAjD51C,EAAIuxC,iBAAmBxxC,EAAMwxC,qBAC9E,SAASvC,GACV,OAAOA,EAAK4G,iBCPVkD,IDWmBD,GAASj5C,MCXlB,IAAS,SAASovC,GAC9BA,EAAK+J,cAAc,EAAG,EAAG,MACxB,SAAS/J,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EbJU,KaIH7rC,MACpB,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GbNU,QaOvB,SAASivC,GACV,OAAOA,EAAKqG,kBCPV2D,IDWkBF,GAAQl5C,MCXd,IAAS,SAASovC,GAChCA,EAAKiK,cAAc,EAAG,MACrB,SAASjK,EAAM7rC,GAChB6rC,EAAK7E,SAAS6E,EdLY,IcKL7rC,MACpB,SAASpD,EAAOC,GACjB,OAAQA,EAAMD,GdPY,OcQzB,SAASivC,GACV,OAAOA,EAAK8G,oBAIUkD,GAAUp5C,MCdlC,SAASs5C,MAEM,mBACb,OAAmB,MAAZvuC,EAAmBuuC,GAAO,WAC/B,OAAO5/C,KAAK6/C,cAAcxuC,KCJ9B,SAAS4xB,KACP,MAAO,GAGM,ICJA,eACb,OAAO,IAAIrhC,MAAMmL,EAAOnO,SCMnB,SAASkhD,GAAUp8B,EAAQq8B,GAChC//C,KAAKggD,cAAgBt8B,EAAOs8B,cAC5BhgD,KAAKigD,aAAev8B,EAAOu8B,aAC3BjgD,KAAKkgD,MAAQ,KACblgD,KAAKmgD,QAAUz8B,EACf1jB,KAAKogD,SAAWL,EAGlBD,GAAU1hD,UAAY,CACpB6/B,YAAa6hB,GACb37B,YAAa,SAASk8B,GAAS,OAAOrgD,KAAKmgD,QAAQG,aAAaD,EAAOrgD,KAAKkgD,QAC5EI,aAAc,SAASD,EAAOE,GAAQ,OAAOvgD,KAAKmgD,QAAQG,aAAaD,EAAOE,IAC9EV,cAAe,SAASxuC,GAAY,OAAOrR,KAAKmgD,QAAQN,cAAcxuC,IACtEmvC,iBAAkB,SAASnvC,GAAY,OAAOrR,KAAKmgD,QAAQK,iBAAiBnvC,KCd9E,SAASovC,GAAU/8B,EAAQpK,EAAOonC,EAAO3zC,EAAQ4zC,EAAMh9C,GASrD,IARA,IACIygB,EADA5nB,EAAI,EAEJokD,EAActnC,EAAM1a,OACpBiiD,EAAal9C,EAAK/E,OAKfpC,EAAIqkD,IAAcrkD,GACnB4nB,EAAO9K,EAAM9c,KACf4nB,EAAKg8B,SAAWz8C,EAAKnH,GACrBuQ,EAAOvQ,GAAK4nB,GAEZs8B,EAAMlkD,GAAK,IAAIsjD,GAAUp8B,EAAQ/f,EAAKnH,IAK1C,KAAOA,EAAIokD,IAAepkD,GACpB4nB,EAAO9K,EAAM9c,MACfmkD,EAAKnkD,GAAK4nB,GAKhB,SAAS08B,GAAQp9B,EAAQpK,EAAOonC,EAAO3zC,EAAQ4zC,EAAMh9C,EAAM5F,GACzD,IAAIvB,EACA4nB,EAKA28B,EAJAC,EAAiB,GACjBJ,EAActnC,EAAM1a,OACpBiiD,EAAal9C,EAAK/E,OAClBqiD,EAAY,IAAIr/C,MAAMg/C,GAK1B,IAAKpkD,EAAI,EAAGA,EAAIokD,IAAepkD,GACzB4nB,EAAO9K,EAAM9c,MACfykD,EAAUzkD,GAAKukD,EAzCL,IAyC4BhjD,EAAIpB,KAAKynB,EAAMA,EAAKg8B,SAAU5jD,EAAG8c,GACnEynC,KAAYC,EACdL,EAAKnkD,GAAK4nB,EAEV48B,EAAeD,GAAY38B,GAQjC,IAAK5nB,EAAI,EAAGA,EAAIqkD,IAAcrkD,GAExB4nB,EAAO48B,EADXD,EAtDY,IAsDWhjD,EAAIpB,KAAK+mB,EAAQ/f,EAAKnH,GAAIA,EAAGmH,MAElDoJ,EAAOvQ,GAAK4nB,EACZA,EAAKg8B,SAAWz8C,EAAKnH,GACrBwkD,EAAeD,GAAY,MAE3BL,EAAMlkD,GAAK,IAAIsjD,GAAUp8B,EAAQ/f,EAAKnH,IAK1C,IAAKA,EAAI,EAAGA,EAAIokD,IAAepkD,GACxB4nB,EAAO9K,EAAM9c,KAAQwkD,EAAeC,EAAUzkD,MAAQ4nB,IACzDu8B,EAAKnkD,GAAK4nB,GClDhB,SAAS,GAAUre,EAAGC,GACpB,OAAOD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAID,GAAKC,EAAI,EAAIo7B,ICtBhC,ICAJ8f,GAAQ,+BAEJ,IACb7wC,IAAK,6BACL6wC,MAAOA,GACPC,MAAO,+BACPC,IAAK,uCACLC,MAAO,iCCLM,eACb,IAAIpN,EAASl3C,GAAQ,GAAIP,EAAIy3C,EAAOxyC,QAAQ,KAE5C,OADIjF,GAAK,GAAqC,WAA/By3C,EAASl3C,EAAKoL,MAAM,EAAG3L,MAAiBO,EAAOA,EAAKoL,MAAM3L,EAAI,IACtE8kD,GAAWjjD,eAAe41C,GAAU,CAACsN,MAAOD,GAAWrN,GAASuN,MAAOzkD,GAAQA,GCHxF,SAAS0kD,GAAW1kD,GAClB,OAAO,WACLiD,KAAK0hD,gBAAgB3kD,IAIzB,SAAS4kD,GAAaC,GACpB,OAAO,WACL5hD,KAAK6hD,kBAAkBD,EAASL,MAAOK,EAASJ,QAIpD,SAASM,GAAa/kD,EAAMU,GAC1B,OAAO,WACLuC,KAAKmjB,aAAapmB,EAAMU,IAI5B,SAASskD,GAAeH,EAAUnkD,GAChC,OAAO,WACLuC,KAAKgiD,eAAeJ,EAASL,MAAOK,EAASJ,MAAO/jD,IAIxD,SAASwkD,GAAallD,EAAMU,GAC1B,OAAO,WACL,IAAI0F,EAAI1F,EAAM4I,MAAMrG,KAAMrB,WACjB,MAALwE,EAAWnD,KAAK0hD,gBAAgB3kD,GAC/BiD,KAAKmjB,aAAapmB,EAAMoG,IAIjC,SAAS++C,GAAeN,EAAUnkD,GAChC,OAAO,WACL,IAAI0F,EAAI1F,EAAM4I,MAAMrG,KAAMrB,WACjB,MAALwE,EAAWnD,KAAK6hD,kBAAkBD,EAASL,MAAOK,EAASJ,OAC1DxhD,KAAKgiD,eAAeJ,EAASL,MAAOK,EAASJ,MAAOr+C,IAI9C,IC1CA,eACb,OAAQihB,EAAK47B,eAAiB57B,EAAK47B,cAAcmC,aACzC/9B,EAAKZ,UAAYY,GAClBA,EAAK+9B,aCDd,SAASC,GAAYrlD,GACnB,OAAO,WACLiD,KAAKqjB,MAAMg/B,eAAetlD,IAI9B,SAASulD,GAAcvlD,EAAMU,EAAO8kD,GAClC,OAAO,WACLviD,KAAKqjB,MAAMm/B,YAAYzlD,EAAMU,EAAO8kD,IAIxC,SAASE,GAAc1lD,EAAMU,EAAO8kD,GAClC,OAAO,WACL,IAAIp/C,EAAI1F,EAAM4I,MAAMrG,KAAMrB,WACjB,MAALwE,EAAWnD,KAAKqjB,MAAMg/B,eAAetlD,GACpCiD,KAAKqjB,MAAMm/B,YAAYzlD,EAAMoG,EAAGo/C,IAalC,SAASG,GAAWt+B,EAAMrnB,GAC/B,OAAOqnB,EAAKf,MAAMs/B,iBAAiB5lD,IAC5B,GAAYqnB,GAAMw+B,iBAAiBx+B,EAAM,MAAMu+B,iBAAiB5lD,GCjCzE,SAAS8lD,GAAe9lD,GACtB,OAAO,kBACEiD,KAAKjD,IAIhB,SAAS+lD,GAAiB/lD,EAAMU,GAC9B,OAAO,WACLuC,KAAKjD,GAAQU,GAIjB,SAASslD,GAAiBhmD,EAAMU,GAC9B,OAAO,WACL,IAAI0F,EAAI1F,EAAM4I,MAAMrG,KAAMrB,WACjB,MAALwE,SAAkBnD,KAAKjD,GACtBiD,KAAKjD,GAAQoG,GChBtB,SAAS6/C,GAAW3jD,GAClB,OAAOA,EAAOgvC,OAAO4U,MAAM,SAG7B,SAASC,GAAU9+B,GACjB,OAAOA,EAAK8+B,WAAa,IAAIC,GAAU/+B,GAGzC,SAAS++B,GAAU/+B,GACjBpkB,KAAKojD,MAAQh/B,EACbpkB,KAAKqjD,OAASL,GAAW5+B,EAAKY,aAAa,UAAY,IAuBzD,SAASs+B,GAAWl/B,EAAM5jB,GAExB,IADA,IAAI+iD,EAAOL,GAAU9+B,GAAO5nB,GAAK,EAAGyB,EAAIuC,EAAM5B,SACrCpC,EAAIyB,GAAGslD,EAAKpiB,IAAI3gC,EAAMhE,IAGjC,SAASgnD,GAAcp/B,EAAM5jB,GAE3B,IADA,IAAI+iD,EAAOL,GAAU9+B,GAAO5nB,GAAK,EAAGyB,EAAIuC,EAAM5B,SACrCpC,EAAIyB,GAAGslD,EAAKh/B,OAAO/jB,EAAMhE,IAGpC,SAASinD,GAAYjjD,GACnB,OAAO,WACL8iD,GAAWtjD,KAAMQ,IAIrB,SAASkjD,GAAaljD,GACpB,OAAO,WACLgjD,GAAcxjD,KAAMQ,IAIxB,SAASmjD,GAAgBnjD,EAAO/C,GAC9B,OAAO,YACJA,EAAM4I,MAAMrG,KAAMrB,WAAa2kD,GAAaE,IAAexjD,KAAMQ,IA5CtE2iD,GAAU/kD,UAAY,CACpB+iC,IAAK,SAASpkC,GACJiD,KAAKqjD,OAAO5hD,QAAQ1E,GACpB,IACNiD,KAAKqjD,OAAOvhD,KAAK/E,GACjBiD,KAAKojD,MAAMjgC,aAAa,QAASnjB,KAAKqjD,OAAOv/B,KAAK,QAGtDS,OAAQ,SAASxnB,GACf,IAAIP,EAAIwD,KAAKqjD,OAAO5hD,QAAQ1E,GACxBP,GAAK,IACPwD,KAAKqjD,OAAOO,OAAOpnD,EAAG,GACtBwD,KAAKojD,MAAMjgC,aAAa,QAASnjB,KAAKqjD,OAAOv/B,KAAK,QAGtD+/B,SAAU,SAAS9mD,GACjB,OAAOiD,KAAKqjD,OAAO5hD,QAAQ1E,IAAS,IC7BxC,SAAS+mD,KACP9jD,KAAK+jD,YAAc,GAGrB,SAASC,GAAavmD,GACpB,OAAO,WACLuC,KAAK+jD,YAActmD,GAIvB,SAASwmD,GAAaxmD,GACpB,OAAO,WACL,IAAI0F,EAAI1F,EAAM4I,MAAMrG,KAAMrB,WAC1BqB,KAAK+jD,YAAmB,MAAL5gD,EAAY,GAAKA,GCbxC,SAAS+gD,KACPlkD,KAAKmkD,UAAY,GAGnB,SAASC,GAAa3mD,GACpB,OAAO,WACLuC,KAAKmkD,UAAY1mD,GAIrB,SAAS4mD,GAAa5mD,GACpB,OAAO,WACL,IAAI0F,EAAI1F,EAAM4I,MAAMrG,KAAMrB,WAC1BqB,KAAKmkD,UAAiB,MAALhhD,EAAY,GAAKA,GCbtC,SAASmhD,KACHtkD,KAAKukD,aAAavkD,KAAKwkB,WAAWL,YAAYnkB,MCDpD,SAASwkD,KACHxkD,KAAKykD,iBAAiBzkD,KAAKwkB,WAAW87B,aAAatgD,KAAMA,KAAKwkB,WAAWkgC,YCE/E,SAASC,GAAe5nD,GACtB,OAAO,WACL,IAAIymB,EAAWxjB,KAAKggD,cAChB4E,EAAM5kD,KAAKigD,aACf,OAAO2E,IAAQ1D,IAAS19B,EAASqhC,gBAAgB5E,eAAiBiB,GAC5D19B,EAASsI,cAAc/uB,GACvBymB,EAASC,gBAAgBmhC,EAAK7nD,IAIxC,SAAS+nD,GAAalD,GACpB,OAAO,WACL,OAAO5hD,KAAKggD,cAAcv8B,gBAAgBm+B,EAASL,MAAOK,EAASJ,QAIxD,mBACb,IAAII,EAAWmD,GAAUhoD,GACzB,OAAQ6kD,EAASJ,MACXsD,GACAH,IAAgB/C,ICpBxB,SAASoD,KACP,OAAO,KCJT,SAASzgC,KACP,IAAIb,EAAS1jB,KAAKwkB,WACdd,GAAQA,EAAOe,YAAYzkB,MCFjC,SAASilD,KACP,IAAIC,EAAQllD,KAAKmlD,WAAU,GAAQzhC,EAAS1jB,KAAKwkB,WACjD,OAAOd,EAASA,EAAO48B,aAAa4E,EAAOllD,KAAKukD,aAAeW,EAGjE,SAASE,KACP,IAAIF,EAAQllD,KAAKmlD,WAAU,GAAOzhC,EAAS1jB,KAAKwkB,WAChD,OAAOd,EAASA,EAAO48B,aAAa4E,EAAOllD,KAAKukD,aAAeW,EAGlD,ICVXG,GAAe,GAER,GAAQ,KAEK,oBAAb7hC,WAEH,iBADQA,SAASqhC,kBAErBQ,GAAe,CAACC,WAAY,YAAaC,WAAY,cAIzD,SAASC,GAAsBC,EAAUjkD,EAAO8X,GAE9C,OADAmsC,EAAWC,GAAgBD,EAAUjkD,EAAO8X,GACrC,SAAS4L,GACd,IAAIygC,EAAUzgC,EAAM0gC,cACfD,IAAYA,IAAY3lD,MAAkD,EAAxC2lD,EAAQE,wBAAwB7lD,QACrEylD,EAAS9oD,KAAKqD,KAAMklB,IAK1B,SAASwgC,GAAgBD,EAAUjkD,EAAO8X,GACxC,OAAO,SAASwsC,GACd,IAAIC,EAAS,GACb,GAAQD,EACR,IACEL,EAAS9oD,KAAKqD,KAAMA,KAAKogD,SAAU5+C,EAAO8X,GAC1C,QACA,GAAQysC,IAKd,SAASC,GAAeC,GACtB,OAAOA,EAAU5X,OAAO4U,MAAM,SAAS18C,KAAI,SAAS7I,GAClD,IAAIX,EAAO,GAAIP,EAAIkB,EAAE+D,QAAQ,KAE7B,OADIjF,GAAK,IAAGO,EAAOW,EAAEyK,MAAM3L,EAAI,GAAIkB,EAAIA,EAAEyK,MAAM,EAAG3L,IAC3C,CAACuF,KAAMrE,EAAGX,KAAMA,MAI3B,SAASmpD,GAASC,GAChB,OAAO,WACL,IAAIlhC,EAAKjlB,KAAKomD,KACd,GAAKnhC,EAAL,CACA,IAAK,IAAkChoB,EAA9B+F,EAAI,EAAGxG,GAAK,EAAGI,EAAIqoB,EAAGrmB,OAAWoE,EAAIpG,IAAKoG,EAC7C/F,EAAIgoB,EAAGjiB,GAAMmjD,EAASpkD,MAAQ9E,EAAE8E,OAASokD,EAASpkD,MAAS9E,EAAEF,OAASopD,EAASppD,KAGjFkoB,IAAKzoB,GAAKS,EAFV+C,KAAK8S,oBAAoB7V,EAAE8E,KAAM9E,EAAEwoD,SAAUxoD,EAAEopD,WAK7C7pD,EAAGyoB,EAAGrmB,OAASpC,SACTwD,KAAKomD,OAIrB,SAASE,GAAMH,EAAU1oD,EAAO4oD,GAC9B,IAAIE,EAAOlB,GAAahnD,eAAe8nD,EAASpkD,MAAQyjD,GAAwBE,GAChF,OAAO,SAAS5oD,EAAGN,EAAG8c,GACpB,IAAoBrc,EAAhBgoB,EAAKjlB,KAAKomD,KAASX,EAAWc,EAAK9oD,EAAOjB,EAAG8c,GACjD,GAAI2L,EAAI,IAAK,IAAIjiB,EAAI,EAAGpG,EAAIqoB,EAAGrmB,OAAQoE,EAAIpG,IAAKoG,EAC9C,IAAK/F,EAAIgoB,EAAGjiB,IAAIjB,OAASokD,EAASpkD,MAAQ9E,EAAEF,OAASopD,EAASppD,KAI5D,OAHAiD,KAAK8S,oBAAoB7V,EAAE8E,KAAM9E,EAAEwoD,SAAUxoD,EAAEopD,SAC/CrmD,KAAKyR,iBAAiBxU,EAAE8E,KAAM9E,EAAEwoD,SAAWA,EAAUxoD,EAAEopD,QAAUA,QACjEppD,EAAEQ,MAAQA,GAIduC,KAAKyR,iBAAiB00C,EAASpkD,KAAM0jD,EAAUY,GAC/CppD,EAAI,CAAC8E,KAAMokD,EAASpkD,KAAMhF,KAAMopD,EAASppD,KAAMU,MAAOA,EAAOgoD,SAAUA,EAAUY,QAASA,GACrFphC,EACAA,EAAGnjB,KAAK7E,GADJ+C,KAAKomD,KAAO,CAACnpD,ICrE1B,SAASupD,GAAcpiC,EAAMriB,EAAM0kD,GACjC,IAAI5zC,EAAS,GAAYuR,GACrBc,EAAQrS,EAAO6zC,YAEE,mBAAVxhC,EACTA,EAAQ,IAAIA,EAAMnjB,EAAM0kD,IAExBvhC,EAAQrS,EAAO2Q,SAASmjC,YAAY,SAChCF,GAAQvhC,EAAM0hC,UAAU7kD,EAAM0kD,EAAOI,QAASJ,EAAOK,YAAa5hC,EAAM6hC,OAASN,EAAOM,QACvF7hC,EAAM0hC,UAAU7kD,GAAM,GAAO,IAGpCqiB,EAAKoiC,cAActhC,GAGrB,SAAS8hC,GAAiBjlD,EAAM0kD,GAC9B,OAAO,WACL,OAAOD,GAAcxmD,KAAM+B,EAAM0kD,IAIrC,SAASQ,GAAiBllD,EAAM0kD,GAC9B,OAAO,WACL,OAAOD,GAAcxmD,KAAM+B,EAAM0kD,EAAOpgD,MAAMrG,KAAMrB,aAIzC,ICGJuoD,GAAO,CAAC,MAEZ,SAASC,GAAUC,EAAQC,GAChCrnD,KAAKsnD,QAAUF,EACfpnD,KAAKunD,SAAWF,EAGlB,SAAS,KACP,OAAO,IAAIF,GAAU,CAAC,CAAC3jC,SAASqhC,kBAAmBqC,IAGrDC,GAAU/oD,UAAY,GAAUA,UAAY,CAC1C6/B,YAAakpB,GACbK,OC1Ca,YACS,mBAAXA,IAAuBA,EAAS,GAASA,IAEpD,IAAK,IAAIJ,EAASpnD,KAAKsnD,QAAS1qD,EAAIwqD,EAAOxoD,OAAQ6oD,EAAY,IAAI7lD,MAAMhF,GAAIoG,EAAI,EAAGA,EAAIpG,IAAKoG,EAC3F,IAAK,IAAiFohB,EAAMsjC,EAAnFpuC,EAAQ8tC,EAAOpkD,GAAI/E,EAAIqb,EAAM1a,OAAQ+oD,EAAWF,EAAUzkD,GAAK,IAAIpB,MAAM3D,GAAmBzB,EAAI,EAAGA,EAAIyB,IAAKzB,GAC9G4nB,EAAO9K,EAAM9c,MAAQkrD,EAAUF,EAAO7qD,KAAKynB,EAAMA,EAAKg8B,SAAU5jD,EAAG8c,MAClE,aAAc8K,IAAMsjC,EAAQtH,SAAWh8B,EAAKg8B,UAChDuH,EAASnrD,GAAKkrD,GAKpB,OAAO,IAAIP,GAAUM,EAAWznD,KAAKunD,WD+BrCK,UE3Ca,YzBCA,MyBAS,mBAAXJ,IAAuBA,EzBCf,OADN,EyBA0CA,GzBC7BvkB,GAAQ,WAChC,OAAOjjC,KAAKwgD,iBAAiBnvC,KyBA/B,IAAK,IAAI+1C,EAASpnD,KAAKsnD,QAAS1qD,EAAIwqD,EAAOxoD,OAAQ6oD,EAAY,GAAIJ,EAAU,GAAIrkD,EAAI,EAAGA,EAAIpG,IAAKoG,EAC/F,IAAK,IAAyCohB,EAArC9K,EAAQ8tC,EAAOpkD,GAAI/E,EAAIqb,EAAM1a,OAAcpC,EAAI,EAAGA,EAAIyB,IAAKzB,GAC9D4nB,EAAO9K,EAAM9c,MACfirD,EAAU3lD,KAAK0lD,EAAO7qD,KAAKynB,EAAMA,EAAKg8B,SAAU5jD,EAAG8c,IACnD+tC,EAAQvlD,KAAKsiB,IAKnB,OAAO,IAAI+iC,GAAUM,EAAWJ,IFgChCjgD,OG5Ca,YCHA,MDIQ,mBAAVoH,ICJE,EDIoCA,EAAhBA,ECH1B,WACL,OAAOxO,KAAK6nD,QAAQx2C,KDItB,IAAK,IAAI+1C,EAASpnD,KAAKsnD,QAAS1qD,EAAIwqD,EAAOxoD,OAAQ6oD,EAAY,IAAI7lD,MAAMhF,GAAIoG,EAAI,EAAGA,EAAIpG,IAAKoG,EAC3F,IAAK,IAAuEohB,EAAnE9K,EAAQ8tC,EAAOpkD,GAAI/E,EAAIqb,EAAM1a,OAAQ+oD,EAAWF,EAAUzkD,GAAK,GAAUxG,EAAI,EAAGA,EAAIyB,IAAKzB,GAC3F4nB,EAAO9K,EAAM9c,KAAOgS,EAAM7R,KAAKynB,EAAMA,EAAKg8B,SAAU5jD,EAAG8c,IAC1DquC,EAAS7lD,KAAKsiB,GAKpB,OAAO,IAAI+iC,GAAUM,EAAWznD,KAAKunD,WHkCrC5jD,KpB4Ba,cACb,IAAKlG,EAGH,OAFAkG,EAAO,IAAI/B,MAAM5B,KAAKG,QAAS6C,GAAK,EACpChD,KAAK8iC,MAAK,SAAShmC,GAAK6G,IAAOX,GAAKlG,KAC7B6G,EAGT,IyBnFa,EzBmFT3F,EAAOD,EAAM+iD,GAAUL,GACvB4G,EAAUrnD,KAAKunD,SACfH,EAASpnD,KAAKsnD,QAEG,mBAAV7pD,IyBvFE,EzBuFqCA,EAAjBA,EyBtF1B,WACL,OAAOgS,IzBuFT,IAAK,IAAI7S,EAAIwqD,EAAOxoD,OAAQmO,EAAS,IAAInL,MAAMhF,GAAI8jD,EAAQ,IAAI9+C,MAAMhF,GAAI+jD,EAAO,IAAI/+C,MAAMhF,GAAIoG,EAAI,EAAGA,EAAIpG,IAAKoG,EAAG,CAC/G,IAAI0gB,EAAS2jC,EAAQrkD,GACjBsW,EAAQ8tC,EAAOpkD,GACf49C,EAActnC,EAAM1a,OACpB+E,EAAOlG,EAAMd,KAAK+mB,EAAQA,GAAUA,EAAO08B,SAAUp9C,EAAGqkD,GACxDxG,EAAal9C,EAAK/E,OAClBkpD,EAAapH,EAAM19C,GAAK,IAAIpB,MAAMi/C,GAClCkH,EAAch7C,EAAO/J,GAAK,IAAIpB,MAAMi/C,GAGxC7iD,EAAK0lB,EAAQpK,EAAOwuC,EAAYC,EAFhBpH,EAAK39C,GAAK,IAAIpB,MAAMg/C,GAEoBj9C,EAAM5F,GAK9D,IAAK,IAAoB43C,EAAU4K,EAA1B9L,EAAK,EAAGD,EAAK,EAAmBC,EAAKoM,IAAcpM,EAC1D,GAAIkB,EAAWmS,EAAWrT,GAAK,CAE7B,IADIA,GAAMD,IAAIA,EAAKC,EAAK,KACf8L,EAAOwH,EAAYvT,OAAUA,EAAKqM,IAC3ClL,EAASuK,MAAQK,GAAQ,MAQ/B,OAHAxzC,EAAS,IAAIo6C,GAAUp6C,EAAQs6C,IACxBW,OAAStH,EAChB3zC,EAAOk7C,MAAQtH,EACR5zC,GoBnEP2zC,MrB9Ca,WACb,OAAO,IAAIyG,GAAUnnD,KAAKgoD,QAAUhoD,KAAKsnD,QAAQ/gD,IAAI2hD,IAASloD,KAAKunD,WqB8CnE5G,KM/Ca,WACb,OAAO,IAAIwG,GAAUnnD,KAAKioD,OAASjoD,KAAKsnD,QAAQ/gD,IAAI2hD,IAASloD,KAAKunD,WN+ClEzjC,KOnDa,gBACb,IAAI48B,EAAQ1gD,KAAK0gD,QAAS3zC,EAAS/M,KAAM2gD,EAAO3gD,KAAK2gD,OAIrD,OAHAD,EAA2B,mBAAZyH,EAAyBA,EAAQzH,GAASA,EAAM3vC,OAAOo3C,EAAU,IAChE,MAAZC,IAAkBr7C,EAASq7C,EAASr7C,IAC1B,MAAVs7C,EAAgB1H,EAAKp8B,SAAe8jC,EAAO1H,GACxCD,GAAS3zC,EAAS2zC,EAAM4H,MAAMv7C,GAAQw7C,QAAUx7C,GP+CvDu7C,MQlDa,YAEb,IAAK,IAAIE,EAAUxoD,KAAKsnD,QAASmB,EAAUn3C,EAAUg2C,QAASoB,EAAKF,EAAQ5pD,OAAQowC,EAAKyZ,EAAQ7pD,OAAQhC,EAAIgG,KAAK8B,IAAIgkD,EAAI1Z,GAAK2Z,EAAS,IAAI/mD,MAAM8mD,GAAK1lD,EAAI,EAAGA,EAAIpG,IAAKoG,EACpK,IAAK,IAAmGohB,EAA/FwkC,EAASJ,EAAQxlD,GAAI6lD,EAASJ,EAAQzlD,GAAI/E,EAAI2qD,EAAOhqD,OAAQ0pD,EAAQK,EAAO3lD,GAAK,IAAIpB,MAAM3D,GAAUzB,EAAI,EAAGA,EAAIyB,IAAKzB,GACxH4nB,EAAOwkC,EAAOpsD,IAAMqsD,EAAOrsD,MAC7B8rD,EAAM9rD,GAAK4nB,GAKjB,KAAOphB,EAAI0lD,IAAM1lD,EACf2lD,EAAO3lD,GAAKwlD,EAAQxlD,GAGtB,OAAO,IAAImkD,GAAUwB,EAAQ3oD,KAAKunD,WRqClCgB,MSrDa,WAEb,IAAK,IAAInB,EAASpnD,KAAKsnD,QAAStkD,GAAK,EAAGpG,EAAIwqD,EAAOxoD,SAAUoE,EAAIpG,GAC/D,IAAK,IAA8DwnB,EAA1D9K,EAAQ8tC,EAAOpkD,GAAIxG,EAAI8c,EAAM1a,OAAS,EAAG2hD,EAAOjnC,EAAM9c,KAAYA,GAAK,IAC1E4nB,EAAO9K,EAAM9c,MACX+jD,GAA6C,EAArCn8B,EAAKyhC,wBAAwBtF,IAAWA,EAAK/7B,WAAW87B,aAAal8B,EAAMm8B,GACvFA,EAAOn8B,GAKb,OAAOpkB,MT2CP8F,KnBpDa,YAGb,SAASgjD,EAAY/iD,EAAGC,GACtB,OAAOD,GAAKC,EAAIq7B,EAAQt7B,EAAEq6C,SAAUp6C,EAAEo6C,WAAar6C,GAAKC,EAHrDq7B,IAASA,EAAU,IAMxB,IAAK,IAAI+lB,EAASpnD,KAAKsnD,QAAS1qD,EAAIwqD,EAAOxoD,OAAQmqD,EAAa,IAAInnD,MAAMhF,GAAIoG,EAAI,EAAGA,EAAIpG,IAAKoG,EAAG,CAC/F,IAAK,IAAmFohB,EAA/E9K,EAAQ8tC,EAAOpkD,GAAI/E,EAAIqb,EAAM1a,OAAQoqD,EAAYD,EAAW/lD,GAAK,IAAIpB,MAAM3D,GAAUzB,EAAI,EAAGA,EAAIyB,IAAKzB,GACxG4nB,EAAO9K,EAAM9c,MACfwsD,EAAUxsD,GAAK4nB,GAGnB4kC,EAAUljD,KAAKgjD,GAGjB,OAAO,IAAI3B,GAAU4B,EAAY/oD,KAAKunD,UAAUgB,SmBqChD5rD,KlBvDa,WACb,IAAIwoB,EAAWxmB,UAAU,GAGzB,OAFAA,UAAU,GAAKqB,KACfmlB,EAAS9e,MAAM,KAAM1H,WACdqB,MkBoDPipD,MUxDa,WACb,IAAIA,EAAQ,IAAIrnD,MAAM5B,KAAKG,QAAS3D,GAAK,EAEzC,OADAwD,KAAK8iC,MAAK,WAAammB,IAAQzsD,GAAKwD,QAC7BipD,GVsDP7kC,KWzDa,WAEb,IAAK,IAAIgjC,EAASpnD,KAAKsnD,QAAStkD,EAAI,EAAGpG,EAAIwqD,EAAOxoD,OAAQoE,EAAIpG,IAAKoG,EACjE,IAAK,IAAIsW,EAAQ8tC,EAAOpkD,GAAIxG,EAAI,EAAGyB,EAAIqb,EAAM1a,OAAQpC,EAAIyB,IAAKzB,EAAG,CAC/D,IAAI4nB,EAAO9K,EAAM9c,GACjB,GAAI4nB,EAAM,OAAOA,EAIrB,OAAO,MXiDPjkB,KY1Da,WACb,IAAIA,EAAO,EAEX,OADAH,KAAK8iC,MAAK,aAAe3iC,KAClBA,GZwDP8iC,Ma3Da,WACb,OAAQjjC,KAAKokB,Qb2Db0e,Kc5Da,YAEb,IAAK,IAAIskB,EAASpnD,KAAKsnD,QAAStkD,EAAI,EAAGpG,EAAIwqD,EAAOxoD,OAAQoE,EAAIpG,IAAKoG,EACjE,IAAK,IAAgDohB,EAA5C9K,EAAQ8tC,EAAOpkD,GAAIxG,EAAI,EAAGyB,EAAIqb,EAAM1a,OAAcpC,EAAIyB,IAAKzB,GAC9D4nB,EAAO9K,EAAM9c,KAAI2oB,EAASxoB,KAAKynB,EAAMA,EAAKg8B,SAAU5jD,EAAG8c,GAI/D,OAAOtZ,MdqDPmF,KfnBa,cACb,IAAIy8C,EAAWmD,GAAUhoD,GAEzB,GAAI4B,UAAUC,OAAS,EAAG,CACxB,IAAIwlB,EAAOpkB,KAAKokB,OAChB,OAAOw9B,EAASJ,MACVp9B,EAAK8kC,eAAetH,EAASL,MAAOK,EAASJ,OAC7Cp9B,EAAKY,aAAa48B,GAG1B,OAAO5hD,KAAK8iC,MAAe,MAATrlC,EACXmkD,EAASJ,MAAQG,GAAeF,GAAgC,mBAAVhkD,EACtDmkD,EAASJ,MAAQU,GAAiBD,GAClCL,EAASJ,MAAQO,GAAiBD,IAAgBF,EAAUnkD,KeOnE4lB,MbxCa,gBACb,OAAO1kB,UAAUC,OAAS,EACpBoB,KAAK8iC,MAAe,MAATrlC,EACL2kD,GAA+B,mBAAV3kD,EACrBglD,GACAH,IAAevlD,EAAMU,EAAmB,MAAZ8kD,EAAmB,GAAKA,IAC1DG,GAAW1iD,KAAKokB,OAAQrnB,IamC9BoB,SZ3Ca,cACb,OAAOQ,UAAUC,OAAS,EACpBoB,KAAK8iC,MAAe,MAATrlC,EACPolD,GAAkC,mBAAVplD,EACxBslD,GACAD,IAAkB/lD,EAAMU,IAC5BuC,KAAKokB,OAAOrnB,IYsClBosD,QXHa,cACb,IAAI3oD,EAAQwiD,GAAWjmD,EAAO,IAE9B,GAAI4B,UAAUC,OAAS,EAAG,CAExB,IADA,IAAI2kD,EAAOL,GAAUljD,KAAKokB,QAAS5nB,GAAK,EAAGyB,EAAIuC,EAAM5B,SAC5CpC,EAAIyB,GAAG,IAAKslD,EAAKM,SAASrjD,EAAMhE,IAAK,OAAO,EACrD,OAAO,EAGT,OAAOwD,KAAK8iC,MAAuB,mBAAVrlC,EACnBkmD,GAAkBlmD,EAClBgmD,GACAC,IAAcljD,EAAO/C,KWR3BmnB,KVhDa,YACb,OAAOjmB,UAAUC,OACXoB,KAAK8iC,KAAc,MAATrlC,EACNqmD,IAA+B,mBAAVrmD,EACrBwmD,GACAD,IAAcvmD,IAClBuC,KAAKokB,OAAO2/B,aU2ClBqF,KTjDa,YACb,OAAOzqD,UAAUC,OACXoB,KAAK8iC,KAAc,MAATrlC,EACNymD,IAA+B,mBAAVzmD,EACrB4mD,GACAD,IAAc3mD,IAClBuC,KAAKokB,OAAO+/B,WS4ClBG,MR/Da,WACb,OAAOtkD,KAAK8iC,KAAKwhB,KQ+DjBE,MPhEa,WACb,OAAOxkD,KAAK8iC,KAAK0hB,KOgEjBzzC,OenEa,YACb,IAAIjT,EAAyB,mBAATf,EAAsBA,EAAOssD,GAAQtsD,GACzD,OAAOiD,KAAKwnD,QAAO,WACjB,OAAOxnD,KAAKmkB,YAAYrmB,EAAOuI,MAAMrG,KAAMrB,gBfiE7C2qD,OL/Da,cACb,IAAIxrD,EAAyB,mBAATf,EAAsBA,EAAOssD,GAAQtsD,GACrDyqD,EAAmB,MAAV+B,EAAiBvE,GAAiC,mBAAXuE,EAAwBA,EAAS,GAASA,GAC9F,OAAOvpD,KAAKwnD,QAAO,WACjB,OAAOxnD,KAAKsgD,aAAaxiD,EAAOuI,MAAMrG,KAAMrB,WAAY6oD,EAAOnhD,MAAMrG,KAAMrB,YAAc,UK4D3F4lB,OJlEa,WACb,OAAOvkB,KAAK8iC,KAAKve,KIkEjB2gC,MH9Da,YACb,OAAOllD,KAAKwnD,OAAOgC,EAAOpE,GAAsBH,KG8DhDlF,MgBzEa,YACb,OAAOphD,UAAUC,OACXoB,KAAK7B,SAAS,WAAYV,GAC1BuC,KAAKokB,OAAOg8B,UhBuElBn7B,GFEa,gBACb,IAA+CzoB,EAAyBkB,EAApEuoD,EAAYD,GAAeG,EAAW,IAAQloD,EAAIgoD,EAAUrnD,OAEhE,KAAID,UAAUC,OAAS,GAAvB,CAcA,IAFAqmB,EAAKxnB,EAAQ6oD,GAAQJ,GACN,MAAXG,IAAiBA,GAAU,GAC1B7pD,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGwD,KAAK8iC,KAAK7d,EAAGghC,EAAUzpD,GAAIiB,EAAO4oD,IAC1D,OAAOrmD,KAdL,IAAIilB,EAAKjlB,KAAKokB,OAAOgiC,KACrB,GAAInhC,EAAI,IAAK,IAA0BhoB,EAAtB+F,EAAI,EAAGpG,EAAIqoB,EAAGrmB,OAAWoE,EAAIpG,IAAKoG,EACjD,IAAKxG,EAAI,EAAGS,EAAIgoB,EAAGjiB,GAAIxG,EAAIyB,IAAKzB,EAC9B,IAAKkB,EAAIuoD,EAAUzpD,IAAIuF,OAAS9E,EAAE8E,MAAQrE,EAAEX,OAASE,EAAEF,KACrD,OAAOE,EAAEQ,OETjBgsD,SD9Ca,cACb,OAAOzpD,KAAK8iC,MAAwB,mBAAX2jB,EACnBQ,GACAD,IAAkBjlD,EAAM0kD,MC8CjB,IiB5EA,eACb,MAA2B,iBAAbp1C,EACR,IAAI81C,GAAU,CAAC,CAAC3jC,SAASq8B,cAAcxuC,KAAa,CAACmS,SAASqhC,kBAC9D,IAAIsC,GAAU,CAAC,CAAC91C,IAAY61C,KCLzBwC,GAAU9mD,KAAK+mD,GAAK,IACpBC,GAAU,IAAMhnD,KAAK+mD,GCahC,SAASE,GAAW5sD,GAClB,GAAIA,aAAa6sD,GAAK,OAAO,IAAIA,GAAI7sD,EAAER,EAAGQ,EAAE8I,EAAG9I,EAAE+I,EAAG/I,EAAEwjB,SACtD,GAAIxjB,aAAa8sD,GAAK,OAAOC,GAAQ/sD,GAC/BA,aAAauxC,KAAMvxC,EAAIyxC,GAAWzxC,IACxC,IAGuEwS,EAAGmsC,EAHtEt+C,EAAI2sD,GAAShtD,EAAEK,GACfmzB,EAAIw5B,GAAShtD,EAAEwzB,GACfzqB,EAAIikD,GAAShtD,EAAE+I,GACfwJ,EAAI06C,IAAS,SAAY5sD,EAAI,SAAYmzB,EAAI,SAAYzqB,GAdtD,GAmBP,OAJI1I,IAAMmzB,GAAKA,IAAMzqB,EAAGyJ,EAAImsC,EAAIpsC,GAC9BC,EAAIy6C,IAAS,SAAY5sD,EAAI,SAAYmzB,EAAI,SAAYzqB,GAjBpD,QAkBL41C,EAAIsO,IAAS,SAAY5sD,EAAI,SAAYmzB,EAAI,SAAYzqB,GAhBpD,SAkBA,IAAI8jD,GAAI,IAAMt6C,EAAI,GAAI,KAAOC,EAAID,GAAI,KAAOA,EAAIosC,GAAI3+C,EAAEwjB,SAWxD,SAASqpC,GAAIrtD,EAAGsJ,EAAGC,EAAGya,GAC3BzgB,KAAKvD,GAAKA,EACVuD,KAAK+F,GAAKA,EACV/F,KAAKgG,GAAKA,EACVhG,KAAKygB,SAAWA,EA0BlB,SAASypC,GAAQxsD,GACf,OAAOA,EA1DA,EAAI,IAAJ,EAAI,KAAJ,EAAI,IA0DKkF,KAAKyF,IAAI3K,EAAG,EAAI,GAAKA,GA1D9B,EAAI,GACJ,GADA,EAAI,KADJ,EAAI,GA8Db,SAASysD,GAAQzsD,GACf,OAAOA,EA9DA,EAAI,GA8DKA,EAAIA,EAAIA,EA9DjB,EAAI,GACJ,GADA,EAAI,KA8DuBA,EA/D3B,EAAI,IAkEb,SAAS0sD,GAAS36C,GAChB,OAAO,KAAOA,GAAK,SAAY,MAAQA,EAAI,MAAQ7M,KAAKyF,IAAIoH,EAAG,EAAI,KAAO,MAG5E,SAASw6C,GAASx6C,GAChB,OAAQA,GAAK,MAAQ,OAAUA,EAAI,MAAQ7M,KAAKyF,KAAKoH,EAAI,MAAS,MAAO,KAG3E,SAAS46C,GAAWptD,GAClB,GAAIA,aAAa8sD,GAAK,OAAO,IAAIA,GAAI9sD,EAAEmlB,EAAGnlB,EAAEJ,EAAGI,EAAER,EAAGQ,EAAEwjB,SAEtD,GADMxjB,aAAa6sD,KAAM7sD,EAAI4sD,GAAW5sD,IAC5B,IAARA,EAAE8I,GAAmB,IAAR9I,EAAE+I,EAAS,OAAO,IAAI+jD,GAAI3oB,IAAK,EAAInkC,EAAER,GAAKQ,EAAER,EAAI,IAAM,EAAI2kC,IAAKnkC,EAAER,EAAGQ,EAAEwjB,SACvF,IAAI2B,EAAIxf,KAAK0nD,MAAMrtD,EAAE+I,EAAG/I,EAAE8I,GAAK6jD,GAC/B,OAAO,IAAIG,GAAI3nC,EAAI,EAAIA,EAAI,IAAMA,EAAGxf,KAAK2F,KAAKtL,EAAE8I,EAAI9I,EAAE8I,EAAI9I,EAAE+I,EAAI/I,EAAE+I,GAAI/I,EAAER,EAAGQ,EAAEwjB,SAOxE,SAAS8pC,GAAInoC,EAAGvlB,EAAGJ,EAAGgkB,GAC3B,OAA4B,IAArB9hB,UAAUC,OAAeyrD,GAAWjoC,GAAK,IAAI2nC,GAAI3nC,EAAGvlB,EAAGJ,EAAc,MAAXgkB,EAAkB,EAAIA,GAGlF,SAASspC,GAAI3nC,EAAGvlB,EAAGJ,EAAGgkB,GAC3BzgB,KAAKoiB,GAAKA,EACVpiB,KAAKnD,GAAKA,EACVmD,KAAKvD,GAAKA,EACVuD,KAAKygB,SAAWA,EAGlB,SAASupC,GAAQ/sD,GACf,GAAI6pB,MAAM7pB,EAAEmlB,GAAI,OAAO,IAAI0nC,GAAI7sD,EAAER,EAAG,EAAG,EAAGQ,EAAEwjB,SAC5C,IAAI2B,EAAInlB,EAAEmlB,EAAIsnC,GACd,OAAO,IAAII,GAAI7sD,EAAER,EAAGmG,KAAK4nD,IAAIpoC,GAAKnlB,EAAEJ,EAAG+F,KAAK6nD,IAAIroC,GAAKnlB,EAAEJ,EAAGI,EAAEwjB,SC1G9D,SAAS,GAAIiqC,GACX,OAAO,SAASjkD,EAAOC,GACrB,IAAI0b,EAAIsoC,GAAKjkD,EAAQ,GAASA,IAAQ2b,GAAI1b,EAAM,GAASA,IAAM0b,GAC3DvlB,EAAI,GAAM4J,EAAM5J,EAAG6J,EAAI7J,GACvBJ,EAAI,GAAMgK,EAAMhK,EAAGiK,EAAIjK,GACvBgkB,EAAU,GAAMha,EAAMga,QAAS/Z,EAAI+Z,SACvC,OAAO,SAAS/iB,GAKd,OAJA+I,EAAM2b,EAAIA,EAAE1kB,GACZ+I,EAAM5J,EAAIA,EAAEa,GACZ+I,EAAMhK,EAAIA,EAAEiB,GACZ+I,EAAMga,QAAUA,EAAQ/iB,GACjB+I,EAAQ,KD8BrBipC,EAAOoa,IAXQ,SAAartD,EAAGsJ,EAAGC,EAAGya,GACnC,OAA4B,IAArB9hB,UAAUC,OAAeirD,GAAWptD,GAAK,IAAIqtD,GAAIrtD,EAAGsJ,EAAGC,EAAc,MAAXya,EAAkB,EAAIA,KAUxE+T,EAAO0P,EAAO,CAC7B4L,SAAU,SAAS7tC,GACjB,OAAO,IAAI6nD,GAAI9pD,KAAKvD,EAzChB,IAyC8B,MAALwF,EAAY,EAAIA,GAAIjC,KAAK+F,EAAG/F,KAAKgG,EAAGhG,KAAKygB,UAExEsvB,OAAQ,SAAS9tC,GACf,OAAO,IAAI6nD,GAAI9pD,KAAKvD,EA5ChB,IA4C8B,MAALwF,EAAY,EAAIA,GAAIjC,KAAK+F,EAAG/F,KAAKgG,EAAGhG,KAAKygB,UAExEpC,IAAK,WACH,IAAI7O,GAAKxP,KAAKvD,EAAI,IAAM,IACpBgT,EAAIqX,MAAM9mB,KAAK+F,GAAKyJ,EAAIA,EAAIxP,KAAK+F,EAAI,IACrC61C,EAAI90B,MAAM9mB,KAAKgG,GAAKwJ,EAAIA,EAAIxP,KAAKgG,EAAI,IAIzC,OAAO,IAAIwoC,GACT4b,GAAU,WAJZ36C,EAjDK,OAiDI06C,GAAQ16C,IAIW,WAH5BD,EAjDK,EAiDI26C,GAAQ36C,IAG2B,UAF5CosC,EAjDK,OAiDIuO,GAAQvO,KAGfwO,IAAU,SAAY36C,EAAI,UAAYD,EAAI,QAAYosC,GACtDwO,GAAU,SAAY36C,EAAI,SAAYD,EAAI,UAAYosC,GACtD57C,KAAKygB,aAkDXivB,EAAOqa,GAAKQ,GAAK/1B,EAAO0P,EAAO,CAC7B4L,SAAU,SAAS7tC,GACjB,OAAO,IAAI8nD,GAAI/pD,KAAKoiB,EAAGpiB,KAAKnD,EAAGmD,KAAKvD,EA7GhC,IA6G8C,MAALwF,EAAY,EAAIA,GAAIjC,KAAKygB,UAExEsvB,OAAQ,SAAS9tC,GACf,OAAO,IAAI8nD,GAAI/pD,KAAKoiB,EAAGpiB,KAAKnD,EAAGmD,KAAKvD,EAhHhC,IAgH8C,MAALwF,EAAY,EAAIA,GAAIjC,KAAKygB,UAExEpC,IAAK,WACH,OAAO2rC,GAAQhqD,MAAMqe,UCrGV,W/FLR,SAAatY,EAAGC,GACrB,IAAIlJ,EAAIkJ,EAAID,EACZ,OAAOjJ,EAAIkzC,GAAOjqC,EAAGjJ,EAAI,KAAOA,GAAK,IAAMA,EAAI,IAAM8F,KAAK+gC,MAAM7mC,EAAI,KAAOA,GAAK,GAASgqB,MAAM/gB,GAAKC,EAAID,MgGhB/F,IDoBU,GAAI,ICpBNnE,MAAMxD,UAAU+J,OCApB,eACb,OAAOsH,GCQT,SAASk7C,GAAWl7C,GAClB,MAAO,cAAgBA,EAAI,IAAO,MAGpC,SAASm7C,GAAWp7C,GAClB,MAAO,gBAAkBA,EAAI,IAAO,IAGtC,SAAS,GAAOjK,GACd,OAAO,SAASzI,GACd,OAAQyI,EAAMzI,IAIlB,SAAS,GAAOyI,GACd,IAAIyJ,EAASpM,KAAK+B,IAAI,EAAGY,EAAMk+B,YAAc,GAAK,EAElD,OADIl+B,EAAMo+B,UAAS30B,EAASpM,KAAK+gC,MAAM30B,IAChC,SAASlS,GACd,OAAQyI,EAAMzI,GAAKkS,GAIvB,SAAS67C,KACP,OAAQ7qD,KAAK8qD,OAGf,SAAS,GAAKC,EAAQxlD,GACpB,IAAIylD,EAAgB,GAChBC,EAAa,KACbhlC,EAAa,KACbilC,EAAgB,EAChBC,EAAgB,EAChBC,EAAc,EACdnpD,EAvCI,IAuCA8oD,GApCC,IAoCiBA,GAAmB,EAAI,EAC7Ct7C,EArCK,IAqCDs7C,GAvCE,IAuCiBA,EAAmB,IAAM,IAChDhZ,EAzCI,IAyCQgZ,GAvCL,IAuCuBA,EAAoBJ,GAAaC,GAEnE,SAASpjC,EAAKlD,GACZ,IAAIxgB,EAAuB,MAAdmnD,EAAsB1lD,EAAMogB,MAAQpgB,EAAMogB,MAAMtf,MAAMd,EAAOylD,GAAiBzlD,EAAMsY,SAAYotC,EACzG58C,EAAuB,MAAd4X,EAAsB1gB,EAAM0gB,WAAa1gB,EAAM0gB,WAAW5f,MAAMd,EAAOylD,GAAiB,GAAY/kC,EAC7GolC,EAAUzoD,KAAK+B,IAAIumD,EAAe,GAAKE,EACvC9kD,EAAQf,EAAMe,QACdglD,GAAUhlD,EAAM,GAAK,GACrBilD,GAAUjlD,EAAMA,EAAM1H,OAAS,GAAK,GACpC0mB,GAAY/f,EAAMk+B,UAAY,GAAS,IAAQl+B,EAAMg+B,QACrDjyB,EAAYgT,EAAQhT,UAAYgT,EAAQhT,YAAcgT,EACtDknC,EAAOl6C,EAAUs2C,UAAU,WAAWjkD,KAAK,CAAC,OAC5C8nD,EAAOn6C,EAAUs2C,UAAU,SAASjkD,KAAKG,EAAQyB,GAAOgjD,QACxDmD,EAAWD,EAAK9K,OAChBgL,EAAYF,EAAK/K,QAAQ3vC,OAAO,KAAK5L,KAAK,QAAS,QACnDymD,EAAOH,EAAKjE,OAAO,QACnB5iC,EAAO6mC,EAAKjE,OAAO,QAEvBgE,EAAOA,EAAKlD,MAAMkD,EAAK9K,QAAQ4I,OAAO,OAAQ,SACzCnkD,KAAK,QAAS,UACdA,KAAK,SAAU,iBAEpBsmD,EAAOA,EAAKnD,MAAMqD,GAElBC,EAAOA,EAAKtD,MAAMqD,EAAU56C,OAAO,QAC9B5L,KAAK,SAAU,gBACfA,KAAKsK,EAAI,IAAKxN,EAAIipD,IAEvBtmC,EAAOA,EAAK0jC,MAAMqD,EAAU56C,OAAO,QAC9B5L,KAAK,OAAQ,gBACbA,KAAKsK,EAAGxN,EAAIopD,GACZlmD,KAAK,KAxEJ,IAwEU4lD,EAAiB,MAtExB,IAsEgCA,EAAoB,SAAW,WAEpEzmC,IAAYhT,IACdk6C,EAAOA,EAAKK,WAAWvnC,GACvBmnC,EAAOA,EAAKI,WAAWvnC,GACvBsnC,EAAOA,EAAKC,WAAWvnC,GACvBM,EAAOA,EAAKinC,WAAWvnC,GAEvBonC,EAAWA,EAASG,WAAWvnC,GAC1Bnf,KAAK,UA7EF,MA8EHA,KAAK,aAAa,SAASrI,GAAK,OAAOslC,SAAStlC,EAAIwoB,EAASxoB,IAAMi1C,EAAUj1C,GAAKkD,KAAKglB,aAAa,gBAEzG2mC,EACKxmD,KAAK,UAjFF,MAkFHA,KAAK,aAAa,SAASrI,GAAK,IAAIwB,EAAI0B,KAAKwkB,WAAWsmC,OAAQ,OAAO/Y,EAAUzzC,GAAK8jC,SAAS9jC,EAAIA,EAAExB,IAAMwB,EAAIgnB,EAASxoB,QAG/H4uD,EAASnnC,SAETinC,EACKrmD,KAAK,IAzFH,IAyFQ4lD,GA3FP,GA2F0BA,EACvBI,EAAgB,IAAMlpD,EAAIkpD,EAAgB,IAAMG,EAAS,QAAUC,EAAS,IAAMtpD,EAAIkpD,EAAgB,QAAUG,EAAS,IAAMC,EAC/HJ,EAAgB,IAAMG,EAAS,IAAMrpD,EAAIkpD,EAAgB,QAAUI,EAAS,IAAMtpD,EAAIkpD,EAAgB,IAAMG,EAAS,QAAUC,GAE1IE,EACKtmD,KAAK,UAAW,GAChBA,KAAK,aAAa,SAASrI,GAAK,OAAOi1C,EAAUzsB,EAASxoB,OAE/D8uD,EACKzmD,KAAKsK,EAAI,IAAKxN,EAAIipD,GAEvBtmC,EACKzf,KAAKsK,EAAGxN,EAAIopD,GACZzmC,KAAKvW,GAEViD,EAAUlK,OAAOyjD,IACZ1lD,KAAK,OAAQ,QACbA,KAAK,YAAa,IAClBA,KAAK,cAAe,cACpBA,KAAK,cA9GF,IA8GiB4lD,EAAmB,QA5GrC,IA4G+CA,EAAkB,MAAQ,UAEhFz5C,EACKwxB,MAAK,WAAa9iC,KAAK8qD,OAASxlC,KAuCvC,OApCAkC,EAAKjiB,MAAQ,SAAS4gB,GACpB,OAAOxnB,UAAUC,QAAU2G,EAAQ4gB,EAAGqB,GAAQjiB,GAGhDiiB,EAAK7B,MAAQ,WACX,OAAOqlC,EAAgB,GAAMruD,KAAKgC,WAAY6oB,GAGhDA,EAAKwjC,cAAgB,SAAS7kC,GAC5B,OAAOxnB,UAAUC,QAAUosD,EAAqB,MAAL7kC,EAAY,GAAK,GAAMxpB,KAAKwpB,GAAIqB,GAAQwjC,EAAc7iD,SAGnGqf,EAAKyjC,WAAa,SAAS9kC,GACzB,OAAOxnB,UAAUC,QAAUqsD,EAAkB,MAAL9kC,EAAY,KAAO,GAAMxpB,KAAKwpB,GAAIqB,GAAQyjC,GAAcA,EAAW9iD,SAG7Gqf,EAAKvB,WAAa,SAASE,GACzB,OAAOxnB,UAAUC,QAAUqnB,EAAaE,EAAGqB,GAAQvB,GAGrDuB,EAAKskC,SAAW,SAAS3lC,GACvB,OAAOxnB,UAAUC,QAAUssD,EAAgBC,GAAiBhlC,EAAGqB,GAAQ0jC,GAGzE1jC,EAAK0jC,cAAgB,SAAS/kC,GAC5B,OAAOxnB,UAAUC,QAAUssD,GAAiB/kC,EAAGqB,GAAQ0jC,GAGzD1jC,EAAK2jC,cAAgB,SAAShlC,GAC5B,OAAOxnB,UAAUC,QAAUusD,GAAiBhlC,EAAGqB,GAAQ2jC,GAGzD3jC,EAAK4jC,YAAc,SAASjlC,GAC1B,OAAOxnB,UAAUC,QAAUwsD,GAAejlC,EAAGqB,GAAQ4jC,GAGhD5jC,EAeF,SAASukC,GAASxmD,GACvB,OAAO,GAtKE,EAsKSA,GCvKpB,IAAIymD,GAAO,CACPj4B,KAAM,GACNlvB,QAAS,GACT0b,KAAM,IAGN0rC,GAAO,CACP77C,UAAW,KACXC,IAAK,KACLE,OAAQ,IACRD,MAAO,IACP47C,MAAM,GAGK,MAAM,GACjB,YAAYvoD,EAAOqoD,GAAMh4B,EAAOi4B,IAC5BjsD,KAAK2D,KAAOA,EACZ3D,KAAKg0B,KAAOA,EACZh0B,KAAKoQ,UAAY4jB,EAAK5jB,UACtBpQ,KAAK2jB,QAAUqQ,EAAKrQ,SAAW,CAACrR,IAAK,EAAGM,OAAQ,EAAGP,KAAM,EAAGM,MAAO,GACnE3S,KAAKuQ,OAASyjB,EAAKzjB,OACnBvQ,KAAKsQ,MAAQ0jB,EAAK1jB,MAClBtQ,KAAKqQ,IAAM,GACXrQ,KAAK6E,QAAUlB,EAAKkB,SAAW,GAE3BmvB,EAAK3jB,KAAoB,OAAb2jB,EAAK3jB,IAUjBrQ,KAAKqQ,IAAI87C,KAAO,GAAOn4B,EAAK3jB,MATN,OAAnB2jB,EAAK5jB,YACJpQ,KAAKqQ,IAAMrQ,KAAKosD,aAEpBpsD,KAAKuQ,QAAUvQ,KAAK2jB,QAAQrR,IAAMtS,KAAK2jB,QAAQ/Q,OAC/C5S,KAAKsQ,OAAStQ,KAAK2jB,QAAQtR,KAAOrS,KAAK2jB,QAAQhR,MAC/C3S,KAAKqQ,IAAI87C,KAAOnsD,KAAKqQ,IAAIU,OAAO,KAC3B5L,KAAK,YAAa,aAAanF,KAAK2jB,QAAQtR,SAASrS,KAAK2jB,QAAQrR,SAMxEtS,KAAK2D,KAAKowB,OACT/zB,KAAKssB,OAAStsB,KAAKqsD,aAI3B,YAKI,OAJU,GAAOrsD,KAAKoQ,WACjBW,OAAO,OACH5L,KAAK,QAASnF,KAAKsQ,OACnBnL,KAAK,SAAUnF,KAAKuQ,QAIjC,WACI,MAAO,CACHd,EAAG,CAAC,EAAGzP,KAAKsQ,OACZd,EAAG,CAACxP,KAAKuQ,OAAQ,GACjBK,MAAO,CAAC,YAAa,OACrB6P,QAAS,CAAC,EAAG,GACbtgB,KAAM,CAAC,EAAG,IACVmQ,MAAO,CAAC,EAAGtQ,KAAKsQ,OAChBC,OAAQ,CAAC,EAAGvQ,KAAKuQ,SAIzB,YACI,IAAI+b,EAAS,GACTqjB,EAAW3vC,KAAK2vC,WAChBpvB,EAAOvgB,KAAK2D,KAAK4c,KAEjBxV,EAAS/K,KAAK2D,KAAKoH,QAAU,KACnB,OAAXA,GAAmB/K,KAAK2D,KAAKowB,OAC5B/zB,KAAK2D,KAAKoH,OAAS7N,OAAOqD,KAAKP,KAAK2D,KAAKowB,KAAK,IAC9ChpB,EAAS7N,OAAOqD,KAAKP,KAAK2D,KAAKowB,KAAK,KAGxC,IAAK,IAAInT,KAAW1jB,OAAOqD,KAAKovC,GAC5B,GAAG/uB,KAAWL,IAA2C,IAAnCxV,EAAOtJ,QAAQ8e,EAAKK,IAAkB,CACxD,IAAI/C,EACJ,GAAI7d,KAAK6E,QAAQxG,eAAekiB,EAAKK,IAWjC/C,EAAS7d,KAAK6E,QAAQ0b,EAAKK,KAAa,CAAC,EAAG,OAXA,CAC5C,IAAInjB,EAAQuC,KAAK2D,KAAKowB,KAAKxtB,IAAIzJ,GAAGA,EAAEyjB,EAAKK,KACrClc,EAAM9B,KAAK8B,OAAOjH,IAAU,EAC5BkH,EAAM/B,KAAK+B,OAAOlH,IAAU,EAE7BkH,IAAQD,IACPC,GAAO,MAEXkZ,EAAS,CAACnZ,EAAKC,GACf3E,KAAK6E,QAAQ0b,EAAKK,IAAY/C,EAIlC,IAAIvX,EAAQqpC,EAAS/uB,GAChB5gB,KAAK2D,KAAKjD,QAAUV,KAAK2D,KAAKjD,OAAyB,WAAlB6f,EAAKK,KAA2B/C,EAAOjf,OAAS,EACtF0tB,EAAO1L,GAAW,IAAe/C,OAAOA,GAAQvX,MAAMA,GAEtDgmB,EAAO1L,GAAW,KAAc/C,OAAOA,GAAQvX,MAAMA,GAE3C,SAAXsa,GACC0L,EAAO1L,GAAS8wB,YAAY,SAGhCplB,EAAO1L,GAAW,IAAML,EAAKK,GAIrC,OAAO0L,EAGX,ODuDG,IAAoB/mB,ECtDfvF,KAAKg0B,KAAKs4B,WACVtsD,KAAKusD,MAAQvsD,KAAKqQ,IAAI87C,KAAKp7C,OAAO,KAC7B5L,KAAK,YAAa,gBAAgBnF,KAAKuQ,WACvC5T,MDmDU4I,ECnDMvF,KAAKssB,OAAO7c,EDoDpC,GAnKI,EAmKSlK,ICpD0B4lD,cAAc,IAElDnrD,KAAKwsD,MAAQxsD,KAAKqQ,IAAI87C,KAAKp7C,OAAO,KAC7BpU,KAAKovD,GAAS/rD,KAAKssB,OAAO9c,GAAGmW,MAAM3lB,KAAKuQ,OAAO,KAEjDvQ,KAAKg0B,KAAKhK,WAAahqB,KAAKg0B,KAAKhK,UAAUxa,IAC1CxP,KAAKysD,WAAazsD,KAAKwsD,MAAMz7C,OAAO,KACnCsS,MAAM,UAAW,IACjB1mB,KAAKovD,GAAS/rD,KAAKssB,OAAO9c,GAAGmW,MAAM3lB,KAAKuQ,OAAO,IAAIu7C,UAAU9rD,KAAKsQ,QAClEs3C,UAAU,QAAQrjC,UAGvBvkB,KAAK0sD,WAAa1sD,KAAKqQ,IAAI87C,KAAKp7C,OAAO,KAEvC/Q,KAAK0sD,WAAW37C,OAAO,QACpB5L,KAAK,IAAKnF,KAAKsQ,MAAQ,GACvBnL,KAAK,IAAKnF,KAAKuQ,OAASvQ,KAAK2jB,QAAQ/Q,OAAS,GAC9CzN,KAAK,KAAM,OACXke,MAAM,cAAe,UACrBuB,KAAK5kB,KAAK2D,KAAK4c,KAAK9Q,GAEvBzP,KAAK0sD,WAAW37C,OAAO,QACpB5L,KAAK,YAAa,eAClBA,KAAK,KAAMnF,KAAK2jB,QAAQtR,KAAO,MAC/BlN,KAAK,KAAMnF,KAAKuQ,OAAS,EAAIvQ,KAAK2jB,QAAQrR,KAC1CnN,KAAK,KAAM,OACXyf,KAAK5kB,KAAK2D,KAAK4c,KAAK/Q,IAI/B,SACIxP,KAAKksD,QCnJb,IAAIS,GAAK/pD,KAAK+mD,GACViD,GAAM,EAAID,GAEVE,GAAaD,GADH,KAGd,SAASE,KACP9sD,KAAK+sD,IAAM/sD,KAAKgtD,IAChBhtD,KAAKitD,IAAMjtD,KAAKktD,IAAM,KACtBltD,KAAKmmB,EAAI,GAGX,SAAS,KACP,OAAO,IAAI2mC,GAGbA,GAAK1uD,UAAY,GAAKA,UAAY,CAChC6/B,YAAa6uB,GACbK,OAAQ,SAAS19C,EAAGD,GAClBxP,KAAKmmB,GAAK,KAAOnmB,KAAK+sD,IAAM/sD,KAAKitD,KAAOx9C,GAAK,KAAOzP,KAAKgtD,IAAMhtD,KAAKktD,KAAO19C,IAE7E49C,UAAW,WACQ,OAAbptD,KAAKitD,MACPjtD,KAAKitD,IAAMjtD,KAAK+sD,IAAK/sD,KAAKktD,IAAMltD,KAAKgtD,IACrChtD,KAAKmmB,GAAK,MAGdknC,OAAQ,SAAS59C,EAAGD,GAClBxP,KAAKmmB,GAAK,KAAOnmB,KAAKitD,KAAOx9C,GAAK,KAAOzP,KAAKktD,KAAO19C,IAEvD89C,iBAAkB,SAAS5lC,EAAIE,EAAInY,EAAGD,GACpCxP,KAAKmmB,GAAK,MAAQuB,EAAM,MAAQE,EAAM,KAAO5nB,KAAKitD,KAAOx9C,GAAK,KAAOzP,KAAKktD,KAAO19C,IAEnF+9C,cAAe,SAAS7lC,EAAIE,EAAID,EAAIE,EAAIpY,EAAGD,GACzCxP,KAAKmmB,GAAK,MAAQuB,EAAM,MAAQE,EAAM,MAAQD,EAAM,MAAQE,EAAM,KAAO7nB,KAAKitD,KAAOx9C,GAAK,KAAOzP,KAAKktD,KAAO19C,IAE/Gg+C,MAAO,SAAS9lC,EAAIE,EAAID,EAAIE,EAAIvqB,GAC9BoqB,GAAMA,EAAIE,GAAMA,EAAID,GAAMA,EAAIE,GAAMA,EAAIvqB,GAAKA,EAC7C,IAAIwU,EAAK9R,KAAKitD,IACVl7C,EAAK/R,KAAKktD,IACVO,EAAM9lC,EAAKD,EACXgmC,EAAM7lC,EAAKD,EACX+lC,EAAM77C,EAAK4V,EACXkmC,EAAM77C,EAAK6V,EACXimC,EAAQF,EAAMA,EAAMC,EAAMA,EAG9B,GAAItwD,EAAI,EAAG,MAAM,IAAIoE,MAAM,oBAAsBpE,GAGjD,GAAiB,OAAb0C,KAAKitD,IACPjtD,KAAKmmB,GAAK,KAAOnmB,KAAKitD,IAAMvlC,GAAM,KAAO1nB,KAAKktD,IAAMtlC,QAIjD,GAAMimC,EApDD,KAyDL,GAAMjrD,KAAK6E,IAAImmD,EAAMH,EAAMC,EAAMC,GAzD5B,MAyDgDrwD,EAKrD,CACH,IAAIwwD,EAAMnmC,EAAK7V,EACXi8C,EAAMlmC,EAAK9V,EACXi8C,EAAQP,EAAMA,EAAMC,EAAMA,EAC1BO,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAMtrD,KAAK2F,KAAKylD,GAChBG,EAAMvrD,KAAK2F,KAAKslD,GAChBpxD,EAAIa,EAAIsF,KAAKmgB,KAAK4pC,GAAK/pD,KAAKwrD,MAAMJ,EAAQH,EAAQI,IAAU,EAAIC,EAAMC,KAAS,GAC/EE,EAAM5xD,EAAI0xD,EACVG,EAAM7xD,EAAIyxD,EAGVtrD,KAAK6E,IAAI4mD,EAAM,GA1EX,OA2ENruD,KAAKmmB,GAAK,KAAOuB,EAAK2mC,EAAMV,GAAO,KAAO/lC,EAAKymC,EAAMT,IAGvD5tD,KAAKmmB,GAAK,IAAM7oB,EAAI,IAAMA,EAAI,WAAaswD,EAAME,EAAMH,EAAMI,GAAQ,KAAO/tD,KAAKitD,IAAMvlC,EAAK4mC,EAAMb,GAAO,KAAOztD,KAAKktD,IAAMtlC,EAAK0mC,EAAMZ,QApBtI1tD,KAAKmmB,GAAK,KAAOnmB,KAAKitD,IAAMvlC,GAAM,KAAO1nB,KAAKktD,IAAMtlC,UAuBxD2mC,IAAK,SAAS9+C,EAAGD,EAAGlS,EAAGkxD,EAAIC,EAAIC,GAC7Bj/C,GAAKA,EAAGD,GAAKA,EAAWk/C,IAAQA,EAChC,IAAIv9C,GADY7T,GAAKA,GACRsF,KAAK4nD,IAAIgE,GAClBp9C,EAAK9T,EAAIsF,KAAK6nD,IAAI+D,GAClB18C,EAAKrC,EAAI0B,EACTY,EAAKvC,EAAI4B,EACTu9C,EAAK,EAAID,EACTE,EAAKF,EAAMF,EAAKC,EAAKA,EAAKD,EAG9B,GAAIlxD,EAAI,EAAG,MAAM,IAAIoE,MAAM,oBAAsBpE,GAGhC,OAAb0C,KAAKitD,IACPjtD,KAAKmmB,GAAK,IAAMrU,EAAK,IAAMC,GAIpBnP,KAAK6E,IAAIzH,KAAKitD,IAAMn7C,GAnGnB,MAmGoClP,KAAK6E,IAAIzH,KAAKktD,IAAMn7C,GAnGxD,QAoGR/R,KAAKmmB,GAAK,IAAMrU,EAAK,IAAMC,GAIxBzU,IAGDsxD,EAAK,IAAGA,EAAKA,EAAKhC,GAAMA,IAGxBgC,EAAK/B,GACP7sD,KAAKmmB,GAAK,IAAM7oB,EAAI,IAAMA,EAAI,QAAUqxD,EAAK,KAAOl/C,EAAI0B,GAAM,KAAO3B,EAAI4B,GAAM,IAAM9T,EAAI,IAAMA,EAAI,QAAUqxD,EAAK,KAAO3uD,KAAKitD,IAAMn7C,GAAM,KAAO9R,KAAKktD,IAAMn7C,GAIrJ68C,EAnHC,OAoHR5uD,KAAKmmB,GAAK,IAAM7oB,EAAI,IAAMA,EAAI,SAAWsxD,GAAMjC,IAAO,IAAMgC,EAAK,KAAO3uD,KAAKitD,IAAMx9C,EAAInS,EAAIsF,KAAK4nD,IAAIiE,IAAO,KAAOzuD,KAAKktD,IAAM19C,EAAIlS,EAAIsF,KAAK6nD,IAAIgE,OAGlJhyB,KAAM,SAAShtB,EAAGD,EAAG6F,EAAG+M,GACtBpiB,KAAKmmB,GAAK,KAAOnmB,KAAK+sD,IAAM/sD,KAAKitD,KAAOx9C,GAAK,KAAOzP,KAAKgtD,IAAMhtD,KAAKktD,KAAO19C,GAAK,MAAQ6F,EAAK,MAAQ+M,EAAK,KAAQ/M,EAAK,KAEzH0T,SAAU,WACR,OAAO/oB,KAAKmmB,IAID,UCjIA,eACb,OAAO,WACL,OAAO1W,ICFX,SAASo/C,GAAOvqC,GACdtkB,KAAK8uD,SAAWxqC,EAGlBuqC,GAAOzwD,UAAY,CACjB2wD,UAAW,WACT/uD,KAAKgvD,MAAQ,GAEfC,QAAS,WACPjvD,KAAKgvD,MAAQ5tB,KAEf8tB,UAAW,WACTlvD,KAAKmvD,OAAS,GAEhBC,QAAS,YACHpvD,KAAKgvD,OAAyB,IAAfhvD,KAAKgvD,OAA+B,IAAhBhvD,KAAKmvD,SAAenvD,KAAK8uD,SAAS1B,YACzEptD,KAAKgvD,MAAQ,EAAIhvD,KAAKgvD,OAExBK,MAAO,SAAS5/C,EAAGD,GAEjB,OADAC,GAAKA,EAAGD,GAAKA,EACLxP,KAAKmvD,QACX,KAAK,EAAGnvD,KAAKmvD,OAAS,EAAGnvD,KAAKgvD,MAAQhvD,KAAK8uD,SAASzB,OAAO59C,EAAGD,GAAKxP,KAAK8uD,SAAS3B,OAAO19C,EAAGD,GAAI,MAC/F,KAAK,EAAGxP,KAAKmvD,OAAS,EACtB,QAASnvD,KAAK8uD,SAASzB,OAAO59C,EAAGD,MAKxB,mBACb,OAAO,IAAIq/C,GAAOvqC,IC7Bb,SAAS,GAAEhmB,GAChB,OAAOA,EAAE,GAGJ,SAAS,GAAEA,GAChB,OAAOA,EAAE,GCAI,kBACb,IAAImR,EAAI,GACJD,EAAI,GACJ8/C,EAAU,IAAS,GACnBhrC,EAAU,KACVirC,EAAQ,GACRnhD,EAAS,KAEb,SAASw9C,EAAKjoD,GACZ,IAAInH,EAEAM,EAEA0yD,EAHAvxD,EAAI0F,EAAK/E,OAET6wD,GAAW,EAKf,IAFe,MAAXnrC,IAAiBlW,EAASmhD,EAAMC,EAAS,OAExChzD,EAAI,EAAGA,GAAKyB,IAAKzB,IACdA,EAAIyB,GAAKqxD,EAAQxyD,EAAI6G,EAAKnH,GAAIA,EAAGmH,MAAW8rD,KAC5CA,GAAYA,GAAUrhD,EAAO8gD,YAC5B9gD,EAAOghD,WAEVK,GAAUrhD,EAAOihD,OAAO5/C,EAAE3S,EAAGN,EAAGmH,IAAQ6L,EAAE1S,EAAGN,EAAGmH,IAGtD,GAAI6rD,EAAQ,OAAOphD,EAAS,KAAMohD,EAAS,IAAM,KAuBnD,OApBA5D,EAAKn8C,EAAI,SAAS0W,GAChB,OAAOxnB,UAAUC,QAAU6Q,EAAiB,mBAAN0W,EAAmBA,EAAI,IAAUA,GAAIylC,GAAQn8C,GAGrFm8C,EAAKp8C,EAAI,SAAS2W,GAChB,OAAOxnB,UAAUC,QAAU4Q,EAAiB,mBAAN2W,EAAmBA,EAAI,IAAUA,GAAIylC,GAAQp8C,GAGrFo8C,EAAK0D,QAAU,SAASnpC,GACtB,OAAOxnB,UAAUC,QAAU0wD,EAAuB,mBAANnpC,EAAmBA,EAAI,KAAWA,GAAIylC,GAAQ0D,GAG5F1D,EAAK2D,MAAQ,SAASppC,GACpB,OAAOxnB,UAAUC,QAAU2wD,EAAQppC,EAAc,MAAX7B,IAAoBlW,EAASmhD,EAAMjrC,IAAWsnC,GAAQ2D,GAG9F3D,EAAKtnC,QAAU,SAAS6B,GACtB,OAAOxnB,UAAUC,QAAe,MAALunB,EAAY7B,EAAUlW,EAAS,KAAOA,EAASmhD,EAAMjrC,EAAU6B,GAAIylC,GAAQtnC,GAGjGsnC,GCrDF,SAAS,GAAM8D,EAAMjgD,EAAGD,GAC7BkgD,EAAKZ,SAASvB,eACX,EAAImC,EAAK3C,IAAM2C,EAAKzC,KAAO,GAC3B,EAAIyC,EAAK1C,IAAM0C,EAAKxC,KAAO,GAC3BwC,EAAK3C,IAAM,EAAI2C,EAAKzC,KAAO,GAC3ByC,EAAK1C,IAAM,EAAI0C,EAAKxC,KAAO,GAC3BwC,EAAK3C,IAAM,EAAI2C,EAAKzC,IAAMx9C,GAAK,GAC/BigD,EAAK1C,IAAM,EAAI0C,EAAKxC,IAAM19C,GAAK,GAI7B,SAASmgD,GAAMrrC,GACpBtkB,KAAK8uD,SAAWxqC,EAGlBqrC,GAAMvxD,UAAY,CAChB2wD,UAAW,WACT/uD,KAAKgvD,MAAQ,GAEfC,QAAS,WACPjvD,KAAKgvD,MAAQ5tB,KAEf8tB,UAAW,WACTlvD,KAAK+sD,IAAM/sD,KAAKitD,IAChBjtD,KAAKgtD,IAAMhtD,KAAKktD,IAAM9rB,IACtBphC,KAAKmvD,OAAS,GAEhBC,QAAS,WACP,OAAQpvD,KAAKmvD,QACX,KAAK,EAAG,GAAMnvD,KAAMA,KAAKitD,IAAKjtD,KAAKktD,KACnC,KAAK,EAAGltD,KAAK8uD,SAASzB,OAAOrtD,KAAKitD,IAAKjtD,KAAKktD,MAE1CltD,KAAKgvD,OAAyB,IAAfhvD,KAAKgvD,OAA+B,IAAhBhvD,KAAKmvD,SAAenvD,KAAK8uD,SAAS1B,YACzEptD,KAAKgvD,MAAQ,EAAIhvD,KAAKgvD,OAExBK,MAAO,SAAS5/C,EAAGD,GAEjB,OADAC,GAAKA,EAAGD,GAAKA,EACLxP,KAAKmvD,QACX,KAAK,EAAGnvD,KAAKmvD,OAAS,EAAGnvD,KAAKgvD,MAAQhvD,KAAK8uD,SAASzB,OAAO59C,EAAGD,GAAKxP,KAAK8uD,SAAS3B,OAAO19C,EAAGD,GAAI,MAC/F,KAAK,EAAGxP,KAAKmvD,OAAS,EAAG,MACzB,KAAK,EAAGnvD,KAAKmvD,OAAS,EAAGnvD,KAAK8uD,SAASzB,QAAQ,EAAIrtD,KAAK+sD,IAAM/sD,KAAKitD,KAAO,GAAI,EAAIjtD,KAAKgtD,IAAMhtD,KAAKktD,KAAO,GACzG,QAAS,GAAMltD,KAAMyP,EAAGD,GAE1BxP,KAAK+sD,IAAM/sD,KAAKitD,IAAKjtD,KAAKitD,IAAMx9C,EAChCzP,KAAKgtD,IAAMhtD,KAAKktD,IAAKltD,KAAKktD,IAAM19C,IAIrB,mBACb,OAAO,IAAImgD,GAAMrrC,ICjDJ,mBAEb,IADA,IAAIrmB,EAAIo0C,EAAUzzC,OAAS,EAAI,EAAGkgB,EAAS,IAAIld,MAAM3D,GAAIzB,EAAI,EACtDA,EAAIyB,GAAG6gB,EAAOtiB,GAAK,IAAM61C,EAAUlqC,MAAU,EAAJ3L,EAAa,IAAJA,GACzD,OAAOsiB,GCDM,MAAO,gECKP,kBACb,OAAO,IAAI8wC,IAGb,SAASA,KACP5vD,KAAKw3B,QAGPo4B,GAAMxxD,UAAY,CAChB6/B,YAAa2xB,GACbp4B,MAAO,WACLx3B,KAAKzB,EACLyB,KAAKtC,EAAI,GAEXyjC,IAAK,SAAS3xB,GACZ2xB,GAAI0uB,GAAMrgD,EAAGxP,KAAKtC,GAClByjC,GAAInhC,KAAM6vD,GAAKtxD,EAAGyB,KAAKzB,GACnByB,KAAKzB,EAAGyB,KAAKtC,GAAKmyD,GAAKnyD,EACtBsC,KAAKzB,EAAIsxD,GAAKnyD,GAErB4zC,QAAS,WACP,OAAOtxC,KAAKzB,IAIhB,IAAIsxD,GAAO,IAAID,GAEf,SAASzuB,GAAI2uB,EAAO/pD,EAAGC,GACrB,IAAIyJ,EAAIqgD,EAAMvxD,EAAIwH,EAAIC,EAClB+pD,EAAKtgD,EAAI1J,EACTiqD,EAAKvgD,EAAIsgD,EACbD,EAAMpyD,EAAKqI,EAAIiqD,GAAOhqD,EAAI+pD,GCtCrB,IAEI,GAAKntD,KAAK+mD,GACVsG,GAAS,GAAK,EACdC,GAAY,GAAK,EACjB,GAAW,EAAL,GAENC,GAAU,IAAM,GAChBC,GAAU,GAAK,IAEf3oD,GAAM7E,KAAK6E,IACX4oD,GAAOztD,KAAKytD,KACZ/F,GAAQ1nD,KAAK0nD,MACbE,GAAM5nD,KAAK4nD,IACX9/C,GAAO9H,KAAK8H,KACZ+d,GAAM7lB,KAAK6lB,IAEX,IADQ7lB,KAAKC,MACPD,KAAKW,KACX,GAAMX,KAAKyF,IACXoiD,GAAM7nD,KAAK6nD,IACX,GAAO7nD,KAAK2vC,MAAQ,SAAS9iC,GAAK,OAAOA,EAAI,EAAI,EAAIA,EAAI,GAAK,EAAI,GAClE,GAAO7M,KAAK2F,KACZwa,GAAMngB,KAAKmgB,IAEf,SAASqrC,GAAK3+C,GACnB,OAAOA,EAAI,EAAI,EAAIA,GAAK,EAAI,GAAK7M,KAAKwrD,KAAK3+C,GAGtC,SAAS6gD,GAAK7gD,GACnB,OAAOA,EAAI,EAAIwgD,GAASxgD,GAAK,GAAKwgD,GAASrtD,KAAK0tD,KAAK7gD,GAGhD,SAAS8gD,GAAS9gD,GACvB,OAAQA,EAAIg7C,GAAIh7C,EAAI,IAAMA,ECjCb,SAAS+gD,MCAxB,SAASC,GAAeC,EAAUC,GAC5BD,GAAYE,GAAmBvyD,eAAeqyD,EAAS3uD,OACzD6uD,GAAmBF,EAAS3uD,MAAM2uD,EAAUC,GAIhD,IAAIE,GAAmB,CACrBC,QAAS,SAAS5yD,EAAQyyD,GACxBF,GAAevyD,EAAOwyD,SAAUC,IAElCI,kBAAmB,SAAS7yD,EAAQyyD,GAElC,IADA,IAAInnC,EAAWtrB,EAAOsrB,SAAUhtB,GAAK,EAAGyB,EAAIurB,EAAS5qB,SAC5CpC,EAAIyB,GAAGwyD,GAAejnC,EAAShtB,GAAGk0D,SAAUC,KAIrDC,GAAqB,CACvBI,OAAQ,SAAS9yD,EAAQyyD,GACvBA,EAAOM,UAETC,MAAO,SAAShzD,EAAQyyD,GACtBzyD,EAASA,EAAOizD,YAChBR,EAAOtB,MAAMnxD,EAAO,GAAIA,EAAO,GAAIA,EAAO,KAE5CkzD,WAAY,SAASlzD,EAAQyyD,GAE3B,IADA,IAAIQ,EAAcjzD,EAAOizD,YAAa30D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,SACrDpC,EAAIyB,GAAGC,EAASizD,EAAY30D,GAAIm0D,EAAOtB,MAAMnxD,EAAO,GAAIA,EAAO,GAAIA,EAAO,KAErFmzD,WAAY,SAASnzD,EAAQyyD,GAC3BW,GAAWpzD,EAAOizD,YAAaR,EAAQ,IAEzCY,gBAAiB,SAASrzD,EAAQyyD,GAEhC,IADA,IAAIQ,EAAcjzD,EAAOizD,YAAa30D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,SACrDpC,EAAIyB,GAAGqzD,GAAWH,EAAY30D,GAAIm0D,EAAQ,IAErDa,QAAS,SAAStzD,EAAQyyD,GACxBc,GAAcvzD,EAAOizD,YAAaR,IAEpCe,aAAc,SAASxzD,EAAQyyD,GAE7B,IADA,IAAIQ,EAAcjzD,EAAOizD,YAAa30D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,SACrDpC,EAAIyB,GAAGwzD,GAAcN,EAAY30D,GAAIm0D,IAEhDgB,mBAAoB,SAASzzD,EAAQyyD,GAEnC,IADA,IAAIiB,EAAa1zD,EAAO0zD,WAAYp1D,GAAK,EAAGyB,EAAI2zD,EAAWhzD,SAClDpC,EAAIyB,GAAGwyD,GAAemB,EAAWp1D,GAAIm0D,KAIlD,SAASW,GAAWH,EAAaR,EAAQkB,GACvC,IAA6CC,EAAzCt1D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,OAASizD,EAErC,IADAlB,EAAOzB,cACE1yD,EAAIyB,GAAG6zD,EAAaX,EAAY30D,GAAIm0D,EAAOtB,MAAMyC,EAAW,GAAIA,EAAW,GAAIA,EAAW,IACnGnB,EAAOvB,UAGT,SAASqC,GAAcN,EAAaR,GAClC,IAAIn0D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,OAE5B,IADA+xD,EAAOoB,iBACEv1D,EAAIyB,GAAGqzD,GAAWH,EAAY30D,GAAIm0D,EAAQ,GACnDA,EAAOqB,aAGM,ICtDX,GACAC,GACA,GACA,GACA,GDkDW,iBACT/zD,GAAU2yD,GAAiBxyD,eAAeH,EAAO6D,MACnD8uD,GAAiB3yD,EAAO6D,MAAM7D,EAAQyyD,GAEtCF,GAAevyD,EAAQyyD,IC7DhBuB,GAAcpC,KAErBqC,GAAUrC,KAOHsC,GAAa,CACtB/C,MAAOmB,GACPtB,UAAWsB,GACXpB,QAASoB,GACTuB,aAAc,WACZG,GAAY16B,QACZ46B,GAAWlD,UAAYmD,GACvBD,GAAWhD,QAAUkD,IAEvBN,WAAY,WACV,IAAIO,GAAYL,GAChBC,GAAQhxB,IAAIoxB,EAAW,EAAI,GAAMA,EAAWA,GAC5CvyD,KAAKkvD,UAAYlvD,KAAKovD,QAAUpvD,KAAKqvD,MAAQmB,IAE/CS,OAAQ,WACNkB,GAAQhxB,IAAI,MAIhB,SAASkxB,KACPD,GAAW/C,MAAQmD,GAGrB,SAASF,KACPG,GAAU,GAAUR,IAGtB,SAASO,GAAeE,EAAQC,GAC9BP,GAAW/C,MAAQoD,GACnB,GAAWC,EAAQT,GAAQU,EAE3B,GADAD,GAAUtC,GACQ,GAAU5F,GAAImI,GADbA,GAAOvC,IACkB,EAAIF,IAAY,GAAUzF,GAAIkI,GAG5E,SAASF,GAAUC,EAAQC,GAOzB,IAAIC,GANJF,GAAUtC,IAMa,GACnByC,EAAWD,GAAW,EAAI,GAAK,EAC/BE,EAAWD,EAAWD,EACtBG,EAASvI,GARbmI,GADmBA,GAAOvC,IACd,EAAIF,IASZ8C,EAASvI,GAAIkI,GACb1wD,EAAI,GAAU+wD,EACd9gB,EAAI,GAAU6gB,EAAS9wD,EAAIuoD,GAAIsI,GAC/B3vD,EAAIlB,EAAI4wD,EAAWpI,GAAIqI,GAC3BZ,GAAY/wB,IAAImpB,GAAMnnD,EAAG+uC,IAGzB,GAAUwgB,EAAQ,GAAUK,EAAQ,GAAUC,EAGjC,mBAGb,OAFAb,GAAQ36B,QACR,GAAOt5B,EAAQk0D,IACE,EAAVD,ICtEF,SAAS,GAAUc,GACxB,MAAO,CAAC3I,GAAM2I,EAAU,GAAIA,EAAU,IAAK3C,GAAK2C,EAAU,KAGrD,SAAS,GAAUC,GACxB,IAAIR,EAASQ,EAAU,GAAIP,EAAMO,EAAU,GAAIH,EAASvI,GAAImI,GAC5D,MAAO,CAACI,EAASvI,GAAIkI,GAASK,EAAStI,GAAIiI,GAASjI,GAAIkI,IAGnD,SAASQ,GAAaptD,EAAGC,GAC9B,OAAOD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAGvC,SAASotD,GAAertD,EAAGC,GAChC,MAAO,CAACD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAID,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,IAIhF,SAASqtD,GAAoBttD,EAAGC,GACrCD,EAAE,IAAMC,EAAE,GAAID,EAAE,IAAMC,EAAE,GAAID,EAAE,IAAMC,EAAE,GAGjC,SAASstD,GAAeC,EAAQtxD,GACrC,MAAO,CAACsxD,EAAO,GAAKtxD,EAAGsxD,EAAO,GAAKtxD,EAAGsxD,EAAO,GAAKtxD,GAI7C,SAASuxD,GAA0B12D,GACxC,IAAIL,EAAI,GAAKK,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAClDA,EAAE,IAAML,EAAGK,EAAE,IAAML,EAAGK,EAAE,IAAML,ECzBhC,IAAI,GAAS,GAAM,GAAS,GACxB,GACA,GAAU,GACV,GAEAg3D,GACA,GAFAC,GAAW5D,KAIX6D,GAAe,CACjBtE,MAAOuE,GACP1E,UAAW2E,GACXzE,QAAS0E,GACT/B,aAAc,WACZ4B,GAAatE,MAAQ0E,GACrBJ,GAAazE,UAAY8E,GACzBL,GAAavE,QAAU6E,GACvBP,GAASl8B,QACT46B,GAAWL,gBAEbC,WAAY,WACVI,GAAWJ,aACX2B,GAAatE,MAAQuE,GACrBD,GAAazE,UAAY2E,GACzBF,GAAavE,QAAU0E,GACnB5B,GAAc,GAAG,KAAY,GAAU,KAAM,KAAS,GAAO,KACxDwB,GL/BQ,KK+BY,GAAO,GAC3BA,ILhCQ,OKgCa,IAAQ,IACtC,GAAM,GAAK,GAAS,GAAM,GAAK,IAEjCzC,OAAQ,WACN,KAAY,GAAU,KAAM,KAAS,GAAO,MAIhD,SAAS2C,GAAYlB,EAAQC,GAC3Bc,GAAO3xD,KAAK,GAAQ,CAAC,GAAU4wD,EAAQ,GAAUA,IAC7CC,EAAM,KAAM,GAAOA,GACnBA,EAAM,KAAM,GAAOA,GAGzB,SAAS,GAAUD,EAAQC,GACzB,IAAIr0D,EAAI,GAAU,CAACo0D,EAAStC,GAASuC,EAAMvC,KAC3C,GAAI,GAAI,CACN,IAAI8D,EAASd,GAAe,GAAI90D,GAE5B61D,EAAaf,GADA,CAACc,EAAO,IAAKA,EAAO,GAAI,GACGA,GAC5CV,GAA0BW,GAC1BA,EAAa,GAAUA,GACvB,IAGIC,EAHAn3B,EAAQy1B,EAAS,GACjBngB,EAAOtV,EAAQ,EAAI,GAAK,EACxBo3B,EAAUF,EAAW,GAAKhE,GAAU5d,EAEpC+hB,EAAe7sD,GAAIw1B,GAAS,IAC5Bq3B,GAAgB/hB,EAAO,GAAU8hB,GAAWA,EAAU9hB,EAAOmgB,IAC/D0B,EAAOD,EAAW,GAAKhE,IACZ,KAAM,GAAOiE,GACwBE,GAAgB/hB,EAAO,IAA9D8hB,GAAWA,EAAU,KAAO,IAAM,MAAiDA,EAAU9hB,EAAOmgB,IAC7G0B,GAAQD,EAAW,GAAKhE,IACb,KAAM,GAAOiE,IAEpBzB,EAAM,KAAM,GAAOA,GACnBA,EAAM,KAAM,GAAOA,IAErB2B,EACE5B,EAAS,GACP,GAAM,GAASA,GAAU,GAAM,GAAS,MAAU,GAAUA,GAE5D,GAAMA,EAAQ,IAAW,GAAM,GAAS,MAAU,GAAUA,GAG9D,IAAW,IACTA,EAAS,KAAS,GAAUA,GAC5BA,EAAS,KAAS,GAAUA,IAE5BA,EAAS,GACP,GAAM,GAASA,GAAU,GAAM,GAAS,MAAU,GAAUA,GAE5D,GAAMA,EAAQ,IAAW,GAAM,GAAS,MAAU,GAAUA,QAKtEe,GAAO3xD,KAAK,GAAQ,CAAC,GAAU4wD,EAAQ,GAAUA,IAE/CC,EAAM,KAAM,GAAOA,GACnBA,EAAM,KAAM,GAAOA,GACvB,GAAKr0D,EAAG,GAAUo0D,EAGpB,SAASmB,KACPF,GAAatE,MAAQ,GAGvB,SAASyE,KACP,GAAM,GAAK,GAAS,GAAM,GAAK,GAC/BH,GAAatE,MAAQuE,GACrB,GAAK,KAGP,SAASG,GAAgBrB,EAAQC,GAC/B,GAAI,GAAI,CACN,IAAI11B,EAAQy1B,EAAS,GACrBgB,GAASvyB,IAAI15B,GAAIw1B,GAAS,IAAMA,GAASA,EAAQ,EAAI,KAAO,KAAOA,QAEnE,GAAWy1B,EAAQ,GAAQC,EAE7BP,GAAW/C,MAAMqD,EAAQC,GACzB,GAAUD,EAAQC,GAGpB,SAASqB,KACP5B,GAAWlD,YAGb,SAAS+E,KACPF,GAAgB,GAAU,IAC1B3B,GAAWhD,UACP3nD,GAAIisD,IL3HW,OK2HU,KAAY,GAAU,MACnD,GAAM,GAAK,GAAS,GAAM,GAAK,GAC/B,GAAK,KAMP,SAAS,GAAMa,EAASC,GACtB,OAAQA,GAAWD,GAAW,EAAIC,EAAU,IAAMA,EAGpD,SAASC,GAAa1uD,EAAGC,GACvB,OAAOD,EAAE,GAAKC,EAAE,GAGlB,SAAS0uD,GAAcpuD,EAAOmJ,GAC5B,OAAOnJ,EAAM,IAAMA,EAAM,GAAKA,EAAM,IAAMmJ,GAAKA,GAAKnJ,EAAM,GAAKmJ,EAAInJ,EAAM,IAAMA,EAAM,GAAKmJ,EAG7E,IC3IXklD,GAAIC,GACJ,GAAI,GAAIC,GACR,GAAI,GAAIC,GACRC,GAAIC,GAAIC,GACR,GAAU,GACV,GAAI,GAAIC,GDsIG,eACb,IAAI14D,EAAGyB,EAAG8H,EAAGC,EAAG28B,EAAQwyB,EAAUl4B,EAOlC,GALA,GAAO,KAAY,GAAU,GAAO2X,KACpC6e,GAAS,GACT,GAAO2B,EAASzB,IAGZ11D,EAAIw1D,GAAO70D,OAAQ,CAIrB,IAHA60D,GAAO3tD,KAAK2uD,IAGPj4D,EAAI,EAAkBmmC,EAAS,CAAxB58B,EAAI0tD,GAAO,IAAkBj3D,EAAIyB,IAAKzB,EAE5Ck4D,GAAc3uD,GADlBC,EAAIytD,GAAOj3D,IACY,KAAOk4D,GAAc3uD,EAAGC,EAAE,KAC3C,GAAMD,EAAE,GAAIC,EAAE,IAAM,GAAMD,EAAE,GAAIA,EAAE,MAAKA,EAAE,GAAKC,EAAE,IAChD,GAAMA,EAAE,GAAID,EAAE,IAAM,GAAMA,EAAE,GAAIA,EAAE,MAAKA,EAAE,GAAKC,EAAE,KAEpD28B,EAAO7gC,KAAKiE,EAAIC,GAMpB,IAAKmvD,GAAYvgB,IAAiCp4C,EAAI,EAAGuJ,EAAI48B,EAAlC1kC,EAAI0kC,EAAO/jC,OAAS,GAAyBpC,GAAKyB,EAAG8H,EAAIC,IAAKxJ,EACvFwJ,EAAI28B,EAAOnmC,IACNygC,EAAQ,GAAMl3B,EAAE,GAAIC,EAAE,KAAOmvD,IAAUA,EAAWl4B,EAAO,GAAUj3B,EAAE,GAAI,GAAUD,EAAE,IAM9F,OAFA0tD,GAAS,GAAQ,KAEV,KAAY7e,KAAY,KAASA,IAClC,CAAC,CAACxT,IAAKA,KAAM,CAACA,IAAKA,MACnB,CAAC,CAAC,GAAS,IAAO,CAAC,GAAS,MCtKhCi0B,GAAiB,CACnBpE,OAAQT,GACRnB,MAAOiG,GACPpG,UAAWqG,GACXnG,QAASoG,GACTzD,aAAc,WACZsD,GAAenG,UAAYuG,GAC3BJ,GAAejG,QAAUsG,IAE3B1D,WAAY,WACVqD,GAAenG,UAAYqG,GAC3BF,GAAejG,QAAUoG,KAK7B,SAASF,GAAc5C,EAAQC,GAC7BD,GAAUtC,GACV,IAAI2C,EAASvI,GADMmI,GAAOvC,IAE1BuF,GAAuB5C,EAASvI,GAAIkI,GAASK,EAAStI,GAAIiI,GAASjI,GAAIkI,IAGzE,SAASgD,GAAuBlmD,EAAGD,EAAGosC,KAClC+Y,GACF,KAAOllD,EAAI,IAAMklD,GACjB,KAAOnlD,EAAI,IAAMmlD,GACjBE,KAAOjZ,EAAIiZ,IAAMF,GAGnB,SAASY,KACPF,GAAehG,MAAQuG,GAGzB,SAASA,GAAuBlD,EAAQC,GACtCD,GAAUtC,GACV,IAAI2C,EAASvI,GADMmI,GAAOvC,IAE1B,GAAK2C,EAASvI,GAAIkI,GAClB,GAAKK,EAAStI,GAAIiI,GAClBwC,GAAKzK,GAAIkI,GACT0C,GAAehG,MAAQwG,GACvBF,GAAuB,GAAI,GAAIT,IAGjC,SAASW,GAAkBnD,EAAQC,GACjCD,GAAUtC,GACV,IAAI2C,EAASvI,GADMmI,GAAOvC,IAEtB3gD,EAAIsjD,EAASvI,GAAIkI,GACjBljD,EAAIujD,EAAStI,GAAIiI,GACjB9W,EAAI6O,GAAIkI,GACRt9C,EAAIi1C,GAAM,IAAMj1C,EAAI,GAAKumC,EAAIsZ,GAAK1lD,GAAK6F,GAAKA,EAAI6/C,GAAKzlD,EAAI,GAAKmsC,GAAKvmC,GAAKA,EAAI,GAAK7F,EAAI,GAAKC,GAAK4F,GAAI,GAAK5F,EAAI,GAAKD,EAAI0lD,GAAKtZ,GAC9HgZ,IAAMv/C,EACN,IAAMA,GAAK,IAAM,GAAK5F,IACtB,IAAM4F,GAAK,IAAM,GAAK7F,IACtBslD,IAAMz/C,GAAK6/C,IAAMA,GAAKtZ,IACtB+Z,GAAuB,GAAI,GAAIT,IAGjC,SAASM,KACPH,GAAehG,MAAQiG,GAKzB,SAASG,KACPJ,GAAehG,MAAQyG,GAGzB,SAASJ,KACPK,GAAkB,GAAU,IAC5BV,GAAehG,MAAQiG,GAGzB,SAASQ,GAAuBpD,EAAQC,GACtC,GAAWD,EAAQ,GAAQC,EAC3BD,GAAUtC,GAASuC,GAAOvC,GAC1BiF,GAAehG,MAAQ0G,GACvB,IAAIhD,EAASvI,GAAImI,GACjB,GAAKI,EAASvI,GAAIkI,GAClB,GAAKK,EAAStI,GAAIiI,GAClBwC,GAAKzK,GAAIkI,GACTgD,GAAuB,GAAI,GAAIT,IAGjC,SAASa,GAAkBrD,EAAQC,GACjCD,GAAUtC,GACV,IAAI2C,EAASvI,GADMmI,GAAOvC,IAEtB3gD,EAAIsjD,EAASvI,GAAIkI,GACjBljD,EAAIujD,EAAStI,GAAIiI,GACjB9W,EAAI6O,GAAIkI,GACRqD,EAAK,GAAKpa,EAAIsZ,GAAK1lD,EACnBymD,EAAKf,GAAKzlD,EAAI,GAAKmsC,EACnBsa,EAAK,GAAK1mD,EAAI,GAAKC,EACnB7S,EAAI,GAAKo5D,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GAClC7gD,EAAIi7C,GAAK1zD,GACTuG,EAAIvG,IAAMyY,EAAIzY,EAClBm4D,IAAM5xD,EAAI6yD,EACVhB,IAAM7xD,EAAI8yD,EACVhB,IAAM9xD,EAAI+yD,EACVtB,IAAMv/C,EACN,IAAMA,GAAK,IAAM,GAAK5F,IACtB,IAAM4F,GAAK,IAAM,GAAK7F,IACtBslD,IAAMz/C,GAAK6/C,IAAMA,GAAKtZ,IACtB+Z,GAAuB,GAAI,GAAIT,IAGlB,mBACbP,GAAKC,GACL,GAAK,GAAKC,GACV,GAAK,GAAKC,GACVC,GAAKC,GAAKC,GAAK,EACf,GAAO/2D,EAAQm3D,IAEf,IAAI5lD,EAAIslD,GACJvlD,EAAIwlD,GACJpZ,EAAIqZ,GACJr4D,EAAI6S,EAAIA,EAAID,EAAIA,EAAIosC,EAAIA,EAG5B,OAAIh/C,ENhIgB,QMiIlB6S,EAAI,GAAID,EAAI,GAAIosC,EAAIkZ,GAEhBF,GNpIa,OMoICnlD,EAAI,GAAID,EAAI,GAAIosC,EAAIiZ,KACtCj4D,EAAI6S,EAAIA,EAAID,EAAIA,EAAIosC,EAAIA,GNpIN,OMsIO,CAACxa,IAAKA,KAG1B,CAACkpB,GAAM96C,EAAGC,GAAK0gD,GAASG,GAAK1U,EAAI,GAAKh/C,IAAMuzD,KC1ItC,eACb,OAAO,WACL,OAAO1gD,ICFI,iBAEb,SAAS0mD,EAAQ1mD,EAAGD,GAClB,OAAOC,EAAI1J,EAAE0J,EAAGD,GAAIxJ,EAAEyJ,EAAE,GAAIA,EAAE,IAOhC,OAJI1J,EAAEwhB,QAAUvhB,EAAEuhB,SAAQ4uC,EAAQ5uC,OAAS,SAAS9X,EAAGD,GACrD,OAAOC,EAAIzJ,EAAEuhB,OAAO9X,EAAGD,KAASzJ,EAAEwhB,OAAO9X,EAAE,GAAIA,EAAE,MAG5C0mD,GCPT,SAASC,GAAiB1D,EAAQC,GAChC,MAAO,CAAClrD,GAAIirD,GAAU,GAAKA,EAAS9vD,KAAK+gC,OAAO+uB,EAAS,IAAO,GAAMA,EAAQC,GAKzE,SAAS0D,GAAcC,EAAaC,EAAUC,GACnD,OAAQF,GAAe,IAAQC,GAAYC,EAAaL,GAAQM,GAAeH,GAAcI,GAAiBH,EAAUC,IACpHC,GAAeH,GACdC,GAAYC,EAAaE,GAAiBH,EAAUC,GACrDJ,GAGN,SAASO,GAAsBL,GAC7B,OAAO,SAAS5D,EAAQC,GACtB,MAA8B,EAAvBD,GAAU4D,GAAuB,GAAK5D,EAAS,GAAMA,GAAU,GAAKA,EAAS,GAAMA,EAAQC,IAItG,SAAS8D,GAAeH,GACtB,IAAIM,EAAWD,GAAsBL,GAErC,OADAM,EAASrvC,OAASovC,IAAuBL,GAClCM,EAGT,SAASF,GAAiBH,EAAUC,GAClC,IAAIK,EAAcrM,GAAI+L,GAClBO,EAAcrM,GAAI8L,GAClBQ,EAAgBvM,GAAIgM,GACpBQ,EAAgBvM,GAAI+L,GAExB,SAASI,EAASlE,EAAQC,GACxB,IAAII,EAASvI,GAAImI,GACbljD,EAAI+6C,GAAIkI,GAAUK,EAClBvjD,EAAIi7C,GAAIiI,GAAUK,EAClBnX,EAAI6O,GAAIkI,GACR1wD,EAAI25C,EAAIib,EAAcpnD,EAAIqnD,EAC9B,MAAO,CACLxM,GAAM96C,EAAIunD,EAAgB90D,EAAI+0D,EAAevnD,EAAIonD,EAAcjb,EAAIkb,GACnExG,GAAKruD,EAAI80D,EAAgBvnD,EAAIwnD,IAgBjC,OAZAJ,EAASrvC,OAAS,SAASmrC,EAAQC,GACjC,IAAII,EAASvI,GAAImI,GACbljD,EAAI+6C,GAAIkI,GAAUK,EAClBvjD,EAAIi7C,GAAIiI,GAAUK,EAClBnX,EAAI6O,GAAIkI,GACR1wD,EAAI25C,EAAImb,EAAgBvnD,EAAIwnD,EAChC,MAAO,CACL1M,GAAM96C,EAAIunD,EAAgBnb,EAAIob,EAAevnD,EAAIonD,EAAc50D,EAAI60D,GACnExG,GAAKruD,EAAI40D,EAAcpnD,EAAIqnD,KAIxBF,EAnDTR,GAAiB7uC,OAAS6uC,GAsDX,mBAGb,SAASa,EAAQ9F,GAEf,OADAA,EAAc+F,EAAO/F,EAAY,GAAKf,GAASe,EAAY,GAAKf,KAC7C,IAAMD,GAASgB,EAAY,IAAMhB,GAASgB,EAQ/D,OAZA+F,EAASb,GAAca,EAAO,GAAK9G,GAAS8G,EAAO,GAAK9G,GAAS8G,EAAOt4D,OAAS,EAAIs4D,EAAO,GAAK9G,GAAU,GAO3G6G,EAAQ1vC,OAAS,SAAS4pC,GAExB,OADAA,EAAc+F,EAAO3vC,OAAO4pC,EAAY,GAAKf,GAASe,EAAY,GAAKf,KACpD,IAAMD,GAASgB,EAAY,IAAMhB,GAASgB,GAGxD8F,GCpEF,SAASE,GAAaxG,EAAQyG,EAAQn6B,EAAOo6B,EAAWC,EAAInoB,GACjE,GAAKlS,EAAL,CACA,IAAIs6B,EAAY/M,GAAI4M,GAChBI,EAAY/M,GAAI2M,GAChBvtD,EAAOwtD,EAAYp6B,EACb,MAANq6B,GACFA,EAAKF,EAASC,EAAY,GAC1BloB,EAAKioB,EAASvtD,EAAO,IAErBytD,EAAKG,GAAaF,EAAWD,GAC7BnoB,EAAKsoB,GAAaF,EAAWpoB,IACzBkoB,EAAY,EAAIC,EAAKnoB,EAAKmoB,EAAKnoB,KAAImoB,GAAMD,EAAY,KAE3D,IAAK,IAAIhI,EAAO3xD,EAAI45D,EAAID,EAAY,EAAI35D,EAAIyxC,EAAKzxC,EAAIyxC,EAAIzxC,GAAKmM,EAC5DwlD,EAAQ,GAAU,CAACkI,GAAYC,EAAYhN,GAAI9sD,IAAK85D,EAAY/M,GAAI/sD,KACpEizD,EAAOtB,MAAMA,EAAM,GAAIA,EAAM,KAKjC,SAASoI,GAAaF,EAAWlI,IAC/BA,EAAQ,GAAUA,IAAc,IAAMkI,EACtC/D,GAA0BnE,GAC1B,IAAI+H,EAAShJ,IAAMiB,EAAM,IACzB,SAAUA,EAAM,GAAK,GAAK+H,EAASA,GAAU,GV9B1B,MU8B2C,GAGjD,kBACb,IAGIM,EACAR,EAJAS,EAAS,GAAS,CAAC,EAAG,IACtBP,EAAS,GAAS,IAClBxuC,EAAY,GAAS,GAGrB+nC,EAAS,CAACtB,MAEd,SAAe5/C,EAAGD,GAChBkoD,EAAK51D,KAAK2N,EAAIynD,EAAOznD,EAAGD,IACxBC,EAAE,IAAM0gD,GAAS1gD,EAAE,IAAM0gD,KAG3B,SAASyH,IACP,IAAI/6D,EAAI86D,EAAOtxD,MAAMrG,KAAMrB,WACvBrB,EAAI85D,EAAO/wD,MAAMrG,KAAMrB,WAAayxD,GACpC9xD,EAAIsqB,EAAUviB,MAAMrG,KAAMrB,WAAayxD,GAM3C,OALAsH,EAAO,GACPR,EAASb,IAAex5D,EAAE,GAAKuzD,IAAUvzD,EAAE,GAAKuzD,GAAS,GAAG7oC,OAC5D4vC,GAAaxG,EAAQrzD,EAAGgB,EAAG,GAC3BzB,EAAI,CAACkF,KAAM,UAAWovD,YAAa,CAACuG,IACpCA,EAAOR,EAAS,KACTr6D,EAeT,OAZA+6D,EAAOD,OAAS,SAASxxC,GACvB,OAAOxnB,UAAUC,QAAU+4D,EAAsB,mBAANxxC,EAAmBA,EAAI,GAAS,EAAEA,EAAE,IAAKA,EAAE,KAAMyxC,GAAUD,GAGxGC,EAAOR,OAAS,SAASjxC,GACvB,OAAOxnB,UAAUC,QAAUw4D,EAAsB,mBAANjxC,EAAmBA,EAAI,IAAUA,GAAIyxC,GAAUR,GAG5FQ,EAAOhvC,UAAY,SAASzC,GAC1B,OAAOxnB,UAAUC,QAAUgqB,EAAyB,mBAANzC,EAAmBA,EAAI,IAAUA,GAAIyxC,GAAUhvC,GAGxFgvC,GCpEM,cACb,IACIhM,EADAiM,EAAQ,GAEZ,MAAO,CACLxI,MAAO,SAAS5/C,EAAGD,GACjBo8C,EAAK9pD,KAAK,CAAC2N,EAAGD,KAEhB0/C,UAAW,WACT2I,EAAM/1D,KAAK8pD,EAAO,KAEpBwD,QAASoB,GACTsH,OAAQ,WACFD,EAAMj5D,OAAS,GAAGi5D,EAAM/1D,KAAK+1D,EAAMx4C,MAAMrY,OAAO6wD,EAAM50D,WAE5DkD,OAAQ,WACN,IAAIA,EAAS0xD,EAGb,OAFAA,EAAQ,GACRjM,EAAO,KACAzlD,KClBE,iBACb,OAAOsB,GAAI1B,EAAE,GAAKC,EAAE,IZHD,MYGkByB,GAAI1B,EAAE,GAAKC,EAAE,IZH/B,MaErB,SAAS+xD,GAAa1I,EAAO2I,EAAQC,EAAOC,GAC1Cl4D,KAAKyP,EAAI4/C,EACTrvD,KAAK47C,EAAIoc,EACTh4D,KAAK/C,EAAIg7D,EACTj4D,KAAKqH,EAAI6wD,EACTl4D,KAAKmD,GAAI,EACTnD,KAAK/B,EAAI+B,KAAK1B,EAAI,KAML,2BACb,IAEI9B,EACAyB,EAHAk6D,EAAU,GACVC,EAAO,GAwBX,GApBAC,EAASj3D,SAAQ,SAASk3D,GACxB,MAAKr6D,EAAIq6D,EAAQ15D,OAAS,IAAM,GAAhC,CACA,IAAIX,EAAqCwR,EAAlC8oD,EAAKD,EAAQ,GAAIE,EAAKF,EAAQr6D,GAKrC,GAAIw6D,GAAWF,EAAIC,GAAnB,CAEE,IADA7H,EAAOzB,YACF1yD,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGm0D,EAAOtB,OAAOkJ,EAAKD,EAAQ97D,IAAI,GAAI+7D,EAAG,IAC9D5H,EAAOvB,eAIT+I,EAAQr2D,KAAK2N,EAAI,IAAIsoD,GAAaQ,EAAID,EAAS,MAAM,IACrDF,EAAKt2D,KAAK2N,EAAExS,EAAI,IAAI86D,GAAaQ,EAAI,KAAM9oD,GAAG,IAC9C0oD,EAAQr2D,KAAK2N,EAAI,IAAIsoD,GAAaS,EAAIF,EAAS,MAAM,IACrDF,EAAKt2D,KAAK2N,EAAExS,EAAI,IAAI86D,GAAaS,EAAI,KAAM/oD,GAAG,QAG3C0oD,EAAQv5D,OAAb,CAMA,IAJAw5D,EAAKtyD,KAAK4yD,GACV,GAAKP,GACL,GAAKC,GAEA57D,EAAI,EAAGyB,EAAIm6D,EAAKx5D,OAAQpC,EAAIyB,IAAKzB,EACpC47D,EAAK57D,GAAG6K,EAAIsxD,GAAeA,EAO7B,IAJA,IACIX,EACA3I,EAFA5oD,EAAQ0xD,EAAQ,KAIV,CAIR,IAFA,IAAIS,EAAUnyD,EACVoyD,GAAY,EACTD,EAAQz1D,GAAG,IAAKy1D,EAAUA,EAAQ36D,KAAOwI,EAAO,OACvDuxD,EAASY,EAAQhd,EACjB+U,EAAOzB,YACP,EAAG,CAED,GADA0J,EAAQz1D,EAAIy1D,EAAQ37D,EAAEkG,GAAI,EACtBy1D,EAAQvxD,EAAG,CACb,GAAIwxD,EACF,IAAKr8D,EAAI,EAAGyB,EAAI+5D,EAAOp5D,OAAQpC,EAAIyB,IAAKzB,EAAGm0D,EAAOtB,OAAOA,EAAQ2I,EAAOx7D,IAAI,GAAI6yD,EAAM,SAEtF3d,EAAYknB,EAAQnpD,EAAGmpD,EAAQ36D,EAAEwR,EAAG,EAAGkhD,GAEzCiI,EAAUA,EAAQ36D,MACb,CACL,GAAI46D,EAEF,IADAb,EAASY,EAAQt6D,EAAEs9C,EACdp/C,EAAIw7D,EAAOp5D,OAAS,EAAGpC,GAAK,IAAKA,EAAGm0D,EAAOtB,OAAOA,EAAQ2I,EAAOx7D,IAAI,GAAI6yD,EAAM,SAEpF3d,EAAYknB,EAAQnpD,EAAGmpD,EAAQt6D,EAAEmR,GAAI,EAAGkhD,GAE1CiI,EAAUA,EAAQt6D,EAGpB05D,GADAY,EAAUA,EAAQ37D,GACD2+C,EACjBid,GAAaA,SACLD,EAAQz1D,GAClBwtD,EAAOvB,aAIX,SAAS,GAAKxrD,GACZ,GAAM3F,EAAI2F,EAAMhF,OAAhB,CAKA,IAJA,IAAIX,EAGA+H,EAFAxJ,EAAI,EACJuJ,EAAInC,EAAM,KAELpH,EAAIyB,GACX8H,EAAE9H,EAAI+H,EAAIpC,EAAMpH,GAChBwJ,EAAE1H,EAAIyH,EACNA,EAAIC,EAEND,EAAE9H,EAAI+H,EAAIpC,EAAM,GAChBoC,EAAE1H,EAAIyH,GC/FR,IAAI,GAAM+pD,KAEV,SAASgJ,GAAUzJ,GACjB,OAAI5nD,GAAI4nD,EAAM,KAAO,GACZA,EAAM,GAEN,GAAKA,EAAM,MAAQ5nD,GAAI4nD,EAAM,IAAM,IAAM,GAAM,IAG3C,qBACb,IAAIqD,EAASoG,GAAUzJ,GACnBsD,EAAMtD,EAAM,GACZ2D,EAASvI,GAAIkI,GACbuB,EAAS,CAACzJ,GAAIiI,IAAUlI,GAAIkI,GAAS,GACrCqG,EAAQ,EACRC,EAAU,EAEd,GAAIxhC,QAEW,IAAXw7B,EAAcL,EAAM1C,GdvBL,McwBE,IAAZ+C,IAAeL,GAAO1C,GdxBZ,Mc0BnB,IAAK,IAAIzzD,EAAI,EAAGyB,EAAIm0B,EAAQxzB,OAAQpC,EAAIyB,IAAKzB,EAC3C,GAAMI,GAAK86D,EAAOtlC,EAAQ51B,IAAIoC,OAS9B,IARA,IAAI84D,EACA96D,EACAq8D,EAASvB,EAAK96D,EAAI,GAClB23D,EAAUuE,GAAUG,GACpBC,EAAOD,EAAO,GAAK,EAAI/I,GACvBiJ,EAAU1O,GAAIyO,GACdE,EAAU5O,GAAI0O,GAETl2D,EAAI,EAAGA,EAAIpG,IAAKoG,EAAGuxD,EAAUC,EAAS2E,EAAUE,EAASD,EAAUE,EAASL,EAASM,EAAQ,CACpG,IAAIA,EAAS7B,EAAK10D,GACdwxD,EAAUsE,GAAUS,GACpBC,EAAOD,EAAO,GAAK,EAAIrJ,GACvBmJ,EAAU5O,GAAI+O,GACdF,EAAU9O,GAAIgP,GACdv8B,EAAQu3B,EAAUD,EAClBhiB,EAAOtV,GAAS,EAAI,GAAK,EACzBw8B,EAAWlnB,EAAOtV,EAClBq3B,EAAemF,EAAW,GAC1Bx3D,EAAIk3D,EAAUE,EAOlB,GALA,GAAIl4B,IAAImpB,GAAMroD,EAAIswC,EAAOkY,GAAIgP,GAAWL,EAAUE,EAAUr3D,EAAIuoD,GAAIiP,KACpEV,GAASzE,EAAer3B,EAAQsV,EAAO,GAAMtV,EAIzCq3B,EAAeC,GAAW7B,EAAS8B,GAAW9B,EAAQ,CACxD,IAAInE,EAAM6E,GAAe,GAAU6F,GAAS,GAAUM,IACtD/F,GAA0BjF,GAC1B,IAAImL,EAAetG,GAAec,EAAQ3F,GAC1CiF,GAA0BkG,GAC1B,IAAIC,GAAUrF,EAAer3B,GAAS,GAAK,EAAI,GAAKqzB,GAAKoJ,EAAa,KAClE/G,EAAMgH,GAAUhH,IAAQgH,IAAWpL,EAAI,IAAMA,EAAI,OACnDyK,GAAW1E,EAAer3B,GAAS,EAAI,GAAK,IAiBpD,OAAQ87B,Gd7EW,Mc6ESA,Ed7ET,Mc6E4B,Id7E5B,Mc6EyD,EAAVC,GCvErD,qBACb,OAAO,SAASY,GACd,IAIIxnC,EACAimC,EACAX,EANA9L,EAAOiO,EAASD,GAChBE,EAAa,KACbC,EAAWF,EAASC,GACpBE,GAAiB,EAKjB5B,EAAO,CACT/I,MAAOA,EACPH,UAAWA,EACXE,QAASA,EACT2C,aAAc,WACZqG,EAAK/I,MAAQ4K,EACb7B,EAAKlJ,UAAYgL,EACjB9B,EAAKhJ,QAAU+K,EACf9B,EAAW,GACXjmC,EAAU,IAEZ4/B,WAAY,WACVoG,EAAK/I,MAAQA,EACb+I,EAAKlJ,UAAYA,EACjBkJ,EAAKhJ,QAAUA,EACfiJ,EAAW,EAAMA,GACjB,IAAIM,EAAcyB,GAAgBhoC,EAAS3rB,GACvC4xD,EAASz5D,QACNo7D,IAAgBJ,EAAK7H,eAAgBiI,GAAiB,GAC3D,GAAW3B,EAAU,GAAqBM,EAAajnB,EAAakoB,IAC3DjB,IACJqB,IAAgBJ,EAAK7H,eAAgBiI,GAAiB,GAC3DJ,EAAK1K,YACLxd,EAAY,KAAM,KAAM,EAAGkoB,GAC3BA,EAAKxK,WAEH4K,IAAgBJ,EAAK5H,aAAcgI,GAAiB,GACxD3B,EAAWjmC,EAAU,MAEvB6+B,OAAQ,WACN2I,EAAK7H,eACL6H,EAAK1K,YACLxd,EAAY,KAAM,KAAM,EAAGkoB,GAC3BA,EAAKxK,UACLwK,EAAK5H,eAIT,SAAS3C,EAAMqD,EAAQC,GACjB0H,EAAa3H,EAAQC,IAAMiH,EAAKvK,MAAMqD,EAAQC,GAGpD,SAAS2H,EAAU5H,EAAQC,GACzB/G,EAAKyD,MAAMqD,EAAQC,GAGrB,SAASzD,IACPkJ,EAAK/I,MAAQiL,EACb1O,EAAKsD,YAGP,SAASE,IACPgJ,EAAK/I,MAAQA,EACbzD,EAAKwD,UAGP,SAAS6K,EAAUvH,EAAQC,GACzB+E,EAAK51D,KAAK,CAAC4wD,EAAQC,IACnBoH,EAAS1K,MAAMqD,EAAQC,GAGzB,SAASuH,IACPH,EAAS7K,YACTwI,EAAO,GAGT,SAASyC,IACPF,EAAUvC,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC9BqC,EAAS3K,UAET,IAEI5yD,EAA4BI,EAC5B07D,EACAjJ,EAJAkL,EAAQR,EAASQ,QACjBC,EAAeV,EAAW3zD,SACvBlI,EAAIu8D,EAAa57D,OAQxB,GAJA84D,EAAKr4C,MACL+S,EAAQtwB,KAAK41D,GACbA,EAAO,KAEFz5D,EAGL,GAAY,EAARs8D,GAEF,IAAK39D,GADL07D,EAAUkC,EAAa,IACN57D,OAAS,GAAK,EAAG,CAGhC,IAFKo7D,IAAgBJ,EAAK7H,eAAgBiI,GAAiB,GAC3DJ,EAAK1K,YACA1yD,EAAI,EAAGA,EAAII,IAAKJ,EAAGo9D,EAAKvK,OAAOA,EAAQiJ,EAAQ97D,IAAI,GAAI6yD,EAAM,IAClEuK,EAAKxK,gBAOLnxD,EAAI,GAAa,EAARs8D,GAAWC,EAAa14D,KAAK04D,EAAan7C,MAAMrY,OAAOwzD,EAAav3D,UAEjFo1D,EAASv2D,KAAK04D,EAAapzD,OAAOqzD,KAGpC,OAAOrC,IAIX,SAASqC,GAAanC,GACpB,OAAOA,EAAQ15D,OAAS,EAK1B,SAAS,GAAoBmH,EAAGC,GAC9B,QAASD,EAAIA,EAAE0J,GAAG,GAAK,EAAI1J,EAAE,GAAKkqD,GfhIf,KegIkCA,GAASlqD,EAAE,MACvDC,EAAIA,EAAEyJ,GAAG,GAAK,EAAIzJ,EAAE,GAAKiqD,GfjIf,KeiIkCA,GAASjqD,EAAE,IC9HnD,WACb,WAAa,OAAO,KAStB,SAA8B2qD,GAC5B,IAGI4J,EAHAhG,EAAUnzB,IACV83B,EAAO93B,IACPs5B,EAAQt5B,IAGZ,MAAO,CACL8tB,UAAW,WACTyB,EAAOzB,YACPqL,EAAQ,GAEVlL,MAAO,SAASmF,EAASgF,GACvB,IAAImB,EAAQnG,EAAU,EAAI,IAAM,GAC5Bv3B,EAAQx1B,GAAI+sD,EAAUD,GACtB9sD,GAAIw1B,EAAQ,IhB3BD,MgB4Bb0zB,EAAOtB,MAAMkF,EAAS2E,GAAQA,EAAOM,GAAQ,EAAI,EAAIvJ,IAAUA,IAC/DU,EAAOtB,MAAMqL,EAAOxB,GACpBvI,EAAOvB,UACPuB,EAAOzB,YACPyB,EAAOtB,MAAMsL,EAAOzB,GACpBvI,EAAOtB,MAAMmF,EAAS0E,GACtBqB,EAAQ,GACCG,IAAUC,GAAS19B,GAAS,KACjCx1B,GAAI8sD,EAAUmG,GhBpCL,OgBoCuBnG,GhBpCvB,KgBoCkCmG,GAC3CjzD,GAAI+sD,EAAUmG,GhBrCL,OgBqCuBnG,GhBrCvB,KgBqCkCmG,GAC/CzB,EAoBR,SAAmC3E,EAAS2E,EAAM1E,EAASgF,GACzD,IAAIJ,EACAE,EACAsB,EAAoBnQ,GAAI8J,EAAUC,GACtC,OAAO/sD,GAAImzD,GhB9DQ,KgB+DbvK,IAAM5F,GAAIyO,IAASI,EAAU9O,GAAIgP,IAAS/O,GAAI+J,GAC1C/J,GAAI+O,IAASJ,EAAU5O,GAAI0O,IAASzO,GAAI8J,KACvC6E,EAAUE,EAAUsB,KACxB1B,EAAOM,GAAQ,EA5BTqB,CAA0BtG,EAAS2E,EAAM1E,EAASgF,GACzD7I,EAAOtB,MAAMqL,EAAOxB,GACpBvI,EAAOvB,UACPuB,EAAOzB,YACPyB,EAAOtB,MAAMsL,EAAOzB,GACpBqB,EAAQ,GAEV5J,EAAOtB,MAAMkF,EAAUC,EAAS0E,EAAOM,GACvCkB,EAAQC,GAEVvL,QAAS,WACPuB,EAAOvB,UACPmF,EAAU2E,EAAO93B,KAEnBm5B,MAAO,WACL,OAAO,EAAIA,OAgBjB,SAAqC19C,EAAMi+C,EAAIzD,EAAW1G,GACxD,IAAIgC,EACJ,GAAY,MAAR91C,EACF81C,EAAM0E,EAAYpH,GAClBU,EAAOtB,OAAO,GAAIsD,GAClBhC,EAAOtB,MAAM,EAAGsD,GAChBhC,EAAOtB,MAAM,GAAIsD,GACjBhC,EAAOtB,MAAM,GAAI,GACjBsB,EAAOtB,MAAM,IAAKsD,GAClBhC,EAAOtB,MAAM,GAAIsD,GACjBhC,EAAOtB,OAAO,IAAKsD,GACnBhC,EAAOtB,OAAO,GAAI,GAClBsB,EAAOtB,OAAO,GAAIsD,QACb,GAAIlrD,GAAIoV,EAAK,GAAKi+C,EAAG,IhBlFT,KgBkFwB,CACzC,IAAIpI,EAAS71C,EAAK,GAAKi+C,EAAG,GAAK,IAAM,GACrCnI,EAAM0E,EAAY3E,EAAS,EAC3B/B,EAAOtB,OAAOqD,EAAQC,GACtBhC,EAAOtB,MAAM,EAAGsD,GAChBhC,EAAOtB,MAAMqD,EAAQC,QAErBhC,EAAOtB,MAAMyL,EAAG,GAAIA,EAAG,MAlFzB,EAAE,IAAK7K,KCDM,mBACb,IAAI8K,EAAKvQ,GAAI4M,GACTn6B,EAAQ,EAAImzB,GACZ4K,EAAcD,EAAK,EACnBE,EAAgBxzD,GAAIszD,GjBVL,KiBgBnB,SAASG,EAAQxI,EAAQC,GACvB,OAAOnI,GAAIkI,GAAUlI,GAAImI,GAAOoI,EAuFlC,SAAS5zD,EAAUpB,EAAGC,EAAGm1D,GACvB,IAKIC,EAAK,CAAC,EAAG,EAAG,GACZC,EAAKjI,GANA,GAAUrtD,GACV,GAAUC,IAMfs1D,EAAOnI,GAAakI,EAAIA,GACxBE,EAAOF,EAAG,GACVG,EAAcF,EAAOC,EAAOA,EAGhC,IAAKC,EAAa,OAAQL,GAAOp1D,EAEjC,IAAIoZ,EAAM47C,EAAKO,EAAOE,EAClBC,GAAMV,EAAKQ,EAAOC,EAClBE,EAAQtI,GAAegI,EAAIC,GAC3B7zD,EAAI8rD,GAAe8H,EAAIj8C,GAE3Bk0C,GAAoB7rD,EADZ8rD,GAAe+H,EAAII,IAI3B,IAAIvpB,EAAIwpB,EACJrmD,EAAI89C,GAAa3rD,EAAG0qC,GACpBypB,EAAKxI,GAAajhB,EAAGA,GACrB1C,EAAKn6B,EAAIA,EAAIsmD,GAAMxI,GAAa3rD,EAAGA,GAAK,GAE5C,KAAIgoC,EAAK,GAAT,CAEA,IAAI9xC,EAAI,GAAK8xC,GACTlW,EAAIg6B,GAAephB,IAAK78B,EAAI3X,GAAKi+D,GAIrC,GAHAtI,GAAoB/5B,EAAG9xB,GACvB8xB,EAAI,GAAUA,IAET6hC,EAAK,OAAO7hC,EAGjB,IAIIsiB,EAJA2Y,EAAUxuD,EAAE,GACZyuD,EAAUxuD,EAAE,GACZkzD,EAAOnzD,EAAE,GACTyzD,EAAOxzD,EAAE,GAGTwuD,EAAUD,IAAS3Y,EAAI2Y,EAASA,EAAUC,EAASA,EAAU5Y,GAEjE,IAAI3e,EAAQu3B,EAAUD,EAClBqH,EAAQn0D,GAAIw1B,EAAQ,IjBvJP,KiB6JjB,IAHK2+B,GAASpC,EAAON,IAAMtd,EAAIsd,EAAMA,EAAOM,EAAMA,EAAO5d,GAF1CggB,GAAS3+B,EjBxJP,KiB8JX2+B,EACE1C,EAAOM,EAAO,EAAIlgC,EAAE,IAAM7xB,GAAI6xB,EAAE,GAAKi7B,GjB/J5B,KiB+JiD2E,EAAOM,GACjEN,GAAQ5/B,EAAE,IAAMA,EAAE,IAAMkgC,EAC1Bv8B,EAAQ,IAAMs3B,GAAWj7B,EAAE,IAAMA,EAAE,IAAMk7B,GAAU,CACvD,IAAIqH,EAAKvI,GAAephB,IAAK78B,EAAI3X,GAAKi+D,GAEtC,OADAtI,GAAoBwI,EAAIr0D,GACjB,CAAC8xB,EAAG,GAAUuiC,MAMzB,SAAStkC,EAAKm7B,EAAQC,GACpB,IAAIr1D,EAAI09D,EAAc5D,EAAS,GAAKA,EAChC7/B,EAAO,EAKX,OAJIm7B,GAAUp1D,EAAGi6B,GAAQ,EAChBm7B,EAASp1D,IAAGi6B,GAAQ,GACzBo7B,GAAOr1D,EAAGi6B,GAAQ,EACbo7B,EAAMr1D,IAAGi6B,GAAQ,GACnBA,EAGT,OAAO,GAAK2jC,GA5JZ,SAAkBvK,GAChB,IAAIsI,EACA/5C,EACAkwB,EACA0sB,EACAvB,EACJ,MAAO,CACLrL,UAAW,WACT4M,EAAM1sB,GAAK,EACXmrB,EAAQ,GAEVlL,MAAO,SAASqD,EAAQC,GACtB,IACIoJ,EADAxC,EAAS,CAAC7G,EAAQC,GAElBxvD,EAAI+3D,EAAQxI,EAAQC,GACpB91D,EAAIm+D,EACA73D,EAAI,EAAIo0B,EAAKm7B,EAAQC,GACrBxvD,EAAIo0B,EAAKm7B,GAAUA,EAAS,EAAI,IAAM,IAAKC,GAAO,EAY1D,IAXKsG,IAAW6C,EAAM1sB,EAAKjsC,IAAIwtD,EAAOzB,YAGlC/rD,IAAMisC,MACR2sB,EAAS50D,EAAU8xD,EAAQM,KACZd,GAAWQ,EAAQ8C,IAAWtD,GAAWc,EAAQwC,MAC9DxC,EAAO,IjBhDE,KiBiDTA,EAAO,IjBjDE,KiBkDTp2D,EAAI+3D,EAAQ3B,EAAO,GAAIA,EAAO,KAG9Bp2D,IAAMisC,EACRmrB,EAAQ,EACJp3D,GAEFwtD,EAAOzB,YACP6M,EAAS50D,EAAUoyD,EAAQN,GAC3BtI,EAAOtB,MAAM0M,EAAO,GAAIA,EAAO,MAG/BA,EAAS50D,EAAU8xD,EAAQM,GAC3B5I,EAAOtB,MAAM0M,EAAO,GAAIA,EAAO,IAC/BpL,EAAOvB,WAET6J,EAAS8C,OACJ,GAAId,GAAiBhC,GAAU+B,EAAc73D,EAAG,CACrD,IAAIzF,EAGEb,EAAIqiB,KAAQxhB,EAAIyJ,EAAUoyD,EAAQN,GAAQ,MAC9CsB,EAAQ,EACJS,GACFrK,EAAOzB,YACPyB,EAAOtB,MAAM3xD,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3BizD,EAAOtB,MAAM3xD,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3BizD,EAAOvB,YAEPuB,EAAOtB,MAAM3xD,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3BizD,EAAOvB,UACPuB,EAAOzB,YACPyB,EAAOtB,MAAM3xD,EAAE,GAAG,GAAIA,EAAE,GAAG,OAI7ByF,GAAO81D,GAAWR,GAAWQ,EAAQM,IACvC5I,EAAOtB,MAAMkK,EAAO,GAAIA,EAAO,IAEjCN,EAASM,EAAQnqB,EAAKjsC,EAAG+b,EAAKriB,GAEhCuyD,QAAS,WACHhgB,GAAIuhB,EAAOvB,UACf6J,EAAS,MAIXsB,MAAO,WACL,OAAOA,GAAUuB,GAAO1sB,IAAO,OAtFrC,SAAqBvyB,EAAMi+C,EAAIzD,EAAW1G,GACxCwG,GAAaxG,EAAQyG,EAAQn6B,EAAOo6B,EAAWx6C,EAAMi+C,KAuKXE,EAAc,CAAC,GAAI5D,GAAU,EAAE,GAAIA,EAAS,MCzK3E,SAAS4E,GAAclqD,EAAIC,EAAI2V,EAAIE,GAEhD,SAASszC,EAAQzrD,EAAGD,GAClB,OAAOsC,GAAMrC,GAAKA,GAAKiY,GAAM3V,GAAMvC,GAAKA,GAAKoY,EAG/C,SAAS8pB,EAAY70B,EAAMi+C,EAAIzD,EAAW1G,GACxC,IAAI5qD,EAAI,EAAG0oD,EAAK,EAChB,GAAY,MAAR5xC,IACI9W,EAAIk2D,EAAOp/C,EAAMw6C,OAAiB5I,EAAKwN,EAAOnB,EAAIzD,KACnD6E,EAAar/C,EAAMi+C,GAAM,EAAIzD,EAAY,EAC9C,GAAG1G,EAAOtB,MAAY,IAANtpD,GAAiB,IAANA,EAAU+L,EAAK4V,EAAI3hB,EAAI,EAAI6hB,EAAK7V,UACnDhM,GAAKA,EAAIsxD,EAAY,GAAK,KAAO5I,QAEzCkC,EAAOtB,MAAMyL,EAAG,GAAIA,EAAG,IAI3B,SAASmB,EAAO39D,EAAG+4D,GACjB,OAAO5vD,GAAInJ,EAAE,GAAKwT,GlB9BD,KkB8BiBulD,EAAY,EAAI,EAAI,EAChD5vD,GAAInJ,EAAE,GAAKopB,GlB/BA,KkB+BgB2vC,EAAY,EAAI,EAAI,EAC/C5vD,GAAInJ,EAAE,GAAKyT,GlBhCA,KkBgCgBslD,EAAY,EAAI,EAAI,EAC/CA,EAAY,EAAI,EAAI,EAG5B,SAASqB,EAAoB3yD,EAAGC,GAC9B,OAAOk2D,EAAan2D,EAAE0J,EAAGzJ,EAAEyJ,GAG7B,SAASysD,EAAan2D,EAAGC,GACvB,IAAIm2D,EAAKF,EAAOl2D,EAAG,GACfq2D,EAAKH,EAAOj2D,EAAG,GACnB,OAAOm2D,IAAOC,EAAKD,EAAKC,EACX,IAAPD,EAAWn2D,EAAE,GAAKD,EAAE,GACb,IAAPo2D,EAAWp2D,EAAE,GAAKC,EAAE,GACb,IAAPm2D,EAAWp2D,EAAE,GAAKC,EAAE,GACpBA,EAAE,GAAKD,EAAE,GAGjB,OAAO,SAAS4qD,GACd,IAEI0H,EACAjmC,EACAslC,EACA2E,EAAKC,EAAKC,EACVC,EAAIC,EAAIC,EACRC,EACApC,EARAqC,EAAejM,EACfkM,EAAe,KASfC,EAAa,CACfzN,MAAOA,EACPH,UAgDF,WACE4N,EAAWzN,MAAQ0N,EACf3qC,GAASA,EAAQtwB,KAAK41D,EAAO,IACjCiF,GAAQ,EACRD,GAAK,EACLF,EAAKC,EAAKr7B,KApDVguB,QA0DF,WACMiJ,IACF0E,EAAUV,EAAKC,GACXC,GAAOG,GAAIG,EAAa/E,SAC5BO,EAASv2D,KAAK+6D,EAAa12D,WAE7B22D,EAAWzN,MAAQA,EACfqN,GAAIE,EAAaxN,WAhErB2C,aAuBF,WACE6K,EAAeC,EAAcxE,EAAW,GAAIjmC,EAAU,GAAImoC,GAAQ,GAvBlEvI,WA0BF,WACE,IAAI2G,EApBN,WAGE,IAFA,IAAIK,EAAU,EAELx8D,EAAI,EAAGyB,EAAIm0B,EAAQxzB,OAAQpC,EAAIyB,IAAKzB,EAC3C,IAAK,IAAgEgyD,EAAIC,EAAhEiJ,EAAOtlC,EAAQ51B,GAAIwG,EAAI,EAAGpG,EAAI86D,EAAK94D,OAAQywD,EAAQqI,EAAK,GAAYsF,EAAK3N,EAAM,GAAI4N,EAAK5N,EAAM,GAAIrsD,EAAIpG,IAAKoG,EAClHwrD,EAAKwO,EAAIvO,EAAKwO,EAAI5N,EAAQqI,EAAK10D,GAAIg6D,EAAK3N,EAAM,GAAI4N,EAAK5N,EAAM,GACzDZ,GAAM7mC,EAAUq1C,EAAKr1C,IAAOo1C,EAAKxO,IAAO5mC,EAAK6mC,IAAOwO,EAAKxO,IAAO38C,EAAK08C,MAAOwK,EACrEiE,GAAMr1C,IAAOo1C,EAAKxO,IAAO5mC,EAAK6mC,IAAOwO,EAAKxO,IAAO38C,EAAK08C,MAAOwK,EAI5E,OAAOA,EASWkE,GACdC,EAAc5C,GAAS5B,EACvBuC,GAAW7C,EAAW,EAAMA,IAAWz5D,QACvCu+D,GAAejC,KACjBvK,EAAOoB,eACHoL,IACFxM,EAAOzB,YACPxd,EAAY,KAAM,KAAM,EAAGif,GAC3BA,EAAOvB,WAEL8L,GACF,GAAW7C,EAAUK,EAAqBC,EAAajnB,EAAaif,GAEtEA,EAAOqB,cAET4K,EAAejM,EAAQ0H,EAAWjmC,EAAUslC,EAAO,OAvCrD,SAASrI,EAAM5/C,EAAGD,GACZ0rD,EAAQzrD,EAAGD,IAAIotD,EAAavN,MAAM5/C,EAAGD,GA8D3C,SAASutD,EAAUttD,EAAGD,GACpB,IAAIrM,EAAI+3D,EAAQzrD,EAAGD,GAEnB,GADI4iB,GAASslC,EAAK51D,KAAK,CAAC2N,EAAGD,IACvBmtD,EACFN,EAAM5sD,EAAG6sD,EAAM9sD,EAAG+sD,EAAMp5D,EACxBw5D,GAAQ,EACJx5D,IACFy5D,EAAa1N,YACb0N,EAAavN,MAAM5/C,EAAGD,SAGxB,GAAIrM,GAAKu5D,EAAIE,EAAavN,MAAM5/C,EAAGD,OAC9B,CACH,IAAIzJ,EAAI,CAACy2D,EAAK55D,KAAK+B,KA3IA,IA2Ia/B,KAAK8B,IA3IjC,IA2I8C83D,IAAMC,EAAK75D,KAAK+B,KA3I/C,IA2I4D/B,KAAK8B,IA3IhF,IA2I6F+3D,KAC7Fz2D,EAAI,CAACyJ,EAAI7M,KAAK+B,KA5IC,IA4IY/B,KAAK8B,IA5IhC,IA4I6C+K,IAAKD,EAAI5M,KAAK+B,KA5I5C,IA4IyD/B,KAAK8B,IA5I7E,IA4I0F8K,MClJzF,sBACb,IAQIlS,EARAgS,EAAKvJ,EAAE,GACPwJ,EAAKxJ,EAAE,GAGPuxD,EAAK,EACLnoB,EAAK,EACLh+B,EAJKnL,EAAE,GAIGsJ,EACV8B,EAJKpL,EAAE,GAIGuJ,EAId,GADAjS,EAAIwU,EAAKxC,EACJ6B,KAAM7T,EAAI,GAAf,CAEA,GADAA,GAAK6T,EACDA,EAAK,EAAG,CACV,GAAI7T,EAAIg6D,EAAI,OACRh6D,EAAI6xC,IAAIA,EAAK7xC,QACZ,GAAI6T,EAAK,EAAG,CACjB,GAAI7T,EAAI6xC,EAAI,OACR7xC,EAAIg6D,IAAIA,EAAKh6D,GAInB,GADAA,EAAIoqB,EAAKpY,EACJ6B,KAAM7T,EAAI,GAAf,CAEA,GADAA,GAAK6T,EACDA,EAAK,EAAG,CACV,GAAI7T,EAAI6xC,EAAI,OACR7xC,EAAIg6D,IAAIA,EAAKh6D,QACZ,GAAI6T,EAAK,EAAG,CACjB,GAAI7T,EAAIg6D,EAAI,OACRh6D,EAAI6xC,IAAIA,EAAK7xC,GAInB,GADAA,EAAIyU,EAAKxC,EACJ6B,KAAM9T,EAAI,GAAf,CAEA,GADAA,GAAK8T,EACDA,EAAK,EAAG,CACV,GAAI9T,EAAIg6D,EAAI,OACRh6D,EAAI6xC,IAAIA,EAAK7xC,QACZ,GAAI8T,EAAK,EAAG,CACjB,GAAI9T,EAAI6xC,EAAI,OACR7xC,EAAIg6D,IAAIA,EAAKh6D,GAInB,GADAA,EAAIsqB,EAAKrY,EACJ6B,KAAM9T,EAAI,GAAf,CAEA,GADAA,GAAK8T,EACDA,EAAK,EAAG,CACV,GAAI9T,EAAI6xC,EAAI,OACR7xC,EAAIg6D,IAAIA,EAAKh6D,QACZ,GAAI8T,EAAK,EAAG,CACjB,GAAI9T,EAAIg6D,EAAI,OACRh6D,EAAI6xC,IAAIA,EAAK7xC,GAKnB,OAFIg6D,EAAK,IAAGvxD,EAAE,GAAKuJ,EAAKgoD,EAAKnmD,EAAIpL,EAAE,GAAKwJ,EAAK+nD,EAAKlmD,GAC9C+9B,EAAK,IAAGnpC,EAAE,GAAKsJ,EAAK6/B,EAAKh+B,EAAInL,EAAE,GAAKuJ,EAAK4/B,EAAK/9B,IAC3C,MD0FK,CAASrL,EAAGC,EAAG8L,EAAIC,EAAI2V,EAAIE,GAQpBzkB,IACTy5D,EAAa1N,YACb0N,EAAavN,MAAM5/C,EAAGD,GACtB+qD,GAAQ,IAVHmC,IACHE,EAAa1N,YACb0N,EAAavN,MAAMtpD,EAAE,GAAIA,EAAE,KAE7B62D,EAAavN,MAAMrpD,EAAE,GAAIA,EAAE,IACtB7C,GAAGy5D,EAAaxN,UACrBmL,GAAQ,GAQdiC,EAAK/sD,EAAGgtD,EAAKjtD,EAAGktD,EAAKv5D,EAGvB,OAAO25D,GEnKI,ICIX,GACA,GACA,GDNW,cACb,IAII/tD,EACAquD,EACAhF,EANAtmD,EAAK,EACLC,EAAK,EACL2V,EAAK,IACLE,EAAK,IAKT,OAAOwwC,EAAO,CACZzH,OAAQ,SAASA,GACf,OAAO5hD,GAASquD,IAAgBzM,EAAS5hD,EAAQA,EAAQitD,GAAclqD,EAAIC,EAAI2V,EAAIE,EAA1Bo0C,CAA8BoB,EAAczM,IAEvGx2C,OAAQ,SAASgM,GACf,OAAOxnB,UAAUC,QAAUkT,GAAMqU,EAAE,GAAG,GAAIpU,GAAMoU,EAAE,GAAG,GAAIuB,GAAMvB,EAAE,GAAG,GAAIyB,GAAMzB,EAAE,GAAG,GAAIpX,EAAQquD,EAAc,KAAMhF,GAAQ,CAAC,CAACtmD,EAAIC,GAAK,CAAC2V,EAAIE,OCX7Iy1C,GAAYvN,KAKZwN,GAAe,CACjBrM,OAAQT,GACRnB,MAAOmB,GACPtB,UAMF,WACEoO,GAAajO,MAAQkO,GACrBD,GAAalO,QAAUoO,IAPvBpO,QAASoB,GACTuB,aAAcvB,GACdwB,WAAYxB,IAQd,SAASgN,KACPF,GAAajO,MAAQiO,GAAalO,QAAUoB,GAG9C,SAAS+M,GAAiB7K,EAAQC,GAEhC,GADAD,GAAUtC,GACQ,GAAU3F,GADTkI,GAAOvC,IACY,GAAU5F,GAAImI,GACpD2K,GAAajO,MAAQoO,GAGvB,SAASA,GAAY/K,EAAQC,GAC3BD,GAAUtC,GACV,IAAI4C,EAASvI,GADMkI,GAAOvC,IAEtB2C,EAASvI,GAAImI,GACb11B,EAAQx1B,GAAIirD,EAAS,IACrBgL,EAAWlT,GAAIvtB,GAEfxtB,EAAIsjD,EADOtI,GAAIxtB,GAEfztB,EAAI,GAAUwjD,EAAS,GAAUD,EAAS2K,EAC1C9hB,EAAI,GAAUoX,EAAS,GAAUD,EAAS2K,EAC9CL,GAAUl8B,IAAImpB,GAAM,GAAK76C,EAAIA,EAAID,EAAIA,GAAIosC,IACzC,GAAU8W,EAAQ,GAAUM,EAAQ,GAAUD,EAGjC,mBAGb,OAFAsK,GAAU7lC,QACV,GAAOt5B,EAAQo/D,KACPD,ICjDN,GAAc,CAAC,KAAM,MACrB,GAAS,CAACt7D,KAAM,aAAcovD,YAAa,IAEhC,iBAGb,OAFA,GAAY,GAAKprD,EACjB,GAAY,GAAKC,EACV,GAAO,KCJZ23D,GAAqB,CACvB7M,QAAS,SAAS5yD,EAAQmxD,GACxB,OAAOuO,GAAiB1/D,EAAOwyD,SAAUrB,IAE3C0B,kBAAmB,SAAS7yD,EAAQmxD,GAElC,IADA,IAAI7lC,EAAWtrB,EAAOsrB,SAAUhtB,GAAK,EAAGyB,EAAIurB,EAAS5qB,SAC5CpC,EAAIyB,GAAG,GAAI2/D,GAAiBp0C,EAAShtB,GAAGk0D,SAAUrB,GAAQ,OAAO,EAC1E,OAAO,IAIPwO,GAAuB,CACzB7M,OAAQ,WACN,OAAO,GAETE,MAAO,SAAShzD,EAAQmxD,GACtB,OAAOyO,GAAc5/D,EAAOizD,YAAa9B,IAE3C+B,WAAY,SAASlzD,EAAQmxD,GAE3B,IADA,IAAI8B,EAAcjzD,EAAOizD,YAAa30D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,SACrDpC,EAAIyB,GAAG,GAAI6/D,GAAc3M,EAAY30D,GAAI6yD,GAAQ,OAAO,EACjE,OAAO,GAETgC,WAAY,SAASnzD,EAAQmxD,GAC3B,OAAO0O,GAAa7/D,EAAOizD,YAAa9B,IAE1CkC,gBAAiB,SAASrzD,EAAQmxD,GAEhC,IADA,IAAI8B,EAAcjzD,EAAOizD,YAAa30D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,SACrDpC,EAAIyB,GAAG,GAAI8/D,GAAa5M,EAAY30D,GAAI6yD,GAAQ,OAAO,EAChE,OAAO,GAETmC,QAAS,SAAStzD,EAAQmxD,GACxB,OAAO2O,GAAgB9/D,EAAOizD,YAAa9B,IAE7CqC,aAAc,SAASxzD,EAAQmxD,GAE7B,IADA,IAAI8B,EAAcjzD,EAAOizD,YAAa30D,GAAK,EAAGyB,EAAIkzD,EAAYvyD,SACrDpC,EAAIyB,GAAG,GAAI+/D,GAAgB7M,EAAY30D,GAAI6yD,GAAQ,OAAO,EACnE,OAAO,GAETsC,mBAAoB,SAASzzD,EAAQmxD,GAEnC,IADA,IAAIuC,EAAa1zD,EAAO0zD,WAAYp1D,GAAK,EAAGyB,EAAI2zD,EAAWhzD,SAClDpC,EAAIyB,GAAG,GAAI2/D,GAAiBhM,EAAWp1D,GAAI6yD,GAAQ,OAAO,EACnE,OAAO,IAIX,SAASuO,GAAiBlN,EAAUrB,GAClC,SAAOqB,IAAYmN,GAAqBx/D,eAAeqyD,EAAS3uD,QAC1D87D,GAAqBnN,EAAS3uD,MAAM2uD,EAAUrB,GAItD,SAASyO,GAAc3M,EAAa9B,GAClC,OAAwC,IAAjC4O,GAAS9M,EAAa9B,GAG/B,SAAS0O,GAAa5M,EAAa9B,GAEjC,IADA,IAAI6O,EAAIC,EAAIC,EACH5hE,EAAI,EAAGyB,EAAIkzD,EAAYvyD,OAAQpC,EAAIyB,EAAGzB,IAAK,CAElD,GAAW,KADX2hE,EAAKF,GAAS9M,EAAY30D,GAAI6yD,IAChB,OAAO,EACrB,GAAI7yD,EAAI,IACN4hE,EAAKH,GAAS9M,EAAY30D,GAAI20D,EAAY30D,EAAI,KAEvC,GACL0hE,GAAME,GACND,GAAMC,IACLF,EAAKC,EAAKC,IAAO,EAAIx7D,KAAKyF,KAAK61D,EAAKC,GAAMC,EAAI,IvBtEjC,MuBsEkDA,EAEhE,OAAO,EAEXF,EAAKC,EAEP,OAAO,EAGT,SAASH,GAAgB7M,EAAa9B,GACpC,QAAS+K,GAAgBjJ,EAAY5qD,IAAI83D,IAAcC,GAAajP,IAGtE,SAASgP,GAAY3G,GACnB,OAAOA,EAAOA,EAAKnxD,IAAI+3D,KAAoBj/C,MAAOq4C,EAGpD,SAAS4G,GAAajP,GACpB,MAAO,CAACA,EAAM,GAAKe,GAASf,EAAM,GAAKe,IAG1B,qBACb,OAAQlyD,GAAUy/D,GAAmBt/D,eAAeH,EAAO6D,MACrD47D,GAAmBz/D,EAAO6D,MAC1B67D,IAAkB1/D,EAAQmxD,IC5FlC,SAASkP,GAAWxsD,EAAI6V,EAAIxW,GAC1B,IAAI5B,EAAI,EAAMuC,EAAI6V,ExBJC,KwBIaxW,GAAIpK,OAAO4gB,GAC3C,OAAO,SAASnY,GAAK,OAAOD,EAAEjJ,KAAI,SAASiJ,GAAK,MAAO,CAACC,EAAGD,OAG7D,SAASgvD,GAAW1sD,EAAI4V,EAAIvW,GAC1B,IAAI1B,EAAI,EAAMqC,EAAI4V,ExBTC,KwBSavW,GAAInK,OAAO0gB,GAC3C,OAAO,SAASlY,GAAK,OAAOC,EAAElJ,KAAI,SAASkJ,GAAK,MAAO,CAACA,EAAGD,OAG9C,SAAS,KACtB,IAAIkY,EAAI5V,EAAI2sD,EAAIC,EACZ92C,EAAI7V,EAAI4sD,EAAIC,EAEZnvD,EAAGD,EAAG+W,EAAGC,EADTrV,EAAK,GAAIC,EAAKD,EAAI0tD,EAAK,GAAIC,EAAK,IAEhCl2C,EAAY,IAEhB,SAASm2C,IACP,MAAO,CAACh9D,KAAM,kBAAmBovD,YAAa0G,KAGhD,SAASA,IACP,OAAO,EAAMntD,GAAKg0D,EAAKG,GAAMA,EAAIJ,EAAII,GAAIt4D,IAAIggB,GACxCvf,OAAO,EAAM0D,GAAKk0D,EAAKE,GAAMA,EAAIH,EAAIG,GAAIv4D,IAAIigB,IAC7Cxf,OAAO,EAAM0D,GAAKoH,EAAKX,GAAMA,EAAIuW,EAAIvW,GAAI/J,QAAO,SAASqI,GAAK,OAAOhI,GAAIgI,EAAIovD,GxB3BjE,QwB2BmFt4D,IAAIkJ,IACnGzI,OAAO,EAAM0D,GAAKqH,EAAKX,GAAMA,EAAIwW,EAAIxW,GAAIhK,QAAO,SAASoI,GAAK,OAAO/H,GAAI+H,EAAIsvD,GxB5BjE,QwB4BmFv4D,IAAIiJ,IAqE1G,OAlEAuvD,EAAUlH,MAAQ,WAChB,OAAOA,IAAQtxD,KAAI,SAAS4qD,GAAe,MAAO,CAACpvD,KAAM,aAAcovD,YAAaA,OAGtF4N,EAAUC,QAAU,WAClB,MAAO,CACLj9D,KAAM,UACNovD,YAAa,CACX5qC,EAAEm4C,GAAI13D,OACNwf,EAAEm4C,GAAIx2D,MAAM,GACZoe,EAAEk4C,GAAI9zC,UAAUxiB,MAAM,GACtBqe,EAAEo4C,GAAIj0C,UAAUxiB,MAAM,OAK5B42D,EAAU5kD,OAAS,SAASgM,GAC1B,OAAKxnB,UAAUC,OACRmgE,EAAUE,YAAY94C,GAAG+4C,YAAY/4C,GADd44C,EAAUG,eAI1CH,EAAUE,YAAc,SAAS94C,GAC/B,OAAKxnB,UAAUC,QACf8/D,GAAMv4C,EAAE,GAAG,GAAIs4C,GAAMt4C,EAAE,GAAG,GAC1By4C,GAAMz4C,EAAE,GAAG,GAAIw4C,GAAMx4C,EAAE,GAAG,GACtBu4C,EAAKD,IAAIt4C,EAAIu4C,EAAIA,EAAKD,EAAIA,EAAKt4C,GAC/By4C,EAAKD,IAAIx4C,EAAIy4C,EAAIA,EAAKD,EAAIA,EAAKx4C,GAC5B44C,EAAUn2C,UAAUA,IALG,CAAC,CAAC81C,EAAIE,GAAK,CAACH,EAAIE,KAQhDI,EAAUG,YAAc,SAAS/4C,GAC/B,OAAKxnB,UAAUC,QACfkT,GAAMqU,EAAE,GAAG,GAAIuB,GAAMvB,EAAE,GAAG,GAC1BpU,GAAMoU,EAAE,GAAG,GAAIyB,GAAMzB,EAAE,GAAG,GACtBrU,EAAK4V,IAAIvB,EAAIrU,EAAIA,EAAK4V,EAAIA,EAAKvB,GAC/BpU,EAAK6V,IAAIzB,EAAIpU,EAAIA,EAAK6V,EAAIA,EAAKzB,GAC5B44C,EAAUn2C,UAAUA,IALG,CAAC,CAAC9W,EAAIC,GAAK,CAAC2V,EAAIE,KAQhDm3C,EAAUl1D,KAAO,SAASsc,GACxB,OAAKxnB,UAAUC,OACRmgE,EAAUI,UAAUh5C,GAAGi5C,UAAUj5C,GADV44C,EAAUK,aAI1CL,EAAUI,UAAY,SAASh5C,GAC7B,OAAKxnB,UAAUC,QACfigE,GAAM14C,EAAE,GAAI24C,GAAM34C,EAAE,GACb44C,GAFuB,CAACF,EAAIC,IAKrCC,EAAUK,UAAY,SAASj5C,GAC7B,OAAKxnB,UAAUC,QACfuS,GAAMgV,EAAE,GAAI/U,GAAM+U,EAAE,GACb44C,GAFuB,CAAC5tD,EAAIC,IAKrC2tD,EAAUn2C,UAAY,SAASzC,GAC7B,OAAKxnB,UAAUC,QACfgqB,GAAazC,EACb1W,EAAI8uD,GAAWxsD,EAAI6V,EAAI,IACvBpY,EAAIgvD,GAAW1sD,EAAI4V,EAAIkB,GACvBrC,EAAIg4C,GAAWK,EAAID,EAAI,IACvBn4C,EAAIg4C,GAAWE,EAAID,EAAI71C,GAChBm2C,GANuBn2C,GASzBm2C,EACFE,YAAY,CAAC,EAAE,KAAK,WAAgB,CAAC,IAAK,aAC1CC,YAAY,CAAC,EAAE,KAAK,WAAgB,CAAC,IAAK,aAG1C,SAASG,KACd,OAAO,OCrGM,ICIX,GACA,GACA,GACA,GDPW,iBACb,IAAIvtD,EAAK/L,EAAE,GAAKqqD,GACZr+C,EAAKhM,EAAE,GAAKqqD,GACZ1oC,EAAK1hB,EAAE,GAAKoqD,GACZxoC,EAAK5hB,EAAE,GAAKoqD,GACZkP,EAAM9U,GAAIz4C,GACVwtD,EAAM9U,GAAI14C,GACVytD,EAAMhV,GAAI5iC,GACV63C,EAAMhV,GAAI7iC,GACV83C,EAAMJ,EAAM9U,GAAI14C,GAChB6tD,EAAML,EAAM7U,GAAI34C,GAChB8tD,EAAMJ,EAAMhV,GAAI9iC,GAChBm4C,EAAML,EAAM/U,GAAI/iC,GAChB5qB,EAAI,EAAIwzD,GAAK,GAAKC,GAAS3oC,EAAK7V,GAAMutD,EAAME,EAAMjP,GAAS7oC,EAAK5V,KAChE7P,EAAIwoD,GAAI3tD,GAER40C,EAAc50C,EAAI,SAASY,GAC7B,IAAIoiE,EAAIrV,GAAI/sD,GAAKZ,GAAKmF,EAClBuF,EAAIijD,GAAI3tD,EAAIY,GAAKuE,EACjBwN,EAAIjI,EAAIk4D,EAAMI,EAAIF,EAClBpwD,EAAIhI,EAAIm4D,EAAMG,EAAID,EAClBjkB,EAAIp0C,EAAI+3D,EAAMO,EAAIL,EACtB,MAAO,CACLnV,GAAM96C,EAAGC,GAAK0gD,GACd7F,GAAM1O,EAAG,GAAKnsC,EAAIA,EAAID,EAAIA,IAAM2gD,KAEhC,WACF,MAAO,CAACr+C,EAAKq+C,GAASp+C,EAAKo+C,KAK7B,OAFAze,EAAYusB,SAAWnhE,EAEhB40C,GElCM,eACb,OAAOjiC,GDGL,GAAUqgD,KACV,GAAcA,KAMd,GAAa,CACfT,MAAOmB,GACPtB,UAAWsB,GACXpB,QAASoB,GACTuB,aAAc,WACZ,GAAW7C,UAAY,GACvB,GAAWE,QAAU,IAEvB4C,WAAY,WACV,GAAW9C,UAAY,GAAWE,QAAU,GAAWC,MAAQmB,GAC/D,GAAQrvB,IAAI15B,GAAI,KAChB,GAAY+vB,SAEdrxB,OAAQ,WACN,IAAI45D,EAAO,GAAU,EAErB,OADA,GAAQvoC,QACDuoC,IAIX,SAAS,KACP,GAAW1Q,MAAQ,GAGrB,SAAS,GAAe5/C,EAAGD,GACzB,GAAW6/C,MAAQ,GACnB,GAAM,GAAK5/C,EAAG,GAAM,GAAKD,EAG3B,SAAS,GAAUC,EAAGD,GACpB,GAAY2xB,IAAI,GAAK1xB,EAAI,GAAKD,GAC9B,GAAKC,EAAG,GAAKD,EAGf,SAAS,KACP,GAAU,GAAK,IAGF,UE/CX,GAAKolC,IACL,GAAK,GACL,IAAM,GACN,GAAK,GAsBM,ICdX,GACA,GACA,GACA,GDWW,GApBI,CACjBya,MAYF,SAAqB5/C,EAAGD,GAClBC,EAAI,KAAI,GAAKA,GACbA,EAAI,KAAI,GAAKA,GACbD,EAAI,KAAI,GAAKA,GACbA,EAAI,KAAI,GAAKA,IAfjB0/C,UAAWsB,GACXpB,QAASoB,GACTuB,aAAcvB,GACdwB,WAAYxB,GACZrqD,OAAQ,WACN,IAAI65D,EAAS,CAAC,CAAC,GAAI,IAAK,CAAC,GAAI,KAE7B,OADA,GAAK,KAAO,GAAK,GAAKprB,KACforB,ICZP,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EAML,GAAiB,CACnB3Q,MAAO,GACPH,UAAW,GACXE,QAAS,GACT2C,aAAc,WACZ,GAAe7C,UAAY,GAC3B,GAAeE,QAAU,IAE3B4C,WAAY,WACV,GAAe3C,MAAQ,GACvB,GAAeH,UAAY,GAC3B,GAAeE,QAAU,IAE3BjpD,OAAQ,WACN,IAAI85D,EAAW,GAAK,CAAC,GAAK,GAAI,GAAK,IAC7B,GAAK,CAAC,GAAK,GAAI,GAAK,IACpB,GAAK,CAAC,GAAK,GAAI,GAAK,IACpB,CAAC7+B,IAAKA,KAIZ,OAHA,GAAK,GAAK,GACV,GAAK,GAAK,GACV,GAAK,GAAK,GAAK,EACR6+B,IAIX,SAAS,GAAcxwD,EAAGD,GACxB,IAAMC,EACN,IAAMD,IACJ,GAGJ,SAAS,KACP,GAAe6/C,MAAQ6Q,GAGzB,SAASA,GAAuBzwD,EAAGD,GACjC,GAAe6/C,MAAQ8Q,GACvB,GAAc,GAAK1wD,EAAG,GAAKD,GAG7B,SAAS2wD,GAAkB1wD,EAAGD,GAC5B,IAAI2B,EAAK1B,EAAI,GAAI2B,EAAK5B,EAAI,GAAIosC,EAAI,GAAKzqC,EAAKA,EAAKC,EAAKA,GACtD,IAAMwqC,GAAK,GAAKnsC,GAAK,EACrB,IAAMmsC,GAAK,GAAKpsC,GAAK,EACrB,IAAMosC,EACN,GAAc,GAAKnsC,EAAG,GAAKD,GAG7B,SAAS,KACP,GAAe6/C,MAAQ,GAGzB,SAAS,KACP,GAAeA,MAAQ+Q,GAGzB,SAAS,KACPC,GAAkB,GAAK,IAGzB,SAASD,GAAuB3wD,EAAGD,GACjC,GAAe6/C,MAAQgR,GACvB,GAAc,GAAM,GAAK5wD,EAAG,GAAM,GAAKD,GAGzC,SAAS6wD,GAAkB5wD,EAAGD,GAC5B,IAAI2B,EAAK1B,EAAI,GACT2B,EAAK5B,EAAI,GACTosC,EAAI,GAAKzqC,EAAKA,EAAKC,EAAKA,GAE5B,IAAMwqC,GAAK,GAAKnsC,GAAK,EACrB,IAAMmsC,GAAK,GAAKpsC,GAAK,EACrB,IAAMosC,EAGN,KADAA,EAAI,GAAKnsC,EAAI,GAAKD,IACP,GAAKC,GAChB,IAAMmsC,GAAK,GAAKpsC,GAChB,IAAU,EAAJosC,EACN,GAAc,GAAKnsC,EAAG,GAAKD,GAGd,UChGA,SAAS8wD,GAAYh8C,GAClCtkB,KAAK8uD,SAAWxqC,EAGlBg8C,GAAYliE,UAAY,CACtBmiE,QAAS,IACTC,YAAa,SAASr6C,GACpB,OAAOnmB,KAAKugE,QAAUp6C,EAAGnmB,MAE3B+xD,aAAc,WACZ/xD,KAAKgvD,MAAQ,GAEfgD,WAAY,WACVhyD,KAAKgvD,MAAQ5tB,KAEf8tB,UAAW,WACTlvD,KAAKmvD,OAAS,GAEhBC,QAAS,WACY,IAAfpvD,KAAKgvD,OAAahvD,KAAK8uD,SAAS1B,YACpCptD,KAAKmvD,OAAS/tB,KAEhBiuB,MAAO,SAAS5/C,EAAGD,GACjB,OAAQxP,KAAKmvD,QACX,KAAK,EACHnvD,KAAK8uD,SAAS3B,OAAO19C,EAAGD,GACxBxP,KAAKmvD,OAAS,EACd,MAEF,KAAK,EACHnvD,KAAK8uD,SAASzB,OAAO59C,EAAGD,GACxB,MAEF,QACExP,KAAK8uD,SAAS3B,OAAO19C,EAAIzP,KAAKugE,QAAS/wD,GACvCxP,KAAK8uD,SAASP,IAAI9+C,EAAGD,EAAGxP,KAAKugE,QAAS,EAAG,MAK/Cp6D,OAAQqqD,ICvCV,IACIiQ,GACA,GACA,GACA,GACA,GALA,GAAY3Q,KAOZ,GAAe,CACjBT,MAAOmB,GACPtB,UAAW,WACT,GAAaG,MAAQ,IAEvBD,QAAS,WACHqR,IAAY,GAAY,GAAK,IACjC,GAAapR,MAAQmB,IAEvBuB,aAAc,WACZ0O,IAAa,GAEfzO,WAAY,WACVyO,GAAa,MAEft6D,OAAQ,WACN,IAAIvH,GAAU,GAEd,OADA,GAAU44B,QACH54B,IAIX,SAAS,GAAiB6Q,EAAGD,GAC3B,GAAa6/C,MAAQ,GACrB,GAAM,GAAK5/C,EAAG,GAAM,GAAKD,EAG3B,SAAS,GAAYC,EAAGD,GACtB,IAAMC,EAAG,IAAMD,EACf,GAAU2xB,IAAI,GAAK,GAAK,GAAK,GAAK,KAClC,GAAK1xB,EAAG,GAAKD,EAGA,UC5CA,SAASkxD,KACtB1gE,KAAK2gE,QAAU,GAoDjB,SAAS,GAAOvJ,GACd,MAAO,MAAQA,EACT,IAAMA,EAAS,IAAMA,EAAS,aAAe,EAAIA,EACjD,IAAMA,EAAS,IAAMA,EAAS,YAAc,EAAIA,EAChD,IArDRsJ,GAAWtiE,UAAY,CACrBmiE,QAAS,IACTK,QAAS,GAAO,KAChBJ,YAAa,SAASr6C,GAEpB,OADKA,GAAKA,KAAOnmB,KAAKugE,UAASvgE,KAAKugE,QAAUp6C,EAAGnmB,KAAK4gE,QAAU,MACzD5gE,MAET+xD,aAAc,WACZ/xD,KAAKgvD,MAAQ,GAEfgD,WAAY,WACVhyD,KAAKgvD,MAAQ5tB,KAEf8tB,UAAW,WACTlvD,KAAKmvD,OAAS,GAEhBC,QAAS,WACY,IAAfpvD,KAAKgvD,OAAahvD,KAAK2gE,QAAQ7+D,KAAK,KACxC9B,KAAKmvD,OAAS/tB,KAEhBiuB,MAAO,SAAS5/C,EAAGD,GACjB,OAAQxP,KAAKmvD,QACX,KAAK,EACHnvD,KAAK2gE,QAAQ7+D,KAAK,IAAK2N,EAAG,IAAKD,GAC/BxP,KAAKmvD,OAAS,EACd,MAEF,KAAK,EACHnvD,KAAK2gE,QAAQ7+D,KAAK,IAAK2N,EAAG,IAAKD,GAC/B,MAEF,QACsB,MAAhBxP,KAAK4gE,UAAiB5gE,KAAK4gE,QAAU,GAAO5gE,KAAKugE,UACrDvgE,KAAK2gE,QAAQ7+D,KAAK,IAAK2N,EAAG,IAAKD,EAAGxP,KAAK4gE,WAK7Cz6D,OAAQ,WACN,GAAInG,KAAK2gE,QAAQ/hE,OAAQ,CACvB,IAAIuH,EAASnG,KAAK2gE,QAAQ78C,KAAK,IAE/B,OADA9jB,KAAK2gE,QAAU,GACRx6D,EAEP,OAAO,OCvCE,qBACb,IACI06D,EACAC,EAFAN,EAAc,IAIlB,SAAShV,EAAKttD,GAKZ,OAJIA,IACyB,mBAAhBsiE,GAA4BM,EAAcN,aAAaA,EAAYn6D,MAAMrG,KAAMrB,YAC1F,GAAOT,EAAQ2iE,EAAiBC,KAE3BA,EAAc36D,SAwCvB,OArCAqlD,EAAKuU,KAAO,SAAS7hE,GAEnB,OADA,GAAOA,EAAQ2iE,EAAiB,KACzB,GAAS16D,UAGlBqlD,EAAKuV,QAAU,SAAS7iE,GAEtB,OADA,GAAOA,EAAQ2iE,EAAiB,KACzB,GAAY16D,UAGrBqlD,EAAKwU,OAAS,SAAS9hE,GAErB,OADA,GAAOA,EAAQ2iE,EAAiB,KACzB,GAAW16D,UAGpBqlD,EAAKyU,SAAW,SAAS/hE,GAEvB,OADA,GAAOA,EAAQ2iE,EAAiB,KACzB,GAAa16D,UAGtBqlD,EAAKwV,WAAa,SAAS76C,GACzB,OAAOxnB,UAAUC,QAAUiiE,EAAwB,MAAL16C,GAAa66C,EAAa,KAAM,KAAaA,EAAa76C,GAAGwqC,OAAQnF,GAAQwV,GAG7HxV,EAAKlnC,QAAU,SAAS6B,GACtB,OAAKxnB,UAAUC,QACfkiE,EAAqB,MAAL36C,GAAa7B,EAAU,KAAM,IAAIo8C,IAAc,IAAIJ,GAAYh8C,EAAU6B,GAC9D,mBAAhBq6C,GAA4BM,EAAcN,YAAYA,GAC1DhV,GAHuBlnC,GAMhCknC,EAAKgV,YAAc,SAASr6C,GAC1B,OAAKxnB,UAAUC,QACf4hE,EAA2B,mBAANr6C,EAAmBA,GAAK26C,EAAcN,aAAar6C,IAAKA,GACtEqlC,GAFuBgV,GAKzBhV,EAAKwV,WAAWA,GAAY18C,QAAQA,IC3D9B,eACb,MAAO,CACLqsC,OAAQ,GAAYsQ,KAIjB,SAAS,GAAYA,GAC1B,OAAO,SAAStQ,GACd,IAAIpyD,EAAI,IAAI2iE,GACZ,IAAK,IAAInjE,KAAOkjE,EAAS1iE,EAAER,GAAOkjE,EAAQljE,GAE1C,OADAQ,EAAEoyD,OAASA,EACJpyD,GAIX,SAAS2iE,MCZT,SAASC,GAAIH,EAAYI,EAAWljE,GAClC,IAAIk6D,EAAO4I,EAAWK,YAAcL,EAAWK,aAM/C,OALAL,EAAWz7D,MAAM,KAAKwf,UAAU,CAAC,EAAG,IACxB,MAARqzC,GAAc4I,EAAWK,WAAW,MACxC,GAAUnjE,EAAQ8iE,EAAWrQ,OAAO,KACpCyQ,EAAU,GAAaj7D,UACX,MAARiyD,GAAc4I,EAAWK,WAAWjJ,GACjC4I,EAGF,SAASM,GAAUN,EAAY7mD,EAAQjc,GAC5C,OAAOijE,GAAIH,GAAY,SAASh7D,GAC9B,IAAIqP,EAAI8E,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC7BiI,EAAIjI,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC7BlY,EAAIW,KAAK8B,IAAI2Q,GAAKrP,EAAE,GAAG,GAAKA,EAAE,GAAG,IAAKoc,GAAKpc,EAAE,GAAG,GAAKA,EAAE,GAAG,KAC1DyJ,GAAK0K,EAAO,GAAG,IAAM9E,EAAIpT,GAAK+D,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACpDwJ,GAAK2K,EAAO,GAAG,IAAMiI,EAAIngB,GAAK+D,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACxDg7D,EAAWz7D,MAAM,IAAMtD,GAAG8iB,UAAU,CAACtV,EAAGD,MACvCtR,GAGE,SAASqjE,GAAQP,EAAY7gE,EAAMjC,GACxC,OAAOojE,GAAUN,EAAY,CAAC,CAAC,EAAG,GAAI7gE,GAAOjC,GAGxC,SAASsjE,GAASR,EAAY1wD,EAAOpS,GAC1C,OAAOijE,GAAIH,GAAY,SAASh7D,GAC9B,IAAIqP,GAAK/E,EACLrO,EAAIoT,GAAKrP,EAAE,GAAG,GAAKA,EAAE,GAAG,IACxByJ,GAAK4F,EAAIpT,GAAK+D,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACpCwJ,GAAKvN,EAAI+D,EAAE,GAAG,GAClBg7D,EAAWz7D,MAAM,IAAMtD,GAAG8iB,UAAU,CAACtV,EAAGD,MACvCtR,GAGE,SAASujE,GAAUT,EAAYzwD,EAAQrS,GAC5C,OAAOijE,GAAIH,GAAY,SAASh7D,GAC9B,IAAIoc,GAAK7R,EACLtO,EAAImgB,GAAKpc,EAAE,GAAG,GAAKA,EAAE,GAAG,IACxByJ,GAAKxN,EAAI+D,EAAE,GAAG,GACdwJ,GAAK4S,EAAIngB,GAAK+D,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACxCg7D,EAAWz7D,MAAM,IAAMtD,GAAG8iB,UAAU,CAACtV,EAAGD,MACvCtR,GD5BLgjE,GAAgB9iE,UAAY,CAC1B6/B,YAAaijC,GACb7R,MAAO,SAAS5/C,EAAGD,GAAKxP,KAAK2wD,OAAOtB,MAAM5/C,EAAGD,IAC7CyhD,OAAQ,WAAajxD,KAAK2wD,OAAOM,UACjC/B,UAAW,WAAalvD,KAAK2wD,OAAOzB,aACpCE,QAAS,WAAapvD,KAAK2wD,OAAOvB,WAClC2C,aAAc,WAAa/xD,KAAK2wD,OAAOoB,gBACvCC,WAAY,WAAahyD,KAAK2wD,OAAOqB,eEpBvC,IACI0P,GAAiBlX,GAAI,GAAK4F,IAEf,iBACb,OAAQuR,EAYV,SAAkBltC,EAASktC,GAEzB,SAASC,EAAe9vD,EAAIC,EAAIwiD,EAAS/F,EAAIwO,EAAI99C,EAAIwI,EAAIE,EAAI4sC,EAAS/F,EAAIwO,EAAI99C,EAAI0iD,EAAOlR,GACvF,IAAIx/C,EAAKuW,EAAK5V,EACVV,EAAKwW,EAAK7V,EACV+vD,EAAK3wD,EAAKA,EAAKC,EAAKA,EACxB,GAAI0wD,EAAK,EAAIH,GAAUE,IAAS,CAC9B,IAAI97D,EAAIyoD,EAAKC,EACTzoD,EAAIg3D,EAAKC,EACTpgE,EAAIqiB,EAAKC,EACTviB,EAAI,GAAKmJ,EAAIA,EAAIC,EAAIA,EAAInJ,EAAIA,GAC7BklE,EAAOzR,GAAKzzD,GAAKD,GACjBolE,EAAUv6D,GAAIA,GAAI5K,GAAK,GpChCZ,MoCgC4B4K,GAAI8sD,EAAUC,GpChC1C,MoCgCgED,EAAUC,GAAW,EAAIlK,GAAMtkD,EAAGD,GAC7GzH,EAAIm2B,EAAQutC,EAASD,GACrBp6C,EAAKrpB,EAAE,GACPupB,EAAKvpB,EAAE,GACP2jE,EAAMt6C,EAAK7V,EACXowD,EAAMr6C,EAAK9V,EACXowD,EAAK/wD,EAAK6wD,EAAM9wD,EAAK+wD,GACrBC,EAAKA,EAAKL,EAAKH,GACZl6D,IAAK0J,EAAK8wD,EAAM7wD,EAAK8wD,GAAOJ,EAAK,IAAO,IACxCtT,EAAKC,EAAKuO,EAAKC,EAAK/9C,EAAKC,EAAKuiD,MACnCE,EAAe9vD,EAAIC,EAAIwiD,EAAS/F,EAAIwO,EAAI99C,EAAIyI,EAAIE,EAAIm6C,EAASj8D,GAAKnJ,EAAGoJ,GAAKpJ,EAAGC,EAAGglE,EAAOlR,GACvFA,EAAOtB,MAAM1nC,EAAIE,GACjB+5C,EAAej6C,EAAIE,EAAIm6C,EAASj8D,EAAGC,EAAGnJ,EAAG6qB,EAAIE,EAAI4sC,EAAS/F,EAAIwO,EAAI99C,EAAI0iD,EAAOlR,KAInF,OAAO,SAASA,GACd,IAAIyR,EAAUC,EAAKC,EAAKC,EAAKC,EAAKC,EAC9BlO,EAASziD,EAAIC,EAAIy8C,EAAIwO,EAAI99C,EAEzBwjD,EAAiB,CACnBrT,MAAOA,EACPH,UAAWA,EACXE,QAASA,EACT2C,aAAc,WAAapB,EAAOoB,eAAgB2Q,EAAexT,UAAYgL,GAC7ElI,WAAY,WAAarB,EAAOqB,aAAc0Q,EAAexT,UAAYA,IAG3E,SAASG,EAAM5/C,EAAGD,GAChBC,EAAIglB,EAAQhlB,EAAGD,GACfmhD,EAAOtB,MAAM5/C,EAAE,GAAIA,EAAE,IAGvB,SAASy/C,IACPp9C,EAAKsvB,IACLshC,EAAerT,MAAQ0N,EACvBpM,EAAOzB,YAGT,SAAS6N,EAAUrK,EAAQC,GACzB,IAAI91D,EAAI,GAAU,CAAC61D,EAAQC,IAAOr0D,EAAIm2B,EAAQi+B,EAAQC,GACtDiP,EAAe9vD,EAAIC,EAAIwiD,EAAS/F,EAAIwO,EAAI99C,EAAIpN,EAAKxT,EAAE,GAAIyT,EAAKzT,EAAE,GAAIi2D,EAAU7B,EAAQlE,EAAK3xD,EAAE,GAAImgE,EAAKngE,EAAE,GAAIqiB,EAAKriB,EAAE,GArExG,GAqEsH8zD,GAC/HA,EAAOtB,MAAMv9C,EAAIC,GAGnB,SAASq9C,IACPsT,EAAerT,MAAQA,EACvBsB,EAAOvB,UAGT,SAAS8K,IACPhL,IACAwT,EAAerT,MAAQsT,EACvBD,EAAetT,QAAU+K,EAG3B,SAASwI,EAAUjQ,EAAQC,GACzBoK,EAAUqF,EAAW1P,EAAQC,GAAM0P,EAAMvwD,EAAIwwD,EAAMvwD,EAAIwwD,EAAM/T,EAAIgU,EAAMxF,EAAIyF,EAAMvjD,EACjFwjD,EAAerT,MAAQ0N,EAGzB,SAAS5C,IACPyH,EAAe9vD,EAAIC,EAAIwiD,EAAS/F,EAAIwO,EAAI99C,EAAImjD,EAAKC,EAAKF,EAAUG,EAAKC,EAAKC,EA1FjE,GA0FgF9R,GACzF+R,EAAetT,QAAUA,EACzBA,IAGF,OAAOsT,GA3FQ,CAASjuC,EAASktC,GAGrC,SAAsBltC,GACpB,OAAO,GAAY,CACjB46B,MAAO,SAAS5/C,EAAGD,GACjBC,EAAIglB,EAAQhlB,EAAGD,GACfxP,KAAK2wD,OAAOtB,MAAM5/C,EAAE,GAAIA,EAAE,OAPemzD,CAAanuC,ICG5D,IAAIouC,GAAmB,GAAY,CACjCxT,MAAO,SAAS5/C,EAAGD,GACjBxP,KAAK2wD,OAAOtB,MAAM5/C,EAAI2gD,GAAS5gD,EAAI4gD,OAavC,SAAS0S,GAAe7gE,EAAGkP,EAAIC,GAC7B,SAAS2gC,EAAUtiC,EAAGD,GACpB,MAAO,CAAC2B,EAAKlP,EAAIwN,EAAG2B,EAAKnP,EAAIuN,GAK/B,OAHAuiC,EAAUxqB,OAAS,SAAS9X,EAAGD,GAC7B,MAAO,EAAEC,EAAI0B,GAAMlP,GAAImP,EAAK5B,GAAKvN,IAE5B8vC,EAGT,SAASgxB,GAAqB9gE,EAAGkP,EAAIC,EAAIwN,GACvC,IAAIokD,EAAWxY,GAAI5rC,GACfqkD,EAAWxY,GAAI7rC,GACf7Y,EAAIi9D,EAAW/gE,EACf+D,EAAIi9D,EAAWhhE,EACfmD,EAAK49D,EAAW/gE,EAChB8+B,EAAKkiC,EAAWhhE,EAChBihE,GAAMD,EAAW7xD,EAAK4xD,EAAW7xD,GAAMlP,EACvCmJ,GAAM63D,EAAW9xD,EAAK6xD,EAAW5xD,GAAMnP,EAC3C,SAAS8vC,EAAUtiC,EAAGD,GACpB,MAAO,CAACzJ,EAAI0J,EAAIzJ,EAAIwJ,EAAI2B,EAAIC,EAAKpL,EAAIyJ,EAAI1J,EAAIyJ,GAK/C,OAHAuiC,EAAUxqB,OAAS,SAAS9X,EAAGD,GAC7B,MAAO,CAACpK,EAAKqK,EAAIsxB,EAAKvxB,EAAI0zD,EAAI93D,EAAK21B,EAAKtxB,EAAIrK,EAAKoK,IAE5CuiC,EAGM,SAAS,GAAWtd,GACjC,OAAO0uC,IAAkB,WAAa,OAAO1uC,IAAtC0uC,GAGF,SAASA,GAAkBC,GAChC,IAAI3uC,EAI+CyiC,EAGpCnlD,EAAI2V,EAAIE,EAEnBy7C,EACAC,EACAC,EACAx0D,EACAquD,EAZAn7D,EAAI,IACJwN,EAAI,IAAKD,EAAI,IACbkjD,EAAS,EAAGC,EAAM,EAClB2D,EAAc,EAAGC,EAAW,EAAGC,EAAa,EAC5C53C,EAAQ,EACR4kD,EAAQ,KAAMC,EAAU,GACxB3xD,EAAK,KAAkB4xD,EAAW,GAClC/B,EAAS,GAOb,SAASX,EAAW3R,GAClB,OAAOkU,EAAuBlU,EAAM,GAAKe,GAASf,EAAM,GAAKe,IAG/D,SAAS7oC,EAAO8nC,GAEd,OADAA,EAAQkU,EAAuBh8C,OAAO8nC,EAAM,GAAIA,EAAM,MACtC,CAACA,EAAM,GAAKc,GAASd,EAAM,GAAKc,IA+DlD,SAASwT,IACP,IAAIhM,EAASoL,GAAqB9gE,EAAG,EAAG,EAAG2c,GAAOvY,MAAM,KAAMouB,EAAQi+B,EAAQC,IAC1E5gB,GAAanzB,EAAQmkD,GAAuBD,IAAgB7gE,EAAGwN,EAAIkoD,EAAO,GAAInoD,EAAImoD,EAAO,GAAI/4C,GAKjG,OAJAs4C,EAASb,GAAcC,EAAaC,EAAUC,GAC9C8M,EAAmBnN,GAAQ1hC,EAASsd,GACpCwxB,EAAyBpN,GAAQe,EAAQoM,GACzCD,EAAkBO,GAASN,EAAkB3B,GACtCnqC,IAGT,SAASA,IAEP,OADAzoB,EAAQquD,EAAc,KACf4D,EAGT,OA3EAA,EAAWrQ,OAAS,SAASA,GAC3B,OAAO5hD,GAASquD,IAAgBzM,EAAS5hD,EAAQA,EAAQ8zD,GAnE7D,SAAyB3L,GACvB,OAAO,GAAY,CACjB7H,MAAO,SAAS5/C,EAAGD,GACjB,IAAIlS,EAAI45D,EAAOznD,EAAGD,GAClB,OAAOxP,KAAK2wD,OAAOtB,MAAM/xD,EAAE,GAAIA,EAAE,OA+DuCumE,CAAgB3M,EAAhB2M,CAAwBJ,EAAQJ,EAAgBK,EAAStG,EAAczM,QAGnJqQ,EAAWyC,QAAU,SAASt9C,GAC5B,OAAOxnB,UAAUC,QAAU6kE,EAAUt9C,EAAGq9C,OAAQ30D,EAAW2oB,KAAWisC,GAGxEzC,EAAW0C,SAAW,SAASv9C,GAC7B,OAAOxnB,UAAUC,QAAU8kE,EAAWv9C,EAAGrU,EAAKC,EAAK2V,EAAKE,EAAK,KAAM4P,KAAWksC,GAGhF1C,EAAW8C,UAAY,SAAS39C,GAC9B,OAAOxnB,UAAUC,QAAU6kE,GAAWt9C,EAAI,GAAWq9C,EAAQr9C,EAAIiqC,KAAYoT,EAAQ,KAAM,IAAmBhsC,KAAWgsC,EAAQrT,IAGnI6Q,EAAWK,WAAa,SAASl7C,GAC/B,OAAOxnB,UAAUC,QAAU8kE,EAAgB,MAALv9C,GAAarU,EAAKC,EAAK2V,EAAKE,EAAK,KAAM,IAAYo0C,GAAclqD,GAAMqU,EAAE,GAAG,GAAIpU,GAAMoU,EAAE,GAAG,GAAIuB,GAAMvB,EAAE,GAAG,GAAIyB,GAAMzB,EAAE,GAAG,IAAKqR,KAAiB,MAAN1lB,EAAa,KAAO,CAAC,CAACA,EAAIC,GAAK,CAAC2V,EAAIE,KAGrNo5C,EAAWz7D,MAAQ,SAAS4gB,GAC1B,OAAOxnB,UAAUC,QAAUqD,GAAKkkB,EAAGw9C,KAAc1hE,GAGnD++D,EAAWj8C,UAAY,SAASoB,GAC9B,OAAOxnB,UAAUC,QAAU6Q,GAAK0W,EAAE,GAAI3W,GAAK2W,EAAE,GAAIw9C,KAAc,CAACl0D,EAAGD,IAGrEwxD,EAAWrJ,OAAS,SAASxxC,GAC3B,OAAOxnB,UAAUC,QAAU8zD,EAASvsC,EAAE,GAAK,IAAMiqC,GAASuC,EAAMxsC,EAAE,GAAK,IAAMiqC,GAASuT,KAAc,CAACjR,EAASvC,GAASwC,EAAMxC,KAG/H6Q,EAAW9J,OAAS,SAAS/wC,GAC3B,OAAOxnB,UAAUC,QAAU03D,EAAcnwC,EAAE,GAAK,IAAMiqC,GAASmG,EAAWpwC,EAAE,GAAK,IAAMiqC,GAASoG,EAAarwC,EAAEvnB,OAAS,EAAIunB,EAAE,GAAK,IAAMiqC,GAAU,EAAGuT,KAAc,CAACrN,EAAcnG,GAASoG,EAAWpG,GAASqG,EAAarG,KAG/N6Q,EAAWjI,MAAQ,SAAS5yC,GAC1B,OAAOxnB,UAAUC,QAAUggB,EAAQuH,EAAI,IAAMiqC,GAASuT,KAAc/kD,EAAQuxC,IAG9E6Q,EAAWp4C,UAAY,SAASzC,GAC9B,OAAOxnB,UAAUC,QAAUykE,EAAkBO,GAASN,EAAkB3B,EAASx7C,EAAIA,GAAIqR,KAAW,GAAKmqC,IAG3GX,EAAWM,UAAY,SAASnnD,EAAQjc,GACtC,OAAOojE,GAAUN,EAAY7mD,EAAQjc,IAGvC8iE,EAAWO,QAAU,SAASphE,EAAMjC,GAClC,OAAOqjE,GAAQP,EAAY7gE,EAAMjC,IAGnC8iE,EAAWQ,SAAW,SAASlxD,EAAOpS,GACpC,OAAOsjE,GAASR,EAAY1wD,EAAOpS,IAGrC8iE,EAAWS,UAAY,SAASlxD,EAAQrS,GACtC,OAAOujE,GAAUT,EAAYzwD,EAAQrS,IAkBhC,WAGL,OAFAu2B,EAAU2uC,EAAU/8D,MAAMrG,KAAMrB,WAChCqiE,EAAWz5C,OAASkN,EAAQlN,QAAUA,EAC/Bo8C,KC9JJ,SAASI,GAAgBX,GAC9B,IAAIlK,EAAO,EACPM,EAAO,GAAK,EACZ58D,EAAIumE,GAAkBC,GACtB9kE,EAAI1B,EAAEs8D,EAAMM,GAMhB,OAJAl7D,EAAE0lE,UAAY,SAAS79C,GACrB,OAAOxnB,UAAUC,OAAShC,EAAEs8D,EAAO/yC,EAAE,GAAKiqC,GAASoJ,EAAOrzC,EAAE,GAAKiqC,IAAW,CAAC8I,EAAO/I,GAASqJ,EAAOrJ,KAG/F7xD,ECTF,SAAS2lE,GAAkBlyD,EAAI6V,GACpC,IAAI23C,EAAM9U,GAAI14C,GAAK9T,GAAKshE,EAAM9U,GAAI7iC,IAAO,EAGzC,GAAIngB,GAAIxJ,GvCRW,KuCQG,OCNjB,SAAiCi7D,GACtC,IAAIE,EAAU5O,GAAI0O,GAElB,SAASjC,EAAQvE,EAAQC,GACvB,MAAO,CAACD,EAAS0G,EAAS3O,GAAIkI,GAAOyG,GAOvC,OAJAnC,EAAQ1vC,OAAS,SAAS9X,EAAGD,GAC3B,MAAO,CAACC,EAAI2pD,EAAS9I,GAAK9gD,EAAI4pD,KAGzBnC,EDLsBiN,CAAwBnyD,GAErD,IAAIlV,EAAI,EAAI0iE,GAAO,EAAIthE,EAAIshE,GAAMr4C,EAAK,GAAKrqB,GAAKoB,EAEhD,SAASw2B,EAAQhlB,EAAGD,GAClB,IAAIlS,EAAI,GAAKT,EAAI,EAAIoB,EAAIwsD,GAAIj7C,IAAMvR,EACnC,MAAO,CAACX,EAAImtD,GAAIh7C,GAAKxR,GAAIipB,EAAK5pB,EAAIktD,GAAI/6C,IAQxC,OALAglB,EAAQlN,OAAS,SAAS9X,EAAGD,GAC3B,IAAI20D,EAAMj9C,EAAK1X,EACf,MAAO,CAAC86C,GAAM76C,EAAGhI,GAAI08D,IAAQlmE,EAAI,GAAKkmE,GAAM7T,IAAMzzD,GAAK4S,EAAIA,EAAI00D,EAAMA,GAAOlmE,EAAIA,IAAM,EAAIA,MAGrFw2B,EAGM,kBACb,OAAOsvC,GAAgBE,IAClB1+D,MAAM,SACNoyD,OAAO,CAAC,EAAG,WE1BH,cACb,OAAOyM,KACFJ,UAAU,CAAC,KAAM,OACjBz+D,MAAM,MACNwf,UAAU,CAAC,IAAK,MAChBmyC,OAAO,CAAC,GAAI,IACZS,OAAO,EAAE,GAAK,QCgBN,kBACb,IAAI5oD,EACAquD,EACoBiH,EAC+DC,EACDC,EAClFlV,EAHAmV,EAAUC,KACVC,EAASN,KAAiBlN,OAAO,CAAC,IAAK,IAAIS,OAAO,EAAE,EAAG,OAAOqM,UAAU,CAAC,GAAI,KAC7EW,EAASP,KAAiBlN,OAAO,CAAC,IAAK,IAAIS,OAAO,EAAE,EAAG,OAAOqM,UAAU,CAAC,EAAG,KACrEY,EAAc,CAACvV,MAAO,SAAS5/C,EAAGD,GAAK6/C,EAAQ,CAAC5/C,EAAGD,KAE9D,SAASq1D,EAAU1T,GACjB,IAAI1hD,EAAI0hD,EAAY,GAAI3hD,EAAI2hD,EAAY,GACxC,OAAO9B,EAAQ,KACVgV,EAAahV,MAAM5/C,EAAGD,GAAI6/C,IACvBiV,EAAYjV,MAAM5/C,EAAGD,GAAI6/C,KACzBkV,EAAYlV,MAAM5/C,EAAGD,GAAI6/C,GAmEnC,SAAS73B,IAEP,OADAzoB,EAAQquD,EAAc,KACfyH,EAGT,OArEAA,EAAUt9C,OAAS,SAAS4pC,GAC1B,IAAIlvD,EAAIuiE,EAAQj/D,QACZ7H,EAAI8mE,EAAQz/C,YACZtV,GAAK0hD,EAAY,GAAKzzD,EAAE,IAAMuE,EAC9BuN,GAAK2hD,EAAY,GAAKzzD,EAAE,IAAMuE,EAClC,OAAQuN,GAAK,KAASA,EAAI,MAASC,IAAM,MAASA,GAAK,KAAQi1D,EACzDl1D,GAAK,MAASA,EAAI,MAASC,IAAM,MAASA,GAAK,KAAQk1D,EACvDH,GAASj9C,OAAO4pC,IAGxB0T,EAAUlU,OAAS,SAASA,GAC1B,OAAO5hD,GAASquD,IAAgBzM,EAAS5hD,GA5C1B+1D,EA4CoD,CAACN,EAAQ7T,OAAOyM,EAAczM,GAAS+T,EAAO/T,OAAOA,GAASgU,EAAOhU,OAAOA,IA3C7I1yD,EAAI6mE,EAAQlmE,OA2CmCmQ,EA1C5C,CACLsgD,MAAO,SAAS5/C,EAAGD,GAAiB,IAAZ,IAAIhT,GAAK,IAAYA,EAAIyB,GAAG6mE,EAAQtoE,GAAG6yD,MAAM5/C,EAAGD,IACxEyhD,OAAQ,WAAyB,IAAZ,IAAIz0D,GAAK,IAAYA,EAAIyB,GAAG6mE,EAAQtoE,GAAGy0D,UAC5D/B,UAAW,WAAyB,IAAZ,IAAI1yD,GAAK,IAAYA,EAAIyB,GAAG6mE,EAAQtoE,GAAG0yD,aAC/DE,QAAS,WAAyB,IAAZ,IAAI5yD,GAAK,IAAYA,EAAIyB,GAAG6mE,EAAQtoE,GAAG4yD,WAC7D2C,aAAc,WAAyB,IAAZ,IAAIv1D,GAAK,IAAYA,EAAIyB,GAAG6mE,EAAQtoE,GAAGu1D,gBAClEC,WAAY,WAAyB,IAAZ,IAAIx1D,GAAK,IAAYA,EAAIyB,GAAG6mE,EAAQtoE,GAAGw1D,gBARpE,IAAmB8S,EACb7mE,GA8CJ4mE,EAAUj8C,UAAY,SAASzC,GAC7B,OAAKxnB,UAAUC,QACf4lE,EAAQ57C,UAAUzC,GAAIu+C,EAAO97C,UAAUzC,GAAIw+C,EAAO/7C,UAAUzC,GACrDqR,KAFuBgtC,EAAQ57C,aAKxCi8C,EAAUt/D,MAAQ,SAAS4gB,GACzB,OAAKxnB,UAAUC,QACf4lE,EAAQj/D,MAAM4gB,GAAIu+C,EAAOn/D,MAAU,IAAJ4gB,GAAWw+C,EAAOp/D,MAAM4gB,GAChD0+C,EAAU9/C,UAAUy/C,EAAQz/C,cAFLy/C,EAAQj/D,SAKxCs/D,EAAU9/C,UAAY,SAASoB,GAC7B,IAAKxnB,UAAUC,OAAQ,OAAO4lE,EAAQz/C,YACtC,IAAI9iB,EAAIuiE,EAAQj/D,QAASkK,GAAK0W,EAAE,GAAI3W,GAAK2W,EAAE,GAiB3C,OAfAk+C,EAAeG,EACVz/C,UAAUoB,GACVk7C,WAAW,CAAC,CAAC5xD,EAAI,KAAQxN,EAAGuN,EAAI,KAAQvN,GAAI,CAACwN,EAAI,KAAQxN,EAAGuN,EAAI,KAAQvN,KACxE0uD,OAAOiU,GAEZN,EAAcI,EACT3/C,UAAU,CAACtV,EAAI,KAAQxN,EAAGuN,EAAI,KAAQvN,IACtCo/D,WAAW,CAAC,CAAC5xD,EAAI,KAAQxN,E1C7Eb,K0C6E0BuN,EAAI,IAAQvN,E1C7EtC,M0C6EoD,CAACwN,EAAI,KAAQxN,E1C7EjE,K0C6E8EuN,EAAI,KAAQvN,E1C7E1F,Q0C8EZ0uD,OAAOiU,GAEZL,EAAcI,EACT5/C,UAAU,CAACtV,EAAI,KAAQxN,EAAGuN,EAAI,KAAQvN,IACtCo/D,WAAW,CAAC,CAAC5xD,EAAI,KAAQxN,E1ClFb,K0CkF0BuN,EAAI,KAAQvN,E1ClFtC,M0CkFoD,CAACwN,EAAI,KAAQxN,E1ClFjE,K0CkF8EuN,EAAI,KAAQvN,E1ClF1F,Q0CmFZ0uD,OAAOiU,GAELptC,KAGTqtC,EAAUvD,UAAY,SAASnnD,EAAQjc,GACrC,OAAOojE,GAAUuD,EAAW1qD,EAAQjc,IAGtC2mE,EAAUtD,QAAU,SAASphE,EAAMjC,GACjC,OAAOqjE,GAAQsD,EAAW1kE,EAAMjC,IAGlC2mE,EAAUrD,SAAW,SAASlxD,EAAOpS,GACnC,OAAOsjE,GAASqD,EAAWv0D,EAAOpS,IAGpC2mE,EAAUpD,UAAY,SAASlxD,EAAQrS,GACrC,OAAOujE,GAAUoD,EAAWt0D,EAAQrS,IAQ/B2mE,EAAUt/D,MAAM,OC3GlB,SAASw/D,GAAax/D,GAC3B,OAAO,SAASkK,EAAGD,GACjB,IAAIwmD,EAAKxL,GAAI/6C,GACTwmD,EAAKzL,GAAIh7C,GACTvN,EAAIsD,EAAMywD,EAAKC,GACnB,MAAO,CACLh0D,EAAIg0D,EAAKxL,GAAIh7C,GACbxN,EAAIwoD,GAAIj7C,KAKP,SAASw1D,GAAgBjM,GAC9B,OAAO,SAAStpD,EAAGD,GACjB,IAAIosC,EAAI,GAAKnsC,EAAIA,EAAID,EAAIA,GACrB3S,EAAIk8D,EAAMnd,GACVqpB,EAAKxa,GAAI5tD,GACTkiB,EAAKyrC,GAAI3tD,GACb,MAAO,CACLytD,GAAM76C,EAAIw1D,EAAIrpB,EAAI78B,GAClBuxC,GAAK1U,GAAKpsC,EAAIy1D,EAAKrpB,KClBlB,IAAIspB,GAAwBH,IAAa,SAASI,GACvD,OAAO,GAAK,GAAK,EAAIA,OAGvBD,GAAsB39C,OAASy9C,IAAgB,SAASppB,GACtD,OAAO,EAAI0U,GAAK1U,EAAI,MAGP,kBACb,OAAO,GAAWspB,IACb3/D,MAAM,QACNu+D,UAAU,UCXNsB,GAA0BL,IAAa,SAASloE,GACzD,OAAQA,EAAIuxD,GAAKvxD,KAAOA,EAAI4tD,GAAI5tD,MAGlCuoE,GAAwB79C,OAASy9C,IAAgB,SAASppB,GACxD,OAAOA,KAGM,kBACb,OAAO,GAAWwpB,IACb7/D,MAAM,SACNu+D,UAAU,UCXV,SAASuB,GAAY3S,EAAQC,GAClC,MAAO,CAACD,EAAQ,GAAI3vC,IAAKktC,GAAS0C,GAAO,KAG3C0S,GAAY99C,OAAS,SAAS9X,EAAGD,GAC/B,MAAO,CAACC,EAAG,EAAI4gD,GAAK5nC,GAAIjZ,IAAMygD,KAGjB,kBACb,OAAOqV,GAAmBD,IACrB9/D,MAAM,IAAM,KAGZ,SAAS+/D,GAAmB7wC,GACjC,IAKe1iB,EAAI2V,EAAIE,EALnBhrB,EAAI,GAAW63B,GACfkjC,EAAS/6D,EAAE+6D,OACXpyD,EAAQ3I,EAAE2I,MACVwf,EAAYnoB,EAAEmoB,UACds8C,EAAazkE,EAAEykE,WACfvvD,EAAK,KAkBT,SAASyzD,IACP,IAAItjE,EAAI,GAAKsD,IACT7H,EAAId,EAAE,GAASA,EAAEs6D,UAAU3vC,OAAO,CAAC,EAAG,KAC1C,OAAO85C,EAAiB,MAANvvD,EACZ,CAAC,CAACpU,EAAE,GAAKuE,EAAGvE,EAAE,GAAKuE,GAAI,CAACvE,EAAE,GAAKuE,EAAGvE,EAAE,GAAKuE,IAAMwyB,IAAY4wC,GAC3D,CAAC,CAACziE,KAAK+B,IAAIjH,EAAE,GAAKuE,EAAG6P,GAAKC,GAAK,CAACnP,KAAK8B,IAAIhH,EAAE,GAAKuE,EAAGylB,GAAKE,IACxD,CAAC,CAAC9V,EAAIlP,KAAK+B,IAAIjH,EAAE,GAAKuE,EAAG8P,IAAM,CAAC2V,EAAI9kB,KAAK8B,IAAIhH,EAAE,GAAKuE,EAAG2lB,MAG/D,OAzBAhrB,EAAE2I,MAAQ,SAAS4gB,GACjB,OAAOxnB,UAAUC,QAAU2G,EAAM4gB,GAAIo/C,KAAYhgE,KAGnD3I,EAAEmoB,UAAY,SAASoB,GACrB,OAAOxnB,UAAUC,QAAUmmB,EAAUoB,GAAIo/C,KAAYxgD,KAGvDnoB,EAAE+6D,OAAS,SAASxxC,GAClB,OAAOxnB,UAAUC,QAAU+4D,EAAOxxC,GAAIo/C,KAAY5N,KAGpD/6D,EAAEykE,WAAa,SAASl7C,GACtB,OAAOxnB,UAAUC,QAAgB,MAALunB,EAAYrU,EAAKC,EAAK2V,EAAKE,EAAK,MAAQ9V,GAAMqU,EAAE,GAAG,GAAIpU,GAAMoU,EAAE,GAAG,GAAIuB,GAAMvB,EAAE,GAAG,GAAIyB,GAAMzB,EAAE,GAAG,IAAMo/C,KAAkB,MAANzzD,EAAa,KAAO,CAAC,CAACA,EAAIC,GAAK,CAAC2V,EAAIE,KAY7K29C,IC9CT,SAASC,GAAKh2D,GACZ,OAAOuT,IAAKktC,GAASzgD,GAAK,GAGrB,SAASi2D,GAAkB1zD,EAAI6V,GACpC,IAAI03C,EAAM9U,GAAIz4C,GACV9T,EAAI8T,IAAO6V,EAAK6iC,GAAI14C,GAAM,GAAIutD,EAAM9U,GAAI5iC,IAAO,GAAI49C,GAAK59C,GAAM49C,GAAKzzD,IACnE5P,EAAIm9D,EAAM,GAAIkG,GAAKzzD,GAAK9T,GAAKA,EAEjC,IAAKA,EAAG,OAAOonE,GAEf,SAAS5wC,EAAQhlB,EAAGD,GACdrN,EAAI,EAASqN,E/ChBA,K+CgBKygD,KAAkBzgD,E/ChBvB,K+CgB4BygD,IAClCzgD,EAAIygD,G/CjBE,O+CiBgBzgD,EAAIygD,G/CjBpB,M+CkBjB,IAAI3yD,EAAI6E,EAAI,GAAIqjE,GAAKh2D,GAAIvR,GACzB,MAAO,CAACX,EAAImtD,GAAIxsD,EAAIwR,GAAItN,EAAI7E,EAAIktD,GAAIvsD,EAAIwR,IAQ1C,OALAglB,EAAQlN,OAAS,SAAS9X,EAAGD,GAC3B,IAAIk2D,EAAKvjE,EAAIqN,EAAGlS,EAAI,GAAKW,GAAK,GAAKwR,EAAIA,EAAIi2D,EAAKA,GAChD,MAAO,CAACpb,GAAM76C,EAAGhI,GAAIi+D,IAAOznE,EAAI,GAAKynE,GAAK,EAAIrV,GAAK,GAAIluD,EAAI7E,EAAG,EAAIW,IAAMgyD,KAGnEx7B,EAGM,kBACb,OAAOsvC,GAAgB0B,IAClBlgE,MAAM,OACNy+D,UAAU,CAAC,GAAI,MC/Bf,SAAS2B,GAAmBjT,EAAQC,GACzC,MAAO,CAACD,EAAQC,GAGlBgT,GAAmBp+C,OAASo+C,GAEb,kBACb,OAAO,GAAWA,IACbpgE,MAAM,SCNN,SAASqgE,GAAoB7zD,EAAI6V,GACtC,IAAI03C,EAAM9U,GAAIz4C,GACV9T,EAAI8T,IAAO6V,EAAK6iC,GAAI14C,IAAOutD,EAAM9U,GAAI5iC,KAAQA,EAAK7V,GAClD0e,EAAI6uC,EAAMrhE,EAAI8T,EAElB,GAAItK,GAAIxJ,GjDTW,KiDSG,OAAO0nE,GAE7B,SAASlxC,EAAQhlB,EAAGD,GAClB,IAAIq2D,EAAKp1C,EAAIjhB,EAAGiD,EAAKxU,EAAIwR,EACzB,MAAO,CAACo2D,EAAKpb,GAAIh4C,GAAKge,EAAIo1C,EAAKrb,GAAI/3C,IAQrC,OALAgiB,EAAQlN,OAAS,SAAS9X,EAAGD,GAC3B,IAAIq2D,EAAKp1C,EAAIjhB,EACb,MAAO,CAAC86C,GAAM76C,EAAGhI,GAAIo+D,IAAO5nE,EAAI,GAAK4nE,GAAKp1C,EAAI,GAAKxyB,GAAK,GAAKwR,EAAIA,EAAIo2D,EAAKA,KAGrEpxC,EAGM,kBACb,OAAOsvC,GAAgB6B,IAClBrgE,MAAM,SACNoyD,OAAO,CAAC,EAAG,WCxBdmO,GAAK,SACLC,IAAM,QACNC,GAAK,OACLC,GAAK,QACL7tB,GAAI,GAAK,GAAK,EAGX,SAAS8tB,GAAcxT,EAAQC,GACpC,IAAIl2D,EAAI6zD,GAAKlY,GAAIqS,GAAIkI,IAAOwT,EAAK1pE,EAAIA,EAAG2pE,EAAKD,EAAKA,EAAKA,EACvD,MAAO,CACLzT,EAASlI,GAAI/tD,IAAM27C,IAAK0tB,GAAK,EAAIC,GAAKI,EAAKC,GAAM,EAAIJ,GAAK,EAAIC,GAAKE,KACnE1pE,GAAKqpE,GAAKC,GAAKI,EAAKC,GAAMJ,GAAKC,GAAKE,KAIxCD,GAAc3+C,OAAS,SAAS9X,EAAGD,GAEjC,IADA,IACgBytB,EADZxgC,EAAI+S,EAAG22D,EAAK1pE,EAAIA,EAAG2pE,EAAKD,EAAKA,EAAKA,EAC7B3pE,EAAI,EAAmBA,EAZjB,KAesB4pE,GAAZD,GAAvB1pE,GAAKwgC,GAFAxgC,GAAKqpE,GAAKC,GAAKI,EAAKC,GAAMJ,GAAKC,GAAKE,IAAO32D,IAC1Cs2D,GAAK,EAAIC,GAAKI,EAAKC,GAAM,EAAIJ,GAAK,EAAIC,GAAKE,KACjB1pE,GAAa0pE,EAAKA,IAC9C1+D,GAAIw1B,GlDvBU,UkDmB8BzgC,GAMlD,MAAO,CACL47C,GAAI3oC,GAAKq2D,GAAK,EAAIC,GAAKI,EAAKC,GAAM,EAAIJ,GAAK,EAAIC,GAAKE,IAAO3b,GAAI/tD,GAC/D6zD,GAAK7F,GAAIhuD,GAAK27C,MAIH,kBACb,OAAO,GAAW8tB,IACb3gE,MAAM,UC9BN,SAAS8gE,GAAY52D,EAAGD,GAC7B,IAAIymD,EAAKzL,GAAIh7C,GAAIvN,EAAIuoD,GAAI/6C,GAAKwmD,EAC9B,MAAO,CAACA,EAAKxL,GAAIh7C,GAAKxN,EAAGwoD,GAAIj7C,GAAKvN,GAGpCokE,GAAY9+C,OAASy9C,GAAgB3U,IAEtB,kBACb,OAAO,GAAWgW,IACb9gE,MAAM,SACNu+D,UAAU,KCTjB,SAAS,GAAewC,EAAIC,EAAIC,EAAIC,GAClC,OAAc,IAAPH,GAAmB,IAAPC,GAAmB,IAAPC,GAAmB,IAAPC,EAAW,GAAW,GAAY,CAC3EpX,MAAO,SAAS5/C,EAAGD,GACjBxP,KAAK2wD,OAAOtB,MAAM5/C,EAAI62D,EAAKE,EAAIh3D,EAAI+2D,EAAKE,MAK/B,kBACb,IACe10D,EAAI2V,EAAIE,EAEnB7Y,EACAquD,EACA4D,EALA/+D,EAAI,EAAGukE,EAAK,EAAGC,EAAK,EAAGx1D,EAAK,EAAGC,EAAK,EAAG6gC,EAAY,GACnDjgC,EAAK,KACL4xD,EAAW,GAKf,SAASlsC,IAEP,OADAzoB,EAAQquD,EAAc,KACf4D,EAGT,OAAOA,EAAa,CAClBrQ,OAAQ,SAASA,GACf,OAAO5hD,GAASquD,IAAgBzM,EAAS5hD,EAAQA,EAAQgjC,EAAU2xB,EAAStG,EAAczM,KAE5F+S,SAAU,SAASv9C,GACjB,OAAOxnB,UAAUC,QAAU8kE,EAAWv9C,EAAGrU,EAAKC,EAAK2V,EAAKE,EAAK,KAAM4P,KAAWksC,GAEhFrC,WAAY,SAASl7C,GACnB,OAAOxnB,UAAUC,QAAU8kE,EAAgB,MAALv9C,GAAarU,EAAKC,EAAK2V,EAAKE,EAAK,KAAM,IAAYo0C,GAAclqD,GAAMqU,EAAE,GAAG,GAAIpU,GAAMoU,EAAE,GAAG,GAAIuB,GAAMvB,EAAE,GAAG,GAAIyB,GAAMzB,EAAE,GAAG,IAAKqR,KAAiB,MAAN1lB,EAAa,KAAO,CAAC,CAACA,EAAIC,GAAK,CAAC2V,EAAIE,KAErNriB,MAAO,SAAS4gB,GACd,OAAOxnB,UAAUC,QAAUmzC,EAAY,IAAgB9vC,GAAKkkB,GAAKlV,EAAIhP,EAAIiP,EAAIs1D,EAAIC,GAAKjvC,KAAWv1B,GAEnG8iB,UAAW,SAASoB,GAClB,OAAOxnB,UAAUC,QAAUmzC,EAAY,GAAe9vC,EAAIgP,EAAIhP,EAAIiP,EAAIs1D,GAAMrgD,EAAE,GAAIsgD,GAAMtgD,EAAE,IAAKqR,KAAW,CAACgvC,EAAIC,IAEjHC,SAAU,SAASvgD,GACjB,OAAOxnB,UAAUC,QAAUmzC,EAAY,GAAe9vC,GAAKgP,EAAKkV,GAAK,EAAI,GAAIlkB,EAAIiP,EAAIs1D,EAAIC,GAAKjvC,KAAWvmB,EAAK,GAEhH01D,SAAU,SAASxgD,GACjB,OAAOxnB,UAAUC,QAAUmzC,EAAY,GAAe9vC,EAAIgP,EAAIhP,GAAKiP,EAAKiV,GAAK,EAAI,GAAIqgD,EAAIC,GAAKjvC,KAAWtmB,EAAK,GAEhHowD,UAAW,SAASnnD,EAAQjc,GAC1B,OAAOojE,GAAUN,EAAY7mD,EAAQjc,IAEvCqjE,QAAS,SAASphE,EAAMjC,GACtB,OAAOqjE,GAAQP,EAAY7gE,EAAMjC,IAEnCsjE,SAAU,SAASlxD,EAAOpS,GACxB,OAAOsjE,GAASR,EAAY1wD,EAAOpS,IAErCujE,UAAW,SAASlxD,EAAQrS,GAC1B,OAAOujE,GAAUT,EAAYzwD,EAAQrS,MCvDpC,SAAS0oE,GAAiBlU,EAAQC,GACvC,IAAIoP,EAAOpP,EAAMA,EAAKkU,EAAO9E,EAAOA,EACpC,MAAO,CACLrP,GAAU,MAAS,QAAWqP,EAAO8E,GAAoBA,GAAQ,QAAW9E,EAAO,QAAW8E,GAAhD,UAC9ClU,GAAO,SAAWoP,GAAQ,QAAW8E,GAAoB,QAAW9E,EAAtB,QAA6B,QAAW8E,MAI1FD,GAAiBr/C,OAAS,SAAS9X,EAAGD,GACpC,IAAqBytB,EAAjB01B,EAAMnjD,EAAGhT,EAAI,GACjB,EAAG,CACD,IAAIulE,EAAOpP,EAAMA,EAAKkU,EAAO9E,EAAOA,EACpCpP,GAAO11B,GAAS01B,GAAO,SAAWoP,GAAQ,QAAW8E,GAAoB,QAAW9E,EAAtB,QAA6B,QAAW8E,KAAUr3D,IAC3G,SAAWuyD,GAAQ,QAAe8E,GAAwB,QAAe9E,EAA/B,QAAsC,QAAW,GAAK8E,WAC9Fp/D,GAAIw1B,GrDjBM,QqDiBgBzgC,EAAI,GACvC,MAAO,CACLiT,GAAK,OAAUsyD,EAAOpP,EAAMA,IAAoBoP,GAAoBA,EAAOA,EAAOA,GAAQ,QAAW,QAAWA,GAAvD,SAApB,UACrCpP,IAIW,kBACb,OAAO,GAAWiU,IACbrhE,MAAM,UCtBN,SAASuhE,GAAgBr3D,EAAGD,GACjC,MAAO,CAACg7C,GAAIh7C,GAAKi7C,GAAIh7C,GAAIg7C,GAAIj7C,IAG/Bs3D,GAAgBv/C,OAASy9C,GAAgB1U,IAE1B,kBACb,OAAO,GAAWwW,IACbvhE,MAAM,OACNu+D,UAAU,YCTV,SAASiD,GAAiBt3D,EAAGD,GAClC,IAAIymD,EAAKzL,GAAIh7C,GAAIvN,EAAI,EAAIuoD,GAAI/6C,GAAKwmD,EAClC,MAAO,CAACA,EAAKxL,GAAIh7C,GAAKxN,EAAGwoD,GAAIj7C,GAAKvN,GAGpC8kE,GAAiBx/C,OAASy9C,IAAgB,SAASppB,GACjD,OAAO,EAAIyU,GAAKzU,MAGH,kBACb,OAAO,GAAWmrB,IACbxhE,MAAM,KACNu+D,UAAU,MCbV,SAASkD,GAAsBtU,EAAQC,GAC5C,MAAO,CAAC,GAAI5vC,IAAKktC,GAAS0C,GAAO,KAAMD,GAGzCsU,GAAsBz/C,OAAS,SAAS9X,EAAGD,GACzC,MAAO,EAAEA,EAAG,EAAI6gD,GAAK5nC,GAAIhZ,IAAMwgD,KAGlB,kBACb,IAAIrzD,EAAI0oE,GAAmB0B,IACvBrP,EAAS/6D,EAAE+6D,OACXT,EAASt6D,EAAEs6D,OAUf,OARAt6D,EAAE+6D,OAAS,SAASxxC,GAClB,OAAOxnB,UAAUC,OAAS+4D,EAAO,EAAExxC,EAAE,GAAIA,EAAE,KAAsB,EAAdA,EAAIwxC,KAAa,IAAKxxC,EAAE,KAG7EvpB,EAAEs6D,OAAS,SAAS/wC,GAClB,OAAOxnB,UAAUC,OAASs4D,EAAO,CAAC/wC,EAAE,GAAIA,EAAE,GAAIA,EAAEvnB,OAAS,EAAIunB,EAAE,GAAK,GAAK,KAAsB,EAAdA,EAAI+wC,KAAa,GAAI/wC,EAAE,GAAIA,EAAE,GAAK,KAG9G+wC,EAAO,CAAC,EAAG,EAAG,KAChB3xD,MAAM,UCzBE,eACb,OAAOkK,GCCM,eACb,GAAiB,MAAbsiC,EAAmB,OAAO,GAC9B,IAAIjgC,EACAC,EACAu0D,EAAKv0B,EAAUxsC,MAAM,GACrBghE,EAAKx0B,EAAUxsC,MAAM,GACrB4L,EAAK4gC,EAAUhtB,UAAU,GACzB3T,EAAK2gC,EAAUhtB,UAAU,GAC7B,OAAO,SAAS2W,EAAOl/B,GAChBA,IAAGsV,EAAKC,EAAK,GAClB,IAAI/O,EAAI,EAAG/E,EAAIy9B,EAAM98B,OAAQwP,EAAS,IAAIxM,MAAM3D,GAGhD,IAFAmQ,EAAO,IAAM0D,GAAM4pB,EAAM,IAAM4qC,EAAKn1D,EACpC/C,EAAO,IAAM2D,GAAM2pB,EAAM,IAAM6qC,EAAKn1D,EAC7BpO,EAAI/E,GAAGmQ,EAAOpL,GAAK04B,EAAM14B,KAAMA,EACtC,OAAOoL,ICbI,iBAEb,MADiB,iBAANnR,IAAgBA,EAAIgqE,EAASC,QAAQjqE,IAC9B,uBAAXA,EAAE8E,KACH,CAACA,KAAM,oBAAqBynB,SAAUvsB,EAAE20D,WAAWrrD,KAAI,SAAStJ,GAAK,OAAO,GAAQgqE,EAAUhqE,OAC9F,GAAQgqE,EAAUhqE,IAG1B,SAAS,GAAQgqE,EAAUhqE,GACzB,IAAI2O,EAAK3O,EAAE2O,GACPu7D,EAAOlqE,EAAEkqE,KACTC,EAA6B,MAAhBnqE,EAAEmqE,WAAqB,GAAKnqE,EAAEmqE,WAC3C1W,EAAW,GAAOuW,EAAUhqE,GAChC,OAAa,MAAN2O,GAAsB,MAARu7D,EAAe,CAACplE,KAAM,UAAWqlE,WAAYA,EAAY1W,SAAUA,GAC1E,MAARyW,EAAe,CAACplE,KAAM,UAAW6J,GAAIA,EAAIw7D,WAAYA,EAAY1W,SAAUA,GAC3E,CAAC3uD,KAAM,UAAW6J,GAAIA,EAAIu7D,KAAMA,EAAMC,WAAYA,EAAY1W,SAAUA,GAGzE,SAAS,GAAOuW,EAAUhqE,GAC/B,IAAIoqE,EAAiB,GAAUJ,EAASl1B,WACpCu1B,EAAOL,EAASK,KAEpB,SAAS/Y,EAAI/xD,EAAGw7D,GACVA,EAAOp5D,QAAQo5D,EAAO34C,MAC1B,IAAK,IAAItZ,EAAIuhE,EAAK9qE,EAAI,GAAKA,EAAIA,GAAIyF,EAAI,EAAGhE,EAAI8H,EAAEnH,OAAQqD,EAAIhE,IAAKgE,EAC/D+1D,EAAOl2D,KAAKulE,EAAethE,EAAE9D,GAAIA,IAE/BzF,EAAI,GC7BG,cAEb,IADA,IAAIkB,EAAGsF,EAAIY,EAAMhF,OAAQpC,EAAIwG,EAAI/E,EAC1BzB,IAAMwG,GAAGtF,EAAIkG,EAAMpH,GAAIoH,EAAMpH,KAAOoH,EAAMZ,GAAIY,EAAMZ,GAAKtF,ED2BnD,CAAQs6D,EAAQ/5D,GAG7B,SAASoxD,EAAM/wD,GACb,OAAO+oE,EAAe/oE,GAGxB,SAASstD,EAAK0b,GAEZ,IADA,IAAItP,EAAS,GACJx7D,EAAI,EAAGyB,EAAIqpE,EAAK1oE,OAAQpC,EAAIyB,IAAKzB,EAAG+xD,EAAI+Y,EAAK9qE,GAAIw7D,GAE1D,OADIA,EAAOp5D,OAAS,GAAGo5D,EAAOl2D,KAAKk2D,EAAO,IACnCA,EAGT,SAASN,EAAK4P,GAEZ,IADA,IAAItP,EAASpM,EAAK0b,GACXtP,EAAOp5D,OAAS,GAAGo5D,EAAOl2D,KAAKk2D,EAAO,IAC7C,OAAOA,EAGT,SAAS5lC,EAAQk1C,GACf,OAAOA,EAAK/gE,IAAImxD,GAkBlB,OAfA,SAAShH,EAASzzD,GAChB,IAAmBk0D,EAAfpvD,EAAO9E,EAAE8E,KACb,OAAQA,GACN,IAAK,qBAAsB,MAAO,CAACA,KAAMA,EAAM6vD,WAAY30D,EAAE20D,WAAWrrD,IAAImqD,IAC5E,IAAK,QAASS,EAAc9B,EAAMpyD,EAAEk0D,aAAc,MAClD,IAAK,aAAcA,EAAcl0D,EAAEk0D,YAAY5qD,IAAI8oD,GAAQ,MAC3D,IAAK,aAAc8B,EAAcvF,EAAK3uD,EAAEqqE,MAAO,MAC/C,IAAK,kBAAmBnW,EAAcl0D,EAAEqqE,KAAK/gE,IAAIqlD,GAAO,MACxD,IAAK,UAAWuF,EAAc/+B,EAAQn1B,EAAEqqE,MAAO,MAC/C,IAAK,eAAgBnW,EAAcl0D,EAAEqqE,KAAK/gE,IAAI6rB,GAAU,MACxD,QAAS,OAAO,KAElB,MAAO,CAACrwB,KAAMA,EAAMovD,YAAaA,GAG5BT,CAASzzD,GEpEH,qBACb,IAAIsqE,EAAe,GACfC,EAAkB,GAClBC,EAAgB,GAChBC,EAAY,GACZC,GAAc,EAmDlB,SAASC,EAAMH,EAAeD,GAC5B,IAAK,IAAIvlE,KAAKwlE,EAAe,CAC3B,IAAItlE,EAAIslE,EAAcxlE,UACfulE,EAAgBrlE,EAAEsE,cAClBtE,EAAEsE,aACFtE,EAAEuE,IACTvE,EAAEf,SAAQ,SAAS5E,GAAK+qE,EAAa/qE,EAAI,GAAKA,EAAIA,GAAK,KACvDkrE,EAAU5lE,KAAKK,IAQnB,OA/DAmlE,EAAKlmE,SAAQ,SAAS5E,EAAGwG,GACvB,IAAyCtF,EAArC6wD,EAAM0Y,EAASK,KAAK9qE,EAAI,GAAKA,EAAIA,GACjC+xD,EAAI3vD,OAAS,IAAM2vD,EAAI,GAAG,KAAOA,EAAI,GAAG,KAC1C7wD,EAAI4pE,IAAOK,GAAaL,EAAKK,GAAcnrE,EAAG8qE,EAAKtkE,GAAKtF,MAI5D4pE,EAAKlmE,SAAQ,SAAS5E,GACpB,IAGI2F,EAAGsuB,EAHHppB,EAiCN,SAAc7K,GACZ,IAAsDg8D,EAAlDjK,EAAM0Y,EAASK,KAAK9qE,EAAI,GAAKA,EAAIA,GAAI+7D,EAAKhK,EAAI,GAC9C0Y,EAASl1B,WAAWymB,EAAK,CAAC,EAAG,GAAIjK,EAAIntD,SAAQ,SAASymE,GAAMrP,EAAG,IAAMqP,EAAG,GAAIrP,EAAG,IAAMqP,EAAG,OACvFrP,EAAKjK,EAAIA,EAAI3vD,OAAS,GAC3B,OAAOpC,EAAI,EAAI,CAACg8D,EAAID,GAAM,CAACA,EAAIC,GArCvBsP,CAAKtrE,GACTiK,EAAQY,EAAE,GACVX,EAAMW,EAAE,GAGZ,GAAIlF,EAAIslE,EAAchhE,GAIpB,UAHOghE,EAActlE,EAAEuE,KACvBvE,EAAEL,KAAKtF,GACP2F,EAAEuE,IAAMA,EACJ+pB,EAAI+2C,EAAgB9gE,GAAM,QACrB8gE,EAAgB/2C,EAAEhqB,OACzB,IAAIshE,EAAKt3C,IAAMtuB,EAAIA,EAAIA,EAAE6E,OAAOypB,GAChC+2C,EAAgBO,EAAGthE,MAAQtE,EAAEsE,OAASghE,EAAcM,EAAGrhE,IAAM+pB,EAAE/pB,KAAOqhE,OAEtEP,EAAgBrlE,EAAEsE,OAASghE,EAActlE,EAAEuE,KAAOvE,OAE/C,GAAIA,EAAIqlE,EAAgB9gE,GAI7B,UAHO8gE,EAAgBrlE,EAAEsE,OACzBtE,EAAE6lE,QAAQxrE,GACV2F,EAAEsE,MAAQA,EACNgqB,EAAIg3C,EAAchhE,GAAQ,QACrBghE,EAAch3C,EAAE/pB,KACvB,IAAIuhE,EAAKx3C,IAAMtuB,EAAIA,EAAIsuB,EAAEzpB,OAAO7E,GAChCqlE,EAAgBS,EAAGxhE,MAAQgqB,EAAEhqB,OAASghE,EAAcQ,EAAGvhE,IAAMvE,EAAEuE,KAAOuhE,OAEtET,EAAgBrlE,EAAEsE,OAASghE,EAActlE,EAAEuE,KAAOvE,OAIpDqlE,GADArlE,EAAI,CAAC3F,IACaiK,MAAQA,GAASghE,EAActlE,EAAEuE,IAAMA,GAAOvE,KAsBpEylE,EAAMH,EAAeD,GACrBI,EAAMJ,EAAiBC,GACvBH,EAAKlmE,SAAQ,SAAS5E,GAAU+qE,EAAa/qE,EAAI,GAAKA,EAAIA,IAAIkrE,EAAU5lE,KAAK,CAACtF,OAEvEkrE,GChEF,SAASQ,GAASjB,EAAU/oE,EAAQkJ,GACzC,IAAIkgE,EAAM9qE,EAAGyB,EACb,GAAIU,UAAUC,OAAS,EAAG0oE,EAAOa,GAAYlB,EAAU/oE,EAAQkJ,QAC1D,IAAK5K,EAAI,EAAG8qE,EAAO,IAAI1lE,MAAM3D,EAAIgpE,EAASK,KAAK1oE,QAASpC,EAAIyB,IAAKzB,EAAG8qE,EAAK9qE,GAAKA,EACnF,MAAO,CAACuF,KAAM,kBAAmBulE,KAAMc,GAAOnB,EAAUK,IAG1D,SAASa,GAAYlB,EAAU/oE,EAAQkJ,GACrC,IAEIihE,EAFAf,EAAO,GACPgB,EAAa,GAGjB,SAASC,EAAS/rE,GAChB,IAAIwG,EAAIxG,EAAI,GAAKA,EAAIA,GACpB8rE,EAAWtlE,KAAOslE,EAAWtlE,GAAK,KAAKlB,KAAK,CAACtF,EAAGA,EAAGi0B,EAAG43C,IAGzD,SAASG,EAASlB,GAChBA,EAAKlmE,QAAQmnE,GAGf,SAASE,EAASnB,GAChBA,EAAKlmE,QAAQonE,GAsBf,OAfA,SAAS9X,EAASzzD,GAChB,OAAQorE,EAAOprE,EAAGA,EAAE8E,MAClB,IAAK,qBAAsB9E,EAAE20D,WAAWxwD,QAAQsvD,GAAW,MAC3D,IAAK,aAAc8X,EAASvrE,EAAEqqE,MAAO,MACrC,IAAK,kBAAmB,IAAK,UAAWmB,EAASxrE,EAAEqqE,MAAO,MAC1D,IAAK,gBATT,SAAkBA,GAChBA,EAAKlmE,QAAQqnE,GAQUC,CAASzrE,EAAEqqE,OAIpC5W,CAASxyD,GAEToqE,EAAWlnE,QAAkB,MAAVgG,EACb,SAASuhE,GAASrB,EAAKxlE,KAAK6mE,EAAM,GAAGnsE,IACrC,SAASmsE,GAAavhE,EAAOuhE,EAAM,GAAGl4C,EAAGk4C,EAAMA,EAAM/pE,OAAS,GAAG6xB,IAAI62C,EAAKxlE,KAAK6mE,EAAM,GAAGnsE,KAEvF8qE,ECnDM,ICEA,GCCJ,GAAS,IAAI1lE,MAAM,GAAGoF,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAT,IAAI,IAES,GDVN,IADM,GCWK,IDVgBqiE,GAAOhqE,OAAS,I,kBEgBrC,KACX85B,SCfW,SAAmB/0B,GAC9B,IAAIi1B,EAAQ,GACR7pB,EAAQ,GACR7I,EAAM,GAGNC,EAAS,GAGVvE,MAAMC,QAAQ8B,KACbwC,EAASxC,GAGbuC,EAAI8uB,OAASA,EACb9uB,EAAIsI,MAAQ,EACZtI,EAAIqQ,UAAYA,EAEhBrZ,OAAOqD,KAAK,GAASa,SAAQ,SAASe,GAClC+D,EAAI/D,GAAK,EAAQA,MAGrB+D,EAAI6I,MAAQ,SAASpL,EAAMuP,GACvBnE,EAAMmE,GAAOwlB,EAASvyB,UAG1BD,EAAIK,IAAM,SAASpE,GAEf,OADAgE,EAASxC,EAAK4C,IAAIpE,GACXu2B,GAqCX,IAAIA,EAAW,GAqDf,OAlDAx7B,OAAOqD,KAAK2F,GAAK9E,SAAQ,SAASnE,GAC9By7B,EAASz7B,GAAK,SAAS+b,GACnB,IAAI6vD,EAAO,GAGX,OAFAA,EAAK5rE,GAAK+b,EACV4f,EAAM92B,KAAK+mE,GACJnwC,MAIfA,EAAS0C,KAAO,SAAS0tC,GAMrB,OALWA,EACXlwC,EAAMx3B,SAAQ,SAASk4B,GACnB,IAAIn3B,EAAIjF,OAAOqD,KAAK+4B,GAAG,GACvBnzB,EAASD,EAAI/D,GAAGgE,EAAQmzB,EAAEn3B,OAEvBgE,GAGXuyB,EAAS3f,QAAU,SAASpV,GAMxB,OALG/B,MAAMC,QAAQ8B,KAAOwC,EAASxC,GACjCi1B,EAAMx3B,SAAQ,SAASk4B,GACnB,IAAIn3B,EAAIjF,OAAOqD,KAAK+4B,GAAG,GACvBnzB,EAASD,EAAI/D,GAAGgE,EAAQmzB,EAAEn3B,OAEvBgE,GAGXuyB,EAASqwC,WAAarwC,EAAS0C,KAE/B1C,EAASvyB,OAAS,WACd,OAAOA,GAGXuyB,EAAS/0B,KAAO,SAASA,GAErB,OADAwC,EAASxC,EACF+0B,GAGXA,EAASE,MAAQ,WACb,OAAOA,GAGXF,EAASuD,QAAU,SAASC,GAKxB,OAJAA,EAAM96B,SAAQ,SAAS4X,GACnB,IAAI9S,EAAMhJ,OAAOqD,KAAKyY,GAAM,GAC5B0f,EAASxyB,EAAIgd,QAAQ,IAAK,KAAKlK,EAAK9S,OAEjCwyB,EAAS3f,WAGb2f,GDrGPoB,SEXW,SAAkB75B,GAE7B,IAAI2D,EAAQ3D,EAAQ2D,OAAS,GACzBolE,EAAS/oE,EAAQ8K,QAAU9K,EAAQ+oE,QAAUplE,EAAM,GACnDvD,EAAQJ,EAAQI,OAAS,GACzBK,EAAST,EAAQS,aAAUmO,EAC3B3N,EAAOjB,EAAQiB,MAAQ,EACvByC,EAAO1D,EAAQ0D,MAAQ,GAEvBslE,EAAK,GACLC,EAAU,GAEd,GAAI7oE,EAAMzB,QAA2B,iBAAX,EAAqB,CAE3C,IADA,IAAIuqE,EAAK,GACA3sE,EAAI,EAAGA,EAAIwsE,EAAOpqE,OAAQpC,IAC/B2sE,EAAGrnE,KAAKzB,GAEZA,EAAQ8oE,EAUZ,GAPqB,iBAAVzoE,IACPsoE,EAAS9rE,OAAOqD,KAAKG,GACrBL,EAAQnD,OAAOqD,KAAKG,GAAQ6F,KAAI,SAAS6b,GACrC,OAAO1hB,EAAO0hB,OAIH,iBAARlhB,EACP,IAAK,IAAI8B,EAAI,EAAGA,EAAI9B,EAAM8B,IACtBY,EAAMX,QA0Gd,OAvGA5C,EAAMe,SAAQ,SAAS1D,GAIvB,IAAmBqE,EAHfmnE,EAAQpnE,KAII,QADGC,EAHQrE,IAIFqE,EAAKyM,MAAM,SACrB,SAAS/Q,GACZ,IAAIwR,EAAM3M,SAAS7E,GACnB,OAAQqpB,MAAM7X,GAAQ,EAAIA,GAEf,SAARlN,GAAmBA,EAAKyM,MAAM,SAC9B,SAAS/Q,GACZ,IAAIwR,EAAM1M,WAAW9E,GACrB,OAAQqpB,MAAM7X,GAAQ,EAAIA,IAEwB,GAA/C,CAAC,OAAQ,OAAQ,YAAYxN,QAAQM,GACrC,SAAStE,GACZ,OAAO,IAAI+E,KAAK/E,KAEgC,GAA7C,CAAC,QAAS,QAAS,QAAQgE,QAAQM,GACnC,SAAStE,GACZ,OAAO8E,WAAW9E,EAAMihB,UAAU,KAG/B,SAASjhB,GACZ,OAAOA,OAKnBwrE,EAAGG,WAAa,SAASpkE,GACrBpB,EAAQA,EAAMoD,OAAOhC,IAOzBikE,EAAG16D,YAAc,WACb,QAAuB,IAAb,GAA4By6D,EAAOpqE,OAAQ,CACjD,IAAInC,EAAIusE,EAAOpqE,OACfgF,EAAMxC,SAAQ,SAAS2E,GAGnB,IAFA,IAAI9I,EAAI,GACJ+R,EAAS,EACJxS,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CACxB,IAAIyF,EAAI+mE,EAAOxsE,GACf,GAAIyF,EAAErD,OACF,GAAIyB,EAAM7D,GAAGgS,MAAM,oBAAqB,CACpC,IAAI66D,EAAK/mE,SAASjC,EAAM7D,GAAG2L,MAAM,IAC7BorD,EAAS,GACbxtD,EAAEoC,MAAM6G,EAAQA,EAASq6D,GAAIjoE,SAAQ,SAAS2C,GAC1CwvD,EAAOzxD,KAAKonE,EAAQ1sE,GAAGuH,OAE3B9G,EAAEgF,GAAKsxD,EACPvkD,GAAUq6D,OAEVpsE,EAAEgF,GAAKinE,EAAQ1sE,GAAGuJ,EAAEiJ,IACpBA,IAIZrL,EAAK7B,KAAK7E,MAGlB,OAAO0G,GAOXslE,EAAGlmE,SAAW,WAYV,OAXAa,EAAMxC,SAAQ,SAAS2E,GACnB,IAAI7C,EAAM,GACV8lE,EAAO5nE,SAAQ,SAASa,EAAGzF,GACnByF,EAAErD,QACFsE,EAAIpB,KAAKonE,EAAQ1sE,GAAGuJ,EAAEvJ,QAG9BmH,EAAK7B,KAAKoB,MAEdS,EAAKoH,OAASi+D,EACdrlE,EAAKjD,OAAS,WACPiD,GAOXslE,EAAG/nC,YAAc,WASb,OARA8nC,EAAO5nE,SAAQ,SAASa,EAAGzF,GACvB,IAAIuiC,EAASn7B,EAAM2C,KAAI,SAASR,GAC5B,OAAOmjE,EAAQ1sE,GAAGuJ,EAAEvJ,OAExBmH,EAAK7B,KAAKi9B,MAEdp7B,EAAKoH,OAASi+D,EACdrlE,EAAKjD,OAAS,cACPiD,GAIJslE,GF3HPrmC,SACArsB,YACAye,SACAxmB,MAAA,EACAsV,KG1BW,SAAcwlD,EAAUC,GACnC,IAAI9jE,EAAM6jE,EAAS1qE,OACf4qE,EAAOtsE,OAAOqD,KAAK+oE,EAAS,IAWhC,OAVWpsE,OAAOqD,KAAKgpE,EAAU,IAEjBniE,QAAO,SAASqiE,GAAK,OAA8B,IAAtBD,EAAK/nE,QAAQgoE,MAErDroE,SAAQ,SAASa,GAClB,IAAI,IAAIzF,EAAI,EAAGA,EAAIiJ,EAAKjJ,IACpB8sE,EAAS9sE,GAAGyF,GAAKsnE,EAAU/sE,GAAGyF,MAI/BqnE,GHcPjlE,MAAA,EACAqlE,MI5BW,SAAe1wD,GAC1B,IAAIpN,EAAKoN,EAAK2wD,KAAO3wD,EAAKynB,IACtBngC,EAAapD,OAAOqD,KAAKyY,GAE7B,IAAIpN,EAAI,MAAMlK,MAAM,8BAqBpB,OAnBApB,EAAW8G,QAAO,SAASjC,GACvB,MAAgB,OAARA,GAAyB,OAARA,KAE5B/D,SAAQ,SAAS+D,GACC6T,EAAK7T,GAAM,GAAGyG,GAA7B,IACIpP,EAAI,EAEJC,GADIkH,KAAK/E,OACLoa,EAAK7T,GAAMvG,QAEfgrE,EAASjmE,KAAK4C,KAAI,SAASzJ,GAAkB,OAAdA,EAAEqI,GAAQ,GAAWrI,EAAE8O,MAE1D,IAAIpP,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CACnB,IAAIgF,EAAQooE,EAAOnoE,QAAQuX,EAAK7T,GAAM3I,GAAGoP,KAC3B,IAAXpK,GACCmC,KAAKnC,GAAO2D,GAAMrD,KAAKkX,EAAK7T,GAAM3I,QAKvCmH,MJIPkmE,QK7BW,SAAiBlmE,EAAM7D,GAClC,IAAIG,EAAUH,GAAO,GACjBiL,EAAS9K,EAAQ8K,QAAU7N,OAAOqD,KAAKoD,EAAK,KAAO,GAGvD,MAAa,QAFA1D,EAAQoO,QAAU,OAGpB1K,EAAK4C,KAAI,SAASzJ,GACrB,IAAIoG,EAAM,IAAItB,MAAMmJ,EAAOnM,QAI3B,OAHAmM,EAAO3J,SAAQ,SAASe,EAAG3F,GACvB0G,EAAI1G,GAAKM,EAAEqF,MAERe,KAGJ6H,EAAOxE,KAAI,SAASpE,GACvB,OAAOwB,EAAK4C,KAAI,SAASzJ,GAAI,OAAOA,EAAEqF,ULe9CoxD,UAGG,MAAMviC,GAAM,CACf84C,KAAA,GACAC,YMjCW,cAA0B,GAErC,YAAYpmE,EAAMqwB,GACdlF,MAAMnrB,EAAMqwB,GACZh0B,KAAK0sB,SAGT,SACI,IAAInM,EAAOvgB,KAAK2D,KAAK4c,KAErBuO,MAAMo9B,OAENlsD,KAAKqQ,IAAI87C,KAAKvE,UAAU,iBACnBjkD,KAAK3D,KAAK2D,KAAKowB,MACf2sB,QACA3vC,OAAO,UACH5L,KAAK,QAAS,gBACdA,KAAK,KAAMrI,GAAKkD,KAAKssB,OAAO7c,EAAE3S,EAAEyjB,EAAK9Q,KACrCtK,KAAK,KAAMrI,GAAKkD,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,KACrCrK,KAAK,IAAKrI,GAAKkD,KAAKssB,OAAOnsB,KAAKrD,EAAEyjB,EAAKpgB,QACvCkjB,MAAM,OAAQvmB,GAAKkD,KAAKssB,OAAO1b,MAAM9T,EAAEyjB,EAAK3P,SAC5CyS,MAAM,eAAgB,GACtBA,MAAM,eAAgB,KNYnC4U,SOlCW,cAAuB,GAClC,YAAYt0B,EAAMqwB,GACdlF,MAAMnrB,EAAMqwB,GACZh0B,KAAK0sB,SAGT,SACI,IACI/K,EADApB,EAAOvgB,KAAK2D,KAAK4c,KAGjBoB,EADA3hB,KAAK6E,QAAQ0b,EAAK9Q,GAAG7Q,OAAS,EACpBoB,KAAK6E,QAAQ0b,EAAK9Q,GAElB,IAAI7N,MAAM5B,KAAK6E,QAAQ0b,EAAK9Q,GAAG,GAAKzP,KAAK6E,QAAQ0b,EAAK9Q,GAAG,GAAK,GAAGzH,KAAK,GAAGzB,IAAI,CAACzJ,EAAGN,IAAMA,EAAIwD,KAAK6E,QAAQ0b,EAAK9Q,GAAG,IAE9HzP,KAAKssB,OAAO7c,EAAI,IAAYoO,OAAO8D,GAASrb,MAAM,CAAC,EAAGtG,KAAKsQ,QAAQqT,QAAQ,KAC3EmL,MAAMo9B,OACNlsD,KAAKqQ,IAAI87C,KAAKvE,UAAU,cACnBjkD,KAAK3D,KAAK2D,KAAKowB,MACjB2sB,QAAQ3vC,OAAO,QACb5L,KAAK,QAAS,aACdA,KAAK,IAAKrI,GAAKkD,KAAKssB,OAAO7c,EAAE3S,EAAEyjB,EAAK9Q,GAAK8Q,EAAKjQ,SAC9CnL,KAAK,IAAKrI,GAAKkD,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,GAAK+Q,EAAKhQ,UAC9C8S,MAAM,OAAQvmB,GAAKkD,KAAKssB,OAAO1b,MAAM9T,EAAEyjB,EAAK3P,SAC5CzL,KAAK,QAASnF,KAAKssB,OAAO7c,EAAEg0B,aAC5Bt+B,KAAK,SAAUrI,GAAKkD,KAAKuQ,OAASvQ,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,GAAK+Q,EAAKhQ,UAG1E,OAAQotB,EAASqsC,GAEb,IAAIzpD,EAAOvgB,KAAK2D,KAAK4c,KAEjB0pD,EAAOjqE,KAAKqQ,IAAI87C,KAAKvE,UAAU,kBAC9BjkD,KAAKg6B,EAAS7gC,GAAKA,EAAEyjB,EAAK9Q,IAE/Bw6D,EAAKtpB,OAAOp8B,SAEZ0lD,EAAKvpB,QAAQ3vC,OAAO,QACf5L,KAAK,QAAS,iBAEnB8kE,EAAK9kE,KAAK,IAAKrI,GAAKkD,KAAKssB,OAAO7c,EAAE3S,EAAEyjB,EAAK9Q,GAAK8Q,EAAKjQ,SAC9CnL,KAAK,IAAKrI,GAAKkD,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,GAAK+Q,EAAKhQ,UAC9C8S,MAAM,OAAQ2mD,GACd7kE,KAAK,QAASnF,KAAKssB,OAAO7c,EAAEg0B,aAC5Bt+B,KAAK,SAAUrI,GAAKkD,KAAKuQ,OAASvQ,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,GAAK+Q,EAAKhQ,YPR1EynB,UQlCW,cAAwB,GAEnC,YAAYr0B,EAAMqwB,GACdlF,MAAMnrB,EAAMqwB,GACZh0B,KAAK0sB,SAGT,SACI,IAAInM,EAAOvgB,KAAK2D,KAAK4c,KACrBuO,MAAMo9B,OACN,IAAIge,ECPG,WACb,IAAIp4D,EAAK,GACL4V,EAAK,KACL3V,EAAK,GAAS,GACd6V,EAAK,GACL0nC,EAAU,IAAS,GACnBhrC,EAAU,KACVirC,EAAQ,GACRnhD,EAAS,KAEb,SAAS2xD,EAAKp8D,GACZ,IAAInH,EACAwG,EACAf,EAEAnF,EAEA0yD,EAHAvxD,EAAI0F,EAAK/E,OAET6wD,GAAW,EAEX0a,EAAM,IAAIvoE,MAAM3D,GAChBmsE,EAAM,IAAIxoE,MAAM3D,GAIpB,IAFe,MAAXqmB,IAAiBlW,EAASmhD,EAAMC,EAAS,OAExChzD,EAAI,EAAGA,GAAKyB,IAAKzB,EAAG,CACvB,KAAMA,EAAIyB,GAAKqxD,EAAQxyD,EAAI6G,EAAKnH,GAAIA,EAAGmH,MAAW8rD,EAChD,GAAIA,GAAYA,EACdzsD,EAAIxG,EACJ4R,EAAO2gD,YACP3gD,EAAO8gD,gBACF,CAGL,IAFA9gD,EAAOghD,UACPhhD,EAAO8gD,YACFjtD,EAAIzF,EAAI,EAAGyF,GAAKe,IAAKf,EACxBmM,EAAOihD,MAAM8a,EAAIloE,GAAImoE,EAAInoE,IAE3BmM,EAAOghD,UACPhhD,EAAO6gD,UAGPQ,IACF0a,EAAI3tE,IAAMsV,EAAGhV,EAAGN,EAAGmH,GAAOymE,EAAI5tE,IAAMuV,EAAGjV,EAAGN,EAAGmH,GAC7CyK,EAAOihD,MAAM3nC,GAAMA,EAAG5qB,EAAGN,EAAGmH,GAAQwmE,EAAI3tE,GAAIorB,GAAMA,EAAG9qB,EAAGN,EAAGmH,GAAQymE,EAAI5tE,KAI3E,GAAIgzD,EAAQ,OAAOphD,EAAS,KAAMohD,EAAS,IAAM,KAGnD,SAAS6a,IACP,OAAO,KAAO/a,QAAQA,GAASC,MAAMA,GAAOjrC,QAAQA,GAoDtD,OAjDAy7C,EAAKtwD,EAAI,SAAS0W,GAChB,OAAOxnB,UAAUC,QAAUkT,EAAkB,mBAANqU,EAAmBA,EAAI,IAAUA,GAAIuB,EAAK,KAAMq4C,GAAQjuD,GAGjGiuD,EAAKjuD,GAAK,SAASqU,GACjB,OAAOxnB,UAAUC,QAAUkT,EAAkB,mBAANqU,EAAmBA,EAAI,IAAUA,GAAI45C,GAAQjuD,GAGtFiuD,EAAKr4C,GAAK,SAASvB,GACjB,OAAOxnB,UAAUC,QAAU8oB,EAAU,MAALvB,EAAY,KAAoB,mBAANA,EAAmBA,EAAI,IAAUA,GAAI45C,GAAQr4C,GAGzGq4C,EAAKvwD,EAAI,SAAS2W,GAChB,OAAOxnB,UAAUC,QAAUmT,EAAkB,mBAANoU,EAAmBA,EAAI,IAAUA,GAAIyB,EAAK,KAAMm4C,GAAQhuD,GAGjGguD,EAAKhuD,GAAK,SAASoU,GACjB,OAAOxnB,UAAUC,QAAUmT,EAAkB,mBAANoU,EAAmBA,EAAI,IAAUA,GAAI45C,GAAQhuD,GAGtFguD,EAAKn4C,GAAK,SAASzB,GACjB,OAAOxnB,UAAUC,QAAUgpB,EAAU,MAALzB,EAAY,KAAoB,mBAANA,EAAmBA,EAAI,IAAUA,GAAI45C,GAAQn4C,GAGzGm4C,EAAKuK,OACLvK,EAAKwK,OAAS,WACZ,OAAOF,IAAW56D,EAAEqC,GAAItC,EAAEuC,IAG5BguD,EAAKyK,OAAS,WACZ,OAAOH,IAAW56D,EAAEqC,GAAItC,EAAEoY,IAG5Bm4C,EAAK0K,OAAS,WACZ,OAAOJ,IAAW56D,EAAEiY,GAAIlY,EAAEuC,IAG5BguD,EAAKzQ,QAAU,SAASnpC,GACtB,OAAOxnB,UAAUC,QAAU0wD,EAAuB,mBAANnpC,EAAmBA,EAAI,KAAWA,GAAI45C,GAAQzQ,GAG5FyQ,EAAKxQ,MAAQ,SAASppC,GACpB,OAAOxnB,UAAUC,QAAU2wD,EAAQppC,EAAc,MAAX7B,IAAoBlW,EAASmhD,EAAMjrC,IAAWy7C,GAAQxQ,GAG9FwQ,EAAKz7C,QAAU,SAAS6B,GACtB,OAAOxnB,UAAUC,QAAe,MAALunB,EAAY7B,EAAUlW,EAAS,KAAOA,EAASmhD,EAAMjrC,EAAU6B,GAAI45C,GAAQz7C,GAGjGy7C,ED9FW,GACPxQ,MAAM,IACN9/C,EAAE3S,GAAKkD,KAAKssB,OAAO7c,EAAE3S,EAAEyjB,EAAK9Q,KAC5BsC,GAAG/R,KAAKuQ,QACRqX,GAAG9qB,GAAKkD,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,KAElCxP,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QAChBgvC,MAAM//C,KAAK2D,KAAKowB,MAChB5uB,KAAK,IAAK+kE,GACV7mD,MAAM,OAAQ9C,EAAK3P,OACnByS,MAAM,eAAgB9C,EAAKE,SAC3B4C,MAAM,eAAgB,KRc/B0U,OUjCW,cAAqB,GAChC,YAAYp0B,EAAMqwB,GACdlF,MAAMnrB,EAAMqwB,GACZh0B,KAAK0sB,SAGT,SACI,IAAInM,EAAOvgB,KAAK2D,KAAK4c,KACrBuO,MAAMo9B,OACN,IAAIV,EAAO,KACN+D,MAAM,IACN9/C,EAAG3S,GAAKkD,KAAKssB,OAAO7c,EAAE3S,EAAEyjB,EAAK9Q,KAC7BD,EAAG1S,GAAKkD,KAAKssB,OAAO9c,EAAE1S,EAAEyjB,EAAK/Q,KAG9BuwC,EAAQ//C,KAAK2D,KAAKowB,KAClBnjB,EAAQ,IAAM2P,EAAK3P,MAEnB85D,EAAUnqD,EAAKlR,IAAMkR,EAAK3P,MAC9B,IAAyC,IAAtC5Q,KAAK2D,KAAKoH,OAAOtJ,QAAQipE,GAAgB,CACxC,IAAIvkE,EAAS,GACbnG,KAAK2D,KAAKowB,KAAK3yB,SAAQ,SAAStE,GACzBqJ,EAAO9H,eAAevB,EAAE4tE,IACvBvkE,EAAOrJ,EAAE4tE,IAAS5oE,KAAKhF,GAEvBqJ,EAAOrJ,EAAE4tE,IAAW,MAG5B3qB,EAAQ55C,GACqC,IAA1CnG,KAAK2D,KAAKoH,OAAOtJ,QAAQ8e,EAAK3P,SAC7BA,EAAQ,EAAa,KAI7B,GAAGhP,MAAMC,QAAQk+C,GACb//C,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QACpBgvC,MAAMA,GACN56C,KAAK,IAAKqmD,GACVnoC,MAAM,OAAQ,QACdA,MAAM,SAAU9C,EAAK3P,OACrByS,MAAM,eAAgB9C,EAAKpgB,WACzB,GAAoB,iBAAX,EAAqB,CACjC,IAAIuqE,EAASxtE,OAAOqD,KAAKw/C,GACzB2qB,EAAQtpE,QAAQ,CAACupE,EAAQzmE,KAQrB,GAPAlE,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QACpBgvC,MAAMA,EAAM4qB,IACZxlE,KAAK,IAAKqmD,GACVnoC,MAAM,OAAQ,QACdA,MAAM,SAAUzS,EAAM+5D,IACtBtnD,MAAM,eAAgB9C,EAAKpgB,OAEkB,IAA1CH,KAAK2D,KAAKoH,OAAOtJ,QAAQ8e,EAAK3P,OAAe,CAC7C,IAAIg6D,EAAchoE,KAAK8B,IAAI,GAAI1E,KAAK2jB,QAAQhR,MAAM,GAC9Ck4D,GAAc3mE,EAAK,GAAKtB,KAAK8B,IAAI,GAAI1E,KAAKsQ,MAAQo6D,EAAO9rE,QAC7DoB,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QAChB5L,KAAK,IAAKnF,KAAKsQ,MAAQ,IACvBnL,KAAK,IAAK0lE,GACV1lE,KAAK,QAASylE,GACdzlE,KAAK,SAAU,GACfke,MAAM,OAAQzS,EAAM+5D,IAEzB3qE,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QAChB5L,KAAK,IAAKnF,KAAKsQ,MAAQ,GAAKs6D,GAC5BzlE,KAAK,IAAK0lE,EAAa,GACvBjmD,KAAK+lD,GAED,GAANzmE,GACClE,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QAChB5L,KAAK,IAAKnF,KAAKsQ,MAAQ,GAAKs6D,EAAY,GACxCzlE,KAAK,IAAK,GACVyf,KAAKrE,EAAK3P,aVpCnCk6D,OW/BW,cAAkB,GAC7B,YAAYnnE,EAAMqwB,GAoBd,GAnBAlF,MAAMnrB,EAAMqwB,GAEZh0B,KAAKo1D,QAAUzxD,EAAKyxD,SAAW,YAC/Bp1D,KAAK43D,OAASj0D,EAAK4c,KAAKy3C,OACxBh4D,KAAKuF,MAAQ5B,EAAK4c,KAAKhb,MACvBvF,KAAK+qE,IAAMpnE,EAAKonE,KAAO,GAEvB/qE,KAAKgrE,QAAUh3C,EAAKg3C,UAAW,EAC/BhrE,KAAK+kB,UAAYiP,EAAKjP,WAAa,CAAC/kB,KAAKsQ,MAAQ,EAAGtQ,KAAKuQ,OAAS,KAClEvQ,KAAKuF,MAAQyuB,EAAKzuB,QAA8B,UAAnByuB,EAAKgtC,WAA0B,EAAI,KAChEhhE,KAAK+gB,SAAWiT,EAAKjT,UAAY,EAAE,EACnC/gB,KAAKirE,aAAej3C,EAAKi3C,cAAgB,OACzCjrE,KAAKghE,WAAa,EAAG,OAAQhtC,EAAKgtC,YAAc,WAAWrkE,OACtD4I,MAAMvF,KAAKuF,OACXwf,UAAU/kB,KAAK+kB,WAEpB/kB,KAAKwrD,KAAO,KACPwV,WAAWhhE,KAAKghE,YAElBr9D,EAAK4c,KAAK3P,MAAO,CAChB,IAAIs6D,EAAY,GAChBvnE,EAAKowB,KAAK3yB,QAAStE,IACf,IAAIquE,EAAUC,GAAUhkE,OAAOvK,GAAKA,EAAE8G,EAAKmgB,KAAK/hB,MAAQ,SAAUjF,EAAE6G,EAAKmgB,KAAK3Y,QAAQ,KAAO,EAC1FggE,GAAWA,EAAQv/D,KAClBs/D,EAAUC,EAAQv/D,IAAqC,iBAAxB9O,EAAE6G,EAAK4c,KAAK3P,QAAwB9T,EAAE6G,EAAK4c,KAAK3P,OAAOvO,SAAS,KAC3FgI,OAAOvN,EAAE6G,EAAK4c,KAAK3P,OAAOsS,QAAQ,KAAM,KACxC7Y,OAAOvN,EAAE6G,EAAK4c,KAAK3P,WAG/B,IAAI9M,EAAS5G,OAAOqD,KAAK2qE,GAAW3kE,IAAItE,GAAKipE,EAAUjpE,IAAImF,OAAOtK,IAAIuN,OAAOyc,MAAMhqB,IAE/E+gB,EAAS,CAACjb,KAAK8B,OAAOZ,GAASlB,KAAK+B,OAAOb,IAC3CH,EAAKsvB,OAAMpV,EAAO,GAAK,GAC3B,IAAIwtD,EAAa,KAAWtqD,SAAS/gB,KAAK+gB,UAAUlD,OAAOA,GAAQvX,MAAM,CAAC,GAAK,IAC/EtG,KAAKsrE,SAAYxuE,QACU+R,IAApBq8D,EAAUpuE,EAAE8O,IACJ,GAAiBy/D,EAAWH,EAAUpuE,EAAE8O,MAExC5L,KAAKirE,aAIjBj3C,EAAKpjB,OAAuC,mBAAvBojB,EAAKpjB,MAAY,SACrC5Q,KAAKsrE,SAAYxuE,GACNkD,KAAK4Q,MAAM26D,OAAOF,EAAWH,EAAUpuE,EAAE8O,KAAO,MAMvE,SAmBI,OAlBA5L,KAAKqQ,IAAI87C,KAAKvE,UAAU,cACnBjkD,KAAK,GAAiB3D,KAAK+qE,IAAK/qE,KAAK+qE,IAAI7D,QAAQlnE,KAAKo1D,UAAU5rC,UAChEk3B,QACA3vC,OAAO,QACH5L,KAAK,QAAS,aACdA,KAAK,IAAKnF,KAAKwrD,MACfrmD,KAAK,SAAU,SACfA,KAAK,OAAQnF,KAAKsrE,UAExBtrE,KAAKgrE,SACJhrE,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QACpB5L,KAAK,QAAS,eACd46C,MftEE,YACb,OAAO,GAAOknB,EAAUiB,GAAS7hE,MAAMrG,KAAMrB,YeqE5B,CAAcqB,KAAK+qE,IAAK/qE,KAAK+qE,IAAI7D,QAAQlnE,KAAKo1D,UAAU,SAASrvD,EAAGC,GAAK,OAAOD,IAAMC,MAC5Fb,KAAK,IAAKnF,KAAKwrD,MACfrmD,KAAK,OAAQ,QACbA,KAAK,SAAU,SAGbnF,KAGX,UAAS,KAAC+B,EAAO,QAAO,OAAEq1D,EAAS,EAAG,KAAEzzD,EAAI,QAAEyxD,IAC/B,SAARrzD,IACC/B,KAAKwrD,KAAKgV,YAAYpJ,GACtBp3D,KAAKqQ,IAAI87C,KAAKp7C,OAAO,QAChBgvC,MAAM,GAAiBp8C,EAAMA,EAAKujE,QAAQ9R,KAC1CjwD,KAAK,IAAKnF,KAAKwrD,OAI5B,WAAW,WACPsG,EAAU,MACVlhD,EAAQ,SAAQ,KAChB46D,EAAO,mBAAkB,MACzBjhD,IAEA,IAAIre,EAAWlM,KAAKghE,WAAWlP,GAC/B9xD,KAAKqQ,IAAI87C,KAAKp7C,OAAO,qBACpB5L,KAAK,IAAK+G,EAAS,GAAK,GACxB/G,KAAK,IAAK+G,EAAS,GAAK,IACxB/G,KAAK,QAAS,IACdA,KAAK,SAAU,IACfA,KAAK,QAASyL,GACdzL,KAAK,cAAe,OACpB4L,OAAO,cACPq4C,KAAK,aAAc7+B,EAAQ,YAAcihD,EAAO,c,8BC1GzD,qEASItkB,EAAsB,iBAAR3jC,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAVkoD,GAAsBA,EAAOA,SAAWA,GAAUA,QACzD,EAEX,IAAGvwC,KAAO,EACV,IAAGn7B,OAAS,IACZ,IAAG+E,OAAS,EACZ,IAAGi2B,MAAQ,IACX,IAAG2wC,SAAW,CAACC,OAAA,IAAQC,WAAA,KAEvB1kB,EAAK9uB,GAAK,IACK,IAAA8uB,EAAO,GACG,IAAQ,M,mLCfrB,SAAO2kB,MACL,SAAOC,QACJ,SAAOC,WAFxB,IAGIC,EAAa,SAAOrB,OAEjB,SAASsB,EAAc3tE,GAC1B,IAAIoG,EAAMpG,EAAEoG,KAAO,EACfC,EAAMrG,EAAEqG,KAAOrG,EAAEwF,OAAOlF,QAAU,EAClCnB,EAAQiH,EAAM,EACdwnE,EAAkB,UAAV5tE,EAAE+wB,KACR,WAAa,OAAO28C,EAAW1tE,EAAE6tE,KAAM7tE,EAAEgK,MACzC,WAAa,OAAO5D,GAAOC,EAAMD,GAAO9B,KAAKwpE,UACnD,KAAQ3uE,EAAQiH,GAAOjH,EAAQkH,GAE3BlH,EAAQyuE,EAAK5tE,GAKjB,OAHGA,EAAED,eAAe,YAChBZ,EAAQ6E,SAAS7E,IAEdA,EAwBJ,SAAS4uE,EAAYvsE,GACxB,IAAIG,EAAUH,GAAO,GACjBK,EAAOF,EAAQE,MAAQ,EACvBsD,EAAQxD,EAAQwD,OAAS,GACzBE,EAAO,IAAI/B,MAAMzB,GACrB,IAAI,IAAI3D,EAAI,EAAGA,EAAI2D,EAAM3D,IACrBmH,EAAKnH,GAAK,GACViH,EAAMrC,SAAQ,SAAS2qB,GACnB,GAAGA,EAAK1tB,eAAe,UAAU,CAC7B,IAAIiuE,EAAMhqE,SAAUM,KAAK+gC,MAAO/gC,KAAKwpE,UAAYrgD,EAAKjoB,OAAOlF,OAAS,KACtE+E,EAAKnH,GAAGuvB,EAAKhvB,MAAQgvB,EAAKjoB,OAAOwoE,OAC9B,CACH,IAAI7uE,EAAQwuE,EAAclgD,GAC1BpoB,EAAKnH,GAAGuvB,EAAKhvB,MAAuB,SAAdgvB,EAAK/pB,MAAoBO,WAAW9E,GAASmF,KAAK+gC,MAAMlmC,OAI1F,OAAOkG,EAGJ,SAAS4oE,EAAazsE,GACzB,IAAIG,EAAUH,GAAO,GACjBK,EAAOF,EAAQE,MAAQ,EACvBsD,EAAQxD,EAAQwD,OAAS,GACzBE,EAAO,IAAI/B,MAAMzB,GACrB,IAAI,IAAI3D,EAAI,EAAGA,EAAI2D,EAAM3D,IACrBmH,EAAKnH,GAAK,GACViH,EAAMrC,SAAQ,SAAS2qB,EAAM4gC,GACzB,GAAG5gC,EAAK1tB,eAAe,UAAU,CAC7B,IAAIiuE,EAAMhqE,SAAUM,KAAK+gC,MAAO/gC,KAAKwpE,UAAYrgD,EAAKjoB,OAAOlF,OAAS,KACtE+E,EAAKnH,GAAGmwD,GAAM5gC,EAAKjoB,OAAOwoE,OACvB,CACH,IAAI7uE,EAAQwuE,EAAclgD,GAC1BpoB,EAAKnH,GAAGmwD,GAAqB,SAAd5gC,EAAK/pB,MAAoBO,WAAW9E,GAASmF,KAAK+gC,MAAMlmC,OAInF,OAAOkG,I,iFCtFX,IAAIk7C,EAAU,CACZj6B,KAAM,OACNhhB,MAAO,QACPmwB,KAAM,QAGO,MAAMy4C,EAEnB,aAAY,KACVC,EAAI,KACJvrE,EAAO,EAAC,MACRwrE,EAAQ,MAAS,UACjBnyC,EAAY,MAEZ,QAAsB,IAAX,EACT,MAAM74B,MAAM,oCAEd1B,KAAKysE,KAAOA,EACZzsE,KAAK2sE,SAAWF,EAAKtsE,KACrBH,KAAK4sE,OAAS,IAAIC,WAClB7sE,KAAKkB,KAAOA,EACZlB,KAAK0sE,MAAQA,EACb1sE,KAAKu6B,UAAYA,EACjBv6B,KAAKw3B,QAGP,oBACE,OAAOqnB,EAGT,QACE7+C,KAAKgP,OAAS,EACdhP,KAAK8sE,UAAY,EACjB9sE,KAAK+sE,SAAW,GAGlB,gBAAgB/nE,GACd,IAAIu1B,EAAYv1B,EAAK,GAAGwJ,MAAM,sBAAsB,IAAM,IACtDw6D,EAAShkE,EAAK,GAAGi+C,MAAM1oB,GACvBz2B,EAASkB,EAAK,GAAGi+C,MAAM1oB,GACvB75B,EAASsoE,EAAOziE,IAAI,CAACpE,EAAG3F,KACnB,CACLO,KAAMoF,EACNH,MAAOqI,OAAOyc,MAAMzc,OAAOvG,EAAOtH,KAAO,SAAW,SAGxDwD,KAAKu6B,UAAYA,EACjB,IAAK,IAAIyyC,EAAM,EAAGA,EAAMhoE,EAAKpG,OAAQouE,IAAO,CAC1C,IAAIlpE,EAASkB,EAAKgoE,GAAK/pB,MAAM1oB,GAC7B,IAAK,IAAI50B,EAAM,EAAGA,EAAMqjE,EAAOpqE,OAAQ+G,IAAO,CAC5C,IAAIlI,EAAQqG,EAAO6B,GACO,QAAtBjF,EAAOiF,GAAK3D,OAAmBM,SAAS7E,KAAW8E,WAAW9E,KAChEiD,EAAOiF,GAAK3D,MAAQ,UAI1B,OAAOtB,EAGT,aAAagR,GACX,OAAQA,EAAIkgC,OAAOrP,MAAMhL,MACvB,KAAK7lB,EAAIkgC,OAAOrP,MAAM0qC,cACpB,MAAMvrE,MAAM,kBAAmBgQ,EAAIkgC,OAAOrP,OAE5C,KAAK7wB,EAAIkgC,OAAOrP,MAAM2qC,iBACpB,MAAMxrE,MAAM,uBAAwBgQ,EAAIkgC,OAAOrP,OACjD,KAAK7wB,EAAIkgC,OAAOrP,MAAM4qC,UACpB,MAAMzrE,MAAM,UAAWgQ,EAAIkgC,OAAOrP,OACpC,QACE,MAAM7gC,MAAM,uCAAwCgQ,EAAIkgC,OAAOrP,QAIrE,YAEE,OADAviC,KAAK4sE,OAAOQ,mBAAmBptE,KAAKysE,KAAKtkE,MAAM,EAAGnI,KAAK0sE,MAAQ,KACxD,IAAIv/C,QAAQ,CAACC,EAASC,KAC3BrtB,KAAK4sE,OAAOS,UAAa37D,IACvB,GAAIA,EAAIkgC,OAAO07B,YAAcT,WAAWU,KAAM,CAC5C,IACI1V,GADU73D,KAAK+sE,SAAWr7D,EAAIkgC,OAAOzrC,QACrB88C,MAAM,MACtBviD,EAASV,KAAKwtE,gBAAgB3V,EAAM1vD,MAAM,EAAG,KACjD7E,QAAQC,IAAI,gBAAiB7C,GAC7B0sB,EAAQ1sB,KAGZV,KAAK4sE,OAAOl+C,QAAWhd,IACrB2b,EAAOrtB,KAAKytE,aAAa/7D,OAK/B,KAAKrD,GAEH,OADArO,KAAK4sE,OAAOQ,mBAAmBptE,KAAKysE,KAAKtkE,MAAMnI,KAAKgP,OAAQpM,KAAK8B,IAAI1E,KAAKysE,KAAKtsE,KAAMH,KAAKgP,OAAShP,KAAK0sE,SACjG,IAAIv/C,QAAQ,CAACC,EAASC,KAC3BrtB,KAAK4sE,OAAOS,UAAa37D,IACvB,GAAIA,EAAIkgC,OAAO07B,YAAcT,WAAWU,KAAM,CAC5C,IAIIG,EAHA7V,GADU73D,KAAK+sE,SAAWr7D,EAAIkgC,OAAOzrC,QACrB88C,MAAM,MAC1BjjD,KAAK+sE,SAAWlV,EAAMx4C,MACtBrf,KAAKgP,QAAUhP,KAAK0sE,MAGlBgB,EADEr/D,GAAUm+D,EAAWn+D,OAAOuW,KACpBizC,EAEAA,EAAMtxD,IAAKqlD,GAASA,EAAK3I,MAAMjjD,KAAKu6B,YAEhDnN,EAAQsgD,KAGZ1tE,KAAK4sE,OAAOl+C,QAAWhd,IACrB2b,EAAOrtB,KAAKytE,aAAa/7D,OAK/B,QAAQi8D,GACN,GAAyB,mBAAdA,EACT,MAAMjsE,MAAM,yDAGd,OADA1B,KAAK4sE,OAAOQ,mBAAmBptE,KAAKysE,KAAKtkE,MAAMnI,KAAKgP,OAAQhP,KAAKgP,OAAShP,KAAK0sE,QACxE,IAAIv/C,QAAQ,CAACC,EAASC,KAC3BrtB,KAAK4sE,OAAOS,UAAa37D,IACvB,GAAIA,EAAIkgC,OAAO07B,YAAcT,WAAWU,KAAM,CAC5C,IACI1V,GADU73D,KAAK+sE,SAAWr7D,EAAIkgC,OAAOzrC,QACrB88C,MAAM,MAC1BjjD,KAAK+sE,SAAWlV,EAAMx4C,MAEH,GAAfrf,KAAKgP,QAAehP,KAAKkB,KAAO,GAC9BlB,KAAKkB,KAAO,GAAG22D,EAAM50D,QAG3B0qE,EAAU9V,EAAMtxD,IAAKqlD,GAASA,EAAK3I,MAAMjjD,KAAKu6B,aAC9Cv6B,KAAK8sE,WAAajV,EAAMj5D,OAEpBoB,KAAKgP,OAAShP,KAAKysE,KAAKtsE,MAC1BH,KAAKgP,QAAUhP,KAAK0sE,MACpB1sE,KAAK4sE,OAAOQ,mBAAmBptE,KAAKysE,KAAKtkE,MAAMnI,KAAKgP,OAAQhP,KAAKgP,OAAShP,KAAK0sE,SAE/Et/C,EAAQptB,KAAK8sE,aAInB9sE,KAAK4sE,OAAOl+C,QAAWhd,IACrB2b,EAAOrtB,KAAKytE,aAAa/7D,Q,YC1IjC,MAAMk8D,EAAiB,CAAC,YAAa,iBAAkB,UAEjDC,EAAa,CAAC,YAAa,SAAU,QAAS,YAAa,KAAM,OAKxD,SAAS,EAAG/tE,GACzB,IAEIsK,EACA6wB,EACA6yC,EAMAC,EACAC,EAXAC,EAAM,YAAG/wE,OAAO21B,OAAO,CAACq7C,uBAAuB,GAAOpuE,IACtD6yB,EAAK,GAILw7C,EAAe,EACf90C,EAAO,GACP9uB,EAAW,EACX6jE,EAAiB,EAIjBC,EAAgB,GAChBC,EAAY,QAEZC,GADYzuE,EAAI0uE,UACN,CACZC,SAAU,EACVC,SAAU,EACVC,SAAU,IAERhuE,EAAY,KAEZiuE,EAAS,OAIbj8C,EAAGk8C,UAAY,EACfl8C,EAAG+F,SAAWu1C,EACdt7C,EAAGh1B,KAAOmC,EAAInC,MAAQiwE,EAAe,GACrCj7C,EAAGhvB,KAAO,SAAS7D,GAAqB,OAAfmuE,EAAItqE,KAAK7D,GAAa6yB,GAE/CA,EAAGqB,KAAO,SAASl0B,GAAqB,OAAfmuE,EAAIj6C,KAAKl0B,GAAa6yB,GAE/CA,EAAGsJ,QAAUgyC,EAAIhyC,QACjBtJ,EAAG+I,MAAQ,UAAS,OAClBpB,EAAS,OAAM,KACfv4B,EAAO,MAAK,UACZw4B,EAAY,IAAG,OACfjP,EAAM,UACNujD,EAAS,OACTnuE,IA0DA,OAxDA0J,EAAa1J,EACbiyB,EAAGk8C,UAAYA,EAEF,QAAVv0C,GACDW,EAAa,IAAIuxC,EAAW,CAC1BC,KAAMnhD,EACNohD,MAAOmC,EACPt0C,cAEFhwB,EAAW+gB,EAAOnrB,KAEhB2tE,OADiBj/D,IAAfzE,EACU,IACH,IAAI+iB,QAAS,CAACC,EAASC,KAC5B4N,EAAW6zC,YAAY1zC,KAAM16B,IAC3B0J,EAAa1J,EACNu6B,EAAW8zC,KAAK,UAExB3zC,KAAKnsB,IACJme,EAAQne,KAET+/D,MAAMvzC,IACLpO,EAAOoO,OAKD,IACHR,EAAW8zC,KAAK,SAIR,UAAVz0C,EACTwzC,EAAY,IACH,IAAI3gD,QAAS,CAACC,EAASC,KAC5BD,EAAQ9B,EAAOujD,OAInBP,EAAY,OACZR,EAAY,IACH,IAAI3gD,QAAS,CAACC,EAASC,KAC5B,IAAG6N,KAAK79B,IAAI,CACVm9B,IAAKlP,EAAS,UAAYujD,EAC1B1zC,SAAU,SAEXC,KAAMnsB,IACL7E,EAAa6E,EAAIvO,OACjB0sB,EAAQne,EAAItL,QAEbqrE,MAAOvzC,IACNpO,EAAOoO,QAMR9I,GAGT,IAAI,IAAIs8C,KAAOpB,EACbl7C,EAAGs8C,GAAO,SAASnvE,GACjB,IAAIovE,EAAM,GAGV,OAFAA,EAAID,GAAOnvE,EACXu5B,EAAKv3B,KAAKotE,GACHv8C,GAwTX,OApTAA,EAAGw8C,UAAY,SAASn2D,GAEtB,OADW,IAAIo2D,EAAA,EAAWnB,EAAIniE,IAAIf,QACtBokE,UAAUn2D,IAGxB2Z,EAAGoD,QAAU,SAASmG,GACpB,IAAI7C,EAAO,GAeX,OAdGz3B,MAAMC,QAAQq6B,IACfA,EAAM96B,SAAQ,SAAS4X,GACrB,IAAIk2D,EAAM,GACNhpE,EAAMhJ,OAAOqD,KAAKyY,GAAM,GACxBlZ,EAAMkZ,EAAK9S,GACA,MAAXA,EAAI,KACNA,EAAMA,EAAIiC,MAAM,IAEG,mBAAXwqB,EAAGzsB,KACXgpE,EAAIhpE,GAAOpG,GAEbu5B,EAAKv3B,KAAKotE,MAGP71C,GAGT1G,EAAG0G,KAAO,WACR,OAAOA,GAGT1G,EAAG08C,eAAiB,SAASh2C,GAC3B,IAAIX,EAAW,GASf,OARAx7B,OAAOqD,KAAK84B,GAAMj4B,QAAQ8E,IACxB,IAAI2iE,EAAO,GACXA,EAAK3iE,GAAOmzB,EAAKnzB,GACP,aAAPA,GAAsBmzB,EAAK9f,MAC5BsvD,EAAK3iE,GAAKqT,IAAM8f,EAAK9f,KAEvBmf,EAAS52B,KAAK+mE,KAETnwC,GAGT/F,EAAG28C,MAAQ,SAASj2C,GAClB,IAAIk2C,EAAU,GASd,OARAl2C,EAAKj4B,QAAQi4B,IACX,IAAIniB,EAAOyb,EAAG08C,eAAeh2C,GAC7Bk2C,EAAQztE,KAAKoV,KAEf62D,EAAkBwB,EAAQhpE,IAAI+oE,GACrB38C,EAAGoD,QAAQpD,EAAGw8C,UAAUG,KAG1B38C,GAGTA,EAAG5lB,OAAS,SAAS4wB,EAASzB,GAK5B,OAJA+xC,EAAIniE,IAAIuL,WAAY,EACpB42D,EAAIv0C,OACJu0C,EAAIvwC,WAAWC,GACfswC,EAAI55D,IAAIse,EAAGoD,QAAQpD,EAAGw8C,UAAUjzC,KACzBvJ,GAGTA,EAAG68C,SAAW,SAAStzC,GAErB,OADA8xC,EAAcr7C,EAAGoD,QAAQmG,GAClBvJ,GAGTA,EAAG88C,YAAc,SAAS9rE,GAExB,IAAIoL,EAAQ,IAAGhP,OAAsB,OAAdY,EAAsB,CAACA,aAAa,IAC3DoO,EAAMzJ,OAAO,CACX3B,KAAMA,EAAKwE,MAAM,GACjBzH,OAAQ0J,EACRrI,KAAMusE,IAER,IAAIoB,EAAQ3gE,EAAMpL,OAIlB,OAHkB,OAAdhD,IACFA,EAAY+uE,EAAM/uE,WAEb+uE,GAGT/8C,EAAGi8C,OAAS,SAASzsE,GAEnB,OADAysE,EAASzsE,EACFwwB,GAETA,EAAGg9C,WAAa,aAEhBh9C,EAAGi9C,aAAe,WAChBj9C,EAAG4tB,OAAOnlB,MAAK,SAASy0C,GACjBA,EAAOC,MACVC,sBAAsBp9C,EAAGi9C,kBAK/Bj9C,EAAGlsB,MAAQ,WAET,OADAspE,sBAAsBp9C,EAAGi9C,cAClBj9C,GAGTA,EAAG4tB,KAAO,SAASp7B,GACO,mBAAf,IACPypD,EAASzpD,GAGXgpD,IACAC,GAAkBz7C,EAAGk8C,UAGrB,IAAIgB,EAAU,CACVzvE,MAAO+tE,EACP6B,UAAW5B,GAQf,OAAO,IAAIjhD,QAAQ,CAACC,EAASC,KAC3BygD,IAAY1yC,KAAKz3B,IACf,IACIssE,EADAC,EAAYC,YAAYC,MAG1BH,EADCtsE,EAAKa,mBACMb,EAEAgvB,EAAG88C,YAAY9rE,GAE7B4qE,EAAQE,SAAW0B,YAAYC,MAAQF,EACpBC,YAAYC,MACZ,GAAhBjC,EACDF,EAAItqE,KAAKssE,IAEThC,EAAIniE,IAAIuL,WAAY,EACpB42D,EAAIv0C,OACJu0C,EAAIvwC,WAAWuyC,IAGdlC,EAAgBnvE,QACjBmvE,EAAgB3sE,QAAQivE,IACtBpC,EAAIv0C,OAAOrlB,IAAIg8D,KAIhBhC,EAAczvE,QACfyvE,EAAcjtE,QAAQivE,IACpBpC,EAAIv0C,OAAOrlB,IAAIse,EAAG08C,eAAegB,EAAGh3C,OACpCg3C,EAAGlqE,OAAS8nE,EAAI9nE,OAAO,CAACmI,UAAW+hE,EAAGh3C,KAAK9f,MAAMnS,OAAOtK,GAAe,IAAZA,EAAEsD,SAIjE6tE,EAAI55D,IAAI25D,GACRO,EAAQG,SAAWyB,YAAYC,MAAQF,EACvC3B,EAAQI,UAAYJ,EAAQG,SAE5BthD,EAAQyiD,GACRjB,EAAOiB,EAAQtB,QAKrB57C,EAAG29C,eAAiB,SAAS9X,EAAI+X,GAC/B,IAAI9sE,EAAQvG,OAAOqD,KAAKi4D,GAAIxxD,OAAO9J,OAAOqD,KAAKgwE,IAC9CnpE,OAAO2kB,GAAiB,QAATA,GACf3lB,QAAO,SAASJ,EAAGnJ,GAElB,OADImJ,EAAEvE,QAAQ5E,GAAK,GAAGmJ,EAAElE,KAAKjF,GACtBmJ,IACN,IACFF,OACA6kB,UAEGgY,EAAS,GAQb,OAPAl/B,EAAMrC,QAAQ2qB,IACZ4W,EAAO5W,GAAQ7uB,OAAO21B,OAAO,GAAI2lC,EAAGzsC,GAAOwkD,EAAGxkD,IACf,iBAApBysC,EAAGzsC,GAAM1S,QAAkD,iBAApBk3D,EAAGxkD,GAAM1S,SACzDspB,EAAO5W,GAAM1S,OAAS,CAACm/C,EAAGzsC,GAAM1S,OAAQk3D,EAAGxkD,GAAM1S,WAI9CspB,GAGThQ,EAAG69C,MAASC,IACVA,EAAUrvE,QAAS4X,IACjB,IAAI9S,EAAMhJ,OAAOqD,KAAKyY,GAAM,GACJ,mBAAb2Z,EAAGzsB,IACZysB,EAAGzsB,GAAK8S,EAAK9S,MAGVysB,GAGTA,EAAGsJ,QAAWw0C,IACZ99C,EAAG69C,MAAMC,GACT99C,EAAG4tB,QAGL5tB,EAAGwJ,SAAW,SAASpH,GA2GrB,OA1GAA,EAAa3zB,QAAQg7B,IACnB,IAAIpjB,EAAOojB,EAEX6xC,EAAI9xC,SAASC,GACb,IAAIs0C,EAAa,CACfC,WAAY33D,EAAK6D,KACjB+zD,YAAa1zE,OAAOqD,KAAKyY,EAAK4b,WAG5Bi8C,EAAa7C,EAAY8C,KAAKxyE,GAGzBA,EAFGpB,OAAOqD,KAAKjC,GAAG,IAEXsN,KAAO8kE,EAAWC,YAG9BI,EAAiB,GAErBhD,EAAgB+C,KAAKp4C,GACTA,EAASo4C,KAAKxyE,GAAKA,EAAEib,KACpBA,MAAQs3D,EAAWxgD,UAAUgD,IAEzCjyB,QAAQ9C,GAAKpB,OAAO21B,OAAOk+C,EAAgBzyE,IAE5CyvE,EAAgB3mE,OAAO9I,GAAKA,EAAEib,KAAgB,KAATjb,EAAEib,KAEvCm3D,EAAWE,YAAYxvE,QAAQ4vE,IAC7B,IAAIzwD,EAAOytD,EAAY8C,KAAKxyE,GAEnBA,EADGpB,OAAOqD,KAAKjC,GAAG,IACXsN,KAAOolE,GACpB3gD,UAEC4gD,EAAiB,GAErBlD,EAAgB+C,KAAKp4C,GACTA,EAASo4C,KAAKxyE,GAAKA,EAAEib,KACpBA,MAAQgH,EAAK8S,IAEzBjyB,QAAQ9C,GAAKpB,OAAO21B,OAAOo+C,EAAgB3yE,IAG5C,IAAI4yE,EAAYv+C,EAAG29C,eAAeS,EAAgBE,GAClDC,EAAU33D,IAAM,CAAC,cAAem3D,EAAWC,WAAYK,GAAIltD,KAAK,KAChEuqD,EAAcvsE,KAAK,CACjBu3B,KAAM63C,EACN/qE,OAAQ,GACRwqE,WAAYD,EAAWC,WACvBQ,WAAYH,MAKhBh4D,EAAKmM,SAAY7T,IACf,IAAI8/D,EAAgBl0E,OAAOqD,KAAK+Q,GAE5B8qB,EAAY1I,YACV0I,EAAY1I,UAAUr1B,eAAe,OAAS+9B,EAAY1I,UAAUjkB,GACtE2hE,EAAcnuE,QAEZm5B,EAAY1I,UAAUr1B,eAAe,OAAS+9B,EAAY1I,UAAUlkB,GACtE4hE,EAAc/xD,OAIAgvD,EAAcjnE,OAAO9I,GAAKA,EAAEqyE,aAAeD,EAAWC,YAC5DvvE,QAAQiwE,IAClB,IAAIr9C,EAAOi6C,EAAIx0C,WAAWq3C,KAAK3tE,GAAKA,EAAEyI,KAAOylE,EAAKF,YAE9CtpB,EAAUwpB,EAAKlrE,OAAOiB,OAAOtK,IAC/B,IAAIw0E,GAAW,EASf,OARAF,EAAchwE,QAAQ+D,IAElBmsE,EAD6B,IAA3BhgE,EAAUnM,GAAMvG,OACP0yE,GAAax0E,EAAEqI,KAAU7C,SAASgP,EAAUnM,GAAM,IAGlDmsE,GAAax0E,EAAEqI,GAAQmM,EAAUnM,GAAM,IAAMrI,EAAEqI,GAAQmM,EAAUnM,GAAM,KAG/EmsE,IAGT,GAAGzpB,EAAQjpD,OAAQ,CACjB,IAAIuH,EAAS,IAAGuyB,WAAWniB,UAAU,CACnC8C,OAAQ2a,EAAKzT,KAAK9Q,EAClByJ,SAAU,CACR9Y,MAAO,CAACmxE,KAAM,YAGjBx4D,QAAQ8uC,GAET,GAAG1hD,EAAOvH,OAAQ,CAChB,IAAI8+B,EAAav3B,EAAOL,KAAK,CAACC,EAAEC,IAC1BD,EAAEiuB,EAAKzT,KAAK9Q,GAAMzJ,EAAEguB,EAAKzT,KAAK9Q,IAAY,EAC1C1J,EAAEiuB,EAAKzT,KAAK9Q,GAAMzJ,EAAEguB,EAAKzT,KAAK9Q,GAAW,EACtC,GAETukB,EAAK3K,KAAKtc,OAAO2wB,EAAYtB,EAAYxH,SAASZ,EAAKpoB,IAAI4lE,SAAS5gE,cAO9E+hB,EAAG8+C,WAAa,WACd,OAAOlD,GAGF57C,GAGFA,EAtaT,EAAG5yB,OAAS,IAAGA,OACf,EAAG2rE,SAAW,IAAGA,U,6BCVjB,yCAGIxkB,EAAsB,iBAAR3jC,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAVkoD,GAAsBA,EAAOA,SAAWA,GAAUA,QACzD,EAEX,IAAG2D,WAAa,IAChBloB,EAAKv0B,GAAK,IAEK,YAAE,EAEkBp2B,EAAOD,UACtCC,EAAOD,QAAU,M,yCCbrB,IAAIm0B,EAGJA,EAAI,WACH,OAAOzwB,KADJ,GAIJ,IAECywB,EAAIA,GAAK,IAAI8E,SAAS,cAAb,GACR,MAAOluB,GAEc,iBAAXwL,SAAqB4d,EAAI5d,QAOrCtW,EAAOD,QAAUm0B,G,gBCnBjB,IAAIrnB,EAAS,EAAQ;;;;;GAmBrB7M,EAAOD,QAAU,WACf,OAAO8M,EAAOm1B,UACK,oBAAVmzC,OACY,oBAAZC,U,cCtBX,IAAIC,EAAe10E,OAAO20E,0BAAyB,cAAgB;;;;;GA0CnEt1E,EAAOD,QAAU,SAAyB6M,EAAI2oE,EAAeC,GAC3D,OAAKH,EAAaI,cAElB90E,OAAOC,eAAegM,EAAI,SAAU,CAClC9L,IAAK,WACH,GAAI00E,EACF,MAAMrwE,MAAM,0BAA4BowE,EAAgB,2EAEtDA,EAAgB,WAAaA,EAAgB,uBAGjD,MAAMpwE,MAAM,0BAA4BowE,EAAgB,0CACtBA,EAAgB,SAI/C3oE,GAfgCA,I,gBC3CzC,IAAIC,EAAS,EAAQ,GACjBO,EAAO,EAAQ,GACfsoE,EAAgB,EAAQ,IACxBC,EAAiB,EAAQ,IA2BzBC,EAAW,CAAC,UAAW,YAAa,OAAQ,UAEhD51E,EAAOD,QAAU,SAAiBkC,EAAK4zE,GACrC,OAAKF,IAEE,IAAIR,MAAMlzE,EAAK,CACpBnB,IAAK,SAASg1E,EAAYzgC,EAAQzzC,GAKhC,GAAwB,iBAAbA,IACyC,IAAhDiL,EAAOo1B,kBAAkB/8B,QAAQtD,KAChCwzE,QAAQ5uC,IAAI6O,EAAQzzC,GAAW,CAElC,GAAIi0E,EACF,MAAM1wE,MAAM,0BAA4B0wE,EAAyB,IAC/Dj0E,EAAW,mCACXi0E,EAAyB,MAM7B,IAAIE,EAAa,KACbC,EAAqB,EAkBzB,MAjBAN,EAAcrgC,GAAQxwC,SAAQ,SAAS2qB,GACrC,IACG7uB,OAAOkB,UAAUC,eAAe0tB,KACL,IAA5BomD,EAAS1wE,QAAQsqB,GACjB,CACA,IAAIsD,EAmDhB,SAA8BmjD,EAAMC,EAAMC,GACxC,GAAI9vE,KAAK6E,IAAI+qE,EAAK5zE,OAAS6zE,EAAK7zE,SAAW8zE,EACzC,OAAOA,EAOT,IAJA,IAAIC,EAAO,GAIFn2E,EAAI,EAAGA,GAAKg2E,EAAK5zE,OAAQpC,IAChCm2E,EAAKn2E,GAAKoF,MAAM6wE,EAAK7zE,OAAS,GAAGoJ,KAAK,GACtC2qE,EAAKn2E,GAAG,GAAKA,EAEf,IAAK,IAAIwG,EAAI,EAAGA,EAAIyvE,EAAK7zE,OAAQoE,IAC/B2vE,EAAK,GAAG3vE,GAAKA,EAGf,IAASxG,EAAI,EAAGA,GAAKg2E,EAAK5zE,OAAQpC,IAChC,KAAIo2E,EAAKJ,EAAK79B,WAAWn4C,EAAI,GAC7B,IAASwG,EAAI,EAAGA,GAAKyvE,EAAK7zE,OAAQoE,IAC5BJ,KAAK6E,IAAIjL,EAAIwG,IAAM0vE,EACrBC,EAAKn2E,GAAGwG,GAAK0vE,EAGfC,EAAKn2E,GAAGwG,GAAKJ,KAAK8B,IAChBiuE,EAAKn2E,EAAI,GAAGwG,GAAK,EACjB2vE,EAAKn2E,GAAGwG,EAAI,GAAK,EACjB2vE,EAAKn2E,EAAI,GAAGwG,EAAI,IACb4vE,IAAOH,EAAK99B,WAAW3xC,EAAI,GAAK,EAAI,IAK7C,OAAO2vE,EAAKH,EAAK5zE,QAAQ6zE,EAAK7zE,QApFTi0E,CACT10E,EACA4tB,EACAwmD,GAEEljD,EAAOkjD,IACTD,EAAavmD,EACbwmD,EAAqBljD,OAKR,OAAfijD,EACI5wE,MAAM,0BAA4BvD,EACtC,mBAAqBm0E,EAAa,MAE9B5wE,MAAM,0BAA4BvD,GAoB5C,OAJoC,IAAhCg0E,EAAS1wE,QAAQtD,IAAqBwL,EAAKioC,EAAQ,aACrDjoC,EAAKioC,EAAQ,OAAQygC,GAGhBV,QAAQt0E,IAAIu0C,EAAQzzC,MAhEDK,I,6BCjCzB,SAASs0E,EAAQhzE,GACpB,IAAI06B,EAAM16B,EAAI06B,KAAO16B,EACjBw6B,EAASx6B,EAAIw6B,QAAU,MACvBa,EAAWr7B,EAAIq7B,UAAY,OAC3Bx3B,EAAO7D,EAAI6D,MAAQ,GACnBi8B,EAAQ,GAEZ,IAAK,IAAI7hC,KAAO4F,EACZi8B,EAAM99B,KAAKixE,mBAAmBh1E,GAAO,IAAMg1E,mBAAmBpvE,EAAK5F,KAGvE,OAAO,IAAIovB,SAAQ,SAASC,EAASC,GAEjC,IAAI2lD,EAAM,IAAIC,eACdD,EAAIE,KAAK54C,EAAQE,GACjBw4C,EAAIG,aAAeh4C,EAEnB63C,EAAI5kD,OAAS,WACO,KAAd4kD,EAAInD,OACNziD,EAAQ4lD,EAAIp+C,UAGZvH,EAAO3rB,MAAMsxE,EAAII,cAIrBJ,EAAItkD,QAAU,WACZrB,EAAO3rB,MAAM,mBAGD,QAAV44B,GACA04C,EAAIK,iBAAiB,eAAgB,qCAGzCL,EAAIM,KAAK3vE,MAlCjB,+JAsCO,IAAItG,EAAMy1E,EAEV,SAASS,EAAOtzE,GACnB,IAAIuzE,EAAW,GAYf,OAXAvzE,EAAQmB,SAAQ,SAAS+O,GACrBqjE,EAAS1xE,KACLgxE,EAAQ3iE,GACPirB,MAAK,SAASj1B,GACX,OAAO,IAAIgnB,SAAQ,SAASC,EAASC,GACjCD,EAAQjnB,aAMjBgnB,QAAQsmD,IAAID,GAGhB,SAASE,EAAK5zE,GAEjB,OADAA,EAAIw6B,OAAS,OACNY,KAAK43C,QAAQhzE,K,6BC1DT,SAASi7B,EAAMnW,EAAM2V,GAWhC,IATA,IAEI/9B,EACA0G,EAHA/C,EAAOykB,EAAKhmB,OACZkI,EAAQ,EAGR9B,EAAO,GAKL8B,EAAQ3G,GACV3D,EAAIsK,GAAa,EACjB5D,EAAMywE,EAAS/uD,EAAM2V,EAAUoa,WAAW,GAAIn4C,GAC9CwI,EAAKlD,KAAKoB,EAAI6H,QACdjE,GAAS5D,EAAI/C,KAEjB,OAAO6E,EAGX,SAAS2uE,EAAS/uD,EAAMgvD,EAAeC,GAWnC,IATA,IAGIt8C,EAEA+B,EALAw6C,GAAM,EACNC,GAAQ,EACRl3E,EAAIg3E,EAEJ1xE,EAAI0xE,EAEJ9oE,EAAS,GACTutC,EAAI1zB,EAAKhmB,QAENk1E,GAAI,CAEP,GAAY,MADZv8C,EAAO3S,EAAK+vB,WAAW93C,KACLA,GAAGy7C,EACjBw7B,GAAM,EAEN/oE,EAAOjJ,KAAM8iB,EAAKzc,MAAMhG,EAAGtF,SAE3B,GAAG06B,IAASq8C,GAAkBG,EAKX,KAATx8C,IACHw8C,EACInvD,EAAK+vB,WAAW93C,EAAE,KAAO+2E,IACxBG,GAAQ,EACRhpE,EAAOjJ,KAAK8iB,EAAKzc,MAAMmxB,EAAGz8B,IAC1BsF,EAAItF,EAAE,EACNA,MAGJy8B,EAAIz8B,EAAE,EACNk3E,GAAQ,QAfqB,CAEjC,IAAI5oE,EAAQyZ,EAAKzc,MAAMhG,EAAGtF,GAC1BkO,EAAOjJ,KAAMqJ,GACbhJ,EAAItF,EAAE,EAedA,IAEJ,MAAO,CAAEkO,OAAQA,EAAQ5K,KAAMtD,EAAEg3E,GA3DrC,mC,+DCCe,MAAMzE,EACnB,YAAY9uE,EAAY0zE,GACvBh0E,KAAKM,WAAaA,EAGnB,UAAW2zE,GACT,IAAIj7D,EAAO,GACX,IAAK,IAAIse,KAAQ28C,EAAO,CACtB,IAAI/tE,EAAMhJ,OAAOqD,KAAK+2B,GAAM,GAClB,cAAPpxB,EACD8S,EAAKlX,KAAK,CAACoyE,WAAYl0E,KAAKuW,UAAU+gB,EAAKpxB,MAI3C8S,EAAKlX,KAAK5E,OAAO21B,OAAO,GAAIyE,IAGhC,OAAOte,EAGT,UAAWse,GACT,IAAIj1B,EAAWi1B,EAAK68C,UAAYn0E,KAAKM,WACjC8zE,EAAW98C,EAAK+8C,UAAY,GAC5BC,EAAah9C,EAAKi9C,YAAc,GAChCxpE,EAAS1I,EAAS+E,OAAOjC,IAAoC,IAA5BivE,EAAS3yE,QAAQ0D,IAClDqvE,EAAa,GAEjB,IAAK,IAAItuE,KAAOouE,EACF,UAARpuE,EACFsuE,EAAkB,MAAI,CAACC,OAAQ,KAE/B1pE,EAAO3J,QAAS+J,IACd,IAAIqa,EAAS,CAACtf,EAAKiF,GAAO2Y,KAAK,KAC/B0wD,EAAWhvD,GAAU,GACrBgvD,EAAWhvD,GAAQ,IAAItf,GAAOiF,IAIpC,OAAOjO,OAAO21B,OAAO,CAAC3Z,SAAUs7D,GAAal9C,GAG/C,UAAWA,GACT,IAAIV,EAASU,EAAKV,QAAUU,EAAKT,MAEjC,QAAehoB,IAAX+nB,EAAsB,OAAOU,EAEjC,IAAItyB,EAAO4xB,EAAO5xB,MAAQ4xB,EAAO1zB,IAC7BhD,EAAU02B,EAAO12B,SAAW02B,EAAOmI,OACnC/lB,EAAOhU,GAAQ9E,EAEf+zB,EAAY/2B,OAAOqD,KAAK+2B,GAAMlwB,OAAOnF,GAAW,WAANA,GAE1Cm1B,EAAYl6B,OAAOqD,KAAKyY,GAExBqe,EAAez0B,KAAK8B,OAAO0yB,EAAU7wB,IAAIpD,GAAK6V,EAAK7V,GAAGvE,SAEtD+3B,EAAQ,IAAI/0B,MAAMy1B,GACtB,IAAI,IAAI76B,EAAI,EAAGA,EAAI66B,EAAc76B,IAAK,CACpC,IAAI+jB,EAAO,GACX0T,EAAU7yB,QAAQm2B,IAChB,IAAIxzB,EAAKqzB,EAAU31B,QAAQ61B,EAAKC,IAE9BhX,EAAKgX,GADJxzB,EAAK,EACOuzB,EAAKC,GAELve,EAAKoe,EAAUrzB,IAAKvH,KAGrCm6B,EAAMn6B,GAAK+jB,EAKb,OAHAoW,EAAMC,OAASA,EACfD,EAAM4xB,MAAQ3xB,EAAO2xB,MACrB5xB,EAAMG,OAASF,EAAOE,OACfH,K,gBCzEXp6B,EAAOD,QAAU,EAAQ,I,6BCAV,SAASo4E,EAAQC,EAAW53E,EAAMgF,EAAM4B,GAEnD,IAAI4I,EAAWvM,gBAAgB00E,EAAW10E,KAAO,GAC7C8L,EAAM6oE,EAEV,SAASC,EAAe9gE,GACpB,IAAI+gE,EAAK,GAIT,OAHA/gE,EAAa1S,SAAQ,SAAS2E,GAC1B8uE,EAAKA,EAAG7tE,OAAOjB,MAEZ8uE,EAgBX,SAASC,IACL,IAcIlrE,EAdA7H,EAAO/B,KAAK+B,KACZmK,EAAWlM,KAAKkM,SAChB/L,EAAOH,KAAKG,KACZwD,EAAO3D,KAAK2D,KAEb/B,MAAMC,QAAQ8B,KACEA,EAAKyD,QAAO,SAAStK,GAAG,OAAO8E,MAAMC,QAAQ/E,QAExD6G,EAAOixE,EAAejxE,KAGlB,SAAR5B,GAA2B,OAARA,GAAmBH,MAAMC,QAAQ8B,IAAUK,YAAYC,OAAON,KACjFA,EAAO,CAACA,IAGW,OAAnB5B,EAAKoG,MAAM,EAAE,IAAuB,SAARpG,GAC5B6H,EAAM,IAAI1K,aAAayE,GACvBmI,EAAI,UAAY3L,EAAO,MAAM+L,EAAUtC,IACd,QAAnB7H,EAAKoG,MAAM,EAAE,IAAwB,OAARpG,GACnC6H,EAAM,IAAI9K,WAAW6E,GACrBmI,EAAI,UAAY3L,EAAO,MAAM+L,EAAUtC,IACd,OAAnB7H,EAAKoG,MAAM,EAAE,IACnByB,EAAM,IAAI1K,aAAayE,GACvBmI,EAAI,gBAAkB3L,EAAO,MAAM+L,GAAU,EAAOtC,IACtC,aAAR7H,GACH4B,EAAKtF,eAAe,iBAAwC,WAArBsF,EAAKoxE,eAC3CjpE,EAAIkpE,cAAclpE,EAAImpE,SAAWtxE,EAAKnC,OACtCsK,EAAIopE,YAAYppE,EAAIqpE,WAAYxxE,EAAKyxE,KACrCtpE,EAAIupE,UAAUnpE,EAAUvI,EAAKnC,QA0DzC,OArDA+K,EAAQzO,OAAS,SAASf,EAAMgF,EAAM4B,GAE/B/B,MAAMC,QAAQ8B,KACEA,EAAKyD,QAAO,SAAStK,GAAG,OAAO8E,MAAMC,QAAQ/E,MAChD8B,OAAS,IACjB+E,EAAOixE,EAAejxE,KA4C9B,OAxCA4I,EAAQxP,GAAQ,CACZgF,KAAMA,EACNhF,KAAMA,EACN4G,KAAMA,EACNuI,SAAU,KACV/L,KAAMmC,SAASP,EAAKoG,MAAM,EAAE,KAAO7F,SAASP,EAAKoG,MAAM,EAAE,KAAO,GAGpEoE,EAAQxP,GAAMu4E,KAAO,SAAS9+D,GAK1B,YAJwB,IAAdxW,KAAK2D,MAAsC,OAAd3D,KAAK2D,OACxC3D,KAAKkM,SAAWJ,EAAIypE,mBAAmB/+D,EAASxW,KAAKjD,MACrD+3E,EAAWn4E,KAAKqD,OAEbA,MAGXuM,EAAQxP,GAAMU,MAAQ,SAAS05B,GAC5Bn3B,KAAK2D,KAzEZ,SAAkBA,GACd,OAAG/B,MAAMC,QAAQ8B,IACEA,EAAKyD,QAAO,SAAStK,GAAG,OAAO8E,MAAMC,QAAQ/E,MAChD8B,OAAS,EACXg2E,EAAejxE,GAKlBA,EAgEI6xE,CAASr+C,IAGxB5qB,EAAQxP,GAAMq2B,KAAO,SAASzvB,GAE1B,OADA3D,KAAK2D,KAAOA,EACL3D,MAGXuM,EAAQxP,GAAMisE,OAAS,WACnB,IAAIA,EAAS,WAAahpE,KAAK+B,KAAO,IAAM/B,KAAKjD,KAC7C0I,EAAM,EAUV,MARgB,aAAbzF,KAAK+B,OACJ0D,EAAMzF,KAAK2D,KAAK/E,OAASoB,KAAKG,MAI/BsF,EAAM,GAAa,QAAR1D,IACVinE,GAAU,IAAMvjE,EAAM,KAEnBujE,EAAS,OAGbz8D,EAAQxP,IAIZwP,ECjHI,SAASkpE,EAAUd,GAE9B,IAAIhpE,EAAa3L,gBAAgBy1E,EAAaz1E,KAAO,GACjD8L,EAAM6oE,EACNe,EAAc,EAElB,SAASvyD,EAAapmB,EAAM4G,IACrB/B,MAAMC,QAAQ8B,IAASK,YAAYC,OAAON,MACrCK,YAAYC,OAAON,KACnBA,EAAO,IAAIzE,aAAayE,IAE5BgI,EAAU5O,GAAM4G,KAAOA,EACvBmI,EAAI6pE,WAAW7pE,EAAI8pE,aAAcjqE,EAAU5O,GAAMq4E,KACjDtpE,EAAI+pE,WAAW/pE,EAAI8pE,aAAcjyE,EAAMmI,EAAIgqE,cA+CnD,OA5CAnqE,EAAU7N,OAAS,SAASf,EAAMgF,EAAM4B,GAyCpC,OAxCAgI,EAAU5O,GAAQ,CACdA,KAAMA,EACNgF,KAAMA,GAAQ,QACd4B,KAAM,KACNuI,SAAUwpE,IACVN,IAAKtpE,EAAIiqE,eACT51E,KAAMmC,SAASP,EAAKoG,MAAM,EAAE,KAAO,GAG3B,OAATxE,GAAiBA,EAAK/E,QAAQukB,EAAapmB,EAAM4G,GAEpDgI,EAAU5O,GAAMu4E,KAAO,SAAS9+D,GAK5B,OAJA1K,EAAI6pE,WAAW7pE,EAAI8pE,aAAc51E,KAAKo1E,KACtCp1E,KAAKkM,SAAWJ,EAAIkqE,kBAAkBx/D,EAASxW,KAAKjD,MACpD+O,EAAImqE,oBAAoBj2E,KAAKkM,SAAUlM,KAAKG,KAAM2L,EAAIwO,OAAO,EAAO,EAAG,GACvExO,EAAIoqE,wBAAwBl2E,KAAKkM,UAC1BlM,MAGX2L,EAAU5O,GAAMq2B,KAAO,SAAS+iD,GAE5B,OADAhzD,EAAanjB,KAAKjD,KAAMo5E,GACjBn2E,MAGX2L,EAAU5O,GAAMisE,OAAS,WACrB,MAAO,aAAehpE,KAAK+B,KAAO,IAAM/B,KAAKjD,KAAO,OAGxD4O,EAAU5O,GAAMgQ,OAAS,SAASiC,EAAQrL,GAClCK,YAAYC,OAAON,KACnBA,EAAO,IAAIzE,aAAayE,IAE5BmI,EAAI6pE,WAAW7pE,EAAI8pE,aAAc51E,KAAKo1E,KACtCtpE,EAAIsqE,cAActqE,EAAI8pE,aAAc5mE,EAAQrL,IAGhDgI,EAAU5O,GAAMs5E,OAAS,WACrBvqE,EAAIwqE,aAAat2E,KAAKo1E,MAGnBzpE,EAAU5O,IAGd4O,EC1DI,SAAS4qE,EAAQ5B,GAE5B,IAAIjoE,EAAW1M,gBAAgBu2E,EAAWv2E,KAAO,GAC7C8L,EAAM6oE,EACN6B,EAAY,EAEhB,SAASC,EAAW15E,EAAM25E,GACtB,IAAI30E,EAAO+J,EAAIY,EAAQ3P,GAAMgF,KAAKixC,eAC9B3kC,EAASvC,EAAIY,EAAQ3P,GAAM6jB,QAAQoyB,eACnC1iC,EAAQ5D,EAAQ3P,GAAM+kB,IAAI,GAC1BvR,EAAS7D,EAAQ3P,GAAM+kB,IAAI,GAE/BpV,EAAQ3P,GAAM4G,KAAO+yE,EAErB5qE,EAAIopE,YAAYppE,EAAIqpE,WAAYzoE,EAAQ3P,GAAMq4E,KAC9CtpE,EAAI6qE,WAAW7qE,EAAIqpE,WAAY,EAAG9mE,EAAQiC,EAAOC,EAAQ,EAAGlC,EAAQtM,EAAM20E,GAC1E5qE,EAAI8qE,cAAc9qE,EAAIqpE,WAAYrpE,EAAI+qE,mBAAoB/qE,EAAIgrE,SAC9DhrE,EAAI8qE,cAAc9qE,EAAIqpE,WAAYrpE,EAAIirE,mBAAoBjrE,EAAIgrE,SAC9DhrE,EAAI8qE,cAAc9qE,EAAIqpE,WAAYrpE,EAAIkrE,eAAgBlrE,EAAImrE,eAC1DnrE,EAAI8qE,cAAc9qE,EAAIqpE,WAAYrpE,EAAIorE,eAAgBprE,EAAImrE,eAC1DnrE,EAAIopE,YAAYppE,EAAIqpE,WAAY,MA6GpC,OAjFAzoE,EAAQ5O,OAAS,SAASf,EAAMgF,EAAM+f,EAAKlB,EAASjd,EAAMwzE,GACtD,IAAIC,EAAY1qE,EAAQrO,eAAetB,GAAS2P,EAAQ3P,GAAMyE,MAAQg1E,IA6EtE,OA5EA9pE,EAAQ3P,GAAQ,CACZA,KAAMA,EACNyE,MAAO41E,EACPr1E,KAAMA,GAAQ,QACd+f,IAAKA,GAAO,CAAC,IAAK,KAClBlB,QAASA,GAAW,QACpBjd,KAAM,KACNuI,SAAU,KACVirE,QAASA,GAAW,KACpB/B,IAAKtpE,EAAIurE,iBAIbZ,EAAW15E,EAAM4G,GAEa,OAA1B+I,EAAQ3P,GAAMo6E,QACdzqE,EAAQ3P,GAAMo6E,QAAUzC,EAAQ5oE,GAAKhO,OAAOf,EAAM,YAAa2P,EAAQ3P,IAEvE2P,EAAQ3P,GAAMo6E,QAAQxzE,KAAO+I,EAAQ3P,GAGzC2P,EAAQ3P,GAAMu4E,KAAO,SAAS9+D,GAW1B,OAVkB,OAAdxW,KAAK2D,YAK4B,IAAtB3D,KAAKm3E,QAAY,MAA0C,OAAtBn3E,KAAKm3E,QAAQxzE,OACzD3D,KAAKm3E,QAAQxzE,KAAO+I,EAAQ3P,IAEhCiD,KAAKm3E,QAAQ7B,KAAK9+D,IAEfxW,MAGX0M,EAAQ3P,GAAMq2B,KAAO,SAASsjD,GAE1B,OADAD,EAAWz2E,KAAKjD,KAAM25E,GACf12E,MAGX0M,EAAQ3P,GAAMu6E,YAAc,WACxBxrE,EAAIopE,YAAYppE,EAAIqpE,WAAYn1E,KAAKo1E,KACrCtpE,EAAIyrE,eACAzrE,EAAIqpE,WACJ,EACArpE,EAAIkE,KACJ,EACA,EACAhQ,KAAK8hB,IAAI,GACT9hB,KAAK8hB,IAAI,GACT,GAEJhW,EAAIopE,YAAYppE,EAAIqpE,WAAY,OAGpCzoE,EAAQ3P,GAAMgQ,OAAS,SAAS2pE,EAAS1nE,EAAQ8S,GAE7C,OApFR,SAAuB/kB,EAAM25E,EAAS1nE,EAAS,CAAC,EAAG,GAAI8S,EAAM,CAACpV,EAAQ3P,GAAM+kB,IAAI,GAAIpV,EAAQ3P,GAAM+kB,IAAI,KAClG,IAAI/f,EAAO+J,EAAIY,EAAQ3P,GAAMgF,KAAKixC,eAC9B3kC,EAASvC,EAAIY,EAAQ3P,GAAM6jB,QAAQoyB,eACnC1iC,EAAQwR,EAAI,GACZvR,EAASuR,EAAI,GAEjBhW,EAAIopE,YAAYppE,EAAIqpE,WAAYzoE,EAAQ3P,GAAMq4E,KAC9CtpE,EAAI0rE,cAAc1rE,EAAIqpE,WAAY,EAAGnmE,EAAO,GAAIA,EAAO,GAAIsB,EAAOC,EAAQlC,EAAQtM,EAAM20E,GACxF5qE,EAAIopE,YAAYppE,EAAIqpE,WAAY,MA2E5BsC,CAAcz3E,KAAKjD,KAAM25E,EAAS1nE,EAAQ8S,GACnC9hB,MAGX0M,EAAQ3P,GAAMmvB,OAAS,SAASpK,EAAKne,GACjC3D,KAAK8hB,IAAMA,EACX20D,EAAWz2E,KAAKjD,KAAM4G,IAG1B+I,EAAQ3P,GAAMs5E,OAAS,WACnB1B,EAAU+C,cAAc13E,KAAKo1E,MAGjC1oE,EAAQ3P,GAAMisE,OAAS,WACnB,OAAIhpE,KAAKjD,MAAQiD,KAAKm3E,QAAQp6E,KACnB,qBAAuBiD,KAAKm3E,QAAQp6E,KAAO,MAE3C,IAGR2P,EAAQ3P,IAGZ2P,ECnII,SAASirE,EAAQhD,GAE5B,IAAIloE,EAAWzM,gBAAgB23E,EAAW33E,KAAO,GAsBjD,OAnBAyM,EAAQ3O,OAAS,SAASf,EAAMgF,EAAM5B,GAgBlC,OAfAsM,EAAQ1P,GAAQ,CACZA,KAAMA,EACNgF,KAAMA,GAAQ,QACd5B,KAAMA,GAAQ,GAGlBsM,EAAQ1P,GAAMu4E,KAAO,aAErB7oE,EAAQ1P,GAAMisE,OAAS,WACnB,IAAIA,EAAS,WAAahpE,KAAK+B,KAAO,IAAM/B,KAAKjD,KAGjD,OAFGiD,KAAKG,KAAO,IACX6oE,GAAU,IAAMhpE,KAAKG,KAAO,KACzB6oE,EAAS,OAGbv8D,EAAQ1P,IAGZ0P,ECxBI,SAASmrE,IAEpB,IAAI3qE,EAAcjN,gBAAgB43E,EAAc53E,KAAO,GA0BvD,OAxBAiN,EAAWnP,OAAS,SAASf,EAAMgF,EAAMoH,GAqBrC,OApBA8D,EAAWlQ,GAAQ,CACfA,KAAMA,EACNgF,KAAMA,GAAQ,QACdoH,GAAIA,EACJ4rE,aAAc,cAGlB9nE,EAAWlQ,GAAMu4E,KAAO,SAAS9+D,GAC7B,OAAOxW,MAGXiN,EAAWlQ,GAAMq2B,KAAO,SAASjqB,GAE7B,OADA8D,EAAWlQ,GAAMoM,GAAKA,EACfnJ,MAGXiN,EAAWlQ,GAAMisE,OAAS,WACtB,OAAOhpE,KAAKmJ,GAAG4f,YAGZ9b,EAAWlQ,IAGfkQ,ECtBI,SAAS4qE,EAASlD,GAC7B,IAAImD,EAAY93E,gBAAgB63E,EAAY73E,KAAO,GAC/C+3E,EAAe,GAEnBD,EAASvrE,QAAU,IAAImoE,EAAQC,GAC/BmD,EAASnsE,UAAY,IAAI8pE,EAAUd,GACnCmD,EAASprE,QAAU,IAAI6pE,EAAQ5B,GAC/BmD,EAASrrE,QAAU,IAAIkrE,EAAQhD,GAC/BmD,EAAS7qE,WAAa,IAAI2qE,EAE1B,IAAII,EAAgB,CAAC,UAAW,YAAa,UAAW,UAAW,cAoCnE,OAlCAF,EAASh+C,SAAW,SAAS/3B,EAAM0B,GAC/B,IAAqC,IAAjCu0E,EAAcv2E,QAAQM,GACtB,MAAML,MAAM,iCAAmCK,GAEnD,IAAIkN,EAAM6oE,EAAS/1E,GAAMjE,OAAOuI,MAAM,KAAMzE,MAAMxD,UAAU+J,MAAMxL,KAAKgC,UAAW,IAalF,OAZAsQ,EAAI8lE,aAAehzE,EACnBg2E,EAAa9oE,EAAIlS,MAAQkS,EACpB8oE,EAAa15E,eAAe4Q,EAAIlS,OACjCG,OAAOC,eAAe46E,EAAc9oE,EAAIlS,KAAM,CAC1CM,IAAK,WACD,OAAO06E,EAAa9oE,EAAIlS,OAE5ByvB,IAAK,SAAS7oB,GACVo0E,EAAa9oE,EAAIlS,MAAMq2B,KAAKzvB,MAIjCsL,GAGX6oE,EAASxC,KAAO,SAAS9+D,EAASyhE,IACLr2E,MAAMC,QAAQo2E,GAAcA,EAAY/6E,OAAOqD,KAAKw3E,IAC3D32E,SAAQ,SAAS82E,GAC3BH,EAAa15E,eAAe65E,IAC5BH,EAAaG,GAAc5C,KAAK9+D,OAI5CshE,EAASz6E,IAAM,SAASN,GACpB,OAAOg7E,EAAah7E,IAGxB+6E,EAASh6E,OAASg6E,EAASh+C,SAEpBg+C,ECpDI,SAASK,EAAOxD,EAAWyD,GAEtC,IAAI3hE,EAAUzW,gBAAgBm4E,EAAUn4E,KAAO,GAC3C8L,EAAM6oE,EACNmD,EAAWM,EACXC,EAAavsE,EAAIwsE,OAAS,GAE9B7hE,EAAOC,OAAS,GAChBD,EAAOG,SAAW,GAElB,IAAI2hE,EAAa,CACb7hE,OAAQ5K,EAAI0sE,cACZ5hE,SAAU9K,EAAI2sE,iBAIlB,SAASC,EAAOC,EAAY57E,EAAMoM,GAE9B,IAAIyvE,EAAOD,EAAa,IACpB57E,EAAO,IAwCf,SAA4B8nB,GAExB,IAAIg0D,EAAW37E,OAAOqD,KAAK83E,GAC3B,GAAGQ,EAASj6E,OAAS,EAAE,CACnB,IAAIu2B,EAAK,IAAIC,OAAO,UAAUyjD,EAAS/0D,KAAK,KAAK,OAAO,KACxDe,EAAMA,EAAI3B,QAAQiS,GAAI,SAASG,GAC3B,OAAO+iD,EAAW/iD,EAAQntB,MAAM,EAAEmtB,EAAQ12B,OAAO,OAWzD,OAAOimB,EAzDUi0D,CAAmB3vE,EAAG4f,YAClC7F,QACG,oDACA,SAAS61D,EAAMh8E,EAAMiF,EAAOvE,GAOxB,OALGA,EACS,CAACuE,EAAMyc,cAAe1hB,EAAM,IAAKU,GAEjC,CAACuE,EAAMyc,cAAe1hB,IAErB+mB,KAAK,QAGzBZ,QAAQ,qBAAsB,YAC9BA,QAAQ,eAAgB,UAExBA,QAAQ,SAAU,IAClBA,QAAQ,0BAA2B,YAGxC,GAAW,QAARnmB,EACC67E,EAAOA,EAAK11D,QAAQ,yCAA0C,OAAS,SACpE,CACH,IAAI81D,EAAOJ,EAAKpqE,MAAM,qCAAqC,GACvDyqE,EAAWD,EAAKxqE,MAAM,eACvByqE,EACCD,EAAOC,EAAS,GAAGh2B,MAAM,KACpB18C,IAAIzJ,GAAGA,EAAEmmD,MAAM,MACf18C,IAAIzJ,GAAIA,EAAE,GAAGomB,QAAQ,WAAY,IAAM,IAAMpmB,EAAE,IAC/CgnB,KAAK,MACI,IAARk1D,IACNA,EAAOA,EAAK91D,QAAQ,iBAAkB,QAG1C01D,EAAOA,EAAK11D,QAAQ,0CAA2C,IAAM81D,EAAK,KAAO,KAErF,OAAOJ,EAwEX,SAASM,EAAaC,GAClB,IAAIC,EAAYD,EAAS3qE,MAAM,gBAc/B,OAbiB,OAAd4qE,IACCA,EAAYA,EAAU7yE,KAAI,SAASzJ,GAC/B,OAAOA,EAAEqL,MAAM,OAGP,MAAbixE,GAAqBA,EAAUx6E,QAC9Bw6E,EAAUh4E,SAAQ,SAASi4E,GACvB,IAAIC,EAAOxB,EAASz6E,IAAIg8E,GACrBC,GAA6B,cAArBA,EAAKvE,eACZqE,EAAYA,EAAUpyE,OAAOkyE,EAAaI,EAAKnwE,GAAG4f,iBAIvDqwD,GAAa,GAGxB,SAASG,EAAWC,GAChB,IAAIvqE,EAAM6oE,EAASz6E,IAAIm8E,GACvB,QAAkB,IAARvqE,EACN,MAAM,IAAIvN,MAAM,wBAA0B83E,EAAM,mBACpD,MAAuB,cAApBvqE,EAAI8lE,aACI2D,EAAOzpE,EAAIlN,KAAMkN,EAAIlS,KAAMkS,EAAI9F,IAE/B8F,EAAI+5D,SAGnB,SAASyQ,EAAWC,GAChB,IAAIl5E,EAAQ,GAKZ,OAJAk5E,EAAKt4E,SAAQ,SAAStE,EAAGN,GACrBgE,EAAM1D,GAAKN,KAGRU,OAAOqD,KAAKC,GA0EvB,OAvEAiW,EAAO3Y,OAAS,SAASgC,EAAKqJ,GAC1B,IAAIgH,EAASrQ,GAAO,GAChB/C,EAAOoT,EAAOpT,MAAQ,UACtBgF,EAAOoO,EAAOpO,MAAQ,SACtB23E,EAAOvpE,EAAOwpE,SAAWxpE,EAAOupE,MAAQ,GACxC9wD,EAAYzY,EAAOyY,WAAa,SAChCgxD,EAAQzpE,EAAOypE,QAAS,EACxBztB,EAAOh8C,EAAOg8C,MAAQhjD,GAAM,aAE5B0wE,EAAe,aAAejxD,EAAY,aAE3B,IAAhB8wD,EAAK96E,SAAc86E,EAAOD,EA1EjC,SAAiBtwE,GACb,IAAIuwE,EAAO,GACPI,EAAa3wE,EAAG4f,WAChBgxD,EAAaD,EAAWtrE,MAAM,4BAC9BwqE,EAAuB,OAAfe,GAAuBA,EAAWn7E,OAAUm7E,EAAW,GAAK,GAGrEf,EAAKp6E,SACJ86E,EAAOV,EAAK/1B,MAAM,KAAK18C,KAAI,SAASzG,GAChC,OAAOA,EAAIojB,QAAQ,aAAc,IAAImrB,UACtCjnC,QAAO,SAAStH,GACf,OAAOA,MAIf,IAAIs5E,EAAYF,EAAaY,GAQ7B,OAPGV,EAAUx6E,SACT86E,EAAOA,EAAK1yE,OAAOoyE,EAClBhyE,QAAO,SAAStK,GACb,OAA4B,IAArB48E,EAAKj4E,QAAQ3E,QAIrB48E,EAmDiCM,CAAQ7tB,KAGhD,IAAIitB,EAAY,GAehB,GAbAM,EAAKt4E,SAAQ,SAASo4E,GAClB,IAAIvqE,EAAM6oE,EAASz6E,IAAIm8E,GACvB,QAAiB,IAAPvqE,EAEN,MADA3L,QAAQC,IAAIi2E,GACN93E,MAAO,wCAA0C83E,EAAIz8E,MAExC,cAApBkS,EAAI8lE,eAEHqE,EAAaF,EAAajqE,EAAI9F,GAAG4f,gBAKtCqwD,EAAUx6E,OAAQ,CACjB,IAAIq7E,EAAUb,EAAUpyE,OAAO0yE,GAC/BA,EAAOD,EAAWQ,GAGtB,GAAGr4E,MAAMC,QAAQ63E,GAAM,CACnBA,EAAKtyE,QAAO,SAAStK,GACjB,OAA2C,IAApCgP,EAAIouE,gBAAgBz4E,QAAQ3E,MAEtCsE,SAAQ,SAASo4E,GACdK,GAAgBN,EAAWC,MAEvBE,EAAKtyE,QAAO,SAAStK,GACzB,OAA2C,IAApCgP,EAAIouE,gBAAgBz4E,QAAQ3E,MAEtC6tB,UACAvpB,SAAQ,SAASo4E,GACdK,GAAgBN,EAAWC,UAKT,iBAAV,IACZl2E,QAAQC,IAAIm2E,GACZx8E,OAAOqD,KAAKm5E,GAAMt4E,SAAQ,SAAS2zE,GAC/B2E,EAAK3E,GAAc3zE,SAAQ,SAASo4E,GAChCK,GAAgBN,EAAWC,UAKvCK,GAAgBnB,EAAO,OAAQ,OAAQvsB,GACpCytB,GACCt2E,QAAQC,IAAIs2E,GAChB,IAAIM,EApJR,SAAiB5B,EAAYsB,GACzB,GAAItB,IAAezsE,EAAI0sE,eAAiBD,IAAezsE,EAAI2sE,gBACvD,KAAM,6BAEV,IAAI0B,EAAUruE,EAAIsuE,aAAa7B,GAM/B,GALAzsE,EAAI+tE,aAAaM,EAASN,GAC1B/tE,EAAIuuE,cAAcF,IAGHruE,EAAIwuE,mBAAmBH,EAASruE,EAAIyuE,gBACpC,CACX,IAAIC,EAAY1uE,EAAI2uE,iBAAiBN,GAErC,MADA72E,QAAQC,IAAIs2E,EAAe,2DACrB,IAAIn4E,MAAM,2BAA6By4E,EAAU,KAAOK,GAMlE,OAAOL,EAiIOpkD,CAAQwiD,EAAWx2E,GAAO83E,GAKxC,OAJAM,EAAQO,YAAcnC,EAAWx2E,GACjCo4E,EAAQT,KAAOA,EACfS,EAAQ7uD,OAASuuD,EACjBpjE,EAAO1U,GAAMhF,GAAQo9E,EACdA,GAGJ1jE,ECzOI,SAASkkE,EAAQhG,EAAWsD,GAEvC,IAAIzhE,EACA1K,EAAM6oE,EACNiG,EAAK,GACL9kD,EAAU,GACV+kD,EAAU,IAAI1C,EAAOxD,EAAWsD,GA6EpC,OA3EA2C,EAAG98E,OAAS,SAASf,EAAMyd,EAAIC,GACvB1d,EAAOA,GAAQ,UACfyd,EAAKA,GAAM,UACXC,EAAKA,GAAM,UAFf,IAGIi/D,EAAO,GAeX,GAbI5jD,EAAQz3B,eAAetB,IACvB69E,EAAGvE,OAAOt5E,GAGd+4B,EAAQ/4B,GAAQ+O,EAAI6pB,gBAEpBG,EAAQ/4B,GAAMyd,GAAmB,iBAANA,EAAkBA,EAAKqgE,EAAQnkE,OAAO8D,GACjEsb,EAAQ/4B,GAAM0d,GAAmB,iBAANA,EAAkBA,EAAKogE,EAAQjkE,SAAS6D,GAEnE3O,EAAIgvE,aAAahlD,EAAQ/4B,GAAO+4B,EAAQ/4B,GAAMyd,IAC9C1O,EAAIgvE,aAAahlD,EAAQ/4B,GAAO+4B,EAAQ/4B,GAAM0d,IAC9C3O,EAAIivE,YAAYjlD,EAAQ/4B,KACX+O,EAAIkvE,oBAAoBllD,EAAQ/4B,GAAO+O,EAAImvE,aAGpD,KAAO,4BADSnvE,EAAIovE,kBAAkBplD,EAAQ/4B,IAUlD,OAHA28E,GADAA,EAAOA,EAAK1yE,OAAO8uB,EAAQ/4B,GAAMyd,GAAGk/D,OACxB1yE,OAAO8uB,EAAQ/4B,GAAM0d,GAAGi/D,MACpC5jD,EAAQ/4B,GAAM28E,KAAOA,EAEd5jD,EAAQ/4B,IAGnB69E,EAAG1xE,IAAM0xE,EAAGpkE,QAAU,SAASzZ,EAAMyd,EAAIC,GACrC,OAAIqb,EAAQz3B,eAAetB,IACvByZ,EAAUsf,EAAQ/4B,GAClB+O,EAAIqvE,WAAW3kE,GACfyhE,EAAU3C,KAAK9+D,EAASA,EAAQkjE,MACzBljE,GAEAokE,EAAG98E,OAAOf,EAAMyd,EAAIC,IAInCmgE,EAAGvE,OAAS,SAASt5E,GACb+4B,EAAQz3B,eAAetB,KACvB+O,EAAIsvE,aAAatlD,EAAQ/4B,GAAO+4B,EAAQ/4B,GAAMyd,IAC9C1O,EAAIsvE,aAAatlD,EAAQ/4B,GAAO+4B,EAAQ/4B,GAAM0d,IAC9C3O,EAAIuvE,cAAcvlD,EAAQ/4B,WACnB+4B,EAAQ/4B,KAIvB69E,EAAGnkE,OAAS,SAAS3W,EAAKqJ,GACtB,IAAIlJ,EAAUH,EAEd,OADA+6E,EAAQ/8E,OAAOmC,EAASkJ,GACjByxE,GAGXA,EAAGnkE,OAAOC,OAAS,SAASvN,GACxB,IAAIlJ,EAAU,CACV8B,KAAM,UAGV,OADIoH,EAAGpM,OAAMkD,EAAQlD,KAAOoM,EAAGpM,MACxB89E,EAAQ/8E,OAAOmC,EAASkJ,IAGnCyxE,EAAGnkE,OAAOG,SAAW,SAASzN,GAC1B,IAAIlJ,EAAU,CACV8B,KAAM,YAGV,OADIoH,EAAGpM,OAAMkD,EAAQlD,KAAOoM,EAAGpM,MACxB89E,EAAQ/8E,OAAOmC,EAASkJ,IAG5ByxE,ECnFI,SAASU,EAAY3G,GAEhC,IAAIhoE,EAAe3M,gBAAgBs7E,EAAet7E,KAAO,GACrD8L,EAAM6oE,EAgEV,OA9DAhoE,EAAY7O,OAAS,SAASf,EAAMgF,EAAM+f,EAAKpV,GAY3C,GAVAC,EAAY5P,GAAQ,CAChBq4E,IAAKtpE,EAAIyvE,oBACTx+E,KAAMA,EACNgF,KAAMA,GAAQ,QACduO,MAAOwR,EAAI,IAAM,KACjBvR,OAAQuR,EAAI,IAAM,KAClBpV,QAASA,GAAW,KACpB8uE,aAAc1vE,EAAI2vE,sBAGY,OAA9B9uE,EAAY5P,GAAM2P,QAAkB,CACpC,IAAI9C,EAAe,SAAR7H,EACP,IAAI7C,aAAa4iB,EAAI,GAAKA,EAAI,GAAK,GACnC,IAAIjS,WAAWiS,EAAI,GAAKA,EAAI,GAAK,GACrCnV,EAAY5P,GAAM2P,QAAU6pE,EAAQzqE,GAAKhO,OAAOf,EAAMgF,EAAM+f,EAAK,OAAQlY,GAG7E,IAAI4xE,EAAe7uE,EAAY5P,GAAMy+E,aAwCrC,OAvCA1vE,EAAIgE,gBAAgBhE,EAAIgN,YAAanM,EAAY5P,GAAMq4E,KACvDtpE,EAAI4vE,iBAAiB5vE,EAAI6vE,aAAcH,GACvC1vE,EAAI8vE,oBACA9vE,EAAI6vE,aACJ7vE,EAAI+vE,kBACJlvE,EAAY5P,GAAMuT,MAClB3D,EAAY5P,GAAMwT,QAEtBzE,EAAIgwE,qBACAhwE,EAAIgN,YACJhN,EAAIiwE,kBACJjwE,EAAIqpE,WACJxoE,EAAY5P,GAAM2P,QAAQ0oE,IAC1B,GAEJtpE,EAAIkwE,wBACAlwE,EAAIgN,YACJhN,EAAImwE,iBACJnwE,EAAI6vE,aACJH,GAEJ1vE,EAAI4vE,iBAAiB5vE,EAAI6vE,aAAc,MACvC7vE,EAAIgE,gBAAgBhE,EAAIgN,YAAa,MAErCnM,EAAY5P,GAAMgb,WAAa,SAASvB,GACpC1K,EAAIkpE,cAAclpE,EAAImpE,SAAWj1E,KAAK0M,QAAQlL,OAC9CsK,EAAIopE,YAAYppE,EAAIqpE,WAAYn1E,KAAK0M,QAAQ0oE,KAC7Cp1E,KAAK0M,QAAQR,SAAWJ,EAAIypE,mBAAmB/+D,EAASxW,KAAK0M,QAAQ3P,MACrE+O,EAAIupE,UAAUr1E,KAAK0M,QAAQR,SAAUlM,KAAK0M,QAAQlL,QAGtDmL,EAAY5P,GAAMs5E,OAAS,WACvBvqE,EAAI4vE,iBAAiB3tE,GAAG4tE,aAAc,MACtC7vE,EAAIgE,gBAAgB/B,GAAG+K,YAAa,MACpChN,EAAIowE,mBAAmBl8E,KAAKw7E,cAC5B1vE,EAAI4rE,cAAc13E,KAAK0M,QAAQ0oE,KAC/BtpE,EAAIqwE,kBAAkBn8E,KAAKo1E,MAGxBzoE,EAAY5P,IAGhB4P,EChEI,SAASyvE,EAAOt8E,GAE3B,IAAIu8E,EAAUr8E,gBAAgBo8E,EAAUp8E,KAAO,GAC3CC,EAAUH,GAAO,GACjBsQ,EAAYnQ,EAAQmQ,WAAa,KACjCgc,EAASnsB,EAAQmsB,QAAU5I,SAASsI,cAAc,UAClDlU,EAAW3X,EAAQ2X,UAAY,CAAC,EAAG,GACnCtH,EAAQrQ,EAAQqQ,OAASsH,EAAS,IAAM,KACxCrH,EAAStQ,EAAQsQ,QAAUqH,EAAS,IAAM,KAC1C+L,EAAU1jB,EAAQ0jB,SAAW,CACzBtR,KAAM,EACNM,MAAO,EACPL,IAAK,EACLM,OAAQ,GAEZ9G,EAAM7L,EAAQqkB,SAAWrkB,EAAQ6L,KAAO,KAExC0K,EAAU,KACV8lE,EAASr8E,EAAQK,YAAc,GACdL,EAAQs8E,eAGP,iBAAZ,IACgBnwD,EAAL,KAAbA,EAAO,GAAoB5I,SAASU,eAAes4D,OAAO99D,UAAU,IAC1D8E,SAASU,eAAes4D,SAEtCpsE,IACAA,EAAkC,iBAAf,EAA2BoT,SAASU,eAAe9T,GAAaA,EACrE,OAAVE,IAAgBA,EAAQF,EAAUub,aACvB,OAAXpb,IAAiBA,EAASH,EAAUwb,eAI5CQ,EAAO9b,MAAQA,EACf8b,EAAO7b,OAASA,EAChB6b,EAAO/I,MAAMiC,SAAW,WACxB8G,EAAO/I,MAAMo5D,WAAa94D,EAAQtR,KAAO,KACzC+Z,EAAO/I,MAAMq5D,UAAY/4D,EAAQrR,IAAM,KAE3B,OAARxG,IACAA,EA6BJ,SAAoBsgB,GAGhB,IAFA,IAAI5rB,EAAQ,CAAC,QAAS,sBAClBuN,EAAK,KACAvR,EAAI,EAAGA,EAAIgE,EAAM5B,SAAUpC,EAAG,CACnC,IACIuR,EAAKqe,EAAOkB,WAAW9sB,EAAMhE,GAAI8/E,GACnC,MAAOj1E,IACT,GAAI0G,EAAI,MAEZ,OAAOA,EAtCD4uE,CAAWvwD,IACrBiwD,EAAOvwE,IAAMA,EACbuwE,EAAOjwD,OAASA,EAEhBtgB,EAAIwsE,MAAQr4E,EAAQ28E,KAAO38E,EAAQ48E,MAAQ58E,EAAQ68E,YAAc,GACjEhxE,EAAIouE,gBAAkB,GAEtB,IAAIjC,EAAY,IAAIJ,EAAS/rE,GACzBixE,EAAe,IAAIzB,EAAYxvE,GAC/BkxE,EAAiB,IAAIrC,EAAe7uE,EAAKmsE,GAGzCgF,GAFU,IAAI9E,EAAOrsE,EAAKmsE,GAEfnsE,EAAIoxE,aAAa,qBA6BhC,SAASC,EAAgB1pD,GAChB7xB,MAAMC,QAAQ4xB,KAAaA,EAAa,CAACA,IAC9CA,EAAWryB,SAAQ,SAASg8E,GACxB,IAAIC,EAAWvxE,EAAIoxE,aAAaE,GACf,OAAbC,GACAngF,OAAOqD,KAAK88E,GAAUj8E,SAAQ,SAASk8E,GAC9BvxE,IAAI1N,eAAei/E,KACpBxxE,EAAIC,IAAIuxE,GAAMD,EAASC,UAsM3C,OAzOIL,IACAnxE,EAAI2M,QAAUwkE,EAASxkE,QACvB3M,EAAI0M,QAAUykE,EAASzkE,SAG3B1M,EAAIC,IAAMD,EAAIoxE,aAAa,0BAC3BC,EAAgB,CACZ,oBACA,6BAKA/sE,GACAA,EAAU+T,YAAYiI,GA4B1BiwD,EAAOc,gBAAkBA,EASzBd,EAAO1wE,UAAY,SAAS5O,EAAMgF,EAAM4B,GAUpC,OATAs0E,EAAUn+C,SAAS,YAAa/8B,EAAMgF,EAAM4B,GAC5CzG,OAAOC,eAAek/E,EAAO1wE,UAAW5O,EAAM,CAC1CM,IAAK,WACD,OAAO46E,EAAUtsE,UAAU5O,IAE/ByvB,IAAK,SAAS7oB,GACVs0E,EAAUtsE,UAAU5O,GAAMq2B,KAAKzvB,MAGhC04E,GAEXA,EAAO7sB,OAAS6sB,EAAO1wE,UASvB0wE,EAAO9vE,QAAU,SAASxP,EAAMgF,EAAM4B,GAclC,OAbAs0E,EAAUn+C,SAAS,UAAW/8B,EAAMgF,EAAM4B,GACrC04E,EAAO9vE,QAAQlO,eAAetB,IAC/BG,OAAOC,eAAek/E,EAAO9vE,QAASxP,EAAM,CACxCM,IAAK,WACD,OAAO46E,EAAU1rE,QAAQxP,IAE7ByvB,IAAK,SAAS7oB,GACVs0E,EAAU1rE,QAAQxP,GAAMq2B,KAAKzvB,GACzBmI,EAAIyxE,UAAU/mE,IACdyhE,EAAU1rE,QAAQxP,GAAMu4E,KAAK9+D,MAItC6lE,GAGXA,EAAO9vE,QAAQixE,UAAY,SAASC,GAChC,IAAI5I,EAAK,GAIT,OAHA4I,EAAIr8E,SAAQ,SAAS2E,GACjB8uE,EAAKA,EAAG7tE,OAAOjB,MAEZ8uE,GAaXwH,EAAO3vE,QAAU,SAAS3P,EAAMgF,EAAM4B,EAAMme,EAAKlB,EAASu2D,GAUtD,OATAc,EAAUn+C,SAAS,UAAW/8B,EAAMgF,EAAM+f,EAAKlB,EAASjd,EAAMwzE,GAC9Dj6E,OAAOC,eAAek/E,EAAO3vE,QAAS3P,EAAM,CACxCM,IAAK,WACD,OAAO46E,EAAUvrE,QAAQ3P,IAE7ByvB,IAAK,SAAS7oB,GACVs0E,EAAUvrE,QAAQ3P,GAAMq2B,KAAKzvB,MAG9B04E,GAGXA,EAAO3vE,QAAQK,OAAS,SAAShQ,EAAM4G,EAAMqL,EAAQ8S,GACjDm2D,EAAUvrE,QAAQ3P,GAAMgQ,OAAOpJ,EAAMqL,EAAQ8S,IAUjDu6D,EAAO5vE,QAAU,SAAS1P,EAAMgF,EAAM5B,GAElC,OADA83E,EAAUn+C,SAAS,UAAW/8B,EAAMgF,EAAM5B,GACnCk8E,GAWXA,EAAO1vE,YAAc,SAAS5P,EAAMgF,EAAM+f,EAAKpV,GACvCA,EAAUA,GAAWurE,EAAUn+C,SAAS,UAAW/8B,EAAMgF,EAAM+f,EAAK,OAAQ,MAUhF,OARAi7D,EAAaj/E,OAAOf,EAAMgF,EAAM+f,EAAKpV,GAChC2vE,EAAO1vE,YAAYtO,eAAetB,IACnCG,OAAOC,eAAek/E,EAAO1vE,YAAa5P,EAAM,CAC5CM,IAAK,WACD,OAAO0/E,EAAahgF,MAIzBs/E,GAGXA,EAAO1vE,YAAYoL,WAAa,SAAShb,GACrCggF,EAAahgF,GAAMgb,WAAWvB,IAGlC6lE,EAAOvsE,gBAAkB,SAAS4tE,GAC1BX,EAAa1+E,eAAeq/E,GAC5B5xE,EAAIgE,gBAAgBhE,EAAIgN,YAAaikE,EAAaW,GAAQtI,KAE1DtpE,EAAIgE,gBAAgBhE,EAAIgN,YAAa,OAI7CujE,EAAOpvE,WAAa,SAASlQ,EAAMgF,EAAMoH,GAGrC,OAFA2C,EAAIouE,gBAAgBp4E,KAAK/E,GACzBk7E,EAAUn+C,SAAS,aAAc/8B,EAAMgF,EAAMoH,GACtCkzE,GAGXA,EAAOzvE,UAAY,SAAS+wE,GAmBxB,OAlBAzgF,OAAOqD,KAAKo9E,GAAev8E,SAAQ,SAASrD,GAExC,GADA+N,EAAIwsE,MAAMv6E,GAAO4/E,EAAc5/E,GAC3B6D,MAAMC,QAAQiK,EAAIwsE,MAAMv6E,IAAO,CAC/B,IAAIvB,EAAI,EACRU,OAAOC,eAAe2O,EAAIwsE,MAAOv6E,EAAK,CAClCV,IAAK,WACD,OAAOsgF,EAAc5/E,GAAKvB,MAE9BgwB,IAAK,SAASoxD,GACVphF,EAAI,EACJsP,EAAIwsE,MAAMv6E,GAAO6/E,UAGtB,GAA6B,iBAAnB9xE,EAAIwsE,MAAMv6E,GAAmB,CAC1C,IAAI8/E,EAAW3gF,OAAOqD,KAAKuL,EAAIwsE,MAAMv6E,IACrC+/E,KAAKvxE,QAAQ,OAAOxO,EAAK,QAAS8/E,EAASt3E,IAAIzJ,GAAGgP,EAAIwsE,MAAMv6E,GAAKjB,SAGlEu/E,GAGXA,EAAOS,WAAaT,EAAOzvE,UAE3ByvE,EAAO5lE,OAASumE,EAAevmE,OAE/B4lE,EAAO7lE,QAAU,SAASzZ,EAAMyd,EAAIC,GAEhC,OADAjE,EAAUwmE,EAAexmE,QAAQzZ,EAAMyd,EAAIC,GACpC3O,GAGXuwE,EAAO1mD,cAAgB,SAAS54B,EAAMyd,EAAIC,GAEtC,OADAjE,EAAUwmE,EAAel/E,OAAOf,EAAMyd,EAAIC,GACnC3O,GAGXuwE,EAAO0B,IAAM,SAAShhF,EAAM0G,GACxB,IAAI+W,EAAK6hE,EAAO5lE,OAAOC,OAAOjT,EAAM+W,IAChCC,EAAK4hE,EAAO5lE,OAAOG,SAASnT,EAAMgX,IAC7BhX,EAAMkJ,YAEf0vE,EAAO7lE,QAAQzZ,EAAMyd,EAAIC,GAEzB,IAAIujE,EAAOv6E,EAAMipB,QAAUjpB,EAAMu6E,KAEjC,OAAO,SAAShF,GACZ,IAAIjrE,EAAKsuE,EAAO7lE,QAAQzZ,GACxB,OAAOihF,EAAKrhF,KAAKoR,EAAIirE,KAI7BqD,EAAO4B,UAAY,WACf,MAAO,CAAC7xD,EAAO9b,MAAO8b,EAAO7b,SAGjC8rE,EAAOpE,UAAYA,EAEZoE,E,oDCnSX,oBAIQ,WAAe,aAOvB,IAAI6B,EAAmC,mBAAZ/wD,QAGvBgxD,EAA+B,iBAAT56D,KAAoBA,KAAOkoD,EAEjD2S,EAAiC,oBAAX7gF,OACtB8gF,EAA2B,oBAARC,IACnBC,EAA2B,oBAARr7C,IACnBs7C,EAAmC,oBAAZC,QACvBC,EAAmC,oBAAZC,QACvBC,EAAqC,oBAAbnuC,SACxBouC,EAAuBT,QAA2C,IAApB7gF,OAAOuhF,SACrDC,EAA0BX,QAA8C,IAAvB7gF,OAAOC,YACxDwhF,EAAmBT,GAA8C,mBAA1Br7C,IAAI9kC,UAAU4kC,QACrDi8C,EAAmBZ,GAA8C,mBAA1BC,IAAIlgF,UAAU4kC,QACrDk8C,EAAuBF,GAAoB9hF,OAAOiiF,gBAAe,IAAIj8C,KAAMF,WAC3Eo8C,EAAuBH,GAAoB/hF,OAAOiiF,gBAAe,IAAIb,KAAMt7C,WAC3Eq8C,EAAsBR,GAAoE,mBAArCj9E,MAAMxD,UAAUb,OAAOuhF,UAC5EQ,EAAyBD,GAAuBniF,OAAOiiF,eAAe,GAAG5hF,OAAOuhF,aAChFS,EAAuBV,GAAqE,mBAAtClrC,OAAOv1C,UAAUb,OAAOuhF,UAC9EU,EAA0BD,GAAwBriF,OAAOiiF,eAAe,GAAG5hF,OAAOuhF,aAkWtF,OArVA,SAAoBtgF,GAelB,IAAIihF,SAAmBjhF,EACvB,GAAkB,WAAdihF,EACF,OAAOA,EAST,GAAY,OAARjhF,EACF,MAAO,OAmBT,GAAIA,IAAQ2/E,EACV,MAAO,SAST,GACEv8E,MAAMC,QAAQrD,MACe,IAA5BugF,KAAuCxhF,OAAOC,eAAegB,IAE9D,MAAO,QAKT,GAAsB,iBAAXqU,QAAkC,OAAXA,OAAiB,CAQjD,GAA+B,iBAApBA,OAAO3G,UAAyB1N,IAAQqU,OAAO3G,SACxD,MAAO,WAsBT,GAA+B,iBAApB2G,OAAO2Q,UAAyBhlB,IAAQqU,OAAO2Q,SACxD,MAAO,WAGT,GAAgC,iBAArB3Q,OAAO6sE,UAAwB,CAOxC,GAA0C,iBAA/B7sE,OAAO6sE,UAAUC,WACxBnhF,IAAQqU,OAAO6sE,UAAUC,UAC3B,MAAO,gBAST,GAAwC,iBAA7B9sE,OAAO6sE,UAAUE,SACxBphF,IAAQqU,OAAO6sE,UAAUE,QAC3B,MAAO,cAIX,IAAmC,mBAAvB/sE,OAAOgtE,aACe,iBAAvBhtE,OAAOgtE,cACdrhF,aAAeqU,OAAOgtE,YAAa,CAOrC,GAAoB,eAAhBrhF,EAAIshF,QACN,MAAO,mBAeT,GAAoB,OAAhBthF,EAAIshF,QACN,MAAO,2BAeT,GAAoB,OAAhBthF,EAAIshF,QACN,MAAO,8BA2Bb,IAAIC,EAAahB,GAA2BvgF,EAAIjB,OAAOC,aACvD,GAAyB,iBAAduiF,EACT,OAAOA,EAGT,IAAIC,EAAe9iF,OAAOiiF,eAAe3gF,GASzC,OAAIwhF,IAAiB5qD,OAAOh3B,UACnB,SASL4hF,IAAiBx9E,KAAKpE,UACjB,OAYL8/E,GAAiB8B,IAAiB7yD,QAAQ/uB,UACrC,UASLmgF,GAAayB,IAAiB98C,IAAI9kC,UAC7B,MASLigF,GAAa2B,IAAiB1B,IAAIlgF,UAC7B,MASLsgF,GAAiBsB,IAAiBrB,QAAQvgF,UACrC,UASLogF,GAAiBwB,IAAiBvB,QAAQrgF,UACrC,UASLwgF,GAAkBoB,IAAiBvvC,SAASryC,UACvC,WASLigF,GAAa2B,IAAiBZ,EACzB,eASLb,GAAayB,IAAiBd,EACzB,eASLG,GAAuBW,IAAiBV,EACnC,iBASLC,GAAwBS,IAAiBR,EACpC,kBASY,OAAjBQ,EACK,SAGF9iF,OACJkB,UACA2qB,SACApsB,KAAK6B,GACL2J,MA9VyB,GACC,KAhCiC5L,EAAOD,QAAU0nC,M,kCCEjF,IAAIi8C,EAAU,EAAQ,IAClBhO,EAAgB,EAAQ,IACxBiO,EAA0B,EAAQ,IAClC92E,EAAS,EAAQ,GAErB7M,EAAOD,QAiBP,SAAiBkC,EAAK2hF,EAAYte,EAAO/iD,GAMvC,OAAOshE,EALG,CACRD,WAAYA,EACZE,KAAM,GACNC,QAAS,SAAUz7D,GAAO,OAAOA,IAEXrmB,OAAuB,IAAVqjE,EAAwB,EAAIA,IAgBnE,SAASue,EAAYt0E,EAAKrO,EAAO8iF,GAG/B,GAAI9iF,GAAkC,mBAAlBA,EAAM+iF,SAEtB/iF,EAAM+iF,UAAYlkF,EAAQkkF,WAExB/iF,EAAMwgC,aAAexgC,EAAMwgC,YAAY7/B,YAAcX,GAAQ,CACjE,IAAIgjF,EAAMhjF,EAAM+iF,QAAQD,EAAcz0E,GAItC,MAHmB,iBAAR20E,IACTA,EAAML,EAAYt0E,EAAK20E,EAAKF,IAEvBE,EAIT,IA5B2BviF,EA4BvB2wB,EAuIN,SAAyB/iB,EAAKrO,GAC5B,cAAeA,GACb,IAAK,YACH,OAAOqO,EAAIw0E,QAAQ,YAAa,aAElC,IAAK,SACH,IAAII,EAAS,IAAO5lD,KAAKmE,UAAUxhC,GAAOylB,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,IACjE,OAAOpX,EAAIw0E,QAAQI,EAAQ,UAE7B,IAAK,SACH,OAAc,IAAVjjF,GAAgB,EAAEA,IAAYm3C,IACzB9oC,EAAIw0E,QAAQ,KAAM,UAEpBx0E,EAAIw0E,QAAQ,GAAK7iF,EAAO,UAEjC,IAAK,UACH,OAAOqO,EAAIw0E,QAAQ,GAAK7iF,EAAO,WAEjC,IAAK,SACH,OAAOqO,EAAIw0E,QAAQ7iF,EAAMsrB,WAAY,UAGzC,GAAc,OAAVtrB,EACF,OAAOqO,EAAIw0E,QAAQ,OAAQ,QAhKbK,CAAgB70E,EAAKrO,GACrC,GAAIoxB,EACF,OAAOA,EAIT,GAlC2B3wB,EAkCVT,EAjCU,iBAAhBoiF,YACF3hF,aAAkB2hF,YAElB3hF,GACa,iBAAXA,GACP,aAAcA,GACM,IAApBA,EAAO0iF,UACoB,iBAApB1iF,EAAO2iF,SA0BO,CACvB,GAAI,cAAepjF,EACjB,OAAOA,EAAMqjF,UAKb,IACE,GAAIt9D,SAASu9D,WAEX,OADoB,IAAIvzD,eACHC,kBAAkBhwB,GAKvC,IACI2S,EAAYoT,SAASC,gBADhB,+BACoC,KAE7CrT,EAAU+T,YAAY1mB,EAAM0nD,WAAU,IACtC,IAAIiE,EAAOh5C,EAAU+zC,UAClBjhC,QAAQ,KAAM,IAAMzlB,EAAM0mD,UAAY,KAEzC,OADA/zC,EAAU+zC,UAAY,GACfiF,EAET,MAAO3tB,KASb,IAGI1+B,EAAMikF,EAHNC,EAAcf,EAAwBziF,GACtC8C,EAAOuL,EAAIq0E,WAAalO,EAAcx0E,GAASwjF,EAOnD,GAAoB,IAAhB1gF,EAAK3B,QAAiBsiF,EAAQzjF,KACb,IAAhB8C,EAAK3B,QAA4B,UAAZ2B,EAAK,IACV,IAAhBA,EAAK3B,QAA4B,gBAAZ2B,EAAK,IAAoC,UAAZA,EAAK,IACrD,CACL,GAAqB,mBAAV9C,EAGT,OADAujF,GADAjkF,EAAOkjF,EAAQxiF,IACK,KAAOV,EAAO,GAC3B+O,EAAIw0E,QAAQ,YAAcU,EAAa,IAAK,WAErD,GAAIG,EAAS1jF,GACX,OAAOqO,EAAIw0E,QAAQlrD,OAAOh3B,UAAU2qB,SAASpsB,KAAKc,GAAQ,UAE5D,GAAI2jF,EAAO3jF,GACT,OAAOqO,EAAIw0E,QAAQ99E,KAAKpE,UAAUijF,YAAY1kF,KAAKc,GAAQ,QAE7D,GAAIyjF,EAAQzjF,GACV,OAAO6jF,EAAY7jF,GAIvB,IA4NoB8jF,EAxKhBnzE,EApDAoC,EAAO,GACP5M,GAAQ,EACR49E,GAAa,EACbC,EAAS,CAAC,IAAK,KA+BnB,GA6LsB,iBAHFF,EAvNH9jF,IA0NiB,aAAay2C,KAAKwtC,EAAeH,MAzNjEC,GAAa,EACbC,EAAS,CAAC,IAAK,MA2NnB,SAAiBF,GACf,OAAO3/E,MAAMC,QAAQ0/E,IACC,iBAAPA,GAA0C,mBAAvBG,EAAeH,GAzN7C1/E,CAAQpE,KACVmG,GAAQ,EACR69E,EAAS,CAAC,IAAK,MAII,mBAAVhkF,IAGT+S,EAAO,cADPwwE,GADAjkF,EAAOkjF,EAAQxiF,IACK,KAAOV,EAAO,IACC,KAIjCokF,EAAS1jF,KACX+S,EAAO,IAAM4kB,OAAOh3B,UAAU2qB,SAASpsB,KAAKc,IAI1C2jF,EAAO3jF,KACT+S,EAAO,IAAMhO,KAAKpE,UAAUijF,YAAY1kF,KAAKc,IAI3CyjF,EAAQzjF,GACV,OAAO6jF,EAAY7jF,GAGrB,GAAoB,IAAhB8C,EAAK3B,UAAkBgF,GAAyB,GAAhBnG,EAAMmB,QACxC,OAAO6iF,EAAO,GAAKjxE,EAAOixE,EAAO,GAGnC,GAAIlB,EAAe,EACjB,OAAIY,EAAS1jF,GACJqO,EAAIw0E,QAAQlrD,OAAOh3B,UAAU2qB,SAASpsB,KAAKc,GAAQ,UAEnDqO,EAAIw0E,QAAQ,WAAY,WAOnC,GAHAx0E,EAAIu0E,KAAKv+E,KAAKrE,GAGVmG,EACFwK,EA+CJ,SAAqBtC,EAAKrO,EAAO8iF,EAAcU,EAAa1gF,GAE1D,IADA,IAAI6N,EAAS,GACJ5R,EAAI,EAAGC,EAAIgB,EAAMmB,OAAQpC,EAAIC,IAAKD,EACrCU,OAAOkB,UAAUC,eAAe1B,KAAKc,EAAOk2C,OAAOn3C,IACrD4R,EAAOtM,KAAK6/E,EAAe71E,EAAKrO,EAAO8iF,EAAcU,EACjDttC,OAAOn3C,IAAI,IAEf4R,EAAOtM,KAAK,IAUhB,OANAvB,EAAKa,SAAQ,SAASrD,GACfA,EAAIyQ,MAAM,UACbJ,EAAOtM,KAAK6/E,EAAe71E,EAAKrO,EAAO8iF,EAAcU,EACjDljF,GAAK,OAGNqQ,EAhEIwzE,CAAY91E,EAAKrO,EAAO8iF,EAAcU,EAAa1gF,OACvD,IAAIihF,EACT,OAiEJ,SAA0B/jF,GAGxB,IAFA,IAAIonB,EAAM,KAEDroB,EAAI,EAAGA,EAAIiB,EAAMmB,SAAUpC,EAAG,CACrC,GAAIqoB,EAAIjmB,QAAUwK,EAAOk1B,kBAAoB,EAAG,CAC9CzZ,GAAO,MACP,MAEFA,GAAOpnB,EAAMjB,GAAK,MAKS,KAH7BqoB,GAAO,MAGCpjB,QAAQ,UACdojB,EAAMA,EAAI3B,QAAQ,OAAQ,OAG5B,OAAO2B,EAlFEg9D,CAAiBpkF,GAExB2Q,EAAS7N,EAAKgG,KAAI,SAASxI,GACzB,OAAO4jF,EAAe71E,EAAKrO,EAAO8iF,EAAcU,EAAaljF,EAAK6F,MAMtE,OAFAkI,EAAIu0E,KAAKhhE,MA4IX,SAA8BjR,EAAQoC,EAAMixE,GAK1C,GAJarzE,EAAOhI,QAAO,SAAS07E,EAAMC,GACxC,OAAOD,EAAOC,EAAInjF,OAAS,IAC1B,GAEU,GACX,OAAO6iF,EAAO,IACG,KAATjxE,EAAc,GAAKA,EAAO,OAC3B,IACApC,EAAO0V,KAAK,SACZ,IACA29D,EAAO,GAGhB,OAAOA,EAAO,GAAKjxE,EAAO,IAAMpC,EAAO0V,KAAK,MAAQ,IAAM29D,EAAO,GAxJ1DO,CAAqB5zE,EAAQoC,EAAMixE,GAgC5C,SAASH,EAAY7jF,GACnB,MAAO,IAAMiE,MAAMtD,UAAU2qB,SAASpsB,KAAKc,GAAS,IA2CtD,SAASkkF,EAAe71E,EAAKrO,EAAO8iF,EAAcU,EAAaljF,EAAK6F,GAClE,IAAI7G,EAEA8nB,EADAo9D,EAAiB/kF,OAAO20E,yBAAyBp0E,EAAOM,GAyC5D,GAtCIkkF,IACEA,EAAe5kF,IAEfwnB,EADEo9D,EAAez1D,IACX1gB,EAAIw0E,QAAQ,kBAAmB,WAE/Bx0E,EAAIw0E,QAAQ,WAAY,WAG5B2B,EAAez1D,MACjB3H,EAAM/Y,EAAIw0E,QAAQ,WAAY,aAIhCW,EAAYx/E,QAAQ1D,GAAO,IAC7BhB,EAAO,IAAMgB,EAAM,KAEhB8mB,IACC/Y,EAAIu0E,KAAK5+E,QAAQhE,EAAMM,IAAQ,GAE/B8mB,EAAMu7D,EAAYt0E,EAAKrO,EAAMM,GADV,OAAjBwiF,EACiC,KAEAA,EAAe,IAE5C9+E,QAAQ,OAAS,IAErBojB,EADEjhB,EACIihB,EAAIo+B,MAAM,MAAM18C,KAAI,SAASqlD,GACjC,MAAO,KAAOA,KACb9nC,KAAK,MAAM4M,OAAO,GAEf,KAAO7L,EAAIo+B,MAAM,MAAM18C,KAAI,SAASqlD,GACxC,MAAO,MAAQA,KACd9nC,KAAK,OAIZe,EAAM/Y,EAAIw0E,QAAQ,aAAc,iBAGhB,IAATvjF,EAAsB,CAC/B,GAAI6G,GAAS7F,EAAIyQ,MAAM,SACrB,OAAOqW,GAET9nB,EAAO+9B,KAAKmE,UAAU,GAAKlhC,IAClByQ,MAAM,iCACbzR,EAAOA,EAAK2zB,OAAO,EAAG3zB,EAAK6B,OAAS,GACpC7B,EAAO+O,EAAIw0E,QAAQvjF,EAAM,UAEzBA,EAAOA,EAAKmmB,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChCnmB,EAAO+O,EAAIw0E,QAAQvjF,EAAM,WAI7B,OAAOA,EAAO,KAAO8nB,EA+BvB,SAASs8D,EAAShsD,GAChB,MAAqB,iBAAPA,GAA0C,oBAAvBusD,EAAevsD,GAGlD,SAASisD,EAAOtkF,GACd,MAAoB,iBAANA,GAAwC,kBAAtB4kF,EAAe5kF,GAGjD,SAASokF,EAAQ75E,GACf,MAAoB,iBAANA,GAAwC,mBAAtBq6E,EAAer6E,GAGjD,SAASq6E,EAAezkF,GACtB,OAAOC,OAAOkB,UAAU2qB,SAASpsB,KAAKM,K,6BCtXxC,YAEA,IAAIilF,EAAa,CAAC,cAAe,eAAgB,QAAS,WAAY,SAAU,aAC5EC,EAAQ,CAAC,QAAS,QAAS,QAAS,SAEpCn4E,EAAY,CACZ,CAACjN,KAAM,YAAaiF,MAAO,MAAOqtB,KAAM,UAAW3qB,IAAK,EAAGC,IAAK,IAChE,CAAC5H,KAAM,aAAciF,MAAO,SAAU8B,OAAQ,CAAC,IAAK,MACpD,CAAC/G,KAAM,aAAciF,MAAO,QAASqtB,KAAM,SAAU3qB,IAAK,EAAGC,IAAK,GAAIwnE,KAAM,EAAG7jE,IAAK,GACpF,CAACvL,KAAM,YAAaiF,MAAO,MAAOqtB,KAAM,SAAU3qB,IAAK,GAAIC,IAAK,GAAIwnE,KAAM,GAAI7jE,IAAK,IACnF,CAACvL,KAAM,aAAciF,MAAO,SAAU8B,OAAQq+E,GAC9C,CAACplF,KAAM,eAAgBiF,MAAO,SAAU8B,OAAQ,CAAC,UAAW,cAC5D,CAAC/G,KAAM,YAAaiF,MAAO,SAAU8B,OAAQo+E,GAC7C,CAACnlF,KAAM,eAAgBiF,MAAO,MAAOqtB,KAAM,SAAU3qB,IAAK,IAAKC,IAAK,IAAKwnE,KAAM,IAAK7jE,IAAK,IACzF,CAACvL,KAAM,eAAgBiF,MAAO,QAASqtB,KAAM,SAAU3qB,IAAK,GAAIC,IAAK,IAAKwnE,KAAM,IAAK7jE,IAAK,IAC1F,CAACvL,KAAM,gBAAiBiF,MAAO,QAASqtB,KAAM,SAAU3qB,IAAK,EAAGC,IAAK,IAAKwnE,KAAM,GAAI7jE,IAAK,IACzF,CAACvL,KAAM,YAAaiF,MAAO,MAAOqtB,KAAM,SAAU3qB,IAAK,GAAIC,IAAK,GAAIwnE,KAAM,GAAI7jE,IAAK,IACnF,CAACvL,KAAM,aAAciF,MAAO,SAAU8B,OAAQq+E,GAC9C,CAACplF,KAAM,YAAaiF,MAAO,SAAU8B,OAAQo+E,IAG7CxhF,EAAS,GACb,IAAI,IAAIqrB,KAAQ/hB,EACZtJ,EAAOqrB,EAAKhvB,MAAQgvB,EAAK/pB,MAG7B,SAAS2pE,EAAO7rE,GACZ,IAAIyK,EAAYF,OAAOC,UAAUxK,GAAQA,EAAMA,EAAIK,KAC/CsD,EAAQ3D,EAAI2D,OAASuG,EAGzB,MAAO,CAAErG,KADY,UADV7D,EAAIiC,MAAQ,QACQ,YAAY,CAAC0B,MAAOA,EAAOtD,KAAMoK,IAAY,YAAa,CAAC9G,MAAOA,EAAOtD,KAAMoK,IAC/F7J,UAGnBirE,EAAOjrE,OAASA,EAED,O,6BCpCf,YAEe,wBACb0hF,EAAY,IAAG,OACf1X,EAAS,EAAC,SACV9kE,EAAW,EAAC,MACZnC,EAAK,MACL2mB,EAAQ,CAAC7qB,KAAM,YAAamrE,OAAQ,SAEpC,IACI/mE,EAAO,IAAI/B,MADHwgF,EAAY1X,GAExB,IAAI,IAAIluE,EAAI,EAAGA,EAAI4lF,EAAW5lF,IAC5B,IAAI,IAAIwG,EAAI,EAAGA,EAAI0nE,EAAQ1nE,IAAK,CAC9B,IAAIq/E,EAAS,GACbA,EAAOj4D,EAAM7qB,MAAQ/C,EAAIoJ,EACzBy8E,EAAOj4D,EAAMsgD,QAAU1nE,EACvB,IAAI,IAAI+oB,KAAQtoB,EACZ,GAAGsoB,EAAK1tB,eAAe,UAAU,CAC7B,IAAIiuE,EAAMhqE,SAAUM,KAAK+gC,MAAO/gC,KAAKwpE,UAAYrgD,EAAKjoB,OAAOlF,OAAS,KACtEyjF,EAAOt2D,EAAKhvB,MAAQgvB,EAAKjoB,OAAOwoE,OAC7B,CACH,IAAI7uE,EAAQ,YAAcsuB,GAC1Bs2D,EAAOt2D,EAAKhvB,MAAuB,SAAdgvB,EAAK/pB,MAAoBO,WAAW9E,GAASmF,KAAK+gC,MAAMlmC,GAGrFkG,EAAKnH,EAAIkuE,EAAS1nE,GAAKq/E,EAI3B,IAAI3hF,EAAS,GACbA,EAAO0pB,EAAM7qB,MAAQ,MACrBmB,EAAO0pB,EAAMsgD,QAAU,QACvB,IAAI,IAAI3+C,KAAQtoB,EACZ/C,EAAOqrB,EAAKhvB,MAAQgvB,EAAK/pB,MAG7B,MAAO,CACL2B,OACAjD,Y,iBCtCJnE,EAAOD,QAAU,SAASgmF,GACzB,IAAKA,EAAeC,gBAAiB,CACpC,IAAIhmF,EAASW,OAAOY,OAAOwkF,GAEtB/lF,EAAOimF,WAAUjmF,EAAOimF,SAAW,IACxCtlF,OAAOC,eAAeZ,EAAQ,SAAU,CACvCa,YAAY,EACZC,IAAK,WACJ,OAAOd,EAAOE,KAGhBS,OAAOC,eAAeZ,EAAQ,KAAM,CACnCa,YAAY,EACZC,IAAK,WACJ,OAAOd,EAAOC,KAGhBU,OAAOC,eAAeZ,EAAQ,UAAW,CACxCa,YAAY,IAEbb,EAAOgmF,gBAAkB,EAE1B,OAAOhmF,I;;;;;;;;;;;;;;ACPR,SAASkmF,IACP,IAAIrO,EAAW,GAAGjsE,MAAMxL,KAAKgC,WAE7B,SAAS+jF,EAAczzE,EAAKzQ,GAC1BtB,OAAOqD,KAAK/B,GAAK4C,SAAQ,SAAUrD,IAC3Bq2E,EAAS3yE,QAAQ1D,KAAMkR,EAAIlR,GAAOS,EAAIT,OAIhD,OAAO,WAKL,IAJA,IAAIi7E,EAAO,GAAG7wE,MAAMxL,KAAKgC,WACrBnC,EAAI,EACJyS,EAAM,GAEHzS,EAAIw8E,EAAKp6E,OAAQpC,IACtBkmF,EAAazzE,EAAK+pE,EAAKx8E,IAGzB,OAAOyS,GAqBX,SAASjG,EAAgB25E,EAASC,EAAQC,GACxC,IACIp/E,EADSg/E,EAAQ,OAAQ,UAAW,QAAS,cAAe,SACpDjuD,CAAOouD,GAAU,IAO7B,IAAK,IAAI7kF,KAJTiC,KAAK2iF,QAAUA,GAAW,6BAC1B3iF,KAAKq+B,UAAW,EAGA56B,EACdzD,KAAKjC,GAAO0F,EAAM1F,GAKpB,GADA8kF,EAAMA,GAAO75E,EACTtH,MAAMohF,kBACRphF,MAAMohF,kBAAkB9iF,KAAM6iF,QAE9B,IACE,MAAM,IAAInhF,MACV,MAAM2F,GACNrH,KAAK+iF,MAAQ17E,EAAE07E;;;;;;;AAlCrBxmF,EAAOD,QAAU0M,EA2CjBA,EAAe5K,UAAYlB,OAAOY,OAAO4D,MAAMtD;;;;AAM/C4K,EAAe5K,UAAUrB,KAAO;;;;AAMhCiM,EAAe5K,UAAU6/B,YAAcj1B,EASvCA,EAAe5K,UAAU4kF,OAAS,SAAUD,GAC1C,IACIt/E,EADSg/E,EAAQ,cAAe,SAAU,QAClCjuD,CAAO,CAAEz3B,KAAMiD,KAAKjD,MAAQiD,MAOxC,OAJI,IAAU+iF,GAAS/iF,KAAK+iF,QAC1Bt/E,EAAMs/E,MAAQ/iF,KAAK+iF,OAGdt/E,I;;;;;;ACjGTlH,EAAOD,QAAU,SAAmBkC,EAAKw6E,GACvC,OAAOA,EAAKp6E,OAAS,EAAIo6E,EAAK,GAAKx6E,EAAIykF,O;;;;;;;;;ACRzC,IAAIzC,EAAU,EAAQ,IAClBp3E,EAAS,EAAQ,GAerB7M,EAAOD,QAAU,SAAoBkC,GACnC,IAAIqmB,EAAM27D,EAAQhiF,GACduD,EAAO7E,OAAOkB,UAAU2qB,SAASpsB,KAAK6B,GAE1C,GAAI4K,EAAOk1B,mBAAqBzZ,EAAIjmB,QAAUwK,EAAOk1B,kBAAmB,CACtE,GAAa,sBAATv8B,EACF,OAAQvD,EAAIzB,MAAqB,KAAbyB,EAAIzB,KAEpB,cAAgByB,EAAIzB,KAAO,IAD3B,aAEC,GAAa,mBAATgF,EACT,MAAO,WAAavD,EAAII,OAAS,MAC5B,GAAa,oBAATmD,EAA4B,CACrC,IAAIxB,EAAOrD,OAAOqD,KAAK/B,GAIvB,MAAO,cAHI+B,EAAK3B,OAAS,EACnB2B,EAAKqjD,OAAO,EAAG,GAAG9/B,KAAK,MAAQ,QAC/BvjB,EAAKujB,KAAK,OACa,MAE7B,OAAOe,EAGT,OAAOA,I,6BC1BX,IAAIkE,EAAWwM,SAASn3B,UAAU2qB,SAC9Bm6D,EAAoB,2DAqBxB3mF,EAAOD,QApBP,SAAqB6mF,GACnB,GAAqB,mBAAVA,EACT,OAAO,KAGT,IAAIpmF,EAAO,GACX,QAAuC,IAA5Bw4B,SAASn3B,UAAUrB,WAA8C,IAAfomF,EAAMpmF,KAAsB,CAEvF,IAAIyR,EAAQua,EAASpsB,KAAKwmF,GAAO30E,MAAM00E,GACnC10E,IACFzR,EAAOyR,EAAM,SAIfzR,EAAOomF,EAAMpmF,KAGf,OAAOA,I;;;;;;ACrBTR,EAAOD,QAAU,SAAuB4B,GACtC,IAAIiI,EAASjJ,OAAOkmF,oBAAoBllF,GAExC,SAASuuB,EAAYtuB,IACe,IAA9BgI,EAAO1E,QAAQtD,IACjBgI,EAAOrE,KAAK3D,GAKhB,IADA,IAAIglC,EAAQjmC,OAAOiiF,eAAejhF,GACjB,OAAVilC,GACLjmC,OAAOkmF,oBAAoBjgD,GAAO/hC,QAAQqrB,GAC1C0W,EAAQjmC,OAAOiiF,eAAeh8C,GAGhC,OAAOh9B,I;;;;;;ACdT5J,EAAOD,QAAU,SAAyCkC,GACxD,MAA4C,mBAAjCtB,OAAOmmF,sBAA6C,GAExDnmF,OAAOmmF,sBAAsB7kF,GAAK4I,QAAO,SAAUk8E,GACxD,OAAOpmF,OAAO20E,yBAAyBrzE,EAAK8kF,GAAKlmF,gB,8BCxBrD,2BAE0B,iBAARmmB,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAVkoD,GAAsBA,EAAOA,SAAWA,GAAUA,QACzD,GAEN4Q,OAAS,IAEC,MAAM,EAEc9/E,EAAOD,UACtCC,EAAOD,QAAU,O,gi3GCXrB,IASIinF,EAPIhnF,EAAOD,SAurBd,SAASinF,EAAO3gF,GAEjB,IAAI4gF,EAAaD,EAAME,MAAMD,WAG7B,SAASE,EAAO39E,EAAGC,GAAK,OAAOD,EAAIC,EAEnC,SAASoyD,EAAKt4D,EAAK4E,EAAKC,GACtB,OAAO/B,EAAK+B,IAAID,EAAK9B,EAAK8B,IAAI5E,EAAK6E,IAKrC4+E,EAAM7kD,IAAM,SAAailD,GAGvB,IAFA,IAAIjlD,EAAM,EACNliC,EAAImnF,EAAI/kF,SACHpC,GAAK,GACZkiC,GAAOilD,EAAInnF,GACb,OAAOkiC,GAKT6kD,EAAMK,QAAU,SAAiBD,GAG/B,IAFA,IAAIjlD,EAAM,EACNliC,EAAImnF,EAAI/kF,SACHpC,GAAK,GACZkiC,GAAOilD,EAAInnF,GAAKmnF,EAAInnF,GACtB,OAAOkiC,GAKT6kD,EAAMM,SAAW,SAAkBF,GAKjC,IAJA,IAGIG,EAHA3X,EAAOoX,EAAMpX,KAAKwX,GAClBjlD,EAAM,EACNliC,EAAImnF,EAAI/kF,SAEHpC,GAAK,GAEZkiC,IADAolD,EAAMH,EAAInnF,GAAK2vE,GACF2X,EAEf,OAAOplD,GAIT6kD,EAAMQ,OAAS,SAAgBJ,GAG7B,IAFA,IAAIjlD,EAAM,EACNliC,EAAImnF,EAAI/kF,SACHpC,GAAK,GACZkiC,GAAOilD,EAAInnF,GACb,OAAOkiC,GAIT6kD,EAAMS,QAAU,SAAiBL,GAG/B,IAFA,IAAIM,EAAO,EACPznF,EAAImnF,EAAI/kF,SACHpC,GAAK,GACZynF,GAAQN,EAAInnF,GACd,OAAOynF,GAKTV,EAAM7+E,IAAM,SAAai/E,GAGvB,IAFA,IAAIO,EAAMP,EAAI,GACVnnF,EAAI,IACCA,EAAImnF,EAAI/kF,QACX+kF,EAAInnF,GAAK0nF,IACXA,EAAMP,EAAInnF,IACd,OAAO0nF,GAKTX,EAAM5+E,IAAM,SAAag/E,GAGvB,IAFA,IAAIQ,EAAOR,EAAI,GACXnnF,EAAI,IACCA,EAAImnF,EAAI/kF,QACX+kF,EAAInnF,GAAK2nF,IACXA,EAAOR,EAAInnF,IACf,OAAO2nF,GAKTZ,EAAMj8E,OAAS,SAAgBq8E,GAE7B,IADA,IAAI3iD,EAAO,GAAIojD,EAAO,GACd5nF,EAAI,EAAGA,EAAImnF,EAAI/kF,OAAQpC,IACxBwkC,EAAK2iD,EAAInnF,MACZwkC,EAAK2iD,EAAInnF,KAAM,EACf4nF,EAAKtiF,KAAK6hF,EAAInnF,KAGlB,OAAO4nF,GAKTb,EAAMpX,KAAO,SAAcwX,GACzB,OAAOJ,EAAM7kD,IAAIilD,GAAOA,EAAI/kF,QAK9B2kF,EAAMc,UAAY,SAAmBV,GACnC,OAAOJ,EAAMM,SAASF,GAAOA,EAAI/kF,QAKnC2kF,EAAMe,QAAU,SAAiBX,GAC/B,OAAO/gF,EAAKyF,IAAIk7E,EAAMS,QAAQL,GAAM,EAAIA,EAAI/kF,SAK9C2kF,EAAMgB,OAAS,SAAgBZ,GAC7B,IAAIa,EAASb,EAAI/kF,OACbwlF,EAAOT,EAAIx7E,QAAQrC,KAAK49E,GAE5B,OAAkB,EAATc,EAELJ,EAAMI,EAAS,EAAK,IADnBJ,EAAMI,EAAS,EAAK,GAAMJ,EAAMI,EAAS,IAAO,GAMvDjB,EAAMkB,OAAS,SAAgBd,GAC7B,OAAOJ,EAAMmB,UAAUf,GAAK,SAAU59E,EAAGC,GAAK,OAAOD,EAAIC,MAK3Du9E,EAAMoB,QAAU,SAAiBhB,GAC/B,OAAOJ,EAAMmB,UAAUf,GAAK,SAAU59E,EAAGC,GAAK,OAAOD,EAAIC,MAK3Du9E,EAAMt8E,KAAO,SAAc08E,GACzB,IAEInnF,EAFAooF,EAAQ,GACRC,EAASlB,EAAI/kF,OAEjB,IAAKpC,EAAI,EAAGA,EAAIqoF,EAAQroF,IACtBooF,EAAM9iF,KAAK6hF,EAAInnF,GAAKmnF,EAAInnF,EAAI,IAC9B,OAAOooF,GAKTrB,EAAMuB,KAAO,SAAUnB,GAKrB,IAJA,IAGIxsD,EAHAqtD,EAASb,EAAI/kF,OACbq4B,EAAS0sD,EAAIx7E,QAAQrC,KAAK49E,GAC1BqB,EAAQ,IAAInjF,MAAM4iF,GAEbhoF,EAAI,EAAGA,EAAIgoF,EAAQhoF,IAAK,CAC/B,IAAImgE,EAAQ1lC,EAAOx1B,QAAQkiF,EAAInnF,IAC3Bo3B,EAAOqD,EAAO+tD,YAAYrB,EAAInnF,IAEhC26B,EADEwlC,IAAU/oC,EACN+oC,GAECA,EAAQ/oC,GAAQ,EAEzBmxD,EAAMvoF,GAAK26B,EAAM,EAEnB,OAAO4tD,GAOTxB,EAAM5lF,KAAO,SAAcgmF,GACzB,IAMInnF,EANAqoF,EAASlB,EAAI/kF,OACbwlF,EAAOT,EAAIx7E,QAAQrC,KAAK49E,GACxBtjF,EAAQ,EACR6kF,EAAW,EACXC,EAAc,EACdC,EAAW,GAGf,IAAK3oF,EAAI,EAAGA,EAAIqoF,EAAQroF,IAClB4nF,EAAK5nF,KAAO4nF,EAAK5nF,EAAI,GACvB4D,KAEIA,EAAQ6kF,GACVE,EAAW,CAACf,EAAK5nF,IACjByoF,EAAW7kF,EACX8kF,EAAc,GAGP9kF,IAAU6kF,IACjBE,EAASrjF,KAAKsiF,EAAK5nF,IACnB0oF,KAGF9kF,EAAQ,GAIZ,OAAuB,IAAhB8kF,EAAoBC,EAAS,GAAKA,GAK3C5B,EAAMj9E,MAAQ,SAAeq9E,GAC3B,OAAOJ,EAAM5+E,IAAIg/E,GAAOJ,EAAM7+E,IAAIi/E,IAKpCJ,EAAMn7E,SAAW,SAAkBu7E,EAAKh6E,GACtC,OAAO45E,EAAMM,SAASF,IAAQA,EAAI/kF,QAAU+K,EAAO,EAAI,KAIzD45E,EAAM6B,eAAiB,SAAwBzB,GAG7C,OAFeA,EAAIv9E,QAAO,SAAUL,EAAGs/E,GAAU,OAAOt/E,EAAIw9E,EAAMM,SAASwB,KAAY,IAC3E1B,EAAIv9E,QAAO,SAAUL,EAAGs/E,GAAU,OAAOt/E,EAAIs/E,EAAQzmF,SAAU,GAChD+kF,EAAI/kF,SAIjC2kF,EAAM+B,UAAY,SAAU3B,GAI1B,IAHA,IAAIxX,EAAOoX,EAAMpX,KAAKwX,GAClBa,EAASb,EAAI/kF,OACb2mF,EAAM,IAAI3jF,MAAM4iF,GACXhoF,EAAI,EAAGA,EAAIgoF,EAAQhoF,IAC1B+oF,EAAI/oF,GAAKmnF,EAAInnF,GAAK2vE,EAEpB,OAAOoZ,GAKThC,EAAMiC,MAAQ,SAAe7B,EAAKh6E,GAChC,OAAO/G,EAAK2F,KAAKg7E,EAAMn7E,SAASu7E,EAAKh6E,KAIvC45E,EAAMkC,YAAc,SAAqB9B,GACvC,OAAO/gF,EAAK2F,KAAKg7E,EAAM6B,eAAezB,KAIxCJ,EAAMmC,QAAU,SAAiB/B,GAG/B,IAFA,IAAIxX,EAAOoX,EAAMpX,KAAKwX,GAClB59E,EAAI,GACCvJ,EAAImnF,EAAI/kF,OAAS,EAAGpC,GAAK,EAAGA,IACnCuJ,EAAEjE,KAAKc,EAAK6E,IAAIk8E,EAAInnF,GAAK2vE,IAE3B,OAAOoX,EAAMpX,KAAKpmE,IAKpBw9E,EAAMoC,OAAS,SAAgBhC,GAG7B,IAFA,IAAIY,EAAShB,EAAMgB,OAAOZ,GACtB59E,EAAI,GACCvJ,EAAImnF,EAAI/kF,OAAS,EAAGpC,GAAK,EAAGA,IACnCuJ,EAAEjE,KAAKc,EAAK6E,IAAIk8E,EAAInnF,GAAK+nF,IAE3B,OAAOhB,EAAMgB,OAAOx+E,IAKtBw9E,EAAMqC,SAAW,SAAkBjC,GACjC,OAAOJ,EAAMiC,MAAM7B,GAAOJ,EAAMpX,KAAKwX,IAKvCJ,EAAMsC,UAAY,SAAmBlC,GACnC,IAAIa,EAASb,EAAI/kF,OACbwlF,EAAOT,EAAIx7E,QAAQrC,KAAK49E,GAC5B,MAAO,CACLU,EAAMxhF,EAAK+gC,MAAM,EAAW,GAAK,GACjCygD,EAAMxhF,EAAK+gC,MAAM,EAAW,GAAK,GACjCygD,EAAMxhF,EAAK+gC,MAAiB,EAAX,EAAe,GAAK,KAOzC4/C,EAAMuC,UAAY,SAAmBnC,EAAKoC,EAAgBC,EAAQC,GAChE,IAGIzpF,EAAG8B,EAAM4nF,EAAOjkF,EAAGguC,EAHnBk2C,EAAcxC,EAAIx7E,QAAQrC,KAAK49E,GAC/B0C,EAAe,CAACL,EAAennF,QAC/BX,EAAI0lF,EAAI/kF,OAQZ,SALsB,IAAXonF,IACTA,EAAS,EAAI,QACM,IAAVC,IACTA,EAAQ,EAAI,GAETzpF,EAAI,EAAGA,EAAIupF,EAAennF,OAAQpC,IAGrC0pF,EAAQjoF,GAFRK,EAAIynF,EAAevpF,KACfwpF,EAAS1nF,GAAK,EAAI0nF,EAASC,IAE/BhkF,EAAIW,EAAKC,MAAMu1D,EAAK8tB,EAAO,EAAGjoF,EAAI,IAClCgyC,EAAQmoB,EAAK8tB,EAAQjkF,EAAG,EAAG,GAC3BmkF,EAAa5pF,IAAM,EAAIyzC,GAASk2C,EAAYlkF,EAAI,GAAKguC,EAAQk2C,EAAYlkF,GAG3E,OAAOmkF,GAKT7C,EAAM8C,WAAa,SAAoB1C,EAAK1hF,EAAGqkF,GAC7C,IAAIlC,EAAOT,EAAIx7E,QAAQrC,KAAK49E,GACxB6C,EAAYtkF,GAAKmiF,EAAKxlF,QAAU0nF,EAAY,GAAK,KAAOA,EAAY,EAAI,GACxE9kF,EAAQc,SAASikF,GACjBC,EAAOD,EAAY/kF,EACvB,OAAIA,EAAQ,EAAI4iF,EAAKxlF,OACZwlF,EAAK5iF,EAAQ,GAAKglF,GAAQpC,EAAK5iF,GAAS4iF,EAAK5iF,EAAQ,IAErD4iF,EAAK5iF,EAAQ,IAOxB+hF,EAAMkD,kBAAoB,SAA2B9C,EAAK+C,EAAOC,GAC/D,IAGIlpF,EAAOjB,EAHPoqF,EAAU,EACVnhF,EAAMk+E,EAAI/kF,OACVioF,GAAS,EAMb,IAHa,WAATF,IACFE,GAAS,GAENrqF,EAAI,EAAGA,EAAIiJ,EAAKjJ,IACnBiB,EAAQkmF,EAAInnF,IACPqqF,GAAUppF,EAAQipF,IACjBG,GAAUppF,GAASipF,IACvBE,IAIJ,OAAOA,EAAUnhF,GAKnB89E,EAAM77E,UAAY,SAAmBi8E,EAAKmD,GACxCA,EAASA,GAAU,EACnB,IAIItqF,EAJAmgE,EAAQ4mB,EAAM7+E,IAAIi/E,GAClBoD,GAAYxD,EAAM5+E,IAAIg/E,GAAOhnB,GAASmqB,EACtCrhF,EAAMk+E,EAAI/kF,OACVkJ,EAAO,GAGX,IAAKtL,EAAI,EAAGA,EAAIsqF,EAAQtqF,IACtBsL,EAAKtL,GAAK,EACZ,IAAKA,EAAI,EAAGA,EAAIiJ,EAAKjJ,IACnBsL,EAAKlF,EAAK8B,IAAI9B,EAAKC,OAAQ8gF,EAAInnF,GAAKmgE,GAASoqB,GAAYD,EAAS,KAAO,EAE3E,OAAOh/E,GAKTy7E,EAAMyD,WAAa,SAAoBC,EAAMC,GAC3C,IAII1qF,EAJA01C,EAAIqxC,EAAMpX,KAAK8a,GACf9jF,EAAIogF,EAAMpX,KAAK+a,GACfC,EAAUF,EAAKroF,OACfwoF,EAAS,IAAIxlF,MAAMulF,GAGvB,IAAK3qF,EAAI,EAAGA,EAAI2qF,EAAS3qF,IACvB4qF,EAAO5qF,IAAMyqF,EAAKzqF,GAAK01C,IAAMg1C,EAAK1qF,GAAK2G,GAEzC,OAAOogF,EAAM7kD,IAAI0oD,IAAWD,EAAU,IAKxC5D,EAAM8D,UAAY,SAAmBJ,EAAMC,GACzC,OAAO3D,EAAMyD,WAAWC,EAAMC,GAC1B3D,EAAMiC,MAAMyB,EAAM,GAClB1D,EAAMiC,MAAM0B,EAAM,IAIxB3D,EAAM+D,cAAiB,SAAUL,EAAMC,GAIrC,OAHAD,EAAO1D,EAAMuB,KAAKmC,GAClBC,EAAO3D,EAAMuB,KAAKoC,GAEX3D,EAAM8D,UAAUJ,EAAMC,IAK/B3D,EAAMgE,WAAa,SAAoB5D,EAAK1lF,GAM1C,IALA,IAAIupF,EAAKjE,EAAMpX,KAAKwX,GAChB8D,EAAQlE,EAAMiC,MAAM7B,GACpBl+E,EAAMk+E,EAAI/kF,OACV8oF,EAAU,EAELlrF,EAAI,EAAGA,EAAIiJ,EAAKjJ,IACvBkrF,GAAW9kF,EAAKyF,KAAKs7E,EAAInnF,GAAKgrF,GAAMC,EAAOxpF,GAE7C,OAAOypF,EAAU/D,EAAI/kF,QAIvB2kF,EAAMoE,SAAW,SAAkBhE,GACjC,OAAOJ,EAAMgE,WAAW5D,EAAK,IAI/BJ,EAAMqE,SAAW,SAAkBjE,GACjC,OAAOJ,EAAMgE,WAAW5D,EAAK,GAAK,GAIpC,IAAIkE,EAAStE,EAAMnlF,WAQnB,SAAU0pF,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAG/CF,EAAOE,GAAY,SAASC,EAAUC,GACpC,IAAItE,EAAM,GACNnnF,EAAI,EACJ0rF,EAAUloF,KAOd,GALIwjF,EAAWwE,KACbC,EAAOD,EACPA,GAAW,GAGTC,EAIF,OAHAE,YAAW,WACTF,EAAKtrF,KAAKurF,EAASL,EAAOE,GAAUprF,KAAKurF,EAASF,OAE7ChoF,KAGT,GAAIA,KAAKpB,OAAS,EAAG,CAEnB,IADAspF,GAAuB,IAAbF,EAAoBhoF,KAAOA,KAAKooF,YACnC5rF,EAAI0rF,EAAQtpF,OAAQpC,IACzBmnF,EAAInnF,GAAK+mF,EAAMwE,GAAUG,EAAQ1rF,IACnC,OAAOmnF,EAGT,OAAOJ,EAAMwE,GAAU/nF,KAAK,GAAIgoF,IA3BG,CA6BpCF,EAAMtrF,IA9BX,CA+BG,iBAAmBymD,MAAM,MAI5B,SAAU6kC,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAG/CF,EAAOE,GAAY,SAASC,EAAUC,GACpC,IAAItE,EAAM,GACNnnF,EAAI,EACJ0rF,EAAUloF,KAOd,GALIwjF,EAAWwE,KACbC,EAAOD,EACPA,GAAW,GAGTC,EAIF,OAHAE,YAAW,WACTF,EAAKtrF,KAAKurF,EAASL,EAAOE,GAAUprF,KAAKurF,EAASF,OAE7ChoF,KAGT,GAAIA,KAAKpB,OAAS,EAAG,CAGnB,IAFiB,WAAbmpF,IACFG,GAAuB,IAAbF,EAAoBhoF,KAAOA,KAAKooF,aACrC5rF,EAAI0rF,EAAQtpF,OAAQpC,IACzBmnF,EAAInnF,GAAK+mF,EAAMwE,GAAUG,EAAQ1rF,IACnC,OAAoB,IAAbwrF,EACDzE,EAAMwE,GAAUxE,EAAME,MAAM4E,SAAS1E,IACrCA,EAGR,OAAOJ,EAAMwE,GAAU/nF,KAAK,GAAIgoF,IA9BG,CAgCpCF,EAAMtrF,IAjCX,CAkCG,+LAE0DymD,MAAM,MAKnE,SAAU6kC,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAC/CF,EAAOE,GAAY,WACjB,IAIIO,EAJA3E,EAAM,GACNnnF,EAAI,EACJ0rF,EAAUloF,KACVg5E,EAAOp3E,MAAMxD,UAAU+J,MAAMxL,KAAKgC,WAKtC,GAAI6kF,EAAWxK,EAAKA,EAAKp6E,OAAS,IAAK,CACrC0pF,EAAmBtP,EAAKA,EAAKp6E,OAAS,GACtC,IAAI2pF,EAAavP,EAAK7wE,MAAM,EAAG6wE,EAAKp6E,OAAS,GAM7C,OAJAupF,YAAW,WACTG,EAAiB3rF,KAAKurF,EACAL,EAAOE,GAAU1hF,MAAM6hF,EAASK,OAEjDvoF,KAIPsoF,OAAmBz5E,EACnB,IAAI25E,EAAkB,SAAyBj1B,GAC7C,OAAOgwB,EAAMwE,GAAU1hF,MAAM6hF,EAAS,CAAC30B,GAAQvsD,OAAOgyE,KAK1D,GAAIh5E,KAAKpB,OAAS,EAAG,CAEnB,IADAspF,EAAUA,EAAQE,YACX5rF,EAAI0rF,EAAQtpF,OAAQpC,IACzBmnF,EAAInnF,GAAKgsF,EAAgBN,EAAQ1rF,IACnC,OAAOmnF,EAIT,OAAO6E,EAAgBxoF,KAAK,KArCO,CAuCpC8nF,EAAMtrF,IAxCX,CAyCG,8BAA8BymD,MAAM,MAniBvC,CAhrBIsgC,EAAS,SAAS3gF,EAAMiM,GAE5BvL,QAAQm8B,KAAK,iFACbn8B,QAAQm8B,KAAK,mEAGb,IAAIz4B,EAASpF,MAAMxD,UAAU4I,OACzBmB,EAAQvG,MAAMxD,UAAU+J,MACxB4gB,EAAW7rB,OAAOkB,UAAU2qB,SAIhC,SAAS0/D,EAAQxqF,EAAGrB,GAClB,IAAIu6B,EAAMl5B,EAAIrB,EAAIqB,EAAIrB,EACtB,OAAOgG,EAAKyF,IAAI,GACA,MAAQzF,EAAKW,IAAM4zB,EAAM,EAAKA,GAAOA,GAAQv0B,EAAK8lF,SAIpE,IAAI7mF,EAAUD,MAAMC,SAAW,SAAiB/B,GAC9C,MAA8B,mBAAvBipB,EAASpsB,KAAKmD,IAIvB,SAAS0jF,EAAW1jF,GAClB,MAA8B,sBAAvBipB,EAASpsB,KAAKmD,GAIvB,SAAS6oF,EAAS7oF,GAChB,MAAsB,iBAARA,GAAoBA,GAAQA,EAW5C,SAASyjF,IACP,OAAO,IAAIA,EAAMqF,MAAMjqF,WAoRzB,SAASkqF,IAAY,OAAO,EAW5B,SAASC,IAAW,OAAO,EAmB3B,SAASC,EAASvsF,EAAGwG,GAAK,OAAOxG,IAAMwG,EAAI,EAAI,EA7S/CugF,EAAMp6E,GAAKo6E,EAAMnlF,UAKjBmlF,EAAMqF,MAAQ,SAAe5P,GAE3B,GAAIn3E,EAAQm3E,EAAK,IAEf,GAAIn3E,EAAQm3E,EAAK,GAAG,IAAK,CAEnBwK,EAAWxK,EAAK,MAClBA,EAAK,GAAKuK,EAAMh9E,IAAIyyE,EAAK,GAAIA,EAAK,KAEpC,IAAK,IAAIx8E,EAAI,EAAGA,EAAIw8E,EAAK,GAAGp6E,OAAQpC,IAClCwD,KAAKxD,GAAKw8E,EAAK,GAAGx8E,GACpBwD,KAAKpB,OAASo6E,EAAK,GAAGp6E,YAItBoB,KAAK,GAAKwjF,EAAWxK,EAAK,IAAMuK,EAAMh9E,IAAIyyE,EAAK,GAAIA,EAAK,IAAMA,EAAK,GACnEh5E,KAAKpB,OAAS,OAIX,GAAI+pF,EAAS3P,EAAK,IACvBh5E,KAAK,GAAKujF,EAAM/8E,IAAIH,MAAM,KAAM2yE,GAChCh5E,KAAKpB,OAAS,MAGT,IAAIo6E,EAAK,aAAcuK,EAE5B,OAAOA,EAAMvK,EAAK,GAAGnP,WAMrB7pE,KAAK,GAAK,GACVA,KAAKpB,OAAS,EAGhB,OAAOoB,MAETujF,EAAMqF,MAAMxqF,UAAYmlF,EAAMnlF,UAC9BmlF,EAAMqF,MAAM3qD,YAAcslD,EAK1BA,EAAME,MAAQ,CACZgF,QAASA,EACT5mF,QAASA,EACT2hF,WAAYA,EACZmF,SAAUA,EACVN,SAnEF,SAAkB1E,GAChB,OAAO38E,EAAOX,MAAM,GAAIs9E,KAsE1BJ,EAAMyF,WAAapmF,EAAKwpE,OACxBmX,EAAM0F,UAAY,SAAmB9/E,GACnC,GAAkB,mBAAPA,EACT,MAAM,IAAI+/E,UAAU,wBACtB3F,EAAMyF,WAAa7/E,GAMrBo6E,EAAM/uD,OAAS,SAAgBh2B,GAC7B,IAAIhC,EAAGwG,EAEP,GAAyB,IAArBrE,UAAUC,OAAc,CAC1B,IAAKoE,KAAKxE,EACR+kF,EAAMvgF,GAAKxE,EAAIwE,GACjB,OAAOhD,KAGT,IAAKxD,EAAI,EAAGA,EAAImC,UAAUC,OAAQpC,IAChC,IAAKwG,KAAKrE,UAAUnC,GAClBgC,EAAIwE,GAAKrE,UAAUnC,GAAGwG,GAG1B,OAAOxE,GAKT+kF,EAAMv+E,KAAO,SAAc2+E,GACzB,OAAOA,EAAI/kF,QAAU,GAKvB2kF,EAAM4F,KAAO,SAAcxF,GACzB,OAAOA,EAAI,GAAG/kF,QAAU,GAK1B2kF,EAAM6F,WAAa,SAAoBzF,GACrC,MAAO,CACL3+E,KAAMu+E,EAAMv+E,KAAK2+E,GACjBwF,KAAM5F,EAAM4F,KAAKxF,KAMrBJ,EAAMrgF,IAAM,SAAaygF,EAAKniF,GAC5B,OAAIK,EAAQL,GACHA,EAAM+E,KAAI,SAAS/J,GACxB,OAAO+mF,EAAMrgF,IAAIygF,EAAKnnF,MAGnBmnF,EAAIniF,IAMb+hF,EAAM8F,KAAO,SAAc1F,EAAKnnF,GAC9B,OAAO+mF,EAAMrgF,IAAIygF,EAAKnnF,IAMxB+mF,EAAM9+E,IAAM,SAAak/E,EAAKniF,GAC5B,GAAIK,EAAQL,GAAQ,CAClB,IAAI8nF,EAAS/F,EAAMgG,OAAO5F,EAAI/kF,QAAQ2H,KAAI,WACxC,OAAO,IAAI3E,MAAMJ,EAAM5C,WAOzB,OALA4C,EAAMJ,SAAQ,SAASooF,EAAKhtF,GAC1B+mF,EAAMgG,OAAO5F,EAAI/kF,QAAQwC,SAAQ,SAAS4B,GACxCsmF,EAAOtmF,GAAGxG,GAAKmnF,EAAI3gF,GAAGwmF,SAGnBF,EAGT,IADA,IAAIvqD,EAAS,IAAIn9B,MAAM+hF,EAAI/kF,QAClBpC,EAAI,EAAGA,EAAImnF,EAAI/kF,OAAQpC,IAC9BuiC,EAAOviC,GAAK,CAACmnF,EAAInnF,GAAGgF,IACtB,OAAOu9B,GAMTwkD,EAAMkG,KAAO,SAAc9F,EAAKnnF,GAC9B,OAAO+mF,EAAM9+E,IAAIk/E,EAAKnnF,GAAG+J,KAAI,SAASR,GAAI,OAAOA,EAAE,OAKrDw9E,EAAMmG,KAAO,SAAc/F,GAGzB,IAFA,IAAIgG,EAAOpG,EAAMv+E,KAAK2+E,GAClB10E,EAAM,IAAIrN,MAAM+nF,GACXzmF,EAAM,EAAGA,EAAMymF,EAAMzmF,IAC5B+L,EAAI/L,GAAO,CAACygF,EAAIzgF,GAAKA,IACvB,OAAO+L,GAKTs0E,EAAMqG,SAAW,SAAkBjG,GAGjC,IAFA,IAAIgG,EAAOpG,EAAMv+E,KAAK2+E,GAAO,EACzB10E,EAAM,IAAIrN,MAAM+nF,GACXntF,EAAI,EAAGmtF,GAAQ,EAAGA,IAAQntF,IACjCyS,EAAIzS,GAAK,CAACmnF,EAAInnF,GAAGmtF,IACnB,OAAO16E,GAITs0E,EAAM6E,UAAY,SAAmBzE,GACnC,IACIkG,EAAQ7kF,EAAMmkF,EAAMnmF,EAAGxG,EADvBgC,EAAM,GAUV,IANKqD,EAAQ8hF,EAAI,MACfA,EAAM,CAACA,IAET3+E,EAAO2+E,EAAI/kF,OACXuqF,EAAOxF,EAAI,GAAG/kF,OAETpC,EAAI,EAAGA,EAAI2sF,EAAM3sF,IAAK,CAEzB,IADAqtF,EAAS,IAAIjoF,MAAMoD,GACdhC,EAAI,EAAGA,EAAIgC,EAAMhC,IACpB6mF,EAAO7mF,GAAK2gF,EAAI3gF,GAAGxG,GACrBgC,EAAIsD,KAAK+nF,GAIX,OAAsB,IAAfrrF,EAAII,OAAeJ,EAAI,GAAKA,GAMrC+kF,EAAMh9E,IAAM,SAAao9E,EAAKsE,EAAM6B,GAClC,IAAI5mF,EAAKymF,EAAMI,EAAM96E,EAAKxK,EAS1B,IAPK5C,EAAQ8hF,EAAI,MACfA,EAAM,CAACA,IAETgG,EAAOhG,EAAI/kF,OACXmrF,EAAOpG,EAAI,GAAG/kF,OACdqQ,EAAM66E,EAAUnG,EAAM,IAAI/hF,MAAM+nF,GAE3BzmF,EAAM,EAAGA,EAAMymF,EAAMzmF,IAIxB,IAFK+L,EAAI/L,KACP+L,EAAI/L,GAAO,IAAItB,MAAMmoF,IAClBtlF,EAAM,EAAGA,EAAMslF,EAAMtlF,IACxBwK,EAAI/L,GAAKuB,GAAOwjF,EAAKtE,EAAIzgF,GAAKuB,GAAMvB,EAAKuB,GAG7C,OAAsB,IAAfwK,EAAIrQ,OAAeqQ,EAAI,GAAKA,GAKrCs0E,EAAMmB,UAAY,SAAmBf,EAAKsE,EAAM6B,GAC9C,IAAI5mF,EAAKymF,EAAMI,EAAM96E,EAAKxK,EAS1B,IAPK5C,EAAQ8hF,EAAI,MACfA,EAAM,CAACA,IAETgG,EAAOhG,EAAI/kF,OACXmrF,EAAOpG,EAAI,GAAG/kF,OACdqQ,EAAM66E,EAAUnG,EAAM,IAAI/hF,MAAM+nF,GAE3BzmF,EAAM,EAAGA,EAAMymF,EAAMzmF,IAMxB,IAJK+L,EAAI/L,KACP+L,EAAI/L,GAAO,IAAItB,MAAMmoF,IACnBA,EAAO,IACT96E,EAAI/L,GAAK,GAAKygF,EAAIzgF,GAAK,IACpBuB,EAAM,EAAGA,EAAMslF,EAAMtlF,IACxBwK,EAAI/L,GAAKuB,GAAOwjF,EAAKh5E,EAAI/L,GAAKuB,EAAI,GAAIk/E,EAAIzgF,GAAKuB,IAEnD,OAAsB,IAAfwK,EAAIrQ,OAAeqQ,EAAI,GAAKA,GAKrCs0E,EAAMyG,MAAQ,SAAerG,EAAKsE,GAChC,OAAO1E,EAAMh9E,IAAIo9E,EAAKsE,GAAM,IAK9B1E,EAAMzlF,OAAS,SAAiBkH,EAAMmkF,EAAMlB,GAC1C,IACIzrF,EAAGwG,EADHiM,EAAM,IAAIrN,MAAMoD,GAQpB,IALIw+E,EAAW2F,KACblB,EAAOkB,EACPA,EAAOnkF,GAGJxI,EAAI,EAAGA,EAAIwI,EAAMxI,IAEpB,IADAyS,EAAIzS,GAAK,IAAIoF,MAAMunF,GACdnmF,EAAI,EAAGA,EAAImmF,EAAMnmF,IACpBiM,EAAIzS,GAAGwG,GAAKilF,EAAKzrF,EAAGwG,GAGxB,OAAOiM,GAQTs0E,EAAM0G,MAAQ,SAAejlF,EAAMmkF,GAGjC,OAFKR,EAASQ,KACZA,EAAOnkF,GACFu+E,EAAMzlF,OAAOkH,EAAMmkF,EAAMN,IAQlCtF,EAAM2G,KAAO,SAAcllF,EAAMmkF,GAG/B,OAFKR,EAASQ,KACZA,EAAOnkF,GACFu+E,EAAMzlF,OAAOkH,EAAMmkF,EAAML,IAKlCvF,EAAMrX,KAAO,SAAclnE,EAAMmkF,GAG/B,OAFKR,EAASQ,KACZA,EAAOnkF,GACFu+E,EAAMzlF,OAAOkH,EAAMmkF,EAAM5F,EAAMyF,aAQxCzF,EAAM4G,SAAW,SAAkBnlF,EAAMmkF,GAGvC,OAFKR,EAASQ,KACZA,EAAOnkF,GACFu+E,EAAMzlF,OAAOkH,EAAMmkF,EAAMJ,IAKlCxF,EAAM6G,UAAY,SAAmBzG,GACnC,IACIzgF,EAAKuB,EADLtE,EAAOwjF,EAAI/kF,OAGf,GAAI+kF,EAAI/kF,SAAW+kF,EAAI,GAAG/kF,OACxB,OAAO,EAET,IAAKsE,EAAM,EAAGA,EAAM/C,EAAM+C,IACxB,IAAKuB,EAAM,EAAGA,EAAMtE,EAAMsE,IACxB,GAAIk/E,EAAIl/E,GAAKvB,KAASygF,EAAIzgF,GAAKuB,GAC7B,OAAO,EAGb,OAAO,GAKT8+E,EAAMhsE,MAAQ,SAAeosE,GAC3B,OAAOJ,EAAMyG,MAAMrG,EAAKkF,IAK1BtF,EAAM/8E,IAAM,SAAa9B,EAAKC,EAAK/F,EAAQqpF,GACpCzE,EAAWyE,KACdA,GAAO,GAET,IAIIoC,EAJA1G,EAAM,GACN2G,EAAQ7B,EAAQ/jF,EAAKC,GACrBkF,GAAQlF,EAAM2lF,EAAQ5lF,EAAM4lF,KAAW1rF,EAAS,GAAK0rF,GACrD1xB,EAAUl0D,EAKd,IAAK2lF,EAAM,EACNzxB,GAAWj0D,GAAO0lF,EAAMzrF,EACjBg6D,GAAWl0D,EAAM4lF,EAAQzgF,EAAOygF,IAAvCD,GAAsDC,EACzD3G,EAAI7hF,KAAMmmF,EAAOA,EAAKrvB,EAASyxB,GAAOzxB,GAGxC,OAAO+qB,GAOTJ,EAAMgG,OAAS,SAAgB9iF,EAAOC,EAAKmD,GACzC,IACIrN,EADA+tF,EAAK,GAOT,GALA1gF,EAAOA,GAAQ,OA5ZL,IA6ZNnD,IACFA,EAAMD,EACNA,EAAQ,GAENA,IAAUC,GAAgB,IAATmD,EACnB,MAAO,GAET,GAAIpD,EAAQC,GAAOmD,EAAO,EACxB,MAAO,GAET,GAAIpD,EAAQC,GAAOmD,EAAO,EACxB,MAAO,GAET,GAAIA,EAAO,EACT,IAAKrN,EAAIiK,EAAOjK,EAAIkK,EAAKlK,GAAKqN,EAC5B0gF,EAAGzoF,KAAKtF,QAGV,IAAKA,EAAIiK,EAAOjK,EAAIkK,EAAKlK,GAAKqN,EAC5B0gF,EAAGzoF,KAAKtF,GAGZ,OAAO+tF,GAQThH,EAAMp7E,MAAS,WACb,SAASqiF,EAAOjnC,EAAM98C,EAAOC,EAAKmD,GAEhC,IAAIrN,EACA+tF,EAAK,GACL3rF,EAAS2kD,EAAK3kD,OAClB,QAjcQ,IAicJ6H,QAjcI,IAicmBC,QAjcnB,IAicwCmD,EAC9C,OAAO05E,EAAMhgD,KAAKggB,GAQpB,GADA15C,EAAOA,GAAQ,GAFfpD,GAFAA,EAAQA,GAAS,IAEA,EAAIA,EAAQ7H,EAAS6H,MACtCC,GAFAA,EAAMA,GAAO68C,EAAK3kD,SAEL,EAAI8H,EAAM9H,EAAS8H,IAEF,IAATmD,EACnB,MAAO,GAET,GAAIpD,EAAQC,GAAOmD,EAAO,EACxB,MAAO,GAET,GAAIpD,EAAQC,GAAOmD,EAAO,EACxB,MAAO,GAET,GAAIA,EAAO,EACT,IAAKrN,EAAIiK,EAAOjK,EAAIkK,EAAKlK,GAAKqN,EAC5B0gF,EAAGzoF,KAAKyhD,EAAK/mD,SAGf,IAAKA,EAAIiK,EAAOjK,EAAIkK,EAAIlK,GAAKqN,EAC3B0gF,EAAGzoF,KAAKyhD,EAAK/mD,IAGjB,OAAO+tF,EA4BT,OAzBA,SAAehnC,EAAMknC,GACnB,IAAIC,EAAUC,EAEd,OAAIhC,GADJ8B,EAAUA,GAAW,IACAvnF,KACfylF,EAAS8B,EAAQhmF,KACZ8+C,EAAKknC,EAAQvnF,KAAKunF,EAAQhmF,KAG5B+lF,EAFGjH,EAAM8F,KAAK9lC,EAAMknC,EAAQvnF,MACnCwnF,EAAWD,EAAQhmF,KAAO,IACEgC,MAAOikF,EAAShkF,IAAKgkF,EAAS7gF,MAGxD8+E,EAAS8B,EAAQhmF,KAGZ+lF,EAFGjH,EAAMkG,KAAKlmC,EAAMknC,EAAQhmF,MACnCkmF,EAAWF,EAAQvnF,KAAO,IACEuD,MAAOkkF,EAASjkF,IAAKikF,EAAS9gF,OAG5D8gF,EAAWF,EAAQvnF,KAAO,GAC1BwnF,EAAWD,EAAQhmF,KAAO,GACf+lF,EAAOjnC,EAAMonC,EAASlkF,MAAOkkF,EAASjkF,IAAKikF,EAAS9gF,MACnDtD,KAAI,SAASrD,GACvB,OAAOsnF,EAAOtnF,EAAKwnF,EAASjkF,MAAOikF,EAAShkF,IAAKgkF,EAAS7gF,WAzDlD,GAoEd05E,EAAMqH,YAAc,SAAqBpjF,EAAGijF,EAAS3qB,GACnD,IAAI+qB,EAAIC,EACR,GAAInC,EAAS8B,EAAQvnF,KAAM,CACzB,GAAIylF,EAAS8B,EAAQhmF,KACnB,OAAO+C,EAAEijF,EAAQvnF,KAAKunF,EAAQhmF,KAAOq7D,EACvC2qB,EAAQhmF,IAAMgmF,EAAQhmF,KAAO,GAC7BgmF,EAAQhmF,IAAIgC,MAAQgkF,EAAQhmF,IAAIgC,OAAS,EACzCgkF,EAAQhmF,IAAIiC,IAAM+jF,EAAQhmF,IAAIiC,KAAOc,EAAE,GAAG5I,OAC1C6rF,EAAQhmF,IAAIoF,KAAO4gF,EAAQhmF,IAAIoF,MAAQ,EACvCghF,EAAKtH,EAAMgG,OAAOkB,EAAQhmF,IAAIgC,MACR7D,EAAK8B,IAAI8C,EAAE5I,OAAQ6rF,EAAQhmF,IAAIiC,KAC/B+jF,EAAQhmF,IAAIoF,MAClC,IAAIjN,EAAI6tF,EAAQvnF,IAIhB,OAHA2nF,EAAGzpF,SAAQ,SAASnD,EAAGzB,GACrBgL,EAAE5K,GAAGqB,GAAK6hE,EAAEtjE,MAEPgL,EAGT,GAAImhF,EAAS8B,EAAQhmF,KAAM,CACzBgmF,EAAQvnF,IAAMunF,EAAQvnF,KAAO,GAC7BunF,EAAQvnF,IAAIuD,MAAQgkF,EAAQvnF,IAAIuD,OAAS,EACzCgkF,EAAQvnF,IAAIwD,IAAM+jF,EAAQvnF,IAAIwD,KAAOc,EAAE5I,OACvC6rF,EAAQvnF,IAAI2G,KAAO4gF,EAAQvnF,IAAI2G,MAAQ,EACvCihF,EAAKvH,EAAMgG,OAAOkB,EAAQvnF,IAAIuD,MACR7D,EAAK8B,IAAI8C,EAAE,GAAG5I,OAAQ6rF,EAAQvnF,IAAIwD,KAClC+jF,EAAQvnF,IAAI2G,MAClC,IAAI5L,EAAIwsF,EAAQhmF,IAIhB,OAHAqmF,EAAG1pF,SAAQ,SAASxE,EAAGoG,GACrBwE,EAAE5K,GAAGqB,GAAK6hE,EAAE98D,MAEPwE,EAuBT,YArjBU,IAiiBNs4D,EAAE,GAAGlhE,SACPkhE,EAAI,CAACA,IAEP2qB,EAAQvnF,IAAIuD,MAAQgkF,EAAQvnF,IAAIuD,OAAS,EACzCgkF,EAAQvnF,IAAIwD,IAAM+jF,EAAQvnF,IAAIwD,KAAOc,EAAE5I,OACvC6rF,EAAQvnF,IAAI2G,KAAO4gF,EAAQvnF,IAAI2G,MAAQ,EACvC4gF,EAAQhmF,IAAIgC,MAAQgkF,EAAQhmF,IAAIgC,OAAS,EACzCgkF,EAAQhmF,IAAIiC,IAAM+jF,EAAQhmF,IAAIiC,KAAOc,EAAE,GAAG5I,OAC1C6rF,EAAQhmF,IAAIoF,KAAO4gF,EAAQhmF,IAAIoF,MAAQ,EACvCihF,EAAKvH,EAAMgG,OAAOkB,EAAQvnF,IAAIuD,MACR7D,EAAK8B,IAAI8C,EAAE5I,OAAQ6rF,EAAQvnF,IAAIwD,KAC/B+jF,EAAQvnF,IAAI2G,MAClCghF,EAAKtH,EAAMgG,OAAOkB,EAAQhmF,IAAIgC,MACR7D,EAAK8B,IAAI8C,EAAE,GAAG5I,OAAQ6rF,EAAQhmF,IAAIiC,KAClC+jF,EAAQhmF,IAAIoF,MAClCihF,EAAG1pF,SAAQ,SAASxE,EAAGJ,GACrBquF,EAAGzpF,SAAQ,SAASnD,EAAG+E,GACrBwE,EAAE5K,GAAGqB,GAAK6hE,EAAEtjE,GAAGwG,SAGZwE,GAMT+7E,EAAMwH,SAAW,SAAkBC,GACjC,IAAIC,EAAM1H,EAAM0G,MAAMe,EAAUpsF,OAAQosF,EAAUpsF,QAIlD,OAHAosF,EAAU5pF,SAAQ,SAAS1D,EAAGlB,GAC5ByuF,EAAIzuF,GAAGA,GAAKkB,KAEPutF,GAKT1H,EAAMhgD,KAAO,SAAc/7B,GACzB,OAAOA,EAAEjB,KAAI,SAASrD,GACpB,OAAIylF,EAASzlF,GACJA,EACFA,EAAIqD,KAAI,SAAS7I,GACtB,OAAOA,SAWb,IAAImqF,EAAStE,EAAMnlF,UAwFnB,OArFAypF,EAAOjpF,OAAS,EAKhBipF,EAAO/lF,KAAOF,MAAMxD,UAAU0D,KAC9B+lF,EAAO/hF,KAAOlE,MAAMxD,UAAU0H,KAC9B+hF,EAAOjkC,OAAShiD,MAAMxD,UAAUwlD,OAChCikC,EAAO1/E,MAAQvG,MAAMxD,UAAU+J,MAI/B0/E,EAAOhe,QAAU,WACf,OAAO7pE,KAAKpB,OAAS,EAAIuJ,EAAMxL,KAAKqD,MAAQmI,EAAMxL,KAAKqD,MAAM,IAK/D6nF,EAAOthF,IAAM,SAAa0hF,EAAM6B,GAC9B,OAAOvG,EAAMA,EAAMh9E,IAAIvG,KAAMioF,EAAM6B,KAKrCjC,EAAOnD,UAAY,SAAmBuD,EAAM6B,GAC1C,OAAOvG,EAAMA,EAAMmB,UAAU1kF,KAAMioF,EAAM6B,KAK3CjC,EAAOmC,MAAQ,SAAe/B,GAE5B,OADA1E,EAAMyG,MAAMhqF,KAAMioF,GACXjoF,MAKT,SAAU8nF,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAC/CF,EAAOE,GAAY,SAASE,GAC1B,IACAva,EADInqD,EAAOvjB,KAGX,OAAIioF,GACFE,YAAW,WACTF,EAAKtrF,KAAK4mB,EAAMskE,EAAOE,GAAUprF,KAAK4mB,OAEjCvjB,OAET0tE,EAAU6V,EAAMwE,GAAU/nF,MACnB6B,EAAQ6rE,GAAW6V,EAAM7V,GAAWA,IAZR,CAcpCoa,EAAMtrF,IAfX,CAgBG,+DAA+DymD,MAAM,MAIxE,SAAU6kC,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAC/CF,EAAOE,GAAY,SAASvmF,EAAOymF,GACjC,IAAI1kE,EAAOvjB,KAEX,OAAIioF,GACFE,YAAW,WACTF,EAAKtrF,KAAK4mB,EAAMskE,EAAOE,GAAUprF,KAAK4mB,EAAM/hB,OAEvCxB,MAEFujF,EAAMA,EAAMwE,GAAU/nF,KAAMwB,KAVA,CAYpCsmF,EAAMtrF,IAbX,CAcG,UAAUymD,MAAM,MAInB,SAAU6kC,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAC/CF,EAAOE,GAAY,WACjB,OAAOxE,EAAMA,EAAMwE,GAAU1hF,MAAM,KAAM1H,aAFN,CAIpCmpF,EAAMtrF,IALX,CAMG,kCAAkCymD,MAAM,MAIpCsgC,EA7qBK,CA+qBV3gF,MAsiBOA,MAER,SAAS2gF,EAAO3gF,GAGjB2gF,EAAM2H,QAAU,SAAiBz7E,GAC/B,IAMI07E,EAAI37E,EAAGs0E,EANP9gF,EAAI,EACJooF,EAAM,CACR,mBAAoB,kBAAmB,mBACtC,kBAAmB,qBAAwB,mBAE1CC,EAAM,kBAIV,IAFAvH,GAAOt0E,EAAI27E,EAAK17E,GAAK,IACrBq0E,IAAQqH,EAAK,IAAOvoF,EAAKW,IAAIugF,GACtB9gF,EAAI,EAAGA,IACZqoF,GAAOD,EAAIpoF,KAAOwM,EACpB,OAAO5M,EAAKW,IAAI,mBAAqB8nF,EAAMF,GAAMrH,GAKnDP,EAAM+H,QAAU,SAAiB77E,GAC/B,IAYIjT,EAAGo/C,EAAG2vC,EAAIt8E,EAZV3Q,EAAI,EAAE,kBAAmB,mBAAoB,mBACxC,kBAAmB,mBAAoB,oBACtC,mBAAoB,mBAE1Bg7B,EAAI,EAAE,iBAAkB,oBAAqB,oBACvC,kBAAmB,kBAAoB,mBACvC,mBAAoB,mBAC1BkyD,GAAO,EACPvtF,EAAI,EACJwtF,EAAO,EACPC,EAAO,EACPl8E,EAAIC,EAER,GAAID,GAAK,EAAG,CAEV,KADAP,EAAMO,EAAI,EAAI,QAKZ,OAAOolC,IAHP42C,GAAc,EAAJh8E,GAAc,EAAL,GAAU5M,EAAK+mD,GAAK/mD,EAAK6nD,IAAI7nD,EAAK+mD,GAAK16C,GAC1DO,EAAI,EAAIA,EAWZ,IANA+7E,EAAK/7E,EAEHosC,EADEpsC,EAAI,EACFA,KAECA,GAAKvR,GAAS,EAAJuR,GAAS,GAAK,EAE1BhT,EAAI,EAAGA,EAAI,IAAKA,EACnBkvF,GAAQA,EAAOptF,EAAE9B,IAAMo/C,EACvB6vC,EAAOA,EAAO7vC,EAAItiB,EAAE98B,GAGtB,GADAyS,EAAMy8E,EAAOD,EAAO,EAChBF,EAAK/7E,EACPP,GAAOs8E,OACF,GAAIA,EAAK/7E,EACd,IAAKhT,EAAI,EAAGA,EAAIyB,IAAKzB,EACnByS,GAAOO,EACPA,IAMJ,OAHIg8E,IACFv8E,EAAMu8E,EAAOv8E,GAERA,GAMTs0E,EAAMoI,OAAS,SAAgB5lF,EAAG0J,GAChC,OAAO8zE,EAAMqI,YAAY7lF,EAAG0J,GAAK8zE,EAAM+H,QAAQvlF,IAKjDw9E,EAAMqI,YAAc,SAAqB7lF,EAAG0J,GAC1C,IAWIo8E,EAXAC,EAAMvI,EAAM2H,QAAQnlF,GACpBgmF,EAAKhmF,EACL24B,EAAM,EAAI34B,EACVimF,EAAMttD,EACN14B,EAAIyJ,EAAI,EAAI1J,EACZlJ,EAAI,EAAI,MACRC,EAAI,EAAIkJ,EACRoc,EAAItlB,EACJN,EAAI,EAEJyvF,KAA4C,IAAjCrpF,EAAKW,IAAKwC,GAAK,EAAKA,EAAI,EAAIA,GAAe,GAAJA,EAAU,IAGhE,GAAI0J,EAAI,GAAK1J,GAAK,EAChB,OAAOq7B,IACF,GAAI3xB,EAAI1J,EAAI,EAAG,CACpB,KAAOvJ,GAAKyvF,EAAOzvF,IACjBkiC,GAAOstD,GAAOv8E,IAAMs8E,EAEtB,OAAQrtD,EAAM97B,EAAK6lB,KAAKhZ,EAAI1J,EAAInD,EAAKW,IAAIkM,GAAK,GAGhD,KAAOjT,GAAKyvF,EAAOzvF,IAMjB4lB,IADAtlB,EAAI,GAFJA,GAFA+uF,GAAMrvF,GAAKA,EAAIuJ,IAENjJ,GADTkJ,GAAK,MAELnJ,EAAImJ,EAAI6lF,EAAKhvF,GAKf,OAAQ,EAAIulB,EAAIxf,EAAK6lB,KAAKhZ,EAAI1J,EAAInD,EAAKW,IAAIkM,GAAK,IAIlD8zE,EAAM2I,YAAc,SAAqBjuF,GACvC,OAAOA,EAAI,EAAImjC,IAAMmiD,EAAM2H,QAAQjtF,EAAI,IAIzCslF,EAAM4I,UAAY,SAAmBluF,GACnC,OAAOA,EAAI,EAAImjC,IAAMmiD,EAAM+H,QAAQrtF,EAAI,IAIzCslF,EAAM6I,YAAc,SAAqBnuF,EAAGrB,GAE1C,OAAQqB,EAAI,KAAOrB,EAAI,IACjBgG,EAAK6lB,IAAI86D,EAAM8I,cAAcpuF,EAAGrB,IAC/B2mF,EAAM4I,UAAUluF,GAAKslF,EAAM4I,UAAUvvF,GAAM2mF,EAAM4I,UAAUluF,EAAIrB,IAIxE2mF,EAAM8I,cAAgB,SAAuBpuF,EAAGrB,GAC9C,OAAO2mF,EAAM2I,YAAYjuF,GAAKslF,EAAM2I,YAAYtvF,GAAK2mF,EAAM2I,YAAYjuF,EAAIrB,IAK7E2mF,EAAM+I,YAAc,SAAqBruF,EAAGrB,GAC1C,OAAO2mF,EAAM4I,UAAUluF,GAAKslF,EAAM4I,UAAUluF,EAAIrB,IAKlD2mF,EAAMgJ,OAAS,SAAgB98E,EAAGD,GAEhC,KAAIC,GAAK,GAAKD,GAAK,GAGnB,OAAQC,EAAID,EAAI,IACV5M,EAAK6lB,IAAI86D,EAAMiJ,OAAO/8E,EAAGD,IACzB+zE,EAAM+H,QAAQ77E,GAAK8zE,EAAM+H,QAAQ97E,GAAK+zE,EAAM+H,QAAQ77E,EAAID,IAKhE+zE,EAAMiJ,OAAS,SAAgB/8E,EAAGD,GAChC,OAAO+zE,EAAM2H,QAAQz7E,GAAK8zE,EAAM2H,QAAQ17E,GAAK+zE,EAAM2H,QAAQz7E,EAAID,IAMjE+zE,EAAMkJ,OAAS,SAAgBh9E,EAAG1J,EAAGC,GACnC,IAOIipC,EAAIy9C,EAAIV,EAAK5pE,EANbxlB,EAAI,EACJ+vF,EAAM5mF,EAAIC,EACV4mF,EAAM7mF,EAAI,EACV8mF,EAAM9mF,EAAI,EACVlJ,EAAI,EACJC,EAAI,EAAI6vF,EAAMl9E,EAAIm9E,EAStB,IALIhqF,EAAK6E,IAAI3K,GAVD,QAWVA,EAXU,OAaZslB,EADAtlB,EAAI,EAAIA,EAGDF,GAAK,MAIVE,EAAI,GAFJ4vF,EAAK9vF,GAAKoJ,EAAIpJ,GAAK6S,IAAMo9E,GADzB59C,EAAK,EAAIryC,KAC6BmJ,EAAIkpC,KAE7BnyC,EACT8F,EAAK6E,IAAI3K,GApBH,QAqBRA,EArBQ,OAsBVD,EAAI,EAAI6vF,EAAK7vF,EACT+F,EAAK6E,IAAI5K,GAvBH,QAwBRA,EAxBQ,OA0BVulB,IADAtlB,EAAI,EAAIA,GACCD,EAGTC,EAAI,GAFJ4vF,IAAO3mF,EAAInJ,IAAM+vF,EAAM/vF,GAAK6S,IAAM1J,EAAIkpC,IAAO29C,EAAM39C,KAEtCnyC,EACT8F,EAAK6E,IAAI3K,GA9BH,QA+BRA,EA/BQ,OAgCVD,EAAI,EAAI6vF,EAAK7vF,EACT+F,EAAK6E,IAAI5K,GAjCH,QAkCRA,EAlCQ,OAqCVulB,GADA4pE,GADAlvF,EAAI,EAAIA,GACED,IAEN+F,EAAK6E,IAAIukF,EAAM,GAAO,OAvBXpvF,KA2BjB,OAAOwlB,GAKTmhE,EAAMuJ,UAAY,SAAmBxuF,EAAGyH,GACtC,IAII0J,EAAQ/R,EAAGw0C,EAAGm+B,EAAI0c,EAAMC,EAJxBhqF,EAAI,EACJyrD,EAAK1oD,EAAI,EAETknF,EAAM1J,EAAM2H,QAAQnlF,GAGxB,GAAIzH,GAAK,EACP,OAAOsE,EAAK+B,IAAI,IAAKoB,EAAI,IAAMnD,EAAK2F,KAAKxC,IAC3C,GAAIzH,GAAK,EACP,OAAO,EAmBT,IAlBIyH,EAAI,GACNgnF,EAAOnqF,EAAKW,IAAIkrD,GAChBu+B,EAAOpqF,EAAK6lB,IAAIgmC,GAAMs+B,EAAO,GAAKE,GAClC5c,EAAM/xE,EAAI,GAAOA,EAAI,EAAIA,EAEzBmR,GAAK,QAAc,QADnB/R,EAAIkF,EAAK2F,MAAM,EAAI3F,EAAKW,IAAI8sE,OACG,EAAI3yE,GAAK,OAAc,OAAJA,IAAgBA,EAC9DY,EAAI,KACNmR,GAAKA,GACPA,EAAI7M,EAAK+B,IAAI,KACAoB,EAAInD,EAAKyF,IAAI,EAAI,GAAK,EAAItC,GAAK0J,GAAK,EAAI7M,EAAK2F,KAAKxC,IAAK,KAIlE0J,EADEnR,GADJZ,EAAI,EAAIqI,GAAK,KAAY,IAAJA,IAEfnD,EAAKyF,IAAI/J,EAAIZ,EAAG,EAAIqI,GAEpB,EAAInD,EAAKW,IAAI,GAAKjF,EAAIZ,IAAM,EAAIA,IAGlCsF,EAAI,GAAIA,IAAK,CACjB,GAAIyM,GAAK,EACP,OAAO,EAUT,IAHAA,GAAM/R,GADNw0C,GALMqxC,EAAMqI,YAAY7lF,EAAG0J,GAAKnR,IAE9BZ,EADEqI,EAAI,EACFinF,EAAOpqF,EAAK6lB,MAAMhZ,EAAIg/C,GAAMA,GAAM7rD,EAAKW,IAAIkM,GAAKs9E,IAEhDnqF,EAAK6lB,KAAKhZ,EAAIg/C,EAAK7rD,EAAKW,IAAIkM,GAAKw9E,MAExB,EAAI,GAAMrqF,EAAK8B,IAAI,EAAGwtC,IAAMnsC,EAAI,GAAK0J,EAAI,OAC/C,IACPA,EAAI,IAAOA,EAAI/R,IACbkF,EAAK6E,IAAI/J,GAtCL,KAsCgB+R,EACtB,MAGJ,OAAOA,GAKT8zE,EAAM2J,IAAM,SAAaz9E,GACvB,IAcI/R,EAAG+oE,EAAIqd,EAAK70E,EAdZm8E,EAAM,EAAE,mBAAoB,kBAAuB,qBAC3C,oBAAuB,oBAAqB,oBAC7C,oBAAqB,oBAAqB,kBAC1C,iBAAmB,iBAAkB,gBACrC,eAAgB,gBAAiB,gBAChC,eAAgB,aAAe,aAC/B,YAAc,WAAa,YAC3B,WAAa,QAAU,UACvB,UAAY,OAAS,SACrB,QACRpoF,EAAIooF,EAAIxsF,OAAS,EACjBuuF,GAAQ,EACRrwF,EAAI,EACJswF,EAAK,EAWT,IARI39E,EAAI,IACNA,GAAKA,EACL09E,GAAQ,GAIV1mB,EAAK,GADL/oE,EAAI,GAAK,EAAI+R,IACA,EAEPzM,EAAI,EAAGA,IACX8gF,EAAMhnF,EACNA,EAAI2pE,EAAK3pE,EAAIswF,EAAKhC,EAAIpoF,GACtBoqF,EAAKtJ,EAIP,OADA70E,EAAMvR,EAAIkF,EAAK6lB,KAAKhZ,EAAIA,EAAI,IAAO27E,EAAI,GAAK3kB,EAAK3pE,GAAKswF,GAC/CD,EAAQl+E,EAAM,EAAI,EAAIA,GAK/Bs0E,EAAM8J,KAAO,SAAc59E,GACzB,OAAO,EAAI8zE,EAAM2J,IAAIz9E,IAKvB8zE,EAAM+J,QAAU,SAAiBhvF,GAC/B,IACImR,EAAGgsB,EAAK/9B,EAAG2yE,EADXrtE,EAAI,EAER,GAAI1E,GAAK,EACP,OAAQ,IACV,GAAIA,GAAK,EACP,OAAO,IAKT,IAJA+xE,EAAM/xE,EAAI,EAAKA,EAAI,EAAIA,EAEvBmR,GAAK,SAAY,QAAc,QAD/B/R,EAAIkF,EAAK2F,MAAM,EAAI3F,EAAKW,IAAI8sE,EAAK,OAEhB,EAAI3yE,GAAK,OAAc,OAAJA,IAAgBA,GAC7CsF,EAAI,EAAGA,IAEZyM,IADAgsB,EAAM8nD,EAAM8J,KAAK59E,GAAK4gE,IACV,mBAAsBztE,EAAK6lB,KAAKhZ,EAAIA,GAAKA,EAAIgsB,GAE3D,OAAQn9B,EAAI,EAAKmR,GAAKA,GAKxB8zE,EAAMgK,SAAW,SAAkBjvF,EAAGyH,EAAGC,GACvC,IAIIwnF,EAAKC,EAAKpd,EAAI3yE,EAAGw0C,EAAQziC,EAAGwwB,EAAI7d,EAAG/M,EAAG23E,EAHtCv+B,EAAK1oD,EAAI,EACTk3D,EAAKj3D,EAAI,EACThD,EAAI,EAER,GAAI1E,GAAK,EACP,OAAO,EACT,GAAIA,GAAK,EACP,OAAO,EAwBT,IAvBIyH,GAAK,GAAKC,GAAK,GACjBqqE,EAAM/xE,EAAI,GAAOA,EAAI,EAAIA,EAEzBmR,GAAK,QAAc,QADnB/R,EAAIkF,EAAK2F,MAAM,EAAI3F,EAAKW,IAAI8sE,OACG,EAAI3yE,GAAI,OAAc,OAAJA,IAAgBA,EAC7DY,EAAI,KACNmR,GAAKA,GACPwwB,GAAMxwB,EAAIA,EAAI,GAAK,EACnB2S,EAAI,GAAK,GAAK,EAAIrc,EAAI,GAAM,GAAK,EAAIC,EAAI,IACzCqP,EAAK5F,EAAI7M,EAAK2F,KAAK03B,EAAK7d,GAAKA,GAAM,GAAK,EAAIpc,EAAI,GAAK,GAAK,EAAID,EAAI,KAC7Dk6B,EAAK,EAAI,EAAI,GAAK,EAAI7d,IAC3B3S,EAAI1J,GAAKA,EAAIC,EAAIpD,EAAK6lB,IAAI,EAAIpT,MAE9Bm4E,EAAM5qF,EAAKW,IAAIwC,GAAKA,EAAIC,IACxBynF,EAAM7qF,EAAKW,IAAIyC,GAAKD,EAAIC,IAKtByJ,EADEnR,GAHJZ,EAAIkF,EAAK6lB,IAAI1iB,EAAIynF,GAAOznF,IAExBsP,EAAI3X,GADJw0C,EAAItvC,EAAK6lB,IAAIziB,EAAIynF,GAAOznF,IAGlBpD,EAAKyF,IAAItC,EAAIsP,EAAI/W,EAAG,EAAIyH,GAExB,EAAInD,EAAKyF,IAAIrC,EAAIqP,GAAK,EAAI/W,GAAI,EAAI0H,IAE1CgnF,GAAQzJ,EAAM2H,QAAQnlF,GAAKw9E,EAAM2H,QAAQllF,GAAKu9E,EAAM2H,QAAQnlF,EAAIC,GAC1DhD,EAAI,GAAIA,IAAK,CACjB,GAAU,IAANyM,GAAiB,IAANA,EACb,OAAOA,EAST,IALAA,GAAM/R,GADNw0C,GAFMqxC,EAAMmK,MAAMj+E,EAAG1J,EAAGC,GAAK1H,IAC7BZ,EAAIkF,EAAK6lB,IAAIgmC,EAAK7rD,EAAKW,IAAIkM,GAAKwtD,EAAKr6D,EAAKW,IAAI,EAAIkM,GAAKu9E,MAExC,EAAI,GAAMpqF,EAAK8B,IAAI,EAAGwtC,GAAKuc,EAAKh/C,EAAIwtD,GAAM,EAAIxtD,QACpD,IACPA,EAAI,IAAOA,EAAI/R,IACb+R,GAAK,IACPA,EAAI,IAAOA,EAAI/R,EAAI,IACjBkF,EAAK6E,IAAI/J,GA3CL,KA2CgB+R,GAAKzM,EAAI,EAC/B,MAEJ,OAAOyM,GAKT8zE,EAAMmK,MAAQ,SAAej+E,EAAG1J,EAAGC,GAEjC,IAAI2nF,EAAY,IAANl+E,GAAiB,IAANA,EAAY,EAC/B7M,EAAK6lB,IAAI86D,EAAM2H,QAAQnlF,EAAIC,GAAKu9E,EAAM2H,QAAQnlF,GACrCw9E,EAAM2H,QAAQllF,GAAKD,EAAInD,EAAKW,IAAIkM,GAAKzJ,EACrCpD,EAAKW,IAAI,EAAIkM,IACxB,QAAIA,EAAI,GAAKA,EAAI,KAEbA,GAAK1J,EAAI,IAAMA,EAAIC,EAAI,GAElB2nF,EAAKpK,EAAMkJ,OAAOh9E,EAAG1J,EAAGC,GAAKD,EAE/B,EAAI4nF,EAAKpK,EAAMkJ,OAAO,EAAIh9E,EAAGzJ,EAAGD,GAAKC,IAM9Cu9E,EAAMqK,MAAQ,SAAe3vF,EAAGrB,GAC9B,IAAIs1C,EAAG/uC,EAAGsM,EAAGD,EAAG8pB,EAGhB,GAFK18B,IACHA,EAAIqB,GACFA,EACF,OAAOslF,EAAMzlF,OAAOG,EAAGrB,GAAG,WAAa,OAAO2mF,EAAMqK,WACtD,GACE17C,EAAIqxC,EAAMyF,aACV7lF,EAAI,QAAUogF,EAAMyF,aAAe,IAGnC1vD,GAFA7pB,EAAIyiC,EAAI,SAEAziC,GADRD,EAAI5M,EAAK6E,IAAItE,GAAK,UACD,KAAUqM,EAAI,OAAUC,SAClC6pB,EAAI,SAAYA,EAAI,QAAWn2B,EAAIA,GAAK,EAAIP,EAAKW,IAAI2uC,GAAKA,EAAIA,IACvE,OAAO/uC,EAAI+uC,GAKbqxC,EAAMsK,MAAQ,SAAe3jB,EAAOjsE,EAAGrB,GACrC,IACI6xD,EAAIq/B,EAAI57C,EAAG/uC,EAAGsM,EAAGw7E,EADjB8C,EAAQ7jB,EAMZ,GAJKttE,IACHA,EAAIqB,GACDisE,IACHA,EAAQ,GACNjsE,EAGF,OAFAgtF,EAAM1H,EAAM0G,MAAMhsF,EAAErB,IAChBotF,OAAM,WAAa,OAAOzG,EAAMsK,MAAM3jB,MACnC+gB,EAEL/gB,EAAQ,IACVA,GAAS,GACXzb,EAAKyb,EAAQ,EAAI,EACjB4jB,EAAK,EAAIlrF,EAAK2F,KAAK,EAAIkmD,GACvB,EAAG,CACD,GAEEtrD,EAAI,EAAI2qF,GADRr+E,EAAI8zE,EAAMqK,eAEJzqF,GAAK,GACbA,GAAIA,EAAIA,EACR+uC,EAAIqxC,EAAMyF,mBACJ92C,EAAI,EAAI,KAAQtvC,EAAKyF,IAAIoH,EAAG,IAC5B7M,EAAKW,IAAI2uC,GAAK,GAAMziC,EAAEA,EAAIg/C,GAAM,EAAItrD,EAAIP,EAAKW,IAAIJ,KAEzD,GAAI+mE,GAAS6jB,EACX,OAAOt/B,EAAKtrD,EAEd,GACE+uC,EAAIqxC,EAAMyF,mBACE,IAAN92C,GACR,OAAOtvC,EAAKyF,IAAI6pC,EAAG,EAAI67C,GAASt/B,EAAKtrD,GAKvC,SAAU2kF,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAC/CxE,EAAMp6E,GAAG4+E,GAAY,WACnB,OAAOxE,EACHA,EAAMh9E,IAAIvG,MAAM,SAASvC,GAAS,OAAO8lF,EAAMwE,GAAUtqF,QAH1B,CAKpCqqF,EAAMtrF,IANX,CAOG,wCAAwCymD,MAAM,MAGjD,SAAU6kC,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAK,SAAUurF,GAC/CxE,EAAMp6E,GAAG4+E,GAAY,WACnB,OAAOxE,EAAMA,EAAMwE,GAAU1hF,MAAM,KAAM1H,aAFN,CAIpCmpF,EAAMtrF,IALX,CAMG,QAAQymD,MAAM,MAhdjB,CAkdEsgC,EAAO3gF,MACR,SAAS2gF,EAAO3gF,GAutBjB,SAASorF,EAAOv+E,EAAG1J,EAAGC,EAAGioF,GASvB,IARA,IAMIC,EANA1/B,EAAK,EACLwO,EAAK,EACLvO,EAAK,EACLwO,EAAK,EACLkxB,EAAK,EACLL,EAAK,EAGFlrF,EAAK6E,KAAKgnD,EAAKq/B,GAAMr/B,GAAMw/B,GAChCH,EAAKr/B,EAGLuO,EAAKC,GAFLixB,IAAOnoF,EAAIooF,IAAOpoF,EAAIC,EAAImoF,GAAM1+E,GAAK1J,EAAI,EAAIooF,IAAOpoF,EAAI,EAAIooF,EAAK,IAElDnxB,EAGfvO,GAJAD,EAAKC,EAAKy/B,EAAK1/B,IAGf0/B,GADAC,GAAU,IACCnoF,EAAImoF,GAAM1+E,GAAK1J,EAAI,EAAIooF,EAAK,IAAMpoF,EAAI,EAAIooF,IACtC1/B,EAEfD,GADAyO,EAAKD,EAAKkxB,EAAKjxB,EAEfD,GAAUC,EACVxO,GAAUwO,EACVA,EAAK,EAGP,OAAOxO,EAAK1oD,EAicd,SAASqoF,EAAW/4E,EAAGg5E,EAAItvE,GACzB,IAUIuvE,EAAO,CACT,kBACA,kBACA,kBACA,kBACA,kBACA,mBAEEC,EAAO,CACT,mBACA,mBACA,mBACA,mBACA,kBACA,oBAGEC,EAAW,GAAJn5E,EAKX,GAAIm5E,GA1BO,EA2BT,OAAO,EAKT,IAUIC,EAVAC,EAAO,EAAInL,EAAMrvB,OAAOy6B,IAAIH,EAAM,EAAG,EAAG,EAAG,GAAK,EAGlDE,EADEA,GAAQ9rF,EAAK6lB,KApCP,GAoCgB1J,GACjBnc,EAAKyF,IAAIqmF,EAAM3vE,GAEf,EA2BT,IARA,IAAI6vE,EAAMJ,EACNK,GAzDO,EAyDML,IAbfC,EADEp5E,EA1CO,EACE,EACA,GAuDTy5E,EAAMF,EAAMC,EACZE,EAAS,EAITC,EAAMjwE,EAAK,EACNkwE,EAAK,EAAGA,GAAMR,EAAOQ,IAAM,CAQlC,IAPA,IAAIC,EAAQ,EACRnpF,EAAI,IAAO+oF,EAAMF,GAIjB5oF,EAAI,IAAO8oF,EAAMF,GAEZO,EAAK,EAAGA,GA9ER,GA8EoBA,IAAM,CACjC,IAAInsF,EASAosF,EAAKrpF,EADDC,GAtFA,EA+EImpF,EAELb,GADLtrF,EAjFK,GAiFOmsF,EAAM,GACN,IAGNb,GADNtrF,EAAImsF,GACS,IAQXE,EAAQD,EAAKA,EACjB,GAAIC,EAzFC,GA0FH,MAEF,IAMIC,EANQ,EAAI/L,EAAMrvB,OAAOy6B,IAAIS,EAAI,EAAG,EAAG,EAAG,GAMxB,GALV,EAAI7L,EAAMrvB,OAAOy6B,IAAIS,EAAI/5E,EAAG,EAAG,EAAG,GAKP,GACnCi6E,GAAU1sF,EAAK6lB,KArGd,GAqGuBumE,KAE1BE,GADAI,EAAUf,EAAKvrF,EAAE,GAAKJ,EAAK6lB,KAAM,GAAM4mE,GAAWzsF,EAAKyF,IAAIinF,EAAQN,IAKvED,GADAG,GAAY,EAAMlpF,EAAK+Y,EAAMnc,EAAK2F,KAAK,EAAI3F,EAAK+mD,IAEhDilC,EAAME,EACNA,GAAOD,EAKT,OADAH,GAAQK,IACInsF,EAAK6lB,KAlHR,GAkHiB4lE,GACjB,GAETK,EAAO9rF,EAAKyF,IAAIqmF,EAAML,KACV,EACH,EACFK,GAzyCT,SAAUnrC,GACR,IAAK,IAAI/mD,EAAI,EAAGA,EAAI+mD,EAAK3kD,OAAQpC,KAAK,SAAUyrF,GAE9C1E,EAAM0E,GAAQ,SAASliF,EAAGC,EAAGnJ,GAC3B,OAAMmD,gBAAgBrB,UAAU4wF,QAEhCvvF,KAAKwvF,GAAKzpF,EACV/F,KAAKyvF,GAAKzpF,EACVhG,KAAK0vF,GAAK7yF,EACHmD,MAJE,IAAIrB,UAAU4wF,OAAOxpF,EAAGC,EAAGnJ,IAOtC0mF,EAAMp6E,GAAG8+E,GAAQ,SAASliF,EAAGC,EAAGnJ,GAC9B,IAAI8yF,EAAUpM,EAAM0E,GAAMliF,EAAGC,EAAGnJ,GAEhC,OADA8yF,EAAQhsF,KAAO3D,KACR2vF,GAGTpM,EAAM0E,GAAM7pF,UAAUusE,OAAS,SAASgZ,GACtC,IAAI59E,EAAI/F,KAAKwvF,GACTxpF,EAAIhG,KAAKyvF,GACT5yF,EAAImD,KAAK0vF,GACb,OAAI/L,EACKJ,EAAMyG,MAAMrG,GAAK,WACtB,OAAOJ,EAAM0E,GAAMtd,OAAO5kE,EAAGC,EAAGnJ,MAG3B0mF,EAAM0E,GAAMtd,OAAO5kE,EAAGC,EAAGnJ,IAGpC,SAAU+yF,GACR,IAAK,IAAIpzF,EAAI,EAAGA,EAAIozF,EAAKhxF,OAAQpC,KAAK,SAAUqzF,GAC9CtM,EAAM0E,GAAM7pF,UAAUyxF,GAAU,SAASpgF,GACvC,IAAI1J,EAAI/F,KAAKwvF,GACTxpF,EAAIhG,KAAKyvF,GACT5yF,EAAImD,KAAK0vF,GAGb,OAFKjgF,GAAW,IAANA,IACRA,EAAIzP,KAAK2D,MACM,iBAAN8L,EACF8zE,EAAMp6E,GAAG5C,IAAI5J,KAAK8S,GAAG,SAASA,GACnC,OAAO8zE,EAAM0E,GAAM4H,GAAQpgF,EAAG1J,EAAGC,EAAGnJ,MAGjC0mF,EAAM0E,GAAM4H,GAAQpgF,EAAG1J,EAAGC,EAAGnJ,IAZF,CAcnC+yF,EAAKpzF,IAfV,CAgBG,cAAcymD,MAAM,MAEvB,SAAU2sC,GACR,IAAK,IAAIpzF,EAAI,EAAGA,EAAIozF,EAAKhxF,OAAQpC,KAAK,SAAUqzF,GAC9CtM,EAAM0E,GAAM7pF,UAAUyxF,GAAU,WAC9B,OAAOtM,EAAM0E,GAAM4H,GAAQ7vF,KAAKwvF,GAAIxvF,KAAKyvF,GAAIzvF,KAAK0vF,KAFhB,CAInCE,EAAKpzF,IALV,CAMG,4BAA4BymD,MAAM,MArDD,CAsDnCM,EAAK/mD,IAvDV,CAwDG,sMAIDymD,MAAM,MAKRsgC,EAAM/uD,OAAO+uD,EAAMuM,KAAM,CACvBC,IAAK,SAAatgF,EAAGmP,EAAOkxE,GAE1B,OAAIrgF,EAAI,GAAKA,EAAI,EACR,EAEI,GAATmP,GAAsB,GAARkxE,EACT,EAELlxE,EAAQ,KAAOkxE,EAAO,IAChBltF,EAAKyF,IAAIoH,EAAGmP,EAAQ,GAAKhc,EAAKyF,IAAI,EAAIoH,EAAGqgF,EAAO,GACpDvM,EAAMgJ,OAAO3tE,EAAOkxE,GAEjBltF,EAAK6lB,KAAK7J,EAAQ,GAAKhc,EAAKW,IAAIkM,IACtBqgF,EAAO,GAAKltF,EAAKW,IAAI,EAAIkM,GAC1B8zE,EAAMiJ,OAAO5tE,EAAOkxE,KAIxCnB,IAAK,SAAal/E,EAAGmP,EAAOkxE,GAC1B,OAAQrgF,EAAI,GAAKA,EAAI,EAAe,GAATA,EAAI,GAAS8zE,EAAMmK,MAAMj+E,EAAGmP,EAAOkxE,IAGhEE,IAAK,SAAavgF,EAAGmP,EAAOkxE,GAC1B,OAAOvM,EAAMgK,SAAS99E,EAAGmP,EAAOkxE,IAGlC3jB,KAAM,SAAcvtD,EAAOkxE,GACzB,OAAOlxE,GAASA,EAAQkxE,IAG1BvL,OAAQ,SAAgB3lE,EAAOkxE,GAC7B,OAAOvM,EAAMgK,SAAS,GAAK3uE,EAAOkxE,IAGpCnyF,KAAM,SAAcihB,EAAOkxE,GACzB,OAAQlxE,EAAQ,IAAQA,EAAQkxE,EAAO,IAIzCnlB,OAAQ,SAAgB/rD,EAAOkxE,GAC7B,IAAI59C,EAAIqxC,EAAMsK,MAAMjvE,GACpB,OAAOszB,GAAKA,EAAIqxC,EAAMsK,MAAMiC,KAG9B1nF,SAAU,SAAkBwW,EAAOkxE,GACjC,OAAQlxE,EAAQkxE,GAASltF,EAAKyF,IAAIuW,EAAQkxE,EAAM,IAAMlxE,EAAQkxE,EAAO,OAKzEvM,EAAM/uD,OAAO+uD,EAAM0M,SAAU,CAI3BF,IAAK,SAAatgF,EAAGygF,EAAKC,GACxB,IAAI7xF,EAEJ,OAAImR,EAAI,EACC,EAELygF,GAAO,EACC,IAANzgF,GAAWygF,EAAM,EACZt7C,IAEC,IAANnlC,GAAmB,IAARygF,EACN,EAED,EAAI3M,EAAMgJ,OAAO2D,EAAM,EAAGC,EAAM,GAChCvtF,EAAKyF,IAAI6nF,EAAMC,EAAKD,EAAM,GAC1BttF,EAAKyF,IAAIoH,EAAIygF,EAAI,EAAK,GACtBttF,EAAKyF,IAAK,EAAK6nF,EAAMC,EAAO1gF,IAAMygF,EAAMC,GAAO,IAGzD7xF,EAAK4xF,EAAMzgF,GAAM0gF,EAAM1gF,EAAIygF,GAEvBA,GADAC,GAAOA,EAAM1gF,EAAIygF,IACP,EACH3M,EAAM6M,SAASL,KAAKG,EAAM,GAAK,GAAIA,EAAMC,EAAM,GAAK,EAAG7xF,KAGpEqwF,IAAK,SAAal/E,EAAGygF,EAAKC,GACxB,OAAI1gF,EAAI,EACC,EACF8zE,EAAMmK,MAAOwC,EAAMzgF,GAAMygF,EAAMzgF,EAAI0gF,GAAMD,EAAM,EAAGC,EAAM,IAGjEH,IAAK,SAAavgF,EAAGygF,EAAKC,GACxB,OAAOA,GAAOD,GAAO,EAAI3M,EAAMgK,SAAS99E,EAAGygF,EAAM,EAAGC,EAAM,GAAK,KAGjEhkB,KAAM,SAAc+jB,EAAKC,GACvB,OAAQA,EAAM,EAAKA,GAAOA,EAAM,QAAKthF,GAGvClR,KAAM,SAAcuyF,EAAKC,GACvB,OAAQD,EAAM,EAAMC,GAAOD,EAAM,IAAOA,GAAOC,EAAM,SAAMthF,GAI7D87D,OAAQ,SAAgBulB,EAAKC,GAG3B,OAFgC,EAAvB5M,EAAMsK,MAAMqC,EAAM,GAEdA,GADmB,EAAvB3M,EAAMsK,MAAMsC,EAAM,GACDA,IAG5B/nF,SAAU,SAAkB8nF,EAAKC,GAC/B,KAAIA,GAAO,GAEX,OAAO,EAAIA,EAAMA,GAAOD,EAAMC,EAAM,IAC/BD,GAAOC,EAAM,IAAMA,EAAM,IAAMA,EAAM,OAM9C5M,EAAM/uD,OAAO+uD,EAAM8M,OAAQ,CACzBN,IAAK,SAAatgF,EAAG+xC,EAAOj8C,GAC1B,OAAIA,EAAQ,EAAY,EAEhBA,GAAS3C,EAAKyF,IAAIoH,EAAI+xC,EAAO,GAAK5+C,EAAKyF,IAAI9C,EAAO,IAAO3C,EAAK+mD,IAGxEglC,IAAK,SAAal/E,EAAG+xC,EAAOj8C,GAC1B,OAAO3C,EAAKytD,MAAM5gD,EAAI+xC,GAASj8C,GAAS3C,EAAK+mD,GAAK,IAGpDqmC,IAAK,SAAS1xF,EAAGkjD,EAAOj8C,GACtB,OAAOi8C,EAAQj8C,EAAQ3C,EAAKmgB,IAAIngB,EAAK+mD,IAAMrrD,EAAI,MAGjDimF,OAAQ,SAAgB/iC,GACtB,OAAOA,GAGT7jD,KAAM,SAAc6jD,GAClB,OAAOA,GAGTmpB,OAAQ,SAAgBnpB,EAAOj8C,GAC7B,OAAOg+E,EAAMqK,QACThrF,EAAK2F,KAAK,GAAK,EAAIg7E,EAAMsK,MAAM,MAAStoF,EAAQi8C,KAOxD+hC,EAAM/uD,OAAO+uD,EAAM+M,UAAW,CAC5BP,IAAK,SAAatgF,EAAG8gF,GACnB,OAAI9gF,EAAI,EACC,EACK,IAANA,GAAmB,IAAR8gF,EAAa,GAC5B3tF,EAAK6lB,KAAK8nE,EAAM,EAAI,GAAK3tF,EAAKW,IAAIkM,GAAKA,EAAI,EAAK8gF,EAAM,EAC7C3tF,EAAKW,IAAI,GAAKggF,EAAM2H,QAAQqF,EAAM,KAGjD5B,IAAK,SAAal/E,EAAG8gF,GACnB,OAAI9gF,EAAI,EACC,EACF8zE,EAAMqI,YAAY2E,EAAM,EAAG9gF,EAAI,IAGxCugF,IAAK,SAAS1xF,EAAGiyF,GACf,OAAO,EAAIhN,EAAMuJ,UAAUxuF,EAAG,GAAMiyF,IAGtCpkB,KAAO,SAASokB,GACd,OAAOA,GAIThM,OAAQ,SAAgBgM,GACtB,OAAOA,EAAM3tF,EAAKyF,IAAI,EAAK,GAAK,EAAIkoF,GAAO,IAG7C5yF,KAAM,SAAc4yF,GAClB,OAAQA,EAAM,EAAI,EAAKA,EAAM,EAAI,GAGnC5lB,OAAQ,SAAgB4lB,GACtB,OAA8B,EAAvBhN,EAAMsK,MAAM0C,EAAM,IAG3BnoF,SAAU,SAAkBmoF,GAC1B,OAAO,EAAIA,KAOfhN,EAAM/uD,OAAO+uD,EAAMpzC,YAAa,CAC9B4/C,IAAK,SAAatgF,EAAG+gF,GACnB,OAAO/gF,EAAI,EAAI,EAAI+gF,EAAO5tF,EAAK6lB,KAAK+nE,EAAO/gF,IAG7Ck/E,IAAK,SAAal/E,EAAG+gF,GACnB,OAAO/gF,EAAI,EAAI,EAAI,EAAI7M,EAAK6lB,KAAK+nE,EAAO/gF,IAG1CugF,IAAK,SAAS1xF,EAAGkyF,GACf,OAAQ5tF,EAAKW,IAAI,EAAIjF,GAAKkyF,GAG5BrkB,KAAO,SAASqkB,GACd,OAAO,EAAIA,GAGbjM,OAAQ,SAAUiM,GAChB,OAAQ,EAAIA,EAAQ5tF,EAAKW,IAAI,IAG/B5F,KAAM,WACJ,OAAO,GAGTgtE,OAAQ,SAAgB6lB,GACtB,OAAQ,EAAIA,EAAO5tF,EAAKW,IAAIggF,EAAMyF,eAGpC5gF,SAAW,SAASooF,GAClB,OAAO5tF,EAAKyF,IAAImoF,GAAO,MAO3BjN,EAAM/uD,OAAO+uD,EAAMtzC,MAAO,CACxB8/C,IAAK,SAAatgF,EAAGy6D,EAAO3kE,GAC1B,OAAIkK,EAAI,EACC,EACK,IAANA,GAAqB,IAAVy6D,EAAe,EAAI3kE,EAC9B3C,EAAK6lB,KAAKyhD,EAAQ,GAAKtnE,EAAKW,IAAIkM,GAAKA,EAAIlK,EACjCg+E,EAAM2H,QAAQhhB,GAASA,EAAQtnE,EAAKW,IAAIgC,KAG1DopF,IAAK,SAAal/E,EAAGy6D,EAAO3kE,GAC1B,OAAIkK,EAAI,EACC,EACF8zE,EAAMqI,YAAY1hB,EAAOz6D,EAAIlK,IAGtCyqF,IAAK,SAAS1xF,EAAG4rE,EAAO3kE,GACtB,OAAOg+E,EAAMuJ,UAAUxuF,EAAG4rE,GAAS3kE,GAGrC4mE,KAAO,SAASjC,EAAO3kE,GACrB,OAAO2kE,EAAQ3kE,GAGjB5H,KAAM,SAAcusE,EAAO3kE,GACzB,GAAG2kE,EAAQ,EAAG,OAAQA,EAAQ,GAAK3kE,GAIrColE,OAAQ,SAAgBT,EAAO3kE,GAC7B,OAAOg+E,EAAMsK,MAAM3jB,GAAS3kE,GAG9B6C,SAAU,SAAkB8hE,EAAO3kE,GACjC,OAAO2kE,EAAQ3kE,EAAQA,KAK3Bg+E,EAAM/uD,OAAO+uD,EAAMkN,SAAU,CAC3BV,IAAK,SAAatgF,EAAGy6D,EAAO3kE,GAC1B,OAAIkK,GAAK,EACA,EACF7M,EAAK6lB,MAAMyhD,EAAQ,GAAKtnE,EAAKW,IAAIkM,GAAKlK,EAAQkK,EACrC8zE,EAAM2H,QAAQhhB,GAASA,EAAQtnE,EAAKW,IAAIgC,KAG1DopF,IAAK,SAAal/E,EAAGy6D,EAAO3kE,GAC1B,OAAIkK,GAAK,EACA,EACF,EAAI8zE,EAAMqI,YAAY1hB,EAAO3kE,EAAQkK,IAG9CugF,IAAK,SAAS1xF,EAAG4rE,EAAO3kE,GACtB,OAAOA,EAAQg+E,EAAMuJ,UAAU,EAAIxuF,EAAG4rE,IAGxCiC,KAAO,SAASjC,EAAO3kE,GACrB,OAAQ2kE,EAAQ,EAAK3kE,GAAS2kE,EAAQ,QAAKr7D,GAG7ClR,KAAM,SAAcusE,EAAO3kE,GACzB,OAAOA,GAAS2kE,EAAQ,IAG1BS,OAAQ,SAAgBT,EAAO3kE,GAC7B,OAAOA,EAAQg+E,EAAMsK,MAAM3jB,IAG7B9hE,SAAU,SAAkB8hE,EAAO3kE,GACjC,KAAI2kE,GAAS,GAEb,OAAO3kE,EAAQA,IAAU2kE,EAAQ,IAAMA,EAAQ,IAAMA,EAAQ,OAMjEqZ,EAAM/uD,OAAO+uD,EAAMmN,YAAa,CAC9BX,IAAK,SAAatgF,EAAGmP,EAAOkxE,GAC1B,OAAU,IAANrgF,GAAqB,IAAVmP,EACNkxE,EACM,IAANrgF,GAAoB,IAATqgF,EACXlxE,EACFhc,EAAK6lB,IAAI7lB,EAAKW,IAAIqb,GAAShc,EAAKW,IAAIusF,IAASlxE,EAAQ,GAC5Chc,EAAKW,IAAIkM,IAAMqgF,EAAO,GACtBltF,EAAKW,IAAI,EAAIX,EAAKyF,IAAIoH,EAAGmP,MAG3C+vE,IAAK,SAAal/E,EAAGmP,EAAOkxE,GAC1B,OAAIrgF,EAAI,EACC,EACAA,EAAI,EACJ,EACD,EAAI7M,EAAKyF,IAAI,EAAIzF,EAAKyF,IAAIoH,EAAGmP,GAAQkxE,IAG/CE,IAAK,SAAa1xF,EAAGsgB,EAAOkxE,GAC1B,OAAOltF,EAAKyF,IAAI,EAAIzF,EAAKyF,IAAI,EAAI/J,EAAG,EAAIwxF,GAAO,EAAIlxE,IAGrDutD,KAAO,SAASvtD,EAAOkxE,GACrB,OAAQA,EAAOvM,EAAM+H,QAAQ,EAAI,EAAI1sE,GAC7B2kE,EAAM+H,QAAQwE,GAAUvM,EAAM+H,QAAQ,EAAI,EAAI1sE,EAAQkxE,IAGhEvL,OAAQ,SAAgB3lE,EAAOkxE,GAC7B,OAAOltF,EAAKyF,IAAI,EAAIzF,EAAKyF,IAAI,GAAI,EAAIynF,GAAO,EAAIlxE,IAGlDjhB,KAAM,SAAcihB,EAAOkxE,GACzB,GAAMlxE,GAAS,GAAKkxE,GAAQ,GAAgB,IAAVlxE,GAAwB,IAATkxE,EAEjD,OAAOltF,EAAKyF,KAAKuW,EAAQ,IAAMA,EAAQkxE,EAAO,GAAI,EAAIlxE,IAGxDxW,SAAU,WACR,MAAM,IAAI1G,MAAM,mCAQpB6hF,EAAM/uD,OAAO+uD,EAAMoN,UAAW,CAC5BZ,IAAK,SAAatgF,EAAG+3E,EAAIC,GACvB,OAAIh4E,GAAK,EACA,EACF7M,EAAK6lB,KAAK7lB,EAAKW,IAAIkM,GAAK,GAAM7M,EAAKW,IAAI,EAAIX,EAAK+mD,IACvC/mD,EAAKW,IAAIkkF,GAAS7kF,EAAKyF,IAAIzF,EAAKW,IAAIkM,GAAK+3E,EAAI,IAC5C,EAAIC,EAAQA,KAG/BkH,IAAK,SAAal/E,EAAG+3E,EAAIC,GACvB,OAAIh4E,EAAI,EACC,EACF,GACF,GAAM8zE,EAAM2J,KAAKtqF,EAAKW,IAAIkM,GAAK+3E,GAAM5kF,EAAK2F,KAAK,EAAIk/E,EAAQA,KAGlEuI,IAAK,SAAS1xF,EAAGkpF,EAAIC,GACnB,OAAO7kF,EAAK6lB,KAAK,mBAAsBg/D,EAAQlE,EAAM+J,QAAQ,EAAIhvF,GAAKkpF,IAGxErb,KAAM,SAAcqb,EAAIC,GACtB,OAAO7kF,EAAK6lB,IAAI++D,EAAKC,EAAQA,EAAQ,IAGvClD,OAAQ,SAAgBiD,GACtB,OAAO5kF,EAAK6lB,IAAI++D,IAGlB7pF,KAAM,SAAc6pF,EAAIC,GACtB,OAAO7kF,EAAK6lB,IAAI++D,EAAKC,EAAQA,IAG/B9c,OAAQ,SAAgB6c,EAAIC,GAC1B,OAAO7kF,EAAK6lB,IAAI86D,EAAMqK,QAAUnG,EAAQD,IAG1Cp/E,SAAU,SAAkBo/E,EAAIC,GAC9B,OAAQ7kF,EAAK6lB,IAAIg/D,EAAQA,GAAS,GAAK7kF,EAAK6lB,IAAI,EAAI++D,EAAKC,EAAQA,MAOrElE,EAAM/uD,OAAO+uD,EAAMqN,YAAa,CAC9Bb,IAAK,SAAatgF,EAAG8gF,EAAKM,GAExB,OAAIjuF,EAAK6E,IAAIopF,GADH,MAEDtN,EAAMuN,SAASf,IAAItgF,EAAG8gF,GAE3B3tF,EAAK6E,IAAIgI,GAJH,MAKD7M,EAAK6lB,IAAI86D,EAAM2H,SAASqF,EAAM,GAAK,GAAKM,EAAMA,EAAM,EAC3C,GAAMjuF,EAAKW,IAAIX,EAAK+mD,GAAK4mC,GAAOhN,EAAM2H,QAAQqF,EAAM,IAI/DA,EAAM9gF,GACR8zE,EAAMqN,YAAYjC,IAAIl/E,EAAI7M,EAAK2F,KAAK,EAAI,EAAIgoF,GAAMA,EAAI,EAAGM,GACzDtN,EAAMqN,YAAYjC,IAAIl/E,EAAG8gF,EAAKM,KAGrClC,IAAK,SAAal/E,EAAG8gF,EAAKM,GAIxB,GAAIjuF,EAAK6E,IAAIopF,GAHH,MAIR,OAAOtN,EAAMuN,SAASnC,IAAIl/E,EAAG8gF,GAG/B,IAAIQ,GAAO,EACPthF,EAAI,IACNshF,GAAO,EACPF,GAAOA,GAYT,IATA,IAAIG,EAAOzN,EAAMrvB,OAAOy6B,KAAKkC,EAAK,EAAG,GACjCpzF,EAdM,MAcQ,EAEdwzF,EAAYxzF,EACZ+R,EAAIC,EAAIA,GAAKA,EAAIA,EAAI8gF,GACrBvtF,EAAI,EACJ1E,EAAIsE,EAAK6lB,KAAKooE,EAAMA,EAAM,GAC1Bv3D,EAAI12B,EAAK6lB,KAAKooE,EAAMA,EAAM,EAAI,GAAMjuF,EAAKW,IAAI,GAChCggF,EAAM2H,QAAQ,MAAU2F,EAClC7tF,EArBc,KAqBQiuF,EAtBnB,OAsBsCxzF,EAtBtC,OAuBRwzF,EAAYxzF,EACRuF,EAAI,IACN1E,GAAMuyF,EAAMA,GAAQ,EAAI7tF,GACxBs2B,GAAMu3D,EAAMA,GAAQ,GAAK7tF,EAAI,MAI/BguF,GAAQ,IAFRvzF,EAAQa,EAAIilF,EAAMuM,KAAKnB,IAAIn/E,EAAGxM,EAAI,GAAKutF,EAAM,GACzCj3D,EAAIiqD,EAAMuM,KAAKnB,IAAIn/E,EAAGxM,EAAE,EAAGutF,EAAI,IAEnCvtF,IAGF,OAAO+tF,EAAQ,EAAIC,EAAQA,KAM/BzN,EAAM/uD,OAAO+uD,EAAMrvB,OAAQ,CACzB67B,IAAK,SAAatgF,EAAG08D,EAAM7jE,GACzB,OAAO1F,EAAK6lB,KAAK,GAAM7lB,EAAKW,IAAI,EAAIX,EAAK+mD,IACzB/mD,EAAKW,IAAI+E,GAAO1F,EAAKyF,IAAIoH,EAAI08D,EAAM,IAAM,EAAI7jE,EAAMA,KAGrEqmF,IAAK,SAAal/E,EAAG08D,EAAM7jE,GACzB,MAAO,IAAO,EAAIi7E,EAAM2J,KAAKz9E,EAAI08D,GAAQvpE,EAAK2F,KAAK,EAAID,EAAMA,MAG/D0nF,IAAK,SAAS1xF,EAAG6tE,EAAM7jE,GACrB,OAAQ,mBAAsBA,EAAMi7E,EAAM+J,QAAQ,EAAIhvF,GAAK6tE,GAG7DA,KAAO,SAASA,GACd,OAAOA,GAGToY,OAAQ,SAAgBpY,GACtB,OAAOA,GAGTxuE,KAAM,SAAUwuE,GACd,OAAOA,GAGTxB,OAAQ,SAAgBwB,EAAM7jE,GAC5B,OAAOi7E,EAAMqK,QAAUtlF,EAAM6jE,GAG/B/jE,SAAW,SAAS+jE,EAAM7jE,GACxB,OAAOA,EAAMA,KAOjBi7E,EAAM/uD,OAAO+uD,EAAM2N,OAAQ,CACzBnB,IAAK,SAAatgF,EAAGlK,EAAO2kE,GAC1B,OAAIz6D,EAAIlK,EACC,EACD2kE,EAAQtnE,EAAKyF,IAAI9C,EAAO2kE,GAAUtnE,EAAKyF,IAAIoH,EAAGy6D,EAAQ,IAGhEykB,IAAK,SAAal/E,EAAGlK,EAAO2kE,GAC1B,OAAIz6D,EAAIlK,EACC,EACF,EAAI3C,EAAKyF,IAAI9C,EAAQkK,EAAGy6D,IAGjC8lB,IAAK,SAAa1xF,EAAGiH,EAAO2kE,GAC1B,OAAO3kE,EAAQ3C,EAAKyF,IAAI,EAAI/J,EAAG,EAAI4rE,IAGrCiC,KAAM,SAAc5mE,EAAO2kE,GACzB,KAAIA,GAAS,GAEb,OAAQA,EAAQtnE,EAAKyF,IAAI9C,EAAO2kE,IAAWA,EAAQ,IAGrDqa,OAAQ,SAAgBh/E,EAAO2kE,GAC7B,OAAO3kE,GAAS2kE,EAAQtnE,EAAKuuF,QAG/BxzF,KAAM,SAAc4H,GAClB,OAAOA,GAGT6C,SAAW,SAAS7C,EAAO2kE,GACzB,KAAIA,GAAS,GAEb,OAAQ3kE,EAAMA,EAAQ2kE,GAAUtnE,EAAKyF,IAAI6hE,EAAQ,EAAG,IAAMA,EAAQ,OAOtEqZ,EAAM/uD,OAAO+uD,EAAMuN,SAAU,CAC3Bf,IAAK,SAAatgF,EAAG8gF,GAEnB,OADAA,EAAMA,EAAM,MAAQ,MAAQA,EACpB,GAAG3tF,EAAK2F,KAAKgoF,GAAOhN,EAAMgJ,OAAO,GAAKgE,EAAI,IAC9C3tF,EAAKyF,IAAI,EAAMoH,EAAIA,EAAK8gF,IAASA,EAAM,GAAK,IAGlD5B,IAAK,SAAal/E,EAAG8gF,GACnB,IAAIa,EAAOb,EAAM,EACjB,OAAOhN,EAAMmK,OAAOj+E,EAAI7M,EAAK2F,KAAKkH,EAAIA,EAAI8gF,KACtB,EAAI3tF,EAAK2F,KAAKkH,EAAIA,EAAI8gF,IAAOa,EAAMA,IAGzDpB,IAAK,SAAS1xF,EAAGiyF,GACf,IAAI9gF,EAAI8zE,EAAMgK,SAAS,EAAI3qF,EAAK8B,IAAIpG,EAAG,EAAIA,GAAI,GAAMiyF,EAAK,IAE1D,OADA9gF,EAAI7M,EAAK2F,KAAKgoF,GAAO,EAAI9gF,GAAKA,GACtBnR,EAAI,GAAOmR,GAAKA,GAG1B08D,KAAM,SAAcokB,GAClB,OAAQA,EAAM,EAAK,OAAI1hF,GAGzB01E,OAAQ,WACN,OAAO,GAGT5mF,KAAM,WACJ,OAAO,GAGTgtE,OAAQ,SAAgB4lB,GACtB,OAAOhN,EAAMqK,QAAUhrF,EAAK2F,KAAKgoF,GAAO,EAAIhN,EAAMsK,MAAM0C,EAAM,MAGhEnoF,SAAU,SAAkBmoF,GAC1B,OAAQA,EAAO,EAAKA,GAAOA,EAAM,GAAMA,EAAM,EAAK37C,SAAW/lC,KAOjE00E,EAAM/uD,OAAO+uD,EAAM8N,QAAS,CAC1BtB,IAAK,SAAatgF,EAAGlK,EAAO2kE,GAC1B,OAAIz6D,EAAI,GAAKlK,EAAQ,GAAK2kE,EAAQ,EACzB,EACDA,EAAQ3kE,EAAS3C,EAAKyF,IAAKoH,EAAIlK,EAAS2kE,EAAQ,GACpDtnE,EAAK6lB,KAAM7lB,EAAKyF,IAAKoH,EAAIlK,EAAQ2kE,KAGvCykB,IAAK,SAAal/E,EAAGlK,EAAO2kE,GAC1B,OAAOz6D,EAAI,EAAI,EAAI,EAAI7M,EAAK6lB,KAAK7lB,EAAKyF,IAAKoH,EAAIlK,EAAQ2kE,KAGzD8lB,IAAK,SAAS1xF,EAAGiH,EAAO2kE,GACtB,OAAO3kE,EAAQ3C,EAAKyF,KAAKzF,EAAKW,IAAI,EAAIjF,GAAI,EAAI4rE,IAGhDiC,KAAO,SAAS5mE,EAAO2kE,GACrB,OAAO3kE,EAAQg+E,EAAM+H,QAAQ,EAAI,EAAIphB,IAGvCqa,OAAQ,SAAgBh/E,EAAO2kE,GAC7B,OAAO3kE,EAAQ3C,EAAKyF,IAAIzF,EAAKW,IAAI,GAAI,EAAI2mE,IAG3CvsE,KAAM,SAAc4H,EAAO2kE,GACzB,OAAIA,GAAS,EACJ,EACF3kE,EAAQ3C,EAAKyF,KAAK6hE,EAAQ,GAAKA,EAAO,EAAIA,IAGnDS,OAAQ,SAAgBplE,EAAO2kE,GAC7B,OAAO3kE,EAAQ3C,EAAKyF,KAAKzF,EAAKW,IAAIggF,EAAMyF,cAAe,EAAI9e,IAG7D9hE,SAAU,SAAkB7C,EAAO2kE,GACjC,OAAO3kE,EAAQA,EAAQg+E,EAAM+H,QAAQ,EAAI,EAAIphB,GACzCtnE,EAAKyF,IAAIk7E,EAAM8N,QAAQllB,KAAK5mE,EAAO2kE,GAAQ,MAOnDqZ,EAAM/uD,OAAO+uD,EAAMh3E,QAAS,CAC1BwjF,IAAK,SAAatgF,EAAG1J,EAAGC,GACtB,OAAQyJ,EAAI1J,GAAK0J,EAAIzJ,EAAK,EAAI,GAAKA,EAAID,IAGzC4oF,IAAK,SAAal/E,EAAG1J,EAAGC,GACtB,OAAIyJ,EAAI1J,EACC,EACA0J,EAAIzJ,GACHyJ,EAAI1J,IAAMC,EAAID,GACjB,GAGTiqF,IAAK,SAAS1xF,EAAGyH,EAAGC,GAClB,OAAOD,EAAKzH,GAAK0H,EAAID,IAGvBomE,KAAM,SAAcpmE,EAAGC,GACrB,MAAO,IAAOD,EAAIC,IAGpBu+E,OAAQ,SAAgBx+E,EAAGC,GACzB,OAAOu9E,EAAMpX,KAAKpmE,EAAGC,IAGvBrI,KAAM,WACJ,MAAM,IAAI+D,MAAM,gCAGlBipE,OAAQ,SAAgB5kE,EAAGC,GACzB,OAAQD,EAAI,EAAIC,EAAI,GAAMA,EAAI,EAAID,EAAI,IAAM,EAAIw9E,EAAMyF,aAAe,IAGvE5gF,SAAU,SAAkBrC,EAAGC,GAC7B,OAAOpD,EAAKyF,IAAIrC,EAAID,EAAG,GAAK,MAmChCw9E,EAAM/uD,OAAO+uD,EAAM6M,SAAU,CAC3BL,IAAK,SAAa9tF,EAAGhE,EAAGK,GACtB,OAAc,IAANA,GAAiB,IAANA,EACfL,EAAIK,IAAO2D,EAAI,EAAI,EACrBshF,EAAM6I,YAAYnuF,EAAGgE,GAAKW,EAAKyF,IAAI/J,EAAG2D,GAAKW,EAAKyF,IAAI,EAAI/J,EAAGL,EAAIgE,IAGnE0sF,IAAK,SAAal/E,EAAGxR,EAAGK,GACtB,IAAIgzF,EAGJ,GAAI7hF,EAAI,EACN,OAAO,EACT,GAAIA,GAAKxR,EACP,OAAO,EACT,GAAIK,EAAI,GAAKA,EAAI,GAAKL,GAAK,EACzB,OAAOmjC,IAGT,IAAIwa,EAAIt9C,EACJyH,GAFJ0J,EAAI7M,EAAKC,MAAM4M,IAEH,EACRzJ,EAAI/H,EAAIwR,EACRlR,EAAIwH,EAAIC,EACR2nF,EAAK/qF,EAAK6lB,IAAI86D,EAAM2H,QAAQ3sF,GAAKglF,EAAM2H,QAAQllF,GACjCu9E,EAAM2H,QAAQnlF,GAAKA,EAAInD,EAAKW,IAAIq4C,GAAK51C,EAAIpD,EAAKW,IAAI,EAAIq4C,IAOxE,OAJE01C,EADE11C,GAAK71C,EAAI,IAAMxH,EAAI,GACXovF,EAAKK,EAAOpyC,EAAG71C,EAAGC,EAlBpB,OAoBE,EAAI2nF,EAAKK,EAAO,EAAIpyC,EAAG51C,EAAGD,EApB5B,OAsBHnD,EAAK+gC,MAAuB,EAtBzB,OAsBS,EAAI2tD,KAAyB,EAtBtC,UA6Bd/N,EAAM/uD,OAAO+uD,EAAMgO,OAAQ,CACzBxB,IAAK,SAAa9tF,EAAG3E,EAAGgB,GACtB,OAAI2D,IAAMA,IAAM,IAEZA,EAAI,EACC,EACFshF,EAAM6I,YAAYnqF,EAAI3E,EAAI,EAAGA,EAAI,GACpCsF,EAAKyF,IAAI,EAAI/J,EAAG2D,GAAKW,EAAKyF,IAAI/J,EAAGhB,KAGvCqxF,IAAK,SAAal/E,EAAGnS,EAAGgB,GACtB,IAAIogC,EAAM,EACVz8B,EAAI,EACJ,GAAIwN,EAAI,EAAG,OAAO,EAClB,KAAOxN,GAAKwN,EAAGxN,IACby8B,GAAO6kD,EAAMgO,OAAOxB,IAAI9tF,EAAG3E,EAAGgB,GAEhC,OAAOogC,KAOX6kD,EAAM/uD,OAAO+uD,EAAMiO,QAAS,CAC1BzB,IAAK,SAAa9tF,EAAGwvF,EAAG70F,EAAGqB,GAUzB,GAAGgE,GAAMA,EAAI,EACX,OAAO,EACF,GAAGA,EAAI,GAAKA,EAAIrF,GAAK60F,EAAIxzF,GAE9B,OAAO,EACF,GAAGgE,EAAIhE,GAAKgE,EAAIrF,EAErB,OAAO,EACF,GAAQ,EAAJA,EAAQ60F,EAGjB,OAAO,EAAJxzF,EAAQwzF,EAGFlO,EAAMiO,QAAQzB,IAAI0B,EAAI70F,EAAIqB,EAAIgE,EAAGwvF,EAAGA,EAAI70F,EAAG60F,EAAIxzF,GAI/CslF,EAAMiO,QAAQzB,IAAI9xF,EAAIgE,EAAGwvF,EAAGA,EAAI70F,EAAGqB,GAGvC,GAAO,EAAJA,EAAQwzF,EAGhB,OAAOlO,EAAMiO,QAAQzB,IAAInzF,EAAIqF,EAAGwvF,EAAG70F,EAAG60F,EAAIxzF,GAErC,GAAGrB,EAAIqB,EAGZ,OAAOslF,EAAMiO,QAAQzB,IAAI9tF,EAAGwvF,EAAGxzF,EAAGrB,GAkBlC,IALA,IAAI80F,EAAY,EAGZC,EAAc,EAEVn1F,EAAI,EAAGA,EAAIyF,EAAGzF,IAAK,CAGzB,KAAMk1F,EAAY,GAAKC,EAAc1zF,GAInCyzF,GAAa,EAAK90F,GAAK60F,EAAIE,GAG3BA,IAKFD,IAAczzF,EAAIzB,IAAMI,EAAIJ,KAAOA,EAAI,IAAMi1F,EAAI70F,EAAIqB,EAAIzB,EAAI,IAG/D,KAAMm1F,EAAc1zF,EAAG0zF,IAErBD,GAAa,EAAK90F,GAAK60F,EAAIE,GAI7B,OAAO/uF,EAAK8B,IAAI,EAAG9B,EAAK+B,IAAI,EAAG+sF,KAInC/C,IAAK,SAAal/E,EAAGgiF,EAAG70F,EAAGqB,GAYzB,GAAGwR,EAAI,GAAKA,EAAI7S,GAAK60F,EAAIxzF,GAEvB,OAAO,EACF,GAAGwR,GAAKxR,GAAKwR,GAAK7S,EAEvB,OAAO,EACF,GAAQ,EAAJA,EAAQ60F,EAGjB,OAAO,EAAJxzF,EAAQwzF,EAGFlO,EAAMiO,QAAQ7C,IAAI8C,EAAI70F,EAAIqB,EAAIwR,EAAGgiF,EAAGA,EAAI70F,EAAG60F,EAAIxzF,GAI/C,EAAIslF,EAAMiO,QAAQ7C,IAAI1wF,EAAIwR,EAAI,EAAGgiF,EAAGA,EAAI70F,EAAGqB,GAG/C,GAAO,EAAJA,EAAQwzF,EAGhB,OAAO,EAAIlO,EAAMiO,QAAQ7C,IAAI/xF,EAAI6S,EAAI,EAAGgiF,EAAG70F,EAAG60F,EAAIxzF,GAE7C,GAAGrB,EAAIqB,EAGZ,OAAOslF,EAAMiO,QAAQ7C,IAAIl/E,EAAGgiF,EAAGxzF,EAAGrB,GAqBlC,IATA,IAAIg1F,EAAY,EAIZF,EAAY,EAGZC,EAAc,EAEVn1F,EAAI,EAAGA,EAAIiT,EAAGjT,IAAK,CAGzB,KAAMo1F,EAAY,GAAKD,EAAc1zF,GAAG,CAItC,IAAIuH,EAAS,EAAK5I,GAAK60F,EAAIE,GAE3BD,GAAalsF,EACbosF,GAAapsF,EAGbmsF,IAQFC,GAHAF,IAAczzF,EAAIzB,IAAMI,EAAIJ,KAAOA,EAAI,IAAMi1F,EAAI70F,EAAIqB,EAAIzB,EAAI,IAM/D,KAAMm1F,EAAc1zF,EAAG0zF,IAErBC,GAAa,EAAKh1F,GAAK60F,EAAIE,GAI7B,OAAO/uF,EAAK8B,IAAI,EAAG9B,EAAK+B,IAAI,EAAGitF,OAQrCrO,EAAM/uD,OAAO+uD,EAAMsO,QAAS,CAC1B9B,IAAK,SAAa9tF,EAAGxF,GACnB,OAAIA,EAAI,GAAMwF,EAAI,GAAO,GAAKA,EAAI,EACzB,EAGFW,EAAKyF,IAAI5L,EAAGwF,GAAKW,EAAK6lB,KAAKhsB,GAAK8mF,EAAM4I,UAAUlqF,IAGzD0sF,IAAK,SAAal/E,EAAGhT,GACnB,IAAIq1F,EAAS,GACb7vF,EAAI,EACJ,GAAIwN,EAAI,EAAG,OAAO,EAClB,KAAOxN,GAAKwN,EAAGxN,IACb6vF,EAAOhwF,KAAKyhF,EAAMsO,QAAQ9B,IAAI9tF,EAAGxF,IAEnC,OAAO8mF,EAAM7kD,IAAIozD,IAGnB3lB,KAAO,SAAS1vE,GACd,OAAOA,GAGT2L,SAAW,SAAS3L,GAClB,OAAOA,GAGTkuE,OAAQ,SAAgBluE,GACtB,IAAI6B,EAAI,EAAG2D,EAAI,EAAGq2C,EAAI11C,EAAK6lB,KAAKhsB,GAChC,GACEwF,IACA3D,GAAKilF,EAAMyF,mBACJ1qF,EAAIg6C,GACb,OAAOr2C,EAAI,KAKfshF,EAAM/uD,OAAO+uD,EAAMwO,WAAY,CAC7BhC,IAAK,SAAatgF,EAAG1J,EAAGC,EAAGnJ,GACzB,OAAImJ,GAAKD,GAAKlJ,EAAIkJ,GAAKlJ,EAAImJ,EAClBo7B,IAEH3xB,EAAI1J,GAAK0J,EAAIzJ,EACR,EACEyJ,EAAI5S,EACH,GAAK4S,EAAI1J,KAAQC,EAAID,IAAMlJ,EAAIkJ,IAChC0J,IAAM5S,EACL,GAAKmJ,EAAID,GAET,GAAKC,EAAIyJ,KAAQzJ,EAAID,IAAMC,EAAInJ,KAK/C8xF,IAAK,SAAal/E,EAAG1J,EAAGC,EAAGnJ,GACzB,OAAImJ,GAAKD,GAAKlJ,EAAIkJ,GAAKlJ,EAAImJ,EAClBo7B,IACL3xB,GAAK1J,EACA,EACA0J,GAAKzJ,EACL,EACLyJ,GAAK5S,EACA+F,EAAKyF,IAAIoH,EAAI1J,EAAG,KAAOC,EAAID,IAAMlJ,EAAIkJ,IAErC,EAAInD,EAAKyF,IAAIrC,EAAIyJ,EAAG,KAAOzJ,EAAID,IAAMC,EAAInJ,KAGpDmzF,IAAK,SAAa1xF,EAAGyH,EAAGC,EAAGnJ,GACzB,OAAImJ,GAAKD,GAAKlJ,EAAIkJ,GAAKlJ,EAAImJ,EAClBo7B,IAEH9iC,IAAOzB,EAAIkJ,IAAMC,EAAID,GAChBA,GAAKC,EAAID,GAAKnD,EAAK2F,KAAKjK,IAAMzB,EAAIkJ,IAAMC,EAAID,KAE5CA,GAAKC,EAAID,IAAM,EAAInD,EAAK2F,MAAM,EAAIjK,IAAM,GAAMzB,EAAIkJ,IAAMC,EAAID,OAKzEomE,KAAM,SAAcpmE,EAAGC,EAAGnJ,GACxB,OAAQkJ,EAAIC,EAAInJ,GAAK,GAGvB0nF,OAAQ,SAAgBx+E,EAAGC,EAAGnJ,GAC5B,OAAIA,IAAMkJ,EAAIC,GAAK,EACVA,EAAIpD,EAAK2F,MAAMvC,EAAID,IAAMC,EAAInJ,IAAM+F,EAAK2F,KAAK,GAC3C1L,GAAKkJ,EAAIC,GAAK,EAChBD,EAAInD,EAAK2F,MAAMvC,EAAID,IAAMlJ,EAAIkJ,IAAMnD,EAAK2F,KAAK,QAD/C,GAKT5K,KAAM,SAAcoI,EAAGC,EAAGnJ,GACxB,OAAOA,GAGT8tE,OAAQ,SAAgB5kE,EAAGC,EAAGnJ,GAC5B,IAAIq1C,EAAIqxC,EAAMyF,aACd,OAAI92C,GAAMr1C,EAAIkJ,IAAMC,EAAID,GACfA,EAAInD,EAAK2F,KAAK2pC,GAAKlsC,EAAID,IAAMlJ,EAAIkJ,IACnCC,EAAIpD,EAAK2F,MAAM,EAAI2pC,IAAMlsC,EAAID,IAAMC,EAAInJ,KAGhDuL,SAAU,SAAkBrC,EAAGC,EAAGnJ,GAChC,OAAQkJ,EAAIA,EAAIC,EAAIA,EAAInJ,EAAIA,EAAIkJ,EAAIC,EAAID,EAAIlJ,EAAImJ,EAAInJ,GAAK,MAM7D0mF,EAAM/uD,OAAO+uD,EAAMyO,QAAS,CAC1BjC,IAAK,SAAatgF,EAAG1J,EAAGC,GACtB,OAAIA,GAAKD,EAAUq7B,IAEX3xB,GAAK1J,GAAK0J,GAAKzJ,EAAK,EACzB,EAAIpD,EAAK+mD,GACR/mD,EAAKyF,IAAIzF,EAAKyF,IAAIrC,EAAID,EAAG,GACfnD,EAAKyF,IAAI,EAAIoH,EAAI1J,EAAIC,EAAG,IAAK,KAG7C2oF,IAAK,SAAal/E,EAAG1J,EAAGC,GACtB,OAAIyJ,EAAI1J,EACC,EACA0J,EAAIzJ,EACH,EAAIpD,EAAK+mD,GAAM/mD,EAAK0tD,KAAK1tD,EAAK2F,MAAMkH,EAAI1J,IAAIC,EAAID,KACnD,GAGTiqF,IAAK,SAAS1xF,EAAGyH,EAAGC,GAClB,OAAOD,GAAK,GAAM,GAAMnD,EAAK4nD,IAAI5nD,EAAK+mD,GAAKrrD,KAAO0H,EAAID,IAGxDomE,KAAM,SAAcpmE,EAAGC,GACrB,OAAIA,GAAKD,EAAUq7B,KACXr7B,EAAIC,GAAK,GAGnBu+E,OAAQ,SAAgBx+E,EAAGC,GACzB,OAAIA,GAAKD,EAAUq7B,KACXr7B,EAAIC,GAAK,GAGnBrI,KAAM,WACJ,MAAM,IAAI+D,MAAM,gCAGlBipE,OAAQ,SAAgB5kE,EAAGC,GACzB,OAASD,EAAIC,GAAK,GAAOA,EAAID,GAAK,EAChCnD,EAAK6nD,IAAI,EAAI7nD,EAAK+mD,GAAK45B,EAAMh3E,QAAQo+D,OAAO,EAAG,KAGnDviE,SAAU,SAAkBrC,EAAGC,GAC7B,OAAIA,GAAKD,EAAUq7B,IACZx+B,EAAKyF,IAAIrC,EAAID,EAAG,GAAK,KAOhCw9E,EAAM/uD,OAAO+uD,EAAM0O,QAAS,CAC1BlC,IAAK,SAAatgF,EAAG+3E,EAAIxhF,GACvB,OAAQA,GAAK,EAAK,EAAKpD,EAAK6lB,KAAK7lB,EAAK6E,IAAIgI,EAAI+3E,GAAMxhF,IAAO,EAAIA,IAGjE2oF,IAAK,SAAal/E,EAAG+3E,EAAIxhF,GACvB,OAAIA,GAAK,EAAY,EAElByJ,EAAI+3E,EACE,GAAM5kF,EAAK6lB,KAAKhZ,EAAI+3E,GAAMxhF,GAE1B,EAAI,GAAMpD,EAAK6lB,MAAOhZ,EAAI+3E,GAAMxhF,IAI3CmmE,KAAM,SAASqb,GACb,OAAOA,GAGTjD,OAAQ,SAASiD,GACf,OAAOA,GAGT7pF,KAAM,SAAS6pF,GACb,OAAOA,GAGTp/E,SAAU,SAASo/E,EAAIxhF,GACrB,OAAO,EAAIA,EAAIA,GAGjB2kE,OAAQ,SAAgB6c,EAAIxhF,GAC1B,IAlCiByJ,EAkCbyiC,EAAIqxC,EAAMyF,aAAe,GAE7B,OAAOxB,EAAMxhF,IApCIyJ,EAoCYyiC,GApCItvC,EAAK6E,IAAIgI,IAoCR7M,EAAKW,IAAI,EAAK,EAAIX,EAAK6E,IAAIyqC,OA+JjEqxC,EAAM/uD,OAAO+uD,EAAM2O,MAAO,CACxBvD,IAAK,SAAar1D,EAAG64D,EAAQC,GAE3B,IACIrzE,EAAKozE,EAeLE,EAAQ,CACV,kBACA,kBACA,kBACA,iBACA,kBACA,mBACA,kBACA,oBAEEC,EAAQ,CACV,oBACA,oBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBAGF,GAAIh5D,GAAK,EACP,OAAO,EAKT,GAAI84D,EAAK,GAAerzE,EAAK,EAAG,OAAOqiB,IAEvC,IAAK/2B,OAAO+3B,SAAS9I,GACnB,OAAO,EAET,GAAI84D,EArCQ,KAsCV,OAAOhE,EAAW90D,EAjDX,EAiDkBva,GAI3B,IASIwzE,EATAC,EAAU,GAALJ,EACLK,EAASD,EAAK5vF,EAAKW,IAAI6uF,GAAQA,EAAKxvF,EAAKW,IAAI,GAAOggF,EAAM2H,QAAQsH,GAClEE,EAAMF,EAAK,EAMXG,EAAW,IAALP,EAEYG,EAAbH,GAvDG,IAIA,EAoDHA,GAvDG,IAIA,GAoDHA,GAvDG,IAIA,IACA,KAqDZK,GAAQ7vF,EAAKW,IAAIgvF,GAMjB,IAFA,IAAIK,EAAM,EAEDp2F,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAQ5B,IAPA,IAAIq2F,EAAQ,EAKRC,GAAQ,EAAIt2F,EAAI,GAAK+1F,EAEhBpD,EAAK,EAAGA,GA/EP,GA+EoBA,IAAM,CAClC,IAAInsF,EAAGmsC,EA/EE,EAgFIggD,GACXnsF,EAAImsF,EAjFG,EAiFW,EAClBhgD,EAAMsjD,EAAQC,EAAM9vF,EAAKW,IAAIuvF,EAAQT,EAAMrvF,GAAKuvF,IACvCF,EAAMrvF,GAAKuvF,EAAQO,GAAQH,IAEpC3vF,EAAImsF,EAAK,EACThgD,EAAMsjD,EAAQC,EAAM9vF,EAAKW,IAAIuvF,EAAQT,EAAMrvF,GAAKuvF,IACvCF,EAAMrvF,GAAKuvF,EAAQO,GAAQH,GAKlCxjD,IA1FG,KAqGL0jD,GAFWzE,EArGJ,EA6FMe,EACJ71D,EAAI12B,EAAK2F,KAAkC,IAA3B8pF,EAAMrvF,GAAKuvF,EAAQO,IAEnCx5D,EAAI12B,EAAK2F,KAAqC,KAA5B8pF,EAAMrvF,GAAKuvF,EAASO,IApG5C,EAyG6B/zE,GACXuzE,EAAMtvF,GAAMJ,EAAK6lB,IAAI0mB,IAU9C,GAAI3yC,EAAI+1F,GAAQ,GAAOM,GA7Gd,MA8GP,MAKFD,GAAOC,EAGT,GAAIA,EAtHO,MAuHT,MAAM,IAAInxF,MAAM,gCAIlB,OAFIkxF,EAAM,IACRA,EAAM,GACDA,GAGT5C,IAAK,SAAS1xF,EAAG6zF,EAAQC,GASvB,GAAIA,EAAK,GANAD,EAMoB,EAAG,OAAO/wD,IAEvC,GAAI9iC,EAAI,GAAKA,EAAI,EAAG,OAAO8iC,IAC3B,GAAU,IAAN9iC,EAAS,OAAO,EACpB,GAAU,IAANA,EAAS,OAAOs2C,IAIpB,IAWIltB,EAXA5V,EArLR,SAAmBxT,EAAGzB,EAAGsG,GACvB,IAiBI4vF,EAAK,GAAM,GAAMz0F,EACjBitF,EAAK3oF,EAAK2F,KAAK3F,EAAKW,IAAI,GAAOwvF,EAAKA,KACpCr1F,EAAI6tF,OAXE,iBAWQA,EAbR,eAawBA,EAfxB,eAemCA,EAjBnC,GAiB8CA,EAnB/C,mBASA,eAWCA,EAbD,cAaiBA,EAfjB,eAe4BA,EAjB5B,eAiBuCA,EAnBvC,eAoBLpoF,EANO,MAMGzF,IAAMA,EAAIA,EAAIA,EAAIA,GAAKyF,EAAI,GACzC,IAAIm2B,EAZK,MACA,MAWS57B,EAElB,OADIyF,EARO,MAQGm2B,IAXL,MAWgBn2B,EAVhB,MAUyBzF,EAAIyF,GAC/BzF,GAAK47B,EAAI12B,EAAKW,IAAI1G,EAAI,GAVpB,QAsKEm2F,CAAU10F,EAdV6zF,EAciBC,GAItBa,EAAQ1P,EAAM2O,MAAMvD,IAAI78E,EAAIqgF,EAAQC,GAAM9zF,EAS5CopB,EADEurE,EAAQ,EACLrwF,EAAK+B,IAAI,EAAKmN,EAAK,GAEnBA,EAAK,EAMZ,IALA,IAII8gF,EAJAM,EAAQ3P,EAAM2O,MAAMvD,IAAIjnE,EAAIyqE,EAAQC,GAAM9zF,EAKtC60F,EAAO,EAAGA,EAhCJ,GAgCoBA,IAoBhC,GAnBAP,EAAMlrE,EAAOwrE,GAASxrE,EAAK5V,IAAQohF,EAAQD,GAC3CA,EAAQC,EAIRphF,EAAK4V,EACDkrE,EAAM,IACRA,EAAM,EACNM,GAAS50F,GAIX40F,EAAQ3P,EAAM2O,MAAMvD,IAAIiE,EAAKT,EAAQC,GAAM9zF,EAC3CopB,EAAKkrE,EAKMhwF,EAAK6E,IAAIigB,EAAK5V,GApDjB,KAsDN,OAAO8gF,EAGX,MAAM,IAAIlxF,MAAM,mCAjhDpB,CAqhDE6hF,EAAO3gF,MAIR,SAAS2gF,EAAO3gF,GAEjB,IA6iBQ87B,EACAp4B,EA9iBJxE,EAAOF,MAAMxD,UAAU0D,KACvBD,EAAU0hF,EAAME,MAAM5hF,QAE1B,SAASuxF,EAAStzF,GAChB,OAAO+B,EAAQ/B,IAAQA,aAAeyjF,EAGxCA,EAAM/uD,OAAO,CAGX2M,IAAK,SAAawiD,EAAK7jF,GAErB,OAAIszF,EAAStzF,IACNszF,EAAStzF,EAAI,MAAKA,EAAM,CAAEA,IACxByjF,EAAMh9E,IAAIo9E,GAAK,SAASlmF,EAAOyF,EAAKuB,GACzC,OAAOhH,EAAQqC,EAAIoD,GAAKuB,OAGrB8+E,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOA,EAAQqC,MAIzDuzF,SAAU,SAAkB1P,EAAK7jF,GAE/B,OAAIszF,EAAStzF,IACNszF,EAAStzF,EAAI,MAAKA,EAAM,CAAEA,IACxByjF,EAAMh9E,IAAIo9E,GAAK,SAASlmF,EAAOyF,EAAKuB,GACzC,OAAOhH,EAAQqC,EAAIoD,GAAKuB,IAAQ,MAG7B8+E,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOA,EAAQqC,MAIzDwzF,OAAQ,SAAgB3P,EAAK7jF,GAC3B,OAAIszF,EAAStzF,IACNszF,EAAStzF,EAAI,MAAKA,EAAM,CAAEA,IACxByjF,EAAMgQ,SAAS5P,EAAKJ,EAAMyM,IAAIlwF,KAEhCyjF,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOA,EAAQqC,MAIzDyzF,SAAU,SAAkB5P,EAAK7jF,GAC/B,IAAIoD,EAAKuB,EAAK+uF,EAAU90D,EAAKirD,EAAMI,EAAM96E,EAAKwkF,EAE9C,QAAmB5kF,IAAf80E,EAAI/kF,aAAuCiQ,IAAf/O,EAAIlB,OAClC,OAAO+kF,EAAM7jF,EAMf,GAJA6pF,EAAOhG,EAAI/kF,OACXmrF,EAAOpG,EAAI,GAAG/kF,OACdqQ,EAAMs0E,EAAM0G,MAAMN,EAAM6J,EAAYJ,EAAStzF,GAAQA,EAAI,GAAGlB,OAASmrF,GACrE0J,EAAU,EACNL,EAAStzF,GAAM,CACjB,KAAO2zF,EAAUD,EAAUC,IACzB,IAAKvwF,EAAM,EAAGA,EAAMymF,EAAMzmF,IAAO,CAE/B,IADAw7B,EAAM,EACDj6B,EAAM,EAAGA,EAAMslF,EAAMtlF,IAC1Bi6B,GAAOilD,EAAIzgF,GAAKuB,GAAO3E,EAAI2E,GAAKgvF,GAChCxkF,EAAI/L,GAAKuwF,GAAW/0D,EAGxB,OAAiB,IAATirD,GAA0B,IAAZ8J,EAAiBxkF,EAAI,GAAG,GAAKA,EAErD,OAAOs0E,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOA,EAAQqC,MAQzD4zF,MAAM,SAAelsF,EAAGs4D,GACtB,OAAOyjB,EAAMgQ,SAAS/rF,EAAEjB,KAAI,SAAS7I,GAAI,MAAO,CAACA,MAAO,CAACoiE,KAK3D6zB,IAAK,SAAahQ,EAAK7jF,GAChBszF,EAASzP,EAAI,MAAKA,EAAM,CAAEA,IAC1ByP,EAAStzF,EAAI,MAAKA,EAAM,CAAEA,IAS/B,IAPA,IAMA4+B,EAAKj6B,EAND4N,EAA0B,IAAlBsxE,EAAI,GAAG/kF,QAA+B,IAAf+kF,EAAI/kF,OAAgB2kF,EAAM6E,UAAUzE,GAAOA,EAC9EhxE,EAA2B,IAAlB7S,EAAI,GAAGlB,QAA+B,IAAfkB,EAAIlB,OAAgB2kF,EAAM6E,UAAUtoF,GAAOA,EAC3EmP,EAAM,GACN/L,EAAM,EACNymF,EAAOt3E,EAAKzT,OACZmrF,EAAO13E,EAAK,GAAGzT,OAERsE,EAAMymF,EAAMzmF,IAAO,CAGxB,IAFA+L,EAAI/L,GAAO,GACXw7B,EAAM,EACDj6B,EAAM,EAAGA,EAAMslF,EAAMtlF,IAC1Bi6B,GAAOrsB,EAAKnP,GAAKuB,GAAOkO,EAAMzP,GAAKuB,GACnCwK,EAAI/L,GAAOw7B,EAEb,OAAuB,IAAfzvB,EAAIrQ,OAAgBqQ,EAAI,GAAKA,GAIvC5G,IAAK,SAAas7E,EAAK7jF,GACrB,OAAOyjF,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOmF,EAAKyF,IAAI5K,EAAOqC,OAIjE2oB,IAAK,SAAak7D,GAChB,OAAOJ,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOmF,EAAK6lB,IAAIhrB,OAI1D8F,IAAK,SAAaogF,GAChB,OAAOJ,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOmF,EAAKW,IAAI9F,OAI1DgK,IAAK,SAAak8E,GAChB,OAAOJ,EAAMh9E,IAAIo9E,GAAK,SAASlmF,GAAS,OAAOmF,EAAK6E,IAAIhK,OAK1Dm2F,KAAM,SAAcjQ,EAAKrlF,GACvB,IAAIu1F,EAAQ,EACZr3F,EAAI,EAMJ,IAJIsqB,MAAMxoB,KAAIA,EAAI,GAEd80F,EAASzP,EAAI,MAAKA,EAAMA,EAAI,IAEzBnnF,EAAImnF,EAAI/kF,OAAQpC,IACrBq3F,GAASjxF,EAAKyF,IAAIzF,EAAK6E,IAAIk8E,EAAInnF,IAAK8B,GAEtC,OAAOsE,EAAKyF,IAAIwrF,EAAO,EAAIv1F,IAK7By6D,MAAO,SAAe4qB,EAAK7jF,GACzB,OAAO8C,EAAKwrD,KAAKm1B,EAAMoQ,IAAIhQ,EAAK7jF,IAAQyjF,EAAMqQ,KAAKjQ,GAAOJ,EAAMqQ,KAAK9zF,MAKvEg0F,IAAK,SAAa/tF,EAAGC,GACnB,IACIxJ,EADAu3F,EAAS,GAEb,IAAKv3F,EAAI,EAAGA,EAAIuJ,EAAEnH,OAAQpC,IACxBu3F,EAAOjyF,KAAKiE,EAAEvJ,GAAG2L,SAEnB,IAAK3L,EAAI,EAAGA,EAAIu3F,EAAOn1F,OAAQpC,IAC7BsF,EAAKuE,MAAM0tF,EAAOv3F,GAAIwJ,EAAExJ,IAE1B,OAAOu3F,GAMT/D,IAAK,SAAajqF,GAUhB,IATA,IAMI/C,EANAgC,EAAOe,EAAEnH,OACTuqF,EAAOpjF,EAAE,GAAGnH,OACZoH,EAAIu9E,EAAM4G,SAASnlF,EAAMmkF,GACzBtsF,EAAI0mF,EAAMyQ,aAAajuF,EAAGC,GAC1BG,EAAS,GACT3J,EAAI,EAIDA,EAAIwI,EAAMxI,IAEf,IADA2J,EAAO3J,GAAK,GACPwG,EAAImmF,EAAMnmF,EAAInG,EAAE,GAAG+B,OAAQoE,IAC9BmD,EAAO3J,GAAGwG,EAAImmF,GAAQtsF,EAAEL,GAAGwG,GAE/B,OAAOmD,GAIT8tF,IAAK,SAAaluF,GAChB,IASA/C,EATIkxF,EAAOnuF,EAAEnH,OACbu1F,EAAe,EAAPD,EACRtE,EAAO,IAAIhuF,MAAMuyF,GACjBC,EAAWF,EAAO,EAClBG,EAAWF,EAAQ,EACnBG,EAAOF,EAAWF,EAAO,EACzBK,EAAOF,EACP73F,EAAI,EACJ2J,EAAS,EAGT,GAAa,IAAT+tF,EACF,OAAOnuF,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAE5C,KAAOvJ,EAAI23F,EAAO33F,IAChBozF,EAAKpzF,GAAK,EAEZ,IAAKA,EAAI,EAAGA,EAAI03F,EAAM13F,IAAK,CACzB,IAAKwG,EAAI,EAAGA,EAAIkxF,EAAMlxF,IACpB4sF,EAAM0E,EAAO,EAAKA,EAAOJ,EAAOI,IAAUvuF,EAAEvJ,GAAGwG,GAC/C4sF,EAAM2E,EAAOL,EAAQK,EAAOL,EAAOK,IAAUxuF,EAAEvJ,GAAGwG,GAClDsxF,IACAC,IAEFD,IAASF,EAAWF,EAAO,EAC3BK,IAASF,EAEX,IAAK73F,EAAI,EAAGA,EAAI03F,EAAM13F,IACpB2J,GAAUypF,EAAKpzF,GAEjB,KAAOA,EAAI23F,EAAO33F,IAChB2J,GAAUypF,EAAKpzF,GAEjB,OAAO2J,GAGTquF,kBAAmB,SAA2BzuF,EAAGC,GAC/C,IAOAyuF,EAAMC,EAAO7kC,EAAM5tD,EAPfzF,EAAI,EACRwG,EAAI,EACJ/E,EAAI8H,EAAEnH,OACNhC,EAAImJ,EAAE,GAAGnH,OACT4G,EAAS,EACTk5B,EAAM,EACNjvB,EAAI,GAIJ,IADAglF,GADA1uF,EAAIw9E,EAAMuQ,IAAI/tF,EAAGC,IACR,GAAGpH,OACRpC,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAGrB,IAFAk4F,EAAQ3uF,EAAEvJ,GAAGA,GACbwG,EAAIxG,EACCyF,EAAIzF,EAAI,EAAGyF,EAAIrF,EAAGqF,IACjByyF,EAAQ9xF,EAAK6E,IAAI1B,EAAE9D,GAAGzF,MACxBk4F,EAAQ3uF,EAAE9D,GAAGzF,GACbwG,EAAIf,GAGR,GAAIe,GAAKxG,EACP,IAAIyF,EAAI,EAAGA,EAAIwyF,EAAMxyF,IACnB4tD,EAAO9pD,EAAEvJ,GAAGyF,GACZ8D,EAAEvJ,GAAGyF,GAAK8D,EAAE/C,GAAGf,GACf8D,EAAE/C,GAAGf,GAAK4tD,EAGd,IAAK7sD,EAAIxG,EAAI,EAAGwG,EAAI/E,EAAG+E,IAErB,IADAwC,EAASO,EAAE/C,GAAGxG,GAAKuJ,EAAEvJ,GAAGA,GACpByF,EAAIzF,EAAGyF,EAAIwyF,EAAMxyF,IACnB8D,EAAE/C,GAAGf,GAAK8D,EAAE/C,GAAGf,GAAKuD,EAASO,EAAEvJ,GAAGyF,GAIxC,IAAKzF,EAAIyB,EAAI,EAAGzB,GAAK,EAAGA,IAAK,CAE3B,IADAkiC,EAAM,EACD17B,EAAIxG,EAAI,EAAGwG,GAAI/E,EAAI,EAAG+E,IACzB07B,GAAYjvB,EAAEzM,GAAK+C,EAAEvJ,GAAGwG,GAE1ByM,EAAEjT,IAAKuJ,EAAEvJ,GAAGi4F,EAAO,GAAK/1D,GAAO34B,EAAEvJ,GAAGA,GAEtC,OAAOiT,GAGTukF,aAAc,SAAsBjuF,EAAGC,GACrC,IAIIyJ,EAAGD,EAAGqY,EAJNjrB,EAAI2mF,EAAMuQ,IAAI/tF,EAAGC,GACjBoc,EAAIxlB,EAAEgC,OACNyW,EAAIzY,EAAE,GAAGgC,OACT/B,EAAI,EAGR,IAAK2S,EAAI,EAAGA,EAAI4S,EAAG5S,IAAK,CACtB,IAAImlF,EAASnlF,EACb,IAAKqY,EAAKrY,EAAE,EAAGqY,EAAKzF,EAAGyF,IACjBjlB,EAAK6E,IAAI7K,EAAEirB,GAAIrY,IAAM5M,EAAK6E,IAAI7K,EAAE+3F,GAAQnlF,MAC1CmlF,EAAS9sE,GAEb,IAAIi8D,EAAMlnF,EAAE4S,GAGZ,IAFA5S,EAAE4S,GAAK5S,EAAE+3F,GACT/3F,EAAE+3F,GAAU7Q,EACPj8D,EAAKrY,EAAE,EAAGqY,EAAKzF,EAAGyF,IAErB,IADAhrB,EAAID,EAAEirB,GAAIrY,GAAK5S,EAAE4S,GAAGA,GACfC,EAAID,EAAGC,EAAI4F,EAAG5F,IACjB7S,EAAEirB,GAAIpY,IAAM7S,EAAE4S,GAAGC,GAAK5S,EAK5B,IAAK2S,EAAI4S,EAAE,EAAG5S,GAAK,EAAGA,IAAK,CAEzB,IADA3S,EAAID,EAAE4S,GAAGA,GACJqY,EAAK,EAAGA,EAAKrY,EAAGqY,IACnB,IAAKpY,EAAI4F,EAAE,EAAG5F,EAAID,EAAE,EAAGC,IACrB7S,EAAEirB,GAAIpY,IAAM7S,EAAE4S,GAAGC,GAAK7S,EAAEirB,GAAIrY,GAAK3S,EAIrC,IADAD,EAAE4S,GAAGA,IAAM3S,EACN4S,EAAI2S,EAAG3S,EAAI4F,EAAG5F,IACjB7S,EAAE4S,GAAGC,IAAM5S,EAGf,OAAOD,GAaTg4F,YAAa,SAAqBptF,EAAGxB,GACnC,IAEIwiB,EAFAroB,EAAOqH,EAAE,GAAG5I,OACZ6Q,EAAI8zE,EAAM0G,MAAM,EAAG9pF,GAAM,GAEzB00F,GAAc,EAclB,OAZmBhmF,MAAf7I,EAAE,GAAGpH,SACPoH,EAAIA,EAAEO,KAAI,SAAS/J,GAAI,OAAOA,EAAE,MAChCq4F,GAAc,GAGhBtR,EAAMgG,OAAOppF,EAAO,GAAI,GAAI,GAAGiB,SAAQ,SAAS5E,GAC9CgsB,EAAQ+6D,EAAMgG,OAAO/sF,EAAI,EAAG2D,GAAMoG,KAAI,SAASvD,GAC7C,OAAOyM,EAAEzM,GAAKwE,EAAEhL,GAAGwG,MAErByM,EAAEjT,IAAMwJ,EAAExJ,GAAK+mF,EAAM7kD,IAAIlW,IAAUhhB,EAAEhL,GAAGA,MAGtCq4F,EACKplF,EAAElJ,KAAI,SAAS/J,GAAI,MAAO,CAACA,MAC7BiT,GAGTqlF,aAAc,SAAsBttF,EAAGxB,GAErC,IAEIwiB,EAFAroB,EAAOqH,EAAE,GAAG5I,OACZ6Q,EAAI8zE,EAAM0G,MAAM,EAAG9pF,GAAM,GAGzB00F,GAAY,EAahB,OAZmBhmF,MAAf7I,EAAE,GAAGpH,SACPoH,EAAIA,EAAEO,KAAI,SAAS/J,GAAI,OAAOA,EAAE,MAChCq4F,GAAc,GAGhBtR,EAAMgG,OAAOppF,GAAMiB,SAAQ,SAAS5E,GAClCgsB,EAAQ+6D,EAAMgG,OAAO/sF,GAAG+J,KAAI,SAASvD,GACnC,OAAOwE,EAAEhL,GAAGwG,GAAKyM,EAAEzM,MAErByM,EAAEjT,IAAMwJ,EAAExJ,GAAK+mF,EAAM7kD,IAAIlW,IAAUhhB,EAAEhL,GAAGA,MAGtCq4F,EACKplF,EAAElJ,KAAI,SAAS/J,GAAI,MAAO,CAACA,MAC7BiT,GAQTslF,GAAI,SAAYvtF,GACd,IAIIghB,EAJAroB,EAAOqH,EAAE5I,OAET05C,EAAIirC,EAAM4G,SAAShqF,GACnB60F,EAAIzR,EAAM0G,MAAMziF,EAAE5I,OAAQ4I,EAAE,GAAG5I,QAmBnC,OAjBA2kF,EAAMgG,OAAOppF,GAAMiB,SAAQ,SAAS1D,GAClCs3F,EAAE,GAAGt3F,GAAK8J,EAAE,GAAG9J,MAEjB6lF,EAAMgG,OAAO,EAAGppF,GAAMiB,SAAQ,SAAS3E,GACrC8mF,EAAMgG,OAAO9sF,GAAG2E,SAAQ,SAAS5E,GAC/BgsB,EAAQ+6D,EAAMgG,OAAO/sF,GAAG+J,KAAI,SAAS4oF,GACnC,OAAO72C,EAAE77C,GAAG0yF,GAAM6F,EAAE7F,GAAI3yF,MAE1B87C,EAAE77C,GAAGD,IAAMgL,EAAE/K,GAAGD,GAAK+mF,EAAM7kD,IAAIlW,IAAUwsE,EAAEx4F,GAAGA,MAEhD+mF,EAAMgG,OAAO9sF,EAAG0D,GAAMiB,SAAQ,SAAS4B,GACrCwlB,EAAQ+6D,EAAMgG,OAAO9sF,GAAG8J,KAAI,SAAS4oF,GACnC,OAAO72C,EAAE77C,GAAG0yF,GAAM6F,EAAE7F,GAAInsF,MAE1BgyF,EAAEv4F,GAAGuG,GAAKwE,EAAEghB,EAAM5pB,QAAQoE,GAAKugF,EAAM7kD,IAAIlW,SAGtC,CAAC8vB,EAAG08C,IAMbC,SAAU,SAAkBztF,GAC1B,IAEIghB,EAFAroB,EAAOqH,EAAE5I,OACTs2F,EAAI3R,EAAM0G,MAAMziF,EAAE5I,OAAQ4I,EAAE,GAAG5I,QAcnC,OAZA2kF,EAAMgG,OAAOppF,GAAMiB,SAAQ,SAAS5E,GAClCgsB,EAAQ+6D,EAAMgG,OAAO/sF,GAAG+J,KAAI,SAAS7I,GACnC,OAAOkF,EAAKyF,IAAI6sF,EAAE14F,GAAGkB,GAAG,MAE1Bw3F,EAAE14F,GAAGA,GAAKoG,EAAK2F,KAAKf,EAAEhL,GAAGA,GAAK+mF,EAAM7kD,IAAIlW,IACxC+6D,EAAMgG,OAAO/sF,EAAI,EAAG2D,GAAMiB,SAAQ,SAAS4B,GACzCwlB,EAAQ+6D,EAAMgG,OAAO/sF,GAAG+J,KAAI,SAAS7I,GACnC,OAAOw3F,EAAE14F,GAAGkB,GAAKw3F,EAAElyF,GAAGtF,MAExBw3F,EAAElyF,GAAGxG,IAAMgL,EAAEhL,GAAGwG,GAAKugF,EAAM7kD,IAAIlW,IAAU0sE,EAAE14F,GAAGA,SAG3C04F,GAITC,aAAc,SAAsBpvF,EAAGC,EAAGyJ,EAAGnS,GAQ3C,IAPA,IAMI83F,EAAIv4F,EAAGulB,EAAGizE,EANV74F,EAAI,EACJwG,EAAI,EACJ/E,EAAI8H,EAAEnH,OACNnC,EAAI,GACJy1C,EAAI,GACJp1C,EAAI,GAEDN,EAAIyB,EAAGzB,IAIZ,IAHAC,EAAED,GAAK,GACP01C,EAAE11C,GAAK,GACPM,EAAEN,GAAK,GACFwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,EAAIwG,GACNvG,EAAED,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfkvC,EAAE11C,GAAGwG,GAAKlG,EAAEN,GAAGwG,GAAK,GACXxG,EAAIwG,GACbkvC,EAAE11C,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfvG,EAAED,GAAGwG,GAAKlG,EAAEN,GAAGwG,GAAK,IAEpBlG,EAAEN,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfvG,EAAED,GAAGwG,GAAKkvC,EAAE11C,GAAGwG,GAAK,GAS1B,IALAof,EAAImhE,EAAMgQ,SAAShQ,EAAMgQ,SAAShQ,EAAMyM,IAAIlzF,GAAIymF,EAAMpiD,IAAI1kC,EAAGy1C,KAAM,GACnEr1C,EAAI0mF,EAAMgQ,SAAShQ,EAAMyM,IAAIlzF,GAAIkJ,GACjCovF,EAAK3lF,EACL4lF,EAAK9R,EAAMpiD,IAAIoiD,EAAMgQ,SAASnxE,EAAG3S,GAAI5S,GACrCL,EAAI,EACGoG,EAAK6E,IAAI87E,EAAMqQ,KAAKrQ,EAAM8P,SAASgC,EAAGD,KAAQ93F,GACnD83F,EAAKC,EACLA,EAAK9R,EAAMpiD,IAAIoiD,EAAMgQ,SAASnxE,EAAGgzE,GAAKv4F,GACtCL,IAEF,OAAO64F,GAGTC,aAAc,SAAsBvvF,EAAGC,EAAGyJ,EAAGnS,GAO3C,IANA,IAKI0F,EAAGoyF,EAAIv4F,EAAGulB,EAAGizE,EALb74F,EAAI,EACJyB,EAAI8H,EAAEnH,OACNnC,EAAI,GACJy1C,EAAI,GACJp1C,EAAI,GAEDN,EAAIyB,EAAGzB,IAIZ,IAHAC,EAAED,GAAK,GACP01C,EAAE11C,GAAK,GACPM,EAAEN,GAAK,GACFwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,EAAIwG,GACNvG,EAAED,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfkvC,EAAE11C,GAAGwG,GAAKlG,EAAEN,GAAGwG,GAAK,GACXxG,EAAIwG,GACbkvC,EAAE11C,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfvG,EAAED,GAAGwG,GAAKlG,EAAEN,GAAGwG,GAAK,IAEpBlG,EAAEN,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfvG,EAAED,GAAGwG,GAAKkvC,EAAE11C,GAAGwG,GAAK,GAS1B,IALAof,EAAImhE,EAAMgQ,SAAShQ,EAAMgQ,SAAShQ,EAAMyM,IAAIzM,EAAMpiD,IAAIrkC,EAAGL,IAAKy1C,IAAK,GACnEr1C,EAAI0mF,EAAMgQ,SAAShQ,EAAMyM,IAAIzM,EAAMpiD,IAAIrkC,EAAGL,IAAKuJ,GAC/CovF,EAAK3lF,EACL4lF,EAAK9R,EAAMpiD,IAAIoiD,EAAMgQ,SAASnxE,EAAG3S,GAAI5S,GACrCL,EAAI,EACGoG,EAAK6E,IAAI87E,EAAMqQ,KAAKrQ,EAAM8P,SAASgC,EAAID,KAAQ93F,GACpD83F,EAAKC,EACLA,EAAK9R,EAAMpiD,IAAIoiD,EAAMgQ,SAASnxE,EAAGgzE,GAAKv4F,GACtCL,GAAQ,EAEV,OAAO64F,GAGTE,IAAK,SAAaxvF,EAAGC,EAAGyJ,EAAGnS,EAAG+X,GAO5B,IANA,IAKIrS,EAAGoyF,EAAIv4F,EAAGulB,EAAGizE,EALb74F,EAAI,EACJyB,EAAI8H,EAAEnH,OACNnC,EAAI,GACJy1C,EAAI,GACJp1C,EAAI,GAEDN,EAAIyB,EAAGzB,IAIZ,IAHAC,EAAED,GAAK,GACP01C,EAAE11C,GAAK,GACPM,EAAEN,GAAK,GACFwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,EAAIwG,GACNvG,EAAED,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfkvC,EAAE11C,GAAGwG,GAAKlG,EAAEN,GAAGwG,GAAK,GACXxG,EAAIwG,GACbkvC,EAAE11C,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfvG,EAAED,GAAGwG,GAAKlG,EAAEN,GAAGwG,GAAK,IAEpBlG,EAAEN,GAAGwG,GAAK+C,EAAEvJ,GAAGwG,GACfvG,EAAED,GAAGwG,GAAKkvC,EAAE11C,GAAGwG,GAAK,GAY1B,IARAof,EAAImhE,EAAMgQ,SAAShQ,EAAMyM,IAAIzM,EAAMpiD,IAAIrkC,EAAGymF,EAAMgQ,SAAS92F,EAAG4Y,KACzCkuE,EAAM8P,SAAS9P,EAAMgQ,SAASz2F,EAAG,EAAIuY,GACtBkuE,EAAMgQ,SAASrhD,EAAG78B,KACpDxY,EAAI0mF,EAAMgQ,SAAShQ,EAAMgQ,SAAShQ,EAAMyM,IAAIzM,EAAMpiD,IAAIrkC,EAClDymF,EAAMgQ,SAAS92F,EAAG4Y,KAAMrP,GAAIqP,GAChC+/E,EAAK3lF,EACL4lF,EAAK9R,EAAMpiD,IAAIoiD,EAAMgQ,SAASnxE,EAAG3S,GAAI5S,GACrCL,EAAI,EACGoG,EAAK6E,IAAI87E,EAAMqQ,KAAKrQ,EAAM8P,SAASgC,EAAID,KAAQ93F,GACpD83F,EAAKC,EACLA,EAAK9R,EAAMpiD,IAAIoiD,EAAMgQ,SAASnxE,EAAGgzE,GAAKv4F,GACtCL,IAEF,OAAO64F,GAGTG,YAAa,SAAqBzvF,GAOhC,IANA,IAKI6Y,EAAOthB,EAAG2E,EAAGe,EALbpG,EAAImJ,EAAEnH,OACNX,EAAI8H,EAAE,GAAGnH,OACTpC,EAAI,EACJ6Y,EAAI,GACJ/W,EAAI,GAED9B,EAAII,EAAI,EAAGJ,IAAK,CAErB,IADAoiB,EAAQ,EACH5b,EAAIxG,EAAI,EAAGwG,EAAI/E,EAAG+E,IACvB4b,GAAU7Y,EAAE/C,GAAGxG,GAAKuJ,EAAE/C,GAAGxG,GAMzB,IAJAoiB,GADU7Y,EAAEvJ,EAAI,GAAGA,GAAK,GAAM,EAAI,GACjBoG,EAAK2F,KAAKqW,GAC3BthB,EAAIsF,EAAK2F,MAAQqW,EAAQA,EAAS7Y,EAAEvJ,EAAI,GAAGA,GAAKoiB,GAAS,IACzDvJ,EAAIkuE,EAAM0G,MAAMrtF,EAAG,IACjBJ,EAAI,GAAG,IAAMuJ,EAAEvJ,EAAI,GAAGA,GAAKoiB,IAAU,EAAIthB,GACtC2E,EAAIzF,EAAI,EAAGyF,EAAIrF,EAAGqF,IAAKoT,EAAEpT,GAAG,GAAK8D,EAAE9D,GAAGzF,IAAM,EAAIc,GACrDgB,EAAIilF,EAAM8P,SAAS9P,EAAM4G,SAASvtF,EAAGqB,GACjCslF,EAAMgQ,SAAShQ,EAAMgQ,SAASl+E,EAAGkuE,EAAM6E,UAAU/yE,IAAK,IAC1DtP,EAAIw9E,EAAMgQ,SAASj1F,EAAGilF,EAAMgQ,SAASxtF,EAAGzH,IAE1C,OAAOyH,GAMT0vF,IAOM/2D,EAAQ6kD,EAAM7kD,IACdp4B,EAAQi9E,EAAMgG,OAElB,SAAa95E,GAIX,IAMIjT,EAAEwG,EAAEf,EANJhE,EAAIwR,EAAE7Q,OACNN,EAAImR,EAAE,GAAG7Q,OAETtB,EAAIimF,EAAM0G,MAAM3rF,EAAGA,GAIvB,IAHAmR,EAAI8zE,EAAMhgD,KAAK9zB,GAGXzM,EAAI,EAAGA,EAAI1E,EAAG0E,IAAI,CAIpB,IAHA1F,EAAE0F,GAAGA,GAAKJ,EAAK2F,KAAKm2B,EAAIp4B,EAAMrI,GAAGsI,KAAI,SAAS/J,GAC5C,OAAOiT,EAAEjT,GAAGwG,GAAKyM,EAAEjT,GAAGwG,QAEpBxG,EAAI,EAAGA,EAAIyB,EAAGzB,IAChBiT,EAAEjT,GAAGwG,GAAKyM,EAAEjT,GAAGwG,GAAK1F,EAAE0F,GAAGA,GAE3B,IAAIf,EAAIe,EAAE,EAAGf,EAAI3D,EAAG2D,IAIlB,IAHA3E,EAAE0F,GAAGf,GAAKy8B,EAAIp4B,EAAMrI,GAAGsI,KAAI,SAAS/J,GAClC,OAAOiT,EAAEjT,GAAGwG,GAAKyM,EAAEjT,GAAGyF,OAEpBzF,EAAI,EAAGA,EAAIyB,EAAGzB,IAChBiT,EAAEjT,GAAGyF,GAAKwN,EAAEjT,GAAGyF,GAAKwN,EAAEjT,GAAGwG,GAAG1F,EAAE0F,GAAGf,GAIvC,MAAO,CAACwN,EAAGnS,KAMfo4F,MA0BE,SAAkBluF,EAAGxB,GACnB,IAAI2vF,GAAa,OACG9mF,IAAhB7I,EAAE,GAAGpH,SAEPoH,EAAIA,EAAEO,KAAI,SAASkJ,GAAI,MAAO,CAACA,MAC/BkmF,GAAa,GAEf,IAAIF,EAAKlS,EAAMkS,GAAGjuF,GACdizC,EAAIg7C,EAAG,GACPT,EAAIS,EAAG,GACPG,EAAQpuF,EAAE,GAAG5I,OACbi3F,EAAKtS,EAAMp7E,MAAMsyC,EAAE,CAACh2C,IAAI,CAACiC,IAAIkvF,KAE7BE,EAnCN,SAAatuF,GAEX,IAAIrH,GADJqH,EAAI+7E,EAAMhgD,KAAK/7B,IACF5I,OACTm3F,EAAIxS,EAAM4G,SAAShqF,GAgBvB,OAfAojF,EAAMgG,OAAOppF,EAAO,GAAI,GAAI,GAAGiB,SAAQ,SAAS5E,GAC9C+mF,EAAMqH,YACFmL,EAAG,CAAE7yF,IAAK1G,GAAK+mF,EAAM+P,OAAO/P,EAAMp7E,MAAM4tF,EAAG,CAAE7yF,IAAK1G,IAAMgL,EAAEhL,GAAGA,KACjE+mF,EAAMqH,YACFpjF,EAAG,CAAEtE,IAAK1G,GAAK+mF,EAAM+P,OAAO/P,EAAMp7E,MAAMX,EAAG,CAAEtE,IAAK1G,IAAMgL,EAAEhL,GAAGA,KACjE+mF,EAAMgG,OAAO/sF,GAAG4E,SAAQ,SAAS4B,GAC/B,IAAInG,EAAI0mF,EAAMgQ,SAAS/rF,EAAExE,GAAGxG,IAAK,GAC7Bw5F,EAAKzS,EAAMp7E,MAAMX,EAAG,CAAEtE,IAAKF,IAC3BizF,EAAM1S,EAAMgQ,SAAShQ,EAAMp7E,MAAMX,EAAG,CAAEtE,IAAK1G,IAAMK,GACrD0mF,EAAMqH,YAAYpjF,EAAG,CAAEtE,IAAKF,GAAKugF,EAAMpiD,IAAI60D,EAAIC,IAC/C,IAAIC,EAAK3S,EAAMp7E,MAAM4tF,EAAG,CAAE7yF,IAAKF,IAC3BmzF,EAAM5S,EAAMgQ,SAAShQ,EAAMp7E,MAAM4tF,EAAG,CAAE7yF,IAAK1G,IAAMK,GACrD0mF,EAAMqH,YAAYmL,EAAG,CAAE7yF,IAAKF,GAAKugF,EAAMpiD,IAAI+0D,EAAIC,UAG5CJ,EAgBEK,CADA7S,EAAMp7E,MAAM6sF,EAAE,CAAC9xF,IAAI,CAACwD,IAAIkvF,MAE7BS,EAAK9S,EAAM6E,UAAUyN,QAELhnF,IAAjBwnF,EAAG,GAAGz3F,SACPy3F,EAAK,CAACA,IAGR,IAAI5mF,EAAI8zE,EAAMgQ,SAAShQ,EAAMgQ,SAASuC,EAAIO,GAAKrwF,GAO/C,YALgB6I,IAAbY,EAAE7Q,SACH6Q,EAAI,CAAC,CAACA,KAIJkmF,EACKlmF,EAAElJ,KAAI,SAAS/J,GAAI,OAAOA,EAAE,MAC9BiT,GAMX6mF,OAAQ,SAAgBvwF,GAOtB,IANA,IAIOvJ,EAAGwG,EAAG1E,EAAGg7B,EAAGi9D,EAAO/yB,EAAOjlE,EAJ7Bm1B,EAAY,EACZz1B,EAAI8H,EAAEnH,OACNyI,EAAIk8E,EAAM4G,SAASlsF,EAAGA,GACtBu4F,EAAK,GAGY,IAAd9iE,GAAiB,CAItB,IAHA6iE,EAAQxwF,EAAE,GAAG,GACbzH,EAAI,EACJg7B,EAAI,EACC98B,EAAI,EAAGA,EAAIyB,EAAGzB,IACjB,IAAKwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,GAAKwG,GACHuzF,EAAQ3zF,EAAK6E,IAAI1B,EAAEvJ,GAAGwG,MACxBuzF,EAAQ3zF,EAAK6E,IAAI1B,EAAEvJ,GAAGwG,IACtB1E,EAAI9B,EACJ88B,EAAIt2B,GAmBZ,IAbEwgE,EADEz9D,EAAEzH,GAAGA,KAAOyH,EAAEuzB,GAAGA,GACVvzB,EAAEzH,GAAGg7B,GAAK,EAAK12B,EAAK+mD,GAAK,GAAK/mD,EAAK+mD,GAAK,EAEzC/mD,EAAKytD,KAAK,EAAItqD,EAAEzH,GAAGg7B,IAAMvzB,EAAEzH,GAAGA,GAAKyH,EAAEuzB,GAAGA,KAAO,GACzD/6B,EAAIglF,EAAM4G,SAASlsF,EAAGA,IACpBK,GAAGA,GAAKsE,EAAK4nD,IAAIgZ,GACnBjlE,EAAED,GAAGg7B,IAAM12B,EAAK6nD,IAAI+Y,GACpBjlE,EAAE+6B,GAAGh7B,GAAKsE,EAAK6nD,IAAI+Y,GACnBjlE,EAAE+6B,GAAGA,GAAK12B,EAAK4nD,IAAIgZ,GAEnBn8D,EAAIk8E,EAAMgQ,SAASlsF,EAAG9I,GAEtBwH,EADIw9E,EAAMgQ,SAAShQ,EAAMgQ,SAAShQ,EAAMyM,IAAIzxF,GAAIwH,GAAIxH,GAEpDm1B,EAAY,EACPl3B,EAAI,EAAGA,EAAIyB,EAAGzB,IACjB,IAAKwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,GAAKwG,GAAKJ,EAAK6E,IAAI1B,EAAEvJ,GAAGwG,IAAM,OAChC0wB,EAAY,GAKpB,IAAKl3B,EAAI,EAAGA,EAAIyB,EAAGzB,IAAKg6F,EAAG10F,KAAKiE,EAAEvJ,GAAGA,IAErC,MAAO,CAAC6K,EAAGmvF,IAGbC,WAAY,SAAoBt0F,EAAGigB,EAAG9jB,EAAGo4F,EAAKC,EAAKpuC,GACjD,IAAIquC,EAAIC,EAAUC,EAClB,GAAc,IAAVvuC,EACF,KAAOmuC,GAAOp4F,GAIZq4F,KAHAC,EAAKx0E,EAAIjgB,EAAEu0F,EAAKC,KAChBE,EAAKz0E,EAAIjgB,EAAEu0F,EAAMt0E,EAAGu0E,EAAMC,KACD,EAEzBF,GAAYt0E,EAGhB,GAAc,IAAVmmC,EACF,KAAOmuC,GAAOp4F,GAMZq4F,KALAC,EAAKx0E,EAAIjgB,EAAEu0F,EAAKC,IAIG,GAHnBE,EAAKz0E,EAAIjgB,EAAEu0F,EAAMt0E,EAAI,EAAGu0E,EAAMC,EAAK,IAGP,GAF5BE,EAAK10E,EAAIjgB,EAAEu0F,EAAMt0E,EAAI,EAAGu0E,EAAME,EAAK,IAC9Bz0E,EAAIjgB,EAAEu0F,EAAKt0E,EAAGu0E,EAAMG,IACkB,EAE3CJ,GAAYt0E,EAGhB,OAAOu0E,GAGTI,QAAS,SAAiB50F,EAAG4D,EAAGC,EAAGuiD,GAOjC,IANA,IAKI3rD,EAAG6xD,EAAIzrD,EAAGf,EAAG8zF,EALbv5F,EAAI,EACJ4lB,GAAKpc,EAAID,GAAK,EACd0J,EAAI,GACJunF,EAAK,GACLvmE,EAAI,GAEDj0B,EAAI+rD,EAAQ,GAAG,CAEpB,IADAwtC,EAAI5zF,EAAE4D,GACD/C,EAAI+C,EAAG9D,EAAI,EAAGe,GAAKgD,EAAGhD,GAAQof,EAAGngB,IAAKwN,EAAExN,GAAKe,EAElD,IADApG,EAAI6S,EAAE7Q,OACDoE,EAAI,EAAGA,EAAIpG,EAAI,EAAGoG,IACrB+yF,IAAQ/yF,EAAI,GAAO,EAAK,EAAI,GAAKb,EAAEsN,EAAEzM,IAEvC+yF,EAAK3zE,EAAI,GAAM2zE,EAAI5zF,EAAE6D,IACrByqB,EAAEj0B,GAAKu5F,EACP3zE,GAAK,EACL5lB,IAIF,IAFAiyD,EAAKh+B,EAAE7xB,OACPhC,EAAI,EACU,IAAP6xD,GAAU,CACf,IAAKzrD,EAAI,EAAGA,EAAIyrD,EAAK,EAAGzrD,IACxBg0F,EAAGh0F,IAAOJ,EAAKyF,IAAI,EAAGzL,GAAM6zB,EAAEztB,EAAI,GAAKytB,EAAEztB,KAAOJ,EAAKyF,IAAI,EAAGzL,GAAK,GACjE6xD,EAAKuoC,EAAGp4F,OACR6xB,EAAIumE,EACJA,EAAK,GACLp6F,IAEF,OAAO6zB,GAGTwmE,WAAY,SAAoB1wE,EAAGpkB,EAAGsN,EAAG2S,GACvC,SAASrN,EAAIwR,EAAG9W,GAId,IAHA,IAEInR,EAFA9B,EAAI,EACJyB,EAAIsoB,EAAE3nB,OAEHpC,EAAIyB,EAAGzB,IACR+pB,EAAE/pB,KAAOiT,IAAGnR,EAAI9B,GACtB,OAAO8B,EAOT,IALA,IAIIspB,EAAIC,EAAIjrB,EAAGmJ,EAAG/C,EAJdk0F,EAAQt0F,EAAK6E,IAAIgI,EAAI8W,EAAExR,EAAIwR,EAAG9W,GAAK,IACnCjT,EAAI,EACJi0B,EAAI,GACJumE,EAAK,GAEF50E,GAAK80E,GACVtvE,EAAK7S,EAAIwR,EAAG9W,EAAI2S,GAChByF,EAAK9S,EAAIwR,EAAG9W,GACZghB,EAAEj0B,IAAM2F,EAAEylB,GAAM,EAAIzlB,EAAE0lB,GAAM1lB,EAAE,EAAI0lB,EAAKD,KAAQxF,EAAIA,GACnDA,GAAK,EACL5lB,IAIF,IAFAuJ,EAAI0qB,EAAE7xB,OACNhC,EAAI,EACQ,GAALmJ,GAAQ,CACb,IAAK/C,EAAI,EAAGA,EAAI+C,EAAI,EAAG/C,IACrBg0F,EAAGh0F,IAAOJ,EAAKyF,IAAI,EAAGzL,GAAM6zB,EAAEztB,EAAI,GAAKytB,EAAEztB,KAAOJ,EAAKyF,IAAI,EAAGzL,GAAK,GACnEmJ,EAAIixF,EAAGp4F,OACP6xB,EAAIumE,EACJA,EAAK,GACLp6F,IAEF,OAAO6zB,GAGT0mE,QAAS,SAAiBh1F,EAAG4D,EAAGC,EAAG/H,GAQjC,IAPA,IAMIrB,EANAwlB,GAAKpc,EAAID,GAAK9H,EACd83F,EAAI5zF,EAAE4D,GACN0J,EAAI,GACJzM,EAAI+C,EACJ9D,EAAI,EACJzF,EAAI,EAEDwG,GAAKgD,EAAGhD,GAAQof,EAAGngB,IACxBwN,EAAExN,GAAKe,EAET,IADApG,EAAI6S,EAAE7Q,OACCpC,EAAII,EAAI,EAAGJ,IAChBu5F,IAAOv5F,EAAI,GAAM,EAAK,EAAI,GAAK2F,EAAEsN,EAAEjT,IAErC,OAAQ4lB,EAAI,GAAM2zE,EAAI5zF,EAAE6D,KAG1BoxF,QAAS,SAAiB7wE,EAAG8wE,EAAGC,EAAI75F,GASlC,IARA,IAOIuF,EAPA/E,EAAIsoB,EAAE3nB,OACNN,EAAI,EACJ9B,EAAI,EACJC,EAAI,GACJ86F,EAAK,GACL/vF,EAAI,GACJs4D,EAAI,GAEDtjE,EAAIyB,EAAGzB,IAAK,CAEjB,IADAC,EAAED,GAAK,EACFwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,GAAKwG,IAAGvG,EAAED,KAAOiB,EAAQ8oB,EAAEvjB,KAAOujB,EAAE/pB,GAAK+pB,EAAEvjB,KAGjD,IADAu0F,EAAG/6F,GAAK,EACHwG,EAAI,EAAGA,EAAI/E,EAAG+E,IACbxG,GAAKwG,IAAGu0F,EAAG/6F,IAAM,GAAK+pB,EAAG/pB,GAAK+pB,EAAEvjB,KAEtCwE,EAAEhL,IAAM,EAAI,GAAKiB,EAAQ8oB,EAAE/pB,IAAM+6F,EAAG/6F,KAAOC,EAAED,GAAKC,EAAED,IACpDsjE,EAAEtjE,IAAMiB,EAAQ8oB,EAAE/pB,KAAOC,EAAED,GAAKC,EAAED,IAClC8B,GAAMkJ,EAAEhL,GAAK66F,EAAE76F,GAAKsjE,EAAEtjE,GAAK86F,EAAG96F,GAEhC,OAAO8B,GAGTk5F,SAAU,SAAkBjxE,EAAG8wE,EAAG55F,GAKhC,IAJA,IAEIuF,EAAGvG,EAFH6B,EAAI,EACJ9B,EAAI,EAEJyB,EAAIsoB,EAAE3nB,OACHpC,EAAIyB,EAAGzB,IAAK,CAEjB,IADAC,EAAI46F,EAAE76F,GACDwG,EAAI,EAAGA,EAAI/E,EAAG+E,IAEbxG,GAAKwG,IAAGvG,IAAMgB,EAAQ8oB,EAAEvjB,KAAOujB,EAAE/pB,GAAK+pB,EAAEvjB,KAG9C1E,GAAK7B,EAEP,OAAO6B,GAGTm5F,aAAc,SAAsBlxE,EAAG8wE,EAAG55F,GAUxC,IATA,IACWuF,EAIPnG,EALAoB,EAAIsoB,EAAE3nB,OACNpC,EAAI,EACJgL,EAAI,GACJs4D,EAAI,GACJlhD,EAAQ,GAERwD,EAAI,GACJpc,EAAI,GACJlJ,EAAI,GACDN,EAAIyB,EAAI,EAAGzB,IAChB4lB,EAAE5lB,GAAK+pB,EAAE/pB,EAAI,GAAK+pB,EAAE/pB,GAEtB,IADAoiB,EAAM,GAAK,EACNpiB,EAAI,EAAGA,EAAIyB,EAAI,EAAGzB,IACrBoiB,EAAMpiB,GAAM,EAAI4lB,EAAE5lB,IAAO66F,EAAE76F,EAAI,GAAK66F,EAAE76F,IACjC,EAAI4lB,EAAE5lB,EAAE,IAAO66F,EAAE76F,GAAK66F,EAAE76F,EAAE,IAEjC,IAAKA,EAAI,EAAGA,EAAIyB,EAAI,EAAGzB,IACrBgL,EAAEhL,GAAK,GACPsjE,EAAEtjE,GAAK,GACPgL,EAAEhL,GAAGA,EAAE,GAAK4lB,EAAE5lB,EAAE,GAChBgL,EAAEhL,GAAGA,GAAK,GAAK4lB,EAAE5lB,EAAI,GAAK4lB,EAAE5lB,IAC5BgL,EAAEhL,GAAGA,EAAE,GAAK4lB,EAAE5lB,GACdsjE,EAAEtjE,GAAG,GAAKoiB,EAAMpiB,GAGlB,IADAK,EAAI0mF,EAAMgQ,SAAShQ,EAAMyM,IAAIxoF,GAAIs4D,GAC5B98D,EAAI,EAAGA,EAAI/E,EAAI,EAAG+E,IACrBgD,EAAEhD,IAAMq0F,EAAEr0F,EAAI,GAAKq0F,EAAEr0F,IAAMof,EAAEpf,GAAKof,EAAEpf,IAAMnG,EAAEmG,EAAI,GAAG,GAAK,EAAInG,EAAEmG,GAAG,IAAM,EACvElG,EAAEkG,IAAMnG,EAAEmG,EAAI,GAAG,GAAKnG,EAAEmG,GAAG,KAAO,EAAIof,EAAEpf,IAE1C,IAAKA,EAAI,EAAGA,EAAI/E,KACVsoB,EAAEvjB,GAAKvF,GADMuF,KAInB,OAAOq0F,EADPr0F,GAAK,IACUvF,EAAQ8oB,EAAEvjB,IAAMgD,EAAEhD,GAAKugF,EAAMmU,GAAGj6F,EAAM8oB,EAAEvjB,IACnDnG,EAAEmG,IAAMvF,EAAQ8oB,EAAEvjB,IAAMugF,EAAMmU,GAAGj6F,EAAQ8oB,EAAEvjB,IAAMlG,EAAEkG,IAGzD20F,iBAAkB,WAChB,MAAM,IAAIj2F,MAAM,yCAGlBk2F,IAAK,SAAarxE,GAChB,IAGIvjB,EAAG60F,EAGH1xF,EAGA2xF,EAGAv+C,EAZA38C,EAAI2pB,EAAE3nB,OACNX,EAAIsoB,EAAE,GAAG3nB,OACTpC,EAAI,EAEJ01C,EAAI,GACJ6lD,EAAI,GAEJC,EAAQ,GACRxxE,EAAI,GAEJs5C,EAAI,GACJm4B,EAAI,GAEJC,EAAK,GACT,IAAK17F,EAAI,EAAGA,EAAII,EAAGJ,IACjB01C,EAAE11C,GAAK+mF,EAAM7kD,IAAInY,EAAE/pB,IAAMyB,EAE3B,IAAKzB,EAAI,EAAGA,EAAIyB,EAAGzB,IAEjB,IADAsjE,EAAEtjE,GAAK,GACHwG,EAAI,EAAGA,EAAIpG,EAAGoG,IAChB88D,EAAEtjE,GAAGwG,GAAKujB,EAAEvjB,GAAGxG,GAAK01C,EAAElvC,GAI1B,IADA88D,EAAIyjB,EAAM6E,UAAUtoB,GACftjE,EAAI,EAAGA,EAAII,EAAGJ,IAEjB,IADAy7F,EAAEz7F,GAAK,GACFwG,EAAI,EAAGA,EAAIpG,EAAGoG,IACjBi1F,EAAEz7F,GAAGwG,GAAMugF,EAAMoQ,IAAI,CAAC7zB,EAAEtjE,IAAK,CAACsjE,EAAE98D,MAAS/E,EAAI,GAOjD,IAHAs7C,GADApzC,EAASo9E,EAAM+S,OAAO2B,IACX,GACXF,EAAI5xF,EAAO,GACX+xF,EAAK3U,EAAM6E,UAAU7uC,GAChB/8C,EAAI,EAAGA,EAAIu7F,EAAEn5F,OAAQpC,IACxB,IAAKwG,EAAIxG,EAAGwG,EAAI+0F,EAAEn5F,OAAQoE,IACrB+0F,EAAEv7F,GAAKu7F,EAAE/0F,KACV60F,EAAQE,EAAEv7F,GACVu7F,EAAEv7F,GAAKu7F,EAAE/0F,GACT+0F,EAAE/0F,GAAK60F,EACPG,EAAQE,EAAG17F,GACX07F,EAAG17F,GAAK07F,EAAGl1F,GACXk1F,EAAGl1F,GAAKg1F,GAKd,IADAF,EAAKvU,EAAM6E,UAAUtoB,GAChBtjE,EAAI,EAAGA,EAAII,EAAGJ,IAEjB,IADAgqB,EAAEhqB,GAAK,GACFwG,EAAI,EAAGA,EAAI80F,EAAGl5F,OAAQoE,IACzBwjB,EAAEhqB,GAAGwG,GAAKugF,EAAMoQ,IAAI,CAACuE,EAAG17F,IAAK,CAACs7F,EAAG90F,KAGrC,MAAO,CAACujB,EAAGwxE,EAAGG,EAAI1xE,MAKrB,SAASshE,GACR,IAAK,IAAItrF,EAAI,EAAGA,EAAIsrF,EAAMlpF,OAAQpC,KAAM,SAASurF,GAC/CxE,EAAMp6E,GAAG4+E,GAAY,SAASjoF,EAAKmoF,GACjC,IAAIC,EAAUloF,KAEd,OAAIioF,GACFE,YAAW,WACTF,EAAKtrF,KAAKurF,EAAS3E,EAAMp6E,GAAG4+E,GAAUprF,KAAKurF,EAASpoF,MACnD,IACIE,MAEiC,iBAA/BujF,EAAMwE,GAAU/nF,KAAMF,GACxByjF,EAAMwE,GAAU/nF,KAAMF,GAEtByjF,EAAMA,EAAMwE,GAAU/nF,KAAMF,KAbF,CAerCgoF,EAAMtrF,IAhBV,CAiBE,8DAA8DymD,MAAM,MA78BtE,CA+8BEsgC,EAAO3gF,MACR,SAAS2gF,EAAO3gF,GAEjB,IAAIuF,EAAQ,GAAGA,MACXwgF,EAAWpF,EAAME,MAAMkF,SACvB9mF,EAAU0hF,EAAME,MAAM5hF,QAwT1B,SAASs2F,EAAwB3/B,EAAI4C,EAAImV,EAAIlV,GAC3C,GAAI7C,EAAK,GAAK+X,EAAK,GAAK/X,GAAM,GAAK+X,GAAM,EACvC,MAAM,IAAI7uE,MAAM,wDAElB,IAAI02F,GAAU5/B,EAAK4C,EAAKmV,EAAKlV,IAAOD,EAAKC,GAEzC,OAAQ7C,EAAK+X,GADJ3tE,EAAK2F,KAAK6vF,GAAU,EAAIA,IAAY,EAAEh9B,EAAO,EAAEC,IAzT1DkoB,EAAM/uD,OAAO,CAIX6jE,OAAQ,WACN,IAAIrf,EAAO7wE,EAAMxL,KAAKgC,WACtB,OAAIgqF,EAAS3P,EAAK,KACRA,EAAK,GAAKA,EAAK,IAAMA,EAAK,IAE5BA,EAAK,GAAKuK,EAAMpX,KAAK6M,EAAK,KAAOuK,EAAMiC,MAAMxM,EAAK,GAAIA,EAAK,KAOrEsf,MAAO,WACL,IACI18C,EADAo9B,EAAO7wE,EAAMxL,KAAKgC,WAEtB,OAAIkD,EAAQm3E,EAAK,KAEfp9B,EAAI2nC,EAAM8U,OAAOrf,EAAK,GAAGA,EAAK,GAAGA,EAAK,IAClB,IAAZA,EAAK,GACVuK,EAAMrvB,OAAOy6B,KAAK/rF,EAAK6E,IAAIm0C,GAAI,EAAG,GACG,EAArC2nC,EAAMrvB,OAAOy6B,KAAK/rF,EAAK6E,IAAIm0C,GAAI,EAAG,IAEjCo9B,EAAKp6E,OAAS,GAEhBg9C,EAAI2nC,EAAM8U,OAAOrf,EAAK,GAAGA,EAAK,GAAGA,EAAK,IAClB,IAAZA,EAAK,GACVuK,EAAMrvB,OAAOy6B,KAAK/rF,EAAK6E,IAAIm0C,GAAG,EAAE,GACI,EAApC2nC,EAAMrvB,OAAOy6B,KAAK/rF,EAAK6E,IAAIm0C,GAAG,EAAE,KAGnCA,EAAIo9B,EAAK,GACW,IAAZA,EAAK,GACVuK,EAAMrvB,OAAOy6B,KAAK/rF,EAAK6E,IAAIm0C,GAAG,EAAE,GACG,EAAnC2nC,EAAMrvB,OAAOy6B,KAAK/rF,EAAK6E,IAAIm0C,GAAG,EAAE,OAM3C2nC,EAAM/uD,OAAO+uD,EAAMp6E,GAAI,CACrBkvF,OAAQ,SAAgB56F,EAAOkM,GAC7B,OAAQlM,EAAQuC,KAAKmsE,QAAUnsE,KAAKwlF,MAAM77E,IAG5C2uF,MAAO,SAAe76F,EAAO86F,EAAO5uF,GAClC,IAAI0uF,EAASz1F,EAAK6E,IAAIzH,KAAKq4F,OAAO56F,EAAOkM,IACzC,OAAkB,IAAV4uF,EACLhV,EAAMrvB,OAAOy6B,KAAK0J,EAAQ,EAAG,GACK,EAAlC9U,EAAMrvB,OAAOy6B,KAAK0J,EAAQ,EAAG,MAKpC9U,EAAM/uD,OAAO,CAIXgkE,OAAQ,WACN,IAAIxf,EAAO7wE,EAAMxL,KAAKgC,WACtB,OAAwB,IAAhBq6E,EAAKp6E,QACTo6E,EAAK,GAAKA,EAAK,KAAOA,EAAK,GAAKp2E,EAAK2F,KAAKywE,EAAK,MAC/CA,EAAK,GAAKuK,EAAMpX,KAAK6M,EAAK,MAC1BuK,EAAMiC,MAAMxM,EAAK,IAAI,GAAQp2E,EAAK2F,KAAKywE,EAAK,GAAGp6E,UAOrD65F,MAAO,WACL,IACID,EADAxf,EAAO7wE,EAAMxL,KAAKgC,WAEtB,OAAoB,IAAhBq6E,EAAKp6E,QACP45F,EAAS51F,EAAK6E,IAAI87E,EAAMiV,OAAOxf,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAC3C,IAAZA,EAAK,GACVuK,EAAMuN,SAASnC,KAAK6J,EAAQxf,EAAK,GAAG,GACG,EAAvCuK,EAAMuN,SAASnC,KAAK6J,EAAQxf,EAAK,GAAG,IAErC2P,EAAS3P,EAAK,KAChBwf,EAAS51F,EAAK6E,IAAIuxE,EAAK,IACJ,GAAXA,EAAK,GACVuK,EAAMuN,SAASnC,KAAK6J,EAAQxf,EAAK,GAAG,GACK,EAAzCuK,EAAMuN,SAASnC,KAAK6J,EAAQxf,EAAK,GAAG,KAEzCwf,EAAS51F,EAAK6E,IAAI87E,EAAMiV,OAAOxf,EAAK,GAAIA,EAAK,KAC1B,GAAXA,EAAK,GACVuK,EAAMuN,SAASnC,KAAK6J,EAAQxf,EAAK,GAAGp6E,OAAO,GACK,EAAhD2kF,EAAMuN,SAASnC,KAAK6J,EAAQxf,EAAK,GAAGp6E,OAAO,OAIlD2kF,EAAM/uD,OAAO+uD,EAAMp6E,GAAI,CACrBqvF,OAAQ,SAAgB/6F,GACtB,OAAQA,EAAQuC,KAAKmsE,SAAWnsE,KAAKwlF,OAAM,GAAQ5iF,EAAK2F,KAAKvI,KAAKmpF,UAGpEsP,MAAO,SAAeh7F,EAAO86F,GAC3B,OAAkB,IAAVA,EACL,EAAIhV,EAAMuN,SAASnC,IAAI/rF,EAAK6E,IAAIzH,KAAKw4F,OAAO/6F,IAASuC,KAAKmpF,OAAO,GACA,EAAjE5F,EAAMuN,SAASnC,KAAK/rF,EAAK6E,IAAIzH,KAAKw4F,OAAO/6F,IAASuC,KAAKmpF,OAAO,MAKrE5F,EAAM/uD,OAAO,CAKXkkE,YAAa,WACX,IACAC,EAAQhuB,EAAQiuB,EAAUC,EAAcC,EAASC,EAAUv8F,EAAGwG,EAD1Dg2E,EAAO7wE,EAAMxL,KAAKgC,WAEtB,GAAoB,IAAhBq6E,EAAKp6E,OAAc,CAErB,IADAk6F,EAAU,IAAIl3F,MAAMo3E,EAAK,GAAGp6E,QACvBpC,EAAI,EAAGA,EAAIw8E,EAAK,GAAGp6E,OAAQpC,IAC9Bs8F,EAAQt8F,GAAKw8E,EAAK,GAAGx8E,GAEvBw8E,EAAO8f,EAIT,IADAnuB,EAAS,IAAI/oE,MACRpF,EAAI,EAAGA,EAAIw8E,EAAKp6E,OAAQpC,IAC3BmuE,EAASA,EAAO3jE,OAAOgyE,EAAKx8E,IAK9B,IAHAo8F,EAAWrV,EAAMpX,KAAKxB,GAEtBguB,EAAS,EACJn8F,EAAI,EAAGA,EAAIw8E,EAAKp6E,OAAQpC,IAC3Bm8F,GAAkB3f,EAAKx8E,GAAGoC,OAASgE,EAAKyF,IAAIk7E,EAAMpX,KAAK6M,EAAKx8E,IAAMo8F,EAAU,GAK9E,IAHAD,GAAW3f,EAAKp6E,OAAS,EAEzBm6F,EAAW,EACNv8F,EAAI,EAAGA,EAAIw8E,EAAKp6E,OAAQpC,IAE3B,IADAq8F,EAAetV,EAAMpX,KAAK6M,EAAKx8E,IAC1BwG,EAAI,EAAGA,EAAIg2E,EAAKx8E,GAAGoC,OAAQoE,IAC9B+1F,GAAYn2F,EAAKyF,IAAI2wE,EAAKx8E,GAAGwG,GAAK61F,EAAc,GAIpD,OAAOF,GADPI,GAAapuB,EAAO/rE,OAASo6E,EAAKp6E,SAOpCo6F,WAAY,WACV,IACA9I,EAAKC,EAAKlyF,EAAGzB,EADTw8E,EAAO7wE,EAAMxL,KAAKgC,WAEtB,GAAIgqF,EAAS3P,EAAK,IAChB,OAAO,EAAIuK,EAAM0M,SAAStB,IAAI3V,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAEvD,IAAI0f,EAAcnV,EAAMmV,YAAY1f,GAGpC,IAFAkX,EAAMlX,EAAKp6E,OAAS,EACpBX,EAAI,EACCzB,EAAI,EAAGA,EAAIw8E,EAAKp6E,OAAQpC,IAC3ByB,GAAQ+6E,EAAKx8E,GAAGoC,OAGlB,OADAuxF,EAAMlyF,EAAIiyF,EAAM,EACT,EAAI3M,EAAM0M,SAAStB,IAAI+J,EAAaxI,EAAKC,IAGlD8I,MAAO,SAAeC,EAAQhJ,EAAKC,GACjC,OAAO,EAAI5M,EAAM0M,SAAStB,IAAIuK,EAAQhJ,EAAKC,MAI/C5M,EAAM/uD,OAAO+uD,EAAMp6E,GAAI,CACrBuvF,YAAa,WACX,OAAOnV,EAAMmV,YAAY14F,KAAK6pE,YAGhCsvB,UAAW,WACT,IACI38F,EADAyB,EAAI,EAER,IAAKzB,EAAI,EAAGA,EAAIwD,KAAKpB,OAAQpC,IAC3ByB,GAAQ+B,KAAKxD,GAAGoC,OAElB,OAAO2kF,EAAM0V,MAAMj5F,KAAK04F,cAAe14F,KAAKpB,OAAS,EAAGX,EAAI+B,KAAKpB,WAKrE2kF,EAAM/uD,OAAO,CAIX4kE,OAAQ,WACN,IACIC,EAAOC,EAAOl+B,EAAIC,EAAIk+B,EADtBvgB,EAAO7wE,EAAMxL,KAAKgC,WAetB,OAbIgqF,EAAS3P,EAAK,KACdqgB,EAAQrgB,EAAK,GACbsgB,EAAQtgB,EAAK,GACb5d,EAAK4d,EAAK,GACV3d,EAAK2d,EAAK,GACVugB,EAAKvgB,EAAK,KAEVqgB,EAAQ9V,EAAMpX,KAAK6M,EAAK,IACxBsgB,EAAQ/V,EAAMpX,KAAK6M,EAAK,IACxB5d,EAAK4d,EAAK,GAAGp6E,OACby8D,EAAK2d,EAAK,GAAGp6E,OACb26F,EAAKvgB,EAAK,IAEPp2E,EAAK6E,IAAI4xF,EAAQC,IAAUC,EAAK32F,EAAK2F,MAAM,EAAI6yD,EAAK,EAAIC,GAAM,KAOvEm+B,MAAO,WACL,IAEIJ,EAFApgB,EAAO7wE,EAAMxL,KAAKgC,WAGF,IAAhBq6E,EAAKp6E,QACPw6F,EAASpgB,EAAK,GACdA,EAAOA,EAAK7wE,MAAM,IACO,IAAhB6wE,EAAKp6E,QACdw6F,EAAS7V,EAAM6V,OAAOpgB,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC/DA,EAAOA,EAAK7wE,MAAM,KAElBixF,EAAS7V,EAAM6V,OAAOpgB,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC7CA,EAAOA,EAAK7wE,MAAM,IAGpB,IAAIlK,EAAI+6E,EAAK,GACT/2E,EAAI+2E,EAAK,GAEb,OAAO,EAAIuK,EAAM2O,MAAMvD,IAAIyK,EAAQn3F,EAAGhE,EAAIgE,IAG5Cw3F,SAAU,SAAkB72D,GAM1B,IALA,IAAI22D,EAAKhW,EAAMkC,YAAY7iD,GACvB82D,EAAQ92D,EAAOr8B,KAAI,SAAUo9E,GAAM,OAAOJ,EAAMpX,KAAKwX,MACrD1lF,EAAI2kC,EAAOx8B,QAAO,SAAUnI,EAAG0lF,GAAM,OAAO1lF,EAAI0lF,EAAI/kF,SAAU,GAE9D8uE,EAAU,GACLlxE,EAAI,EAAGA,EAAIomC,EAAOhkC,SAAUpC,EACjC,IAAK,IAAIwG,EAAIxG,EAAI,EAAGwG,EAAI4/B,EAAOhkC,SAAUoE,EAAG,CACxC,IAAI1E,EAAIilF,EAAMiW,MAAME,EAAMl9F,GAAIk9F,EAAM12F,GAAI4/B,EAAOpmC,GAAGoC,OAAQgkC,EAAO5/B,GAAGpE,OAAQ26F,EAAIt7F,EAAG2kC,EAAOhkC,QAC1F8uE,EAAQ5rE,KAAK,CAAC,CAACtF,EAAGwG,GAAI1E,IAI9B,OAAOovE,KAKX6V,EAAM/uD,OAAO,CAIXmlE,SAAU,WACR,IAEAC,EAFI5gB,EAAO7wE,EAAMxL,KAAKgC,WACtBi0F,EAAM,IAAIhxF,MAAM,GAWhB,OAREg4F,EADkB,IAAhB5gB,EAAKp6E,OACEgE,EAAK6E,IAAI87E,EAAMrvB,OAAO87B,IAAIhX,EAAK,GAAK,EAAG,EAAG,GACjCA,EAAK,GAAKp2E,EAAK2F,KAAKywE,EAAK,KAElCp2E,EAAK6E,IAAI87E,EAAMrvB,OAAO87B,IAAIhX,EAAK,GAAK,EAAG,EAAG,GACjCuK,EAAMiC,MAAMxM,EAAK,IAAMp2E,EAAK2F,KAAKywE,EAAK,GAAGp6E,SAE7Dg0F,EAAI,GAAK5Z,EAAK,GAAK4gB,EACnBhH,EAAI,GAAK5Z,EAAK,GAAK4gB,EACZhH,GAMTiH,IAAK,WACH,IAEAD,EAFI5gB,EAAO7wE,EAAMxL,KAAKgC,WACtBi0F,EAAM,IAAIhxF,MAAM,GAWhB,OAREg4F,EADkB,IAAhB5gB,EAAKp6E,OACEgE,EAAK6E,IAAI87E,EAAMuN,SAASd,IAAIhX,EAAK,GAAK,EAAGA,EAAK,GAAK,GAC1CA,EAAK,GAAKp2E,EAAK2F,KAAKywE,EAAK,KAElCp2E,EAAK6E,IAAI87E,EAAMuN,SAASd,IAAIhX,EAAK,GAAK,EAAGA,EAAK,GAAGp6E,OAAS,GACjD2kF,EAAMiC,MAAMxM,EAAK,IAAI,GAAQp2E,EAAK2F,KAAKywE,EAAK,GAAGp6E,SAEnEg0F,EAAI,GAAK5Z,EAAK,GAAK4gB,EACnBhH,EAAI,GAAK5Z,EAAK,GAAK4gB,EACZhH,GAGTkH,YAAa,SAAqBC,EAAQn7E,GACxC,OAAOm7E,EAASn7E,KAIpB2kE,EAAM/uD,OAAO+uD,EAAMp6E,GAAI,CACrBwwF,SAAU,SAAkBl8F,EAAOmhB,GACjC,OAAO2kE,EAAMoW,SAASl8F,EAAOmhB,EAAO5e,KAAK6pE,YAG3CgwB,IAAK,SAAap8F,EAAOmhB,GACvB,OAAO2kE,EAAMsW,IAAIp8F,EAAOmhB,EAAO5e,KAAK6pE,cAexC0Z,EAAM/uD,OAAO+uD,EAAMp6E,GAAI,CACrB6wF,gCAAiC,SAAyCxhC,EAAI4C,EAAImV,EAAIlV,GACpF,IAAIzf,EAAIu8C,EAAwB3/B,EAAI4C,EAAImV,EAAIlV,GAC5C,OAAOkoB,EAAM+U,MAAM18C,EAAG,IAGxBq+C,gCAAiC,SAAyCzhC,EAAI4C,EAAImV,EAAIlV,GACpF,IAAIzf,EAAIu8C,EAAwB3/B,EAAI4C,EAAImV,EAAIlV,GAC5C,OAAOkoB,EAAM+U,MAAM18C,EAAG,MA9U1B,CAkVE2nC,EAAO3gF,MACT2gF,EAAM2W,OAAS,WAgBb,SAASC,EAAIC,EAAOC,GAClB,IAAIC,EAAOF,EAAMx7F,OACb27F,EAAWF,EAAK,GAAGz7F,OAAS,EAC5B47F,EAAWF,EAAKC,EAAW,EAC3BE,EAAOlX,EAAMmS,MAAM2E,EAAMD,GACzBM,EACAnX,EAAMgQ,SAAS8G,EAAMI,EAAKl0F,KAAI,SAASkJ,GAAK,MAAO,CAACA,OAC/ClJ,KAAI,SAASjI,GAAK,OAAOA,EAAE,MAChCq8F,EAAQpX,EAAM8P,SAAS+G,EAAOM,GAC9BE,EAAOrX,EAAMpX,KAAKiuB,GAKlBS,EAAMtX,EAAM7kD,IAAIg8D,EAAQn0F,KAAI,SAASpE,GACvC,OAAOS,KAAKyF,IAAIlG,EAAIy4F,EAAM,OAExBE,EAAMvX,EAAM7kD,IAAI07D,EAAM7zF,KAAI,SAASiJ,EAAGhT,GACxC,OAAOoG,KAAKyF,IAAImH,EAAIkrF,EAAQl+F,GAAI,OAE9Bu+F,EAAMF,EAAMC,EAEhB,MAAO,CACHT,KAAKA,EACLD,MAAMA,EACNE,KAAKA,EACLC,SAASA,EACTC,SAASA,EACTC,KAAKA,EACLC,QAAQA,EACRC,MAAMA,EACNC,KAAKA,EACLG,IAAIA,EACJF,IAAIA,EACJC,IAAIA,EACJE,GAdMH,EAAME,GAoBlB,SAASE,EAAOC,GACd,IAzDmBb,EACfc,EAwDAC,GAzDef,EAyDYa,EAAMb,KAxDjCc,EAAYd,EAAK,GAAGz7F,OACR2kF,EAAMgG,OAAO4R,GAAW50F,KAAI,SAAS80F,GACnD,IAAIC,EACA/X,EAAMgG,OAAO4R,GAAW/zF,QAAO,SAAS5K,GAAG,OAAOA,IAAI6+F,KAC1D,OAAOlB,EAAI5W,EAAM9+E,IAAI41F,EAAMgB,GAAa90F,KAAI,SAASkJ,GAAI,OAAOA,EAAE,MACvD8zE,EAAM9+E,IAAI41F,EAAMiB,QAqDzBC,EAAW34F,KAAK2F,KAAK2yF,EAAMJ,IAAOI,EAAc,UAChDM,EAAYJ,EAAa70F,KAAI,SAASopB,GACxC,IAAIorE,EAAMprE,EAAIorE,IACVC,EAAKrrE,EAAIqrE,GACb,OAAOO,EAAW34F,KAAK2F,KAAKwyF,GAAO,EAAIC,OAErCS,EAAaP,EAAMT,KAAKl0F,KAAI,SAASk0F,EAAMj+F,GAC7C,OAAQi+F,EAAO,GAAKe,EAAUh/F,MAE5Bk/F,EAASD,EAAWl1F,KAAI,SAAS7I,GACnC,IAAIi+F,EAAUpY,EAAMuN,SAASnC,IAAIjxF,EAAGw9F,EAAMV,UAC1C,OAAiD,GAAzCmB,EAAU,GAAM,EAAIA,EAAUA,MAEpC9+F,EAAI0mF,EAAMuN,SAASd,IAAI,KAAOkL,EAAMV,UACpCoB,EAAaV,EAAMT,KAAKl0F,KAAI,SAASk0F,EAAMj+F,GAC7C,IAAIM,EAAID,EAAI2+F,EAAUh/F,GACtB,MAAO,CAACi+F,EAAO39F,EAAG29F,EAAO39F,MAE3B,MAAO,CACH++F,GAAIL,EACJ99F,EAAG+9F,EACHn9F,EAAGo9F,EACHH,SAAUA,EACVK,WAAYA,GA4BlB,MAAO,CAAEzB,IAdT,SAAkBC,EAAOC,GACvB,IAAIa,EAAQf,EAAIC,EAAMC,GAClB5B,EAAQwC,EAAOC,GACfjC,EAbN,SAAgBiC,GACd,IAEoBzrF,EAAG2rD,EAAIC,EAFvBygC,EACCZ,EAAMF,GAAKE,EAAMX,WAAc,EAAIW,EAAMF,IAAME,EAAMV,UAK1D,MAAO,CAAEsB,YAAaA,EAAa/B,OADtB,GAHOtqF,EAGEqsF,EAHC1gC,EAGY8/B,EAAMX,SAHdl/B,EAGwB6/B,EAAMV,SAFhDjX,EAAMuM,KAAKnB,IAAIl/E,GAAK4rD,EAAKD,EAAK3rD,GAAI2rD,EAAK,EAAGC,EAAK,KAS5C0gC,CAAOb,GAGfc,EACA,GAAK,EAAId,EAAMF,MAAQE,EAAMZ,KAAO,GAAMY,EAAc,UAI5D,OAHAA,EAAMx9F,EAAI+6F,EACVyC,EAAM/4F,EAAI82F,EACViC,EAAMc,UAAYA,EACXd,IA5GI,GA4Hf3X,EAAM/uD,OAAO,CACXynE,aAAc,WAMZ,IADA,IAAIC,EAAa,IAAIt6F,MAAMjD,UAAUC,QAC7BpC,EAAE,EAAEA,EAAEmC,UAAUC,OAAOpC,IAAI,CACjC,IAAIoH,EAAQ,CAAC,GACbs4F,EAAW1/F,GAAIoH,EAAMoD,OAAOrI,UAAUnC,IAExC,OAAO+mF,EAAM2Y,IAIfC,cAAe,WAIb,IADA,IAAID,EAAa,IAAIt6F,MAAMjD,UAAU,GAAGC,QAChCpC,EAAE,EAAEA,EAAEmC,UAAU,GAAGC,OAAOpC,IAAI,CACpC,IAAIoH,EAAQ,CAAC,GACbs4F,EAAW1/F,GAAIoH,EAAMoD,OAAOrI,UAAU,GAAGnC,IAE3C,OAAO+mF,EAAM2Y,IAIfE,cAAe,SAAuBC,GAGpC,IADA,IAAIC,EAAO,IAAI16F,MAAMy6F,EAAKz9F,QAClBpC,EAAE,EAAEA,EAAE6/F,EAAKz9F,OAAOpC,IACxB8/F,EAAK9/F,GAAK6/F,EAAK7/F,GAEjB,OAAO+mF,EAAM4Y,cAAcG,IAI7BC,aAAc,SAAsB34F,GAClC,OAAO2/E,EAAM3/E,GAAOwkF,aAGtBoU,cAAe,SAAuBH,GACpC,OAAOA,EAAKjU,aAGdqU,WAAY,SAAoBj1F,EAAEs4D,GAChC,IAAItjE,EAAGwG,EAAGf,EAAGkE,EAAQu4B,EACrB,GAAIl3B,EAAE2hF,QAAUrpB,EAAE96D,OAAQ,CACxB,GAAG86D,EAAE96D,OAAO,EAAE,CAEZ,IADAmB,EAAS,GACJ3J,EAAI,EAAGA,EAAIgL,EAAExC,OAAQxI,IAExB,IADA2J,EAAO3J,GAAK,GACPwG,EAAI,EAAGA,EAAI88D,EAAEqpB,OAAQnmF,IAAK,CAE7B,IADA07B,EAAM,EACDz8B,EAAI,EAAGA,EAAIuF,EAAE2hF,OAAQlnF,IACxBy8B,GAAOl3B,EAAEqiE,UAAUrtE,GAAGyF,GAAK69D,EAAE+J,UAAU5nE,GAAGe,GAE5CmD,EAAO3J,GAAGwG,GAAK07B,EAGnB,OAAO6kD,EAAMp9E,GAGf,IADAA,EAAS,GACJ3J,EAAI,EAAGA,EAAIgL,EAAExC,OAAQxI,IAExB,IADA2J,EAAO3J,GAAK,GACPwG,EAAI,EAAGA,EAAI88D,EAAEqpB,OAAQnmF,IAAK,CAE7B,IADA07B,EAAM,EACDz8B,EAAI,EAAGA,EAAIuF,EAAE2hF,OAAQlnF,IACxBy8B,GAAOl3B,EAAEqiE,UAAUrtE,GAAGyF,GAAK69D,EAAE+J,UAAU7mE,GAEzCmD,EAAO3J,GAAGwG,GAAK07B,EAGnB,OAAO6kD,EAAMp9E,KAMjBu2F,QAAS,SAAiBC,EAAMC,GAG9B,IAAIC,EAAWtZ,EAAMuZ,YAAYH,GAE7BI,EAAUJ,EAAMvU,YAChB7nC,EAAOgjC,EAAMkZ,WAAWlZ,EAAMsZ,GAAUE,GAC5C,OAAOxZ,EAAMkZ,WAAWl8C,EAAKq8C,IAI/BI,SAAU,SAAkBL,EAAMC,EAAMrE,GACtC,IAAIzI,EAAOvM,EAAMmZ,QAAQC,EAAMC,GAE3B7mE,EAAU,CACd,MAAgB,IACZknE,EAAW1Z,EAAM0Z,SAASN,EAAO7M,GACrC/5D,EAAQmnE,KAAOD,EACf,IAAIE,EAAWP,EAAMzwB,OACrBp2C,EAAQqnE,MAAMC,UAAY9Z,EAAM8Z,UAAUT,EAAOK,GAEjDlnE,EAAQqnE,MAAME,IAAM/Z,EAAM+Z,IAAIL,EAAUE,GACxCpnE,EAAQqnE,MAAMG,IAAMxnE,EAAQqnE,MAAME,KAAOX,EAAM,GAAG/9F,OAAS,GAE3Dm3B,EAAQqnE,MAAMI,IAAMja,EAAMia,IAAIZ,EAAOK,GACrClnE,EAAQqnE,MAAMK,IACV1nE,EAAQqnE,MAAMI,KAAOZ,EAAMh+F,QAAU+9F,EAAM,GAAG/9F,OAAS,GAAK,GAEhEm3B,EAAQqnE,MAAMM,IAAMna,EAAMma,IAAId,EAAOO,GACrCpnE,EAAQqnE,MAAMO,IAAM5nE,EAAQqnE,MAAMM,KAAOd,EAAMh+F,OAAS,GAExDm3B,EAAQqnE,MAAMQ,GAAK,EAAK7nE,EAAQqnE,MAAMI,IAAMznE,EAAQqnE,MAAMM,IACtD3nE,EAAQqnE,MAAMQ,GAAK,IAAG7nE,EAAQqnE,MAAMQ,GAAK,GAE7C7nE,EAAQqnE,MAAMS,OAAS9nE,EAAQqnE,MAAMG,IAAMxnE,EAAQqnE,MAAMK,IACzD1nE,EAAQqnE,MAAMrD,OACVxW,EAAMyV,WAAWjjE,EAAQqnE,MAAMS,OACdlB,EAAM,GAAG/9F,OAAS,EAClBg+F,EAAMh+F,QAAU+9F,EAAM,GAAG/9F,OAAS,GAAK,GAE5Dm3B,EAAQqnE,MAAMU,KAAOl7F,KAAK2F,KAAKwtB,EAAQqnE,MAAMK,KAE7C1nE,EAAQqnE,MAAMW,MAAQ,EAAKhoE,EAAQqnE,MAAMK,IAAM1nE,EAAQqnE,MAAMO,IACzD5nE,EAAQqnE,MAAMW,MAAQ,IAAGhoE,EAAQqnE,MAAMW,MAAQ,GAEnDhoE,EAAQ1xB,MAAQ,IAAIzC,MAAM+6F,EAAM,GAAG/9F,QAInC,IAHA,IACIo/F,EAAKv7F,EAAIswF,EADTkL,EAAQ1a,EAAMuZ,YAAYH,GAGtBngG,EAAE,EAAGA,EAAEszF,EAAKlxF,OAAOpC,IACzBwhG,EAAIp7F,KAAK2F,KAAKwtB,EAAQqnE,MAAMK,IAAM76F,KAAK6E,IAAIw2F,EAAMzhG,GAAGA,KACpDiG,EAAIG,KAAK6E,IAAIqoF,EAAKtzF,GAAKwhG,GACvBjL,EAAIxP,EAAMkV,MAAMh2F,EAAIm6F,EAAMh+F,OAAS+9F,EAAM,GAAG/9F,OAAS,EAAG25F,GAExDxiE,EAAQ1xB,MAAM7H,GAAG,CAACszF,EAAKtzF,GAAIwhG,EAAKv7F,EAAIswF,GAItC,OADAh9D,EAAQ2mE,QAAU5M,EACX/5D,GAGTmoE,SAAU,SAAkBvB,GAC1B,OAAOpZ,EAAMkZ,WAAWE,EAAMvU,YAAYuU,IAI5CG,YAAa,SAAqBH,GAChC,IAAIwB,EAAQ5a,EAAMkZ,WAAWE,EAAMvU,YAAYuU,GAE/C,OADepZ,EAAMyM,IAAImO,IAI3BlB,SAAU,SAAkBN,EAAO7M,GACjC,IAAIoN,EAAO3Z,EAAMkZ,WAAWE,EAAO7M,GACnC,OAAO,IAAIvM,EAAM2Z,IAGnBG,UAAW,SAAmBT,EAAOK,GACnC,OAAO1Z,EAAM6a,eAAexB,EAAOK,IAGrCK,IAAK,SAAaL,EAAUE,GAE1B,IADA,IAAIG,EAAM,EACF9gG,EAAI,EAAGA,EAAIygG,EAASr+F,OAAQpC,IAClC8gG,GAAO16F,KAAKyF,IAAI40F,EAASzgG,GAAK2gG,EAAU,GAE1C,OAAOG,GAGTE,IAAK,SAAaZ,EAAOK,GAEvB,IADA,IAAIO,EAAM,EACFhhG,EAAI,EAAGA,EAAIogG,EAAMh+F,OAAQpC,IAC/BghG,GAAO56F,KAAKyF,IAAIu0F,EAAMpgG,GAAKygG,EAASzgG,GAAI,GAE1C,OAAOghG,GAGTE,IAAK,SAAad,EAAOO,GAEvB,IADA,IAAIO,EAAM,EACFlhG,EAAI,EAAGA,EAAIogG,EAAMh+F,OAAQpC,IAC/BkhG,GAAO96F,KAAKyF,IAAIu0F,EAAMpgG,GAAK2gG,EAAU,GAEvC,OAAOO,GAGTU,eAAgB,SAAwB52F,EAAEs4D,GAExC,IADA,IAAI8yB,EAAM,IAAIhxF,MAAM4F,EAAE5I,QACdpC,EAAE,EAAEA,EAAEgL,EAAE5I,OAAOpC,IAAI,CACzBo2F,EAAIp2F,GAAK,IAAIoF,MAAM4F,EAAEhL,GAAGoC,QACxB,IAAI,IAAIoE,EAAE,EAAEA,EAAEwE,EAAEhL,GAAGoC,OAAOoE,IACxB4vF,EAAIp2F,GAAGwG,GAAGwE,EAAEhL,GAAGwG,GAAG88D,EAAEtjE,GAAGwG,GAG3B,OAAOugF,EAAMqP,MAIfrP,EAAMA,MAAQA,EAEPA,I;;;;;;;;;ACvyJT,IAAI8a,EAAU,EAAQ;;;GAMtB/hG,EAAQ43C,KAAO,EAAQ;;;;AAMvB53C,EAAQyF,KAAO,EAAQ;;;;AAKvBzF,EAAQgiG,YAAc,EAAQ;;;;AAM9BhiG,EAAQiiG,WAAa,EAAQ;;;;AAM7BjiG,EAAQkiG,UAAY,EAAQ;;;;AAM5BliG,EAAQkkF,QAAU,EAAQ;;;;AAM1BlkF,EAAQmiG,WAAa,EAAQ;;;;AAM7BniG,EAAQqN,KAAO,EAAQ;;;;AAMvBrN,EAAQoiG,cAAgB,EAAQ;;;;AAMhCpiG,EAAQqiG,IAAM,EAAQ;;;;AAMtBriG,EAAQsiG,YAAcP,EAAQO;;;;AAM9BtiG,EAAQuiG,YAAcR,EAAQQ;;;;AAM9BviG,EAAQ2jF,QAAU,EAAQ;;;;AAM1B3jF,EAAQmwB,YAAc,EAAQ;;;;AAM9BnwB,EAAQwiG,UAAY,EAAQ;;;;AAM5BxiG,EAAQyiG,kBAAoB,EAAQ;;;;AAMpCziG,EAAQ0iG,gBAAkB,EAAQ;;;;AAMlC1iG,EAAQ2iG,mBAAqB,EAAQ;;;;AAMrC3iG,EAAQ4iG,yBAA2B,EAAQ;;;;AAM3C5iG,EAAQ6iG,iBAAmB,EAAQ;;;;AAMnC7iG,EAAQ8iG,gCAAkC,EAAQ;;;;AAMlD9iG,EAAQ+iG,2BAA6B,EAAQ;;;;AAM7C/iG,EAAQgjG,WAAa,EAAQ;;;;AAM7BhjG,EAAQijG,QAAU,EAAQ;;;;AAM1BjjG,EAAQkjG,eAAiB,EAAQ;;;;AAMjCljG,EAAQ41E,eAAiB,EAAQ;;;;AAMjC51E,EAAQwqB,MAAQ,EAAQ,K,6BC7HxB,SAAS+3E,EAAYrgG,EAAKzB,GACxB,OAAI,MAAOyB,GAKJzB,KAAQG,OAAOsB,GAsBxB,SAASihG,EAAUj0C,GAGjB,OAFUA,EAAKtoC,QAAQ,aAAc,QACrB1U,MAAM,mBACTjI,KAAI,SAAoB9I,GACnC,IACIiiG,EADS,cACKpxD,KAAK7wC,GAQvB,OANIiiG,EACO,CAAEljG,EAAG+F,WAAWm9F,EAAK,KAErB,CAAEphG,EAAGb,EAAMylB,QAAQ,eAAgB,UAsBlD,SAASy8E,EAAqBnhG,EAAKohG,EAAQC,GACzC,IAAIC,EAAiBthG,EACjByQ,EAAM,KACV4wF,OAAkC,IAAdA,EAA4BD,EAAOhhG,OAASihG,EAEhE,IAAK,IAAIrjG,EAAI,EAAGA,EAAIqjG,EAAWrjG,IAAK,CAClC,IAAIujG,EAAOH,EAAOpjG,GACdsjG,IAEAA,OADoB,IAAXC,EAAKzhG,EACGwhG,EAAeC,EAAKvjG,GAEpBsjG,EAAeC,EAAKzhG,GAGnC9B,IAAOqjG,EAAY,IACrB5wF,EAAM6wF,IAKZ,OAAO7wF,EAuET,SAAS2vF,EAAYpgG,EAAKgtD,GACxB,IAAIo0C,EAASH,EAAUj0C,GACnB53B,EAAOgsE,EAAOA,EAAOhhG,OAAS,GAC9BwF,EAAO,CACTsf,OAAQk8E,EAAOhhG,OAAS,EAAI+gG,EAAqBnhG,EAAKohG,EAAQA,EAAOhhG,OAAS,GAAKJ,EACnFzB,KAAM62B,EAAKt1B,GAAKs1B,EAAKp3B,EACrBiB,MAAOkiG,EAAqBnhG,EAAKohG,IAInC,OAFAx7F,EAAK47F,OAASnB,EAAYz6F,EAAKsf,OAAQtf,EAAKrH,MAErCqH,EA8ET7H,EAAOD,QAAU,CACfuiG,YAAaA,EACbD,YAAaA,EACbqB,aA/CF,SAAsBzhG,EAAKgtD,GAEzB,OADWozC,EAAYpgG,EAAKgtD,GAChB/tD,OA8CZyiG,aAVF,SAAsB1hG,EAAKgtD,EAAMr0B,GAG/B,OA3IF,SAA8B34B,EAAK24B,EAAKyoE,GAKtC,IAJA,IAAIO,EAAU3hG,EACVqhG,EAAYD,EAAOhhG,OACnBmhG,EAAO,KAEFvjG,EAAI,EAAGA,EAAIqjG,EAAWrjG,IAAK,CAClC,IAAI4jG,EAAW,KACXC,EAAU,KAId,GAHAN,EAAOH,EAAOpjG,GAGVA,IAAOqjG,EAAY,EAGrBM,EAFAC,OAA6B,IAAXL,EAAKzhG,EAAoByhG,EAAKvjG,EAAIujG,EAAKzhG,GAErC64B,OACf,QAAsB,IAAX4oE,EAAKzhG,GAAqB6hG,EAAQJ,EAAKzhG,GACvD6hG,EAAUA,EAAQJ,EAAKzhG,QAClB,QAAsB,IAAXyhG,EAAKvjG,GAAqB2jG,EAAQJ,EAAKvjG,GACvD2jG,EAAUA,EAAQJ,EAAKvjG,OAClB,CAEL,IAAI+jD,EAAOq/C,EAAOpjG,EAAI,GAEtB4jG,OAA6B,IAAXL,EAAKzhG,EAAoByhG,EAAKvjG,EAAIujG,EAAKzhG,EAEzD+hG,OAA4B,IAAX9/C,EAAKjiD,EAAoB,GAAK,GAC/C6hG,EAAQC,GAAYC,EACpBF,EAAUA,EAAQC,KA+GtBE,CAAqB9hG,EAAK24B,EADbsoE,EAAUj0C,IAEhBhtD,K;;;;;;;;;AChRT,IAAImL,EAAO,EAAQ,GAanBpN,EAAOD,QAAU,SAAckC,EAAKw6E,GAClC,IAAIunB,EAAS52F,EAAKnL,EAAK,UACnBu6E,EAAOC,EAAK,GAChB,OAAOunB,GAAUxnB,EAAOA,I;;;;;;ACN1B,IAAI/vE,EAAiB,EAAQ,IACzBW,EAAO,EAAQ,GACf5H,EAAO,EAAQ,IAEnBxF,EAAOD,QAAU,SAAqBkC,EAAK6B,GACzC,IAAImgG,EAAU72F,EAAKnL,EAAK,WACpBiiG,EAAO92F,EAAKnL,EAAK,QAErBgiG,EAAUA,EAAUA,EAAU,KAAO,GAErChiG,EAAMmL,EAAKnL,EAAK,WAChB6B,EAAQA,EAAMkG,KAAI,SAAU7I,GAAK,OAAOA,EAAE+gB,kBACpC3Y,OAGN,IAAI+e,EAAMxkB,EAAMkG,KAAI,SAAU7I,EAAG8D,GAC/B,IAAIk/F,GAAO,CAAE,IAAK,IAAK,IAAK,IAAK,KAAMj/F,QAAQ/D,EAAEuhD,OAAO,IAAM,KAAO,IAErE,OADS5+C,EAAMzB,OAAS,GAAK4C,IAAUnB,EAAMzB,OAAS,EAAI,MAAQ,IACtD8hG,EAAM,IAAMhjG,KACvBomB,KAAK,MAEJ68E,EAAU5+F,EAAKvD,GAAKigB,cAExB,IAAKpe,EAAMugG,MAAK,SAAUC,GAAY,OAAOF,IAAYE,KACvD,MAAM,IAAI73F,EACRw3F,EAAU,yBAA2B37E,EAAM,SAAW87E,EAAU,cAChE9xF,EACA4xF,K;;;;;;;;;ACrCN,IAAI92F,EAAO,EAAQ,GACf60F,EAAY,EAAQ,IACpBC,EAAa,EAAQ,IAqBzBliG,EAAOD,QAAU,SAAoBkC,EAAKw6E,GACxC,IAAIunB,EAAS52F,EAAKnL,EAAK,UACnB24B,EAAMxtB,EAAKnL,EAAK,UAChBqiG,EAAW7nB,EAAK,GAChB8nB,EAAStC,EAAUhgG,EAAKw6E,GACxB+nB,EAAMR,EAASvnB,EAAK,GAAKA,EAAK,GAC9BwnB,EAAU72F,EAAKnL,EAAK,WASxB,MAPkB,mBAARuiG,IAAoBA,EAAMA,KAEpCA,GADAA,EAAMA,GAAO,IAEV79E,QAAQ,cAAc,WAAc,OAAOu7E,EAAWtnE,MACtDjU,QAAQ,aAAa,WAAc,OAAOu7E,EAAWqC,MACrD59E,QAAQ,aAAa,WAAc,OAAOu7E,EAAWoC,MAEjDL,EAAUA,EAAU,KAAOO,EAAMA,I;;;;;;AC7B1CxkG,EAAOD,QAAU,SAAiC4B,GAChD,IAAIiI,EAAS,GACb,IAAK,IAAIpJ,KAAQmB,EACfiI,EAAOrE,KAAK/E,GAEd,OAAOoJ,I;;;;;GChBT,IAAIpE,EAAO,EAAQ,IACnB,SAASi/F,IACPhhG,KAAKihG,KAAO,kBAAoBr+F,KAAKwpE,SAAW5pE,KAAK4tE,MAGvD4wB,EAAQ5iG,UAAY,CAClBf,IAAK,SAAgBU,GACnB,OAAOA,EAAIiC,KAAKihG,OAElBz0E,IAAK,SAAgBzuB,EAAKN,GACpBP,OAAOgkG,aAAanjG,IACtBb,OAAOC,eAAeY,EAAKiC,KAAKihG,KAAM,CACpCxjG,MAAOA,EACPu0E,cAAc,MAMtB,IAAImvB,EAAgC,mBAAZ1iB,QAAyBA,QAAUuiB;;;;;;;;EAS3D,SAASI,EAAeC,EAAiBC,EAAkBC,GAEzD,IAAKA,GAAcC,EAAYH,IAAoBG,EAAYF,GAC7D,OAAO,KAET,IAAIG,EAAcF,EAAWlkG,IAAIgkG,GACjC,GAAII,EAAa,CACf,IAAIt7F,EAASs7F,EAAYpkG,IAAIikG,GAC7B,GAAsB,kBAAXn7F,EACT,OAAOA,EAGX,OAAO;;;;;;;;EAWT,SAASu7F,EAAWL,EAAiBC,EAAkBC,EAAYp7F,GAEjE,GAAKo7F,IAAcC,EAAYH,KAAoBG,EAAYF,GAA/D,CAGA,IAAIG,EAAcF,EAAWlkG,IAAIgkG,GAC7BI,EACFA,EAAYj1E,IAAI80E,EAAkBn7F,KAElCs7F,EAAc,IAAIN,GACN30E,IAAI80E,EAAkBn7F,GAClCo7F,EAAW/0E,IAAI60E,EAAiBI;;;GAuBpC,SAASE,EAAUN,EAAiBC,EAAkBrhG,GAEpD,GAAIA,GAAWA,EAAQ2hG,WACrB,OAAOC,EAAmBR,EAAiBC,EAAkBrhG,GAG/D,IAAI6hG,EAAeC,EAAYV,EAAiBC,GAChD,OAAqB,OAAjBQ,EACKA,EAIFD,EAAmBR,EAAiBC,EAAkBrhG,GAS/D,SAAS8hG,EAAYV,EAAiBC,GAEpC,OAAID,IAAoBC,EAEK,IAApBD,GAAyB,EAAIA,GAAoB,EAAIC,EAK5DD,GAAoBA,GACpBC,GAAqBA,IAOnBE,EAAYH,KAAoBG,EAAYF,IAIzC;;;;;;;;;;;;EAeT,SAASO,EAAmBR,EAAiBC,EAAkBrhG,IAC7DA,EAAUA,GAAW,IACb+hG,SAA8B,IAApB/hG,EAAQ+hG,UAA4B/hG,EAAQ+hG,SAAW,IAAIb,GAC7E,IAAIS,EAAa3hG,GAAWA,EAAQ2hG,WAGhCK,EAAoBb,EAAeC,EAAiBC,EAAkBrhG,EAAQ+hG,SAClF,GAA0B,OAAtBC,EACF,OAAOA,EAET,IAAIC,EAAqBd,EAAeE,EAAkBD,EAAiBphG,EAAQ+hG,SACnF,GAA2B,OAAvBE,EACF,OAAOA,EAIT,GAAIN,EAAY,CACd,IAAIO,EAAmBP,EAAWP,EAAiBC,GAEnD,IAAyB,IAArBa,IAAmD,IAArBA,EAEhC,OADAT,EAAWL,EAAiBC,EAAkBrhG,EAAQ+hG,QAASG,GACxDA,EAIT,IAAIL,EAAeC,EAAYV,EAAiBC,GAChD,GAAqB,OAAjBQ,EAEF,OAAOA,EAIX,IAAIM,EAAergG,EAAKs/F,GACxB,GAAIe,IAAiBrgG,EAAKu/F,GAExB,OADAI,EAAWL,EAAiBC,EAAkBrhG,EAAQ+hG,SAAS,IACxD,EAITN,EAAWL,EAAiBC,EAAkBrhG,EAAQ+hG,SAAS,GAE/D,IAAI77F,EAKN,SAAkCk7F,EAAiBC,EAAkBc,EAAcniG,GACjF,OAAQmiG,GACN,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,OAEH,OAAOT,EAAUN,EAAgB/vD,UAAWgwD,EAAiBhwD,WAC/D,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,QACH,OAAO+vD,IAAoBC,EAC7B,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,oBACL,IAAK,aACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,eACL,IAAK,eACL,IAAK,QACH,OAAOe,EAAchB,EAAiBC,EAAkBrhG,GAC1D,IAAK;;;;;;;;AACH,OAwBN,SAAqBohG,EAAiBC,GACpC,OAAOD,EAAgBt4E,aAAeu4E,EAAiBv4E;;;;;;;;GAzB5Cu5E,CAAYjB,EAAiBC,GACtC,IAAK;;;;;;;;;AACH,OAyFN,SAAwBD,EAAiBC,EAAkBrhG,GACzD,OAAOoiG,EAAcE,EAAoBlB,GAAkBkB,EAAoBjB,GAAmBrhG;;;;;;GA1FvFuiG,CAAenB,EAAiBC,EAAkBrhG,GAC3D,IAAK,WACH,OAAOoiG,EAAc,IAAIxyF,WAAWwxF,EAAgB7xC,QAAS,IAAI3/C,WAAWyxF,EAAiB9xC,QAASvvD,GACxG,IAAK,cACH,OAAOoiG,EAAc,IAAIxyF,WAAWwxF,GAAkB,IAAIxxF,WAAWyxF,GAAmBrhG,GAC1F,IAAK,MAEL,IAAK,MACH,OAAOwiG,EAAapB,EAAiBC,EAAkBrhG,GACzD;;;;;;;;;;AACE,OAiLN,SAAqBohG,EAAiBC,EAAkBrhG,GACtD,IAAIyiG,EAAeC,EAAkBtB,GACjCuB,EAAgBD,EAAkBrB,GACtC,GAAIoB,EAAa9jG,QAAU8jG,EAAa9jG,SAAWgkG,EAAchkG,OAG/D,OAFA8jG,EAAa58F,OACb88F,EAAc98F,QACqC,IAA/Cu8F,EAAcK,EAAcE;;;;;;;;;;;AA7BpC,SAAmBvB,EAAiBC,EAAkB/gG,EAAMN,GAC1D,IAAIrB,EAAS2B,EAAK3B,OAClB,GAAe,IAAXA,EACF,OAAO,EAET,IAAK,IAAIpC,EAAI,EAAGA,EAAIoC,EAAQpC,GAAK,EAC/B,IAAgF,IAA5EmlG,EAAUN,EAAgB9gG,EAAK/D,IAAK8kG,EAAiB/gG,EAAK/D,IAAKyD,GACjE,OAAO,EAGX,OAAO,EAsBE4iG,CAAUxB,EAAiBC,EAAkBoB,EAAcziG,GAGpE,IAAI6iG,EAAkBC,EAAmB1B,GACrC2B,EAAmBD,EAAmBzB,GAC1C,GAAIwB,EAAgBlkG,QAAUkkG,EAAgBlkG,SAAWokG,EAAiBpkG,OAGxE,OAFAkkG,EAAgBh9F,OAChBk9F,EAAiBl9F,OACVu8F,EAAcS,EAAiBE,EAAkB/iG,GAG1D,GAA4B,IAAxByiG,EAAa9jG,QACc,IAA3BkkG,EAAgBlkG,QACS,IAAzBgkG,EAAchkG,QACc,IAA5BokG,EAAiBpkG,OACnB,OAAO,EAGT,OAAO;;;;;;;;;GA5MIqkG,CAAY5B,EAAiBC,EAAkBrhG,IA7C7CijG,CAAyB7B,EAAiBC,EAAkBc,EAAcniG,GAEvF,OADAyhG,EAAWL,EAAiBC,EAAkBrhG,EAAQ+hG,QAAS77F,GACxDA,EAoET,SAASs8F,EAAapB,EAAiBC,EAAkBrhG,GAEvD,GAAIohG,EAAgBlhG,OAASmhG,EAAiBnhG,KAC5C,OAAO,EAET,GAA6B,IAAzBkhG,EAAgBlhG,KAClB,OAAO,EAET,IAAIgjG,EAAgB,GAChBC,EAAiB,GAOrB,OANA/B,EAAgBjgG,SAAQ,SAAuBrD,EAAKN,GAClD0lG,EAAcrhG,KAAK,CAAE/D,EAAKN,OAE5B6jG,EAAiBlgG,SAAQ,SAAuBrD,EAAKN,GACnD2lG,EAAethG,KAAK,CAAE/D,EAAKN,OAEtB4kG,EAAcc,EAAcr9F,OAAQs9F,EAAet9F,OAAQ7F;;;;;;;;GAYpE,SAASoiG,EAAchB,EAAiBC,EAAkBrhG,GACxD,IAAIrB,EAASyiG,EAAgBziG,OAC7B,GAAIA,IAAW0iG,EAAiB1iG,OAC9B,OAAO,EAET,GAAe,IAAXA,EACF,OAAO,EAGT,IADA,IAAI4C,GAAS,IACJA,EAAQ5C,GACf,IAA4E,IAAxE+iG,EAAUN,EAAgB7/F,GAAQ8/F,EAAiB9/F,GAAQvB,GAC7D,OAAO,EAGX,OAAO;;;;;;;;AAoCT,SAAS8iG,EAAmBnxD,GAC1B,GAfF,SAA6BA,GAC3B,MAAyB,oBAAXr0C,QACM,iBAAXq0C,QACoB,IAApBr0C,OAAOuhF,UACqB,mBAA5BltC,EAAOr0C,OAAOuhF,UAWnBukB,CAAoBzxD,GACtB,IACE,OAAO2wD,EAAoB3wD,EAAOr0C,OAAOuhF,aACzC,MAAOwkB,GACP,MAAO,GAGX,MAAO;;;;;;GAST,SAASf,EAAoBgB,GAG3B,IAFA,IAAIC,EAAkBD,EAAUhjD,OAC5BkjD,EAAc,CAAED,EAAgB/lG,QACJ,IAAzB+lG,EAAgB1zB,MACrB0zB,EAAkBD,EAAUhjD,OAC5BkjD,EAAY3hG,KAAK0hG,EAAgB/lG,OAEnC,OAAOgmG;;;;;;GAST,SAASd,EAAkB/wD,GACzB,IAAIrxC,EAAO,GACX,IAAK,IAAIxC,KAAO6zC,EACdrxC,EAAKuB,KAAK/D,GAEZ,OAAOwC,EA2ET,SAASihG,EAAY/jG,GACnB,OAAiB,OAAVA,GAAmC,iBAAVA,EAvXlClB,EAAOD,QAAUqlG,EACjBplG,EAAOD,QAAQ6kG,WAAaA,G;;;;;;ACzE5B,IAAIuC,EAAO,EAAQ,GACf/5F,EAAO,EAAQ,GACfuoE,EAAiB,EAAQ,IACzBwsB,EAAgB,EAAQ,GA4B5BniG,EAAOD,QAAU,SAAqBwP,EAAK/O,EAAMC,GAC/CA,OAAoB6R,IAAX7R,EAAuB,aAAiBA,EAEjDE,OAAOC,eAAe2O,EAAK/O,EACzB,CAAEM,IAAK,SAASsmG,IAgBPzxB,KAAqBvoE,EAAK3J,KAAM,aACnC2J,EAAK3J,KAAM,OAAQ2jG,GAGrB,IAAIx9F,EAASnJ,EAAOL,KAAKqD,MACzB,QAAe6O,IAAX1I,EACF,OAAOA,EAET,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,GAET5xB,cAAc,M;;;;;;AC/DpB,IAAIwtB,EAAiB,EAAQ,IACzBkE,EAAO,EAAQ,GACf/5F,EAAO,EAAQ,GACf41F,EAAU,EAAQ,IAClBb,EAAgB,EAAQ,GA4B5BniG,EAAOD,QAAU,SAAmBwP,EAAK/O,EAAMu9B,GAC7C,IAAIwpE,EAAgB,WAabn6F,EAAK3J,KAAM,aACd2J,EAAK3J,KAAM,OAAQ8jG,GAGrB,IAAI39F,EAASm0B,EAAOj0B,MAAMrG,KAAMrB,WAChC,QAAekQ,IAAX1I,EACF,OAAOA,EAET,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,GAGTpE,EAAesE,EAAe/mG,GAAM,GACpC+O,EAAI/O,GAAQwiG,EAAQuE,EAAe/mG,K;;;;;;AC5DrC,IAAI2mG,EAAO,EAAQ,GACf/5F,EAAO,EAAQ,GACfuoE,EAAiB,EAAQ,IACzBwsB,EAAgB,EAAQ,GAoC5BniG,EAAOD,QAAU,SAA2BwP,EAAK/O,EAAMC,GACrD,IAAI+mG,EAAO7mG,OAAO20E,yBAAyB/lE,EAAK/O,GAC5C6vB,EAAS,aAETm3E,GAAQ,mBAAsBA,EAAK1mG,MACrCuvB,EAASm3E,EAAK1mG,KAEhBH,OAAOC,eAAe2O,EAAK/O,EACzB,CAAEM,IAAK,SAAS2mG,IAgBP9xB,KAAqBvoE,EAAK3J,KAAM,aACnC2J,EAAK3J,KAAM,OAAQgkG,GAMrB,IAAIC,EAAet6F,EAAK3J,KAAM,YAC9B2J,EAAK3J,KAAM,YAAY,GACvB,IAAImG,EAASnJ,EAAO4vB,GAAQjwB,KAAKqD,MAGjC,GAFA2J,EAAK3J,KAAM,WAAYikG,QAERp1F,IAAX1I,EACF,OAAOA,EAGT,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,GAET5xB,cAAc,M;;;;;;ACnFpB,IAAIwtB,EAAiB,EAAQ,IACzBkE,EAAO,EAAQ,GACf/5F,EAAO,EAAQ,GACf41F,EAAU,EAAQ,IAClBb,EAAgB,EAAQ,GAoC5BniG,EAAOD,QAAU,SAAyBwP,EAAK/O,EAAMu9B,GACnD,IAAI4pE,EAAUp4F,EAAI/O,GACd6vB,EAAS,WACT,MAAM,IAAIlrB,MAAM3E,EAAO,uBAGvBmnG,GAAW,mBAAsBA,IACnCt3E,EAASs3E,GAEX,IAAIC,EAA2B,WAaxBx6F,EAAK3J,KAAM,aACd2J,EAAK3J,KAAM,OAAQmkG,GAMrB,IAAIF,EAAet6F,EAAK3J,KAAM,YAC9B2J,EAAK3J,KAAM,YAAY,GACvB,IAAImG,EAASm0B,EAAO1N,GAAQvmB,MAAMrG,KAAMrB,WAGxC,GAFAgL,EAAK3J,KAAM,WAAYikG,QAERp1F,IAAX1I,EACF,OAAOA,EAGT,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,GAGTpE,EAAe2E,EAA0BpnG,GAAM,GAC/C+O,EAAI/O,GAAQwiG,EAAQ4E,EAA0BpnG,K;;;;;;;;;AChFhD,IAAIyiG,EAAiB,EAAQ,IACzBkE,EAAO,EAAQ,GACf/5F,EAAO,EAAQ,GACf41F,EAAU,EAAQ,IAClBb,EAAgB,EAAQ,GAOxB0F,EAAmD,mBAA1BlnG,OAAOmnG,eAIhCC,EAAS,aACTC,EAAernG,OAAOkmF,oBAAoBkhB,GAAQl9F,QAAO,SAASrK,GACpE,IAAIynG,EAAWtnG,OAAO20E,yBAAyByyB,EAAQvnG,GAMvD,MAAwB,iBAAbynG,IAGHA,EAASxyB,gBAIfr1E,EAAQ44B,SAASn3B,UAAUzB,KAC3B0J,EAAQkvB,SAASn3B,UAAUiI,MA+B/B9J,EAAOD,QAAU,SAA4BwP,EAAK/O,EAAMu9B,EAAQmqE,GAC9B,mBAArBA,IACTA,EAAmB,cAGrB,IAAIC,EAAoB,CACpBpqE,OAAQA,EACRmqE,iBAAkBA,GAIjB34F,EAAI64F,YACP74F,EAAI64F,UAAY,IAElB74F,EAAI64F,UAAU5nG,GAAQ2nG,EAEtBxnG,OAAOC,eAAe2O,EAAK/O,EACzB,CAAEM,IAAK,WACHqnG,EAAkBD,iBAAiB9nG,KAAKqD,MAExC,IAAI4kG,EAAyB,WAgBtBj7F,EAAK3J,KAAM,aACd2J,EAAK3J,KAAM,OAAQ4kG,GAGrB,IAAIz+F,EAASu+F,EAAkBpqE,OAAOj0B,MAAMrG,KAAMrB,WAClD,QAAekQ,IAAX1I,EACF,OAAOA,EAGT,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,GAMT,GAHApE,EAAeoF,EAAwB7nG,GAAM,GAGzCqnG,EAAiB,CAEnB,IAAIhmG,EAAYlB,OAAOY,OAAOkC,MAE9B5B,EAAUzB,KAAOA,EACjByB,EAAUiI,MAAQA,EAClBnJ,OAAOmnG,eAAeO,EAAwBxmG,OAG3C,CACiBlB,OAAOkmF,oBAAoBt3E,GACjC1K,SAAQ,SAAUyjG,GAC9B,IAA4C,IAAxCN,EAAa9iG,QAAQojG,GAAzB,CAIA,IAAIC,EAAK5nG,OAAO20E,yBAAyB/lE,EAAK+4F,GAC9C3nG,OAAOC,eAAeynG,EAAwBC,EAAcC,OAKhE,OADApG,EAAc1+F,KAAM4kG,GACbrF,EAAQqF,IAEjB5yB,cAAc,M;;;;;;AC/IpB,IAAI0xB,EAAO,EAAQ,GACfhF,EAAgB,EAAQ,GAmC5BniG,EAAOD,QAAU,SAAkCwP,EAAK/O,EAAMu9B,EAAQmqE,GACpE,IAAIC,EAAoB54F,EAAI64F,UAAU5nG,GAElCgoG,EAAoBL,EAAkBD,iBAC1CC,EAAkBD,iBAAmB,WACnC,IAAIt+F,EAASs+F,EAAiBM,GAAmBpoG,KAAKqD,MACtD,QAAe6O,IAAX1I,EACF,OAAOA,EAGT,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,GAGT,IAAIM,EAAUQ,EAAkBpqE,OAChCoqE,EAAkBpqE,OAAS,WACzB,IAAIn0B,EAASm0B,EAAO4pE,GAAS79F,MAAMrG,KAAMrB,WACzC,QAAekQ,IAAX1I,EACF,OAAOA,EAGT,IAAIy9F,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc1+F,KAAM4jG,GACbA,K;;;;;;;;;ACxDX,IAAIpjB,EAAU,EAAQ,IAkBtBjkF,EAAOD,QAAU,SAA0ByJ,EAAGC,GAC5C,OAAOw6E,EAAQz6E,GAAKy6E,EAAQx6E,IAAM,EAAI,I;;;;;;;;;ACnBxC,IAAIo5F,EAAkC,EAAQ,IAgB9C7iG,EAAOD,QAAU,SAAoCkC,GACnD,OAAOtB,OAAOqD,KAAK/B,GAAKwI,OAAOo4F,EAAgC5gG,M,6BCwEjE,IAAI0kF,EAAoB,yDACxB,SAAS8hB,EAAgBC,GACvB,IAAIloG,EAAO,GACX,QAAkC,IAAvBkoG,EAAcloG,KAAsB,CAE7C,IAAIyR,EAAQmlC,OAAOsxD,GAAez2F,MAAM00E,GACpC10E,IACFzR,EAAOyR,EAAM,SAGfzR,EAAOkoG,EAAcloG,KAGvB,OAAOA,EAqDTR,EAAOD,QAAU,CACf4oG,mBAxIF,SAA4BC,EAAQC,GAClC,OAAOA,aAAqB1jG,OAASyjG,IAAWC,GAwIhDC,sBArHF,SAA+BF,EAAQC,GACrC,OAAIA,aAAqB1jG,MAEhByjG,EAAOlnE,cAAgBmnE,EAAUnnE,aAAeknE,aAAkBC,EAAUnnE,aAC1EmnE,EAAUhnG,qBAAqBsD,OAAS0jG,IAAc1jG,SAExDyjG,EAAOlnE,cAAgBmnE,GAAaD,aAAkBC,IAgH/DE,kBA5FF,SAA2BH,EAAQI,GACjC,IAAIC,EAAqC,iBAAXL,EAAsBA,EAASA,EAAOxiB,QACpE,OAAI4iB,aAAsBnwE,OACjBmwE,EAAWrxD,KAAKsxD,GACQ,iBAAfD,IACiC,IAA1CC,EAAiB/jG,QAAQ8jG,IAwFlChH,WAfF,SAAoB6G,GAClB,IAAIrE,EAAM,GAOV,OANIqE,GAAaA,EAAUziB,QACzBoe,EAAMqE,EAAUziB,QACc,iBAAdyiB,IAChBrE,EAAMqE,GAGDrE,GAQP0E,mBA5CF,SAA4BL,GAC1B,IAAIM,EAAkBN,EAWtB,OAVIA,aAAqB1jG,MACvBgkG,EAAkBV,EAAgBI,EAAUnnE,aACd,mBAAdmnE,IAIhBM,EAAkBV,EAAgBI,GAAW/2D,QACzC22D,EAAgB,IAAII,IAGnBM,K,cCjHTnpG,EAAOD,QAAU+N,OAAOyc;;;;;;AAPxB,SAAerpB,GAGb,OAAOA,GAAUA,I;;;;;;;ACdnB,IAAI2L,EAAS,EAAQ,GAErB7M,EAAOD,QAAU,SAAUqpG,EAAO18F;;;;AAKhC,IAAID,EAAiB28F,EAAM38F,eACvBW,EAAOV,EAAKU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8ChB,SAASk6F,EAAWrlG,EAAKuiG,EAAKN,EAAMmF,GAMlC,OALAj8F,EAAK3J,KAAM,OAAQygG,GAAQoD,GAC3Bl6F,EAAK3J,KAAM,WAAY4lG,GACvBj8F,EAAK3J,KAAM,SAAUxB,GACrBmL,EAAK3J,KAAM,UAAW+gG,GAEf93F,EAAKs2F,QAAQv/F,MA9CtB2lG,EAAM9B,UAAYA,EAiDlB3mG,OAAOC,eAAe0mG,EAAW,eAAgB,CAC/CxmG,IAAK,WAEH,OADAiG,QAAQm8B,KAAK,+EACNr2B,EAAOg1B,cAEhB5R,IAAK,SAAS/uB,GACZ6F,QAAQm8B,KAAK,+EACbr2B,EAAOg1B,aAAe3gC,KAI1BP,OAAOC,eAAe0mG,EAAW,WAAY,CAC3CxmG,IAAK,WAEH,OADAiG,QAAQm8B,KAAK,uEACNr2B,EAAOi1B,UAEhB7R,IAAK,SAAS/uB,GACZ6F,QAAQm8B,KAAK,uEACbr2B,EAAOi1B,SAAW5gC,KAItBomG,EAAUp3E,YAAc,SAAU1vB,EAAMoM,GACtCF,EAAKwjB,YAAYzsB,KAAK5B,UAAWrB,EAAMoM,IAGzC06F,EAAU/E,UAAY,SAAU/hG,EAAMoM,GACpCF,EAAK61F,UAAU9+F,KAAK5B,UAAWrB,EAAMoM,IAGvC06F,EAAU5E,mBAAqB,SAAUliG,EAAMoM,EAAIs7F,GACjDx7F,EAAKg2F,mBAAmBj/F,KAAK5B,UAAWrB,EAAMoM,EAAIs7F,IAGpDZ,EAAU9E,kBAAoB,SAAUhiG,EAAMoM,GAC5CF,EAAK81F,kBAAkB/+F,KAAK5B,UAAWrB,EAAMoM,IAG/C06F,EAAU7E,gBAAkB,SAAUjiG,EAAMoM,GAC1CF,EAAK+1F,gBAAgBh/F,KAAK5B,UAAWrB,EAAMoM,IAG7C06F,EAAU3E,yBAA2B,SAAUniG,EAAMoM,EAAIs7F,GACvDx7F,EAAKi2F,yBAAyBl/F,KAAK5B,UAAWrB,EAAMoM,EAAIs7F,IAkB1DZ,EAAUzlG,UAAUqL,OAAS,SAAUsvE,EAAMgoB,EAAK8E,EAAWhF,EAAUiF,EAASznE,GAC9E,IAAI0nE,EAAK98F,EAAKirC,KAAKl0C,KAAMrB,WAKzB,IAJI,IAAU0/B,IAAUA,GAAW,QAC/BxvB,IAAcgyF,QAAYhyF,IAAci3F,IAASznE,GAAW,IAC5D,IAASj1B,EAAOi1B,WAAUA,GAAW,IAEpC0nE,EAAI,CACPhF,EAAM93F,EAAKs1F,WAAWv+F,KAAMrB,WAC5B,IAAImiG,EAAS73F,EAAKu1F,UAAUx+F,KAAMrB,WAClC,MAAM,IAAIqK,EAAe+3F,EAAK,CAC1BD,OAAQA,EACRD,SAAUA,EACVxiE,SAAUA,GACVj1B,EAAmB,aAAIpJ,KAAKyJ,OAASE,EAAK3J,KAAM;;;;;;;;AAYxD9C,OAAOC,eAAe0mG,EAAUzlG,UAAW,OACzC,CAAEf,IAAK,WACH,OAAOsM,EAAK3J,KAAM,WAEpBwsB,IAAK,SAAU2K,GACbxtB,EAAK3J,KAAM,SAAUm3B,Q;;;;;;;AC1J7B56B,EAAOD,QAAU,SAAUonG,EAAMv9E,GAC/B,IAAI09E,EAAYH,EAAKG,UACjB76F,EAAiB06F,EAAK16F,eACtBW,EAAOwc,EAAExc,KAiSb,SAASkiF,EAAI9pF,EAAMg/F,GACbA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/Bh/F,EAAOA,EAAK0c,cACZ,IAAIjgB,EAAMmL,EAAK3J,KAAM,UACjBgmG,GAAW,CAAE,IAAK,IAAK,IAAK,IAAK,KAAMvkG,QAAQM,EAAKk9C,OAAO,IAAM,MAAQ,KAE7Ej/C,KAAKyJ,OACD1H,IAASokB,EAAEpkB,KAAKvD,GAAKigB,cACrB,0BAA4BunF,EAAUjkG,EACtC,8BAAgCikG,EAAUjkG,GA0JhD,SAASkkG,EAAclgG,EAAGC,GACxB,OAAQmgB,EAAEW,MAAM/gB,IAAMogB,EAAEW,MAAM9gB,IAAOD,IAAMC,EAG7C,SAASkgG,IACPv8F,EAAK3J,KAAM,YAAY,GAGzB,SAASmmG,EAAShvE,EAAK4pE,GACjBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAE/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACjB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB+hF,EAAU72F,EAAK3J,KAAM,WACrBugG,EAAS52F,EAAK3J,KAAM,UACpBygG,EAAO92F,EAAK3J,KAAM,QAClBomG,EAASz8F,EAAK3J,KAAM,QACpBqmG,EAAaD,EAAS,QAAU,GAEpC5F,EAAUA,EAAUA,EAAU,KAAO,GAErC,IAAI8F,GAAW,EAEf,OAAQ3F,GACN,IAAK,SACH2F,GAAiC,IAAtB9nG,EAAIiD,QAAQ01B,GACvB,MAEF,IAAK,UACH,GAAIivE,EACF,MAAM,IAAIp9F,EACRw3F,EAAU,gDACV3xF,EACA4xF,GAIJ6F,EAAW9nG,EAAIukC,IAAI5L,GACnB,MAEF,IAAK,MACH,IAAIovE,EAAQH,EAASjgF,EAAEw4E,IAAMsH,EAC7BznG,EAAI4C,SAAQ,SAAUolG,GACpBF,EAAWA,GAAYC,EAAMC,EAAMrvE,MAErC,MAEF,IAAK,MACCivE,EACF5nG,EAAI4C,SAAQ,SAAUolG,GACpBF,EAAWA,GAAYngF,EAAEw4E,IAAI6H,EAAMrvE,MAGrCmvE,EAAW9nG,EAAIukC,IAAI5L,GAErB,MAEF,IAAK,QAEDmvE,EADEF,EACS5nG,EAAIoiG,MAAK,SAAU4F,GAC5B,OAAOrgF,EAAEw4E,IAAI6H,EAAMrvE,OAGY,IAAtB34B,EAAIiD,QAAQ01B,GAEzB,MAEF,QAIE,GAAIA,IAAQj6B,OAAOi6B,GACjB,MAAM,IAAInuB,EACRw3F,EAAU,wFACmCG,EAAU,cACvD9xF,EACA4xF,GAIJ,IAAIh9F,EAAQvG,OAAOqD,KAAK42B,GACpBsvE,EAAW,KACXC,EAAU,EA2Bd,GAzBAjjG,EAAMrC,SAAQ,SAAU2qB,GACtB,IAAI46E,EAAgB,IAAI9C,EAAUrlG,GAIlC,GAHA2nB,EAAEu4E,cAAc1+F,KAAM2mG,GAAe,GACrCh9F,EAAKg9F,EAAe,YAAY,GAE3BpG,GAA2B,IAAjB98F,EAAM7E,OAKrB,IACE+nG,EAAcxoG,SAAS4tB,EAAMoL,EAAIpL,IACjC,MAAO0P,GACP,IAAKtV,EAAEm5E,WAAW+F,sBAAsB5pE,EAAKzyB,GAC3C,MAAMyyB,EAES,OAAbgrE,IAAmBA,EAAWhrE,GAClCirE,SAXAC,EAAcxoG,SAAS4tB,EAAMoL,EAAIpL,MAalC/rB,MAMCugG,GAAU98F,EAAM7E,OAAS,GAAK8nG,IAAYjjG,EAAM7E,OAClD,MAAM6nG,EAER,OAIJzmG,KAAKyJ,OACH68F,EACE,uBAAyBD,EAAa,WAAalgF,EAAEq6D,QAAQrpD,GAC7D,2BAA6BkvE,EAAa,WAAalgF,EAAEq6D,QAAQrpD,IAyXvE,SAASyvE,IACP,IAAIpoG,EAAMmL,EAAK3J,KAAM,UACjB+B,EAAOokB,EAAEpkB,KAAKvD,GAClBwB,KAAKyJ,OACD,cAAgB1H,EAChB,4CAA8CA,EAC9C,wCAoDN,SAAS8kG,EAAa1vE,EAAK4pE,GACrBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACrB,GAAI2J,EAAK3J,KAAM,QAAS,CACtB,IAAI8mG,EAAen9F,EAAK3J,KAAM,YAC9B2J,EAAK3J,KAAM,YAAY,GACvBA,KAAK2+F,IAAIxnE,GACTxtB,EAAK3J,KAAM,WAAY8mG,QAEvB9mG,KAAKyJ,OACD0tB,IAAQ34B,EACR,mCACA,uCACA24B,EACAn3B,KAAKijF,MACL,GAkDR,SAAS8jB,EAAUvoG,EAAKuiG,GAClBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B/gG,KAAKyJ,OACD0c,EAAEw4E,IAAIngG,EAAKmL,EAAK3J,KAAM,WACtB,0CACA,8CACAxB,EACAwB,KAAKijF,MACL,GAkDN,SAAS+jB,EAAa/oG,EAAG8iG,GACnBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAOIkG,EAPAzoG,EAAMmL,EAAK3J,KAAM,UACjBknG,EAAWv9F,EAAK3J,KAAM,YACtBwgG,EAAU72F,EAAK3J,KAAM,WACrBmnG,EAAa,EAAY3G,EAAU,KAAO,GAC1CC,EAAO92F,EAAK3J,KAAM,QAClB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB2oF,EAAQjhF,EAAEpkB,KAAK9D,GAAGwgB,cAElB4oF,GAAc,EAMlB,GAJIH,GAAwB,QAAZvG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS,UAGtD+oG,GAAyB,SAAZvG,GAAgC,SAAVyG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZvG,EAEvC,GAAKuG,GAAyB,SAAZvG,GAAkC,WAAZA,EAI7C0G,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZxG,EAAwB,IAAMniG,EAAM,IAAMA,GACN,iCAHpDyoG,EAAeE,EAAY,8CAF3BF,EAAeE,EAAY,uCAU7B,GAAIE,EACF,MAAM,IAAIr+F,EAAei+F,OAAcp4F,EAAW4xF,GAGpD,GAAIyG,EAAU,CACZ,IACIK,EADAlB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbkB,EAAa/oG,EAAI2B,MAEjBonG,EAAa/oG,EAAII,OAEnBoB,KAAKyJ,OACD89F,EAAatpG,EACb,8BAAgCooG,EAAa,+BAC7C,kCAAoCA,EAAa,gBACjDpoG,EACAspG,QAGJvnG,KAAKyJ,OACDjL,EAAMP,EACN,sCACA,wCACAA,GAmDR,SAASupG,EAAavpG,EAAG8iG,GACnBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAOIkG,EAPAzoG,EAAMmL,EAAK3J,KAAM,UACjBknG,EAAWv9F,EAAK3J,KAAM,YACtBwgG,EAAU72F,EAAK3J,KAAM,WACrBmnG,EAAa,EAAY3G,EAAU,KAAO,GAC1CC,EAAO92F,EAAK3J,KAAM,QAClB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB2oF,EAAQjhF,EAAEpkB,KAAK9D,GAAGwgB,cAElB4oF,GAAc,EAMlB,GAJIH,GAAwB,QAAZvG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS,UAGtD+oG,GAAyB,SAAZvG,GAAgC,SAAVyG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZvG,EAEvC,GAAKuG,GAAyB,SAAZvG,GAAkC,WAAZA,EAI7C0G,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZxG,EAAwB,IAAMniG,EAAM,IAAMA,GACN,iCAHpDyoG,EAAeE,EAAY,8CAF3BF,EAAeE,EAAY,uCAU7B,GAAIE,EACF,MAAM,IAAIr+F,EAAei+F,OAAcp4F,EAAW4xF,GAGpD,GAAIyG,EAAU,CACZ,IACIK,EADAlB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbkB,EAAa/oG,EAAI2B,MAEjBonG,EAAa/oG,EAAII,OAEnBoB,KAAKyJ,OACD89F,GAActpG,EACd,8BAAgCooG,EAAa,kCAC7C,8BAAgCA,EAAa,gBAC7CpoG,EACAspG,QAGJvnG,KAAKyJ,OACDjL,GAAOP,EACP,yCACA,sCACAA,GAmDR,SAASwpG,EAAaxpG,EAAG8iG,GACnBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAOIkG,EAPAzoG,EAAMmL,EAAK3J,KAAM,UACjBknG,EAAWv9F,EAAK3J,KAAM,YACtBwgG,EAAU72F,EAAK3J,KAAM,WACrBmnG,EAAa,EAAY3G,EAAU,KAAO,GAC1CC,EAAO92F,EAAK3J,KAAM,QAClB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB2oF,EAAQjhF,EAAEpkB,KAAK9D,GAAGwgB,cAElB4oF,GAAc,EAMlB,GAJIH,GAAwB,QAAZvG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS,UAGtD+oG,GAAyB,SAAZvG,GAAgC,SAAVyG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZvG,EAEvC,GAAKuG,GAAyB,SAAZvG,GAAkC,WAAZA,EAI7C0G,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZxG,EAAwB,IAAMniG,EAAM,IAAMA,GACN,iCAHpDyoG,EAAeE,EAAY,8CAF3BF,EAAeE,EAAY,uCAU7B,GAAIE,EACF,MAAM,IAAIr+F,EAAei+F,OAAcp4F,EAAW4xF,GAGpD,GAAIyG,EAAU,CACZ,IACIK,EADAlB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbkB,EAAa/oG,EAAI2B,MAEjBonG,EAAa/oG,EAAII,OAEnBoB,KAAKyJ,OACD89F,EAAatpG,EACb,8BAAgCooG,EAAa,+BAC7C,kCAAoCA,EAAa,gBACjDpoG,EACAspG,QAGJvnG,KAAKyJ,OACDjL,EAAMP,EACN,sCACA,yCACAA,GAmDR,SAASypG,EAAYzpG,EAAG8iG,GAClBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAOIkG,EAPAzoG,EAAMmL,EAAK3J,KAAM,UACjBknG,EAAWv9F,EAAK3J,KAAM,YACtBwgG,EAAU72F,EAAK3J,KAAM,WACrBmnG,EAAa,EAAY3G,EAAU,KAAO,GAC1CC,EAAO92F,EAAK3J,KAAM,QAClB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB2oF,EAAQjhF,EAAEpkB,KAAK9D,GAAGwgB,cAElB4oF,GAAc,EAMlB,GAJIH,GAAwB,QAAZvG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS,UAGtD+oG,GAAyB,SAAZvG,GAAgC,SAAVyG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZvG,EAEvC,GAAKuG,GAAyB,SAAZvG,GAAkC,WAAZA,EAI7C0G,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZxG,EAAwB,IAAMniG,EAAM,IAAMA,GACN,iCAHpDyoG,EAAeE,EAAY,6CAF3BF,EAAeE,EAAY,sCAU7B,GAAIE,EACF,MAAM,IAAIr+F,EAAei+F,OAAcp4F,EAAW4xF,GAGpD,GAAIyG,EAAU,CACZ,IACIK,EADAlB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbkB,EAAa/oG,EAAI2B,MAEjBonG,EAAa/oG,EAAII,OAEnBoB,KAAKyJ,OACD89F,GAActpG,EACd,8BAAgCooG,EAAa,iCAC7C,8BAAgCA,EAAa,gBAC7CpoG,EACAspG,QAGJvnG,KAAKyJ,OACDjL,GAAOP,EACP,wCACA,sCACAA,GAoJR,SAAS0pG,EAAkB1pE,EAAa8iE,GAClCA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAE/B,IAAInvD,EAASjoC,EAAK3J,KAAM,UACpBygG,EAAO92F,EAAK3J,KAAM,QAClBwgG,EAAU72F,EAAK3J,KAAM,WAEzB,IACE,IAAI4nG,EAAeh2D,aAAkB3T,EACrC,MAAOxC,GACP,GAAIA,aAAeytD,UAEjB,MAAM,IAAIlgF,GADVw3F,EAAUA,EAAUA,EAAU,KAAO,IAEzB,oDACNr6E,EAAEpkB,KAAKk8B,GAAe,mBAC1BpvB,EACA4xF,GAGJ,MAAMhlE,EAGR,IAAI1+B,EAAOopB,EAAE85D,QAAQhiD,GACR,OAATlhC,IACFA,EAAO,0BAGTiD,KAAKyJ,OACDm+F,EACA,yCAA2C7qG,EAC3C,6CAA+CA,GAuHrD,SAAS8qG,EAAgB9qG,EAAMo6B,EAAK4pE,GAC9BA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAE/B,IAAI+G,EAAWn+F,EAAK3J,KAAM,UACtB+nG,EAAQp+F,EAAK3J,KAAM,OACnBwgG,EAAU72F,EAAK3J,KAAM,WACrBxB,EAAMmL,EAAK3J,KAAM,UACjBygG,EAAO92F,EAAK3J,KAAM,QAClBgoG,SAAkBjrG,EAItB,GAFAyjG,EAAUA,EAAUA,EAAU,KAAO,GAEjCsH,GACF,GAAiB,WAAbE,EACF,MAAM,IAAIh/F,EACRw3F,EAAU,0EACV3xF,EACA4xF,QAIJ,GAAiB,WAAbuH,GAAsC,WAAbA,GAAsC,WAAbA,EACpD,MAAM,IAAIh/F,EACRw3F,EAAU,oEACV3xF,EACA4xF,GAKN,GAAIqH,GAAYC,EACd,MAAM,IAAI/+F,EACRw3F,EAAU,wDACV3xF,EACA4xF,GAIJ,GAAIjiG,QACF,MAAM,IAAIwK,EACRw3F,EAAU,2CACV3xF,EACA4xF,GAIJ,IAWI5B,EAXAuH,EAASz8F,EAAK3J,KAAM,QACpBugG,EAAS52F,EAAK3J,KAAM,UACpBioG,EAAWH,EAAW3hF,EAAEy4E,YAAYpgG,EAAKzB,GAAQ,KACjDU,EAAQqqG,EAAWG,EAASxqG,MAAQe,EAAIzB,GAExCspG,EAAa,GACbD,IAAQC,GAAc,SACtB0B,IAAO1B,GAAc,QACrByB,IAAUzB,GAAc,WAC5BA,GAAc,YAGHxH,EAAPkJ,EAAqB7qG,OAAOkB,UAAUC,eAAe1B,KAAK6B,EAAKzB,GAC1D+qG,EAAwBG,EAASjI,OACvB75E,EAAE04E,YAAYrgG,EAAKzB,GAOjCwjG,GAA+B,IAArB5hG,UAAUC,QACvBoB,KAAKyJ,OACDo1F,EACA,4BAA8BwH,EAAalgF,EAAEq6D,QAAQzjF,GACrD,gCAAkCspG,EAAalgF,EAAEq6D,QAAQzjF,IAG3D4B,UAAUC,OAAS,GACrBoB,KAAKyJ,OACDo1F,IAAgBuH,EAASjgF,EAAEw4E,IAAIxnE,EAAK15B,GAAS05B,IAAQ15B,GACrD,4BAA8B4oG,EAAalgF,EAAEq6D,QAAQzjF,GAAQ,6BAC7D,gCAAkCspG,EAAalgF,EAAEq6D,QAAQzjF,GAAQ,aACjEo6B,EACA15B,GAINkM,EAAK3J,KAAM,SAAUvC,GAKvB,SAASyqG,EAAmBnrG,EAAMU,EAAOsjG,GACvCp3F,EAAK3J,KAAM,OAAO,GAClB6nG,EAAexhG,MAAMrG,KAAMrB,WA6H7B,SAASwpG,EAA6BprG,EAAMspG,EAAYtF,GAC5B,iBAAfsF,IACTtF,EAAMsF,EACNA,EAAa,MAEXtF,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACjBooG,EAAmBlrG,OAAO20E,yBAAyB30E,OAAOsB,GAAMzB,GAChEqrG,GAAoB/B,EACtBrmG,KAAKyJ,OACD0c,EAAEw4E,IAAI0H,EAAY+B,GAClB,4CAA8CjiF,EAAEq6D,QAAQzjF,GAAQ,wBAA0BopB,EAAEq6D,QAAQ6lB,GAAc,SAAWlgF,EAAEq6D,QAAQ4nB,GACvI,4CAA8CjiF,EAAEq6D,QAAQzjF,GAAQ,4BAA8BopB,EAAEq6D,QAAQ6lB,GACxGA,EACA+B,GACA,GAGJpoG,KAAKyJ,OACD2+F,EACA,2DAA6DjiF,EAAEq6D,QAAQzjF,GACvE,+DAAiEopB,EAAEq6D,QAAQzjF,IAGjF4M,EAAK3J,KAAM,SAAUooG,GAgEvB,SAASC,IACP1+F,EAAK3J,KAAM,YAAY,GAGzB,SAASsoG,EAAcrqG,EAAG8iG,GACpBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAKIwG,EALA/oG,EAAMmL,EAAK3J,KAAM,UACjB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB+hF,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QAClBqmG,EAAa,SAGjB,OAAQ1F,GACN,IAAK,MACL,IAAK,MACH0F,EAAa,OACbkB,EAAa/oG,EAAI2B,KACjB,MACF,QACE,IAAI0jG,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS,UACzDopG,EAAa/oG,EAAII,OAGrBoB,KAAKyJ,OACD89F,GAActpG,EACd,8BAAgCooG,EAAa,4BAC7C,kCAAoCA,EAAa,aACjDpoG,EACAspG,GAkCN,SAASgB,EAAYpzE,EAAI4rE,GACnBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACrBA,KAAKyJ,OACD0rB,EAAGmZ,KAAK9vC,GACR,6BAA+B22B,EAC/B,iCAAmCA,GAsJzC,SAASqzE,EAAYjoG,GACnB,IAKIskB,EAEAi8E,EAPAtiG,EAAMmL,EAAK3J,KAAM,UACjB2gG,EAAUx6E,EAAEpkB,KAAKvD,GACjBiqG,EAAWtiF,EAAEpkB,KAAKxB,GAClBkgG,EAAO92F,EAAK3J,KAAM,QAClBomG,EAASz8F,EAAK3J,KAAM,QAEpB0oG,EAAU,GAEV3C,GAAK,EACLvF,EAAU72F,EAAK3J,KAAM,WAGrB2oG,GADJnI,EAAUA,EAAUA,EAAU,KAAO,IACR,mIAE7B,GAAgB,QAAZG,GAAiC,QAAZA,EACvB+H,EAAUtC,EAAS,UAAY,GAC/BtF,EAAS,GAGTtiG,EAAI4C,SAAQ,SAAU+1B,EAAKp5B,GAAO+iG,EAAOh/F,KAAK/D,MAE7B,UAAb0qG,IACFloG,EAAOqB,MAAMxD,UAAU+J,MAAMxL,KAAKgC,gBAE/B,CAGL,OAFAmiG,EAAS36E,EAAEk5E,2BAA2B7gG,GAE9BiqG,GACN,IAAK,QACH,GAAI9pG,UAAUC,OAAS,EACrB,MAAM,IAAIoK,EAAe2/F,OAAc95F,EAAW4xF,GAEpD,MACF,IAAK,SACH,GAAI9hG,UAAUC,OAAS,EACrB,MAAM,IAAIoK,EAAe2/F,OAAc95F,EAAW4xF,GAEpDlgG,EAAOrD,OAAOqD,KAAKA,GACnB,MACF,QACEA,EAAOqB,MAAMxD,UAAU+J,MAAMxL,KAAKgC,WAItC4B,EAAOA,EAAKgG,KAAI,SAAU4wB,GACxB,MAAsB,iBAARA,EAAmBA,EAAMwc,OAAOxc,MAIlD,IAAK52B,EAAK3B,OACR,MAAM,IAAIoK,EAAew3F,EAAU,qBAAiB3xF,EAAW4xF,GAGjE,IAAIh7F,EAAMlF,EAAK3B,OACXgqG,EAAMj/F,EAAK3J,KAAM,OACjByzE,EAAM9pE,EAAK3J,KAAM,OACjB6gG,EAAWtgG,EAqCf,GAnCKqoG,GAAQn1B,IACXA,GAAM,GAIJm1B,IACF7C,EAAKlF,EAASD,MAAK,SAASiI,GAC1B,OAAO/H,EAAOF,MAAK,SAASkI,GAC1B,OAAI1C,EACKjgF,EAAEw4E,IAAIkK,EAAaC,GAEnBD,IAAgBC,SAO3Br1B,IACFsyB,EAAKlF,EAASjrD,OAAM,SAASizD,GAC3B,OAAO/H,EAAOF,MAAK,SAASkI,GAC1B,OAAI1C,EACKjgF,EAAEw4E,IAAIkK,EAAaC,GAEnBD,IAAgBC,QAKxBn/F,EAAK3J,KAAM,cACd+lG,EAAKA,GAAMxlG,EAAK3B,QAAUkiG,EAAOliG,SAKjC6G,EAAM,EAAG,CAIX,IAAImuB,GAHJrzB,EAAOA,EAAKgG,KAAI,SAASxI,GACvB,OAAOooB,EAAEq6D,QAAQziF,OAEHshB,MACZo0D,IACF5uD,EAAMtkB,EAAKujB,KAAK,MAAQ,SAAW8P,GAEjCg1E,IACF/jF,EAAMtkB,EAAKujB,KAAK,MAAQ,QAAU8P,QAGpC/O,EAAMsB,EAAEq6D,QAAQjgF,EAAK,IAIvBskB,GAAOpf,EAAM,EAAI,QAAU,QAAUof,EAGrCA,GAAOlb,EAAK3J,KAAM,YAAc,WAAa,SAAW6kB,EAGxD7kB,KAAKyJ,OACDs8F,EACA,uBAAyB2C,EAAU7jF,EACnC,2BAA6B6jF,EAAU7jF,EACvCg8E,EAAS14F,MAAM,GAAGrC,KAAKqgB,EAAEg5E,kBACzB2B,EAAOh7F,KAAKqgB,EAAEg5E,mBACd,GA4KN,SAAS4J,EAAc3D,EAAW4D,EAAejI,GAC3CA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAWIkI,EAXAzqG,EAAMmL,EAAK3J,KAAM,UACjBygG,EAAO92F,EAAK3J,KAAM,QAClBwgG,EAAU72F,EAAK3J,KAAM,WACrBugG,EAAS52F,EAAK3J,KAAM,YAAa,EACrC,IAAI6jG,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,aAEzCq/F,aAAqBhwE,QAA+B,iBAAdgwE,KACxC4D,EAAgB5D,EAChBA,EAAY,MAId,IACE5mG,IACA,MAAOi9B,GACPwtE,EAAYxtE,EAKd,IAAI0tE,OAAoCt6F,IAAdu2F,QAA6Cv2F,IAAlBm6F,EAIjDI,EAAoBC,QAAQjE,GAAa4D,GACzCM,GAAgB,EAChBC,GAAoB,EAGxB,GAAIJ,IAAwBA,IAAwB5I,EAAQ,CAE1D,IAAIiJ,EAAkB,WAClBpE,aAAqB1jG,MACvB8nG,EAAkB,SACTpE,IACToE,EAAkBrjF,EAAEm5E,WAAWmG,mBAAmBL,IAGpDplG,KAAKyJ,OACDw/F,EACA,6BAA+BO,EAC/B,+DACApE,GAAaA,EAAUr8E,WACtBkgF,aAAqBvnG,MACpBunG,EAAUlgF,WAAmC,iBAAdkgF,EAAyBA,EAAYA,GAC5C9iF,EAAEm5E,WAAWmG,mBAAmBwD,IAIhE,GAAI7D,GAAa6D,EAAW,CAE1B,GAAI7D,aAAqB1jG,MACIykB,EAAEm5E,WAAW4F,mBAAmB+D,EAAW7D,KAEzC7E,IAGvB6I,GAAqB7I,EACvB+I,GAAgB,EAEhBtpG,KAAKyJ,OACD82F,EACA,yDACA,wCAA0C0I,IAAc1I,EAAS,yBAA2B,IAC5F6E,EAAUr8E,WACVkgF,EAAUlgF,aAMU5C,EAAEm5E,WAAW+F,sBAAsB4D,EAAW7D,KAC5C7E,IAC1B6I,GAAqB7I,EACrB+I,GAAgB,EAElBtpG,KAAKyJ,OACD82F,EACA,yDACA,wCAA0C0I,EAAY,yBAA2B,IAChF7D,aAAqB1jG,MAAQ0jG,EAAUr8E,WAAaq8E,GAAaj/E,EAAEm5E,WAAWmG,mBAAmBL,GACjG6D,aAAqBvnG,MAAQunG,EAAUlgF,WAAakgF,GAAa9iF,EAAEm5E,WAAWmG,mBAAmBwD,KAM5G,GAAIA,SAAaD,EAAuD,CAEtE,IAAIS,EAAc,YACdT,aAAyB5zE,SAC3Bq0E,EAAc,YAGUtjF,EAAEm5E,WAAWgG,kBAAkB2D,EAAWD,KACxCzI,IACtB6I,GAAqB7I,EACrBgJ,GAAoB,EAEtBvpG,KAAKyJ,OACH82F,EACE,mCAAqCkJ,EAAc,yBACnD,uCAAyCA,EAAc,UACtDT,EACA7iF,EAAEm5E,WAAWf,WAAW0K,KAO/BK,GAAiBC,GACnBvpG,KAAKyJ,OACH82F,EACE,yDACA,wCAA0C0I,EAAY,yBAA2B,IAChF7D,aAAqB1jG,MAAQ0jG,EAAUr8E,WAAaq8E,GAAaj/E,EAAEm5E,WAAWmG,mBAAmBL,GACjG6D,aAAqBvnG,MAAQunG,EAAUlgF,WAAakgF,GAAa9iF,EAAEm5E,WAAWmG,mBAAmBwD,IAIxGt/F,EAAK3J,KAAM,SAAUipG,GAwEvB,SAASS,EAAWpvE,EAAQymE,GACtBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACjB2pG,EAAShgG,EAAK3J,KAAM,UACpBskB,EAAW,mBAAsB9lB,GAAQmrG,EAEvCnrG,EAAI87B,GADJ97B,EAAIJ,UAAUk8B,GAGpBt6B,KAAKyJ,OACD,mBAAsB6a,EACtB,kCAAoC6B,EAAEq6D,QAAQlmD,GAC9C,sCAAwCnU,EAAEq6D,QAAQlmD,IAqExD,SAASsvE,EAASC,EAAS9I,GACrBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IACI56F,EAAS0jG,EADHlgG,EAAK3J,KAAM,WAErBA,KAAKyJ,OACDtD,EACA,+BAAiCggB,EAAEs4E,WAAWoL,GAC9C,kCAAoC1jF,EAAEs4E,WAAWoL,IACjDlgG,EAAK3J,KAAM,UACXmG,GA6CN,SAAS2lE,EAAQ+0B,EAAU5jE,EAAO8jE,GAC5BA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACjBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QAGtB,GADA,IAAI6jG,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,UACrB,iBAAb86F,GAA0C,iBAAV5jE,EAEzC,MAAM,IAAIj0B,GADVw3F,EAAUA,EAAUA,EAAU,KAAO,IAEvB,iEACV3xF,EACA4xF,GAINzgG,KAAKyJ,OACD7G,KAAK6E,IAAIjJ,EAAMqiG,IAAa5jE,EAC5B,mCAAqC4jE,EAAW,QAAU5jE,EAC1D,uCAAyC4jE,EAAW,QAAU5jE,GA4RpE,SAAS6sE,EAAe3xC,EAASpsC,EAAMg1E,GACjCA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAKIgJ,EALA5gG,EAAKQ,EAAK3J,KAAM,UAChBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QACtB,IAAI6jG,EAAU16F,EAAIq3F,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,YAGvCgmB,GAIH,IAAI83E,EAAU1rC,EAASqoC,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS4tB,GAC7Dg+E,EAAU5xC,EAAQpsC,KAJlB,IAAI83E,EAAU1rC,EAASqoC,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,YACjDgkG,EAAU5xC,KAMZhvD,IAEA,IAAI6gG,EAAQj+E,QAAsCosC,IAAYA,EAAQpsC,GAClEk+E,EAASl+E,QAAsCg+E,EAAU,IAAMh+E,EAGnEpiB,EAAK3J,KAAM,cAAeiqG,GAC1BtgG,EAAK3J,KAAM,oBAAqB+pG,GAChCpgG,EAAK3J,KAAM,kBAAmBgqG,GAC9BrgG,EAAK3J,KAAM,gBAAiB,UAC5B2J,EAAK3J,KAAM,YAAagqG,IAAUD,GAElC/pG,KAAKyJ,OACHsgG,IAAYC,EACV,YAAcC,EAAS,aACvB,YAAcA,EAAS,kBAsF7B,SAASC,EAAiB/xC,EAASpsC,EAAMg1E,GACnCA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAKIgJ,EALA5gG,EAAKQ,EAAK3J,KAAM,UAChBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QACtB,IAAI6jG,EAAU16F,EAAIq3F,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,YAGvCgmB,GAIH,IAAI83E,EAAU1rC,EAASqoC,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS4tB,GAC7Dg+E,EAAU5xC,EAAQpsC,KAJlB,IAAI83E,EAAU1rC,EAASqoC,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,YACjDgkG,EAAU5xC,KAOZ,IAAI0rC,EAAUkG,EAASvJ,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,UAEjDoD,IAEA,IAAI6gG,EAAQj+E,QAAsCosC,IAAYA,EAAQpsC,GAClEk+E,EAASl+E,QAAsCg+E,EAAU,IAAMh+E,EAEnEpiB,EAAK3J,KAAM,cAAeiqG,GAC1BtgG,EAAK3J,KAAM,oBAAqB+pG,GAChCpgG,EAAK3J,KAAM,kBAAmBgqG,GAC9BrgG,EAAK3J,KAAM,gBAAiB,YAC5B2J,EAAK3J,KAAM,YAAagqG,EAAQD,GAEhC/pG,KAAKyJ,OACHugG,EAAQD,EAAU,EAChB,YAAcE,EAAS,eACvB,YAAcA,EAAS,oBAsF7B,SAASE,EAAiBhyC,EAASpsC,EAAMg1E,GACnCA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAKIgJ,EALA5gG,EAAKQ,EAAK3J,KAAM,UAChBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QACtB,IAAI6jG,EAAU16F,EAAIq3F,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,YAGvCgmB,GAIH,IAAI83E,EAAU1rC,EAASqoC,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS4tB,GAC7Dg+E,EAAU5xC,EAAQpsC,KAJlB,IAAI83E,EAAU1rC,EAASqoC,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,YACjDgkG,EAAU5xC,KAOZ,IAAI0rC,EAAUkG,EAASvJ,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,UAEjDoD,IAEA,IAAI6gG,EAAQj+E,QAAsCosC,IAAYA,EAAQpsC,GAClEk+E,EAASl+E,QAAsCg+E,EAAU,IAAMh+E,EAEnEpiB,EAAK3J,KAAM,cAAeiqG,GAC1BtgG,EAAK3J,KAAM,oBAAqB+pG,GAChCpgG,EAAK3J,KAAM,kBAAmBgqG,GAC9BrgG,EAAK3J,KAAM,gBAAiB,YAC5B2J,EAAK3J,KAAM,YAAa+pG,EAAUC,GAElChqG,KAAKyJ,OACHugG,EAAQD,EAAU,EAChB,YAAcE,EAAS,eACvB,YAAcA,EAAS,oBAj5G7B,CAAE,KAAM,KAAM,OAAQ,KACpB,MAAO,MAAO,OAAQ,OACtB,OAAQ,QAAS,KAAM,KACvB,OAAQ,MAAO,OAAQ,SAAU7oG,SAAQ,SAAUgpG,GACnDvG,EAAUp3E,YAAY29E,MA0BxBvG,EAAUp3E,YAAY,OAAO,WAC3B9iB,EAAK3J,KAAM,UAAU,MAwCvB6jG,EAAUp3E,YAAY,QAAQ,WAC5B9iB,EAAK3J,KAAM,QAAQ,MAyBrB6jG,EAAUp3E,YAAY,UAAU,WAC9B9iB,EAAK3J,KAAM,UAAU,MAyBvB6jG,EAAUp3E,YAAY,OAAO,WAC3B9iB,EAAK3J,KAAM,OAAO,MAuBpB6jG,EAAUp3E,YAAY,WAAW,WAC/B9iB,EAAK3J,KAAM,WAAW,MAmBxB6jG,EAAUp3E,YAAY,OAAO,WAC3B9iB,EAAK3J,KAAM,OAAO,GAClB2J,EAAK3J,KAAM,OAAO,MAuBpB6jG,EAAUp3E,YAAY,OAAO,WAC3B9iB,EAAK3J,KAAM,OAAO,GAClB2J,EAAK3J,KAAM,OAAO,MA4EpB6jG,EAAU5E,mBAAmB,KAAMpT,GACnCgY,EAAU5E,mBAAmB,IAAKpT,GA+QlCgY,EAAU5E,mBAAmB,UAAWkH,EAASD,GACjDrC,EAAU5E,mBAAmB,UAAWkH,EAASD,GACjDrC,EAAU5E,mBAAmB,WAAYkH,EAASD,GAClDrC,EAAU5E,mBAAmB,WAAYkH,EAASD,GAsClDrC,EAAUp3E,YAAY,MAAM,WAC1BzsB,KAAKyJ,OACDE,EAAK3J,KAAM,UACX,gCACA,mCA6BN6jG,EAAUp3E,YAAY,QAAQ,WAC5BzsB,KAAKyJ,QACD,IAASE,EAAK3J,KAAM,UACpB,8BACA,gCACA2J,EAAK3J,KAAM,cA8BjB6jG,EAAUp3E,YAAY,SAAS,WAC7BzsB,KAAKyJ,QACD,IAAUE,EAAK3J,KAAM,UACrB,+BACA,gCACA2J,EAAK3J,KAAM,cA2BjB6jG,EAAUp3E,YAAY,QAAQ,WAC5BzsB,KAAKyJ,OACD,OAASE,EAAK3J,KAAM,UACpB,8BACA,sCA2BN6jG,EAAUp3E,YAAY,aAAa,WACjCzsB,KAAKyJ,YACDoF,IAAclF,EAAK3J,KAAM,UACzB,mCACA,2CA2BN6jG,EAAUp3E,YAAY,OAAO,WAC3BzsB,KAAKyJ,OACD0c,EAAEW,MAAMnd,EAAK3J,KAAM,WACjB,6BACA,qCAkCR6jG,EAAUp3E,YAAY,SAAS,WAC7B,IAAI0K,EAAMxtB,EAAK3J,KAAM,UACrBA,KAAKyJ,OACD0tB,QACA,4BACA,oCAqDN0sE,EAAUp3E,YAAY,SAAS,WAC7B,IAGI86E,EAHApwE,EAAMxtB,EAAK3J,KAAM,UACjBygG,EAAO92F,EAAK3J,KAAM,QAClBwgG,EAAU72F,EAAK3J,KAAM,WAKzB,OAFAwgG,EAAUA,EAAUA,EAAU,KAAO,GAE7Br6E,EAAEpkB,KAAKo1B,GAAK1Y,eAClB,IAAK,QACL,IAAK,SACH8oF,EAAapwE,EAAIv4B,OACjB,MACF,IAAK,MACL,IAAK,MACH2oG,EAAapwE,EAAIh3B,KACjB,MACF,IAAK,UACL,IAAK,UACH,MAAM,IAAI6I,EACRw3F,EAAU,2CACV3xF,EACA4xF,GAEJ,IAAK,WACH,IAAIM,EAAMP,EAAU,gCAAkCr6E,EAAE85D,QAAQ9oD,GAChE,MAAM,IAAInuB,EAAe+3F,EAAI1yD,YAAQx/B,EAAW4xF,GAClD,QACE,GAAItpE,IAAQj6B,OAAOi6B,GACjB,MAAM,IAAInuB,EACRw3F,EAAU,0CAA4Cr6E,EAAEq6D,QAAQrpD,QAChEtoB,EACA4xF,GAGJ8G,EAAarqG,OAAOqD,KAAK42B,GAAKv4B,OAGlCoB,KAAKyJ,OACD,IAAM89F,EACN,+BACA,uCA4CN1D,EAAUp3E,YAAY,YAAam6E,GACnC/C,EAAUp3E,YAAY,YAAam6E,GAmEnC/C,EAAU/E,UAAU,QAAS+H,GAC7BhD,EAAU/E,UAAU,SAAU+H,GAC9BhD,EAAU/E,UAAU,KAAM+H,GAuD1BhD,EAAU/E,UAAU,MAAOiI,GAC3BlD,EAAU/E,UAAU,OAAQiI,GAsG5BlD,EAAU/E,UAAU,QAASkI,GAC7BnD,EAAU/E,UAAU,KAAMkI,GAC1BnD,EAAU/E,UAAU,cAAekI,GAqGnCnD,EAAU/E,UAAU,QAAS0I,GAC7B3D,EAAU/E,UAAU,MAAO0I,GAsG3B3D,EAAU/E,UAAU,QAAS2I,GAC7B5D,EAAU/E,UAAU,KAAM2I,GAC1B5D,EAAU/E,UAAU,WAAY2I,GAqGhC5D,EAAU/E,UAAU,OAAQ4I,GAC5B7D,EAAU/E,UAAU,MAAO4I,GA6C3B7D,EAAU/E,UAAU,UAAU,SAAUr4F,EAAO4jG,EAAQtJ,GACjDA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAQIkG,EARAzoG,EAAMmL,EAAK3J,KAAM,UACjBknG,EAAWv9F,EAAK3J,KAAM,YACtBwgG,EAAU72F,EAAK3J,KAAM,WACrBmnG,EAAa,EAAY3G,EAAU,KAAO,GAC1CC,EAAO92F,EAAK3J,KAAM,QAClB2gG,EAAUx6E,EAAEpkB,KAAKvD,GAAKigB,cACtB6rF,EAAYnkF,EAAEpkB,KAAK0E,GAAOgY,cAC1B8rF,EAAapkF,EAAEpkB,KAAKsoG,GAAQ5rF,cAE5B4oF,GAAc,EACd/gG,EAAuB,SAAdgkG,GAAuC,SAAfC,EAC7B9jG,EAAM46E,cAAgB,KAAOgpB,EAAOhpB,cACpC56E,EAAQ,KAAO4jG,EAMvB,GAJInD,GAAwB,QAAZvG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAGwsC,KAAKnpG,SAAS,UAGtD+oG,GAAyB,SAAZvG,GAAqC,SAAd2J,GAAuC,SAAfC,EAE1D,GAAmB,WAAdD,GAAyC,WAAfC,IAA6BrD,GAAwB,WAAZvG,EAExE,GAAKuG,GAAyB,SAAZvG,GAAkC,WAAZA,EAI7C0G,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZxG,EAAwB,IAAMniG,EAAM,IAAMA,GACN,iCAHpDyoG,EAAeE,EAAY,+CAF3BF,EAAeE,EAAY,wCAU7B,GAAIE,EACF,MAAM,IAAIr+F,EAAei+F,OAAcp4F,EAAW4xF,GAGpD,GAAIyG,EAAU,CACZ,IACIK,EADAlB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbkB,EAAa/oG,EAAI2B,MAEjBonG,EAAa/oG,EAAII,OAEnBoB,KAAKyJ,OACD89F,GAAc9gG,GAAS8gG,GAAc8C,EACrC,8BAAgChE,EAAa,WAAa//F,EAC1D,kCAAoC+/F,EAAa,WAAa//F,QAGlEtG,KAAKyJ,OACDjL,GAAOiI,GAASjI,GAAO6rG,EACvB,iCAAmC/jG,EACnC,qCAAuCA,MA8E/Cu9F,EAAU/E,UAAU,aAAc6I,GAClC9D,EAAU/E,UAAU,aAAc6I,GAyMlC9D,EAAU/E,UAAU,WAAY+I,GAOhChE,EAAU/E,UAAU,cAAeoJ,GACnCrE,EAAU/E,UAAU,kBAAmBoJ,GAoJvCrE,EAAU/E,UAAU,wBAAyBqJ,GAC7CtE,EAAU/E,UAAU,4BAA6BqJ,GA6FjDtE,EAAU5E,mBAAmB,SAAUqJ,EAAcD,GACrDxE,EAAU5E,mBAAmB,WAAYqJ,EAAcD,GAuCvDxE,EAAU/E,UAAU,QAASyJ,GAC7B1E,EAAU/E,UAAU,UAAWyJ,GA2B/B1E,EAAU/E,UAAU,UAAU,SAAUj6E,EAAKk8E,GACvCA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACjBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QACtB,IAAI6jG,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAMyI,GAAGnjG,EAAE,UAE7C/F,KAAKyJ,QACAjL,EAAIiD,QAAQojB,GACb,+BAAiCsB,EAAEq6D,QAAQ37D,GAC3C,mCAAqCsB,EAAEq6D,QAAQ37D,OA0OrDg/E,EAAU/E,UAAU,OAAQ0J,GAC5B3E,EAAU/E,UAAU,MAAO0J,GAqS3B3E,EAAU/E,UAAU,QAASiK,GAC7BlF,EAAU/E,UAAU,SAAUiK,GAC9BlF,EAAU/E,UAAU,QAASiK,GAkF7BlF,EAAU/E,UAAU,YAAa4K,GACjC7F,EAAU/E,UAAU,aAAc4K,GAsBlC7F,EAAUp3E,YAAY,UAAU,WAC9B9iB,EAAK3J,KAAM,UAAU,MAsDvB6jG,EAAU/E,UAAU,UAAW8K,GAC/B/F,EAAU/E,UAAU,YAAa8K,GA+DjC/F,EAAU/E,UAAU,UAAWhzB,GAC/B+3B,EAAU/E,UAAU,gBAAiBhzB,GAoGrC+3B,EAAU/E,UAAU,WAAW,SAAU0L,EAAQzJ,GAC3CA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIviG,EAAMmL,EAAK3J,KAAM,UACjBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QAEtB,IAAI6jG,EAAUrlG,EAAKgiG,EAASC,GAAM,GAAM3lC,GAAG2vC,GAAG5e,GAAG,SACjD,IAAIgY,EAAU2G,EAAQhK,EAASC,GAAM,GAAM3lC,GAAG2vC,GAAG5e,GAAG,SAEpD,IAGI1zB,EAASuyC,EAASC,EAHlB9mD,EAAWl6C,EAAK3J,KAAM,YACtB4qG,EAAUjhG,EAAK3J,KAAM,WAIrB6jD,GAEF6mD,EAAU,2BADVvyC,EAAUyyC,EAAU,sBAAwB,cACI,aAChDD,EAAgB,8BAAgCxyC,EAAU,eAG1DuyC,EAAU,sCADVvyC,EAAUyyC,EAAU,kBAAoB,WACmB,aAC3DD,EAAgB,yCAA2CxyC,EAAU,cAGvE,IAAI0yC,EAAMlhG,EAAK3J,KAAM,QAAUmmB,EAAEw4E,SAAM9vF,EAEvC7O,KAAKyJ,OA3HP,SAAoB+gG,EAAQM,EAAUD,EAAKhnD,EAAU+mD,GACnD,IAAK/mD,EAAU,CACb,GAAI2mD,EAAO5rG,SAAWksG,EAASlsG,OAAQ,OAAO,EAC9CksG,EAAWA,EAAS3iG,QAGtB,OAAOqiG,EAAO50D,OAAM,SAAS3yB,EAAM8nF,GACjC,GAAIH,EAAS,OAAOC,EAAMA,EAAI5nF,EAAM6nF,EAASC,IAAQ9nF,IAAS6nF,EAASC,GAEvE,IAAKF,EAAK,CACR,IAAIG,EAAWF,EAASrpG,QAAQwhB,GAChC,OAAkB,IAAd+nF,IAGCnnD,GAAUinD,EAASlnD,OAAOonD,EAAU,IAClC,GAGT,OAAOF,EAASlK,MAAK,SAASqK,EAAOD,GACnC,QAAKH,EAAI5nF,EAAMgoF,KAGVpnD,GAAUinD,EAASlnD,OAAOonD,EAAU,IAClC,SAqGPE,CAAWV,EAAQhsG,EAAKqsG,EAAKhnD,EAAU+mD,GACvCF,EACAC,EACAH,EACAhsG,GACA,MAkDNqlG,EAAU/E,UAAU,SAhBpB,SAAgBv7C,EAAMw9C,GAChBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAC/B,IAAIF,EAAWl3F,EAAK3J,KAAM,UACtBwgG,EAAU72F,EAAK3J,KAAM,WACrBygG,EAAO92F,EAAK3J,KAAM,QACtB,IAAI6jG,EAAUtgD,EAAMi9C,EAASC,GAAM,GAAM3lC,GAAG2vC,GAAG5e,GAAG,SAElD7rF,KAAKyJ,OACD85C,EAAK9hD,QAAQo/F,IAAa,EAC1B,uCACA,2CACAt9C,EACAs9C,MAwINgD,EAAU/E,UAAU,SAAUgL,GAC9BjG,EAAU/E,UAAU,UAAWgL,GAsH/BjG,EAAU/E,UAAU,WAAYoL,GAChCrG,EAAU/E,UAAU,YAAaoL,GAsHjCrG,EAAU/E,UAAU,WAAYqL,GAChCtG,EAAU/E,UAAU,YAAaqL,GA2FjCtG,EAAU/E,UAAU,MAvBpB,SAAqB7hE,EAAO8jE,GACtBA,GAAKp3F,EAAK3J,KAAM,UAAW+gG,GAE/B,IAMIoK,EANAlB,EAAStgG,EAAK3J,KAAM,eACpB+pG,EAAUpgG,EAAK3J,KAAM,qBACrBgqG,EAAQrgG,EAAK3J,KAAM,mBACnBorG,EAAWzhG,EAAK3J,KAAM,iBACtBqrG,EAAY1hG,EAAK3J,KAAM,aAIzBmrG,EADe,WAAbC,EACWxoG,KAAK6E,IAAIuiG,EAAQD,KAAannG,KAAK6E,IAAIw1B,GAEvCouE,IAAczoG,KAAK6E,IAAIw1B,GAGtCj9B,KAAKyJ,OACH0hG,EACE,YAAclB,EAAS,OAASmB,EAAW,OAASnuE,EACpD,YAAcgtE,EAAS,WAAamB,EAAW,OAASnuE,MAkC9D4mE,EAAUp3E,YAAY,cAAc,WAClC,IAAIjuB,EAAMmL,EAAK3J,KAAM,UAOjBkhG,EAAe1iG,IAAQtB,OAAOsB,IAAQtB,OAAOgkG,aAAa1iG,GAE9DwB,KAAKyJ,OACHy3F,EACE,oCACA,4CAgCN2C,EAAUp3E,YAAY,UAAU,WAC9B,IAAIjuB,EAAMmL,EAAK3J,KAAM,UAOjBsrG,EAAW9sG,IAAQtB,OAAOsB,IAAOtB,OAAOouG,SAAS9sG,GAErDwB,KAAKyJ,OACH6hG,EACE,gCACA,wCA6BNzH,EAAUp3E,YAAY,UAAU,WAC9B,IAAIjuB,EAAMmL,EAAK3J,KAAM,UAOjBurG,EAAW/sG,IAAQtB,OAAOsB,IAAOtB,OAAOquG,SAAS/sG,GAErDwB,KAAKyJ,OACH8hG,EACE,gCACA,wCAqDN1H,EAAUp3E,YAAY,UAAU,SAASs0E,GACvC,IAAIviG,EAAMmL,EAAK3J,KAAM,UAErBA,KAAKyJ,OACc,iBAARjL,GAAoB4jC,SAAS5jC,GACpC,yCACA,mD;;;;;;ACltHRjC,EAAOD,QAAU,SAAUonG,EAAMz6F,GAC/By6F,EAAKn6F,OAAS,SAAU4tB,EAAKwrD,GAC3B,OAAO,IAAI+gB,EAAKG,UAAU1sE,EAAKwrD,IAyBjC+gB,EAAKn6F,OAAOiiG,KAAO,SAAU1K,EAAQD,EAAUle,EAAS8oB,GAOtD,MANI9sG,UAAUC,OAAS,IACnB+jF,EAAUme,EACVA,OAASjyF,GAGb8zE,EAAUA,GAAW,gBACf,IAAI+gB,EAAK16F,eAAe25E,EAAS,CACnCme,OAAQA,EACRD,SAAUA,EACV4K,SAAUA,GACX/H,EAAKn6F,OAAOiiG,S;;;;;;ACtCnBjvG,EAAOD,QAAU,SAAUonG,EAAMz6F,GAC/B,IAAI46F,EAAYH,EAAKG,UAErB,SAAS6H,IA0BPxuG,OAAOC,eAAeD,OAAOkB,UAAW,SAAU,CAChDouB,IAhBF,SAAsB/uB,GAOpBP,OAAOC,eAAe6C,KAAM,SAAU,CACpCvC,MAAOA,EACPL,YAAY,EACZ40E,cAAc,EACd25B,UAAU,KAMVtuG,IA1BJ,SAASuuG,IACP,OAAI5rG,gBAAgB2zC,QACb3zC,gBAAgBqK,QAChBrK,gBAAgBqpG,SACE,mBAAX9rG,QAAyByC,gBAAgBzC,OAC9C,IAAIsmG,EAAU7jG,KAAKsxC,UAAW,KAAMs6D,GAEtC,IAAI/H,EAAU7jG,KAAM,KAAM4rG,IAoB/B55B,cAAc,IAGlB,IAAIxoE,EAAS,CAyBb,KAAc,SAAUs3F,EAAQD,EAAUle,EAAS8oB,GAOjD,MANI9sG,UAAUC,OAAS,IACnB+jF,EAAUme,EACVA,OAASjyF,GAGb8zE,EAAUA,GAAW,gBACf,IAAI+gB,EAAK16F,eAAe25E,EAAS,CACnCme,OAAQA,EACRD,SAAUA,EACV4K,SAAUA,GACXjiG,EAAOgiG,OAkBZ,MAAe,SAAU97E,EAAMm8E,EAAM9K,GACnC,IAAI8C,EAAUn0E,EAAMqxE,GAAKjmC,GAAG+Q,MAAMggC,IA2BpC,MAAe,SAAU1iG,EAAI2iG,EAAMC,EAAMhL,GACvC,IAAI8C,EAAU16F,EAAI43F,GAAKjmC,GAAGkxC,MAAMF,EAAMC,IAiBxC,MAAe,SAAU50E,EAAK4pE,GAC5B,IAAI8C,EAAU1sE,EAAK4pE,GAAKjmC,GAAGmxC,OAI7B,IAAa,IAkEb,OAjDAziG,EAAO0iG,IAAIrgC,MAAQ,SAAUn8C,EAAMm8E,EAAM9K,GACvC,IAAI8C,EAAUn0E,EAAMqxE,GAAKjmC,GAAGoxC,IAAIrgC,MAAMggC,IAuBxCriG,EAAO0iG,IAAIF,MAAQ,SAAU7iG,EAAI2iG,EAAMC,EAAMhL,GAC3C,IAAI8C,EAAU16F,EAAI43F,GAAKjmC,GAAGoxC,IAAIF,MAAMF,EAAMC,IAiB5CviG,EAAO0iG,IAAID,MAAQ,SAAU90E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,GAAKjmC,GAAGoxC,IAAID,OAGjCziG,EAAc,MAAIA,EAAc,MAChCA,EAAO0iG,IAAW,MAAI1iG,EAAO0iG,IAAW,MAEjC1iG,EAGTk6F,EAAKl6F,OAASkiG,EACdhI,EAAKyI,OAAST,I;;;;;;AClNhBnvG,EAAOD,QAAU,SAAUonG,EAAMz6F;;;;AAK/B,IAAI46F,EAAYH,EAAKG,UACjBl6F,EAAOV,EAAKU,KAqBZF,EAASi6F,EAAKj6F,OAAS,SAAU2iG,EAASC,GACjC,IAAIxI,EAAU,KAAM,KAAMH,EAAKj6F,QAAQ,GAC7CA,OACD2iG,EACAC,EACA;;;KA0BN5iG,EAAO+hG,KAAO,SAAU1K,EAAQD,EAAUle,EAAS8oB,GASjD,MARI9sG,UAAUC,OAAS,IAGnB+jF,EAAUme,EACVA,OAASjyF,GAGb8zE,EAAUA,GAAW,gBACf,IAAI+gB,EAAK16F,eAAe25E,EAAS,CACnCme,OAAQA,EACRD,SAAUA,EACV4K,SAAUA,GACXhiG,EAAO+hG,OAmBZ/hG,EAAO6iG,KAAO,SAAUn1E,EAAK4pE,GAC3B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO6iG,MAAM,GAAMpD,GAAGnD,IAmBhDt8F,EAAO8iG,QAAU,SAAUp1E,EAAK4pE,GAC9B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO8iG,SAAS,GAAMrD,GAAGgD,IAAInG,IAkBvDt8F,EAAOoiE,MAAQ,SAAUn3C,EAAKjM,EAAKs4E,GACjC,IAAI7sD,EAAO,IAAI2vD,EAAUnvE,EAAKqsE,EAAKt3F,EAAOoiE,OAAO,GAEjD33B,EAAKzqC,OACDgf,GAAO9e,EAAKuqC,EAAM,UAClB,mCACA,uCACAzrB,EACAiM,GACA,IAmBNjrB,EAAO+iG,SAAW,SAAU93E,EAAKjM,EAAKs4E,GACpC,IAAI7sD,EAAO,IAAI2vD,EAAUnvE,EAAKqsE,EAAKt3F,EAAO+iG,UAAU,GAEpDt4D,EAAKzqC,OACDgf,GAAO9e,EAAKuqC,EAAM,UAClB,uCACA,mCACAzrB,EACAiM,GACA,IAmBNjrB,EAAOgjG,YAAc,SAAU/3E,EAAKjM,EAAKs4E,GACvC,IAAI8C,EAAUnvE,EAAKqsE,EAAKt3F,EAAOgjG,aAAa,GAAM3xC,GAAG+Q,MAAMpjD,IAkB7Dhf,EAAOijG,eAAiB,SAAUh4E,EAAKjM,EAAKs4E,GAC1C,IAAI8C,EAAUnvE,EAAKqsE,EAAKt3F,EAAOijG,gBAAgB,GAAM5xC,GAAGoxC,IAAIrgC,MAAMpjD,IAmBpEhf,EAAOk4F,UAAYl4F,EAAOkjG,gBAAkB,SAAUj4E,EAAKjM,EAAKs4E,GAC9D,IAAI8C,EAAUnvE,EAAKqsE,EAAKt3F,EAAOk4F,WAAW,GAAM7mC,GAAG6jC,IAAIl2E,IAkBzDhf,EAAOmjG,aAAe,SAAUl4E,EAAKjM,EAAKs4E,GACxC,IAAI8C,EAAUnvE,EAAKqsE,EAAKt3F,EAAOmjG,cAAc,GAAM9xC,GAAGoxC,IAAIvN,IAAIl2E,IAkBhEhf,EAAOojG,QAAU,SAAU11E,EAAK21E,EAAK/L,GACnC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOojG,SAAS,GAAM/xC,GAAG2vC,GAAGsC,MAAMD,IAmB5DrjG,EAAOujG,UAAY,SAAU71E,EAAK81E,EAAOlM,GACvC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOujG,WAAW,GAAMlyC,GAAG2vC,GAAGyC,MAAMD,IAkB9DxjG,EAAO0jG,QAAU,SAAUh2E,EAAKi2E,EAAKrM,GACnC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO0jG,SAAS,GAAMryC,GAAG2vC,GAAG4C,MAAMD,IAmB5D3jG,EAAO6jG,SAAW,SAAUn2E,EAAKo2E,EAAOxM,GACtC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO6jG,UAAU,GAAMxyC,GAAG2vC,GAAG+C,KAAKD,IAkB5D9jG,EAAOgkG,OAAS,SAAUt2E,EAAK4pE,GAC7B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOgkG,QAAQ,GAAMvE,GAAS,MAkBxDz/F,EAAOikG,UAAY,SAAUv2E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOikG,WAAW,GAAM5yC,GAAGoxC,IAAIrgC,OAAM,IAkB/DpiE,EAAOkkG,QAAU,SAAUx2E,EAAK4pE,GAC9B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOkkG,SAAS,GAAMzE,GAAU,OAkB1Dz/F,EAAOmkG,WAAa,SAAUz2E,EAAK4pE,GACjC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOmkG,YAAY,GAAM9yC,GAAGoxC,IAAIrgC,OAAM,IAiBhEpiE,EAAOokG,OAAS,SAAU12E,EAAK4pE,GAC7B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOokG,QAAQ,GAAM/yC,GAAG+Q,MAAM,OAkBxDpiE,EAAOqkG,UAAY,SAAU32E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOqkG,WAAW,GAAMhzC,GAAGoxC,IAAIrgC,MAAM,OAiB/DpiE,EAAOqd,MAAQ,SAAUqQ,EAAK4pE,GAC5B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOqd,OAAO,GAAMg0C,GAAG2vC,GAAGrpE,KAgBpD33B,EAAOskG,SAAW,SAAU52E,EAAK4pE,GAC/B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOskG,UAAU,GAAM7B,IAAIpxC,GAAG2vC,GAAGrpE,KAmB3D33B,EAAOu2F,OAAS,SAAU7oE,EAAK4pE,GAC7B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOu2F,QAAQ,GAAMllC,GAAGmxC,OAqBlDxiG,EAAOukG,UAAY,SAAU72E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOukG,WAAW,GAAMlzC,GAAGoxC,IAAID,OAkBzDxiG,EAAOwkG,YAAc,SAAU92E,EAAK4pE,GAClC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOwkG,aAAa,GAAMnzC,GAAG+Q,WAAMh9D,IAkB7DpF,EAAOykG,UAAY,SAAU/2E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOykG,WAAW,GAAMpzC,GAAGoxC,IAAIrgC,WAAMh9D,IAkB/DpF,EAAO+5E,WAAa,SAAUrsD,EAAK4pE,GACjC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO+5E,YAAY,GAAM1oB,GAAG2vC,GAAG1kG,EAAE,aAkB3D0D,EAAO0kG,cAAgB,SAAUh3E,EAAK4pE,GACpC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO0kG,eAAe,GAAMrzC,GAAGoxC,IAAIzB,GAAG1kG,EAAE,aAmBlE0D,EAAOwvE,SAAW,SAAU9hD,EAAK4pE,GAC/B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOwvE,UAAU,GAAMne,GAAG2vC,GAAG1kG,EAAE,WAmBzD0D,EAAO2kG,YAAc,SAAUj3E,EAAK4pE,GAClC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO2kG,aAAa,GAAMtzC,GAAGoxC,IAAIzB,GAAG1kG,EAAE,WAkBhE0D,EAAO5H,QAAU,SAAUs1B,EAAK4pE,GAC9B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO5H,SAAS,GAAMi5D,GAAG2vC,GAAG5e,GAAG,UAkBzDpiF,EAAO4kG,WAAa,SAAUl3E,EAAK4pE,GACjC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO4kG,YAAY,GAAMvzC,GAAGoxC,IAAIzB,GAAG5e,GAAG,UAkBhEpiF,EAAO6kG,SAAW,SAAUn3E,EAAK4pE,GAC/B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO6kG,UAAU,GAAMxzC,GAAG2vC,GAAG1kG,EAAE,WAkBzD0D,EAAO8kG,YAAc,SAAUp3E,EAAK4pE,GAClC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO8kG,aAAa,GAAMzzC,GAAGoxC,IAAIzB,GAAG1kG,EAAE,WAkBhE0D,EAAOk/E,SAAW,SAAUxxD,EAAK4pE,GAC/B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOk/E,UAAU,GAAM7tB,GAAG2vC,GAAG1kG,EAAE,WAkBzD0D,EAAO+kG,YAAc,SAAUr3E,EAAK4pE,GAClC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO+kG,aAAa,GAAM1zC,GAAGoxC,IAAIzB,GAAG1kG,EAAE,WAoBhE0D,EAAO24B,SAAW,SAAUjL,EAAK4pE,GAC/B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAO24B,UAAU,GAAM04B,GAAG2vC,GAAGgE,QAqBvDhlG,EAAOilG,UAAY,SAAUv3E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOilG,WAAW,GAAM5zC,GAAG2vC,GAAG1kG,EAAE,YAqB1D0D,EAAOklG,aAAe,SAAUx3E,EAAK4pE,GACnC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOklG,cAAc,GAAM7zC,GAAGoxC,IAAIzB,GAAG1kG,EAAE,YAwBjE0D,EAAOmlG,OAAS,SAAUz3E,EAAKp1B,EAAMg/F,GACnC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOmlG,QAAQ,GAAM9zC,GAAG2vC,GAAG1kG,EAAEhE,IAmBvD0H,EAAOolG,UAAY,SAAU13E,EAAKp1B,EAAMg/F,GACtC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOolG,WAAW,GAAM/zC,GAAGoxC,IAAIzB,GAAG1kG,EAAEhE,IAqB9D0H,EAAOqlG,WAAa,SAAU33E,EAAKp1B,EAAMg/F,GACvC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOqlG,YAAY,GAAMh0C,GAAG2vC,GAAGqE,WAAW/sG,IAqBpE0H,EAAOslG,cAAgB,SAAU53E,EAAKp1B,EAAMg/F,GAC1C,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOslG,eAAe,GAC3Cj0C,GAAGoxC,IAAIzB,GAAGqE,WAAW/sG,IAkC1B0H,EAAO08F,QAAU,SAAU19E,EAAKumF,EAAKjO,GACnC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO08F,SAAS,GAAMA,QAAQ6I,IAmCxDvlG,EAAOwlG,WAAa,SAAUxmF,EAAKumF,EAAKjO,GACtC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOwlG,YAAY,GAAM/C,IAAI/F,QAAQ6I,IAwB/DvlG,EAAOylG,YAAc,SAAUzmF,EAAKumF,EAAKjO,GACvC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOylG,aAAa,GAAM1lD,KAAK28C,QAAQ6I,IAwBjEvlG,EAAO0lG,eAAiB,SAAU1mF,EAAKumF,EAAKjO,GAC1C,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO0lG,gBAAgB,GAAMjD,IAAI1iD,KAAK28C,QAAQ6I,IAwBxEvlG,EAAO2lG,cAAgB,SAAU3mF,EAAKumF,EAAKjO,GACzC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO2lG,eAAe,GAAMC,OAAOlJ,QAAQ6I,IAwBrEvlG,EAAO6lG,iBAAmB,SAAU7mF,EAAKumF,EAAKjO,GAC5C,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO6lG,kBAAkB,GAC9CpD,IAAImD,OAAOlJ,QAAQ6I,IAwBxBvlG,EAAO8lG,kBAAoB,SAAS9mF,EAAKumF,EAAKjO,GAC5C,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO8lG,mBAAmB,GAC/C/lD,KAAK6lD,OAAOlJ,QAAQ6I,IAwBzBvlG,EAAO+lG,qBAAuB,SAAS/mF,EAAKumF,EAAKjO,GAC/C,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO+lG,sBAAsB,GAClDtD,IAAI1iD,KAAK6lD,OAAOlJ,QAAQ6I,IAoB7BvlG,EAAOgmG,WAAa,SAAShnF,EAAKumF,EAAKjO,GACrC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOgmG,YAAY,GAAMC,IAAIvJ,QAAQ6I,IAsB/DvlG,EAAOkmG,cAAgB,SAASlnF,EAAKumF,EAAKjO,GACxC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOkmG,eAAe,GAAMzD,IAAIwD,IAAIvJ,QAAQ6I,IAoBtEvlG,EAAOmmG,eAAiB,SAASnnF,EAAKumF,EAAKjO,GACzC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOmmG,gBAAgB,GAC5CpmD,KAAKkmD,IAAIvJ,QAAQ6I,IAoBtBvlG,EAAOomG,kBAAoB,SAASpnF,EAAKumF,EAAKjO,GAC5C,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOomG,mBAAmB,GAC/C3D,IAAI1iD,KAAKkmD,IAAIvJ,QAAQ6I,IAkB1BvlG,EAAO+E,MAAQ,SAAUia,EAAK0M,EAAI4rE,GAChC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAO+E,OAAO,GAAMssD,GAAGtsD,MAAM2mB,IAkBvD1rB,EAAOqmG,SAAW,SAAUrnF,EAAK0M,EAAI4rE,GACnC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOqmG,UAAU,GAAMh1C,GAAGoxC,IAAI19F,MAAM2mB,IAoB9D1rB,EAAOtL,SAAW,SAAUK,EAAKutB,EAAMg1E,GACrC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOtL,UAAU,GAAM28D,GAAGwsC,KAAKnpG,SAAS4tB,IAmBlEtiB,EAAOsmG,YAAc,SAAUvxG,EAAKutB,EAAMg1E,GACxC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOsmG,aAAa,GACzCj1C,GAAGoxC,IAAI5E,KAAKnpG,SAAS4tB,IAqB1BtiB,EAAOumG,YAAc,SAAUxxG,EAAKutB,EAAMoL,EAAK4pE,GAC7C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOumG,aAAa,GACzCl1C,GAAGwsC,KAAKnpG,SAAS4tB,EAAMoL,IAsB5B1tB,EAAOwmG,eAAiB,SAAUzxG,EAAKutB,EAAMoL,EAAK4pE,GAChD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOwmG,gBAAgB,GAC5Cn1C,GAAGoxC,IAAI5E,KAAKnpG,SAAS4tB,EAAMoL,IAoBhC1tB,EAAOymG,gBAAkB,SAAU1xG,EAAKutB,EAAMoL,EAAK4pE,GACjD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOymG,iBAAiB,GAC7Cp1C,GAAGwsC,KAAK99C,KAAKrrD,SAAS4tB,EAAMoL,IAsBjC1tB,EAAO0mG,mBAAqB,SAAU3xG,EAAKutB,EAAMoL,EAAK4pE,GACpD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO0mG,oBAAoB,GAChDr1C,GAAGoxC,IAAI5E,KAAK99C,KAAKrrD,SAAS4tB,EAAMoL,IAkBrC1tB,EAAO2mG,YAAc,SAAU5xG,EAAKutB,EAAMg1E,GACxC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO2mG,aAAa,GACzCt1C,GAAGwsC,KAAKoI,IAAIvxG,SAAS4tB,IAmB1BtiB,EAAO4mG,eAAiB,SAAU7xG,EAAKutB,EAAMg1E,GAC3C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO4mG,gBAAgB,GAC5Cv1C,GAAGoxC,IAAI5E,KAAKoI,IAAIvxG,SAAS4tB,IAoB9BtiB,EAAO6mG,eAAiB,SAAU9xG,EAAKutB,EAAMtuB,EAAOsjG,GAClD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO6mG,gBAAgB,GAC5Cx1C,GAAGwsC,KAAKoI,IAAIvxG,SAAS4tB,EAAMtuB,IAqBhCgM,EAAO8mG,kBAAoB,SAAU/xG,EAAKutB,EAAMtuB,EAAOsjG,GACrD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO8mG,mBAAmB,GAC/Cz1C,GAAGoxC,IAAI5E,KAAKoI,IAAIvxG,SAAS4tB,EAAMtuB,IAoBpCgM,EAAO+mG,mBAAqB,SAAUhyG,EAAKutB,EAAMtuB,EAAOsjG,GACtD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO+mG,oBAAoB,GAChD11C,GAAGwsC,KAAK99C,KAAKkmD,IAAIvxG,SAAS4tB,EAAMtuB,IAuBrCgM,EAAOgnG,sBAAwB,SAAUjyG,EAAKutB,EAAMtuB,EAAOsjG,GACzD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOgnG,uBAAuB,GACnD31C,GAAGoxC,IAAI5E,KAAK99C,KAAKkmD,IAAIvxG,SAAS4tB,EAAMtuB,IAoBzCgM,EAAOinG,eAAiB,SAAUlyG,EAAKutB,EAAMg1E,GAC3C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOinG,gBAAgB,GAC5C51C,GAAGwsC,KAAK+H,OAAOlxG,SAAS4tB,IAoB7BtiB,EAAOknG,kBAAoB,SAAUnyG,EAAKutB,EAAMg1E,GAC9C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOknG,mBAAmB,GAC/C71C,GAAGoxC,IAAI5E,KAAK+H,OAAOlxG,SAAS4tB,IAqBjCtiB,EAAOmnG,kBAAoB,SAAUpyG,EAAKutB,EAAMoL,EAAK4pE,GACnD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOmnG,mBAAmB,GAC/C91C,GAAGwsC,KAAK+H,OAAOlxG,SAAS4tB,EAAMoL,IAsBnC1tB,EAAOonG,qBAAuB,SAAUryG,EAAKutB,EAAMoL,EAAK4pE,GACtD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOonG,sBAAsB,GAClD/1C,GAAGoxC,IAAI5E,KAAK+H,OAAOlxG,SAAS4tB,EAAMoL,IAqBvC1tB,EAAOqnG,sBAAwB,SAAUtyG,EAAKutB,EAAMoL,EAAK4pE,GACvD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOqnG,uBAAuB,GACnDh2C,GAAGwsC,KAAK99C,KAAK6lD,OAAOlxG,SAAS4tB,EAAMoL,IAuBxC1tB,EAAOsnG,yBAA2B,SAAUvyG,EAAKutB,EAAMoL,EAAK4pE,GAC1D,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOsnG,0BAA0B,GACtDj2C,GAAGoxC,IAAI5E,KAAK99C,KAAK6lD,OAAOlxG,SAAS4tB,EAAMoL,IAqB5C1tB,EAAOunG,SAAW,SAAUvoF,EAAKhjB,EAAKs7F,GACpC,IAAI8C,EAAUp7E,EAAKs4E,EAAKt3F,EAAOunG,UAAU,GAAMl2C,GAAGwsC,KAAK0J,SAASvrG,IAuBlEgE,EAAOwnG,WAAa,SAAUzyG,EAAK+B,EAAMwgG,GACvC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOwnG,YAAY,GAAMn2C,GAAGwsC,KAAKsB,IAAIroG,KAAKA,IAuBpEkJ,EAAOsiE,WAAa,SAAUvtE,EAAK+B,EAAMwgG,GACvC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOsiE,YAAY,GAAMjR,GAAGwsC,KAAK7zB,IAAIlzE,KAAKA,IA2BpEkJ,EAAOynG,gBAAkB,SAAU1yG,EAAK+B,EAAMwgG,GAC5C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOynG,iBAAiB,GAC7Cp2C,GAAGq2C,QAAQ19B,IAAIlzE,KAAKA,IAuBzBkJ,EAAO2nG,mBAAqB,SAAU5yG,EAAK+B,EAAMwgG,GAC/C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO2nG,oBAAoB,GAChDt2C,GAAGoxC,IAAI5E,KAAKsB,IAAIroG,KAAKA,IAuB1BkJ,EAAO4nG,mBAAqB,SAAU7yG,EAAK+B,EAAMwgG,GAC/C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO4nG,oBAAoB,GAChDv2C,GAAGoxC,IAAI5E,KAAK7zB,IAAIlzE,KAAKA,IA2B1BkJ,EAAO6nG,eAAiB,SAAU9yG,EAAK+B,EAAMwgG,GAC3C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO6nG,gBAAgB,GAC5Cx2C,GAAGwsC,KAAKsB,IAAIp/C,KAAKjpD,KAAKA,IAyB3BkJ,EAAO8nG,eAAiB,SAAU/yG,EAAK+B,EAAMwgG,GAC3C,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO8nG,gBAAgB,GAC5Cz2C,GAAGwsC,KAAK7zB,IAAIjqB,KAAKjpD,KAAKA,IAyB3BkJ,EAAO+nG,oBAAsB,SAAUhzG,EAAK+B,EAAMwgG,GAChD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO+nG,qBAAqB,GACjD12C,GAAGq2C,QAAQ19B,IAAIjqB,KAAKjpD,KAAKA,IAyB9BkJ,EAAOgoG,uBAAyB,SAAUjzG,EAAK+B,EAAMwgG,GACnD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOgoG,wBAAwB,GACpD32C,GAAGoxC,IAAI5E,KAAKsB,IAAIp/C,KAAKjpD,KAAKA,IAyB/BkJ,EAAOioG,uBAAyB,SAAUlzG,EAAK+B,EAAMwgG,GACnD,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOioG,wBAAwB,GACpD52C,GAAGoxC,IAAI5E,KAAK7zB,IAAIjqB,KAAKjpD,KAAKA,IAkC/BkJ,EAAOkoG,OAAS,SAAUxoG,EAAIi8F,EAAW4D,EAAejI,IAClD,iBAAoBqE,GAAaA,aAAqBhwE,UACxD4zE,EAAgB5D,EAChBA,EAAY,MAGd,IAAIwM,EAAY,IAAI/N,EAAU16F,EAAI43F,EAAKt3F,EAAOkoG,QAAQ,GACnD72C,GAAG+2C,MAAMzM,EAAW4D,GACvB,OAAOr/F,EAAKioG,EAAW,WAgCzBnoG,EAAOqoG,aAAe,SAAU3oG,EAAIi8F,EAAW4D,EAAejI,IACxD,iBAAoBqE,GAAaA,aAAqBhwE,UACxD4zE,EAAgB5D,EAChBA,EAAY,MAGd,IAAIvB,EAAU16F,EAAI43F,EAAKt3F,EAAOqoG,cAAc,GACzCh3C,GAAGoxC,IAAI2F,MAAMzM,EAAW4D,IAoB7Bv/F,EAAOgiG,SAAW,SAAUt0E,EAAKs0E,EAAUI,EAAM9K,GAC/C,IAAIgF,EACJ,OAAO0F,GACL,IAAK,KACH1F,EAAK5uE,GAAO00E,EACZ,MACF,IAAK,MACH9F,EAAK5uE,IAAQ00E,EACb,MACF,IAAK,IACH9F,EAAK5uE,EAAM00E,EACX,MACF,IAAK,KACH9F,EAAK5uE,GAAO00E,EACZ,MACF,IAAK,IACH9F,EAAK5uE,EAAM00E,EACX,MACF,IAAK,KACH9F,EAAK5uE,GAAO00E,EACZ,MACF,IAAK,KACH9F,EAAK5uE,GAAO00E,EACZ,MACF,IAAK,MACH9F,EAAK5uE,IAAQ00E,EACb,MACF,QAEE,MADA9K,EAAMA,EAAMA,EAAM,KAAOA,EACnB,IAAI2C,EAAK16F,eACb+3F,EAAM,qBAAuB0K,EAAW,SACxC58F,EACApF,EAAOgiG,UAGb,IAAIv3D,EAAO,IAAI2vD,EAAUkC,EAAIhF,EAAKt3F,EAAOgiG,UAAU,GACnDv3D,EAAKzqC,QACD,IAASE,EAAKuqC,EAAM,UACpB,YAAcjrC,EAAKu3E,QAAQrpD,GAAO,UAAYs0E,EAAW,IAAMxiG,EAAKu3E,QAAQqrB,GAC5E,YAAc5iG,EAAKu3E,QAAQrpD,GAAO,cAAgBs0E,EAAW,IAAMxiG,EAAKu3E,QAAQqrB,KAmBtFpiG,EAAOqiE,QAAU,SAAUp3C,EAAKjM,EAAKwU,EAAO8jE,GAC1C,IAAI8C,EAAUnvE,EAAKqsE,EAAKt3F,EAAOqiE,SAAS,GAAMhR,GAAG2vC,GAAG3+B,QAAQrjD,EAAKwU,IAmBnExzB,EAAOsoG,cAAgB,SAAUr9E,EAAKjM,EAAKwU,EAAO8jE,GAChD,IAAI8C,EAAUnvE,EAAKqsE,EAAKt3F,EAAOsoG,eAAe,GAC3Cj3C,GAAG2vC,GAAGsH,cAActpF,EAAKwU,IAmB9BxzB,EAAOuoG,YAAc,SAAUC,EAAMC,EAAMnR,GACzC,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAOuoG,aAAa,GAC1Cl3C,GAAGwsC,KAAK6K,KAAKC,QAAQF,IAmB1BzoG,EAAO4oG,eAAiB,SAAUJ,EAAMC,EAAMnR,GAC5C,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAO4oG,gBAAgB,GAC7Cv3C,GAAGoxC,IAAI5E,KAAK6K,KAAKC,QAAQF,IAmB9BzoG,EAAO6oG,gBAAkB,SAAUL,EAAMC,EAAMnR,GAC7C,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAO6oG,iBAAiB,GAC9Cx3C,GAAGwsC,KAAK6K,KAAK3oD,KAAK4oD,QAAQF,IAmB/BzoG,EAAO8oG,mBAAqB,SAAUN,EAAMC,EAAMnR,GAChD,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAO8oG,oBAAoB,GACjDz3C,GAAGoxC,IAAI5E,KAAK6K,KAAK3oD,KAAK4oD,QAAQF,IAmBnCzoG,EAAO+oG,mBAAqB,SAAUP,EAAMC,EAAMnR,GAChD,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAO+oG,oBAAoB,GACjD13C,GAAGwsC,KAAK6K,KAAKvH,QAAQwH,QAAQF,IAmBlCzoG,EAAOgpG,sBAAwB,SAAUR,EAAMC,EAAMnR,GACnD,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAOgpG,uBAAuB,GACpD33C,GAAGoxC,IAAI5E,KAAK6K,KAAKvH,QAAQwH,QAAQF,IAmBtCzoG,EAAOipG,uBAAyB,SAAUT,EAAMC,EAAMnR,GACpD,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAOipG,wBAAwB,GACrD53C,GAAGwsC,KAAK6K,KAAK3oD,KAAKohD,QAAQwH,QAAQF,IAoBvCzoG,EAAOkpG,0BAA4B,SAAUV,EAAMC,EAAMnR,GACvD,IAAI8C,EAAUoO,EAAMlR,EAAKt3F,EAAOkpG,2BAA2B,GACxD73C,GAAGoxC,IAAI5E,KAAK6K,KAAK3oD,KAAKohD,QAAQwH,QAAQF,IAmB3CzoG,EAAOmpG,eAAiB,SAAU9H,EAAUN,EAAQzJ,GAClD,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOmpG,gBAAgB,GACjD93C,GAAGqrC,QAAQiM,QAAQ5H,IAmBxB/gG,EAAOopG,kBAAoB,SAAU/H,EAAUN,EAAQzJ,GACrD,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOopG,mBAAmB,GACpD/3C,GAAGoxC,IAAI/F,QAAQiM,QAAQ5H,IAmB5B/gG,EAAOqpG,mBAAqB,SAAUhI,EAAUN,EAAQzJ,GACtD,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOqpG,oBAAoB,GACrDh4C,GAAGqrC,QAAQ38C,KAAK4oD,QAAQ5H,IAmB7B/gG,EAAOspG,sBAAwB,SAAUjI,EAAUN,EAAQzJ,GACzD,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOspG,uBAAuB,GACxDj4C,GAAGoxC,IAAI/F,QAAQ38C,KAAK4oD,QAAQ5H,IAoBjC/gG,EAAOupG,sBAAwB,SAAUlI,EAAUN,EAAQzJ,GACzD,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOupG,uBAAuB,GACxDl4C,GAAGqrC,QAAQyE,QAAQwH,QAAQ5H,IAqBhC/gG,EAAOwpG,yBAA2B,SAAUnI,EAAUN,EAAQzJ,GAC5D,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOwpG,0BAA0B,GAC3Dn4C,GAAGoxC,IAAI/F,QAAQyE,QAAQwH,QAAQ5H,IAoBpC/gG,EAAOypG,0BAA4B,SAAUpI,EAAUN,EAAQzJ,GAC7D,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAOypG,2BAA2B,GAC5Dp4C,GAAGqrC,QAAQ38C,KAAKohD,QAAQwH,QAAQ5H,IAsBrC/gG,EAAO0pG,6BAA+B,SAAUrI,EAAUN,EAAQzJ,GAChE,IAAI8C,EAAUiH,EAAU/J,EAAKt3F,EAAO0pG,8BAA8B,GAC/Dr4C,GAAGoxC,IAAI/F,QAAQ38C,KAAKohD,QAAQwH,QAAQ5H,IAkBzC/gG,EAAO2pG,MAAQ,SAAUC,EAAQ9vD,EAAMw9C,GACrC,IAAI8C,EAAUwP,EAAQtS,EAAKt3F,EAAO2pG,OAAO,GAAMt4C,GAAG2vC,GAAG2I,MAAM7vD,IAqB7D95C,EAAO6pG,QAAU,SAAUnqG,EAAI3K,EAAKutB,EAAMg1E,GACf,IAArBpiG,UAAUC,QAA+B,mBAARJ,IACnCuiG,EAAMh1E,EACNA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAO6pG,SAAS,GAAMx4C,GAAG8+B,OAAOp7F,EAAKutB,IAsB9DtiB,EAAO8pG,UAAY,SAAUpqG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACjD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAO8pG,WAAW,GACtCz4C,GAAG8+B,OAAOp7F,EAAKutB,GAAM1c,GAAG4tB,IAqB7BxzB,EAAOgqG,cAAgB,SAAUtqG,EAAI3K,EAAKutB,EAAMg1E,GAM9C,OALyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,IACnCuiG,EAAMh1E,EACNA,EAAO,MAGF,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOgqG,eAAe,GACjD34C,GAAGoxC,IAAItS,OAAOp7F,EAAKutB,IAsBxBtiB,EAAOiqG,gBAAkB,SAAUvqG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACvD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOiqG,iBAAiB,GAC5C54C,GAAG8+B,OAAOp7F,EAAKutB,GAAM4nF,IAAIzH,IAAI78F,GAAG4tB,IAqBrCxzB,EAAOmqG,UAAY,SAAUzqG,EAAI3K,EAAKutB,EAAMg1E,GAM1C,OALyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,IACnCuiG,EAAMh1E,EACNA,EAAO,MAGF,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOmqG,WAAW,GAC7C94C,GAAG+4C,SAASr1G,EAAKutB,IAsBtBtiB,EAAOqqG,YAAc,SAAU3qG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACnD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOqqG,aAAa,GACxCh5C,GAAG+4C,SAASr1G,EAAKutB,GAAM1c,GAAG4tB,IAqB/BxzB,EAAOsqG,gBAAkB,SAAU5qG,EAAI3K,EAAKutB,EAAMg1E,GAMhD,OALyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,IACnCuiG,EAAMh1E,EACNA,EAAO,MAGF,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOsqG,iBAAiB,GACnDj5C,GAAGoxC,IAAI2H,SAASr1G,EAAKutB,IAsB1BtiB,EAAOuqG,kBAAoB,SAAU7qG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACzD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOuqG,mBAAmB,GAC9Cl5C,GAAG+4C,SAASr1G,EAAKutB,GAAM4nF,IAAIzH,IAAI78F,GAAG4tB,IAqBvCxzB,EAAOwqG,UAAY,SAAU9qG,EAAI3K,EAAKutB,EAAMg1E,GAM1C,OALyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,IACnCuiG,EAAMh1E,EACNA,EAAO,MAGF,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAOwqG,WAAW,GAC7Cn5C,GAAGo5C,SAAS11G,EAAKutB,IAsBtBtiB,EAAO0qG,YAAc,SAAUhrG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACnD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAO0qG,aAAa,GACxCr5C,GAAGo5C,SAAS11G,EAAKutB,GAAM1c,GAAG4tB,IAqB/BxzB,EAAO2qG,gBAAkB,SAAUjrG,EAAI3K,EAAKutB,EAAMg1E,GAMhD,OALyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,IACnCuiG,EAAMh1E,EACNA,EAAO,MAGF,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAO2qG,iBAAiB,GACnDt5C,GAAGoxC,IAAIgI,SAAS11G,EAAKutB,IAsB1BtiB,EAAO4qG,kBAAoB,SAAUlrG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACzD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,OAAO,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAO4qG,mBAAmB,GACrDv5C,GAAGoxC,IAAIgI,SAAS11G,EAAKutB,GAAM1c,GAAG4tB,IAsBnCxzB,EAAO6qG,kBAAoB,SAAUnrG,EAAI3K,EAAKutB,EAAMkR,EAAO8jE,GACzD,GAAyB,IAArBpiG,UAAUC,QAA+B,mBAARJ,EAAoB,CACvD,IAAIg1G,EAASv2E,EACbA,EAAQlR,EACRg1E,EAAMyS,OACwB,IAArB70G,UAAUC,SACnBq+B,EAAQlR,EACRA,EAAO,MAGT,IAAI83E,EAAU16F,EAAI43F,EAAKt3F,EAAO6qG,mBAAmB,GAC9Cx5C,GAAGo5C,SAAS11G,EAAKutB,GAAM4nF,IAAIzH,IAAI78F,GAAG4tB;;;;;;;;;;;;;;;MAmBvCxzB,EAAO8qG,QAAU,SAAUp9E,GACzB,GAAIA,EACF,MAAK,GAmBT1tB,EAAOy3F,aAAe,SAAU1iG,EAAKuiG,GACnC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOy3F,cAAc,GAAMpmC,GAAG2vC,GAAG+J,YAwB3D/qG,EAAOgrG,gBAAkB,SAAUj2G,EAAKuiG,GACtC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOgrG,iBAAiB,GAAM35C,GAAGoxC,IAAIzB,GAAG+J,YAuBlE/qG,EAAO6hG,SAAW,SAAU9sG,EAAKuiG,GAC/B,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO6hG,UAAU,GAAMxwC,GAAG2vC,GAAGiK,QAkBvDjrG,EAAOkrG,YAAc,SAAUn2G,EAAKuiG,GAClC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOkrG,aAAa,GAAM75C,GAAGoxC,IAAIzB,GAAGiK,QAoB9DjrG,EAAO8hG,SAAW,SAAU/sG,EAAKuiG,GAC/B,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAO8hG,UAAU,GAAMzwC,GAAG2vC,GAAGmK,QAkBvDnrG,EAAOorG,YAAc,SAAUr2G,EAAKuiG,GAClC,IAAI8C,EAAUrlG,EAAKuiG,EAAKt3F,EAAOorG,aAAa,GAAM/5C,GAAGoxC,IAAIzB,GAAGmK,QAyB9DnrG,EAAOqrG,QAAU,SAAS39E,EAAK4pE,GAC7B,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOqrG,SAAS,GAAMh6C,GAAG2vC,GAAGxnE,OAyBtDx5B,EAAOsrG,WAAa,SAAS59E,EAAK4pE,GAChC,IAAI8C,EAAU1sE,EAAK4pE,EAAKt3F,EAAOsrG,YAAY,GAAMj6C,GAAGoxC,IAAIzB,GAAGxnE;;;;AAO7D,SAAU+xE,EAAMj4G,EAAMk4G,GAEpB,OADAxrG,EAAOwrG,GAAMxrG,EAAO1M,GACbi4G,EAFT,CAIC,OAAQ,KAJT,CAKC,UAAW,QALZ,CAMC,SAAU,QANX,CAOC,SAAU,QAPX,CAQC,eAAgB,aARjB,CASC,kBAAmB,gBATpB,CAUC,WAAY,SAVb,CAWC,cAAe,YAXhB,CAYC,WAAY,SAZb,CAaC,cAAe,YAbhB,CAcC,UAAW,QAdZ,CAeC,aAAc,c,mDCpiGF,WCFZh5F,GAAG,WACAA,EAAG,oBAAqBk5F,OAAO,CAC7B5uG,OAAO,EACP5B,IAAK,IACLC,IAAK,IACLb,OAAQ,CAAE,IAAK,KACf+F,KAAM,GACNsrG,MAAO,SAAUjwF,EAAOkwF,GACxBp5F,EAAG,aAAcmb,IAAKi+E,EAAGtxG,OAAQ,GAAM,MAAQsxG,EAAGtxG,OAAQ,IAC1DkY,EAAG,WAAYmb,IAAIi+E,EAAGtxG,OAAQ,IAC9BkY,EAAG,WAAYmb,IAAIi+E,EAAGtxG,OAAQ,OAGhCkY,EAAG,aAAcmb,IAAKnb,EAAG,oBAAqBk5F,OAAQ,SAAU,GAChE,MAAQl5F,EAAG,oBAAqBk5F,OAAQ,SAAU,IAClDl5F,EAAG,WAAYmb,IAAInb,EAAG,oBAAqBk5F,OAAQ,SAAU,IAC7Dl5F,EAAG,WAAYmb,IAAInb,EAAG,oBAAqBk5F,OAAQ,SAAU,OAGhEl5F,GAAG,WACAA,EAAG,qBAAsBk5F,OAAO,CAC9B5uG,OAAO,EACP5B,IAAK,GACLC,IAAK,GACLb,OAAQ,CAAE,GAAI,IACd+F,KAAM,GACNsrG,MAAO,SAAUjwF,EAAOkwF,GACxBp5F,EAAG,cAAemb,IAAKi+E,EAAGtxG,OAAQ,GAAM,MAAQsxG,EAAGtxG,OAAQ,IAC3DkY,EAAG,YAAamb,IAAIi+E,EAAGtxG,OAAQ,IAC/BkY,EAAG,YAAamb,IAAIi+E,EAAGtxG,OAAQ,OAGjCkY,EAAG,cAAemb,IAAKnb,EAAG,qBAAsBk5F,OAAQ,SAAU,GAClE,MAAQl5F,EAAG,qBAAsBk5F,OAAQ,SAAU,IACnDl5F,EAAG,YAAamb,IAAInb,EAAG,qBAAsBk5F,OAAQ,SAAU,IAC/Dl5F,EAAG,YAAamb,IAAInb,EAAG,qBAAsBk5F,OAAQ,SAAU,OD5BnE1xF,SAASU,eAAe,cAAcigC,UAAY,wCAGlD3gC,SAASU,eAAe,gBAAgBmxF,UAAW,EACnD7xF,SAASU,eAAe,eAAemxF,UAAW,EAGlD7xF,SAASU,eAAe,6BAA6BmxF,UAAW,EAgBhE7xF,SAAS/R,iBAAiB,UAAWyT,IACb,KAAlBA,EAAMowF,SAfZ,WAEE,IAAIC,EAAY1iG,OAAO2iG,aAAehyF,SAASqhC,gBAAgB0wD,UAC3DE,EAAa5iG,OAAO6iG,aAAelyF,SAASqhC,gBAAgB4wD,WAE5D5iG,OAAO8iG,SAAW,WACd9iG,OAAO+iG,SAASH,EAAYF,IAWlCM,KAGJryF,SAAS/R,iBAAiB,QAASyT,IACX,KAAlBA,EAAMowF,UAVVziG,OAAO8iG,SAAW,gBA2CpB,IAMI53B,EAAM,kBANG,CACX3tE,UAAW,SACXwH,SAAU,CAAC,IAAM,KACjB42D,WAAW,IAwHbhrD,SAASU,eAAe,eAAeyF,QAAU,KAC/C,IACEo0D,EAAIx9B,OAEN,MAAMl5C,GACJ/D,QAAQC,IAAI8D,KAGhBmc,SAASU,eAAe,gBAAgByF,QAAU,KAChD,IACEo0D,EAAIt3E,QAEN,MAAMY,GACJ/D,QAAQC,IAAI8D,KAIhBmc,SAASU,eAAe,cAAc4xF,SApInBpkG,IAEjB8R,SAASU,eAAe,6BAA6BmxF,UAAW,EAEhEt3B,EAAIriD,MAAM,CACRpQ,OAAQ5Z,EAAIkgC,OAAOmkE,MAAM,GACzBlnC,UAAW,IACXnuE,OAAQ,CACNs1G,YAAa,SACbC,KAAM,QACNC,MAAO,QACPC,MAAO,QACPC,MAAO,QACPC,UAAW,UAwHjB7yF,SAASU,eAAe,6BAA6ByF,QAnH9B,KAErB,IAAI2sF,EA1CN,WAEE,IAAIA,EAAK,CAACt6F,EAAE,oBAAoBk5F,OAAO,SAAU,UAAU,GAAIl5F,EAAE,oBAAoBk5F,OAAO,SAAU,UAAU,IAEhH,OADA5xG,QAAQC,IAAI+yG,GACLA,EAsCEC,GACLC,EApCN,WAEE,IAAIA,EAAM,CAACx6F,EAAE,qBAAqBk5F,OAAO,SAAU,UAAU,GAAIl5F,EAAE,qBAAqBk5F,OAAO,SAAU,UAAU,IAEnH,OADA5xG,QAAQC,IAAIizG,GACLA,EAgCGC,GACNC,EAzDN,SAA2BC,EAASC,GAClC,IAAIC,EAAa76F,EAAE,oBAAoBk5F,OAAO,SAAU,OAASl5F,EAAE,oBAAoBk5F,OAAO,SAAU,OAEpG4B,GADcH,EAAQ,GAAKA,EAAQ,IACXE,EAExBE,EAAc/6F,EAAE,qBAAqBk5F,OAAO,SAAU,OAASl5F,EAAE,qBAAqBk5F,OAAO,SAAU,OAEvG8B,GADeJ,EAAS,GAAKA,EAAS,IACZG,EAG9B,OADAzzG,QAAQC,IAAIuzG,EAAS,OAAQE,GACtB,CAAS,KAARF,EAAuB,KAATE,GA+CRC,CAAkBX,EAAIE,GAGhC3kF,EAAQ,CACV,CACEjmB,GAAI,YAAaoD,OAAQ,CAAC,GAAG,GAC7B2U,QAAS,CAACtR,KAAM,GAAIM,MAAO,GAAIL,IAAK,GAAIM,OAAQ,IAChDtC,MAAOomG,EAAQ,GAAInmG,OAAQmmG,EAAQ,IAErC,CACE9qG,GAAI,oBAAqBoD,OAAQ,CAAC,GAAI0nG,EAAQ,GAAG,IACjD/yF,QAAS,CAACtR,KAAM,GAAIM,MAAO,GAAIL,IAAK,GAAIM,OAAQ,IAChDtC,MAAO,IAAKC,OAAQ,MAKxByL,EAAG,oBAAqBk5F,OAAQ,SAAU,YAAY,GACtDl5F,EAAG,qBAAsBk5F,OAAQ,SAAU,YAAY,GACvD1xF,SAASU,eAAe,6BAA6BmxF,UAAW,EAChE7xF,SAASU,eAAe,cAAcigC,UAAY,+CAElD3gC,SAASU,eAAe,gBAAgBmxF,UAAW,EACnD7xF,SAASU,eAAe,eAAemxF,UAAW,EAElDt3B,EAAI/pD,KAAKnC,GACTksD,EAAIzO,MAAM,CACR,CACE9gE,MAAO,CACLynG,KAAMK,EACNJ,MAAOM,GAETjgG,UAAW,CACTyf,KAAM,CAAC,CAACigF,KAAMS,EAAQ,IAAK,CAACR,MAAOQ,EAAQ,KAC3Cx9F,SAAU,CACRg+F,WAAY,CAACziC,OAAQ,OAGzBl7D,IAAK,aAEP,CACE/K,MAAO,CACLynG,KAAMK,GAER//F,UAAW,CACTyf,KAAM,CAACigF,KAAMrzG,KAAK+gC,MAAiB,EAAX+yE,EAAQ,KAChCx9F,SAAU,CACRi+F,aAAc,CAAC1iC,OAAQ,KACvB2iC,UAAW,CAACC,KAAM,OAGtB99F,IAAK,YAENi2D,SAAS,CACV,CACEn/C,UAAW,CACTzkB,GAAI,YACJynB,GAAI,YACJ7R,KAAM,YACN5Q,MAAO,CACLzF,MAAO,aACP4V,SAAU,QAEZtR,EAAG,OACHD,EAAG,UAGP,CACE6gB,UAAW,CACTzkB,GAAI,oBACJynB,GAAI,SACJ7R,KAAM,OACN5Q,MAAO,YACPnB,EAAG,OACHD,EAAG,mBAIR2sB,SAAS,CACR,CACEjX,MAAO,CAAC,MAAM,QACdrI,KAAM,YACN+X,SAAU,CACR0iF,SAAU,CACR9lC,SAAU,CAAC5gE,MAAO,eEvL9B","file":"pv-demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 69);\n","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .flag(object, key, [value])\n *\n * Get or set a flag value on an object. If a\n * value is provided it will be set, else it will\n * return the currently set value or `undefined` if\n * the value is not set.\n *\n *     utils.flag(this, 'foo', 'bar'); // setter\n *     utils.flag(this, 'foo'); // getter, returns `bar`\n *\n * @param {Object} object constructed Assertion\n * @param {String} key\n * @param {Mixed} value (optional)\n * @namespace Utils\n * @name flag\n * @api private\n */\n\nmodule.exports = function flag(obj, key, value) {\n  var flags = obj.__flags || (obj.__flags = Object.create(null));\n  if (arguments.length === 3) {\n    flags[key] = value;\n  } else {\n    return flags[key];\n  }\n};\n","const int      = Int32Array;\nconst short    = Int16Array;\nconst float    = Float32Array;\nconst double   = Float64Array;\nconst string   = Uint16Array;\nconst time     = Float32Array;\nconst datetime = Float32Array;\nconst temporal = Float32Array;\nconst integer  = Int32Array;\nconst numeric  = Float32Array;\nconst nominal  = Uint16Array;\n\nexport {\n    int,\n    short,\n    float,\n    double,\n    string,\n    time,\n    datetime,\n    temporal,\n    integer,\n    numeric,\n    nominal\n};\n","import * as ctypes from './ctypes';\r\nimport {unique} from './arrays';\r\n\r\nconst __VERSION__ = 1.0;\r\n\r\nexport default function ColumnStore(arg){\r\n    var cstore     = (this instanceof ColumnStore) ? this : {},\r\n        options    = arg || {},\r\n        columns    = [],                  // column-based binary data\r\n        size       = options.size  || 0,   // max size\r\n        count      = options.count || 0,   // number of entries stored\r\n        types      = options.types || [],  // types of the columns\r\n        attributes = options.attributes || options.keys || options.names || [],  // column attributes\r\n        struct     = options.struct || options.schema || null,\r\n        strValues  = options.strValues || {},  // string values \r\n        strLists   = options.strLists  || {},  // table lookaside buffer\r\n        intervals  = {},\r\n        indexes    = options.indexes || {},\r\n        colStats   = {},\r\n        colAlloc   = {},\r\n        colRead    = {},                  // functions for reading values\r\n        skip       = options.skip  || 0;\r\n\r\n    if(typeof(struct) === 'object') initStruct(struct);\r\n\r\n    function initCStore() {\r\n        if(size && types.length === attributes.length && types.length > 0) {\r\n            attributes.forEach(function(c, i){\r\n                configureColumn(i);\r\n                columns[i] = new colAlloc[c](size);\r\n                if(!columns.hasOwnProperty(c)) {\r\n                    Object.defineProperty(columns, c, {\r\n                        get: function() { return columns[i]; }\r\n                    });\r\n                }\r\n                if(intervals.hasOwnProperty(c)) {\r\n                    cstore.intervalize(c, intervals[c]);\r\n                }\r\n\r\n                if(strValues[c] && Object.keys(strValues[c]).length > 0) {\r\n                    strLists[c] = Object.keys(strValues[c]);\r\n                }\r\n\r\n            });\r\n            columns.attributes = attributes;\r\n            columns.keys = attributes;\r\n            columns.types = types;\r\n            columns.struct = struct;\r\n            columns.strLists = strLists;\r\n            columns.strValues = strValues;\r\n            columns.uniqueValues = indexes;\r\n            columns.size = size;\r\n            columns.get = function(c) {\r\n                var index = attributes.indexOf(c);\r\n                if(index < 0 ) throw new Error(\"Error: No column named \" + c);\r\n                return columns[index];\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    function initStruct(s) {\r\n        struct = s;\r\n        if(Array.isArray(struct)) {\r\n            struct.forEach(function(s){\r\n                attributes.push(s.name);\r\n                types.push(s.type || s.dtype);\r\n            })\r\n        } else {\r\n            for(var k in struct){\r\n                attributes.push(k);\r\n                types.push(struct[k]);\r\n            }\r\n        }\r\n        return struct;\r\n    }\r\n\r\n    function configureColumn(cid) {\r\n        if(typeof(cid) == \"string\") cid = attributes.indexOf(cid);\r\n        var f = attributes[cid];\r\n        colAlloc[f] = ctypes[types[cid]];\r\n        var columnType = types[cid]\r\n        if(columnType === 'string' || columnType === 'str'){\r\n            if (!strValues.hasOwnProperty(f)) {\r\n                strValues[f] = {};\r\n                strLists[f] = [];\r\n            }\r\n            colRead[f] = function(value) {\r\n                if(!strValues[f].hasOwnProperty(value)){\r\n                    strValues[f][value] = strLists[f].length;\r\n                    strLists[f].push(value);\r\n                }\r\n                return strValues[f][value];\r\n            };\r\n        } else if(['int', 'short', 'integer'].includes(columnType)) {\r\n            colRead[f] = function(value) { return parseInt(value) || 0; };\r\n        } else if(['float', 'double', 'numeric'].includes(columnType)){\r\n            colRead[f] = function(value) { return parseFloat(value) || 0.0; };\r\n        } else if(['date', 'time', 'datetime'].includes(columnType)){\r\n            colRead[f] = function(value) { \r\n                let datetime = new Date(value);\r\n                let ts = datetime.getTime() / 1000 - datetime.getTimezoneOffset() * 60; \r\n                return Math.floor(ts);\r\n            };\r\n        } else {\r\n            throw new Error(\"Invalid data type for TypedArray data!\")\r\n        }\r\n    }\r\n\r\n    cstore.addRows = function(rowArray) {\r\n        if(size === 0) {\r\n            size = rowArray.length;\r\n            initCStore();\r\n        }\r\n        if(count === 0 && skip > 0) {\r\n            for(var j = 0; j<skip; j++)\r\n                rowArray.shift();\r\n        }\r\n        rowArray.forEach(function(row, i){\r\n            row.forEach(function(v,j){\r\n                columns[j][count] = colRead[attributes[j]](v);\r\n            });\r\n            count++;\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    cstore.addObjects = function(objArray) {\r\n        if(count === 0 && skip > 0) {\r\n            for(var j = 0; j<skip; j++)\r\n                objArray.shift();\r\n        }\r\n        objArray.forEach(function(obj, i){\r\n            Object.keys(obj).forEach(function(v,j){\r\n                if(typeof colRead[attributes[j]] !== 'function') {\r\n                    console.log(attributes[j], j, v, obj)\r\n                }\r\n                columns[j][count] = colRead[attributes[j]](obj[v]);\r\n            });\r\n            count++;\r\n        });\r\n        return count;\r\n    }\r\n\r\n    cstore.addColumn = function(arg) {\r\n        var props = arg || {},\r\n            columnData = props.data || props.array,\r\n            columnName = props.name,\r\n            columnType = props.dtype,\r\n            values = props.values || [];\r\n\r\n        var cid = attributes.indexOf(columnName);\r\n        if( cid < 0) {\r\n            attributes.push(columnName);\r\n            types.push(columnType);\r\n            configureColumn(columnName);\r\n            cid = types.length - 1;\r\n            Object.defineProperty(columns, columnName, {\r\n                get: function() { return columns[cid]; }\r\n            });\r\n        }\r\n\r\n        if(columnData instanceof ctypes[types[cid]]) {\r\n            columns[cid] = columnData;\r\n            if(values.length) {\r\n                strLists[columnName] = values;\r\n                strValues[columnName] = {};\r\n                values.forEach(function(value, vi){\r\n                    strValues[columnName][value] = vi;\r\n                })\r\n            }\r\n        } else if(ArrayBuffer.isView(columnData)){\r\n            columns[cid] = new colAlloc[columnName](size);\r\n            for(var di = 0; di < size; di++) {\r\n                columns[cid][di] = colRead[columnName](columnData[di]);\r\n            }\r\n        } else {\r\n            throw new Error(\"Error: Invalid data type for columnArray!\");\r\n        }\r\n        size = count = columnData.length;\r\n    }\r\n\r\n    cstore.metadata = cstore.info = function() {\r\n        return {\r\n            size: size,\r\n            count: count,\r\n            attributes: attributes,\r\n            types: types,\r\n            strLists: strLists,\r\n            strValues: strValues,\r\n            stats: cstore.stats()\r\n        }\r\n    }\r\n\r\n    cstore.columns = function() {\r\n        return columns;\r\n    }\r\n\r\n    cstore.data = function() {\r\n        var data = columns;\r\n        data.stats = cstore.stats();\r\n        data.keys = attributes;\r\n        data.size = size;\r\n        data.strValues = strValues;\r\n        data.strLists = strLists;\r\n        data.dtypes = types;\r\n        data.export = cstore.export;\r\n        data._p4_cstore_version = __VERSION__;\r\n        return data;\r\n    }\r\n\r\n    cstore.stats = function(col){\r\n        var col = col || attributes;\r\n        col.forEach(function(name, c){\r\n            if(!colStats[c]){\r\n                var min, max, avg;\r\n                min = max = avg = columns[c][0];\r\n\r\n                for(var i = 1; i < columns[c].length; i++){\r\n                    var d = columns[c][i];\r\n                    if(d > max) max = d;\r\n                    else if(d < min) min = d;\r\n                    avg = avg - (avg-d) / i;\r\n                }\r\n                if(max == min) max += 0.000001;\r\n                colStats[name] = {min: min, max: max, avg: avg};\r\n            }\r\n        })\r\n        return colStats;\r\n    }\r\n\r\n    cstore.domains = function(col){\r\n        var col = col || attributes,\r\n            domains = [];\r\n\r\n        col.forEach(function(name, c){\r\n            domains[name] = [colStats[name].min, colStats[name].max];\r\n        })\r\n        return domains;\r\n    }\r\n\r\n    cstore.ctypes = function() {\r\n        return ctypes;\r\n    }\r\n\r\n    cstore.size = size;\r\n\r\n    cstore.exportAsJSON = function() {\r\n        var rows = new Array(size);\r\n        for(var ri = 0; ri < size; ri++) {\r\n            var dataFrame = {};\r\n            attributes.forEach(function(attr, ai) {\r\n                if(types[ai] == 'string') {\r\n                    dataFrame[attr] = strLists[attr][columns[ai][ri]];\r\n                } else if(indexes.hasOwnProperty(attr)) {\r\n                    dataFrame[attr] = indexes[attr][columns[ai][ri]];\r\n                } else {\r\n                    dataFrame[attr] = columns[ai][ri];\r\n                }\r\n            })\r\n            rows[ri] = dataFrame;\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    cstore.exportAsRowArray = function() {\r\n        var rows = new Array(size);\r\n        for(var ri = 0; ri < size; ri++) {\r\n            var row = new Array(attributes.length);\r\n            attributes.forEach(function(attr, ai) {\r\n                if(types[ai] == 'string') {\r\n                    row[ai] = strLists[attr][columns[ai][ri]];\r\n                } else if(indexes.hasOwnProperty(attr)) {\r\n                    row[ai] = indexes[attr][columns[ai][ri]];\r\n                } else {\r\n                    row[ai] = columns[ai][ri];\r\n                }\r\n            })\r\n            rows[ri] = row;\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    cstore.export = function(arg) {\r\n        var format = arg || 'json';\r\n        if(format == 'rowArray') {\r\n            return cstore.exportAsRowArray();\r\n        } else {\r\n            return cstore.exportAsJSON();\r\n        }\r\n    }\r\n\r\n    cstore.import = function({\r\n        data,\r\n        schema = null,\r\n        type = 'json'\r\n    }) {\r\n        size = data.length;\r\n        if(typeof(schema == 'object')) initStruct(schema);\r\n        initCStore();\r\n        if(type === 'json') {\r\n            cstore.addObjects(data);\r\n        } else {\r\n            cstore.addRows(data);\r\n        }\r\n        \r\n        return cstore;\r\n    }\r\n\r\n    cstore.scale = function(attr, factor) {\r\n        let len = columns[attr].length;\r\n        for(var i = 0; i < len; i++) {\r\n            columns[attr] *= factor;\r\n        }\r\n        return cstore;\r\n    }\r\n\r\n    cstore.normalize = function(attr) {\r\n        if(!colStats.hasOwnProperty(attr)) {\r\n            cstore.stats();\r\n        }\r\n        let fid = attributes.indexOf(attr);\r\n        let len = columns[attr].length;\r\n        let max = colStats[f].max;\r\n        let min = colStats[f].min;\r\n\r\n        if(types[fid] === 'float') {\r\n            for(var i = 0; i < len; i++) {\r\n                columns[attr][i] = (columns[attr][i] - min) / (max - min);\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    cstore.intervalize = function(attr, interval) {\r\n        intervals[attr] = interval;\r\n        if(!colStats.hasOwnProperty(attr)) {\r\n            cstore.stats([attr]);\r\n        }\r\n        let fid = attributes.indexOf(attr);\r\n        let len = columns[attr].length;\r\n        let min = colStats[f].min;\r\n\r\n        if(types[fid] === 'int' || types[fid] === 'float') {\r\n            for(var i = 0; i < len; i++) {\r\n                columns[attr][i] = (columns[attr][i] - min) / interval;\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    cstore.index = function(attr) {\r\n        let attrId = attributes.indexOf(attr);\r\n        if(attrId === -1) throw Error('Invalid attribute for indexing');\r\n        types[attrId] = 'int';\r\n        indexes[attr] = unique(columns[attr]).sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        let len = columns[attr].length;\r\n        for(var i = 0; i < len; i++) {\r\n            columns[attr][i] = indexes[attr].indexOf(columns[attr][i]); \r\n        }\r\n        \r\n        return cstore;\r\n    }\r\n\r\n    return initCStore();\r\n}\r\n","function _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if (!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\nexport function reduce(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\nexport function avg(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\nexport function normalize(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a) {\n        return (a - min) / range;\n    });\n}\n\nexport function seq(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for (var i = start; i <= end; i += interval)\n        array.push(i);\n\n    return array;\n};\n\n// [\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n//     array[f] = array.reduce(f);\n// });\n\n// export sum = array.reduce(\"+\");\n\nexport function scan(a) {\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\nexport function iscan(a) {\n    return array.scan([0].concat(a));\n};\n\nexport function diff(a, b) {\n    var difference = [];\n    a.forEach(function(d) {\n        if (b.indexOf(d) === -1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\nexport function intersect(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function(e) {\n        if (b.indexOf(e) !== -1) return true;\n    });\n};\n\nexport function unique(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\nexport function lcm(A) {\n    var n = A.length,\n        a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]),\n            c = a;\n        while (a && b) {\n            (a > b) ? a %= b: b %= a;\n        }\n        a = Math.abs(c * A[i]) / (a + b);\n    }\n    return a;\n};\n\nexport function stats(array) {\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\nexport function histogram(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin + 1).fill(0);\n\n    for (var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b / (numBin)), min + range * (b + 1) / (numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for (var i = 0; i < l; i++) {\n        binID = Math.floor((array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin - 1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0, numBin),\n        // ids: ids\n    };\n}\n\nexport function variance(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a) {\n            return Math.pow(a - m, 2)\n        });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\nexport function std(rowArray) {\n    return Math.sqrt(variance(rowArray));\n}\n\nexport function vectorAdd(a, b) {\n    var c = [];\n    a.forEach(function(v, i) {\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nexport function vectorSum(vectors) {\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for (var i = 1; i < numberOfVectors; i++) {\n        result = array.vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b) {\n    var c = [];\n    a.forEach(function(v, i) {\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nexport function vectorAvg(vectors) {\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for (var i = 1; i < numberOfVectors; i++) {\n        result = _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar used = [];\n\n/*!\n * Chai version\n */\n\nexports.version = '4.2.0';\n\n/*!\n * Assertion Error\n */\n\nexports.AssertionError = require('assertion-error');\n\n/*!\n * Utils for plugins (not exported)\n */\n\nvar util = require('./chai/utils');\n\n/**\n * # .use(function)\n *\n * Provides a way to extend the internals of Chai.\n *\n * @param {Function}\n * @returns {this} for chaining\n * @api public\n */\n\nexports.use = function (fn) {\n  if (!~used.indexOf(fn)) {\n    fn(exports, util);\n    used.push(fn);\n  }\n\n  return exports;\n};\n\n/*!\n * Utility Functions\n */\n\nexports.util = util;\n\n/*!\n * Configuration\n */\n\nvar config = require('./chai/config');\nexports.config = config;\n\n/*!\n * Primary `Assertion` prototype\n */\n\nvar assertion = require('./chai/assertion');\nexports.use(assertion);\n\n/*!\n * Core Assertions\n */\n\nvar core = require('./chai/core/assertions');\nexports.use(core);\n\n/*!\n * Expect interface\n */\n\nvar expect = require('./chai/interface/expect');\nexports.use(expect);\n\n/*!\n * Should interface\n */\n\nvar should = require('./chai/interface/should');\nexports.use(should);\n\n/*!\n * Assert interface\n */\n\nvar assert = require('./chai/interface/assert');\nexports.use(assert);\n","/*!\n * Chai - transferFlags utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .transferFlags(assertion, object, includeAll = true)\n *\n * Transfer all the flags for `assertion` to `object`. If\n * `includeAll` is set to `false`, then the base Chai\n * assertion flags (namely `object`, `ssfi`, `lockSsfi`,\n * and `message`) will not be transferred.\n *\n *\n *     var newAssertion = new Assertion();\n *     utils.transferFlags(assertion, newAssertion);\n *\n *     var anotherAssertion = new Assertion(myObj);\n *     utils.transferFlags(assertion, anotherAssertion, false);\n *\n * @param {Assertion} assertion the assertion to transfer the flags from\n * @param {Object} object the object to transfer the flags to; usually a new assertion\n * @param {Boolean} includeAll\n * @namespace Utils\n * @name transferFlags\n * @api private\n */\n\nmodule.exports = function transferFlags(assertion, object, includeAll) {\n  var flags = assertion.__flags || (assertion.__flags = Object.create(null));\n\n  if (!object.__flags) {\n    object.__flags = Object.create(null);\n  }\n\n  includeAll = arguments.length === 3 ? includeAll : true;\n\n  for (var flag in flags) {\n    if (includeAll ||\n        (flag !== 'object' && flag !== 'ssfi' && flag !== 'lockSsfi' && flag != 'message')) {\n      object.__flags[flag] = flags[flag];\n    }\n  }\n};\n","import * as ctypes from './ctypes';\n\nexport function seq(dtype, start, end, interval) {\n    var step = interval || 1,\n        size = (end - start) / step + 1,\n        buf;\n\n    buf = new ctypes[dtype](size);\n    for (var i = 0; i < size; i++) {\n        buf[i] = start + i * step;\n    }\n    return buf;\n}\n\nexport let seqInt = seq.bind(null, \"int\");\nexport let seqFloat = seq.bind(null, \"float\");\n","import {seqFloat} from './utils';\nimport {unique} from './arrays';\nconst vecId = ['x', 'y', 'z'];\nexport default function($p, dataProps) {\n    let data = dataProps || [];\n    $p.indexes = data.indexes || [];\n    $p.categoryIndex = data.strValues || {};\n    $p.strValues = data.strValues || {};\n    $p.strLists = data.strLists || {};\n    $p.dkeys =  data.keys || [];\n    $p.dtypes =  data.dtypes || data.types || [];\n    $p.intervals =  data.intervals || {};\n    $p.uniqueValues = data.uniqueValues;\n    $p.dataSchema = data.struct;\n\n    let dkeys = $p.dkeys;\n    let dtypes = $p.dtypes;\n    let stats =  data.stats || null;\n    \n    if (Number.isInteger(data.size)) {\n        $p.dataSize = data.size;\n    } else if (Array.isArray(data)) {\n        $p.dataSize = Math.max(...data.map(d => d.length));\n    }\n\n    let rowSize = Math.min($p.dataSize, $p.rowSize);\n    let colSize = Math.ceil($p.dataSize / rowSize);\n\n    $p.dataDimension = [rowSize, colSize];\n    $p.resultDimension = [rowSize, colSize];\n    $p.fields = $p.indexes.concat(dkeys.filter(function(k) {\n        return $p.indexes.indexOf(k) === -1;\n    }));\n    $p.fieldWidths = new Array($p.fields.length).concat(new Array($p.deriveMax).fill(1));\n    $p.fieldCount = $p.fields.length - $p.indexes.length;\n   \n    function getDataWidth(fid, range) {\n        var range = Math.abs(range[1] - range[0]);\n        if (dtypes[fid] == \"index\" || dtypes[fid] == \"int\" || dtypes[fid] == \"string\") {\n            return range + 1;\n        } else if (dtypes[fid] == \"histogram\") {\n            return range + 1;\n        } else if ([\"nominal\", \"ordinal\", \"categorical\"].indexOf(dtypes[fid]) > -1) {\n            return data.TLB.length;\n        } else if (dtypes[fid] in [\"float\", \"double\", \"numeric\"]) {\n            return 10;\n        } else {\n            return range + 1;\n        }\n    }\n    $p.fields.forEach(function(field) {\n        var min = stats[field].min,\n            max = stats[field].max,\n            fi = dkeys.indexOf(field);\n        $p.fieldWidths[fi] = getDataWidth(fi, [min, max]);\n    });\n    $p.getDataWidth = getDataWidth;\n    $p.deriveDomains = new Array($p.deriveMax).fill([0, 1]);\n    $p.deriveWidths = new Array($p.deriveMax).fill(1);\n    $p.deriveFieldCount = 0;\n\n    $p.getFieldId = function (fieldName) {\n        let fieldId = $p.fields.indexOf(fieldName);\n        if($p.indexes.length > 0 && fieldId >= $p.indexes.length) {\n            fieldId -= $p.indexes.length; \n        }\n        return fieldId; \n    }\n\n    if ($p.indexes.length === 0) {\n        $p.attribute(\"aDataIdx\", \"float\", seqFloat(0, $p.dataDimension[0] - 1));\n        $p.attribute(\"aDataIdy\", \"float\", seqFloat(0, $p.dataDimension[1] - 1));\n        $p.attribute(\"aDataValx\", \"float\", seqFloat(0, $p.dataDimension[0] - 1));\n        $p.attribute(\"aDataValy\", \"float\", seqFloat(0, $p.dataDimension[1] - 1));\n    } else {\n        $p.indexes.forEach(function(id, i) {\n            let indexAttrData = unique(data[id]).sort( (a, b) => b - a );\n            $p.attribute(\"aDataVal\" + vecId[i], \"float\", new Float32Array(indexAttrData));\n            $p.attribute(\"aDataId\" + vecId[i], \"float\", seqFloat(0, indexAttrData.length - 1));\n            $p.fieldWidths[i] = indexAttrData.length;\n            $p.dataDimension[i] = indexAttrData.length;\n        });\n    }\n\n    $p.attribute(\"aDataItemVal0\", \"float\", null);\n    $p.attribute(\"aDataItemVal1\", \"float\", null);\n    $p.attribute(\"aDataItemId\", \"float\", new Float32Array($p.dataSize).map((d,i)=>i));\n    $p.attribute(\"aDataFieldId\", \"vec2\", new Float32Array($p.fields.length * 2).map((d,i)=>i));\n    $p.attribute(\"aVertexId\", \"float\", [0, 1, 2, 3, 4, 5]);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aVertexId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataFieldId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n\n    $p.attribute(\n        \"_square\",\n        \"vec2\",\n        new Float32Array([\n            -1.0, -1.0, 1.0, -1.0, \n            -1.0, 1.0, -1.0, 1.0,\n            1.0, -1.0, 1.0, 1.0\n        ])\n    );\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 1);\n\n    //TODO: get data statistics using the GPU\n    if(stats !== null) {\n        $p.fieldDomains = $p.fields.map(function(k, i) {\n            return [stats[k].min, stats[k].max];\n        }).concat(new Array($p.deriveMax).fill([0, 1]));\n        $p.uniform(\"uFieldDomains\", \"vec2\",  $p.fieldDomains);\n    } else {\n        $p.uniform(\"uFieldDomains\", \"vec2\",  $p.fields.map(f => [0, 1]));\n    }\n\n    let filterControls = new Array($p.fieldCount).fill(0);\n    //setup all attribute, uniform, texture, varying needed by all the shaders\n    $p.uniform(\"uDataSize\",    \"float\", $p.dataSize);\n    $p.uniform(\"uDataDim\",     \"vec2\",  $p.dataDimension);\n    $p.uniform(\"uResultDim\",   \"vec2\",  $p.dataDimension);\n    $p.uniform(\"uIndexCount\",  \"int\",   $p.indexes.length);\n    $p.uniform(\"uFieldWidths\", \"float\", $p.fieldWidths);\n    $p.uniform(\"uFieldCount\",  \"int\",   $p.fieldCount);\n    $p.uniform(\"uFieldId\",     \"int\",   0);\n    $p.uniform(\"uFilterFlag\",  \"int\",   0);\n    $p.uniform(\"uFilterControls\",\"int\", filterControls)\n    $p.uniform(\"uVisControls\",\"int\", filterControls);\n    $p.uniform(\"uFilterRanges\",\"vec2\", $p.fieldDomains);\n    $p.uniform(\"uVisRanges\",\"vec2\", $p.fieldDomains);\n    // $p.uniform(\"uGroupFields\", \"int\",   [0, -1]);\n    $p.uniform(\"uDataInput\",   \"sampler2D\");\n    $p.uniform(\"uDeriveCount\", \"int\", $p.deriveMax);\n    // $p.uniform(\"uDeriveDomains\", \"vec2\", $p.deriveDomains);\n    // $p.uniform(\"uDeriveWidths\", \"float\", $p.deriveWidths);\n    $p.uniform(\"uFilterLevel\", \"float\", 0.1)\n    $p.uniform('uVisLevel',    \"float\", 0.1)\n\n    $p.varying(\"vResult\", \"float\");\n    $p.varying(\"vDiscardData\", \"float\");\n    $p.texture(\n        \"tData\",\n        \"float\",\n        new Float32Array($p.dataDimension[0] * $p.dataDimension[1] * $p.fieldCount), [$p.dataDimension[0], $p.dataDimension[1] * $p.fieldCount],\n        \"alpha\"\n    );\n    $p.framebuffer(\"fFilterResults\", \"unsigned_byte\", $p.dataDimension);\n    $p.framebuffer(\"fGroupResults\", \"float\", [1024, 1]);\n    $p.framebuffer(\"fDerivedValues\", \"float\", [$p.dataDimension[0], $p.dataDimension[1] * $p.deriveMax]);\n    $p.framebuffer(\"fStats\", \"float\", [2, $p.fieldCount]);\n    $p.parameter({\n        fieldCount: $p.fields.length - $p.indexes.length,\n        indexCount: $p.indexes.length\n    });\n\n    $p.fields.slice($p.indexes.length).forEach(function(attr, ai) {\n        let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n        for (let i = 0, l = data[attr].length; i < l; i++) {\n            buf[i] = data[attr][i];\n        }\n\n        $p.texture.tData.update(\n            buf, [0, $p.dataDimension[1] * ai], $p.dataDimension\n        );\n    });\n\n    // $p.texture.tData.sampler = $p.uniform.uDataInput;\n    $p.uniform.uDataInput = $p.texture.tData;\n\n    function getFieldWidth({fid = 'int'}) {\n        return this.uFieldWidths[fid];\n    }\n\n    function getFieldDomain({fid = 'int'}) {\n        return this.uFieldDomains[fid];\n    }\n\n    function getData({fid = 'int', r = 'float', s = 'float'}) {\n        var t, value;\n        if (fid >= this.uFieldCount + this.uIndexCount) {\n            t = (float(fid - this.uFieldCount - this.uIndexCount) + s) /\n                float(this.uDeriveCount);\n            value = texture2D(this.fDerivedValues, vec2(r, t)).a;\n        } else {\n            if (this.uIndexCount > 0 && fid == 0) value = this.aDataValx;\n            else if (this.uIndexCount > 1 && fid == 1) value = this.aDataValy;\n            else {\n                t = (float(fid - this.uIndexCount) + s) / float(this.uFieldCount);\n                value = texture2D(this.uDataInput, vec2(r, t)).a;\n            }\n        }\n        return value;\n    }\n\n    function getNonIndexedData({fieldId = 'int', addrX = 'float', addrY = 'float'}) {\n        var offsetY, value;\n        if (fieldId >= this.uFieldCount + this.uIndexCount) {\n            offsetY = (float(fieldId - this.uFieldCount - this.uIndexCount) + addrY) /\n                float(this.uDeriveCount);\n            value = texture2D(this.fDerivedValues, vec2(addrX, offsetY)).a;\n        } else {\n            offsetY = (float(fieldId - this.uIndexCount) + addrY) / float(this.uFieldCount);\n            value = texture2D(this.uDataInput, vec2(addrX, offsetY)).a;\n        }\n        return value;\n    }\n\n    $p.subroutine(\"getFieldWidth\", \"float\", getFieldWidth);\n    $p.subroutine(\"getFieldDomain\", \"vec2\", getFieldDomain);\n    $p.subroutine(\"getData\", \"float\", getData);\n    $p.subroutine(\"getNonIndexedData\", \"float\", getNonIndexedData);\n\n    var gl = $p.ctx;\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n}\n","import * as ajax from './ajax';\nimport cstore from '../cstore';\nimport parse from './parse';\n\nconst INPUT_FORMATS = [\n  'json',\n  'csv',\n  'text',\n  'RowArrays',\n  'ColArrays',\n  'cstore'\n];\n\nconst INPUT_METHODS = ['memory', 'http', 'websocket', 'file'];\n\nexport default function input({\n  type = 'cstore',\n  format = 'cstore',\n  method = 'memory',\n  delimiter = ',',\n  size = 0,\n  schema,\n  source,\n  url,\n  onready,\n  uniqueKeys = []\n}) {\n  if(INPUT_FORMATS.indexOf(type) === -1) {\n    throw Error('Invalid input type ', type)\n  }\n\n  if(INPUT_METHODS.indexOf(method) === -1) {\n    throw Error('Unknown method ', method)\n  }\n\n  let cache;\n  function createIndexes() {\n    uniqueKeys.forEach(function(uk){\n      cache.index(uk);\n    })\n  }\n  let dataFormat = format || type;\n  let dataHandlers = {\n    json: function(data) {\n      cache = cstore({schema, size})\n      cache.import({data: (method == 'websocket') ? JSON.parse(data) : data});\n      createIndexes();\n      return cache.data();\n    },\n    csv: function(text) {\n      let data = parse(text, delimiter);\n      // let fields = data.shift();\n      // cache = cstore({keys: fields, types: fields.map(() => 'float')})\n      cache = cstore({schema, size})\n      cache.addRows(data);\n      createIndexes();\n      return cache.data();\n    },\n    cstore: function() {\n      if(Number.isInteger(source.size) && Array.isArray(source.types)) {\n        return source;\n      }\n    }\n  }\n\n  dataHandlers.text = dataHandlers.csv;\n  let response = function(data) {\n    return new Promise(function(resolve, reject) {\n      if(typeof(dataHandlers[dataFormat]) === 'function') {\n        resolve(dataHandlers[dataFormat](data));\n      } else {\n        reject(Error('No handler for data type ', dataFormat));\n      }\n    })\n  }\n\n  if(method === 'http') {\n    let dataSource = url || source;\n    return ajax.get({url: dataSource, dataType: dataFormat}).then(response);\n  } else if (method == 'websocket') {\n    return new Promise(function(resolve, reject) {\n      var socket = new WebSocket(source);\n      socket.onopen = function() {\n        if(typeof(onready) === 'function') onready(socket)\n      }\n      socket.onmessage = function(event) {\n        resolve(dataHandlers[dataFormat](event.data));\n      }\n      socket.onerror = function(err) {\n        reject(err);\n      }\n    });\n  } else {\n    return response(source);\n  }\n}\n","export default function($p) {\n  let output = {};\n  output.result = function({format = 'row', outputTag = 'fGroupResults'}) {\n    let objectArray = new Array();\n    let match = null;\n    if($p.uniform.uFilterFlag.data == 1){\n      match = $p.getMatchBuffer()\n    }\n    // $p.setInput(outputTag)\n    \n    for(let edi = 0; edi < $p.extraDimension; edi++) { \n\n      // if only match is performed and no other write ops, use cache to write source data to framebuffer.\n      if($p.getResultBuffer === undefined) { \n        $p.cache('cachedData')\n      }\n      let buf = $p.getResultBuffer({outputTag, offset: [edi * $p.resultDimension[0], 0]});\n      let res = {};\n      let offset = 0;\n      let rs = 0;\n      if(typeof buf.subarray !== 'function') return buf;\n      if($p.indexes.length > 0) {\n        if ($p.resultDimension[0] > 1) {\n          res[$p.fields[rs]] = $p.attribute.aDataValx.data;\n          rs++;\n        }\n        if ($p.resultDimension[1] > 1) {\n          let bx = $p.attribute.aDataValx.data;\n          let by = $p.attribute.aDataValy.data;\n          let ax = new Array($p.resultDimension[0] * $p.resultDimension[1]);\n          let ay = new Array($p.resultDimension[0] * $p.resultDimension[1]);\n\n          for (let y = 0; y < $p.resultDimension[1]; y++) {\n            for (let x = 0; x < $p.resultDimension[0]; x++) {\n              ax[y * $p.resultDimension[0] + x] = bx[x];\n              ay[y * $p.resultDimension[0] + x] = by[y]\n            }\n          }\n          res[$p.fields[0]] = ax;\n          res[$p.fields[rs]] = ay;\n          rs++;\n        }\n      }\n \n      let arraySize = $p.resultDimension[0] * $p.resultDimension[1];\n      let fields = $p.fields.filter( f => f !== $p.indexes[2]);\n      for (let i = rs; i < fields.length; i++) {\n        res[fields[i]] = buf.subarray(offset, offset + arraySize);\n        offset += arraySize;\n      };\n\n      for (let i = 0; i < arraySize; i++) {\n        if(match !== null && match[i] == 0) continue\n        let obj = (format == 'array') ? new Array(fields.length) : {};\n        if($p.extraDimension > 0 && $p.indexes.length === 3) {\n          let fieldName = $p.indexes[2];\n          obj[fieldName] = ($p.strLists.hasOwnProperty(fieldName)) ?  $p.strLists[fieldName][edi] : edi + 1;\n        } \n        fields.forEach(function(f, fi) {\n          let kid = $p.dkeys.indexOf(f);\n          let dtype = $p.dtypes[kid];\n          let key = (format == 'array') ? fi : f;\n\n          if (dtype == 'string' && $p.strLists.hasOwnProperty(f)) {\n            obj[key] = $p.strLists[f][res[f][i]];\n          } else if ($p.intervals.hasOwnProperty(f) && $p.intervals[f].dtype == 'histogram') {\n            obj[key] = $p.intervals[f].min + res[f][i] * $p.intervals[f].interval;\n          } else if ($p.uniqueValues.hasOwnProperty(f)) {\n            obj[key] = $p.uniqueValues[f][res[f][i]];\n          } else {\n            obj[key] = res[f][i];\n          }\n        });\n        objectArray.push(obj);\n      }\n    }\n    if($p.extraDimension === 1 && objectArray.length > $p.dataSize) {\n      objectArray = objectArray.slice(0, $p.dataSize);\n    }\n    return objectArray;\n  }\n\n  output.toArray = () => output.result({format: 'array'})\n  output.toJson = () => output.result({format: 'json'})\n  output.readPixels = function({\n    offset = [0, 0],\n    resultSize =  $p.dataDimension[0]* $p.dataDimension[1],\n    rowSize = Math.min(resultSize, $p.dataDimension[0]),\n    colSize = Math.ceil(resultSize / $p.dataDimension[0])\n  }) {\n    let result = new Uint8Array(rowSize * colSize * 4);\n    $p.bindFramebuffer(null);\n    $p.ctx.readPixels(offset[0], offset[1], rowSize, colSize, gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result.filter(function(d, i){ return i%4===3;} );\n  }\n  return output;\n}\n","export default function brush(arg){\n\n    var option = arg || {},\n        container = option.container || this.svg[0],\n        width = option.width || this.width,\n        height = option.height || this.height,\n        x = function(s) {return s},\n        y = function(s) {return s},\n        base = option.base || null,\n        selectX = option.x || false,\n        selectY = option.y || false,\n        border = option.border || \"#FFF\",\n        color = option.color || \"#111\",\n        brush = option.brush || function() {},\n        brushstart = option.brushstart || function() {},\n        brushend = option.brushend || function() {};\n\n    if(typeof(selectX) === \"function\") {\n        x = selectX;\n        selectX = true;\n    }\n    if(typeof(selectY) === \"function\") {\n        y = selectY;\n        selectY = true;\n    }\n    if(base === null){\n        base = container.append(\"g\").attr(\"class\", \"selector\");\n    } else {\n        base = container;\n    };\n\n    base.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .attr(\"fill-opacity\", 0)\n        .attr(\"stroke\", \"none\")\n        .css(\"cursor\", \"crosshair\");\n\n    var selector = base.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", 0)\n        .attr(\"height\", 0)\n        .attr(\"fill-opacity\", 0.1)\n        .css(\"fill\", color)\n        .css(\"stroke\", border)\n        .css(\"cursor\", \"move\");\n\n    var sx, sy,\n        dx, dy,\n        bx, by,\n        selection = {},\n        intStart = false,\n        drag = false;\n\n    base.svg.addEventListener(\"mousedown\", function(evt){\n        evt.preventDefault();\n        brushstart.call(this);\n        intStart = true;\n        sx = evt.clientX;\n        sy = evt.clientY;\n\n        var sp = selector.svg.getBoundingClientRect();\n        var box = base.svg.getBoundingClientRect();\n        var x0, y0, nw, nh;\n\n        if(sx>sp.left && sy>sp.top && sx<sp.left+sp.width && sy<sp.top+sp.height) {\n            drag = true;\n            bx = sp.left;\n            by = sp.top;\n        }\n\n        if(!drag){\n            x0 = selectX ? sx - box.left : 0;\n            y0 = selectY ? sy - box.top : 0;\n            selector.attr(\"x\", x0)\n                .attr(\"y\", y0)\n                .attr(\"width\", 0);\n        }\n\n        ondrag = function(evt){\n            if(intStart){\n                dx = evt.clientX - sx;\n                dy = evt.clientY - sy;\n                var selectorBox = selector.svg.getBoundingClientRect();\n                if(drag){\n\n                    var nx = bx + dx-box.left,\n                        ny = by + dy-box.top;\n\n                    if(bx+dx < box.left) nx = 0;\n                    if(bx+dx+selectorBox.width > box.right) nx = width - selectorBox.width ;\n                    if(by+dy < box.top) ny = 0;\n                    if(by+dy+selectorBox.height > box.bottom) ny = height - selectorBox.height;\n                    selector.attr(\"x\", nx).attr(\"y\", ny);\n                } else {\n                    if(evt.clientX < box.left) dx = box.left - sx;\n                    if(evt.clientX > box.right) dx = box.right - sx;\n                    if(evt.clientY > box.bottom) dy = box.bottom - sy;\n                    if(evt.clientY < box.top) dy = box.top - sy;\n\n                    x0 = selectX ? sx + dx - box.left: 0;\n                    y0 = selectY ? sy + dy - box.top : 0;\n                    nw = selectX ? Math.abs(dx) : width;\n                    nh = selectY ? Math.abs(dy) : height;\n\n                    if(dx<0 && dy>=0) selector.attr(\"x\", x0);\n                    if(dy<0 && dx>=0) selector.attr(\"y\", y0);\n                    if(dx<0 && dy<0) selector.attr(\"x\", x0).attr(\"y\", y0);\n                    selector.attr(\"width\", nw).attr(\"height\", nh);\n                }\n                if(selectX) {\n                    selection.x = [ x(selectorBox.left - box.left ), x(selectorBox.right - box.left )];\n                }\n                if(selectY) {\n                    selection.y = [y(selectorBox.top - box.top), y(selectorBox.bottom - box.top)];\n                }\n                brush.call(this, selection);\n            }\n        };\n\n        window.addEventListener(\"mousemove\", ondrag, false);\n        window.addEventListener(\"mouseup\", function(evt){\n            if(intStart){\n                ondrag(evt);\n                intStart = false;\n                if(drag){\n                    drag = false;\n                }\n            }\n            brushend.call(this, selection);\n            window.removeEventListener(\"mousemove\", ondrag, false);\n        }, false);\n    });\n};\n","export default function ($p) {\n\n    let registers = {};\n    let control = {};\n\n    let serializeArray = function(arrayOfArray) {\n        return [].concat.apply([], arrayOfArray);\n    }\n\n    control.register = function(tag) {\n        registers[tag] = {\n            indexes: $p.indexes.slice(),\n            dataSize: $p.dataSize,\n            fields: $p.fields.slice(),\n            fieldCount: $p.fieldCount,\n            dataDim: $p.uniform.uDataDim.data.slice(),\n            fieldWidths: $p.fieldWidths.slice(),\n            fieldDomains: $p.fieldDomains.slice(),\n            deriveCount: $p.deriveCount,\n            filterFlag: $p.uniform.uFilterFlag.data,\n            filterControls: $p.uniform.uFilterControls.data.slice(),\n            dataInput: $p.uniform.uDataInput.data,\n            resultDim: $p.resultDimension.slice(),\n            attribute: {\n                aDataIdx: {\n                    ids: $p.attribute.aDataIdx.data,\n                    value: $p.attribute.aDataValx.data\n                },\n                aDataIdy: {\n                    ids: $p.attribute.aDataIdy.data,\n                    value: $p.attribute.aDataValy.data\n                },\n                aDataFieldId: $p.attribute.aDataFieldId.data,\n                aDataItemId: $p.attribute.aDataItemId.data\n            },\n            extraDim: $p.extraDimension\n        }\n        return control;\n    }\n\n    control.updateRegister = function(tag, props) {\n        if(registers.hasOwnProperty(tag)) {\n            Object.keys(props).forEach(k => {\n                registers[tag][k] = props[k];\n            })\n        }\n        return control;\n    }\n    \n    control.resume = function(tag) {\n        if (!registers.hasOwnProperty(tag))\n            throw new Error('\"' + tag + '\" is not found in regesters.');\n    \n        var reg = registers[tag];\n        //resume CPU registers\n        $p.indexes = reg.indexes;\n        $p.dataSize = reg.dataSize;\n        $p.deriveCount = reg.deriveCount;\n        $p.fieldCount = reg.fieldCount;\n        $p.fields = reg.fields.slice();\n        $p.fieldWidths = reg.fieldWidths.slice();\n        $p.fieldDomains = reg.fieldDomains.slice();\n        $p.dataDimension = reg.dataDim.slice();\n        $p.resultDimension = reg.resultDim.slice();\n        $p.extraDimension = reg.extraDim;\n        //resume GPU Uniforms\n        $p.uniform.uFieldCount.data = $p.fieldCount;\n        $p.uniform.uDataSize.data = $p.dataSize;\n        $p.uniform.uDataDim.data = reg.dataDim;\n        $p.uniform.uIndexCount.data = reg.indexes.length;\n        $p.uniform.uFieldDomains.data = serializeArray(reg.fieldDomains);\n        $p.uniform.uFieldWidths.data = reg.fieldWidths;\n        $p.uniform.uFilterFlag.data = reg.filterFlag;\n        // $p.uniform.uFilterControls.data = reg.filterControls;\n        $p.uniform.uDataInput.data = reg.dataInput;\n    \n        //resume GPU Attribute Buffers\n        $p.attribute['aDataIdx'] = reg.attribute['aDataIdx'].ids;\n        $p.attribute['aDataIdy'] = reg.attribute['aDataIdy'].ids;\n        $p.attribute['aDataValx'] = reg.attribute['aDataIdx'].value;\n        $p.attribute['aDataValy'] = reg.attribute['aDataIdy'].value;\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataIdx'].location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataIdy'].location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataValx'].location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataValy'].location, 1);\n    \n        $p.attribute['aDataFieldId'] = reg.attribute['aDataFieldId'];\n        $p.attribute['aDataItemId'] = reg.attribute['aDataItemId'];\n    \n        return control;\n    }\n\n    // control.head = function() {\n    //     control.resume('__init__');\n    //     return control;\n    // }\n\n    var branchID = 0;\n    control.branch = function(branches) {\n        branches.forEach(function(b){\n            var operations = Object.keys(b).map(function(o) {\n                var obj = {};\n                obj[o] = b[o];\n                return obj;\n            });\n            control.run(operations);\n            control.resume('_branch' + branchID);\n        })\n        branchID++;\n\n        return control;\n    }\n\n    return control;\n}\n","export const Aggregate = {\n  vertexShader() {\n    gl_PointSize = 1.0;\n\n    var i, j;\n    var groupKeyValue;\n\n    i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n    j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n\n    if (this.aDataIdy * this.uDataDim.x + this.aDataIdx >= this.uDataSize) {\n        this.vResult = 0.0;\n    } else {\n        if(this.uAggrOpt != 2.0) {\n            this.vResult = this.getData(this.uFieldId, i, j);\n        } else {\n            this.vResult = 1.0;\n        }\n    }\n\n    if (this.uFilterFlag == 1) {\n        if (texture2D(this.fFilterResults, vec2(i, j)).a < this.uVisLevel - 0.01) {\n            this.vResult = 0.0;\n        }\n    }\n\n    var pos = new Vec2();\n    for (var ii = 0; ii < 2; ii++) {\n        var gid = new Int();\n        gid = this.uGroupFields[ii];\n        if (gid != -1) {\n            if (this.uIndexCount > 0) {\n                if (gid == 0) {\n                    groupKeyValue = i;\n                } else if (gid == 1) {\n                    groupKeyValue = j;\n                }\n            }\n            if (this.uIndexCount == 0 || gid > 1) {\n                var d = new Vec2();\n                var w = this.getFieldWidth(gid);\n                var value = this.getData(gid, i, j);\n\n                d = this.getFieldDomain(gid);\n\n                if(this.uBinCount[ii] > 0) {\n                    value = max(ceil((value - d[0]) / this.uBinIntervals[ii]), 1.0);\n                    groupKeyValue = value / float(this.uBinCount[ii]);\n                } else {\n                    groupKeyValue = (value - d.x) / (d.y - d.x) * w / (w + 1.0);\n                    groupKeyValue += 0.5 / w;\n                }\n            }\n            pos[ii] = groupKeyValue * 2.0 - 1.0;\n        } else {\n            pos[ii] = 0.5;\n        }\n    }\n\n    if(this.uGroupFields[2] != -1) {\n        var keyValue = this.getData(this.uGroupFields[2], i, j);\n        if(keyValue != this.uExtraKeyValue) {\n            this.vResult = 0.0;\n        }\n    }\n\n    gl_Position = vec4(pos, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    if (this.vResult == 0.0) discard;\n    if (this.uAggrOpt == 2.0)\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    else\n        gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n  }\n}\n\nexport const GetStats = {\n  vertexShader() {\n    gl_Position = vec4(this._square, 0, 1);\n  },\n\n  fragmentShader() {\n    var x, y, res;\n    $vec4(value);\n\n    if (this.uAggrOpt > 3.0) {\n        x = (gl_FragCoord.x) / this.uResultDim.x;\n        y = (gl_FragCoord.y) / (this.uResultDim.y * float(this.uFieldCount));\n        value = texture2D(this.uDataInput, vec2(x, y));\n        res = value.a / value.b;\n    } else {\n        res = value.a;\n    }\n    gl_FragColor = vec4(0.0, 0.0, 0.0, res);\n  }\n}\n\nexport const FillValues = {\n  vertexShader() {\n    gl_Position = vec4(this._square, 0, 1);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, this.uFillValue);\n  }\n}\n","import {seqFloat} from '../utils';\nimport {Aggregate, GetStats, FillValues} from '../gljs/Aggregation.gl';\n\nconst VEC_IDS = ['x', 'y', 'z'];\nconst METRICS = ['$min', '$max', '$count', '$sum', '$avg', '$var', '$std'];\n\nexport default function aggregate($p) {\n    let aggregate = {};\n\n    $p.uniform('uFillValue', 'float', 0.0);\n    $p.uniform('uBinIntervals', 'vec2', [0.0, 0.0]);\n    $p.uniform('uBinCount', 'ivec2', [0, 0]);\n    $p.uniform('uAggrOpt', 'float', 2.0);\n    $p.uniform(\"uGroupFields\", \"int\",   [0, -1, -1]);\n    $p.uniform(\"uExtraKeyValue\", \"float\",  0.0);\n    $p.varying(\"vIsFiltered\", \"float\");\n    $p.extraDimension = 1;\n\n    $p.program(\n        'AggregateCompute',\n        $p.shader.vertex(Aggregate.vertexShader),\n        $p.shader.fragment(Aggregate.fragmentShader)\n    );\n\n    $p.program(\n        'GetAggrStats',\n        $p.shader.vertex(GetStats.vertexShader),\n        $p.shader.fragment(GetStats.fragmentShader)\n    );\n    $p.program(\n        'FillValues',\n        $p.shader.vertex(FillValues.vertexShader),\n        $p.shader.fragment(FillValues.fragmentShader)\n    );\n\n    var resultFieldCount,\n        getAvgValues = false,\n        getVarStd = false,\n        resultDomains;\n\n    function compute(opts, groupFieldIds, resultFieldIds, outputTag) {\n        resultFieldCount = resultFieldIds.length;\n        let gl = $p.program('FillValues');\n        $p.bindFramebuffer(outputTag);\n\n        if(!$p._progress) {\n            gl.clearColor(0.0, 0.0, 0.0, 0.0);\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        }\n\n        gl.disable(gl.BLEND);\n        resultFieldIds.forEach(function(f, i) {\n            gl.viewport(0, i * $p.resultDimension[1], $p.resultDimension[0], $p.resultDimension[1]);\n            var opt = METRICS.indexOf(opts[i]);\n            if (opt == 0) {\n                $p.uniform.uFillValue = Math.pow(2, 127);\n                gl.drawArrays(gl.TRIANGLES, 0, 6);\n            } else if(opt == 1) {\n                $p.uniform.uFillValue = -Math.pow(2, 128);\n                gl.drawArrays(gl.TRIANGLES, 0, 6);\n            }\n        });\n\n        gl = $p.program('AggregateCompute');\n      \n        $p.framebuffer.enableRead('fDerivedValues');\n        $p.framebuffer.enableRead('fFilterResults');\n\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n        $p.uniform.uGroupFields = groupFieldIds;\n\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE);\n        gl.blendEquation(gl.FUNC_ADD);\n        $p.uniform.uResultDim = $p.resultDimension;\n\n        let postComputeFieldIds = [];\n        \n        getAvgValues = false;\n        getVarStd = false;\n\n        for (var ii = 0; ii < $p.extraDimension; ii++) {\n            postComputeFieldIds = [];\n            resultFieldIds.forEach(function(f, i) {\n                var opt = METRICS.indexOf(opts[i]);\n                if (opt == -1) throw Error('unknowm operator for aggregation: ' + opts[i]);\n\n                if (opt > 3) {\n                    getAvgValues = true;\n                    $p.bindFramebuffer('fAggrStats');\n                    postComputeFieldIds.push(i);\n                } else {\n                    $p.bindFramebuffer(outputTag);\n                }\n\n                gl.viewport(ii * $p.resultDimension[0], i * $p.resultDimension[1], $p.resultDimension[0], $p.resultDimension[1]);\n                if (opt == 0) {\n                    gl.blendEquation(gl.MIN_EXT);\n                } else if (opt == 1) {\n                    gl.blendEquation(gl.MAX_EXT);\n                } else {\n                    gl.blendEquation(gl.FUNC_ADD);\n                }\n\n                $p.uniform.uFieldId = f;\n                $p.uniform.uAggrOpt = opt;\n                if(groupFieldIds[2] !== -1) {\n                    $p.uniform.uExtraKeyValue = seqFloat($p.fieldDomains[groupFieldIds[2]][0], $p.fieldDomains[groupFieldIds[2]][1])[ii];\n                }\n                \n                gl.ext.drawArraysInstancedANGLE(\n                    gl.POINTS, 0,\n                    $p.dataDimension[0],\n                    $p.dataDimension[1]\n                );\n            });\n        }\n        $p.uniform.uFieldCount.data = resultFieldIds.length;\n        if(getAvgValues) {\n            postCompute(opts, postComputeFieldIds, resultFieldIds, outputTag);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n\n    function postCompute(opts, postComputeFieldIds, resultFieldIds, outputTag) {\n        $p.uniform.uDataInput.data = $p.framebuffer.fAggrStats.texture;\n        var gl = $p.program('GetAggrStats');\n        $p.bindFramebuffer(outputTag);\n        $p.uniform.uResultDim = [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1]];\n        $p.framebuffer.enableRead('fAggrStats');\n        // gl.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n        \n        gl.viewport(0, 0, $p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length);\n        gl.disable(gl.BLEND);\n\n        postComputeFieldIds.forEach(function(f) {\n            $p.uniform.uAggrOpt = METRICS.indexOf(opts[f]);\n            $p.uniform.uFieldId = f;\n            gl.viewport(\n                0, \n                f * $p.resultDimension[1], \n                $p.resultDimension[0] * $p.extraDimension,\n                $p.resultDimension[1]\n            );\n            gl.drawArrays(gl.TRIANGLES, 0, 6);\n        })\n    }\n\n    aggregate.execute = function(spec) {\n        let newFieldSpec = spec.$collect || spec.$reduce || null;\n        let groupFields = spec.$group || spec.group;\n        let groupFieldIds = [-1, -1, -1];\n        let outputTag = spec.out || 'fGroupResults';\n        if (!Array.isArray(groupFields)) groupFields = [groupFields];\n        if (groupFields.length >= 2) {\n            groupFieldIds[0] = $p.fields.indexOf(groupFields[0]);\n            groupFieldIds[1] = $p.fields.indexOf(groupFields[1]);\n            $p.resultDimension = [\n                $p.fieldWidths[groupFieldIds[0]],\n                $p.fieldWidths[groupFieldIds[1]]\n            ];\n            if(groupFields.length === 3) {\n                groupFieldIds[2] = $p.fields.indexOf(groupFields[2]);\n                $p.extraDimension = $p.fieldWidths[groupFieldIds[2]];\n            } else {\n                $p.extraDimension = 1\n            }\n        } else {\n            groupFieldIds[0] = $p.fields.indexOf(groupFields[0]);\n            $p.resultDimension = [$p.fieldWidths[groupFieldIds[0]], 1];\n        }\n\n        // For backward compatibility, allowing new fields specified without using the $collect or $reduce\n        if (newFieldSpec === null) {\n            newFieldSpec = {};\n            Object.keys(spec)\n            .filter(d => d != '$by' && d != '$group')\n            .forEach(function(d) {\n                newFieldSpec[d] = spec[d];\n            });\n        }\n\n        let newFieldNames = Object.keys(newFieldSpec);\n        let resultFields = newFieldNames.map(f => newFieldSpec[f][Object.keys(newFieldSpec[f])[0]]);\n        let resultFieldIds = resultFields.map( f => (f == '*') ? 0 : $p.fields.indexOf(f));\n        let operators = resultFields.map( (f,i) => { \n            return (typeof(newFieldSpec[newFieldNames[i]]) === 'object')\n                ? Object.keys(newFieldSpec[newFieldNames[i]])[0]\n                : newFieldSpec[newFieldNames[i]]\n        });\n        let twoPassFields = operators.filter(opt => METRICS.indexOf(opt) > 2 );\n\n        if (!$p._update && !$p._progress) {\n            $p.framebuffer(\n                outputTag,\n                'float', [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length]\n            );\n\n            if(twoPassFields.length > 0) {\n                $p.framebuffer(\n                    'fAggrStats',\n                    'float', [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length]\n                );\n            }\n        }\n        $p.bindFramebuffer(outputTag);\n\n        compute(operators, groupFieldIds, resultFieldIds, outputTag);\n\n        $p.getResult = aggregate.result;\n        $p.indexes = groupFields;\n        $p.dataDimension = $p.resultDimension;\n        $p.uniform.uDataInput.data = $p.framebuffer[outputTag].texture;\n\n        var oldFieldIds = groupFields.concat(resultFields).map( f => $p.fields.indexOf(f));\n\n        $p.fields = groupFields.concat(newFieldNames);\n        $p.uniform.uDataDim.data = $p.resultDimension;\n        $p.uniform.uIndexCount.data = $p.indexes.length;\n        $p.fieldCount = $p.fields.length - $p.indexes.length;\n        $p.uniform.uFieldCount.data = $p.fieldCount;\n\n        // $p.fieldWidths = $p.fieldWidths.concat($p.deriveWidths);\n        // $p.fieldDomains = $p.fieldDomains.concat($p.deriveDomains);\n       \n        let newFieldDomains = oldFieldIds.map(f => $p.fieldDomains[f]);\n        let newFieldWidths = oldFieldIds.map(f => $p.fieldWidths[f]);\n        \n        oldFieldIds.slice(0, groupFields.length).forEach((fid, fii) => {\n            if($p.uniform.uBinCount.data[fii] > 0) {\n                newFieldDomains[fii] = [0, $p.uniform.uBinCount.data[fii]-1];\n            }\n        })\n        $p.uniform.uBinCount.data = [0,0];\n\n        $p.fieldDomains = newFieldDomains;\n        $p.fieldWidths = newFieldWidths;\n       \n        $p.attribute.aDataItemId = seqFloat(0, $p.resultDimension[0] * $p.resultDimension[1] - 1);\n        $p.dataSize = $p.resultDimension[0] * $p.resultDimension[1];\n        $p.uniform.uDataSize.data = $p.dataSize;\n        $p.uniform.uFieldDomains.data = $p.fieldDomains;\n        $p.uniform.uFieldWidths.data = $p.fieldWidths;\n        $p.uniform.uFilterFlag.data = 0;\n\n        $p.indexes.forEach(function(d, i) {\n            $p.attribute['aDataId' + VEC_IDS[i]] = seqFloat(0, $p.resultDimension[i]-1);\n            var interval = 1;\n            var ifid = $p.fields.indexOf(d);\n            // if ($p.intervals.hasOwnProperty(d)) interval = $p.intervals[d].interval;\n            $p.attribute['aDataVal' + VEC_IDS[i]] = seqFloat(\n                $p.fieldDomains[ifid][0],\n                $p.fieldDomains[ifid][1],\n                interval\n            );\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataId' + VEC_IDS[i]].location, i);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataVal' + VEC_IDS[i]].location, i);\n        });\n        if ($p.indexes.length == 1) {\n            $p.attribute.aDataIdy = new Float32Array(1);\n            $p.attribute.aDataValy = new Float32Array(1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        }\n        if (!$p._update) {\n            let resultFieldIds = resultFields.map( f => (f == '*') ? 0 : $p.fields.indexOf(f));\n            resultDomains = $p.extent(resultFieldIds, $p.dataDimension);\n        }\n        for (var ii = $p.indexes.length; ii < $p.indexes.length + resultFields.length; ii++) {\n            $p.fieldDomains[ii] = resultDomains[ii - $p.indexes.length];\n            $p.fieldWidths[ii] = resultDomains[ii - $p.indexes.length][1] - resultDomains[ii - $p.indexes.length][0];\n        }\n        $p.getResultBuffer = aggregate.result;\n        // console.log(aggregate.result({outputTag}))\n    }\n\n    aggregate.result = function(arg) {\n        let options = arg || {};\n        let outputTag =  arg.outputTag || 'fGroupResults';\n        let offset = options.offset || [0, 0];\n        let resultSize = options.size || $p.resultDimension[0] * $p.resultDimension[1];\n        let rowTotal = Math.min(resultSize, $p.resultDimension[0]);\n        let colTotal = Math.ceil(resultSize / $p.resultDimension[0]);\n        let result = new Float32Array(rowTotal * colTotal * 4 * resultFieldCount);\n        $p.bindFramebuffer(outputTag);\n        let gl = $p.program('AggregateCompute');\n        gl.readPixels(offset[0], offset[1], rowTotal, colTotal * resultFieldCount, gl.RGBA, gl.FLOAT, result);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return result.filter((d, i) => i % 4 === 3);\n    }\n\n    return aggregate;\n}\n","export default function cache($p) {\n    var cache = {},\n        dataDimension = $p.uniform.uDataDim.data,\n        fieldCount =  $p.uniform.uFieldCount.data,\n        cacheTag;\n\n    var vs = $p.shader.vertex(function () {\n         gl_Position = vec4(this._square, 0, 1);\n    });\n\n    var fs = $p.shader.fragment(function () {\n        var x, y;\n\n        x = (gl_FragCoord.x) / this.uDataDim.x;\n        y = (gl_FragCoord.y) / (this.uDataDim.y * float(this.uFieldCount));\n\n        gl_FragColor = texture2D(this.uDataInput, vec2(x, y));\n    });\n\n    $p.program(\"cache\", vs, fs);\n\n    cache.execute = function(tag) {\n        cacheTag = tag;\n        dataDimension = $p.uniform.uDataDim.data;\n        fieldCount = $p.uniform.uFieldCount.data;\n        $p.framebuffer(tag, \"float\", [dataDimension[0], dataDimension[1] * fieldCount]);\n        $p.bindFramebuffer(tag);\n        var gl = $p.program(\"cache\");\n        gl.viewport(0, 0, dataDimension[0], dataDimension[1] * fieldCount);\n        gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n        gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.BLEND);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        $p.framebuffer.enableRead(tag);\n        $p.uniform.uDataInput = $p.framebuffer[tag].texture;\n        $p.getResultBuffer = cache.result;\n    }\n\n    cache.result =  function() {\n        var gl = $p.ctx;\n        $p.bindFramebuffer(cacheTag);\n        dataDimension = $p.uniform.uDataDim.data;\n        var result = new Float32Array(dataDimension[0]*dataDimension[1]*4*fieldCount);\n        gl.readPixels(0, 0, dataDimension[0], dataDimension[1] * fieldCount, gl.RGBA, gl.FLOAT, result);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        result = result.filter(function(d, i){ return i%4===3;} );\n\n        return result;\n    }\n\n    return cache;\n}\n","\n// Calculate the current day of the week as an integer\n//   now - Unix timestamp like that from time(NULL)\n//   tz_offset - Number of hours off from UTC; i.e. PST = -8\n//   Return value: Sunday=0, Monday=1, ... Saturday=6\n// int dayofweek(time_t now, int tz_offset) {\n// \t// Calculate number of seconds since midnight 1 Jan 1970 local time\n// \ttime_t localtime = now + (tz_offset * 60 * 60);\n// \t// Convert to number of days since 1 Jan 1970\n// \tint days_since_epoch = localtime / 86400;\n// \t// 1 Jan 1970 was a Thursday, so add 4 so Sunday is day 0, and mod 7\n// \tint day_of_week = (days_since_epoch + 4) % 7; \n\n// \treturn day_of_week;\n// }\n\n// function getDateTime(s) {\n//   let z = Math.floor(s / 86400) + 719468;\n//   let era = Math.floor(z >= 0 ? z : z - 146096) / 146097;\n//   let doe = Math.floor((z - era * 146097));\n//   let yoe = Math.floor((doe - doe / 1460 + doe / 36524 - doe / 146096) / 365);\n//   let year = Math.floor((yoe) + era * 400);\n//   let doy = Math.floor(doe - (365 * yoe + yoe / 4 - yoe / 100));\n//   let mp = Math.floor(( 5 * doy + 2) / 153);\n//   let day = Math.floor(doy - (153 * mp + 2) / 5 + 1);\n//   let month = Math.floor(mp + (mp < 10 ? 3 : -9));\n//   year += (month <= 2);\n//   return {year, month, day};\n// }\n\nfunction getDateTime(s) {\n  let second = s % 60\n  let minute = Math.floor(s / 60) % 60\n  let hour = Math.floor(s / 3600) % 24\n  let days = Math.floor(s / 3600 / 24) \n  let years = Math.floor(days / 365.25)\n  let year = 1970 + years;\n  let dayOfWeek = (days + 4) % 7\n\n  // let leapDays = 0\n  // for (var i = 1970; i < year; i++) {\n  //   if ((i % 4 === 0 && i % 100 !== 0) || (i % 400 == 0)) {\n  //     leapDays += 1;\n  //   }\n  // }\n  // days = days - (years * 365 + leapDays);\n  days = days - Math.ceil(years * 365.25);\n  let isLeapYear = ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0));\n  let month = 1\n  let daysInMonth\n  while (month <= 12) {\n    \n    if(month === 2) {\n      daysInMonth = 28 + isLeapYear;\n    } else {\n      daysInMonth = 30 + (month + (month < 7)) % 2\n    }\n\n    if (days > daysInMonth) {\n      days -= daysInMonth\n      month += 1\n    } else {\n      break;\n    }\n  }\n\n  return {year, month, days, hour, minute, second, dayOfWeek}\n}\n\n\nexport function getHour({ts = 'float'}) {\n  var hours = floor(ts / 3600.0);\n  return hours - (24.0 * floor(hours / 24.0)) + 1.0;\n}\n\nexport function getYear({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0);\n  var years = floor(days / 365.25);\n  return 1970.0 + years;\n}\n\nexport function floatMod({a = \"float\", b = \"float\"}) {\n  return a - (b * floor(a / b));\n}\n\n// export function getMonth({ts = 'float'}) {\n//   var days = floor(ts / 3600.0 / 24.0);\n//   var years = floor(days / 365.25) + 1970.0;\n//   var months = floor(days / 30.5);\n//   return months - floor(months / 12.0);\n// }\n\nexport function getDayOfWeek({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0) + 4.0;\n  return days - (7.0 * floor(days / 7.0)) + 1.0;\n} \n\nexport function getMonth({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0);\n  var years = floor(days / 365.25);\n  days = days - ceil(years * 365.25);\n  var month = new int();\n  var daysInMonth;\n  var year = 1970.0 + years;\n  var isLeapYear = 0.0;\n  if( (year - (4.0 * floor(year/4.0)) == 0.0 \n    && year - (100.0 * floor(year/100.0)) != 0.0)\n    || (year - (100.0 * floor(year/400.0)) == 0.0)\n  ) {\n    isLeapYear = 1.0;\n  }\n  month = 1;\n  for (var i = 1; i<=12; i++) {\n    if(month == 2) {\n      daysInMonth = 28.0 + isLeapYear;\n    } else if( month == 4 || month == 6 || month == 9 || month == 11) {\n      daysInMonth = 30.0;\n    } else {\n      daysInMonth = 31.0;\n    }\n    if (days > daysInMonth) {\n      days -= daysInMonth;\n      month += 1;\n    }\n  }\n  return float(month);\n}","\nconst smallest = -Math.pow(2, 128);\nexport default function extent($p) {\n\n    var vs = $p.shader.vertex(function() {\n        gl_PointSize = 1.0;\n        var i, j;\n        if (this.aDataIdy * this.uDataDim.x + this.aDataIdx >= this.uDataSize) {\n            this.vDiscardData = 1.0;\n        } else {\n            this.vDiscardData = 0.0;\n            i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n            j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n            this.vResult = this.getData(this.uFieldId, i, j);\n        }\n        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    });\n\n    var fs = $p.shader.fragment(function() {\n        if (this.vDiscardData == 1.0) discard;\n        if (this.vResult >= 0.0) {\n            gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n        } else {\n            gl_FragColor = vec4(-1.0, this.vResult, 0.0, 0.0);\n        }\n    });\n\n    var gl = $p.program(\"stats\", vs, fs);\n\n    return function(fieldIds, dataDimension) {\n        if (!$p._update) {\n            $p.framebuffer(\"fStats\", \"float\", [2, fieldIds.length]);\n        }\n        var gl = $p.program(\"stats\");\n        $p.framebuffer.enableRead(\"fGroupResults\");\n\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n        $p.bindFramebuffer(\"fStats\");\n        gl.clearColor(smallest, smallest, smallest, smallest);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE);\n\n        var extents = new Array(fieldIds.length);\n\n        var idCount = $p.uniform.uIndexCount.data;\n        fieldIds.forEach(function(d, i) {\n            $p.uniform.uFieldId = i + idCount;\n            gl.viewport(0, i, 1, 1);\n            gl.blendEquation(gl.MAX_EXT);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n            // gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, max);\n\n            gl.viewport(1, i, 1, 1);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n            gl.blendEquation(gl.MIN_EXT);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n            // var extent = new Float32Array(8);\n            // gl.readPixels(0, i, 2, 1, gl.RGBA, gl.FLOAT, extent);\n            // console.log(extent);\n            // var ext = extent;\n            // var minValue = (ext[0] > 0) ? ext[1] : ext[7],\n            //     maxValue = (ext[2] > 0) ? ext[3] : ext[5];\n            //  extents[i] = [minValue, maxValue];\n        });\n        var extent = new Float32Array(8 * fieldIds.length);\n       \n        gl.readPixels(0, 0, 2, fieldIds.length, gl.RGBA, gl.FLOAT, extent);\n        fieldIds.forEach(function(d, i) {\n            var ext = extent.slice(i * 8, i * 8 + 8);\n            var minValue = (ext[4] < 0) ? ext[5] : ext[7],\n                maxValue = (ext[2] > 0) ? ext[3] : ext[1];\n            extents[i] = [minValue, maxValue];\n        });\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return extents;\n    }\n}\n","export const IntervalMatch = {\n  vertexShader() {\n    var i, j, k, value;\n    var filter = new Int(0);\n    var sel = new Int(0);\n    var visSelect = new Bool(false);\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n    \n    for(var f = 0; f < $(fieldCount) + $(indexCount); f++) {\n      if(this.uFilterControls[f] == 1 || this.uVisControls[f] == 1) {\n        value = this.getData(f, i, j);\n    \n        if(this.uFilterControls[f] == 1) {\n          if(value < this.uFilterRanges[f].x || value > this.uFilterRanges[f].y) {\n            filter -= 1;\n          }\n        }\n        if(this.uVisControls[f] == 1) {\n          if(value < this.uVisRanges[f].x || value > this.uVisRanges[f].y) {\n            sel -= 1;\n          }\n          visSelect = true;\n        }\n      }\n    }\n    this.vResult = 0.1;\n    if(filter < 0) {\n      this.vResult = 0.0;\n    } else {\n      if(visSelect)\n        this.vResult = (sel < 0) ? 0.1 : 0.2;\n    }\n    var x = i * 2.0 - 1.0;\n    var y = j * 2.0 - 1.0;\n    gl_PointSize = 1.0;\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0., 0., 0., this.vResult);\n  }\n}\n\nexport const DiscreteMatch = {\n  vertexShader() {\n    var i, j, k, value;\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n    this.vResult = this.uFilterLevel - 0.1;\n    value = this.getData(this.uFieldId, i, j);\n    for(var l = 0; l < 100; l++){\n      if(l < this.uSelectCount) {\n        if(value == this.uInSelections[l]) {\n          this.vResult = this.uFilterLevel;\n        }\n      }\n    }\n    var x = i * 2.0 - 1.0;\n    var y = j * 2.0 - 1.0;\n    gl_PointSize = 1.0;\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0., 0., 0., this.vResult);\n  }\n}","import {IntervalMatch, DiscreteMatch} from '../gljs/Match.gl'\n\nexport default function match($p) {\n    const SELECT_MAX = 100;\n    let match = {};\n    let dataDimension = $p.uniform.uDataDim.data;\n    let fieldCount = $p.fields.length;\n    let filterControls = new Array(fieldCount).fill(0);\n    let filterRanges = $p.fieldDomains;\n    let visControls = new Array(fieldCount).fill(0);\n    let visRanges = $p.fieldDomains;\n    let inSelections = new Array(SELECT_MAX);\n    let matchResultBuffer = null;\n\n    $p.uniform('uInSelections', 'float', Float32Array.from(inSelections));\n    $p.uniform('uSelectMax', 'int', SELECT_MAX);\n    $p.uniform('uSelectCount', 'int', 0);\n\n    let rangeMatch = {\n        vs: $p.shader.vertex(IntervalMatch.vertexShader),\n        fs: $p.shader.fragment(IntervalMatch.fragmentShader)\n    };\n\n    let inMatch = {\n        vs: $p.shader.vertex(DiscreteMatch.vertexShader),\n        fs: $p.shader.fragment(DiscreteMatch.fragmentShader)\n    };\n\n    $p.program('IntervalMatch', rangeMatch.vs, rangeMatch.fs);\n    $p.program('DiscreteMatch', inMatch.vs, inMatch.fs);\n\n    match.control = function(ctrl) {\n        filterControls = ctrl;\n    }\n\n    function _execute(spec){\n        var fields = $p.fields;\n        var gl;\n        var matchFields = Object.keys(spec).filter(function(s){\n            return spec[s].hasOwnProperty('$in');\n        })\n        .concat(Object.keys($p.crossfilters).filter(function(s){\n            return $p.crossfilters[s].hasOwnProperty('$in');\n        }))\n\n        $p.bindFramebuffer('fFilterResults');\n       \n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        if(matchFields.length) {\n            gl = $p.program('DiscreteMatch');\n            if($p.deriveCount > 0) {\n                $p.framebuffer.enableRead('fDerivedValues');\n            }\n\n            gl.viewport(0, 0, dataDimension[0], dataDimension[1]);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n            gl.clearColor( 1.0, 1.0, 1.0, 1.0 );\n            gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.enable( gl.BLEND );\n            gl.blendFunc( gl.ONE, gl.ONE );\n            gl.blendEquation(gl.MIN_EXT);\n\n            matchFields.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                var inSelections = (spec.hasOwnProperty(k)) ? spec[k].$in :  $p.crossfilters[k].$in;\n                if($p.strValues.hasOwnProperty(k)) {\n                    inSelections = inSelections\n                        .slice(0, SELECT_MAX)\n                        .map(function(v) { return $p.strValues[k][v]; });\n                } else {\n                    inSelections = inSelections.slice(0, SELECT_MAX);\n                }\n                $p.uniform.uSelectCount = inSelections.length;\n                $p.uniform.uInSelections = Float32Array.from(inSelections);\n                $p.uniform.uFieldId = fieldId;\n\n                gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, $p.dataDimension[0], $p.dataDimension[1]);\n                // filterRanges[fieldId*2] = Math.min.apply(null, spec[k].$in);\n                // filterRanges[fieldId*2+1] = Math.max.apply(null, spec[k].$in);\n                filterRanges[fieldId] = [Math.min.apply(null, inSelections), Math.max.apply(null, inSelections)];\n            })\n        }\n\n        var filterSelections = Object.keys(spec).filter(function(s){\n            return !spec[s].hasOwnProperty('$in');\n        });\n\n        var viewSelections = Object.keys($p.crossfilters).filter(function(s){\n            return !$p.crossfilters[s].hasOwnProperty('$in'); \n        });\n     \n        if(filterSelections.length || viewSelections.length){\n            filterControls = new Array(fieldCount).fill(0);\n\n            filterSelections.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                if(fieldId === -1) {\n                    console.log('Skipped: Matching on invalid data field ' + k);\n                    return;\n                }\n                if(spec[k].length < 2) spec[k][1] = spec[k][0];\n                filterControls[fieldId] = 1;\n                filterRanges[fieldId] = spec[k];\n                // filterRanges[fieldId*2] = spec[k][0];\n                // filterRanges[fieldId*2+1] = spec[k][1];\n            });\n\n            viewSelections.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                if(fieldId === -1) {\n                    console.log('Skipped: Matching on invalid data field ' + k);\n                    return;\n                }\n                if($p.crossfilters[k].length < 2) $p.crossfilters[k][1] = $p.crossfilters[k][0];\n                visControls[fieldId] = 1;\n                visRanges[fieldId] = $p.crossfilters[k];\n            });\n\n            $p.uniform.uFilterControls.data = filterControls;\n            $p.uniform.uFilterRanges.data = filterRanges;\n            $p.uniform.uVisControls.data = visControls;\n            $p.uniform.uVisRanges.data = visRanges;\n\n            if (matchFields.length) {\n                matchResultBuffer= match.result();\n                $p.bindFramebuffer('fFilterResults');\n            }\n\n            gl = $p.program('IntervalMatch');\n            if($p.deriveCount > 0) {\n                $p.framebuffer.enableRead('fDerivedValues');\n            }\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n            gl.disable(gl.BLEND);\n            // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.viewport(0, 0, $p.dataDimension[0], $p.dataDimension[1]);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, $p.dataDimension[0], $p.dataDimension[1]);\n        }\n        $p.ctx.bindFramebuffer($p.ctx.FRAMEBUFFER, null);\n        return filterRanges;\n    }\n\n    match.execute = function(spec, skipUpdateDomain = false) {\n        filterControls = new Array($p.fields.length).fill(0);\n        visControls = new Array($p.fields.length).fill(0);\n        var filterSpec = spec;\n\n        Object.keys($p.crossfilters).forEach(function(k, i) {\n            if($p.strValues.hasOwnProperty(k) && !$p.crossfilters[k].$in) {\n                let filterValues = $p.crossfilters[k];\n                if(filterValues.length > 1) {\n                    let startIndex = $p.strLists[k].indexOf($p.crossfilters[k][0]);\n                    let endIndex = $p.strLists[k].indexOf($p.crossfilters[k][1]);\n                    filterValues = $p.strLists[k].slice(startIndex, endIndex + 1);\n                }\n                $p.crossfilters[k] = {$in: filterValues};\n            }\n        });\n\n        Object.keys(filterSpec).forEach(function(k, i) {\n            if($p.strValues.hasOwnProperty(k) && !spec[k].$in) {\n                spec[k] = {$in: spec[k]};\n            }\n        });\n\n        $p.uniform.uFilterFlag.data = 1;\n        if(!$p._update) {\n           \n            $p.framebuffer('fFilterResults', 'unsigned_byte', $p.dataDimension);\n            filterRanges = $p.fieldDomains.slice();\n            visRanges = $p.fieldDomains.slice();\n        }\n        var newDomains = _execute(spec);\n\n        if(!$p._update){\n            newDomains.forEach(function(domain, fid) {\n                var d = domain;\n                // if($p.dtypes[fid] == 'int') d[1] -= 1;\n                $p.fieldDomains[fid] = d;\n                $p.fieldWidths[fid] = $p.getDataWidth(fid, d);\n            });\n\n            $p.uniform.uFieldDomains.value($p.fieldDomains);\n            $p.uniform.uFieldWidths.data = $p.fieldWidths;\n        }\n        $p.getMatchBuffer = match.result;\n    }\n\n    match.result = function(arg) {\n        var options = arg || {},\n            offset = options.offset || [0, 0],\n            resultSize = options.size || $p.dataDimension[0]* $p.dataDimension[1],\n            rowSize = Math.min(resultSize, $p.dataDimension[0]),\n            colSize = Math.ceil(resultSize/$p.dataDimension[0]);\n\n        $p.bindFramebuffer('fFilterResults');\n\n        var gl = $p.ctx;\n        var bitmap = new Uint8Array(rowSize*colSize*4);\n        gl.readPixels(offset[0], offset[1], rowSize, colSize, gl.RGBA, gl.UNSIGNED_BYTE, bitmap);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        let result = bitmap.filter((d, i) => i % 4 === 3);\n        if(matchResultBuffer !== null) {\n            result = result.map((r,i) => r & matchResultBuffer[i])\n            matchResultBuffer = null\n        }\n        \n        return result;\n    }\n\n    return match;\n}\n","export const gradients = {\n    \"inferno\": [\"#000004\", \"#010005\", \"#010106\", \"#010108\", \"#02010a\", \"#02020c\", \"#02020e\", \"#030210\", \"#040312\", \"#040314\", \"#050417\", \"#060419\", \"#07051b\", \"#08051d\", \"#09061f\", \"#0a0722\", \"#0b0724\", \"#0c0826\", \"#0d0829\", \"#0e092b\", \"#10092d\", \"#110a30\", \"#120a32\", \"#140b34\", \"#150b37\", \"#160b39\", \"#180c3c\", \"#190c3e\", \"#1b0c41\", \"#1c0c43\", \"#1e0c45\", \"#1f0c48\", \"#210c4a\", \"#230c4c\", \"#240c4f\", \"#260c51\", \"#280b53\", \"#290b55\", \"#2b0b57\", \"#2d0b59\", \"#2f0a5b\", \"#310a5c\", \"#320a5e\", \"#340a5f\", \"#360961\", \"#380962\", \"#390963\", \"#3b0964\", \"#3d0965\", \"#3e0966\", \"#400a67\", \"#420a68\", \"#440a68\", \"#450a69\", \"#470b6a\", \"#490b6a\", \"#4a0c6b\", \"#4c0c6b\", \"#4d0d6c\", \"#4f0d6c\", \"#510e6c\", \"#520e6d\", \"#540f6d\", \"#550f6d\", \"#57106e\", \"#59106e\", \"#5a116e\", \"#5c126e\", \"#5d126e\", \"#5f136e\", \"#61136e\", \"#62146e\", \"#64156e\", \"#65156e\", \"#67166e\", \"#69166e\", \"#6a176e\", \"#6c186e\", \"#6d186e\", \"#6f196e\", \"#71196e\", \"#721a6e\", \"#741a6e\", \"#751b6e\", \"#771c6d\", \"#781c6d\", \"#7a1d6d\", \"#7c1d6d\", \"#7d1e6d\", \"#7f1e6c\", \"#801f6c\", \"#82206c\", \"#84206b\", \"#85216b\", \"#87216b\", \"#88226a\", \"#8a226a\", \"#8c2369\", \"#8d2369\", \"#8f2469\", \"#902568\", \"#922568\", \"#932667\", \"#952667\", \"#972766\", \"#982766\", \"#9a2865\", \"#9b2964\", \"#9d2964\", \"#9f2a63\", \"#a02a63\", \"#a22b62\", \"#a32c61\", \"#a52c60\", \"#a62d60\", \"#a82e5f\", \"#a92e5e\", \"#ab2f5e\", \"#ad305d\", \"#ae305c\", \"#b0315b\", \"#b1325a\", \"#b3325a\", \"#b43359\", \"#b63458\", \"#b73557\", \"#b93556\", \"#ba3655\", \"#bc3754\", \"#bd3853\", \"#bf3952\", \"#c03a51\", \"#c13a50\", \"#c33b4f\", \"#c43c4e\", \"#c63d4d\", \"#c73e4c\", \"#c83f4b\", \"#ca404a\", \"#cb4149\", \"#cc4248\", \"#ce4347\", \"#cf4446\", \"#d04545\", \"#d24644\", \"#d34743\", \"#d44842\", \"#d54a41\", \"#d74b3f\", \"#d84c3e\", \"#d94d3d\", \"#da4e3c\", \"#db503b\", \"#dd513a\", \"#de5238\", \"#df5337\", \"#e05536\", \"#e15635\", \"#e25734\", \"#e35933\", \"#e45a31\", \"#e55c30\", \"#e65d2f\", \"#e75e2e\", \"#e8602d\", \"#e9612b\", \"#ea632a\", \"#eb6429\", \"#eb6628\", \"#ec6726\", \"#ed6925\", \"#ee6a24\", \"#ef6c23\", \"#ef6e21\", \"#f06f20\", \"#f1711f\", \"#f1731d\", \"#f2741c\", \"#f3761b\", \"#f37819\", \"#f47918\", \"#f57b17\", \"#f57d15\", \"#f67e14\", \"#f68013\", \"#f78212\", \"#f78410\", \"#f8850f\", \"#f8870e\", \"#f8890c\", \"#f98b0b\", \"#f98c0a\", \"#f98e09\", \"#fa9008\", \"#fa9207\", \"#fa9407\", \"#fb9606\", \"#fb9706\", \"#fb9906\", \"#fb9b06\", \"#fb9d07\", \"#fc9f07\", \"#fca108\", \"#fca309\", \"#fca50a\", \"#fca60c\", \"#fca80d\", \"#fcaa0f\", \"#fcac11\", \"#fcae12\", \"#fcb014\", \"#fcb216\", \"#fcb418\", \"#fbb61a\", \"#fbb81d\", \"#fbba1f\", \"#fbbc21\", \"#fbbe23\", \"#fac026\", \"#fac228\", \"#fac42a\", \"#fac62d\", \"#f9c72f\", \"#f9c932\", \"#f9cb35\", \"#f8cd37\", \"#f8cf3a\", \"#f7d13d\", \"#f7d340\", \"#f6d543\", \"#f6d746\", \"#f5d949\", \"#f5db4c\", \"#f4dd4f\", \"#f4df53\", \"#f4e156\", \"#f3e35a\", \"#f3e55d\", \"#f2e661\", \"#f2e865\", \"#f2ea69\", \"#f1ec6d\", \"#f1ed71\", \"#f1ef75\", \"#f1f179\", \"#f2f27d\", \"#f2f482\", \"#f3f586\", \"#f3f68a\", \"#f4f88e\", \"#f5f992\", \"#f6fa96\", \"#f8fb9a\", \"#f9fc9d\", \"#fafda1\", \"#fcffa4\"],\n    \"magma\": [\"#000004\", \"#010005\", \"#010106\", \"#010108\", \"#020109\", \"#02020b\", \"#02020d\", \"#03030f\", \"#030312\", \"#040414\", \"#050416\", \"#060518\", \"#06051a\", \"#07061c\", \"#08071e\", \"#090720\", \"#0a0822\", \"#0b0924\", \"#0c0926\", \"#0d0a29\", \"#0e0b2b\", \"#100b2d\", \"#110c2f\", \"#120d31\", \"#130d34\", \"#140e36\", \"#150e38\", \"#160f3b\", \"#180f3d\", \"#19103f\", \"#1a1042\", \"#1c1044\", \"#1d1147\", \"#1e1149\", \"#20114b\", \"#21114e\", \"#221150\", \"#241253\", \"#251255\", \"#271258\", \"#29115a\", \"#2a115c\", \"#2c115f\", \"#2d1161\", \"#2f1163\", \"#311165\", \"#331067\", \"#341069\", \"#36106b\", \"#38106c\", \"#390f6e\", \"#3b0f70\", \"#3d0f71\", \"#3f0f72\", \"#400f74\", \"#420f75\", \"#440f76\", \"#451077\", \"#471078\", \"#491078\", \"#4a1079\", \"#4c117a\", \"#4e117b\", \"#4f127b\", \"#51127c\", \"#52137c\", \"#54137d\", \"#56147d\", \"#57157e\", \"#59157e\", \"#5a167e\", \"#5c167f\", \"#5d177f\", \"#5f187f\", \"#601880\", \"#621980\", \"#641a80\", \"#651a80\", \"#671b80\", \"#681c81\", \"#6a1c81\", \"#6b1d81\", \"#6d1d81\", \"#6e1e81\", \"#701f81\", \"#721f81\", \"#732081\", \"#752181\", \"#762181\", \"#782281\", \"#792282\", \"#7b2382\", \"#7c2382\", \"#7e2482\", \"#802582\", \"#812581\", \"#832681\", \"#842681\", \"#862781\", \"#882781\", \"#892881\", \"#8b2981\", \"#8c2981\", \"#8e2a81\", \"#902a81\", \"#912b81\", \"#932b80\", \"#942c80\", \"#962c80\", \"#982d80\", \"#992d80\", \"#9b2e7f\", \"#9c2e7f\", \"#9e2f7f\", \"#a02f7f\", \"#a1307e\", \"#a3307e\", \"#a5317e\", \"#a6317d\", \"#a8327d\", \"#aa337d\", \"#ab337c\", \"#ad347c\", \"#ae347b\", \"#b0357b\", \"#b2357b\", \"#b3367a\", \"#b5367a\", \"#b73779\", \"#b83779\", \"#ba3878\", \"#bc3978\", \"#bd3977\", \"#bf3a77\", \"#c03a76\", \"#c23b75\", \"#c43c75\", \"#c53c74\", \"#c73d73\", \"#c83e73\", \"#ca3e72\", \"#cc3f71\", \"#cd4071\", \"#cf4070\", \"#d0416f\", \"#d2426f\", \"#d3436e\", \"#d5446d\", \"#d6456c\", \"#d8456c\", \"#d9466b\", \"#db476a\", \"#dc4869\", \"#de4968\", \"#df4a68\", \"#e04c67\", \"#e24d66\", \"#e34e65\", \"#e44f64\", \"#e55064\", \"#e75263\", \"#e85362\", \"#e95462\", \"#ea5661\", \"#eb5760\", \"#ec5860\", \"#ed5a5f\", \"#ee5b5e\", \"#ef5d5e\", \"#f05f5e\", \"#f1605d\", \"#f2625d\", \"#f2645c\", \"#f3655c\", \"#f4675c\", \"#f4695c\", \"#f56b5c\", \"#f66c5c\", \"#f66e5c\", \"#f7705c\", \"#f7725c\", \"#f8745c\", \"#f8765c\", \"#f9785d\", \"#f9795d\", \"#f97b5d\", \"#fa7d5e\", \"#fa7f5e\", \"#fa815f\", \"#fb835f\", \"#fb8560\", \"#fb8761\", \"#fc8961\", \"#fc8a62\", \"#fc8c63\", \"#fc8e64\", \"#fc9065\", \"#fd9266\", \"#fd9467\", \"#fd9668\", \"#fd9869\", \"#fd9a6a\", \"#fd9b6b\", \"#fe9d6c\", \"#fe9f6d\", \"#fea16e\", \"#fea36f\", \"#fea571\", \"#fea772\", \"#fea973\", \"#feaa74\", \"#feac76\", \"#feae77\", \"#feb078\", \"#feb27a\", \"#feb47b\", \"#feb67c\", \"#feb77e\", \"#feb97f\", \"#febb81\", \"#febd82\", \"#febf84\", \"#fec185\", \"#fec287\", \"#fec488\", \"#fec68a\", \"#fec88c\", \"#feca8d\", \"#fecc8f\", \"#fecd90\", \"#fecf92\", \"#fed194\", \"#fed395\", \"#fed597\", \"#fed799\", \"#fed89a\", \"#fdda9c\", \"#fddc9e\", \"#fddea0\", \"#fde0a1\", \"#fde2a3\", \"#fde3a5\", \"#fde5a7\", \"#fde7a9\", \"#fde9aa\", \"#fdebac\", \"#fcecae\", \"#fceeb0\", \"#fcf0b2\", \"#fcf2b4\", \"#fcf4b6\", \"#fcf6b8\", \"#fcf7b9\", \"#fcf9bb\", \"#fcfbbd\", \"#fcfdbf\"],\n    \"plasma\": [\"#0d0887\", \"#100788\", \"#130789\", \"#16078a\", \"#19068c\", \"#1b068d\", \"#1d068e\", \"#20068f\", \"#220690\", \"#240691\", \"#260591\", \"#280592\", \"#2a0593\", \"#2c0594\", \"#2e0595\", \"#2f0596\", \"#310597\", \"#330597\", \"#350498\", \"#370499\", \"#38049a\", \"#3a049a\", \"#3c049b\", \"#3e049c\", \"#3f049c\", \"#41049d\", \"#43039e\", \"#44039e\", \"#46039f\", \"#48039f\", \"#4903a0\", \"#4b03a1\", \"#4c02a1\", \"#4e02a2\", \"#5002a2\", \"#5102a3\", \"#5302a3\", \"#5502a4\", \"#5601a4\", \"#5801a4\", \"#5901a5\", \"#5b01a5\", \"#5c01a6\", \"#5e01a6\", \"#6001a6\", \"#6100a7\", \"#6300a7\", \"#6400a7\", \"#6600a7\", \"#6700a8\", \"#6900a8\", \"#6a00a8\", \"#6c00a8\", \"#6e00a8\", \"#6f00a8\", \"#7100a8\", \"#7201a8\", \"#7401a8\", \"#7501a8\", \"#7701a8\", \"#7801a8\", \"#7a02a8\", \"#7b02a8\", \"#7d03a8\", \"#7e03a8\", \"#8004a8\", \"#8104a7\", \"#8305a7\", \"#8405a7\", \"#8606a6\", \"#8707a6\", \"#8808a6\", \"#8a09a5\", \"#8b0aa5\", \"#8d0ba5\", \"#8e0ca4\", \"#8f0da4\", \"#910ea3\", \"#920fa3\", \"#9410a2\", \"#9511a1\", \"#9613a1\", \"#9814a0\", \"#99159f\", \"#9a169f\", \"#9c179e\", \"#9d189d\", \"#9e199d\", \"#a01a9c\", \"#a11b9b\", \"#a21d9a\", \"#a31e9a\", \"#a51f99\", \"#a62098\", \"#a72197\", \"#a82296\", \"#aa2395\", \"#ab2494\", \"#ac2694\", \"#ad2793\", \"#ae2892\", \"#b02991\", \"#b12a90\", \"#b22b8f\", \"#b32c8e\", \"#b42e8d\", \"#b52f8c\", \"#b6308b\", \"#b7318a\", \"#b83289\", \"#ba3388\", \"#bb3488\", \"#bc3587\", \"#bd3786\", \"#be3885\", \"#bf3984\", \"#c03a83\", \"#c13b82\", \"#c23c81\", \"#c33d80\", \"#c43e7f\", \"#c5407e\", \"#c6417d\", \"#c7427c\", \"#c8437b\", \"#c9447a\", \"#ca457a\", \"#cb4679\", \"#cc4778\", \"#cc4977\", \"#cd4a76\", \"#ce4b75\", \"#cf4c74\", \"#d04d73\", \"#d14e72\", \"#d24f71\", \"#d35171\", \"#d45270\", \"#d5536f\", \"#d5546e\", \"#d6556d\", \"#d7566c\", \"#d8576b\", \"#d9586a\", \"#da5a6a\", \"#da5b69\", \"#db5c68\", \"#dc5d67\", \"#dd5e66\", \"#de5f65\", \"#de6164\", \"#df6263\", \"#e06363\", \"#e16462\", \"#e26561\", \"#e26660\", \"#e3685f\", \"#e4695e\", \"#e56a5d\", \"#e56b5d\", \"#e66c5c\", \"#e76e5b\", \"#e76f5a\", \"#e87059\", \"#e97158\", \"#e97257\", \"#ea7457\", \"#eb7556\", \"#eb7655\", \"#ec7754\", \"#ed7953\", \"#ed7a52\", \"#ee7b51\", \"#ef7c51\", \"#ef7e50\", \"#f07f4f\", \"#f0804e\", \"#f1814d\", \"#f1834c\", \"#f2844b\", \"#f3854b\", \"#f3874a\", \"#f48849\", \"#f48948\", \"#f58b47\", \"#f58c46\", \"#f68d45\", \"#f68f44\", \"#f79044\", \"#f79143\", \"#f79342\", \"#f89441\", \"#f89540\", \"#f9973f\", \"#f9983e\", \"#f99a3e\", \"#fa9b3d\", \"#fa9c3c\", \"#fa9e3b\", \"#fb9f3a\", \"#fba139\", \"#fba238\", \"#fca338\", \"#fca537\", \"#fca636\", \"#fca835\", \"#fca934\", \"#fdab33\", \"#fdac33\", \"#fdae32\", \"#fdaf31\", \"#fdb130\", \"#fdb22f\", \"#fdb42f\", \"#fdb52e\", \"#feb72d\", \"#feb82c\", \"#feba2c\", \"#febb2b\", \"#febd2a\", \"#febe2a\", \"#fec029\", \"#fdc229\", \"#fdc328\", \"#fdc527\", \"#fdc627\", \"#fdc827\", \"#fdca26\", \"#fdcb26\", \"#fccd25\", \"#fcce25\", \"#fcd025\", \"#fcd225\", \"#fbd324\", \"#fbd524\", \"#fbd724\", \"#fad824\", \"#fada24\", \"#f9dc24\", \"#f9dd25\", \"#f8df25\", \"#f8e125\", \"#f7e225\", \"#f7e425\", \"#f6e626\", \"#f6e826\", \"#f5e926\", \"#f5eb27\", \"#f4ed27\", \"#f3ee27\", \"#f3f027\", \"#f2f227\", \"#f1f426\", \"#f1f525\", \"#f0f724\", \"#f0f921\"],\n    \"viridis\": [\"#440154\", \"#440256\", \"#450457\", \"#450559\", \"#46075a\", \"#46085c\", \"#460a5d\", \"#460b5e\", \"#470d60\", \"#470e61\", \"#471063\", \"#471164\", \"#471365\", \"#481467\", \"#481668\", \"#481769\", \"#48186a\", \"#481a6c\", \"#481b6d\", \"#481c6e\", \"#481d6f\", \"#481f70\", \"#482071\", \"#482173\", \"#482374\", \"#482475\", \"#482576\", \"#482677\", \"#482878\", \"#482979\", \"#472a7a\", \"#472c7a\", \"#472d7b\", \"#472e7c\", \"#472f7d\", \"#46307e\", \"#46327e\", \"#46337f\", \"#463480\", \"#453581\", \"#453781\", \"#453882\", \"#443983\", \"#443a83\", \"#443b84\", \"#433d84\", \"#433e85\", \"#423f85\", \"#424086\", \"#424186\", \"#414287\", \"#414487\", \"#404588\", \"#404688\", \"#3f4788\", \"#3f4889\", \"#3e4989\", \"#3e4a89\", \"#3e4c8a\", \"#3d4d8a\", \"#3d4e8a\", \"#3c4f8a\", \"#3c508b\", \"#3b518b\", \"#3b528b\", \"#3a538b\", \"#3a548c\", \"#39558c\", \"#39568c\", \"#38588c\", \"#38598c\", \"#375a8c\", \"#375b8d\", \"#365c8d\", \"#365d8d\", \"#355e8d\", \"#355f8d\", \"#34608d\", \"#34618d\", \"#33628d\", \"#33638d\", \"#32648e\", \"#32658e\", \"#31668e\", \"#31678e\", \"#31688e\", \"#30698e\", \"#306a8e\", \"#2f6b8e\", \"#2f6c8e\", \"#2e6d8e\", \"#2e6e8e\", \"#2e6f8e\", \"#2d708e\", \"#2d718e\", \"#2c718e\", \"#2c728e\", \"#2c738e\", \"#2b748e\", \"#2b758e\", \"#2a768e\", \"#2a778e\", \"#2a788e\", \"#29798e\", \"#297a8e\", \"#297b8e\", \"#287c8e\", \"#287d8e\", \"#277e8e\", \"#277f8e\", \"#27808e\", \"#26818e\", \"#26828e\", \"#26828e\", \"#25838e\", \"#25848e\", \"#25858e\", \"#24868e\", \"#24878e\", \"#23888e\", \"#23898e\", \"#238a8d\", \"#228b8d\", \"#228c8d\", \"#228d8d\", \"#218e8d\", \"#218f8d\", \"#21908d\", \"#21918c\", \"#20928c\", \"#20928c\", \"#20938c\", \"#1f948c\", \"#1f958b\", \"#1f968b\", \"#1f978b\", \"#1f988b\", \"#1f998a\", \"#1f9a8a\", \"#1e9b8a\", \"#1e9c89\", \"#1e9d89\", \"#1f9e89\", \"#1f9f88\", \"#1fa088\", \"#1fa188\", \"#1fa187\", \"#1fa287\", \"#20a386\", \"#20a486\", \"#21a585\", \"#21a685\", \"#22a785\", \"#22a884\", \"#23a983\", \"#24aa83\", \"#25ab82\", \"#25ac82\", \"#26ad81\", \"#27ad81\", \"#28ae80\", \"#29af7f\", \"#2ab07f\", \"#2cb17e\", \"#2db27d\", \"#2eb37c\", \"#2fb47c\", \"#31b57b\", \"#32b67a\", \"#34b679\", \"#35b779\", \"#37b878\", \"#38b977\", \"#3aba76\", \"#3bbb75\", \"#3dbc74\", \"#3fbc73\", \"#40bd72\", \"#42be71\", \"#44bf70\", \"#46c06f\", \"#48c16e\", \"#4ac16d\", \"#4cc26c\", \"#4ec36b\", \"#50c46a\", \"#52c569\", \"#54c568\", \"#56c667\", \"#58c765\", \"#5ac864\", \"#5cc863\", \"#5ec962\", \"#60ca60\", \"#63cb5f\", \"#65cb5e\", \"#67cc5c\", \"#69cd5b\", \"#6ccd5a\", \"#6ece58\", \"#70cf57\", \"#73d056\", \"#75d054\", \"#77d153\", \"#7ad151\", \"#7cd250\", \"#7fd34e\", \"#81d34d\", \"#84d44b\", \"#86d549\", \"#89d548\", \"#8bd646\", \"#8ed645\", \"#90d743\", \"#93d741\", \"#95d840\", \"#98d83e\", \"#9bd93c\", \"#9dd93b\", \"#a0da39\", \"#a2da37\", \"#a5db36\", \"#a8db34\", \"#aadc32\", \"#addc30\", \"#b0dd2f\", \"#b2dd2d\", \"#b5de2b\", \"#b8de29\", \"#bade28\", \"#bddf26\", \"#c0df25\", \"#c2df23\", \"#c5e021\", \"#c8e020\", \"#cae11f\", \"#cde11d\", \"#d0e11c\", \"#d2e21b\", \"#d5e21a\", \"#d8e219\", \"#dae319\", \"#dde318\", \"#dfe318\", \"#e2e418\", \"#e5e419\", \"#e7e419\", \"#eae51a\", \"#ece51b\", \"#efe51c\", \"#f1e51d\", \"#f4e61e\", \"#f6e620\", \"#f8e621\", \"#fbe723\", \"#fde725\"]\n};\n","export const colorhex = {\n    \"aliceblue\": \"#f0f8ff\",\n    \"antiquewhite\": \"#faebd7\",\n    \"aqua\": \"#00ffff\",\n    \"aquamarine\": \"#7fffd4\",\n    \"azure\": \"#f0ffff\",\n    \"beige\": \"#f5f5dc\",\n    \"bisque\": \"#ffe4c4\",\n    \"black\": \"#000000\",\n    \"blanchedalmond\": \"#ffebcd\",\n    \"blue\": \"#0000ff\",\n    \"blueviolet\": \"#8a2be2\",\n    \"brown\": \"#a52a2a\",\n    \"burlywood\": \"#deb887\",\n    \"cadetblue\": \"#5f9ea0\",\n    \"chartreuse\": \"#7fff00\",\n    \"chocolate\": \"#d2691e\",\n    \"coral\": \"#ff7f50\",\n    \"cornflowerblue\": \"#6495ed\",\n    \"cornsilk\": \"#fff8dc\",\n    \"crimson\": \"#dc143c\",\n    \"cyan\": \"#00ffff\",\n    \"darkblue\": \"#00008b\",\n    \"darkcyan\": \"#008b8b\",\n    \"darkgoldenrod\": \"#b8860b\",\n    \"darkgray\": \"#a9a9a9\",\n    \"darkgreen\": \"#006400\",\n    \"darkkhaki\": \"#bdb76b\",\n    \"darkmagenta\": \"#8b008b\",\n    \"darkolivegreen\": \"#556b2f\",\n    \"darkorange\": \"#ff8c00\",\n    \"darkorchid\": \"#9932cc\",\n    \"darkred\": \"#8b0000\",\n    \"darksalmon\": \"#e9967a\",\n    \"darkseagreen\": \"#8fbc8f\",\n    \"darkslateblue\": \"#483d8b\",\n    \"darkslategray\": \"#2f4f4f\",\n    \"darkturquoise\": \"#00ced1\",\n    \"darkviolet\": \"#9400d3\",\n    \"deeppink\": \"#ff1493\",\n    \"deepskyblue\": \"#00bfff\",\n    \"dimgray\": \"#696969\",\n    \"dodgerblue\": \"#1e90ff\",\n    \"firebrick\": \"#b22222\",\n    \"floralwhite\": \"#fffaf0\",\n    \"forestgreen\": \"#228b22\",\n    \"fuchsia\": \"#ff00ff\",\n    \"gainsboro\": \"#dcdcdc\",\n    \"ghostwhite\": \"#f8f8ff\",\n    \"gold\": \"#ffd700\",\n    \"goldenrod\": \"#daa520\",\n    \"gray\": \"#808080\",\n    \"green\": \"#008000\",\n    \"greenyellow\": \"#adff2f\",\n    \"honeydew\": \"#f0fff0\",\n    \"hotpink\": \"#ff69b4\",\n    \"indianred \": \"#cd5c5c\",\n    \"indigo\": \"#4b0082\",\n    \"ivory\": \"#fffff0\",\n    \"khaki\": \"#f0e68c\",\n    \"lavender\": \"#e6e6fa\",\n    \"lavenderblush\": \"#fff0f5\",\n    \"lawngreen\": \"#7cfc00\",\n    \"lemonchiffon\": \"#fffacd\",\n    \"lightblue\": \"#add8e6\",\n    \"lightcoral\": \"#f08080\",\n    \"lightcyan\": \"#e0ffff\",\n    \"lightgoldenrodyellow\": \"#fafad2\",\n    \"lightgrey\": \"#d3d3d3\",\n    \"lightgreen\": \"#90ee90\",\n    \"lightpink\": \"#ffb6c1\",\n    \"lightsalmon\": \"#ffa07a\",\n    \"lightseagreen\": \"#20b2aa\",\n    \"lightskyblue\": \"#87cefa\",\n    \"lightslategray\": \"#778899\",\n    \"lightsteelblue\": \"#b0c4de\",\n    \"lightyellow\": \"#ffffe0\",\n    \"lime\": \"#00ff00\",\n    \"limegreen\": \"#32cd32\",\n    \"linen\": \"#faf0e6\",\n    \"magenta\": \"#ff00ff\",\n    \"maroon\": \"#800000\",\n    \"mediumaquamarine\": \"#66cdaa\",\n    \"mediumblue\": \"#0000cd\",\n    \"mediumorchid\": \"#ba55d3\",\n    \"mediumpurple\": \"#9370d8\",\n    \"mediumseagreen\": \"#3cb371\",\n    \"mediumslateblue\": \"#7b68ee\",\n    \"mediumspringgreen\": \"#00fa9a\",\n    \"mediumturquoise\": \"#48d1cc\",\n    \"mediumvioletred\": \"#c71585\",\n    \"midnightblue\": \"#191970\",\n    \"mintcream\": \"#f5fffa\",\n    \"mistyrose\": \"#ffe4e1\",\n    \"moccasin\": \"#ffe4b5\",\n    \"navajowhite\": \"#ffdead\",\n    \"navy\": \"#000080\",\n    \"oldlace\": \"#fdf5e6\",\n    \"olive\": \"#808000\",\n    \"olivedrab\": \"#6b8e23\",\n    \"orange\": \"#ffa500\",\n    \"orangered\": \"#ff4500\",\n    \"orchid\": \"#da70d6\",\n    \"palegoldenrod\": \"#eee8aa\",\n    \"palegreen\": \"#98fb98\",\n    \"paleturquoise\": \"#afeeee\",\n    \"palevioletred\": \"#d87093\",\n    \"papayawhip\": \"#ffefd5\",\n    \"peachpuff\": \"#ffdab9\",\n    \"peru\": \"#cd853f\",\n    \"pink\": \"#ffc0cb\",\n    \"plum\": \"#dda0dd\",\n    \"powderblue\": \"#b0e0e6\",\n    \"purple\": \"#800080\",\n    \"red\": \"#ff0000\",\n    \"rosybrown\": \"#bc8f8f\",\n    \"royalblue\": \"#4169e1\",\n    \"saddlebrown\": \"#8b4513\",\n    \"salmon\": \"#fa8072\",\n    \"sandybrown\": \"#f4a460\",\n    \"seagreen\": \"#2e8b57\",\n    \"seashell\": \"#fff5ee\",\n    \"sienna\": \"#a0522d\",\n    \"silver\": \"#c0c0c0\",\n    \"skyblue\": \"#87ceeb\",\n    \"slateblue\": \"#6a5acd\",\n    \"slategray\": \"#708090\",\n    \"snow\": \"#fffafa\",\n    \"springgreen\": \"#00ff7f\",\n    \"steelblue\": \"#4682b4\",\n    \"tan\": \"#d2b48c\",\n    \"teal\": \"#008080\",\n    \"thistle\": \"#d8bfd8\",\n    \"tomato\": \"#ff6347\",\n    \"turquoise\": \"#40e0d0\",\n    \"violet\": \"#ee82ee\",\n    \"wheat\": \"#f5deb3\",\n    \"white\": \"#ffffff\",\n    \"whitesmoke\": \"#f5f5f5\",\n    \"yellow\": \"#ffff00\",\n    \"yellowgreen\": \"#9acd32\"\n};\n","import {gradients as colorSchemes} from './gradients';\nimport {colorhex} from './colorhex';\n\nconst colorResolution = 256;\nconst colorSetMax = 32;\nconst defaultColorScheme = colorSchemes['viridis'];\nconst defaultColorSet = [\n    \"steelblue\",\n    \"red\",\n    \"teal\",\n    \"orange\",\n    \"purple\"\n];\n\nlet gradient = defaultColorScheme;\nlet colorset = defaultColorSet;\n\nexport default function color($p) {\n    let colorManager = {};\n\n    $p.uniform('uColorMode',       'int',   0) // 0=categorical, 1=numeric\n        .uniform('uColorCount',    'int',   colorSetMax)\n        .uniform('uColorSet',      'vec3',  setColorTable(colorset))\n        // .uniform('uColorGradient', 'vec4', setColorScheme(gradient))\n        .texture('tColorGradient', 'float', setColorScheme(gradient),  [colorResolution, 1], 'rgba')\n        .subroutine('mapColorRGB', 'vec3',  mapColorRGB);\n\n    colorManager.updateScheme = function(newColors) {\n        if(typeof newColors == 'string' && colorSchemes.hasOwnProperty(newColors)) {\n            gradient = colorSchemes[newColors];\n        } else if(Array.isArray(newColors)) {\n            gradient = newColors;\n        }\n        let colorGradient = setColorScheme(gradient)\n        $p.texture.tColorGradient = colorGradient;\n        // $p.texture.update('tColorGradient', colorGradient, [0, 0]);\n    }\n\n    colorManager.updateTable = function(colors) {\n        colorset = colors;\n        $p.uniform.uColorSet.data = setColorTable(colors);\n    }\n\n    colorManager.colorTable = defaultColorSet.map(function(t){\n        return rgba2hex(t);\n    });\n\n    colorManager.getColors = function() {\n        if($p.uniform.uColorMode == 0) {\n            return colorset;\n        } else {\n            return gradient;\n        }\n    }\n\n    colorManager.updateColors = function(colors, colorMode) {\n        \n        colorManager.updateScheme(colors || defaultColorScheme);\n        colorManager.updateTable(colors || defaultColorSet);\n        if(Number.isInteger(colorMode)) {\n            $p.uniform.uColorMode.data = colorMode;\n        }\n    }\n\n    colorManager.rgb = rgb;\n    colorManager.rgba = rgba;\n\n    return colorManager;\n}\n\nfunction colorStrToHex(colorStr) {\n    if (typeof colorhex[colorStr.toLowerCase()] != 'undefined') {\n        return colorhex[colorStr.toLowerCase()];\n    } else {\n        return false;\n    }\n}\n\nfunction rgb(hexStr) {\n    var hex, r, g, b;\n\n    if(hexStr.slice(0,1) == '#') {\n        hex = hexStr.slice(1);\n    } else {\n        hex = colorStrToHex(hexStr).slice(1);\n    }\n\n    r = parseInt(hex.substring(0,2), 16) / 255;\n    g = parseInt(hex.substring(2,4), 16) / 255;\n    b = parseInt(hex.substring(4,6), 16) / 255;\n    return [r, g, b];\n}\n\nfunction rgba(hexStr, alpha = 1.0) {\n    let c = rgb(hexStr);\n    return [c[0], c[1], c[2], alpha];\n}\n\nfunction rgba2hex(c) {\n    var r = c[0],\n        g = c[1],\n        b = c[2],\n        a = 1;\n    if (r > 255 || g > 255 || b > 255 || a > 255) {\n        throw 'Invalid color component';\n    }\n    return (256 + r).toString(16).substr(1) +((1 << 24) + (g << 16) | (b << 8) | a).toString(16).substr(1);\n}\n\nfunction setColorScheme(colors) {\n    var cc = colors.length - 1,\n        step = (cc >= 0) ? colorResolution / (cc+1) : 1,\n        colorGradient = new Float32Array(colorResolution * 4);\n\n    colors.push(colors[cc]);\n    for(var i = 0; i < cc+1; i++) {\n        var c0 = rgba(colors[i]),\n            c1 = rgba(colors[i+1]),\n            offset = Math.floor(i * step)*4;\n\n        for(var x = 0; x < step; x++) {\n            var xi = x / (step);\n            colorGradient[offset+x*4]   = c0[0] + (c1[0] - c0[0]) * xi;\n            colorGradient[offset+x*4+1] = c0[1] + (c1[1] - c0[1]) * xi;\n            colorGradient[offset+x*4+2] = c0[2] + (c1[2] - c0[2]) * xi;\n            colorGradient[offset+x*4+3] = c0[3] + (c1[3] - c0[3]) * xi;\n        }\n    }\n    colors.pop();\n    return colorGradient;\n}\n\nfunction setColorTable(colors) {\n    let colorTable = new Float32Array(colorSetMax * 3);\n    colors.forEach(function(c, i){\n        let colorValue = rgb(c);\n        colorTable[i*3] = colorValue[0];\n        colorTable[i*3+1] = colorValue[1];\n        colorTable[i*3+2] = colorValue[2];\n    });\n    return colorTable;\n}\n\nfunction mapColorRGB({fieldId = 'int', value = 'float'}) {\n    var d = new Vec2();\n    var colorRGB = new Vec3();\n    var intValue = new Int();\n    if(fieldId == -1) {\n        colorRGB = this.uDefaultColor;\n    } else {\n        if(this.uColorMode == 1) {\n            colorRGB = texture2D(this.tColorGradient, vec2(value, 1.0)).rgb;\n        } else {\n            d = this.uVisDomains[fieldId];\n            intValue = int(value * (d.y - d.x) + d.x + 0.5); //plus 0.5 for rounding\n\n            if(intValue >= this.uColorCount) {\n                colorRGB = vec3(0.0, 0.0, 0.0);\n            } else {\n                colorRGB = this.uColorSet[intValue];\n            }\n        }\n    }\n    return colorRGB;\n}\n","export const EncodingChannels = ['x', 'y', 'color', 'opacity', 'width', 'height', 'size']\n\nexport function encode($p, vmap, colorManager) {\n    let opacity = vmap.opacity || vmap.alpha;\n    let vmapIndex = new Int32Array(EncodingChannels.length);\n    let scaleExponents = new Float32Array(EncodingChannels.length).fill(1.0);\n    \n    EncodingChannels.forEach((channel, channelIndex) => {\n        let encoding = vmap[channel];\n        if (typeof(encoding) == 'object' && encoding.hasOwnProperty('field')) {\n            if(encoding.exponent !== 1.0) {\n                scaleExponents[channelIndex] = encoding.exponent;\n            }\n            encoding = vmap[channel].field;\n        }\n        vmapIndex[channelIndex] = $p.fields.indexOf(encoding);\n    })\n    $p.uniform.uVisualEncodings.data = vmapIndex;\n    $p.uniform.uScaleExponents.data = scaleExponents;\n    $p.uniform.uDefaultAlpha.data = 1.0;\n    if(vmapIndex[2] === -1) {\n        if (typeof(vmap.color) === 'string'){\n            if(vmap.color === 'auto') {\n                $p.revealDensity = true;\n                $p.uniform.uRevealMode.data = 1;\n            } else {\n                $p.uniform.uDefaultColor.data = colorManager.rgb(vmap.color);\n            }\n        } else {\n            if(typeof(vmap.size) == 'number') {\n                $p.uniform.uMarkSize.data = vmap.size;\n            }\n        }\n    } else {\n        if($p.strLists.hasOwnProperty($p.fields[vmapIndex[2]])) {\n            $p.uniform.uColorMode.data = 0;\n        } else {\n            $p.uniform.uColorMode.data = 1;\n        }\n    }\n\n    if(typeof(opacity) === 'number') {\n        $p.uniform.uDefaultAlpha.data = opacity;\n    } else if(vmapIndex[3] === -1 &&\n        typeof(opacity) == 'string' &&\n        opacity == 'auto'\n    ) {\n        $p.revealDensity = true;\n        $p.uniform.uRevealMode.data = 0;\n        // $p.uniform.uDefaultAlpha.data = 1.0;\n    }\n\n    if(vmapIndex[6] === -1 && typeof(vmap.size) == 'number') {\n        $p.uniform.uMarkSize.data = vmap.size;\n    }\n\n    let viewSetting = {scale: {}, histogram: {}};\n    let isRect = (['rect', 'bar'].indexOf(vmap.mark) !== -1);\n    let markSpace = [0, 0];\n    let isXYCategorical = [0, 0];\n    if(vmapIndex[0] > -1) {\n        let len = $p.fieldWidths[vmapIndex[0]];\n        let ext = $p.fieldDomains[vmapIndex[0]];\n        if($p.strLists.hasOwnProperty(vmap.x)){\n            viewSetting.scale.x = 'categorical';\n            viewSetting.domainX = new Array(len).fill(0).map(\n                (d,i) => $p.strLists[vmap.x][i]\n            );\n            isXYCategorical[0] = 1;\n         } else if (isRect) {\n            viewSetting.scale.x = 'ordinal';\n            viewSetting.domainX = new Array(len).fill(0).map((d,i) => ext[0] + i);\n         }\n         markSpace[0] = 0.02;\n\n    }\n    if(vmapIndex[1] > -1) {\n        let len = $p.fieldWidths[vmapIndex[1]];\n        let ext = $p.fieldDomains[vmapIndex[1]];\n\n        if($p.strLists.hasOwnProperty(vmap.y)){\n            viewSetting.scale.y = 'categorical';\n            viewSetting.domainY = new Array(len).fill(0).map(\n                (d,i)=>$p.strLists[vmap.y][i]\n            );\n            isXYCategorical[1] = 1;\n        } else if (isRect) {\n            viewSetting.scale.y = 'ordinal';\n            viewSetting.domainY = new Array(len).fill(0).map((d,i)=>ext[0] + i);\n        }\n        markSpace[1] = 0.1;\n    }\n\n    if(vmapIndex[0] > -1 && vmapIndex[1] > -1) {\n        markSpace = [0, 0];\n    }\n    let dims = ['x', 'y'];\n    for(let dim of dims) {\n        if($p.histograms.indexOf(vmap[dim]) !== -1) {\n            let histMin = $p.intervals[vmap[dim]].min;\n            let histMax = $p.intervals[vmap[dim]].max;\n            let histIntv = $p.intervals[vmap[dim]].interval;\n            //let histBin = (histMax - histMin) / histIntv + 1;\n            let histBin = Math.ceil((histMax - histMin) / histIntv);\n            let d = (dim == 'x') ? 'domainX' : 'domainY';\n            viewSetting.histogram[dim] = true;\n            viewSetting[d] = new Array(histBin).fill(histMin).map((h, i) => h + i*histIntv);\n            // markSpace[dims.indexOf(dim)] = 0.01;\n        }\n    }\n    $p.uniform.uMarkSpace.data = markSpace;\n    $p.uniform.uIsXYCategorical.data = isXYCategorical;\n\n    // if(!$p._update) {\n        if(!vmap.width && vmap.x) {\n            $p.uniform.uDefaultWidth.data = 1.0 / ($p.fieldWidths[$p.fields.indexOf(vmap.x)]);\n        } else if(vmapIndex[4] === -1 && typeof(vmap.width) == 'number') {\n            $p.uniform.uDefaultWidth.data = vmap.width / width;\n        }\n\n        if(!vmap.height && vmap.y) {\n            $p.uniform.uDefaultHeight.data = 1.0 / ($p.fieldWidths[$p.fields.indexOf(vmap.y)]);\n        } else if(vmapIndex[5] === -1 && typeof(vmap.width) == 'number') {\n            $p.uniform.uDefaultHeight.data = vmap.height / height;\n        }\n    // }\n    return viewSetting;\n}\n","export default function ($p, vmap, viewIndex, domains) {\n  let chart = $p.views[viewIndex];\n  let width = chart.width;\n  let height = chart.height;\n  let padding = chart.padding;\n\n  $p.extensions.forEach((ext) => {\n    if (ext.condition.call(null, vmap)) {\n      let dataDomains = {};\n      Object.keys(domains).forEach(f => {\n        if ($p.uniqueValues.hasOwnProperty(f)) {\n          let last = $p.uniqueValues[f].length - 1;\n          dataDomains[f] = [$p.uniqueValues[f][0], $p.uniqueValues[f][last]];\n        } else if($p.strLists.hasOwnProperty(f)) {\n          dataDomains[f] = $p.strLists[f];\n        } else {\n          dataDomains[f] = domains[f];\n        }\n      })\n\n      $p.skipRender = ext.skipDefault;\n      let data = {\n        json: null,\n        array: null,\n        texture: null,\n        vmap: vmap,\n        fields: $p.fields,\n        schema: $p.dataSchema,\n        domains: dataDomains\n      };\n\n      let view = Object.assign({}, chart);\n      view.width = width - padding.left - padding.right;\n      view.height = height - padding.top - padding.bottom;\n      view.encodings = vmap;\n      view.svg = chart.chart.svg.svg;\n      view.canvas = $p.canvas;\n\n      if (ext.exportData) {\n        data.json = $p.exportResult({format: 'row', outputTag: vmap.in});\n      }\n\n      if (typeof ext.onready === 'function') {\n        ext.onready.call($p, data, view);\n      }\n\n      let execution = (ext.type == 'class')\n        ? function (data, view) {\n          chart.plot = new ext.function(data, view)\n          return chart.plot;\n        } \n        : ext.function;\n\n      if (ext.restartOnUpdate) {\n        execution.call(ext, data, view);\n      } else {\n        if (!$p._update) {\n          execution.call(ext, data, view);\n        }\n      }\n    }\n  })\n}","export default {\n    visMap({\n        channelId = 'int',\n        addrX = 'float',\n        addrY = 'float',\n        indexedValue0 = 'float',\n        indexedValue1 = 'float',\n        defaultValue = 'float'\n    }) {\n        var value;\n        var d = new Vec2();\n        var fieldId = new Int();\n        fieldId = this.uVisualEncodings[channelId];\n        if (fieldId > -1) {\n            if (fieldId >= this.uIndexCount) {\n                value = this.getNonIndexedData(fieldId, addrX, addrY);\n            } else if (fieldId < this.uIndexCount) {\n                value = (fieldId == 0) ? indexedValue0 : indexedValue1;\n            }\n            d = this.uVisDomains[fieldId];\n\n            value = (value - d.x) / (d.y - d.x);\n            if (this.uScaleExponents[channelId] != 0.0) {\n                value = pow(value, this.uScaleExponents[channelId]);\n            }\n\n            if (this.uGeoProjection == 1 && channelId == 1) {\n                value = log(tan((value / 90.0 + 1.0) * 3.14159 / 4.0)) * 180.0 / 3.14159;\n            }\n        } else {\n            value = defaultValue;\n        }\n\n        return value;\n    },\n\n    getEncodingByFieldId({\n        fieldId = 'int',\n        addrX = 'float',\n        addrY = 'float'\n    }) {\n        var value;\n        if (fieldId >= this.uIndexCount) {\n            value = this.getNonIndexedData(fieldId, addrX, addrY);\n        } else if (fieldId < this.uIndexCount) {\n            value = (fieldId == 0) ? addrX : addrY;\n        }\n        var d = new Vec2();\n        d = this.uVisDomains[fieldId];\n        value = (value - d.x) / (d.y - d.x);\n        return value;\n    }\n}","function setAttr(elem, attr) {\n    for( var key in attr ){\n        var value = attr[key],\n            c = key.match(/[A-Z]/);\n        if(c !== null) key = key.replace(c[0], \"-\"+c[0].toLowerCase())\n        elem.setAttribute(key, value);\n    }\n}\n\nfunction setStyle(elem, style) {\n    for( var key in style ){\n        var value = style[key],\n            c = key.match(/[A-Z]/);\n        if(c !== null) key = key.replace(c[0], \"-\"+c[0].toLowerCase())\n        elem.style[key] = value;\n    }\n}\n\nexport default function Svg(arg){\n\n    var self = (this instanceof Svg) ? this: {},\n        option = arg || {},\n        type = option.type || 'svg',\n        svgNS = 'http://www.w3.org/2000/svg',\n        svg = document.createElementNS(svgNS, type),\n        width = option.width || 400,\n        height = option.height || 300,\n        parent = option.parent || option.container || this.parent,\n        attr = option.attr || {},\n        style = option.style || {},\n        padding = option.padding || {left: 0, right: 0, top: 0, bottom: 0};\n\n    if(type === 'svg') {\n        var defaultAttr = {\n            width   : width + padding.left + padding.right,\n            height  : height + padding.top + padding.bottom,\n            viewBox : [0, 0, width + padding.left + padding.right , height + padding.top + padding.bottom].join(' '),\n            preserveAspectRatio: 'none'\n        };\n        setAttr(svg, defaultAttr);\n    }\n\n    self.innerWidth = function() {\n        return width;\n    }\n\n    self.innerHeight = function() {\n        return height;\n    }\n\n    self.padding = function() {\n        return padding;\n    }\n\n    if(style) setStyle(svg, style);\n    if(attr) setAttr(svg, attr);\n\n    if(parent) {\n        parent = (typeof parent == \"string\") ? document.getElementById(parent) : parent;\n        parent.appendChild(svg);\n    }\n\n    self.svg = svg;\n    self.parent = parent;\n\n    self.node = () => svg;\n\n    if(self instanceof Svg) {\n        publicMethods(Svg.prototype);\n    } else {\n        publicMethods(self);\n    }\n\n    return self;\n};\n\nfunction publicMethods(context) {\n    context.append = function(type, attr, style) {\n        var options = {};\n        options.parent = this.svg;\n        options.type = type;\n        options.attr = attr;\n        options.style = style;\n        return new Svg(options);\n    };\n\n    context.remove = function() {\n        if(this.svg && this.svg.parentNode === this.parent){\n            this.parent.removeChild(this.svg);\n        }\n    };\n\n    context.attr = function(a, v) {\n        if(typeof(a) == \"object\")\n            setAttr(this.svg, a);\n        else\n            this.svg.setAttribute(a, v);\n\n        return this;\n    }\n\n    context.Attr =  function(a, v) {\n        setAttr(this.svg, a);\n        return this;\n    }\n\n    context.Style =  function(a, v) {\n        setStyle(this.svg, a);\n        return this;\n    }\n\n    context.style = function(a, v) {\n        if(typeof(a) == \"object\")\n            setStyle(this.svg, a);\n        else\n            this.svg.style[a] = v;\n\n        return this;\n    }\n\n    context.css = context.style;\n\n    context.text = function(str){\n        this.svg.appendChild(document.createTextNode(str));\n        return this;\n    };\n\n    context.translate = function(x, y) {\n        var p = this.svg.getAttribute(\"transform\") || \"\";\n        this.svg.setAttribute(\"transform\", p + \"translate(\" + [x,y].join(\",\") + \") \");\n        return this;\n    };\n\n    context.on = function(event, callback) {\n        this.svg.addEventListner(event, callback);\n        return this;\n    }\n\n    return context;\n}\n","import Scale from './scale';\n\nexport default function axis(arg) {\n\n    var option = arg || {},\n        svg = option.container || option.parent,\n        dim = option.dim || \"x\",\n        color = option.color || \"#000\",\n        position = option.position || 0,\n        align = option.align || \"\",\n        scale = option.scale || \"linear\",\n        exponent = option.exponent || 1,\n        metric = option.metric || null,\n        domain = option.domain || [0, 1],\n        width = option.width || svg.innerWidth(),\n        height = option.height || svg.innerHeight(),\n        padding = option.padding || svg.padding() || {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        range = option.range || (dim == \"x\") ? [0, width] : [height, 0],\n        styles = {\n            stroke: color,\n            'stroke-width': 1\n        },\n        ticks = option.ticks,\n        tickLength = option.tickLength || 6,\n        tickPosition = option.tickPosition || [0, 0],\n        tickInterval = option.tickInterval || \"auto\",\n        tickAlign = option.tickAlign || \"center\",\n        skipLast = option.skipLast || false,\n        tickFormat = option.tickFormat || null,\n        grid = option.grid,\n        format = option.format || function (_) {return _;},\n        visable = option.visable || true,\n        domainIntervals,\n        labelPos = null,\n        labelAngle = option.labelAngle || 0,\n        X = [],\n        Y = [];\n\n    if (typeof (ticks) != \"number\") {\n        ticks = (dim == \"x\") ? Math.ceil(width / 50) : Math.ceil(height / 50);\n    }\n    var tickLabelAlign = option.tickLabelAlign || \"end\";\n    switch (align) {\n        case \"left\" || \"center\":\n            labelPos = option.labelPos || {\n                x: -tickLength / 2,\n                y: -5\n            };\n            tickLabelAlign = option.tickLabelAlign || \"end\";\n            break;\n        case \"right\":\n            labelPos = option.labelPos || {\n                x: tickLength,\n                y: -5\n            };\n            tickLabelAlign = option.tickLabelAlign || \"start\";\n            if (!tickPosition) tickPosition = [tickLength / 2, 0];\n            break;\n        case \"top\":\n            labelPos = {\n                x: 0,\n                y: 0\n            };\n            tickLabelAlign = \"middle\";\n            if (!tickPosition) tickPosition = [0, -tickLength];\n            break;\n        case \"bottom\" || \"middle\":\n            labelPos = option.labelPos || {\n                x: 0,\n                y: -tickLength * 3\n            };\n            tickLabelAlign = option.tickLabelAlign || \"middle\";\n            break;\n        default:\n            labelPos = option.labelPos || option.labelPosition || {\n                x: 0,\n                y: 0\n            };\n            break;\n    }\n\n    function getTickInterval() {\n        var vDomain = Math.abs(domain[1] - domain[0]),\n            intv = vDomain / ticks,\n            pow = Math.ceil(Math.log10(intv)),\n            intv = intv / Math.pow(10, pow);\n\n        if (intv > 0.2 && intv <= 0.25) {\n            intv = 0.25;\n        } else if (intv > 0.7 && intv <= 0.75) {\n            intv = 0.75;\n        } else {\n            intv = Math.ceil(intv * 10) / 10;\n        }\n        return intv * Math.pow(10, pow);\n    }\n\n    if (scale == \"categorical\" || scale == \"ordinal\") {\n        domainIntervals = function () {\n            if(domain.length > 20) {\n                var dstep = Math.floor(domain.length / 20);\n                return domain.filter( (d,di) => di % dstep === 0)\n            }\n            return domain;\n        };\n    } else {\n        var intv;\n\n        if (tickInterval == \"auto\") {\n            intv = getTickInterval();\n\n        } else {\n            if (typeof (tickInterval) == \"number\") {\n                intv = tickInterval;\n            } else {\n                // intv = Math.abs(domain[1] - domain[0]) / ticks;\n                intv = getTickInterval();\n                domain[0] = intv * Math.floor(domain[0] / intv);\n                domain[1] = intv * Math.ceil(domain[1] / intv);\n            }\n        }\n\n        domainIntervals = function () {\n            var di = [];\n\n            if (domain[0] > domain[1]) {\n                domain[0] += intv;\n                for (var i = domain[0]; i > domain[1]; i = i - intv)\n                    di.push(i);\n            } else {\n                for (var i = domain[0]; i < domain[1]; i = i + intv)\n                    di.push(i);\n            }\n\n            if (di[di.length - 1] != domain[1] && !isNaN(domain[1]) && !skipLast) {\n\n                if ((domain[1] - di[di.length - 1]) < 0.4 * intv)\n                    di[di.length - 1] = domain[1];\n                else\n                    di.push(domain[1]);\n            }\n            return di;\n        }\n    }\n\n    if (metric === null) {\n\n        var scaleOptions = {\n            align: tickAlign,\n            type: scale,\n            domain: domain,\n            range: range\n        };\n\n        if (scale == \"power\") {\n            scaleOptions.exponent = exponent;\n        }\n\n        metric = Scale(scaleOptions)\n    } else {\n        domain = metric.domain();\n    }\n\n    var axis = svg.append(\"g\");\n\n    if (dim == 'x') {\n        if (!position && align) {\n            position = [0, height / 2, height];\n            position = position[[\"top\", \"middle\", \"bottom\"].indexOf(align)];\n        }\n        Y[0] = Y[1] = position;\n        X[0] = 0;\n        X[1] = Math.abs(range[1] - range[0]);\n    } else {\n        if (!position && align) {\n            position = [0, width / 2, width];\n            position = position[[\"left\", \"center\", \"right\"].indexOf(align)];\n        }\n        X[0] = X[1] = position;\n        Y[0] = 0;\n        Y[1] = Math.abs(range[1] - range[0]);\n    }\n\n    metric.show = metric.axis = function () {\n        axis.append(\"g\")\n            .append(\"line\")\n            .Attr({\n                x1: X[0],\n                x2: X[1],\n                y1: Y[0],\n                y2: Y[1]\n            })\n            .Style(styles);\n\n        var di = domainIntervals();\n\n        for (var i = 0; i < di.length; i++) {\n            var x1, x2, y1, y2;\n            if (dim == 'x') {\n                x1 = x2 = metric(di[i]) + tickPosition[0];\n                y1 = position + tickPosition[1] + tickLength;\n                y2 = y1 - tickLength;\n            } else {\n                y1 = y2 = metric(di[i]) + tickPosition[1];\n                x1 = position + tickPosition[0];\n                x2 = x1 - tickLength;\n            }\n\n            var svgTicks = axis.append(\"g\");\n            svgTicks.append(\"line\", {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2,\n            }, styles);\n\n\n            // if (dim == 'x') tickLabelAlign = \"middle\";\n            // if (dim == 'x' && labelAngle) tickLabelAlign = \"end\";\n\n            var tickLabel = svgTicks.append(\"text\")\n                .Attr({\n                    x: x2 + labelPos.x,\n                    y: y2 - labelPos.y,\n                    class: \"p4-axis-label\",\n                    \"font-size\": \"0.9em\",\n                    textAnchor: tickLabelAlign\n                });\n            if (labelAngle) tickLabel.attr(\"transform\", \"rotate(\" + [labelAngle, (x2 + labelPos.x), (y2 - labelPos.y)].join(\",\") + \")\");\n\n            var labelText = (typeof (tickFormat) == \"function\") ? format(tickFormat(di[i])) : format(di[i]);\n            // tickLabel.appendChild( document.createTextNode(labelText) );\n            tickLabel.text(labelText);\n\n            if (grid) {\n                var gx1, gx2, gy1, gy2;\n                if (dim == 'x') {\n                    gx1 = gx2 = metric(di[i]);\n                    gy1 = 0;\n                    gy2 = height;\n                } else {\n                    gy1 = gy2 = metric(di[i]);\n                    gx1 = 0;\n                    gx2 = width;\n                }\n                axis.append(\"line\", {\n                    x1: gx1,\n                    x2: gx2,\n                    y1: gy1,\n                    y2: gy2,\n                    class: \"grid-lines\"\n                }, {\n                    \"stroke\": color,\n                    // \"stroke-width\": 0.5,\n                    \"stroke-opacity\": 0.15\n                });\n            }\n        }\n        axis.translate(padding.left, padding.top);\n        return axis;\n    };\n\n    metric.remove = function () {\n        axis.remove();\n    }\n\n    if (visable) {\n        metric.svg = metric.show();\n    }\n\n    return metric;\n};","export default function scale(arg) {\n    var option = arg || {},\n        align = option.align || 'center',\n        type = option.type || 'linear',\n        domain = option.domain || [0,1],\n        margin = option.margin || 0,\n        exponent = option.exponent || 1,\n        range = option.range || [0,1];\n\n    function getInterpolateFunction() {\n        //intercepts and slopes for domain and range\n        var d0 = -domain[0] / (domain[1] - domain[0]),\n            d1 = 1 / (domain[1] - domain[0]),\n            r0 = range[0],\n            r1 = range[1] - range[0];\n\n        if(type == \"linear\") {\n            return function(v) { return r0 + (d0 + v * d1) * r1 };\n        } else if(type == \"power\") {\n            d0 = -Math.pow(-d0, exponent);\n            d1 = Math.pow(d1, exponent);\n            return function(v) { return r0 + (d0 + Math.pow(v, exponent) * d1) * r1 };\n        } else if (type == \"log\") {\n            exponent = option.exponent || 10;\n            d0 = -(Math.log(-d0) / Math.log(exponent));\n            d1 = (Math.log(d1) / Math.log(exponent));\n\n            return function(v) { return r0 + (d0 + Math.log(v) / Math.log(exponent) * d1) * r1 };\n\n        } else if(type == \"ordinal\" || type == \"categorical\") {\n            return function(v) {\n                if(align == 'outer')\n                    return r0 + (domain.indexOf(v)+0.5) / (domain.length-1) * r1;\n                else\n                    return r0 + (domain.indexOf(v)+0.5) / domain.length * r1;\n            };\n        } else {\n            return function(v) { return v };\n        }\n    }\n\n    var scale = getInterpolateFunction();\n\n    scale.interval = function(ticks) {\n        if (type == \"ordinal\" || type == \"categorical\") {\n            return (1 / domain.length * Math.abs(range[1] - range[0]));\n        } else {\n            var s = Math.pow(10, Math.floor(Math.log10(Math.abs(range[1] - range[0])))-1);\n            return Math.floor( Math.abs(range[1] - range[0]) / (ticks * s) )  * s;\n        }\n    };\n\n    scale.domainLength = function() {\n        if(type == \"linear\")\n            return Math.abs(domain[1] - domain[0]);\n        else if(type == \"ordinal\" || type == \"categorical\")\n            return domain.length;\n    };\n\n    scale.rangeLength = function() {\n        return Math.abs(range[1] - range[0]);\n    };\n\n    scale.invert = function(r) {\n        if(type == \"linear\") {\n            return domain[0] + (r - range[0]) / (range[1] - range[0]) * (domain[1] - domain[0]);\n        } else if(type == \"ordinal\" || type == \"categorical\") {\n            var intv = intv = r / scale.rangeLength();\n            return domain[Math.min(Math.floor(intv * (domain.length)), domain.length-1)];\n        }\n    }\n\n    scale.domain = function() {\n        return domain;\n    }\n\n    return scale;\n};\n","import {seq} from '../arrays';\n\nexport default function printformat(spec) {\n    return function(value){\n        if(typeof value !== \"number\") return value;\n        var ret,\n            convert,\n            numericSymbols = ['y', 'z', 'a', 'f', 'p', 'n', 'µ', 'm', '', 'k', 'M','G', 'T', 'P', 'E', 'Z', 'Y'],\n            n = seq(-24,24,3),\n            i = numericSymbols.length-1,\n            parts,\n            precision = spec.match(/\\d+/)[0] || 3,\n            number = Number(value),\n            exp,\n            suffix;\n\n        if(spec[spec.length-1] == 's')\n            precision--;\n\n        parts = number.toExponential(precision).toString().match(/^(-{0,1})(\\d+)\\.?(\\d*)[eE]([+-]?\\d+)$/);\n        exp = parseInt(parts[4]) || 0;\n\n        while (i--) {\n            if (exp >= n[i]) {\n                if(i==7 && (exp-n[i]) > 1) {\n                    // console.log(exp-n[i]);\n                    suffix = numericSymbols[i+1];\n                    exp -= n[i+1];\n                    break\n                } else {\n                    suffix = numericSymbols[i];\n                    exp -= n[i];\n                    break;\n                }\n            }\n        }\n        ret = parseFloat(parts[1] + parts[2] + '.' + (parts[3]||0) + 'e' + exp.toString());\n        return ret.toString() + suffix;\n    }\n}\n","import Svg from './svg';\nimport Axis from './axis';\nimport printformat from './format';\n\nconst defaultColors = ['white', 'steelblue'];\nconst defaultSize = 20;\nvar gradID = 0;\n\nexport default function color(arg){\n  var gradientID = gradID++;\n\n  var option = arg || {},\n    container = option.container || null,\n    width = option.width || null,\n    height = option.height || null,\n    pos = option.pos ||[0, 0],\n    dim = option.dim || 'x',\n    padding = option.padding || {left: 0, right: 0, top: 0, bottom: 0},\n    label = option.label || false,\n    colors = option.colors || defaultColors,\n    domain = option.domain || ['min', 'max'],\n    format = option.format || printformat('.3s');\n\n\n  if(colors.length < 2) colors = defaultColors;\n  width -= padding.left + padding.right;\n  height -= padding.top + padding.bottom;\n\n  var legend = (container === null)\n    ? new Svg({width: width, height: height, padding: padding})\n    : container.append('g');\n\n  var gradDirection;\n  if(dim == 'x') {\n    gradDirection = {x1: 0, x2: 1, y1: 0, y2: 0};\n    if(height === null) height = defaultSize;\n  } else {\n    gradDirection = {x1: 0, x2: 0, y1: 0, y2: 1};\n    if(width === null) width = defaultSize;\n  }\n\n  function linearGradient(colors) {\n    var gradient = legend.append('defs')\n      .append('linearGradient')\n        .attr('id', 'gradlegend'+gradientID)\n        .attr(gradDirection);\n\n    colors.forEach(function(c, i){\n      gradient.append('stop')\n        .attr('offset', i / (colors.length-1))\n        .attr('stop-color', colors[colors.length-i-1]);\n    });\n    return gradient;\n  }\n\n  var grad = linearGradient(colors);\n\n  var rect = legend.append('g');\n\n  var colorScale = rect.append('rect')\n    .attr('width', width-padding.left)\n    .attr('height', height)\n    .style('fill','url(#gradlegend' + gradientID + ')');\n\n  var domainLabel = legend.append('text');\n  if(label) {\n    label.append('text')\n      .attr('x', pos[0] - 5)\n      .attr('y', pos[1] + height/2 + 5)\n      .style('fill', '#222')\n      .style('text-anchor', 'end')\n      .text(printformat('2s')(domain[0]));\n\n    legend.append('text')\n      .attr('x', pos[0] + width - padding.left + 5)\n      .attr('y', pos[1] + height/2 + 5)\n      .style('fill', '#222')\n      .style('text-anchor', 'begin')\n      // .style('font-size', '.9em')\n      .text(printformat('2s')(domain[1]));\n  }\n\n  if(option.title) {\n    legend.append('g')\n      .append('text')\n      .attr('y', pos[1] - padding.top)\n      .attr('x', pos[0] + width/2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text(option.title);\n  }\n\n  if(dim == 'x') {\n    new Axis({\n      dim: 'x',\n      domain: domain,\n      container: legend,\n      align: 'bottom',\n      ticks: Math.floor(width / 30),\n      height: height,\n      width: width,\n      labelPos: {x: 0, y: -20},\n      format: format,\n    });\n  } else {\n    new Axis({\n      dim: 'y',\n      domain: domain,\n      container: legend,\n      align: 'right',\n      ticks: Math.floor(height / 30),\n      height: height,\n      width: width,\n      labelPos: {x: 10, y: -5},\n      tickPosition: [5, 0],\n      format: format,\n    });\n  }\n\n\n  // legend.appendChild(xAxis);\n\n  legend.translate(pos[0]+padding.left, pos[1]+padding.top);\n\n  // legend.update = function(newDomain, newColors) {\n  //\n  //     legend.removeChild(xAxis);\n  //     xAxis = new Axis({\n  //         dim: 'x',\n  //         domain: newDomain,\n  //         container: legend,\n  //         align: 'bottom',\n  //         ticks: 4,\n  //         // tickInterval: 10000000,\n  //         labelPos: {x: -5, y: -20},\n  //          padding: padding,\n  //         width: width-padding.left,\n  //         format: format,\n  //     }).show();\n  //\n  //     if(typeof(newColors) != 'undefined') {\n  //         grad.remove();\n  //         grad = linearGradient(newColors);\n  //         colorScale.css('fill','url(#gradlegend' + gradientID + ')');\n  //\n  //     }\n  //     // legend.appendChild(xAxis);\n  //\n  //     return legend;\n  // }\n\n  return legend;\n}\n","import axis from './axis';\nimport format from './format';\nimport legend from './legend';\n\nexport default function chart(frontSvg, backSvg, arg) {\n    var options = arg || {},\n        plot = frontSvg.append('g'),\n        metavis = backSvg.append('g'),\n        frontMetaVis = frontSvg.append('g'),\n        width = options.width,\n        height = options.height,\n        top = options.top || 0,\n        left = options.left || 0,\n        vmap = options.vmap || {},\n        histogram =  options.histogram,\n        features = options.fields || [],\n        domain = options.domain,\n        strLists = options.strLists,\n        labels = plot.append('g'),\n        onclick = options.onclick || null,\n        onhover = options.onhover || null,\n        showLegend = options.legend,\n        tickOffset = options.axisOffset || [0, 0],\n        padding = options.padding || {left: 0, right: 0, top: 0, bottom: 0},\n        marks = [],\n        frameBorder = options.frameBorder || false,\n        gridlines = options.gridlines || {x: false, y: false},\n        colors = options.colors;\n\n    var scale = options.scale || {x: 'linear', y: 'linear'},\n        domainX = options.domainX || domain[vmap.x] || domain[vmap.width],\n        domainY = options.domainY || domain[vmap.y] || domain[vmap.height];\n\n    width -= padding.left + padding.right;\n    height -= padding.top + padding.bottom;\n\n    var axisOption = {\n        x: {\n            container: metavis,\n            dim: \"x\",\n            width: width,\n            height: height,\n            domain: domainX,\n            scale:  scale.x,\n            align: \"bottom\",\n            // ticks: 15,\n            grid: gridlines.x,\n            format: format(\".3s\"),\n        },\n        y: {\n            container: metavis,\n            dim: \"y\",\n            domain: domainY,\n            scale: scale.y,\n            width: width,\n            height: height,\n            align: \"left\",\n            // labelPos: {x: -5, y: -5},\n            // ticks: 8,\n            grid: gridlines.y,\n            format: format(\".3s\"),\n        }\n    };\n\n    let colorLegend;\n    if(showLegend && features.indexOf(vmap.color) !== -1){\n        colorLegend = legend({\n            container: metavis,\n            width: 20,\n            height: 180,\n            dim: \"y\",\n            domain: domain[vmap.color],\n            pos: [width + padding.right/2, 0],\n            colors: colors\n        });\n    }\n\n    let x, y, xAxes = [], yAxes = [];\n\n    // For parallel coordinates\n    if(Array.isArray(vmap.x)) {\n        let axisDist = height / (vmap.x.length-1);\n        axisOption.x.container = frontMetaVis;\n        vmap.x.forEach(function(d, i) {\n            axisOption.x.position = i * axisDist + 1;\n            axisOption.x.domain = domain[d];\n            if(strLists.hasOwnProperty(d)){\n                axisOption.x.scale = 'ordinal';\n                axisOption.x.tickAlign = 'outer';\n                axisOption.x.domain = strLists[d].reverse();\n            }\n            let labelOffset = 20;\n            if(i === 0) {\n                axisOption.x.tickPosition = [0, -5];\n                axisOption.x.labelPos = {x: 0, y: 2};\n                labelOffset = 35;\n            } else {\n                axisOption.x.tickPosition = null;\n                axisOption.x.labelPos = null;\n            }\n            x = axis(axisOption.x);\n            xAxes[i] = x;\n\n            labels\n            .append(\"text\")\n              .attr(\"x\", 5 )\n              .attr(\"y\", i * axisDist - labelOffset)\n              .attr(\"dy\", \"1em\")\n              .css(\"text-anchor\", \"middle\")\n              .css(\"font-size\", \"1em\")\n              .text(d);\n        });\n    }\n\n    if(Array.isArray(vmap.y)) {\n        var axisDist = width / (vmap.y.length-1);\n        axisOption.y.container = frontMetaVis;\n        vmap.y.forEach(function(d, i) {\n            axisOption.y.position = i * axisDist;\n            axisOption.y.domain = domain[d];\n            if(strLists.hasOwnProperty(d)){\n                axisOption.y.scale = 'ordinal';\n                axisOption.y.tickAlign = 'outer';\n                axisOption.y.domain = strLists[d].reverse();\n            }\n            if(i == vmap.y.length-1) {\n                axisOption.y.tickPosition = [5, 0];\n                axisOption.y.tickLabelAlign = \"start\";\n                axisOption.y.labelPos = {x: 8, y: -5};\n\n            }\n            y = axis(axisOption.y);\n            yAxes[i] = y;\n\n            labels.append(\"text\")\n              .attr(\"y\", -padding.top + 10)\n              .attr(\"x\", i * axisDist)\n              .attr(\"dy\", \"1em\")\n              .css(\"text-anchor\", \"middle\")\n              .css(\"font-size\", \"1em\")\n              .text(d);\n        });\n    }\n\n    let histDomain = {\n        x: domainX, \n        y: domainY\n    };\n    for(let dim of ['x', 'y']) {\n        if(scale[dim] == 'ordinal' || scale[dim] == 'categorical') {\n            if(width / histDomain[dim].length < 10) {\n                axisOption[dim].ticks = histDomain[dim].length;\n            }\n            // while(width / axisOption[dim].ticks < 20) {\n            //     axisOption[dim].ticks *= 0.5;\n            // }\n        }\n\n        if(histogram[dim]) {\n            axisOption[dim].tickPosition = (dim == 'x') \n                ? [-width / (histDomain[dim].length-1) /2, 0]\n                : [0, height/ (histDomain[dim].length-1) /2]\n\n            axisOption[dim].scale = \"ordinal\";\n            axisOption[dim].tickAlign = \"outer\";\n            axisOption[dim].domain = histDomain[dim];\n            axisOption[dim].ticks = histDomain[dim].length;\n        }\n    }\n\n    if((vmap.x || vmap.width) && !Array.isArray(vmap.x)) x = axis(axisOption.x);\n    if((vmap.y || vmap.height) && !Array.isArray(vmap.y)) y = axis(axisOption.y);\n\n    if((vmap.hasOwnProperty('x') || vmap.hasOwnProperty('width')) && !Array.isArray(vmap.x)) {\n        let xAxisTitle = vmap.x || vmap.width;\n        labels.append(\"g\")\n          .append(\"text\")\n            .attr(\"x\", width/2)\n            .attr(\"y\", height + padding.bottom/2 )\n            .attr(\"dy\", \"1em\")\n            .css(\"text-anchor\", \"middle\")\n            .css(\"font-size\", \"1.0em\")\n            .css(\"font-weight\", \"bold\")\n            .css(\" text-transform\", \"capitalize\")\n            .text(xAxisTitle);\n\n    }\n    if((vmap.hasOwnProperty('y') || vmap.hasOwnProperty('height')) && !Array.isArray(vmap.y)) {\n        let yAxisTitle = vmap.y || vmap.height;\n        if(!Array.isArray(vmap.y)) {\n            labels.append(\"g\")\n              .append(\"text\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"y\", -padding.left / 1.25)\n                .attr(\"x\", -height / 2)\n                .attr(\"dy\", \"1em\")\n                .css(\"text-anchor\", \"middle\")\n                .css(\"font-size\", \"1.0em\")\n                .css(\"font-weight\", \"bold\")\n                .css(\" text-transform\", \"capitalize\")\n                .text(yAxisTitle);\n        }\n    }\n    \n    if(frameBorder) {\n        plot.append(\"line\")\n            .attr('x1', 0)\n            .attr('x2', width)\n            .attr('y1', 0)\n            .attr('y2', 0)\n            .css('stroke', '#000')\n        plot.append(\"line\")\n            .attr('x1', width)\n            .attr('x2', width)\n            .attr('y1', 0)\n            .attr('y2', height)\n            .css('stroke', '#000')\n            .css('stroke-opacity', 0.5)\n    }\n\n    plot.translate(padding.left+left, padding.top+top);\n    metavis.translate(padding.left+left, padding.top+top);\n    frontMetaVis.translate(padding.left+left, padding.top+top);\n\n    let chartLayer = {};\n    chartLayer.updateAxisX =  function(newDomain) {\n        x.remove();\n        axisOption.x.domain = newDomain;\n        x = axis(axisOption.x)\n        return chartLayer;\n    }\n    chartLayer.updateAxisY =  function(newDomain) {\n        y.remove();\n        axisOption.y.domain = newDomain;\n        y = axis(axisOption.y)\n        return chartLayer;\n    }\n    chartLayer.removeAxis = function() {\n\n        if(yAxes.length) {\n            yAxes.forEach(function(yp) {\n                yp.remove();\n            })\n        } else if(xAxes.length) {\n            xAxes.forEach(function(xp) {\n                xp.remove();\n            })\n        } else {\n            x.remove();\n            y.remove();\n        }\n\n        labels.remove();\n    }\n\n    chartLayer.axisLabels = labels;\n\n    chartLayer.removeLegend = function() {\n        if(showLegend) {\n            colorLegend.remove();\n        }\n    }\n    chartLayer.svg = plot;\n    chartLayer.x = Array.isArray(vmap.x) ? xAxes : x;\n    chartLayer.y = Array.isArray(vmap.y) ? yAxes : y;\n\n    return chartLayer;\n};\n","import Svg from './svg';\nimport chart from './chart';\n\nfunction assign(object, source) {\n    Object.keys(source).forEach(function(key) {\n        object[key] = source[key];\n    });\n}\nvar defaultProperties = {\n    width: 400,\n    height: 300,\n    padding: {left: 0, right: 0, top: 0, bottom: 0},\n}\n\nexport default function layout(arg){\n    \"use strict\";\n\n    /* Private */\n    var viz = this,\n        option = arg || {},\n        container = option.container || document.body,\n        style = option.style || null,\n        layers = [];\n\n    this.width = container.clientWidth || 400;\n    this.height = container.clientHeight || 300;\n\n    if(typeof container == 'string') container = document.getElementById(container);\n    assign(viz, defaultProperties);\n    assign(viz, option);\n\n    this.vmap = option.vmap;\n\n    this.width -= (this.padding.left + this.padding.right);\n    this.height -= (this.padding.top + this.padding.bottom);\n\n\n    /* Public */\n    this.data = option.data || [];\n    this.div = document.createElement(\"div\");\n    if(style !== null) {\n        Object.keys(style).forEach(function(prop){\n            viz.div.style[prop] = style[prop];\n        })\n    }\n\n    this.init = function(){\n        // container = (containerId == \"body\") ? document.body : document.getElementById(containerId);\n\n        this.div.className = option.className || \"p6-viz\";\n        this.div.style.position = 'relative';\n        this.resize(\n            this.width + this.padding.left + this.padding.right,\n            this.height + this.padding.top + this.padding.bottom\n        );\n\n        if(option.style) this.css(option.style);\n\n        container.appendChild(this.div);\n        this.viz();\n        return viz;\n    };\n\n    this.createSVG = function(arg) {\n        var arg = arg || {},\n            width = arg.width || this.width,\n            height = arg.height || this.height,\n            padding = arg.padding || this.padding;\n\n        return new Svg({\n            width: width,\n            height: height,\n            padding: padding,\n            style: {position: 'absolute'}\n        });\n    }\n\n    var canvas = option.canvas,\n        svg = this.createSVG(),\n        vmap = option.vmap,\n        chartPadding = this.padding || {left: 0, right: 0, top: 0, bottom: 0},\n        domain = option.domain || {x: [0, 1000], y: [0, 1]},\n        scales = option.scales || {x: 'linear', y: 'linear'};\n\n    var backSVG = this.createSVG(),\n        frontSVG = this.createSVG();\n\n    this.set = function(props) {\n        assign(viz, props);\n    };\n\n    this.addProperty = function(obj, prop) {\n        assign(obj, prop);\n        return obj;\n    }\n\n    this.viz = function() {\n        viz.div.appendChild(backSVG.svg);\n        viz.div.appendChild(canvas);\n        viz.div.appendChild(frontSVG.svg);\n        return viz;\n    };\n\n    this.render = this.viz;\n\n    this.css = function(style){\n        for(var key in style){\n            this.div.style[key] = style[key];\n        }\n        return this;\n    };\n\n    this.resize = function(w,h){\n        this.div.style.width = w + \"px\";\n        this.div.style.height = h + \"px\";\n    };\n\n    this.destroy = function() {\n        this._super.destroy();\n        container.removeChild(this.div);\n        div = null;\n    };\n\n    this.hide = function() {\n        this.div.style.display = 'none';\n    }\n\n    this.show = function() {\n        this.div.style.display = 'block';\n    }\n\n    this.innerWidth = function() {\n        return this.width;\n    }\n\n    this.innerHeight = function() {\n        return this.height;\n    }\n\n    this.addChart = function(options) {\n        return chart(frontSVG, backSVG, options)\n    };\n\n    this.exportImage = function(beforeExport) {\n        var imageCanvas = document.createElement(\"canvas\");\n        imageCanvas.width = this.width;\n        imageCanvas.height = this.height;\n        return new Promise(function(resolve, reject) {\n\n            var ctx = imageCanvas.getContext(\"2d\");\n            var svgString = new XMLSerializer().serializeToString(frontSVG.svg);\n\n            var DOMURL = self.URL || self.webkitURL || self;\n            var svgBlob = new Blob([svgString], {type: \"image/svg+xml;charset=utf-8\"});\n            var svgURL = DOMURL.createObjectURL(svgBlob);\n\n            var canvasLayer = new Image();\n            var svgLayer = new Image();\n            canvasLayer.onload = function() {\n                ctx.drawImage(canvasLayer, 0, 0);\n                svgLayer.src = svgURL;\n                svgLayer.onload = function() {\n                    ctx.drawImage(svgLayer, 0, 0);\n                    var png = imageCanvas.toDataURL(\"image/png\");\n                    DOMURL.revokeObjectURL(png);\n                    resolve(png);\n                };\n            };\n\n            canvasLayer.onerror = function() {\n                reject(Error(\"Canvas Output Error!\"));\n            }\n\n            svgLayer.onerror = function() {\n                reject(Error(\"SVG Output Error!\"));\n            }\n            beforeExport();\n            canvasLayer.src = canvas.toDataURL(\"image/png\");\n        });\n\n    }\n\n    return viz.init();\n};\n","export default class Renderer {\n  constructor({context, name}) {\n    this.gl = context;\n    this.name = name;\n    this.gl.program(\n      name,\n      this.gl.shader.vertex(this.vertexShader),\n      this.gl.shader.fragment(this.fragmentShader)\n    )\n  }\n\n  vertexShader () {\n    gl_Position = vec4(this._square, 0.0, 1.0);\n  }\n\n  fragmentShader () {\n    if(this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01) {\n      gl_FragColor = this.vColorRGBA;\n    } else {\n      discard;\n    }\n  }\n\n  load () {\n    return this.gl.program(this.name);\n  }\n\n  render () {\n    let gl = this.gl.ctx;\n    gl.disable( gl.BLEND );\n    gl.drawArrays(primitive || gl.TRIANGLES, 0, 6);\n  }\n}","import Renderer from './Renderer.gl'\n\nexport default class Instanced extends Renderer{\n    constructor(arg) {\n        super(arg)        \n    }\n\n    vertexShader () {\n        var i, j, posX, posY, color, alpha, size;\n        var rgb = new Vec3();\n\n        i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n        j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n\n        if (this.uFilterFlag == 1) {\n            this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n        } else {\n            this.vResult = this.uVisLevel;\n        }\n\n        posX = this.visMap(0, i, j, this.aDataValx, this.aDataValy, 0.0);\n        posY = this.visMap(1, i, j, this.aDataValx, this.aDataValy, 0.0);\n        color = this.visMap(2, i, j, this.aDataValx, this.aDataValy, -1.0);\n        alpha = this.visMap(3, i, j, this.aDataValx, this.aDataValy, this.uDefaultAlpha);\n        size = this.visMap(6, i, j, this.aDataValx, this.aDataValy, 1.0);\n\n        if(this.uIsXYCategorical[0] == 1) {\n            var width = this.uFieldWidths[0];\n            posX = 0.5 / width + posX * (width - 1.0) / width;\n        }\n        if(this.uIsXYCategorical[1] == 1) {\n            var height = this.uFieldWidths[1];\n            posY = 0.5 / height + posY * (height - 1.0) / height;\n        }\n\n        posX = posX * 2.0 - 1.0;\n        posY = posY * 2.0 - 1.0;\n\n        rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n        if (this.uDropZeros == 1 && color == 0.0) {\n            alpha = 0.0;\n          }\n        gl_PointSize = size * this.uMarkSize;\n        this.vColorRGBA = vec4(rgb, alpha);\n        gl_Position = vec4(posX, posY, 0.0, 1.0);\n    }\n\n    fragmentShader() {\n        var valid = new Bool();\n        valid = this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01;\n        if (this.uVisMark == 1) { // for circles \n            var dist = length(gl_PointCoord.xy - vec2(0.5, 0.5));\n            if (dist > 0.5) discard;\n            var delta = 0.15;\n            var alpha = this.vColorRGBA.a - smoothstep(0.5 - delta, 0.5, dist);\n            if (valid) {\n                gl_FragColor = vec4(this.vColorRGBA.rgb * alpha, alpha);\n            } else {\n                discard;\n            }\n        } else {\n            if (valid) {\n                gl_FragColor = vec4(this.vColorRGBA.rgb * this.vColorRGBA.a, this.vColorRGBA.a);\n            } else {\n                discard;\n            }\n        }\n    }\n\n    render(primitive) {\n        let $p = this.gl;\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, $p.dataDimension[0], $p.dataDimension[1]);\n\n    }\n}","import Renderer from './Renderer.gl'\n\nexport default class Polygon extends Renderer{\n  constructor (arg) {\n    super(arg);\n  }\n\n  vertexShader () {\n    var i, j;\n    var rgb = new Vec3();\n    var posX, posY, color, alpha, width, height, size;\n    i = (mod(this.aDataItemId, this.uDataDim.x) + 0.5) / this.uDataDim.x;\n    j = (floor(this.aDataItemId / this.uDataDim.x) + 0.5) / this.uDataDim.y;\n\n    this.vResult = this.uVisLevel;\n\n    if (this.uFilterFlag == 1) {\n      this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n    }\n    var val0, val1;\n    val0 = this.aDataItemVal0;\n    val1 = this.aDataItemVal1;\n    posX = this.visMap(0, i, j, val0, val1, 0.0);\n    posY = this.visMap(1, i, j, val0, val1, 0.0);\n    color = this.visMap(2, i, j, val0, val1, -1.0);\n    alpha = this.visMap(3, i, j, val0, val1, this.uDefaultAlpha);\n    width = this.visMap(4, i, j, val0, val1, this.uDefaultWidth);\n    height = this.visMap(5, i, j, val0, val1, this.uDefaultHeight);\n    size = this.visMap(6, i, j, val0, val1, this.uMarkSize);\n    posX = posX * (this.uFieldWidths[this.uVisualEncodings[0]] - 1.0) / this.uFieldWidths[this.uVisualEncodings[0]];\n    posY = posY * (this.uFieldWidths[this.uVisualEncodings[1]] - 1.0) / this.uFieldWidths[this.uVisualEncodings[1]];\n\n    width *= 1.0 - this.uMarkSpace.x * 2.0;\n    height *= 1.0 - this.uMarkSpace.y * 2.0;\n    posX += this.uMarkSpace.x * width;\n    posY += this.uMarkSpace.y * height;\n\n    if (this.aVertexId == 0.0 || this.aVertexId == 3.0) {\n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    } else if (this.aVertexId == 1.0) {\n      posX = posX * 2.0 - 1.0;\n      posY = (posY + height) * 2.0 - 1.0;\n    } else if (this.aVertexId == 2.0 || this.aVertexId == 5.0) {\n      posX = (posX + width) * 2.0 - 1.0;\n      posY = (posY + height) * 2.0 - 1.0;\n    } else if (this.aVertexId == 4.0) {\n      posX = (posX + width) * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    } else {\n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    }\n\n    rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n    if (this.uDropZeros == 1 && color == 0.0) {\n      alpha = 0.0;\n    }\n    this.vColorRGBA = vec4(rgb * alpha, alpha);\n    gl_Position = vec4(posX, posY, 0.0, 1.0);\n  }\n\n  fragmentShader() {\n    if (this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01)\n      gl_FragColor = this.vColorRGBA;\n    else\n      discard;\n  }\n\n  render() {\n    let $p = this.gl;\n    let primitive = $p.ctx.TRIANGLES;\n    let val0 = new Float32Array($p.dataSize);\n    let val1 = new Float32Array($p.dataSize);\n    for(var y = 0; y < $p.dataDimension[1]; y++) {\n      for(var x = 0; x < $p.dataDimension[0]; x++) {\n        val0[y*$p.dataDimension[0] + x] = $p.attribute.aDataValx.data[x];\n        val1[y*$p.dataDimension[0] + x] = $p.attribute.aDataValy.data[y];\n      }\n    }\n    $p.attribute.aDataItemVal0 = val0;\n    $p.attribute.aDataItemVal1 = val1;\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aVertexId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemVal0.location, 1);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemVal1.location, 1);\n    $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, 6, $p.dataSize);\n  }\n}","import Renderer from './Renderer.gl'\n\nexport default class Instanced extends Renderer{\n    constructor(arg) {\n        super(arg)        \n    }\n\n    vertexShader () {\n      var i, j;\n      var rgb = new Vec3();\n      var posX, posY, size, color, alpha;\n      gl_PointSize = this.uMarkSize;\n      i = (mod(this.aDataItemId, this.uDataDim.x) + 0.5) / this.uDataDim.x;\n      j = (floor(this.aDataItemId / this.uDataDim.x) + 0.5) / this.uDataDim.y;\n  \n      this.vResult = this.uVisLevel;\n      if(this.uFilterFlag == 1) {\n          this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n      }\n      if(this.uInterleaveX == 1) {\n          posX = this.aDataFieldId.y / float(this.uFeatureCount-1);\n          posY = this.getEncodingByFieldId(int(this.aDataFieldId.x), i, j);\n      } else {\n          posY = 1.0 - this.aDataFieldId.y / float(this.uFeatureCount-1);\n          posX = this.getEncodingByFieldId(int(this.aDataFieldId.x), i, j);\n      }\n      color = this.visMap(2, i, j, i, j, -1.0);\n      alpha = this.visMap(3, i, j, i, j, this.uDefaultAlpha);\n  \n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n  \n      rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n      this.vColorRGBA = vec4(rgb*alpha, alpha);\n      gl_Position = vec4(posX, posY, 0.0, 1.0);\n    }\n\n    updateInstancedAttribute(vm) {\n      let $p = this.gl;\n      if(Array.isArray(vm)){\n          let fv = new Float32Array(vm.length*2);\n          vm.forEach(function(f, i) {\n              fv[i*2] = $p.fields.indexOf(f);\n              fv[i*2+1] = i;\n          });\n          $p.attribute.aDataFieldId = fv;\n          $p.uniform.uFeatureCount = vm.length;\n      }\n    }\n\n    render(primitive) {\n      let $p = this.gl;\n      $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataFieldId.location, 0);\n      $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n      let count = $p.attribute.aDataFieldId.data.length / $p.attribute.aDataFieldId.size;\n      $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, count, $p.dataSize);\n    }\n}","import colors from './color';\nimport reveal from './reveal';\nimport {encode, EncodingChannels} from './encode';\nimport extend from './extend';\nimport interpolate from './shaders/interpolate.gl'\n\nimport Layout from './layout';\nimport Instanced from './shaders/Instanced.gl'\nimport Polygon from './shaders/Polygon.gl'\nimport Interleaved from './shaders/Interleaved.gl'\n\nconst userActions = ['click', 'hover', 'brush', 'zoom', 'pan'];\nconst visMarks = ['dot', 'circle', 'line', 'rect'];\n\nexport default function visualize($p) {\n\n    let colorManager = colors($p);\n    let chartPadding = $p.padding || {left: 0, right: 0, top: 0, bottom: 0};\n    let viewport = $p.viewport;\n\n    let vis = new Layout({\n        container: $p.container,\n        width: viewport[0] + chartPadding.left + chartPadding.right,\n        height: viewport[1] + chartPadding.top + chartPadding.bottom,\n        canvas: $p.canvas,\n        padding: chartPadding\n    });\n    \n    $p.uniform('uVisualEncodings',  'int',   new Array(EncodingChannels.length).fill(-1))\n        .uniform('uScaleExponents', 'float',   new Array(EncodingChannels.length).fill(1.0))\n        .uniform('uViewDim',        'vec2',  $p.viewport)\n        .uniform('uVisMark',        'int',   1)\n        .uniform('uInterleaveX',    'int',   0)\n        .uniform('uVisDomains',     'vec2',  $p.fieldDomains.map(d=>d.slice()))\n        .uniform('uVisScale',       'vec2',  [1.0, 1.0])\n        .uniform('uPosOffset',      'vec2',  [0.0, 0.0])\n        .uniform('uFeatureCount',   'int',   0)\n        .uniform('uMarkSize',       'float', 16.0)\n        .uniform('uMarkSpace',      'vec2',  [0.02, 0.02])\n        .uniform('uDefaultAlpha',   'float', 1.0)\n        .uniform('uDefaultWidth',   'float', 1.0 / $p.viewport[0])\n        .uniform('uDefaultHeight',  'float', 1.0 / $p.viewport[1])\n        .uniform('uMaxRGBA',        'vec4',  [0, 0, 0, 0])\n        .uniform('uDefaultColor',   'vec3',  [0.8, 0, 0])\n        .uniform('uGeoProjection',   'int',  0)\n        .uniform('uDropZeros',   'int',  0)\n        .uniform('uColorMode',      'int',   1)\n        .uniform('uIsXYCategorical','ivec2', [0, 0])\n        .varying('vColorRGBA',      'vec4'   );\n\n    let enhance = reveal($p);\n\n    $p.framebuffer('offScreenFBO', 'float', $p.viewport);\n    // $p.framebuffer('visStats', 'float', [1, 1]);\n    // $p.framebuffer(\"visStats\", \"float\", [$p.views.length, 1]);\n    // $p.framebuffer.enableRead('offScreenFBO');\n    $p.bindFramebuffer('offScreenFBO');\n    $p.ctx.clearColor( 1.0, 1.0, 1.0, 0.0 );\n    $p.ctx.clear( $p.ctx.COLOR_BUFFER_BIT | $p.ctx.DEPTH_BUFFER_BIT );\n    $p.bindFramebuffer(null);\n    $p.subroutine('visMap', 'float', interpolate.visMap);\n    $p.subroutine('getEncodingByFieldId', 'float', interpolate.getEncodingByFieldId);\n    \n    let renderers = {\n        instanced: new Instanced({context: $p, name: 'instanced'}),\n        polygon: new Polygon({context: $p, name: 'polygon'}),\n        interleave: new Interleaved({context: $p, name: 'interleave'})\n    }\n\n    return function(options) {\n        $p.revealDensity = false;\n        let renderer = 'instanced';\n        let vmap = options.vmap || {};\n        let mark = options.mark || vmap.mark || 'circle';\n        let viewIndex = options.viewIndex;\n\n        let visDomain = {};\n        let visDimension = vmap.viewport || [$p.views[viewIndex].width, $p.views[viewIndex].height] || viewport;\n        let width = visDimension[0];\n        let height =  visDimension[1];\n        let padding = vmap.padding || $p.views[viewIndex].padding || chartPadding;\n        let offset = vmap.offset || $p.views[viewIndex].offset || [0, 0];\n        let dimSetting = encode($p, vmap, colorManager);\n\n        let pv = $p.views[viewIndex];\n        let colorInfo = (typeof(vmap.colors) === 'object') ? vmap.colors : pv.color;\n    \n        let colorMode = 1;\n        let colorMap;\n        \n        let viewSetting = {\n            domain: visDomain,\n            fields: $p.fields,\n            vmap: vmap,\n            // onclick: interaction,\n            strLists: $p.strLists,\n            padding: padding,\n            left: offset[0],\n            top:  offset[1],\n            colors: colorManager.getColors(),\n        };\n\n        viewSetting = Object.assign(viewSetting, dimSetting);\n        viewSetting = Object.assign(viewSetting, $p.views[viewIndex]);\n\n        if(!$p._update){\n            $p.fields.forEach(function(f, i){\n                visDomain[f] = $p.fieldDomains[i].slice();\n            });\n            if(vmap.zero) {\n                if($p.fields.indexOf(vmap.width) > -1) {\n                    visDomain[vmap.width][0] = 0;\n                }\n                if($p.fields.indexOf(vmap.height) > -1) {\n                    visDomain[vmap.height][0] = 0;\n                }\n                if($p.fields.indexOf(vmap.y) > -1) {\n                    visDomain[vmap.y][0] = 0;\n                }\n            } \n\n            // pv.domains = Object.keys(visDomain).map(f=>visDomain[f]);\n            pv.domains = visDomain;\n            // $p.uniform.uVisDomains.data = pv.domains;\n            if((vmap.append !== true ) && pv.hasOwnProperty('chart')) {\n                pv.chart.svg.remove();\n                pv.chart.removeAxis();\n            }\n            pv.chart = vis.addChart(viewSetting);\n            pv.svg = pv.chart.svg.node();\n            if(typeof(colorInfo) === 'object') {\n                if(Array.isArray(colorInfo)) {\n                    colorMap = colorInfo;\n                } else {\n                    if(colorInfo.hasOwnProperty('interpolate')) {\n                        colorMode = (colorInfo.interpolate) ? 1 : 0;\n                    }\n                    colorMap = colorInfo.range || colorInfo.values; \n                }\n            }\n\n            colorManager.updateColors(colorMap, colorMode);\n            \n        } else {\n            // $p.uniform.uVisDomains.data = pv.domains;\n            if(pv.updateDomain === true) {\n                pv.chart.updateAxisX(pv.domains[vmap.x]);\n                pv.chart.updateAxisY(pv.domains[vmap.y]);\n            }\n        }\n        $p.uniform.uVisDomains.data = Object.keys(pv.domains).map(f=>pv.domains[f]);\n        $p.uniform.uVisMark.data = visMarks.indexOf(mark);\n        $p.uniform.uGeoProjection.data = (vmap.project) ? 1 : 0;\n        $p.uniform.uDropZeros.data = (vmap.dropZeros) ? 1 : 0;\n\n        //Check if need interleaving data attributes(e.g.,parallel coordinates)\n        if(Array.isArray(vmap.x) || Array.isArray(vmap.y)) {\n            renderer = 'interleave';\n            if(Array.isArray(vmap.x)){\n                // vmap.x = vmap.x.reverse();\n                $p.uniform.uInterleaveX = 0;\n            } else if(Array.isArray(vmap.y)) {\n                $p.uniform.uInterleaveX = 1;\n            }\n            renderers[renderer].updateInstancedAttribute(vmap.x);\n            renderers[renderer].updateInstancedAttribute(vmap.y);\n        } else if(vmap.mark && ['rect', 'bar'].indexOf(vmap.mark) !== -1) {\n            renderer = 'polygon';\n        }\n\n        let gl = renderers[renderer].load();\n        $p.framebuffer.enableRead('fFilterResults');\n        $p.framebuffer.enableRead('fDerivedValues');\n        $p.framebuffer.enableRead(vmap.in || 'fGroupResults');\n\n        if($p.revealDensity) {\n            $p.bindFramebuffer('offScreenFBO');\n            gl.clearColor( 1.0, 1.0, 1.0, 0.0 );\n            gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.blendFunc(gl.ONE, gl.ONE );\n        } else {\n            $p.bindFramebuffer(null);\n            // gl.clearColor( 1.0, 1.0, 1.0, 0.0 );\n            gl.blendFunc( gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n            // gl.blendFunc(gl.SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);\n        }\n        gl.viewport(\n            offset[0] + padding.left,\n            viewport[1] - height + padding.bottom - offset[1],\n            width - padding.left - padding.right,\n            height - padding.top - padding.bottom\n        );\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendEquation(gl.FUNC_ADD);\n\n        let primitive = gl.POINTS;\n\n        if(mark == 'line') {\n            primitive = gl.LINE_STRIP;\n            gl.lineWidth(vmap.size || 1.0);\n        }\n\n        extend($p, vmap, viewIndex, visDomain);\n\n        if($p.skipRender || vmap.project) {\n            pv.chart.removeAxis();\n            if($p.fields.indexOf(vmap.color)!==-1) pv.chart.removeLegend();\n        }\n\n        if(!$p.skipRender) {\n            renderers[renderer].render(primitive);\n        } else {\n            if(!$p._update) {\n                gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n                gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            }\n        }\n        $p.skipRender = false;\n        if($p.revealDensity) enhance({\n            viewIndex: viewIndex,\n            dim: [width, height],\n            offset: offset,\n            padding: padding\n        });\n        $p.bindFramebuffer(null);\n\n        if(!$p._update) {\n            let actions = Object.keys(vmap)\n                .filter(function(act){ return userActions.indexOf(act) !== -1});\n\n            actions.forEach(function(action) {\n                let response = {};\n                let viewId = vmap.id || $p.views[viewIndex].id;\n                response[viewId] = vmap[action];\n                let interactOptions = Object.assign({\n                    event: action,\n                    from: viewId,\n                    response: response,\n                }, vmap[action])\n                $p.interactions.push(interactOptions)\n            })\n        }\n    }\n}\n","import {seqFloat} from '../utils';\nexport default function reveal($p) {\n    $p.uniform('uRevealMode', 'int', 1)\n        .framebuffer(\"offScreenFBO\", \"float\", $p.viewport)\n        .framebuffer(\"visStats\", \"float\", [1, 1]);\n\n    var aViewX = new Float32Array($p.viewport[0]).map((d, i) => i);\n    var aViewY = new Float32Array($p.viewport[1]).map((d, i) => i);\n\n    $p.attribute(\"aViewX\", \"float\", aViewX);\n    $p.attribute(\"aViewY\", \"float\", aViewY);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewX.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewY.location, 1);\n\n    var vs = $p.shader.vertex(function(){\n        var i, j;\n        i = (this.aViewX+0.5) / this.uViewDim.x;\n        j = (this.aViewY+0.5) / this.uViewDim.y;\n        this.vColorRGBA = texture2D(this.offScreenFBO, vec2(i, j));\n        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    });\n\n    var fs = $p.shader.fragment(function() {\n        gl_FragColor = this.vColorRGBA;\n    });\n\n    $p.program(\"post-processing\", vs, fs);\n\n    var vs2 = $p.shader.vertex(function () {\n         gl_Position = vec4(this._square, 0, 1);\n    });\n\n    var fs2 = $p.shader.fragment(function() {\n        var x, y, a;\n        var value = new Vec4();\n        x = (gl_FragCoord.x+0.5) / this.uViewDim.x;\n        y = (gl_FragCoord.y+0.5) / this.uViewDim.y;\n        value = texture2D(this.offScreenFBO, vec2(x, y));\n\n        if(value.a == 0.0) discard;\n        // a = pow(((value.a - this.uDefaultAlpha) / (this.uMaxRGBA.a -this.uDefaultAlpha)), 0.33) * 0.85 + 0.15;\n        a = pow((value.a / this.uMaxRGBA.a), 0.33) * 0.9 + 0.1;\n        // a = value.a / this.uMaxRGBA.a;\n\n        if(this.uRevealMode == 0) {\n            gl_FragColor = vec4(this.uDefaultColor*a, a);\n        } else {\n            gl_FragColor = vec4(texture2D(this.tColorGradient, vec2(1.-a, 1.0)).rgb*this.uDefaultAlpha, this.uDefaultAlpha);\n        }\n    });\n\n    $p.program(\"vis-render\", vs2, fs2);\n\n    let isFBOAllocatedFBO = false;\n\n    return function(options) {\n        var gl,\n            viewIndex = options.viewIndex,\n            viewDim = options.dim,\n            offset = options.offset || [0, 0],\n            padding = options.padding || {left: 0, right: 0, left: 0, right:0};\n\n        if(!$p._update) {\n\n            if(!isFBOAllocatedFBO) {\n                isFBOAllocatedFBO = true;\n                $p.framebuffer(\"visStats\", \"float\", [1, $p.views.length]);\n            }\n\n            let vOffset = [\n                offset[0] + padding.left,\n                $p.viewport[1] - viewDim[1] + padding.bottom - offset[1],\n            ]\n            let vDim = [\n                viewDim[0] - padding.left - padding.right,\n                viewDim[1] - padding.top - padding.bottom\n            ]\n\n            $p.attribute.aViewX = seqFloat(vOffset[0], vOffset[0] + vDim[0] - 1);\n            $p.attribute.aViewY = seqFloat(vOffset[1], vOffset[1] + vDim[1] - 1);\n            gl = $p.program(\"post-processing\");\n\n            $p.framebuffer.enableRead(\"offScreenFBO\");\n            $p.bindFramebuffer(\"visStats\");\n\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewX.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewY.location, 1);\n            // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.disable(gl.CULL_FACE);\n            gl.disable(gl.DEPTH_TEST);\n            gl.enable( gl.BLEND );\n            gl.blendFunc( gl.ONE, gl.ONE );\n            gl.blendEquation(gl.MAX_EXT);\n            gl.viewport(0, viewIndex, 1, 1);\n            gl.ext.drawArraysInstancedANGLE(\n                gl.POINTS,\n                0,\n                vDim[0],\n                vDim[1]);\n\n            var max = new Float32Array(4);\n            gl.readPixels(0, viewIndex, 1, 1, gl.RGBA, gl.FLOAT, max);\n            // if(max[3] == 0) {\n            //     max[3] = Math.sqrt($p.dataSize) * Math.log2($p.dataSize);\n            // }\n            // console.log(offset, viewDim);\n            $p.views[viewIndex].maxRGBA = max;\n        }\n\n        $p.uniform.uMaxRGBA = $p.views[viewIndex].maxRGBA;\n\n        $p.bindFramebuffer(null);\n        gl = $p.program(\"vis-render\");\n        gl.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n        $p.framebuffer.enableRead(\"offScreenFBO\");\n\n        gl.viewport(\n            offset[0] + padding.left,\n            // offset[1] + padding.bottom,\n            $p.viewport[1] - viewDim[1] + padding.bottom - offset[1],\n            viewDim[0] - padding.left - padding.right,\n            viewDim[1] - padding.top - padding.bottom\n        );\n        // gl.blendEquation(gl.FUNC_ADD);\n        gl.disable( gl.BLEND );\n        // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n        // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n}\n","import aggregate  from './ops/aggregate';\nimport cache      from './ops/cache.gl';\nimport derive     from './ops/derive';\nimport extent     from './ops/extent.gl';\nimport match      from './ops/match';\nimport visualize  from './vis/visualize';\n\nexport default {\n    aggregate,\n    cache,\n    derive,\n    extent,\n    match,\n    visualize\n}","import {getHour, getDayOfWeek, getMonth, getYear} from '../gljs/datetime.gl'\n\nexport default function derive($p, spec) {\n\n  let derive = {};\n  let dataDimension = $p.uniform.uDataDim.data;\n  let deriveMax = $p.uniform.uDeriveCount.data;\n  let derivedFields = Object.keys(spec);\n\n  let fields = $p.fields;\n  if(derivedFields.length > $p.deriveMax) {\n    throw Error('Error: cannot derive more than ' + $p.deriveMax + ' new attributes');\n  }\n\n  $p.subroutine(\"hour\", \"float\", getHour);\n  $p.subroutine(\"month\", \"float\", getMonth);\n  $p.subroutine(\"year\", \"float\", getYear);\n  $p.subroutine(\"dayOfWeek\", \"float\", getDayOfWeek);\n\n  let marco = \"\\t\";\n\n  derivedFields.forEach(function(d, i){\n    let re = new RegExp(\"(\"+fields.join(\"|\")+\")\",\"g\");\n    // let formula = spec[d].replace(/@([\\w|\\d|_]+)/g, function(matched){\n    let formula = spec[d].replace(re, function(matched){\n      // console.log(matched);\n      let index = fields.indexOf(matched);\n      return 'this.getNonIndexedData ('  + index + ', pos.x, pos.y)';\n    });\n    marco += 'if (index == ' + i + ') return ' + formula + \"; \\n \\telse \";\n  });\n\n  marco = marco.replace(/\\$/g, 'this.') + \" return 0.0;\";\n\n  $p.uniform(\"uOptMode\", \"float\", 0)\n    .uniform(\"uDeriveId\", \"int\", 0)\n    .subroutine(\"getDerivedValue\", \"float\", new Function(\"$int_index\", \"$vec2_pos\", marco));\n\n  function vertexShader() {\n    gl_PointSize = 1.0;\n\n    var i, j;\n\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n\n    this.vResult = this.getDerivedValue(this.uDeriveId, vec2(i, j));\n    if(this.uFilterFlag == 1) {\n      if(texture2D(this.fFilterResults, vec2(i, j)).a == 0.0)\n        this.vResult = 0.0;\n    }\n    var x, y;\n    if(this.uOptMode == 0.0){\n      x = 0.5;\n      y = 0.5;\n    } else {\n      x = i * 2.0 - 1.0;\n      y = j * 2.0 - 1.0;\n    }\n\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  }\n\n  function fragmentShader() {\n    if(this.vResult == 0.0) discard;\n    if(this.uOptMode > 0.0 || this.vResult >= 0.0)\n      gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n    else\n      gl_FragColor = vec4(-1.0, this.vResult, 0.0, 0.0);\n  }\n\n  var vs = $p.shader.vertex(vertexShader),\n    fs = $p.shader.fragment(fragmentShader),\n    gl = $p.createProgram(\"derive\", vs, fs);\n\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n  function _execute() {\n    var gl = $p.program(\"derive\");\n    $p.framebuffer.enableRead(\"fFilterResults\");\n    $p.bindFramebuffer(\"fDerivedValues\");\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.DEPTH_TEST);\n    gl.enable( gl.BLEND );\n    gl.blendFunc( gl.ONE, gl.ONE );\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n    \n    if($p.indexes.length > 0)\n      gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n     \n    if($p.indexes.length > 1)\n      gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n    $p.uniform.uOptMode = 0.0;\n    // $p.uniform.uDeriveCount = derivedFields.length;\n    var deriveDomains = [];\n    derivedFields.forEach(function(d, i){\n      $p.uniform.uDeriveId = i;\n      gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n      gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n      gl.viewport(0, 0, 1,  1);\n\n      var result = new Float32Array(8);\n\n      gl.blendEquation(gl.MAX_EXT);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n      // gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, max);\n\n      gl.viewport(1, 0, 1,  1);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n      gl.blendEquation(gl.MIN_EXT);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n      gl.readPixels(0, 0, 2, 1, gl.RGBA, gl.FLOAT, result);\n\n      var minValue = (result[4] < 0) ? result[5] : result[7],\n        maxValue = (result[2] > 0) ? result[3] : result[1];\n      deriveDomains[i] = [minValue, maxValue];\n\n      // deriveDomains[i] = [Math.min(min[0], min[3]), Math.max(max[0], max[3])];\n    });\n    gl.viewport(0, 0, dataDimension[0], dataDimension[1]*deriveMax);\n    gl.disable( gl.BLEND );\n    gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n    gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n\n    $p.uniform.uOptMode = 1.0;\n\n    derivedFields.forEach(function(d, i){\n      $p.uniform.uDeriveId = i;\n      gl.viewport(0, dataDimension[1]*i, dataDimension[0], dataDimension[1]);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n    });\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return deriveDomains;\n  }\n\n  derive.execute = function(spec) {\n    var derivedFields = Object.keys(spec);\n    var newDerivedDomains = _execute();\n    if(!$p._update) {\n      newDerivedDomains.forEach(function(d, i) {\n        var fieldId = $p.fields.indexOf(derivedFields[i]);\n        if(fieldId === -1) {\n          $p.fields.push(derivedFields[i]);\n          fieldId = $p.fields.indexOf(derivedFields[i]);\n          $p.deriveCount += 1;\n        }\n        $p.fieldDomains[fieldId] = d;\n        $p.fieldWidths[fieldId] = d[1] - d[0] + 1;\n      });\n      $p.uniform.uFieldDomains.value($p.fieldDomains);\n      $p.uniform.uFieldWidths.data = $p.fieldWidths;\n    }\n  }\n\n  derive.result = function(arg) {\n    var options = arg || {},\n      offset = options.offset || [0, 0],\n      resultSize = options.size || $p.dataDimension[0]* $p.dataDimension[1],\n      fid = options.fieldId || options.deriveFieldId || 0,\n      rowSize = Math.min(resultSize, $p.dataDimension[0]),\n      colSize = Math.ceil(resultSize/$p.dataDimension[0]);\n    \n    $p.bindFramebuffer('DerivedValues');\n    var result = new Float32Array(rowSize * colSize * 4);\n    gl.readPixels(0, dataDimension[1]*fid, rowSize, colSize, gl.RGBA, gl.FLOAT, result);\n    return result.filter(function(d, i){ return i%4===3;} ); //return channel alpha in rgba\n  }\n\n  return derive;\n}\n","import programs from './kernels';\nimport compile from './compile';\nimport * as arrayOpt from './arrays';\n\nexport default function($p) {\n    let operations = {};\n    let kernels = compile($p);\n    let bin = function (spec, binIndex) {\n        let binAttr;\n        let binCount;\n    \n        if (typeof spec == 'object') {\n            binAttr = Object.keys(spec)[0];\n            binCount = spec[binAttr];\n        } else {\n            binAttr = spec;\n            // Apply Sturges' formula for determining the number of bins\n            binCount = Math.ceil(Math.log2($p.dataSize)) + 1;\n        }\n        let binAttrId = $p.fields.indexOf(binAttr);\n        let binDomain = $p.fieldDomains[$p.fields.indexOf(binAttr)];\n        let binInterval = (binDomain[1] - binDomain[0]) / binCount;\n        // debugger\n        $p.uniform.uBinCount.data[binIndex] = binCount;\n        $p.uniform.uBinIntervals.data[binIndex] = binInterval;\n        $p.fieldWidths[binAttrId] = binCount;    \n        $p.intervals[binAttr] = {};\n        $p.intervals[binAttr].dtype = 'histogram';\n        $p.intervals[binAttr].interval = binInterval;\n        $p.intervals[binAttr].min = binDomain[0];\n        $p.intervals[binAttr].max = binDomain[1];\n        $p.histograms.push(binAttr);\n        return binAttr;\n    }\n    \n    operations.aggregate = function (spec) {\n        if(spec.$bin) { \n            let binSpecs = Array.isArray(spec.$bin) ? spec.$bin : [spec.$bin];\n            let binAttrs = binSpecs.map((spec, ii) => {\n                return bin(spec, ii);\n            })\n            if(spec.$group) {\n                spec.$group = binAttrs.filter(a => spec.$group.indexOf(a) === -1).concat(spec.$group);\n            } else {\n                spec.$group = binAttrs;\n            }\n        }\n        if(Object.keys($p.crossfilters).length) {\n            $p.uniform.uFilterFlag = 1;\n            // operations.match({})\n            // $p.crossfilters = {}\n        }\n        if (!kernels.hasOwnProperty('aggregate')) {\n            kernels.aggregate = programs.aggregate($p, spec);\n        }\n        kernels.aggregate.execute(spec);\n        if (typeof(spec.out) === 'string') {\n            $p.setOutput(spec.out)\n        }\n        return kernels.aggregate.result;\n    }\n\n    operations.match = function(spec) {\n        if (!kernels.hasOwnProperty('match')) {\n            kernels.match = programs.match($p);\n        }\n        kernels.match.execute(spec);\n        return kernels.match.result;\n    }\n\n    operations.cache = function(tag) {\n        if (!kernels.hasOwnProperty('cache')) {\n            kernels.cache = programs.cache($p);\n        }\n        kernels.cache.execute(tag);\n        return kernels.cache.result;\n    }\n\n    operations.derive = function(spec) {\n        // if (!kernels.hasOwnProperty('derive')) {\n        if(!$p._update) {\n            kernels.derive = programs.derive($p, spec);\n        }\n        // }\n        kernels.derive.execute(spec);\n        return kernels.derive.result;\n    }\n\n    operations.visualize = function(vmap) {\n        // if(Object.keys($p.crossfilters).length > 0)\n        //     operations.match({});\n        let vmaps;\n        if(vmap.facets) {\n            let facet = vmap.facets;\n            let spec = facet.rows || facet.columns;\n            if(facet.sortBy !== undefined) {\n                let sortOpt = Object.keys(facet.sortBy)[0];\n                let sortAttr = facet.sortBy[sortOpt];\n                let result = $p.exportResult('row');\n                let sorted = spec[sortAttr].map((fields) => {\n                    let values = result.map(r => r[fields])\n                    let min = Math.min(...values);\n                    let max = Math.max(...values);\n                    let normalizedValues = values.map( val => (val - min) / (max - min) )\n                    if (sortOpt === 'var') sortOpt = 'variance';\n                    let opt = typeof(arrayOpt[sortOpt]) === 'function' ? sortOpt : 'avg'\n                    return {\n                        name: fields,\n                        value: arrayOpt[opt](normalizedValues)\n                    }\n                })\n                .sort((a, b) => b.value - a.value )\n                spec[sortAttr] = sorted.map(r => r.name);;\n            }\n            let encodings = Object.keys(vmap).filter(k => k !== 'facets')\n            let variables = Object.keys(spec)\n            let minLoopCount = Math.min(...variables.map(v => spec[v].length))\n\n            vmaps = new Array(minLoopCount)\n            for(let i = 0; i < minLoopCount; i++) {\n                let rule = {}\n                encodings.forEach(code => {\n                    let vi = variables.indexOf(vmap[code])\n                    if(vi < 0) {\n                    rule[code] = vmap[code]     \n                    } else {\n                    rule[code] = spec[variables[vi]][i]\n                    }\n                })\n                vmaps[i] = rule;\n                if(facet.brush && i === 0) {\n                    vmaps[i].brush = facet.brush;\n                    vmaps[i].brush.facet = 'rows'\n                }\n            }\n        } else {\n            vmaps = Array.isArray(vmap) ? vmap : [vmap];\n        }\n\n        if($p.grid.views.length < vmaps.length) {\n            $p.grid.reset();  \n            $p.views = $p.grid.generateViews({\n                count: vmaps.length, \n                width: $p.viewport[0],\n                height: $p.viewport[1],\n                padding: $p.padding,\n                gridlines: vmap.gridlines\n            })\n        }\n        vmaps.forEach( (vmap, vi) => {\n            if (!kernels.hasOwnProperty('visualize')) {\n                kernels.visualize = programs.visualize($p);\n            }\n            if (vmap.in) {\n                $p.setInput(vmap.in);\n            }\n            let viewIndex = vi;\n            if(typeof vmap.id == 'string') {\n                viewIndex = $p.views.map(d=>d.id).indexOf(vmap.id);\n                if(viewIndex == -1) {\n                    //find the next available view slot in all views\n                    for(let vi = 0; vi < $p.views.length; vi++){\n                        if(!$p.views[vi].id) {\n                            viewIndex = vi;\n                            $p.views[viewIndex].id = vmap.id;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            if(vmap.mark == 'bar') vmap.zero = true;\n            $p.views[viewIndex].vmap = vmap;\n            let encoding = vmap,\n                viewTag = $p.views[viewIndex].id;\n    \n            if($p._update && $p.responses.hasOwnProperty(viewTag)) {\n                if($p.responses[viewTag].hasOwnProperty($p._responseType)) {\n                    encoding = Object.assign({}, vmap, $p.responses[viewTag][$p._responseType]);\n                }\n            }\n            if(encoding.opacity !== 0){\n                kernels.visualize({\n                    vmap: encoding,\n                    viewIndex: viewIndex\n                });\n                $p.respond();\n            }\n        })\n        $p.reset();\n    }\n\n    return operations;\n}","import aggregate  from './ops/aggregate';\nimport cache      from './ops/cache.gl';\nimport derive     from './ops/derive';\nimport extent     from './ops/extent.gl';\nimport match      from './ops/match';\nimport visualize  from './vis/visualize';\nimport reveal     from './vis/reveal';\n\nexport default function compile($p, fields, spec) {\n\n    // if(spec.hasOwnProperty('perceptual'))\n    //     operations.perceptual = kernels.perceptual($p);\n    //\n    // if(spec.hasOwnProperty('derive'))\n    //     operations.derive = kernels.derive($p, spec.derive);\n\n    return {\n        aggregate : aggregate($p),\n        cache     : cache($p),\n        match     : match($p, fields),\n        extent    : extent($p),\n        visualize : visualize($p)\n    }\n}\n","import { vis } from 'p3.js';\n// import animation from '../src/animate';\n\nexport default [\n    {\n        name: 'spline',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        compute: true,\n        condition: vmap => vmap.mark === 'spline', \n        type: 'class',\n        function: vis.Spline\n    },\n    {\n        name: 'area',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        condition: vmap => vmap.mark === 'area', \n        type: 'class',\n        function: vis.AreaChart\n    },\n    {\n        name: 'column',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        condition: vmap => vmap.mark === 'column', \n        type: 'class',\n        function: vis.BarChart\n    },\n    // {\n    //     name: 'animate',\n    //     // exportData: true,\n    //     skipDefault: true,\n    //     getContext: true,\n    //     restartOnUpdate: false,\n    //     condition: vmap => vmap.mark === 'circle' && vmap.animate === true, \n    //     function: animation\n    // }\n]\n","export default class Grid {\n    constructor(views) {\n        this.views = views\n    }\n\n    add (view) {\n        this.view.push(view)\n    }\n\n    reset () {\n        this.views.forEach(function(v){\n            if(v.hasOwnProperty('chart')) {\n                v.chart.svg.remove()\n                v.chart.removeAxis()\n                v.chart.removeLegend()\n                delete v.chart\n            }\n        })\n    }\n\n    generateViews ({\n        layout = 'rows',\n        count = 1,\n        width = 640,\n        height = 480,\n        padding = {left: 0, right: 0, top: 0, bottom: 0},\n        gridlines = {x: false, y: false}\n    }) {\n        let views = new Array(count)\n        let calcOffset\n        // height -= padding.top + padding.bottom;\n        // width -= padding.left + padding.right;\n        if (layout == 'rows') {\n            height = height / count\n            calcOffset = (index) => [0, index * height]\n        } else {\n            width = width / count\n            calcOffset = (index) => [index * width, 0]\n        }\n        for (let i = 0; i < count; i++) {\n            let offset = calcOffset(i)\n            views[i] = {width, height, padding, offset, gridlines}\n        }\n        this.views = views;\n        return views;\n    }\n}","import allocate from './allocate';\nimport input from './io/input';\nimport output from './io/output';\nimport initialize from './initialize';\nimport interact from './interact';\nimport control from './control';\nimport pipeline from './pipeline';\nimport operate from './operate';\nimport kernels from './kernels';\nimport extensions from './extensions';\nimport Grid from './grid';\nimport cstore from './cstore';\n\nexport default function p4(options) {\n  let $p = initialize(options);\n  $p.async = options.async || false;\n  $p.views = [];\n  $p.interactions = [];\n  $p.histograms = [];\n  $p.extensions = extensions;\n  $p.responses = {};\n  $p.crossfilters = {};\n  $p.primitives = [];\n  $p.dataSize = 0;\n  $p.rowSize = options.dimX || 4096;\n  $p.deriveMax = options.deriveMax || 4;\n  $p.deriveCount = 0;\n  \n  $p._responseType = 'unselected';\n  $p._update = false;\n  $p._progress = false;\n  $p.skipRender= false;\n\n  $p.getResult = function() {};\n  let api = pipeline($p);\n  api.ctx = $p;\n  api.addModule(control);\n  api.assignMethods(output);\n  // api.addModule(view);\n  // let outputs = output($p)\n  // api.result = outputs.result;\n  api.addOperation('head', function() {\n    api.resume('__init__');\n    if(Object.keys($p.crossfilters).length > 0) api.match({});\n    $p.getResult = $p.getRawData;\n    return api;\n  });\n\n  $p.grid = {views: []};\n  api.view = function(views) {\n    if($p.grid.views.length !== 0) {\n      $p.grid.reset();\n    } \n    $p.grid = new Grid(views);\n    $p.views = $p.grid.views;\n    return api;\n  }\n  api.views = api.view;\n  api.getViews = function () {\n    return $p.views;\n  }\n  \n  $p.reset = api.head;\n  $p.exportResult = api.result;\n\n  $p.setInput = function(inputName) {\n    api.resume(inputName);\n    return api;\n  }\n\n  $p.setOutput = function(outputName) {\n    api.register(outputName);\n    // console.log(api.result({outputTag: outputName, format: 'row'}))\n    return api;\n  }\n\n  function configPipeline($p) {\n    $p.extent = kernels.extent($p);\n    // $p.operations = compile($p);\n    let operations = operate($p);\n    api.getOperations = () => Object.keys(operations);\n    for(let optName of Object.keys(operations)) {\n      api.addOperation(optName, operations[optName], true);\n    }\n    \n    for(let ext of $p.extensions) {\n      if(ext.getContext === true) {\n        ext.function = ext.function($p);\n      }\n    }\n    api.register('__init__');\n  }\n  \n  api.data = function(dataOptions) {\n    if (dataOptions.format === 'json') {\n      let columns = cstore({\n          schema: dataOptions.schema,\n          size: dataOptions.values.length\n        })\n        .import({data: dataOptions.values});\n\n      allocate($p, columns.data());\n    } else {\n      allocate($p, dataOptions);\n    }\n    configPipeline($p);\n    $p.getResult = dataOptions.export;\n    $p.cache = api.cache;\n    $p.getRawData = dataOptions.export;\n    $p.match = api.match;\n    return api;\n  }\n\n  api.index = function(indexes) {\n    data.indexes = indexes;\n    return api;\n  }\n\n  let asyncPipeline = {};\n  let asyncInput = function(arg) {\n    let inputReady = false;\n    for(let program of Object.keys(api).concat(Object.keys(kernels))) {\n      asyncPipeline[program] = function(spec) {\n        api.addToQueue(program, spec);\n        return asyncPipeline;\n      }\n    }\n\n    asyncPipeline.execute = function() {\n      return input(arg).then(function(data){\n        if(Array.isArray(arg.indexes)) {\n          data.indexes = arg.indexes;\n        }   \n        api.data(data);\n        api.async(true);\n        api.run();\n        api.async(false);\n        inputReady = true;\n        return new Promise(function(resolve, reject){\n          resolve(api.result('row'))\n          return api;\n        })\n      })\n    }\n\n    asyncPipeline.commit = asyncPipeline.execute;\n\n    if(arg.dimX) $p.rowSize = arg.dimX;\n    return asyncPipeline;\n  }\n\n  api.runJSON = function(jsonSpec) {\n    let inputSpec = jsonSpec[0];\n    if (!inputSpec.hasOwnProperty('input')) {\n      throw Error('Error: No specification for input!');\n    }\n    let asyncPipeline = api.input(inputSpec)\n    jsonSpec.slice(1).forEach(spec => {\n      let opt = Object.keys(spec)[0];\n      asyncPipeline[opt](spec[opt]);\n    })\n\n    return api;\n  }\n\n  api.getResult = function (d) {\n    return $p.getResult(d);\n  }\n\n  api.clearWebGLBuffers = function() {\n    let frameBuffers = ['offScreenFBO', 'visStats', null];\n    frameBuffers.forEach(fb => {\n      $p.bindFramebuffer(fb);\n      $p.ctx.clearColor( 0.0, 0.0, 0.0, 0.0 );\n      $p.ctx.clear( $p.ctx.COLOR_BUFFER_BIT | $p.ctx.DEPTH_BUFFER_BIT );\n    })\n  }\n\n  api.runSpec = function(specs) {\n    api.head();\n    api.clearWebGLBuffers();\n    $p.interactions = [];\n    $p.responses = {};\n    $p.crossfilters = [];\n    $p.uniform.uFilterFlag.data = 0;\n    api.clearQueue();\n    // $p.uniform.uFilterRanges = $p.fieldDomains.concat($p.deriveDomains);\n    specs.forEach(function(spec){\n      let opt = Object.keys(spec)[0];\n      let arg = spec[opt];\n      opt = opt.slice(1); // ignore $ sign \n      if(typeof api[opt] == 'function') {\n        api[opt](arg);\n      }\n    })\n    return api;\n  }\n  \n  api.interact = function(spec) {\n    if(typeof(spec) != 'undefined') $p.interactions.push(spec);\n    $p.interactions.forEach(function(interaction){\n      // console.log(interaction)\n      let callback = interaction.callback || function(selection) {\n        $p.responses = interaction.response;\n        if(!$p._update) {\n          $p._update = true;\n          $p.crossfilters = {};\n          if(typeof selection == 'object') {\n            Object.keys(selection).forEach(function(k) {\n              if(selection[k].length < 2) {\n                if($p.intervals.hasOwnProperty(k)) {\n                  var value = (Array.isArray(selection[k]))\n                    ? selection[k][0]\n                    : selection[k];\n                  selection[k] = [value-$p.intervals[k].interval, value];\n                } \n                // else if(!$p.strLists.hasOwnProperty(k)) {\n                //     selection[k] = [selection[k][0] + selection[k][0] + 1];\n                // }\n              }\n              $p.crossfilters[k] = selection[k];\n            });\n          }\n          $p._responseType = 'unselected';\n          $p.uniform.uFilterLevel.data = 0.2;\n          $p.uniform.uVisLevel.data = 0.1;\n          api.head().run();\n          $p._responseType = 'selected';\n          $p.uniform.uVisLevel.data = 0.2;\n          api.head().run();\n          $p._responseType = 'unselected';\n          $p._update = false;\n          $p.uniform.uFilterLevel.data = 0.1;\n          $p.uniform.uVisLevel.data = 0.1;\n        }\n      }\n      interact($p, {\n        actions: interaction.event,\n        view: interaction.from,\n        condition: interaction.condition,\n        facet: interaction.facet,\n        callback: callback  \n      })\n    })\n  }\n  $p.respond = api.interact;\n\n  api.updateData = function(newData) {\n    let data;\n    if(newData._p4_cstore_version) {\n      data = newData\n    } else {\n      \n      let cache = cstore({\n        schema: $p.dataSchema,\n        strValues: $p.strValues\n      })\n      cache.addRows(newData)\n      data = cache.data()\n    }\n\n    //update and combine all strValues\n    Object.keys(data.strValues).forEach((attr) => {\n      $p.strValues[attr] = Object.assign($p.strValues[attr], data.strValues[attr]);\n    })\n\n    if(data.size > 0) {\n      $p.dataSize = data.size;\n    }\n    $p.fields\n    .slice($p.indexes.length)\n    .forEach((attr, ai) => {\n      let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n      if(data[attr] === undefined) debugger;\n      for (let i = 0, l = data[attr].length; i < l; i++) {\n        buf[i] = data[attr][i];\n      }\n      $p.texture.tData.update(\n        buf, [0, $p.dataDimension[1] * ai], $p.dataDimension\n      );\n      $p.fieldDomains[ai] = [\n        Math.min(data.stats[attr].min, $p.fieldDomains[ai][0]),\n        Math.max(data.stats[attr].max, $p.fieldDomains[ai][1])\n      ]\n      $p.fieldWidths[ai] = $p.fieldDomains[ai][1] - $p.fieldDomains[ai][0] + 1;\n      if(data.strLists.hasOwnProperty(attr)){\n        $p.fieldDomains[ai] = [0, data.strLists[attr].length - 1];\n        $p.strLists[attr] = data.strLists[attr];\n        $p.fieldWidths[ai] = data.strLists[attr].length;\n      }\n    });\n\n    api.updateRegister('__init__', {\n      fieldDomains: $p.fieldDomains,\n      fieldWidths: $p.fieldWidths}\n    )\n    $p.uniform.uFieldDomains.data = $p.fieldDomains;\n    $p.uniform.uFieldWidths.data = $p.fieldWidths;\n    return api;\n  }\n\n  api.updateDataColumn = function(data, attribute) {\n    if($p.fields.indexOf(attribute) === -1) {\n      throw Error('Invalid attribute', attribute);\n    }\n    let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n    let attrId = $p.fields.indexOf(attribute) - $p.indexes.length;\n    for (let i = 0, l = data[attribute].length; i < l; i++) {\n      buf[i] = data[attr][i];\n    }\n    $p.texture.tData.update(\n      buf, [0, $p.dataDimension[1] * attrId], $p.dataDimension\n    );\n  }\n\n  api.updateDataRow = function(data, rowId) {\n    let dataType = (Array.isArray(data)) ? 'array' : 'json';\n    $p.fields.slice($p.indexes.length).forEach((attr, ai) => {\n      let texPosX = rowId % $p.dataDimension[0];\n      let value = (dataType == 'array') ? data[ai] : data[attr];\n      if(value === undefined) throw Error('Cannot update data due to invalid data value');\n      $p.texture.tData.update(\n        new Float32Array(data[ai]), [texPosX, $p.dataDimension[1] * i], [1,1]\n      );\n    });\n    return api;\n  }\n\n  api.extend = function(arg) {\n    let extOptions = Object.assign({\n      restartOnUpdate: true,\n      skipDefault: false,\n      exportData: false,\n      getContext: false,\n    }, arg)\n\n    if(extOptions.name != undefined && \n      (typeof extOptions.function === 'function' \n      || typeof extOptions.constructor === 'function')\n    ) {\n      $p.extensions.push(extOptions);\n    }\n  }\n\n  api.annotate = function ({\n    id = 0,\n    mark = 'vline',\n    color = 'red',\n    size = 3,\n    position = {values: []}\n  }) {\n    let view = $p.views[0];\n    if (Number.isInteger(id) && id < $p.views.length) {\n      view = $p.views[id];\n    } else {\n      $p.views.filter(v => v.id == id);\n      if (view.length > 0) {\n        view = view[0];\n      }\n    }\n    if (mark === 'vline') {\n      let values = position[view.vmap.x || view.vmap.width] || position.values;\n      values.forEach(val => {\n        let x = view.chart.x(val);\n        view.chart.svg.append('line')\n          .attr('x1', x)\n          .attr('x2', x)\n          .attr('y1', 0)\n          .attr('y2', view.height - view.padding.top - view.padding.bottom)\n          .attr('stroke', color)\n          .attr('stroke-width', size)\n      })\n    } else if (mark === 'hline') {\n      let values = position[view.vmap.y || view.vmap.height] || position.values;\n      values.forEach(val => {\n        let y = view.chart.y(val);\n        view.chart.svg.append('line')\n          .attr('x1', 0)\n          .attr('x2', view.width - view.padding.left - view.padding.height)\n          .attr('y1', y)\n          .attr('y2', y)\n          .attr('stroke', color)\n          .attr('stroke-width', size)\n      }) \n    }\n  }\n\n  let inputDataOptions = options.data || options.input;\n  if ($p.async && inputDataOptions) {\n    return asyncInput(options.data)\n  } else if ($p.async) { //no data option\n    asyncPipeline.data = asyncInput;\n    asyncPipeline.input = asyncInput;\n    return asyncPipeline;\n  } else {\n    return api;\n  }\n}\n","import FlexGL from '../flexgl';\n\nexport default function init({\n    context = null,\n    container = document.body,\n    viewport =  [800, 450],\n    padding = {left:0, right: 0,top: 0, bottom: 0},\n    attributes = {},\n    views\n}){\n    let $p = context;\n    let defaultLayout = [\n        {\n            width: viewport[0],\n            height: viewport[1],\n            // padding: {left: 30, right: 30, top: 30, bottom: 30},\n            offset: [0, 0]\n        }\n    ];\n    if ($p === null) {\n        $p = new FlexGL({\n            container: container,\n            width: viewport[0],\n            height: viewport[1],\n            padding: {left:0, right: 0,top: 0, bottom: 0},\n            attributes: attributes\n        });\n    }\n    $p.container = container;\n    $p.padding = padding;\n    $p.viewport = viewport;\n    $p.views = views || defaultLayout;\n    return $p;\n}\n","export default function pipeline($p) {    \n    let pipeline = {};\n    let async = false;\n    let optID = 0;\n    let queue = [];\n    \n    pipeline.addModule = function(mod) {\n        let newModule = mod($p)\n\n        Object.keys(newModule).forEach(name => {\n            if (typeof(newModule[name]) === 'function') {\n                pipeline[name] = function() {\n                    newModule[name].apply(null, arguments);\n                    return pipeline;\n                }\n            }\n        })\n        return pipeline;\n    }\n\n    pipeline.assignMethods = function(mod) {\n        let newModule = mod($p)\n\n        Object.keys(newModule).forEach(name => {\n            if (typeof(newModule[name]) === 'function') {\n                pipeline[name] = function() {\n                    return newModule[name].apply(null, arguments);\n                }\n            }\n        })\n        return pipeline;\n    }\n\n    pipeline.addToQueue = function (opt, arg) {\n        if(!$p._update && !$p._progress) {\n            let spec = {};\n            spec[opt] = arg;\n            queue.push(spec);\n            return optID++;\n        } else {\n            return -1;\n        }\n    }\n\n    pipeline.addOperation = function(name, operation, overwrite = false) {\n        if(!pipeline.hasOwnProperty(name) || overwrite) {\n            pipeline[name] = function(arg) {\n                if(!async) {\n                    pipeline.addToQueue(name, arg);\n                }\n                let getResult = operation(arg);\n                if(typeof(getResult) === 'function') {\n                    $p.getResult = getResult;\n                }\n                return pipeline;\n            }\n        }   \n    }\n\n    pipeline.clearQueue = function() {\n        queue = [];\n        return pipeline;\n    }\n\n    pipeline.run = function(jobs = queue) {\n        for (let q of jobs) {\n            let opt = Object.keys(q)[0];\n            if(typeof pipeline[opt] === 'function') {\n                pipeline[opt](q[opt]);\n            }\n        }\n        return pipeline;\n    }\n\n    pipeline.queue = function() {\n        return queue;\n    }\n\n    pipeline.async = function(isAsync) {\n        async = isAsync;\n    }\n\n    return pipeline;\n}","\nimport Brush from './vis/brush';\nexport default function interact($p, options) {\n  let viewTags = options.view || [$p.views[0].id];\n\n  if(!Array.isArray(viewTags)) viewTags = [viewTags];\n\n  let actions = options.actions || options.events || [],\n    condition = options.condition || {},\n    facet = options.facet || false,\n    callback = options.callback || function() {};\n\n  if($p._update) return;\n\n  if(!condition.x && !condition.y) {\n    condition.x = condition.y = true;\n  }\n\n  viewTags.forEach(function(viewTag){\n    let vis = $p.views.filter(v=>v.id == viewTag)[0];\n    //console.log('vis is:', vis)\n\n    if(!Array.isArray(actions)) {\n      actions = [actions];\n    }\n\n    if(vis === undefined || !vis.hasOwnProperty('chart')) return;\n\n    let vmap = vis.vmap,\n      p = vis.padding || $p.padding,\n      w = vis.width - p.left - p.right,\n      h = vis.height - p.top - p.bottom;\n    \n    let interactor = vis.chart.svg.append(\"g\")\n      .attr(\"class\", \"selector\")\n    //console.log('interactor is', interactor)\n\n    if(facet === 'rows') {\n      h = $p.viewport[1] - p.bottom;\n    } else if(facet === 'columns') {\n      w = $p.viewport[0] - p.right;\n    }\n\n    let rect = interactor.append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", w)\n      .attr(\"height\", h)\n      .attr(\"fill-opacity\", 0)\n      .attr(\"stroke\", \"none\");\n\n    let svg = interactor.svg,\n      box = rect.svg.getBoundingClientRect();\n    //console.log('svg is:', svg)\n\n    function getSelection(e) {\n      let dx = e.clientX - box.left;\n      let dy = e.clientY - box.top;\n      let selection = {};\n      if(vmap.x) {\n        selection[vmap.x] = [vis.chart.x.invert(dx)];\n      }\n      if(vmap.y) {\n        selection[vmap.y] = [vis.chart.y.invert(h - dy)];\n      }\n      return selection;\n    }\n\n    actions.forEach(function(action){\n      if(action === 'brush') {\n        svg.style.cursor = \"crosshair\";\n        let brushOptions = {\n          container: interactor,\n          width: w,\n          height: h\n        };\n\n        if(!Array.isArray(vmap.x) && !Array.isArray(vmap.y)) {\n          let updateEvent = (condition.lazy) ? 'brushend' : 'brush';\n          brushOptions[updateEvent] = function(d) {\n            let selection = {};\n            if(vmap.x && d.x) selection[vmap.x] = d.x;\n            if(vmap.y && d.y) {\n              if (d.y[0] > d.y[1]) {\n                selection[vmap.y] = d.y.reverse();\n              } else {\n                selection[vmap.y] = d.y;\n              }\n            }\n\n            Object.keys(selection).forEach(k => {\n              if ($p.uniqueValues.hasOwnProperty(k)) {\n                let values = $p.uniqueValues[k]\n                let start = Math.floor(selection[k][0]);\n                let end = Math.floor(selection[k][1]);\n                if(end === start) start -= 1;\n                selection[k] = [values[start], values[end]];\n              } \n            })\n\n            callback(selection);\n          }\n          if(condition.x && typeof(vis.chart.x.invert) == 'function')\n            brushOptions.x = vis.chart.x.invert;\n\n          if(condition.y && typeof(vis.chart.y.invert) == 'function') {\n            brushOptions.y = (y) => { \n              if(vmap.mark === 'rect') {\n                return vis.chart.y.invert(h-y);\n              }\n              return vis.chart.y.invert(y);\n            } \n          }\n          \n          new Brush(brushOptions);\n        }\n\n        let dims = ['x', 'y'],\n          selections = {};\n\n        dims.forEach(function(dim){\n          if(Array.isArray(vmap[dim]) && Array.isArray(vis.chart[dim])){\n            let axisDist = (dim == 'x') ? h : w,\n              selectors = vis.chart.svg.append('g');\n\n            axisDist =  axisDist / (vmap[dim].length-1);\n\n            vmap[dim].forEach(function(d, i) {\n\n              let axisSelect = selectors.append(\"g\");\n              if(dim == 'x') {\n                brushOptions.height = axisDist * 0.2;\n                axisSelect.translate(0, axisDist * (i - 0.1));\n                brushOptions.brush = function(range) {\n                  selections[d] = range[dim];\n                  callback(selections);\n                }\n              } else {\n                brushOptions.width = axisDist * 0.2;\n                axisSelect.translate(axisDist * (i - 0.1), 0);\n                brushOptions.brush = function(range) {\n                  selections[d] = range[dim].reverse();\n                  callback(selections);\n                }\n              }\n              brushOptions.container = axisSelect;\n              brushOptions[dim] = vis.chart[dim][i].invert;\n\n              new Brush(brushOptions);\n            });\n          }\n        })\n      } else if(action === 'zoom') {\n        vis.updateDomain = true;\n        let delta = {x: null, y: null};\n        let scale = 0.05;\n        svg.onwheel = function(e) {\n          let dir = (e.deltaY > 0) ? 1 : -1;\n          let selection = {};\n          let proportion = {\n            x: (e.clientX - box.left) / box.width,\n            y: 1.0 - (e.clientY - box.top) / box.height\n          }\n\n          for (let dim of ['x', 'y']) {\n            if(condition[dim]) {\n              let attr = vis.vmap[dim];\n              if(delta[dim] === null ){\n                delta[dim] =  scale * (vis.domains[attr][1] - vis.domains[attr][0]);\n              }\n    \n              let domain = vis.domains[attr];\n              let newDomain = [domain[0] - dir * delta[dim] * (proportion[dim]), domain[1] + dir * delta[dim] * (1-proportion[dim])];\n              if(newDomain[1] - newDomain[0] > 1e-9){\n                selection[attr] = newDomain;\n                vis.domains[attr] = newDomain;\n              } else {\n                scale *= 0.5;\n              }\n\n            }\n          }\n          callback(selection);\n        }\n\n      } else if(action == 'pan') {\n        svg.style.cursor = 'move';\n        vis.updateDomain = true;\n        let selection = {};\n        svg.onmousedown = function(e) {\n          let sx = e.clientX;\n          let sy = e.clientY;\n          svg.style.cursor = 'move';\n\n          function onpan(e) {\n            let delta = {\n              x: -(e.clientX - sx) / box.width,\n              y: (e.clientY - sy) / box.height\n            }\n            for (let dim of ['x', 'y']) {\n              if(condition[dim]) {\n                let attr = vis.vmap[dim];\n                let domain = vis.domains[attr];\n                let diff = delta[dim] * (domain[1] - domain[0]);\n                let newDomain = [domain[0] + diff, domain[1] + diff];\n                selection[attr] = newDomain;\n                vis.domains[attr] = newDomain;\n              }\n            }\n            sx = e.clientX;\n            sy = e.clientY;\n            callback(selection);\n          }\n\n          window.addEventListener(\"mousemove\", onpan, false);\n          window.addEventListener(\"mouseup\", function(){\n            svg.style.cursor = 'default';\n            window.removeEventListener(\"mousemove\", onpan, false);\n          }, false);\n\n        }\n\n      } else if(action === 'click') {\n        svg.onclick = function(e) {\n          callback(getSelection(e));\n        }\n      } \n      \n      if(action === 'hover') {\n        svg.onmouseover = function(e) {\n          callback(getSelection(e));\n          svg.onmousemove = function(e) {\n            callback(getSelection(e));\n          }\n\n          // svg.onmouseout = function(e) {\n          //     updatePos(e);\n          //     svg.style.cursor = 'default';\n          //     svg.onmousemove = null;\n          //     svg.onmouseover = null;\n          // }\n        }\n      }\n    })\n  })\n}\n","module.exports = {\n\n  /**\n   * ### config.includeStack\n   *\n   * User configurable property, influences whether stack trace\n   * is included in Assertion error message. Default of false\n   * suppresses stack trace in the error message.\n   *\n   *     chai.config.includeStack = true;  // enable stack on error\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  includeStack: false,\n\n  /**\n   * ### config.showDiff\n   *\n   * User configurable property, influences whether or not\n   * the `showDiff` flag should be included in the thrown\n   * AssertionErrors. `false` will always be `false`; `true`\n   * will be true when the assertion has requested a diff\n   * be shown.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  showDiff: true,\n\n  /**\n   * ### config.truncateThreshold\n   *\n   * User configurable property, sets length threshold for actual and\n   * expected values in assertion errors. If this threshold is exceeded, for\n   * example for large data structures, the value is replaced with something\n   * like `[ Array(3) ]` or `{ Object (prop1, prop2) }`.\n   *\n   * Set it to zero if you want to disable truncating altogether.\n   *\n   * This is especially userful when doing assertions on arrays: having this\n   * set to a reasonable large value makes the failure messages readily\n   * inspectable.\n   *\n   *     chai.config.truncateThreshold = 0;  // disable truncating\n   *\n   * @param {Number}\n   * @api public\n   */\n\n  truncateThreshold: 40,\n\n  /**\n   * ### config.useProxy\n   *\n   * User configurable property, defines if chai will use a Proxy to throw\n   * an error when a non-existent property is read, which protects users\n   * from typos when using property-based assertions.\n   *\n   * Set it to false if you want to disable this feature.\n   *\n   *     chai.config.useProxy = false;  // disable use of Proxy\n   *\n   * This feature is automatically disabled regardless of this config value\n   * in environments that don't support proxies.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  useProxy: true,\n\n  /**\n   * ### config.proxyExcludedKeys\n   *\n   * User configurable property, defines which properties should be ignored\n   * instead of throwing an error if they do not exist on the assertion.\n   * This is only applied if the environment Chai is running in supports proxies and\n   * if the `useProxy` configuration setting is enabled.\n   * By default, `then` and `inspect` will not throw an error if they do not exist on the\n   * assertion object because the `.inspect` property is read by `util.inspect` (for example, when\n   * using `console.log` on the assertion object) and `.then` is necessary for promise type-checking.\n   *\n   *     // By default these keys will not throw an error if they do not exist on the assertion object\n   *     chai.config.proxyExcludedKeys = ['then', 'inspect'];\n   *\n   * @param {Array}\n   * @api public\n   */\n\n  proxyExcludedKeys: ['then', 'catch', 'inspect', 'toJSON']\n};\n","export default function(data, spec){\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    if(typeof(spec) === \"function\") {\n        data.forEach(spec);\n    } else {\n        var result = [],\n            tranfs = {};\n\n        Object.keys(spec).forEach(function(s){\n            if(typeof(spec[s]) == \"function\") {\n                tranfs[s] = function(d) { d[s] = spec[s](d) };\n            } else {\n                tranfs[s] = Function(\"attr\", \"attr.\" + s + \"=\" + spec[s].replace(/@/g, 'attr.').replace(/\\$/g, '$.') + \";\");\n            }\n        });\n\n        data.forEach(function(d){\n            Object.keys(spec).forEach(function(s){\n                tranfs[s](d);\n            });\n        });\n    }\n\n    return data;\n}\n","var array = {};\nfunction _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if(!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\narray.reduce = function(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\narray.avg = function(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\narray.normalize = function(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a){\n        return (a - min) / range;\n    });\n}\n\narray.seq = function(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for(var i=start; i<=end; i+=interval)\n        array.push(i);\n\n    return array;\n};\n\n[\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n    array[f] = array.reduce(f);\n});\n\narray.sum = array.reduce(\"+\");\n\narray.scan = array.pfsum = function(a){\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\narray.iscan = function(a) {\n    return array.scan([0].concat(a));\n};\n\narray.diff = function(a, b) {\n    var difference = [];\n    a.forEach(function(d){\n        if (b.indexOf(d)===-1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\narray.intersect = function(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function (e) {\n            if (b.indexOf(e) !== -1) return true;\n    });\n};\n\narray.unique = function(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\narray.lcm = function(A) {\n    var n = A.length, a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]), c = a;\n        while (a && b){ (a > b) ? a %= b : b %= a; }\n        a = Math.abs(c*A[i])/(a+b);\n    }\n    return a;\n};\n\narray.stats = function(array){\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\narray.histogram = function(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin+1).fill(0);\n\n    for(var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b/(numBin)), min + range*(b+1)/(numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin-1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0,numBin),\n        // ids: ids\n    };\n}\n\narray.var = function(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a){ return Math.pow(a-m, 2) });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\narray.std = function(rowArray) {\n    return Math.sqrt(array.var(rowArray));\n}\n\nexport default array;\n","import ArrayOpts from './arrays';\n\nexport default function(data, spec, headers){\n    var i,\n        l = data.length,\n        attributes = headers || Object.keys(data[0]),\n        bin,\n        bins = [],\n        binCollection = {},\n        result = [],\n        ks;\n\n    if(!spec.hasOwnProperty('$group') && !spec.hasOwnProperty('$bin')) return result;\n\n    if(typeof spec.$bin == 'object') {\n        var binAttr = Object.keys(spec.$bin)[0],\n            binCount = spec.$bin[binAttr];\n\n        if(attributes.indexOf(binAttr) !== -1) {\n            var column = data.map(function(d){return d[binAttr]}),\n                min = ArrayOpts.min(column),\n                max = ArrayOpts.max(column),\n                binInterval = (max - min) / binCount;\n\n            for(i = 0; i < l; i++){\n                data[i]['bin@' + binAttr] = Math.min(Math.floor(data[i][binAttr]/binInterval), binCount-1);\n            }\n\n            spec.$group = 'bin@' + binAttr;\n            attributes.push('bin@' + binAttr);\n        }\n    }\n\n    for(i = 0; i < l; i++){\n        if(Array.isArray(spec.$group)) {\n            ks = [];\n            spec.$group.forEach(function(si){\n                ks.push(data[i][si]);\n            });\n            bin = JSON.stringify(ks);\n        } else {\n            bin = data[i][spec.$group];\n        }\n        if( bins.indexOf(bin) < 0 ){\n            bins.push(bin);\n            binCollection[bin] = [data[i]];\n        } else {\n            binCollection[bin].push(data[i]);\n        }\n    }\n\n    var bl = bins.length;\n\n    for(i = 0; i < bl; i++){\n        var res = {};\n        if(Array.isArray(spec.$group)) {\n            ks = JSON.parse(bins[i]);\n            spec.$group.forEach(function(s, j){\n                res[s] = ks[j];\n            })\n\n        } else {\n            res[spec.$group] = bins[i];\n        }\n\n        if(spec.$data) {\n            res.data = binCollection[bins[i]];\n        }\n\n        if(spec.$group) {\n            var gkeys = Array.isArray(spec.$group) ? spec.$group : [spec.$group];\n\n            gkeys.forEach(function(gk){\n                if(attributes.indexOf(gk) === -1) {\n                    throw Error('Invalid attribute name: ', gk);\n                }\n            })\n        }\n\n        var out = spec.$collect || spec.$reduce || [];\n        var keys = Object.keys(out);\n        if(keys.length === 0 && !spec.$data) return result;\n        keys.forEach(function(key){\n            var attr = key,\n                opt = out[key];\n\n            if(opt === \"$count\" || opt === \"$data\") {\n                attr = key;\n            }\n            if(typeof out[key] === 'object'){\n                opt = Object.keys(out[key])[0];\n                attr = out[key][opt];\n\n                if(attributes.indexOf(attr) === -1 && attr !== \"*\" && !Array.isArray(attr)) {\n                    var warnMsg = \"No matching attribute or operation defined for the new attribute \" + key + \":\" + spec[key];\n                    console.warn(warnMsg);\n                    return;\n                }\n            }\n\n            if(typeof opt === \"function\") {\n                // res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; }).reduce(opt);\n                res[key] = opt.call(null, binCollection[bins[i]].map(function(a){ return a[attr]; }));\n            } else if(typeof opt === \"string\") {\n                if(opt === \"$unique\") {\n                    res[key] = ArrayOpts.unique(binCollection[bins[i]].map(function(a){ return a[key]; }));\n                } else if (opt === \"$list\") {\n                    res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; });\n                } else if (opt === \"$first\") {\n                    res[key] = binCollection[bins[i]][0][attr];\n                } else if (opt === \"$merge\") {\n                    var mergedResult = [];\n                    binCollection[bins[i]].map(function(a){ return a[attr]; }).forEach(function(m){\n                        mergedResult = mergedResult.concat(m);\n                    })\n                    res[key] = mergedResult;\n                } else if (opt === \"$count\") {\n                    res[key] = binCollection[bins[i]].length;\n                } else if (opt === \"$data\") {\n                    var collect = (spec.$collect) ? '$collect' : '$reduce';\n                    res[key] = (spec[collect][key][opt] == '*')\n                        ? binCollection[bins[i]]\n                        : binCollection[bins[i]].map(function(data){\n                            var row = {};\n                            spec[key][opt].forEach(function(k){ row[k] = data[k] });\n                            return row;\n                        });\n                } else {\n                    var fname = opt.slice(1);\n\n                    if(fname in ArrayOpts) {\n                        res[key] = ArrayOpts[fname].call(null, binCollection[bins[i]].map(function(a){\n                            return a[attr];\n                        }));\n                    }\n                }\n            }\n        });\n        result.push(res);\n    }\n\n    return result;\n};\n","export default function match(data, spec) {\n    var indexes = data[0];\n\n    if(!Array.isArray(indexes)) indexes = [];\n\n    return data.filter(function(a){\n        if(_match(a, spec, indexes)) return a;\n    });\n};\n\nfunction _match(obj, spec, indexes){\n    var match,\n        opt,\n        index,\n        sat = true,\n        keys = Object.keys(spec);\n\n    keys.forEach(function(key){\n        if(key === \"$not\") {\n            match = !_match(obj, spec[key], indexes);\n        } else if(key == \"$or\" || key == \"$and\" ) {\n            match = (key == \"$and\");\n            spec[key].forEach(function(s){\n                match = (key == \"$and\") ? match & _match(obj, s, indexes) : match | _match(obj, s, indexes);\n            });\n        } else {\n            index = (indexes.length > 0) ? indexes.indexOf(key) : key;\n\n            if(typeof spec[key] === 'object'){\n                opt = Object.keys(spec[key])[0];\n\n                if(opt[0] == \"$\" && spec[key][opt] instanceof Array){\n                    if(opt == \"$in\" || opt == \"$nin\"){\n                        match = ((opt == \"$nin\") ^ (spec[key][opt].indexOf(obj[index]) > -1));\n                    } else if(opt == \"$inRange\"){\n                        match =(obj[key] >= spec[key][opt][0] & obj[index] <= spec[key][opt][1]);\n                    } else if(opt == \"$ninRange\"){\n                        match =(obj[key] < spec[key][opt][0] | obj[index] > spec[key][opt][1]);\n                    } else if(opt == \"$inDate\"){\n                        match = (spec[key][opt].map(Number).indexOf(+(obj[index])) > -1);\n                    }\n                } else if(spec[key] instanceof Array) {\n                    match =(obj[key] >= spec[key][0] & obj[index] <= spec[key][1]);\n                }\n            } else {\n                if(spec[key][0] === \"$\") {\n                    match = (obj[spec[key].slice(1)] === obj[index]);\n                } else {\n                    match = (spec[key] == obj[index]);\n                }\n            }\n        }\n        sat = sat & match;\n    });\n\n    return sat;\n}\n","import arrayOpts from './arrays.js';\nimport aggregate from './aggregate.js';\nimport match from './match.js';\n\nvar query = {};\nquery.match = match;\nquery.group = aggregate;\n\nquery.indexBy = function(data, id){\n    var indexed = {};\n    data.forEach(function(d){\n        if(!indexed.hasOwnProperty(d[id])){\n            indexed[d[id]] = [ d ];\n        } else {\n            indexed[d[id]].push(d);\n        }\n        delete d[id];\n    });\n    return indexed;\n};\n\n// query.list = function(data, id) {\n//     return data.map(function(d){return d[id];});\n// }\n\nquery.range = function(data, id) {\n    var array = data.map(function(d){return d[id];});\n    return [ arrayOpts.min(array), arrayOpts.max(array) ];\n};\n\nquery.map = function(data, m) {\n    var mf = function(d){return d};\n    if(typeof m === \"string\")\n        mf = function(d){return d[m]};\n    else if(typeof m === \"function\")\n        mf = m;\n\n    return data.map(mf);\n};\n\n// Object.keys(arrayOpts).forEach(function(opt) {\n//     query[opt] = function(data, id) {\n//         var arr = query.map(data, id);\n//         return arrayOpts[opt](arr);\n//     }\n// });\n\n\n\nquery.sortBy = function(data, spec) {\n    function sortArray(a, b, p) {\n        return a[p] > b[p] ? 1 : a[p] < b[p] ? -1 : 0;\n    }\n    return data.sort(function(a, b){\n        var r = 0,\n            i = 0,\n            attributes = Object.keys(spec),\n            al = attributes.length;\n\n        while( r === 0 && i < al ) {\n            r = sortArray(a, b, attributes[i]) * spec[attributes[i]];\n            i++;\n        }\n        return r;\n    })\n};\n\nquery.orderBy = function(c, s, o) {\n    var spec = {};\n    s.forEach(function(ss){\n        spec[ss] = o;\n    });\n    return query.sort(c, spec);\n};\n\nquery.histogram = function(data, spec, max, min) {\n    var result = {};\n    for(var key in spec) {\n        result[key] = arrayOpts.histogram(data.map(function(d){return d[key]}), spec[key], max, min);\n    }\n    return result;\n};\n\nquery.binAggregate = function(data, spec) {\n    var attrKey = Object.keys(spec)[0],\n        attributes = Object.keys(spec).filter(function(k) { return k != \"$data\" && k!=attrKey;}) || [],\n        embedData = spec.$data || false,\n        numBin = spec[attrKey],\n        array = data.map(function(d){ return d[attrKey]; }),\n        l = array.length,\n        min = arrayOpts.min(array),\n        max = arrayOpts.max(array),\n        range = max - min,\n        interval = range / numBin,\n        bins = [];\n\n\n    for(var b = 0; b < numBin; b++) {\n        bins[b] = {binID: b, rangeBegin: min + range * (b/(numBin)), rangeEnd: min + range*(b+1)/(numBin), count: 0};\n        // if(embedData)\n            bins[b].data = [];\n        // attributes.forEach(function(attr){\n        //     bins[b][attr] = 0;\n        // })\n    }\n\n    // bins[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        if(binID == numBin) binID--;\n        data[i].binID = binID;\n        // if(embedData)\n            bins[binID].data.push(data[i]);\n        // bins[binID].count++;\n        // attributes.forEach(function(attr){\n        //     bins[binID][attr] += data[i][attr];\n        // });\n    }\n\n    spec.$by = \"binID\";\n    delete spec[attrKey];\n\n    var result = query.group(data, spec);\n    result = query.indexBy(result, \"binID\");\n\n\n    // result.forEach(function(r){\n    //     r.rangeBegin = bins[r.binID].rangeBegin;\n    //     r.rangeEnd = bins[r.binID].rangeEnd;\n    // })\n\n    bins.forEach(function(bin){\n\n        if(result.hasOwnProperty(bin.binID)) {\n            attributes.forEach(function(attr){\n                bin[attr] = result[bin.binID][0][attr];\n            });\n            if(embedData) bin.data = result[bin.binID][0].data;\n        } else {\n            attributes.forEach(function(attr){\n                bin[attr] = 0;\n            });\n        }\n\n    })\n    // console.log(bins);\n    // return result;\n    return bins;\n}\n\nquery.partition = function(data, numPart) {\n    var len = data.length,\n        p = Math.ceil(len / numPart),\n        pid,\n        partitions = [];\n\n    for(var b = 0; b < numPart; b++) {\n        partitions[b] = {partition: b, data: [], count: 0};\n    }\n\n    for(var i = 0; i < len; i++) {\n        pid = Math.floor(i / p);\n        partitions[pid].data.push(data[i]);\n        partitions[pid].count++;\n    }\n\n    return partitions;\n}\n\nquery.partitionBy = function(data, spec) {\n    var len = data.length,\n        pid,\n        partitions = [],\n        key = Object.keys(spec)[0],\n        parts = spec[key];\n\n    parts.forEach(function(b, bi) {\n        partitions[bi] = {partition: bi, data: [], count: 0, name: b};\n    })\n\n    for(var i = 0; i < len; i++) {\n        pid = parts.indexOf(data[i][key]);\n        if(pid>-1){\n            partitions[pid].data.push(data[i]);\n            partitions[pid].count++;\n        }\n    }\n    return partitions;\n}\n\nquery.normalize = function(data, fields) {\n    var hash = {};\n\n    fields.forEach(function(f){\n        var array = data.map(function(d){ return d[f]; });\n        hash[f] = arrayOpts.normalize(array);\n    });\n\n    data.forEach(function(d, i){\n        fields.forEach(function(f){\n            d[f] = hash[f][i];\n        });\n    });\n\n    return data;\n}\n\nquery.toColumnArray = function(data) {\n    var columnArray = [];\n        attributes = Object.keys(data[0]).filter(function(k) { return k; });\n\n    attributes.forEach(function(attr){\n        columnArray.push(data.map(function(d){return d[attr];}));\n    });\n\n    columnArray.fields = attributes;\n\n    attributes.forEach(function(attr, ai){\n        columnArray[attr] = columnArray[ai];\n    });\n\n    return columnArray;\n}\n\nexport default query;\n","import array from './ops/arrays';\n\nfunction stats(data, fields){\n\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = {\n            min: array.min(a),\n            max: array.max(a),\n            avg: array.avg(a),\n            std: array.std(a)\n        };\n    });\n\n    return result;\n};\n\n\nstats.domains = function(data, fields) {\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = [ array.min(a), array.max(a) ];\n    });\n\n    return result;\n}\n\nexport default stats;\n","function vectorAdd(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nfunction vectorSum(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result = vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nfunction vectorAvg(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result =  _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n\nexport default {\n    add: vectorAdd,\n    sum: vectorSum,\n    avg: vectorAvg\n}","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import {scaleLinear, scaleOrdinal} from 'd3-scale';\nimport {select} from 'd3-selection';\nimport {interpolateHcl} from 'd3-interpolate';\nimport {axisLeft, axisBottom} from 'd3-axis';\n\nlet Data = {\n    json: [],\n    domains: {},\n    vmap: {}\n}\n\nlet View = {\n    container: null,\n    svg: null,\n    height: 300,\n    width: 400,\n    axes: true\n}\n\nexport default class Plot {\n    constructor(data = Data, view = View) {\n        this.data = data;\n        this.view = view;\n        this.container = view.container;\n        this.padding = view.padding || {top: 0, bottom: 0, left: 0, right: 0};\n        this.height = view.height;\n        this.width = view.width;\n        this.svg = {};\n        this.domains = data.domains || {};\n\n        if(!view.svg || view.svg === null) {\n            if(view.container !== null) {\n                this.svg = this.createSvg();\n            }\n            this.height -= this.padding.top + this.padding.bottom;\n            this.width -= this.padding.left + this.padding.right;\n            this.svg.main = this.svg.append('g')\n                .attr(\"transform\", `translate(${this.padding.left}, ${this.padding.top})`);\n    \n        } else {\n            this.svg.main = select(view.svg);\n        }\n        \n        if(this.data.json) {\n            this.scales = this.getScales();\n        }\n    }\n\n    createSvg() {\n        let svg = select(this.container)\n            .append('svg')\n                .attr('width', this.width)\n                .attr('height', this.height);\n        return svg;\n    }\n\n    channels() {\n        return {\n            x: [0, this.width],\n            y: [this.height, 0],\n            color: ['steelblue', 'red'],\n            opacity: [0, 1],\n            size: [2, 20],\n            width: [0, this.width],\n            height: [0, this.height]\n        }\n    }\n\n    getScales() {\n        let scales = {};\n        let channels = this.channels();\n        let vmap = this.data.vmap;\n\n        let fields = this.data.fields || null;\n        if(fields === null && this.data.json) {\n            this.data.fields = Object.keys(this.data.json[0]);\n            fields = Object.keys(this.data.json[0]);\n        }\n        \n        for (let channel of Object.keys(channels)) {\n            if(channel in vmap && fields.indexOf(vmap[channel]) !== -1) {\n                let domain; \n                if(!this.domains.hasOwnProperty(vmap[channel])) {\n                    let value = this.data.json.map(d=>d[vmap[channel]]);\n                    let min = Math.min(...value) || 0;\n                    let max = Math.max(...value) || 0;\n                   \n                    if(max === min) {\n                        max += 1e-6;\n                    }\n                    domain = [min, max];\n                    this.domains[vmap[channel]] = domain;\n                } else {\n                    domain = this.domains[vmap[channel]] || [0, 1];\n                }\n                let range = channels[channel];\n                if( (this.data.schema && this.data.schema[vmap[channel] === 'string']) || domain.length > 2) {\n                    scales[channel] = scaleOrdinal().domain(domain).range(range);\n                } else {\n                    scales[channel] = scaleLinear().domain(domain).range(range);\n                }\n                if(channel == 'color') {\n                    scales[channel].interpolate(interpolateHcl);\n                }\n            } else {\n                scales[channel] = () => vmap[channel];\n            }\n        }\n\n        return scales;\n    }\n\n    axes() {\n        if(!this.view.hideAxes) {\n            this.xAxis = this.svg.main.append('g')\n                .attr(\"transform\", `translate(0, ${this.height})`)\n                .call(axisBottom(this.scales.x).tickSizeOuter(0))\n            \n            this.yAxis = this.svg.main.append('g')\n                .call(axisLeft(this.scales.y).ticks(this.height/20));\n\n            if(this.view.gridlines && this.view.gridlines.y) {\n                this.yGridlines = this.yAxis.append('g')\n                .style('opacity', 0.3)\n                .call(axisLeft(this.scales.y).ticks(this.height/30).tickSize(-this.width))\n                .selectAll('text').remove();\n            }\n\n            this.AxisLabels = this.svg.main.append('g')\n\n            this.AxisLabels.append(\"text\")\n              .attr(\"x\", this.width / 2)\n              .attr(\"y\", this.height + this.padding.bottom / 2 )\n              .attr(\"dy\", \"1em\")\n              .style(\"text-anchor\", \"middle\")\n              .text(this.data.vmap.x);\n        \n            this.AxisLabels.append(\"text\")\n              .attr(\"transform\", \"rotate(-90)\")\n              .attr(\"y\", -this.padding.left / 1.25 )\n              .attr(\"x\", -this.height / 2 - this.padding.top )\n              .attr(\"dy\", \"1em\")\n              .text(this.data.vmap.y);\n        }\n    }\n\n    render() {\n        this.axes();\n    }\n}","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder.js\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder.js\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder.js\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default function(x) {\n  return x;\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy) {\n  function transform(x, y) {\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k, (dy - y) / k];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [ai * x - bi * y + ci, fi - bi * x - ai * y];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, // clip extent\n      postclip = identity,\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n    },\n    postclip: function(_) {\n      return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    },\n    fitWidth: function(width, object) {\n      return fitWidth(projection, width, object);\n    },\n    fitHeight: function(height, object) {\n      return fitHeight(projection, height, object);\n    }\n  };\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import pipeline   from './src/pipeline';\nimport allocate   from './src/allocate';\nimport arrays     from './src/ops/arrays';\nimport aggregate  from './src/ops/aggregate';\nimport derive     from './src/ops/derive';\nimport match      from './src/ops/match';\nimport join       from './src/join';\nimport stats      from './src/stats';\nimport embed      from './src/embed';\nimport toArray    from './src/toarray';\nimport vector     from './src/vector';\n\nimport Plot         from './src/vis/plot';\nimport AreaChart    from './src/vis/area';\nimport Spline       from './src/vis/spline';\nimport ScatterPlot  from './src/vis/circle';\nimport BarChart     from './src/vis/bar';\nimport GeoMap       from './src/vis/map';\n\nexport default {\n    pipeline,\n    allocate,\n    arrays,\n    aggregate,\n    derive,\n    match,\n    join,\n    stats,\n    embed,\n    toArray,\n    vector,\n};\n\nexport const vis = {\n    Plot,\n    ScatterPlot,\n    BarChart,\n    AreaChart,\n    Spline,\n    GeoMap\n}\n","import derive from './ops/derive';\nimport queries from './ops/query';\nimport aggregate from './ops/aggregate';\nimport match from './ops/match';\n\nexport default function pipeline (data){\n    var queue = [],\n        cache = {},\n        opt = {},\n        workers = [],\n        completed = 0,\n        result = [],\n        callback = function() {};\n\n    if(Array.isArray(data)) {\n        result = data;\n    }\n\n    opt.derive = derive;\n    opt.match = match;\n    opt.aggregate = aggregate;\n\n    Object.keys(queries).forEach(function(f) {\n        opt[f] = queries[f];\n    });\n\n    opt.cache = function(data, tag){\n        cache[tag] = pipeline.result();\n    };\n\n    opt.map = function(f){\n        result = data.map(f);\n        return pipeline;\n    };\n\n    var merge = {\n        aggregate: function (lastJob) {\n            var mergeSpec = {};\n            for(var key in lastJob.aggregate) {\n                var optSpec = lastJob.aggregate[key];\n                if(typeof optSpec == 'object')\n                    mergeSpec[key] = Object.keys(optSpec)[0];\n                else\n                    mergeSpec[key] = optSpec;\n            }\n            return opt.aggregate(finalResult, mergeSpec);\n        }\n    }\n\n    var finalResult = [];\n\n    function mergeResult(workerResult) {\n        var rl = finalResult.length,\n            wl = workerResult.length;\n        for(var i = 0; i < wl; i++) {\n            finalResult[rl+i] = workerResult[i];\n        }\n        completed += 1;\n\n        if(completed == workers.length) {\n            var lastJob = queue[queue.length-1],\n                lastJobOpt = Object.keys(lastJob)[0];\n            if( lastJobOpt == 'aggregate') {\n                finalResult = merge.aggregate(lastJob);\n            }\n            callback(finalResult);\n        }\n    }\n\n    var pipeline = {};\n\n    // pipeline.opt = opt;\n    Object.keys(opt).forEach(function(o){\n        pipeline[o] = function(spec) {\n            var task = {};\n            task[o] = spec;\n            queue.push(task);\n            return pipeline;\n        };\n    })\n\n    pipeline.then = function(_callback) {\n        callback = _callback;\n        queue.forEach(function(q){\n            var f = Object.keys(q)[0];\n            result = opt[f](result, q[f]);\n        });\n        return result;\n    }\n\n    pipeline.execute = function(data) {\n        if(Array.isArray(data)) result = data;\n        queue.forEach(function(q){\n            var f = Object.keys(q)[0];\n            result = opt[f](result, q[f]);\n        });\n        return result;\n    }\n\n    pipeline.oncomplete = pipeline.then;\n\n    pipeline.result = function() {\n        return result;\n    };\n\n    pipeline.data = function(data) {\n        result = data;\n        return pipeline\n    }\n\n    pipeline.queue = function() {\n        return queue;\n    }\n\n    pipeline.runSpec = function(specs) {\n        specs.forEach(function(spec){\n            let opt = Object.keys(spec)[0];\n            pipeline[opt.replace('$', '')](spec[opt])\n        })\n        return pipeline.execute();\n    }\n\n    return pipeline;\n}\n","/**\n * alloc(options) - allocating memory for storing data values in different schemaures.\n * @exports allocate\n * @param {Object} options - Options for allocating memory.\n * @param {Array} options.array - Array containing the data values.\n * @param {Array} options.fields - Fields in the data.\n * @param {number} [options.skip=0] - Number of rows to be skiped in data.\n * @param {object[]} [options.data] - default data\n *\n */\nexport default function allocate(options) {\n    'use strict';\n    var array = options.array || [],\n        header = options.fields || options.header || array[0],\n        types = options.types || [],\n        schema = options.schema || undefined,\n        skip = options.skip || 0,\n        data = options.data || [];\n\n    var ds = {},\n        parsers = [];\n\n    if (types.length && typeof(types) == 'string') {\n        var ta = [];\n        for (var i = 0; i < header.length; i++) {\n            ta.push(types);\n        }\n        types = ta;\n    }\n\n    if (typeof schema == 'object') {\n        header = Object.keys(schema);\n        types = Object.keys(schema).map(function(h) {\n            return schema[h];\n        });\n    }\n\n    if (typeof skip == 'number') {\n        for (var j = 0; j < skip; j++)\n            array.shift();\n    }\n\n    types.forEach(function(t) {\n        parsers.push(getParser(t));\n    })\n\n    function getParser(type) {\n        if (type == 'int' || type.match('veci*')) {\n            return function(value) {\n                var res = parseInt(value);\n                return (isNaN(res)) ? 0 : res;\n            };\n        } else if (type == 'float' || type.match('vecf*')) {\n            return function(value) {\n                var res = parseFloat(value);\n                return (isNaN(res)) ? 0 : res;\n            };\n        } else if (['date', 'time', 'datetime'].indexOf(type) != -1) {\n            return function(value) {\n                return new Date(value);\n            };\n        } else if (['money', 'price', 'cost'].indexOf(type) != -1) {\n            return function(value) {\n                return parseFloat(value.substring(1));\n            };\n        } else {\n            return function(value) {\n                return value;\n            };\n        }\n    }\n\n    ds.insertRows = function(rows) {\n        array = array.concat(rows);\n    }\n    \n    /**\n    * @method objectArray\n    * @return {Object[]} - Return data as array of objects\n    */\n    ds.objectArray = function() {\n        if (typeof(header) !== 'undefined' && header.length) {\n            var l = header.length;\n            array.forEach(function(a) {\n                var o = {},\n                    offset = 0;\n                for (var i = 0; i < l; i++) {\n                    var k = header[i];\n                    if (k.length) {\n                        if (types[i].match(/^(veci|vecf)\\d+$/)) {\n                            var vl = parseInt(types[i].slice(4)),\n                                vector = [];\n                            a.slice(offset, offset + vl).forEach(function(vi) {\n                                vector.push(parsers[i](vi));\n                            });\n                            o[k] = vector;\n                            offset += vl;\n                        } else {\n                            o[k] = parsers[i](a[offset]);\n                            offset++;\n                        }\n                    }\n                }\n                data.push(o);\n            });\n        }\n        return data;\n    }\n\n    /**\n    * @method rowArray\n    * @return {Array[]} - data as row arrays\n    */\n    ds.rowArray = function() {\n        array.forEach(function(a) {\n            var row = [];\n            header.forEach(function(k, i) {\n                if (k.length) {\n                    row.push(parsers[i](a[i]));\n                }\n            });\n            data.push(row);\n        });\n        data.fields = header;\n        data.schema = 'rowArray';\n        return data;\n    }\n\n    /**\n    * @method collumArray\n    * @return {Array[]} - data as column arrays\n    */\n    ds.columnArray = function() {\n        header.forEach(function(k, i) {\n            var column = array.map(function(a) {\n                return parsers[i](a[i]);\n            });\n            data.push(column);\n        });\n        data.fields = header;\n        data.schema = 'columnArray';\n        return data;\n    }\n    //TODO: make columnArray extensible like rowArray and objectArray\n\n    return ds;\n};\n","export default function join(dataLeft, dataRight) {\n    var len = dataLeft.length,\n        keyL = Object.keys(dataLeft[0]),\n        keyR = Object.keys(dataRight[0]);\n        \n    var keys = keyR.filter(function(kr){ return (keyL.indexOf(kr) === -1);});\n\n    keys.forEach(function(k){\n        for(var i = 0; i < len; i++) {\n            dataLeft[i][k] = dataRight[i][k];    \n        }\n    });\n\n    return dataLeft;\n}\n","export default function embed(spec) {\n    var id = spec.$id || spec.$by,\n        attributes = Object.keys(spec);\n\n    if(!id) throw Error(\"No id specified for embed!\");\n\n    attributes.filter(function(attr){\n        return (attr != \"$by\" && attr != \"$id\")\n    })\n    .forEach(function(attr){\n        var embedKey = spec[attr][0][id],\n            i = 0,\n            n = data.length,\n            l = spec[attr].length;\n\n        var lookup = data.map(function(d){ d[attr] = []; return d[id];});\n\n        for(i = 0; i < l; i++) {\n            var index = lookup.indexOf(spec[attr][i][id]);\n            if(index !== -1) {\n                data[index][attr].push(spec[attr][i]);\n            }\n            // delete spec[attr][i][id];\n        }\n    });\n    return data;\n}\n","export default function toArray(data, arg){\n    var options = arg || {},\n        fields = options.fields || Object.keys(data[0]) || [],\n        format = options.format || 'row';\n\n    if(format == 'row') {\n        return data.map(function(d){\n            var row = new Array(fields.length);\n            fields.forEach(function(f, i){\n                row[i] = d[f];\n            });\n            return row;\n        });\n    } else {\n        return fields.map(function(f){\n            return data.map(function(d){ return d[f]; })\n        })\n    }\n}\n","import Plot from './plot';\n\nexport default class ScatterPlot extends Plot {\n   \n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n\n        super.axes();\n\n        this.svg.main.selectAll('.plot-circles')\n            .data(this.data.json)\n            .enter()\n            .append('circle')\n                .attr('class', 'plot-circles')\n                .attr('cx', d => this.scales.x(d[vmap.x]))\n                .attr('cy', d => this.scales.y(d[vmap.y]))\n                .attr('r', d => this.scales.size(d[vmap.size]))\n                .style(\"fill\", d => this.scales.color(d[vmap.color]))\n                .style(\"fill-opacity\", 1)\n                .style(\"stroke-width\", 0)\n    }\n}","import Plot from './plot';\nimport {scaleBand} from 'd3-scale';\nexport default class BarChart extends Plot {\n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        let domainX;\n        if (this.domains[vmap.x].length > 2) {\n            domainX = this.domains[vmap.x];\n        } else {\n            domainX = new Array(this.domains[vmap.x][1] - this.domains[vmap.x][0] + 1).fill(1).map((d, i) => i + this.domains[vmap.x][0]);\n        }\n        this.scales.x = scaleBand().domain(domainX).range([0, this.width]).padding(0.05);\n        super.axes();\n        this.svg.main.selectAll(\".plot-bars\")\n            .data(this.data.json)\n          .enter().append(\"rect\")\n            .attr('class', 'plot-bars')\n            .attr('x', d => this.scales.x(d[vmap.x || vmap.width]))\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", d => this.scales.color(d[vmap.color]))\n            .attr(\"width\", this.scales.x.bandwidth())\n            .attr(\"height\", d => this.height - this.scales.y(d[vmap.y || vmap.height]));\n    }\n\n    update (newData, newColor) {\n        // debugger\n        let vmap = this.data.vmap;\n\n        let bars = this.svg.main.selectAll(\".plot-top-bars\")\n            .data(newData, d => d[vmap.x]);\n        \n        bars.exit().remove();\n\n        bars.enter().append(\"rect\")\n            .attr('class', 'plot-top-bars');\n\n        bars.attr('x', d => this.scales.x(d[vmap.x || vmap.width]))\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", newColor)\n            .attr(\"width\", this.scales.x.bandwidth())\n            .attr(\"height\", d => this.height - this.scales.y(d[vmap.y || vmap.height]));\n\n    }\n}","import Plot from './plot';\nimport {area, curveBasis} from 'd3-shape';\n\nexport default class AreaChart extends Plot {\n   \n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        super.axes();\n        let shape = area()\n            .curve(curveBasis)\n            .x(d => this.scales.x(d[vmap.x]))\n            .y0(this.height)\n            .y1(d => this.scales.y(d[vmap.y]));\n\n        this.svg.main.append(\"path\")\n            .datum(this.data.json)\n            .attr(\"d\", shape)\n            .style(\"fill\", vmap.color)\n            .style(\"fill-opacity\", vmap.opacity)\n            .style(\"stroke-width\", 0)\n    }\n}","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import Plot from './plot';\nimport {line, curveBasis} from 'd3-shape';\nimport {scaleOrdinal} from 'd3-scale';\nimport {schemeCategory10} from 'd3-scale-chromatic';\n\nexport default class Spline extends Plot {\n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        super.axes();\n        let path = line()\n            .curve(curveBasis)\n            .x( d => this.scales.x(d[vmap.x]) )\n            .y( d => this.scales.y(d[vmap.y]) );\n    \n\n        let datum = this.data.json;\n        let color = () => vmap.color;\n       \n        let series =  vmap.by || vmap.color;\n        if(this.data.fields.indexOf(series) !== -1) {\n            let result = {}\n            this.data.json.forEach(function(d){\n                if(result.hasOwnProperty(d[series])) {\n                    result[d[series]].push(d)\n                } else {\n                    result[d[series]] = [];\n                }\n            })\n            datum = result;\n            if(this.data.fields.indexOf(vmap.color) !== -1) {\n                color = scaleOrdinal(schemeCategory10);\n            }\n        }\n\n        if(Array.isArray(datum)) {\n            this.svg.main.append(\"path\")\n            .datum(datum)\n            .attr(\"d\", path)\n            .style(\"fill\", 'none')\n            .style(\"stroke\", vmap.color)\n            .style(\"stroke-width\", vmap.size)\n        } else if(typeof(datum) == 'object') {\n            let series = Object.keys(datum);\n            series .forEach((sample, di) => {\n                this.svg.main.append(\"path\")\n                .datum(datum[sample])\n                .attr(\"d\", path)\n                .style(\"fill\", 'none')\n                .style(\"stroke\", color(sample))\n                .style(\"stroke-width\", vmap.size)\n            \n                if (this.data.fields.indexOf(vmap.color) !== -1) {\n                    let legendWidth = Math.min(15, this.padding.right/2);\n                    let legendPosY = (di + 1) * Math.min(30, this.width / series.length);\n                    this.svg.main.append('rect')\n                        .attr('x', this.width + 10)\n                        .attr('y', legendPosY)\n                        .attr('width', legendWidth)\n                        .attr('height', 6)\n                        .style('fill', color(sample))\n                    \n                    this.svg.main.append('text')\n                        .attr('x', this.width + 15 + legendWidth)\n                        .attr('y', legendPosY + 6)\n                        .text(sample)\n    \n                    if(di == 0){\n                        this.svg.main.append('text')\n                            .attr('x', this.width + 10 + legendWidth/2)\n                            .attr('y', 6)\n                            .text(vmap.color)\n                    }\n                }\n            })\n\n\n        }\n\n    }\n}\n","import Plot from './plot';\nimport * as d3 from 'd3-geo';\nimport * as topojson from 'topojson-client';\nimport {interpolateBlues} from 'd3-scale-chromatic';\nimport {scalePow} from 'd3-scale';\nimport world from \"../../assets/world-110m.json\";\nimport countries from '../../assets/countries.json';\n\nexport default class Map extends Plot {\n    constructor(data, view) {\n        super(data, view);\n\n        this.feature = data.feature || 'countries';\n        this.circle = data.vmap.points;\n        this.scale = data.vmap.scale;\n        this.gis = data.gis || world;\n\n        this.borders = view.borders || true;\n        this.translate = view.translate || [this.width / 2, this.height / 1.5];\n        this.scale = view.scale || ((view.projection == 'Albers') ? 1 : 150);\n        this.exponent = view.exponent || 1/3;\n        this.defaultColor = view.defaultColor || '#eee';\n        this.projection = d3['geo'+ (view.projection || 'Albers')].call()\n            .scale(this.scale)\n            .translate(this.translate);\n\n        this.path = d3.geoPath()\n            .projection(this.projection);\n\n        if(data.vmap.color) {\n            let valueById = {};\n            data.json.forEach( d => {\n                let country = countries.filter(c => c[data.join.type || 'code']== d[data.join.field])[0] || -1;\n                if(country && country.id){\n                    valueById[country.id] = typeof(d[data.vmap.color]) === 'string' && d[data.vmap.color].includes(',')\n                      ? Number(d[data.vmap.color].replace(/,/g, ''))\n                      : Number(d[data.vmap.color])\n                }\n            })\n            let values = Object.keys(valueById).map(k => valueById[k]).filter(d=>!Number.isNaN(d));\n\n            let domain = [Math.min(...values), Math.max(...values)]\n            if (data.zero) domain[0] = 0\n            let colorScale = scalePow().exponent(this.exponent).domain(domain).range([0.1, 1]);\n            this.setColor = (d) => {\n                if(valueById[d.id] !== undefined) {\n                    return interpolateBlues(colorScale(valueById[d.id]))\n                } else {\n                    return this.defaultColor\n                }\n                \n            }\n            if(view.color && typeof(view.color.setter) === 'function') {\n                this.setColor = (d) => {\n                    return this.color.setter(colorScale(valueById[d.id] || 0))\n                }\n            }\n        }\n    }\n\n    render() { \n        this.svg.main.selectAll(\".geo-paths\")\n            .data(topojson.feature(this.gis, this.gis.objects[this.feature]).features)\n            .enter()\n            .append('path')\n                .attr('class', 'geo-paths')\n                .attr(\"d\", this.path)\n                .attr(\"stroke\", \"white\")\n                .attr(\"fill\", this.setColor);\n            \n        if(this.borders) {\n            this.svg.main.append(\"path\")\n            .attr('class', 'geo-borders')\n            .datum(topojson.mesh(this.gis, this.gis.objects[this.feature], function(a, b) { return a !== b; }))\n            .attr(\"d\", this.path)\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"white\");\n        }\n\n        return this;\n    }\n\n    addLayer({type = 'point', radius = 1.0, data, feature}) {\n        if(type == 'point') {\n            this.path.pointRadius(radius);\n            this.svg.main.append(\"path\")\n                .datum(topojson.feature(data, data.objects[feature]))\n                .attr(\"d\", this.path);\n        }\n    }\n\n    addMarker ({\n        coordinate,\n        color = 'orange',\n        icon = 'fa fa-map-marker',\n        title\n    }) {\n        let location = this.projection(coordinate);\n        this.svg.main.append('svg:foreignObject')\n        .attr(\"x\", location[0] - 3)\n        .attr(\"y\", location[1] - 15)\n        .attr('width', 10)\n        .attr('height', 20)\n        .attr('color', color)\n        .attr('text-anchor', 'end')\n        .append(\"xhtml:body\")\n        .html('<i title=\"'+ title + '\" class=\"' + icon + '\"></i>');\n    }\n}","import p4 from './src/main';\nimport cstore from './src/cstore';\nimport  * as ctypes  from './src/ctypes';\nimport * as ajax from './src/io/ajax';\nimport parse from './src/io/parse';\n\nimport Babies from './test/data-babies';\nimport TimeSeries from './test/data-timeseries';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\np4.ajax = ajax;\np4.cstore = cstore;\np4.ctypes = ctypes;\np4.parse = parse;\np4.datasets = {Babies, TimeSeries};\n\nroot.p4 = p4;\nexport default root.p4;\nexport const datasets = {Babies, TimeSeries}\n","\nimport {assert} from 'chai';\nimport {normal} from 'jStat';\nimport cstore from '../src/cstore'\nimport * as ctypes from '../src/ctypes'\n\nlet equal = assert.equal;\nlet closeTo = assert.closeTo;\nlet hasAllKeys = assert.hasAllKeys;\nlet normalDist = normal.sample;\n\nexport function boundedRandom(p) {\n    let min = p.min || 0;\n    let max = p.max || p.values.length || 1;\n    let value = min - 1;\n    let rand = (p.dist == 'normal') \n        ? function() { return normalDist(p.mean, p.std); }\n        : function() { return min + (max - min) * Math.random(); }\n    while ( value < min || value > max) {\n        // value = normalDist(p.mean, p.std);\n        value = rand(p);\n    }\n    if(p.hasOwnProperty('values')){\n        value = parseInt(value) ;\n    }\n    return value;\n}\n\nexport function randomColumns(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let db = cstore({});\n    props.forEach(function(prop) {\n        let dtype = p6.ctypes[prop.dtype] || Uint16Array;\n        let tuples = new dtype(size);\n        for(let i = 0; i < size; i++) {\n            tuples[i] = boundedRandom(prop);\n        }\n        db.addColumn({\n            data: tuples,\n            name: prop.name,\n            dtype: prop.dtype || 'string',\n            values: prop.values\n        });\n    })\n    return db;\n}\n\nexport function randomJSONs(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(size);\n    for(let i = 0; i < size; i++) {\n        data[i] = {};\n        props.forEach(function(prop) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                data[i][prop.name] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                data[i][prop.name] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        });\n    }\n    return data;\n}\n\nexport function randomArrays(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(size);\n    for(let i = 0; i < size; i++) {\n        data[i] = [];\n        props.forEach(function(prop, pi) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                data[i][pi] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                data[i][pi] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        });\n    }\n    return data;\n}\n\nexport function randomTypedColumns(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(props.length);\n\n    props.forEach(function(prop, pi) {\n        let column = new ctypes[prop.dtype](size);\n        for(let i = 0; i < size; i++) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                column[i] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                column[i] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        }\n        data[pi] = column;\n    });\n\n    return data;\n}\n\nexport function validate(actual, expected, _delta) {\n    let delta = _delta || 1e-5;\n    let count = actual.length; \n\n    equal(count, actual.length, 'the size of the result should be ' + count);\n\n    for(let i = 0; i < count; i++) {\n        let keys = Object.keys(actual[i]);\n        hasAllKeys(expected[i], keys, 'result should have all the keys');\n        \n        for(let j = 0, l = keys.length; j < l; j++) {\n            if(typeof(actual[i][keys[j]]) == 'number') {\n                closeTo(actual[i][keys[j]], expected[i][keys[j]], expected[i][keys[j]]*delta);\n            } else {\n                equal(actual[i][keys[j]], expected[i][keys[j]]);\n            }\n        }\n    }\n\n}","let formats = {\n  text: 'text',\n  array: 'array',\n  json: 'json'\n}\n\nexport default class FileLoader {\n\n  constructor({\n    file,\n    skip = 0,\n    chunk = 64 * 1024,\n    delimiter = ','\n  }) {\n    if (typeof (file) === 'undefined') {\n      throw Error('No file provided for FileLoader.')\n    }\n    this.file = file\n    this.fileSize = file.size\n    this.reader = new FileReader()\n    this.skip = skip\n    this.chunk = chunk\n    this.delimiter = delimiter\n    this.reset()\n  }\n\n  static get format() {\n    return formats\n  }\n\n  reset() {\n    this.offset = 0\n    this.lineTotal = 0\n    this.leftOver = ''\n  }\n\n  parseDataSchema(rows) {\n    let delimiter = rows[0].match(/(\\,|\\:|\\t|\\s{2,})/g)[0] || ','\n    let header = rows[0].split(delimiter)\n    let values = rows[1].split(delimiter)\n    let schema = header.map((f, i) => {\n      return {\n        name: f,\n        dtype: Number.isNaN(Number(values[i])) ? 'string' : 'int'\n      }\n    })\n    this.delimiter = delimiter\n    for (let rid = 1; rid < rows.length; rid++) {\n      let values = rows[rid].split(delimiter)\n      for (let fid = 0; fid < header.length; fid++) {\n        let value = values[fid]\n        if (schema[fid].dtype === 'int' && parseInt(value) !== parseFloat(value)) {\n          schema[fid].dtype = 'float'\n        }\n      }\n    }\n    return schema\n  }\n\n  errorHandler(evt) {\n    switch (evt.target.error.code) {\n      case evt.target.error.NOT_FOUND_ERR:\n        throw Error('File Not Found!', evt.target.error)\n\n      case evt.target.error.NOT_READABLE_ERR:\n        throw Error('File is not readable', evt.target.error)\n      case evt.target.error.ABORT_ERR:\n        throw Error('Aborted', evt.target.error)\n      default:\n        throw Error('An error occurred reading this file.', evt.target.error)\n    };\n  }\n\n  getSchema() {\n    this.reader.readAsBinaryString(this.file.slice(0, this.chunk / 16));\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          let schema = this.parseDataSchema(lines.slice(0, 10))\n          console.log('The schema is', schema)\n          resolve(schema)\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt))\n      }\n    })\n  }\n\n  read(format) {\n    this.reader.readAsBinaryString(this.file.slice(this.offset, Math.min(this.file.size, this.offset + this.chunk)));\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          this.leftOver = lines.pop()\n          this.offset += this.chunk\n          let results\n          if (format == FileLoader.format.text) {\n            results = lines\n          } else {\n            results = lines.map((line) => line.split(this.delimiter))\n          }\n          resolve(results)\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt))\n      }\n    })\n  }\n\n  readAll(onprocess) {\n    if (typeof onprocess !== 'function') {\n      throw Error('undefined function specified for reading file content')\n    }\n    this.reader.readAsBinaryString(this.file.slice(this.offset, this.offset + this.chunk))\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          this.leftOver = lines.pop()\n\n          if (this.offset == 0 && this.skip > 0) {\n            if (this.skip > 0) lines.shift()\n          }\n\n          onprocess(lines.map((line) => line.split(this.delimiter)))\n          this.lineTotal += lines.length\n\n          if (this.offset < this.file.size) {\n            this.offset += this.chunk\n            this.reader.readAsBinaryString(this.file.slice(this.offset, this.offset + this.chunk));\n          } else {\n            resolve(this.lineTotal)\n          }\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt));\n      }\n    })\n  }\n}\n","import p4 from 'p4';\nimport p3 from 'p3';\nimport FileLoader from './FileLoader';\nimport Transpiler from './Transpiler';\n\nconst PROGRESS_MODES = ['automatic', 'semi-automatic', 'manual'];\nconst INPUT_METHODS = ['http', 'file', 'websocket'];\nconst OPERATIONS = ['aggregate', 'derive', 'match', 'visualize', 'in', 'out'];\n\npv.cstore = p4.cstore\npv.datasets = p4.datasets\n\nexport default function pv(arg) {\n  let p4x = p4(Object.assign({preserveDrawingBuffer: true}, arg));\n  let pv = {}\n  let dataSchema;\n  let dataSource;\n  let fetchData;\n  let progressStep = 0;\n  let jobs = [];\n  let dataSize = 0;\n  let progressedSize = 0;\n  let inProgress = false;\n  let batchProcessing;\n  let progression;\n  let crossViewProc = [];\n  let inputType = 'array'\n  let profiling = arg.profiling || false\n  let profile = {\n    LoadTime: 0,\n    ProcTime: 0,\n    AccuTime: 0\n  }\n  let strValues = null;\n\n  let onEach = () => {}\n\n  let interactionData = [];\n\n  pv.batchSize = 0;\n  pv.pipeline = p4x;\n  pv.mode = arg.mode || PROGRESS_MODES[2];\n  pv.data = function(arg) {p4x.data(arg); return pv};\n\n  pv.view = function(arg) {p4x.view(arg); return pv};\n\n  pv.runSpec = p4x.runSpec;\n  pv.input = function({\n    method = 'file',\n    type = 'csv',\n    delimiter = ',',\n    source,\n    batchSize,\n    schema\n  }) {\n    dataSchema = schema;\n    pv.batchSize = batchSize;\n    \n    if(method == 'file') {\n      dataSource = new FileLoader({\n        file: source,\n        chunk: batchSize,\n        delimiter\n      })\n      dataSize = source.size;\n      if (dataSchema === undefined) {\n        fetchData = () => {\n          return new Promise( (resolve, reject) => {\n            dataSource.getSchema().then( schema => {\n              dataSchema = schema;\n              return dataSource.read('json');\n            })\n            .then(res => {\n              resolve(res)\n            })\n            .catch(err => {\n              reject(err)\n            })\n          });\n        };\n      } else {\n        fetchData = () => {\n          return dataSource.read('json')\n        };\n      }\n\n    } else if (method == 'memory') {\n      fetchData = () => {\n        return new Promise( (resolve, reject) => {\n          resolve(source(batchSize))\n        });\n      };\n    } else {\n      inputType = 'json'\n      fetchData = () => {\n        return new Promise( (resolve, reject) => {\n          p4.ajax.get({\n            url: source + '?nrows=' + batchSize,\n            dataType: 'json'\n          })\n          .then((res) => {\n            dataSchema = res.schema;\n            resolve(res.data);\n          })\n          .catch((err) =>  {\n            reject(err);\n          })\n        })\n      };\n    }\n  \n    return pv;\n  }\n\n  for(let ops of OPERATIONS) {\n    pv[ops] = function(arg) {\n      let job = {};\n      job[ops] = arg;\n      jobs.push(job);\n      return pv;\n    }\n  }\n\n  pv.transpile = function(spec) {\n    let tplr = new Transpiler(p4x.ctx.fields)\n    return tplr.transpile(spec)\n  }\n\n  pv.compile = function(specs) {\n    let jobs = [];\n    if(Array.isArray(specs)) {\n      specs.forEach(function(spec){\n        let job = {};\n        let opt = Object.keys(spec)[0];\n        let arg = spec[opt];\n        if (opt[0] === '$'){\n          opt = opt.slice(1); // ignore $ sign \n        }\n        if(typeof pv[opt] == 'function') {\n          job[opt] = arg;\n        }\n        jobs.push(job);\n      })\n    }\n    return jobs;\n  }\n\n  pv.jobs = function() {\n    return jobs; \n  }\n\n  pv.jobsToPipeline = function(jobs) {\n    let pipeline = [];\n    Object.keys(jobs).forEach(opt => {\n      let task = {};\n      task[opt] = jobs[opt];\n      if(opt == 'aggregate' && jobs.out) {\n        task[opt].out = jobs.out;\n      }\n      pipeline.push(task);\n    })\n    return pipeline;\n  }\n\n  pv.batch = function(jobs) {\n    let batches = [];\n    jobs.forEach(jobs => {\n      let opts = pv.jobsToPipeline(jobs)\n      batches.push(opts);\n    })\n    batchProcessing = batches.map(batch => {\n      return pv.compile(pv.transpile(batch));\n    });\n    // console.log(batchProcessing);\n    return pv;\n  }\n\n  pv.update = function(newData, specs) {\n    p4x.ctx._progress = true;\n    p4x.head();\n    p4x.updateData(newData);\n    p4x.run(pv.compile(pv.transpile(specs)));\n    return pv;\n  }\n\n  pv.progress = function(specs) {\n    progression = pv.compile(specs);\n    return pv;\n  }\n\n  pv.prepareData = function(data) {\n\n    let cache = p4.cstore((strValues !== null) ? {strValues} : {})\n    cache.import({\n      data: data.slice(1),\n      schema: dataSchema,\n      type: inputType\n    });\n    let cdata = cache.data()\n    if (strValues === null) {\n      strValues = cdata.strValues;\n    }\n    return cdata;\n  }\n\n  pv.onEach = function(f) {\n    onEach = f;\n    return pv;\n  }\n  pv.onComplete = function() {}\n\n  pv.autoProgress = function() {\n    pv.next().then(function(status){\n      if (!status.done) {\n        requestAnimationFrame(pv.autoProgress);\n      }\n    });\n  }\n\n  pv.start = function() {\n    requestAnimationFrame(pv.autoProgress);\n    return pv;\n  }\n\n  pv.next = function(callback) {\n    if(typeof(callback) === 'function') {\n      onEach = callback;\n    }\n\n    progressStep++;\n    progressedSize += pv.batchSize;\n    // let done = (progressedSize >= dataSize ) ? true : false;\n\n    let status =  {\n        count: progressStep,\n        completed: progressedSize,\n        // percentage: progressedSize / dataSize\n    }\n\n    // if (done) {\n    //     return new Promise((resolve, reject) => { resolve(status) })\n    // }\n\n    return new Promise((resolve, reject) => {\n      fetchData().then(data => {\n        let loadStart = performance.now();\n        let inputData;\n        if(data._p4_cstore_version) {\n          inputData = data;\n        } else {\n          inputData = pv.prepareData(data);\n        }\n        profile.LoadTime = performance.now() - loadStart;\n        let processStart = performance.now()\n        if(progressStep == 1) {\n          p4x.data(inputData);\n        } else {\n          p4x.ctx._progress = true;\n          p4x.head();\n          p4x.updateData(inputData);\n        }\n\n        if(batchProcessing.length) {\n          batchProcessing.forEach(pp => {\n            p4x.head().run(pp);\n          })\n        }\n\n        if(crossViewProc.length) {\n          crossViewProc.forEach(pp => {\n            p4x.head().run(pv.jobsToPipeline(pp.jobs));\n            pp.result = p4x.result({outputTag: pp.jobs.out}).filter(d=>d.count !== 0)\n          })\n        }\n\n        p4x.run(progression);\n        profile.ProcTime = performance.now() - loadStart;\n        profile.AccuTime += profile.ProcTime;\n        // console.log(profile)\n        resolve(status);\n        onEach(status, profile);\n      })\n    })\n  }\n\n  pv.mergedPipeline = function(p1, p2) {\n    let props = Object.keys(p1).concat(Object.keys(p2))\n    .filter(prop => prop !== 'out')\n    .reduce(function(b, c) {\n      if (b.indexOf(c) < 0) b.push(c);\n      return b;\n    }, [])\n    .sort()\n    .reverse();\n\n    let merged = {};\n    props.forEach(prop => {\n      merged[prop] = Object.assign({}, p1[prop], p2[prop]);\n      if (typeof p1[prop].$group === 'string' && typeof p2[prop].$group === 'string') {\n        merged[prop].$group = [p1[prop].$group, p2[prop].$group];\n      }\n    })\n\n    return merged;\n  }\n\n  pv.setup = (jsonSpecs) => {\n    jsonSpecs.forEach((spec) => {\n      let opt = Object.keys(spec)[0]\n      if (typeof(pv[opt]) === 'function') {\n        pv[opt](spec[opt]);\n      }\n    })\n    return pv;\n  }\n\n  pv.runSpec = (jsonSpecs) => {\n    pv.setup(jsonSpecs);\n    pv.next();\n  }\n\n  pv.interact = function(interactions) {\n    interactions.forEach(interaction => {\n      let spec = interaction;\n\n      p4x.interact(interaction);\n      let connection = {\n        sourceView: spec.from,\n        targetViews: Object.keys(spec.response)\n      }\n\n      let sourceProc = progression.find(p => {\n        let key = Object.keys(p)[0];\n      \n        return p[key].id === connection.sourceView;\n      })\n\n      let sourcePipeline = {};\n      \n      batchProcessing.find(pipeline => {\n        let out = pipeline.find(p => p.out)\n        return out.out === sourceProc.visualize.in\n      })\n      .forEach(p => Object.assign(sourcePipeline, p))\n\n      batchProcessing.filter(p => p.out && p.out ==='')\n\n      connection.targetViews.forEach(tv => {\n        let vmap = progression.find(p => {\n          let key = Object.keys(p)[0];\n          return p[key].id === tv;\n        }).visualize\n\n        let targetPipeline = {}\n        \n        batchProcessing.find(pipeline => {\n          let out = pipeline.find(p => p.out)\n          return out.out === vmap.in\n        })\n        .forEach(p => Object.assign(targetPipeline, p));\n        // console.log(targetPipeline);\n \n        let interProc = pv.mergedPipeline(sourcePipeline, targetPipeline);\n        interProc.out = ['interResult', connection.sourceView, tv].join('-');\n        crossViewProc.push({\n          jobs: interProc,\n          result: [],\n          sourceView: connection.sourceView,\n          targetView: tv\n        })\n      })\n      // console.log(crossViewProc)\n\n      spec.callback = (selection) => {\n        let selectedAttrs = Object.keys(selection);\n\n        if (interaction.condition) {\n          if (interaction.condition.hasOwnProperty('x') && !interaction.condition.x) {\n            selectedAttrs.shift();\n          }\n          if (interaction.condition.hasOwnProperty('y') && !interaction.condition.y) {\n            selectedAttrs.pop();\n          }\n        }\n        // let interactionStart = performance.now();\n        let connections = crossViewProc.filter(p => p.sourceView === connection.sourceView);\n        connections.forEach(conn => {\n          let view = p4x.getViews().find(v => v.id === conn.targetView);\n          \n          let matches = conn.result.filter(d => {\n            let validate = true;\n            selectedAttrs.forEach(attr => {\n              if (selection[attr].length === 1) {\n                validate = validate && (d[attr] === parseInt(selection[attr][0]));\n              } else {\n               \n                validate = validate && (d[attr] > selection[attr][0] && d[attr] < selection[attr][1]);\n              }\n            })\n            return validate;\n          })\n\n          if(matches.length) {\n            let result = p3.pipeline().aggregate({\n              $group: view.vmap.x,\n              $collect: {\n                count: {$sum: 'count'}\n              }\n            })\n            .execute(matches);\n\n            if(result.length) {\n              let updateData = result.sort((a,b) => {\n                if (a[view.vmap.x] <  b[view.vmap.x]) return -1;\n                if (a[view.vmap.x] >  b[view.vmap.x]) return 1;\n                return 0;\n              });\n              view.plot.update(updateData, interaction.response[view.id].selected.color)\n            }\n          }         \n        })\n      }\n    })\n\n    pv.getProfile = function() {\n      return profile;\n    }\n\n    return pv\n  }\n\n  return pv;\n}","import pv from './src/main';\nimport Transpiler from './src/Transpiler';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\npv.Transpiler = Transpiler;\nroot.pv = pv;\n\nexport default pv;\n\nif(typeof module != 'undefined' && module.exports)\n    module.exports = pv;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var config = require('../config');\n\n/*!\n * Chai - isProxyEnabled helper\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .isProxyEnabled()\n *\n * Helper function to check if Chai's proxy protection feature is enabled. If\n * proxies are unsupported or disabled via the user's Chai config, then return\n * false. Otherwise, return true.\n *\n * @namespace Utils\n * @name isProxyEnabled\n */\n\nmodule.exports = function isProxyEnabled() {\n  return config.useProxy &&\n    typeof Proxy !== 'undefined' &&\n    typeof Reflect !== 'undefined';\n};\n","var fnLengthDesc = Object.getOwnPropertyDescriptor(function () {}, 'length');\n\n/*!\n * Chai - addLengthGuard utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .addLengthGuard(fn, assertionName, isChainable)\n *\n * Define `length` as a getter on the given uninvoked method assertion. The\n * getter acts as a guard against chaining `length` directly off of an uninvoked\n * method assertion, which is a problem because it references `function`'s\n * built-in `length` property instead of Chai's `length` assertion. When the\n * getter catches the user making this mistake, it throws an error with a\n * helpful message.\n *\n * There are two ways in which this mistake can be made. The first way is by\n * chaining the `length` assertion directly off of an uninvoked chainable\n * method. In this case, Chai suggests that the user use `lengthOf` instead. The\n * second way is by chaining the `length` assertion directly off of an uninvoked\n * non-chainable method. Non-chainable methods must be invoked prior to\n * chaining. In this case, Chai suggests that the user consult the docs for the\n * given assertion.\n *\n * If the `length` property of functions is unconfigurable, then return `fn`\n * without modification.\n *\n * Note that in ES6, the function's `length` property is configurable, so once\n * support for legacy environments is dropped, Chai's `length` property can\n * replace the built-in function's `length` property, and this length guard will\n * no longer be necessary. In the mean time, maintaining consistency across all\n * environments is the priority.\n *\n * @param {Function} fn\n * @param {String} assertionName\n * @param {Boolean} isChainable\n * @namespace Utils\n * @name addLengthGuard\n */\n\nmodule.exports = function addLengthGuard (fn, assertionName, isChainable) {\n  if (!fnLengthDesc.configurable) return fn;\n\n  Object.defineProperty(fn, 'length', {\n    get: function () {\n      if (isChainable) {\n        throw Error('Invalid Chai property: ' + assertionName + '.length. Due' +\n          ' to a compatibility issue, \"length\" cannot directly follow \"' +\n          assertionName + '\". Use \"' + assertionName + '.lengthOf\" instead.');\n      }\n\n      throw Error('Invalid Chai property: ' + assertionName + '.length. See' +\n        ' docs for proper usage of \"' + assertionName + '\".');\n    }\n  });\n\n  return fn;\n};\n","var config = require('../config');\nvar flag = require('./flag');\nvar getProperties = require('./getProperties');\nvar isProxyEnabled = require('./isProxyEnabled');\n\n/*!\n * Chai - proxify utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .proxify(object)\n *\n * Return a proxy of given object that throws an error when a non-existent\n * property is read. By default, the root cause is assumed to be a misspelled\n * property, and thus an attempt is made to offer a reasonable suggestion from\n * the list of existing properties. However, if a nonChainableMethodName is\n * provided, then the root cause is instead a failure to invoke a non-chainable\n * method prior to reading the non-existent property.\n *\n * If proxies are unsupported or disabled via the user's Chai config, then\n * return object without modification.\n *\n * @param {Object} obj\n * @param {String} nonChainableMethodName\n * @namespace Utils\n * @name proxify\n */\n\nvar builtins = ['__flags', '__methods', '_obj', 'assert'];\n\nmodule.exports = function proxify(obj, nonChainableMethodName) {\n  if (!isProxyEnabled()) return obj;\n\n  return new Proxy(obj, {\n    get: function proxyGetter(target, property) {\n      // This check is here because we should not throw errors on Symbol properties\n      // such as `Symbol.toStringTag`.\n      // The values for which an error should be thrown can be configured using\n      // the `config.proxyExcludedKeys` setting.\n      if (typeof property === 'string' &&\n          config.proxyExcludedKeys.indexOf(property) === -1 &&\n          !Reflect.has(target, property)) {\n        // Special message for invalid property access of non-chainable methods.\n        if (nonChainableMethodName) {\n          throw Error('Invalid Chai property: ' + nonChainableMethodName + '.' +\n            property + '. See docs for proper usage of \"' +\n            nonChainableMethodName + '\".');\n        }\n\n        // If the property is reasonably close to an existing Chai property,\n        // suggest that property to the user. Only suggest properties with a\n        // distance less than 4.\n        var suggestion = null;\n        var suggestionDistance = 4;\n        getProperties(target).forEach(function(prop) {\n          if (\n            !Object.prototype.hasOwnProperty(prop) &&\n            builtins.indexOf(prop) === -1\n          ) {\n            var dist = stringDistanceCapped(\n              property,\n              prop,\n              suggestionDistance\n            );\n            if (dist < suggestionDistance) {\n              suggestion = prop;\n              suggestionDistance = dist;\n            }\n          }\n        });\n\n        if (suggestion !== null) {\n          throw Error('Invalid Chai property: ' + property +\n            '. Did you mean \"' + suggestion + '\"?');\n        } else {\n          throw Error('Invalid Chai property: ' + property);\n        }\n      }\n\n      // Use this proxy getter as the starting point for removing implementation\n      // frames from the stack trace of a failed assertion. For property\n      // assertions, this prevents the proxy getter from showing up in the stack\n      // trace since it's invoked before the property getter. For method and\n      // chainable method assertions, this flag will end up getting changed to\n      // the method wrapper, which is good since this frame will no longer be in\n      // the stack once the method is invoked. Note that Chai builtin assertion\n      // properties such as `__flags` are skipped since this is only meant to\n      // capture the starting point of an assertion. This step is also skipped\n      // if the `lockSsfi` flag is set, thus indicating that this assertion is\n      // being called from within another assertion. In that case, the `ssfi`\n      // flag is already set to the outer assertion's starting point.\n      if (builtins.indexOf(property) === -1 && !flag(target, 'lockSsfi')) {\n        flag(target, 'ssfi', proxyGetter);\n      }\n\n      return Reflect.get(target, property);\n    }\n  });\n};\n\n/**\n * # stringDistanceCapped(strA, strB, cap)\n * Return the Levenshtein distance between two strings, but no more than cap.\n * @param {string} strA\n * @param {string} strB\n * @param {number} number\n * @return {number} min(string distance between strA and strB, cap)\n * @api private\n */\n\nfunction stringDistanceCapped(strA, strB, cap) {\n  if (Math.abs(strA.length - strB.length) >= cap) {\n    return cap;\n  }\n\n  var memo = [];\n  // `memo` is a two-dimensional array containing distances.\n  // memo[i][j] is the distance between strA.slice(0, i) and\n  // strB.slice(0, j).\n  for (var i = 0; i <= strA.length; i++) {\n    memo[i] = Array(strB.length + 1).fill(0);\n    memo[i][0] = i;\n  }\n  for (var j = 0; j < strB.length; j++) {\n    memo[0][j] = j;\n  }\n\n  for (var i = 1; i <= strA.length; i++) {\n    var ch = strA.charCodeAt(i - 1);\n    for (var j = 1; j <= strB.length; j++) {\n      if (Math.abs(i - j) >= cap) {\n        memo[i][j] = cap;\n        continue;\n      }\n      memo[i][j] = Math.min(\n        memo[i - 1][j] + 1,\n        memo[i][j - 1] + 1,\n        memo[i - 1][j - 1] +\n          (ch === strB.charCodeAt(j - 1) ? 0 : 1)\n      );\n    }\n  }\n\n  return memo[strA.length][strB.length];\n}\n","export function request(arg) {\n    var url = arg.url || arg,\n        method = arg.method || \"GET\",\n        dataType = arg.dataType || \"json\",\n        data = arg.data || [],\n        query = [];  //arraybuffer, blob, document, json, text\n\n    for (var key in data) {\n        query.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n    }\n\n    return new Promise(function(resolve, reject) {\n\n        var req = new XMLHttpRequest();\n        req.open(method, url);\n        req.responseType = dataType;\n\n        req.onload = function() {\n          if (req.status == 200) {\n            resolve(req.response);\n          }\n          else {\n            reject(Error(req.statusText));\n          }\n        };\n\n        req.onerror = function() {\n          reject(Error(\"Network Error\"));\n        };\n\n        if (method == 'POST') {\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        }\n\n        req.send(data);\n    });\n};\n\nexport let get = request;\n\nexport function getAll(options) {\n    var promises = [];\n    options.forEach(function(option){\n        promises.push(\n            request(option)\n            .then(function(result){\n                return new Promise(function(resolve, reject) {\n                    resolve(result);\n                });\n            })\n        );\n    });\n\n    return Promise.all(promises);\n}\n\nexport function post(arg) {\n    arg.method = \"POST\";\n    return ajax.request(arg);\n};\n","export default function parse(text, delimiter) {\n    \"use strict\";\n    var size = text.length,\n        accum = 0,\n        i, //index for starting of a line\n        row,\n        rows = [],\n        fields = [],\n        lens = [],\n        EOL = false;\n\n    while(accum < size) {\n        i = accum, EOL = false;\n        row = loadLine(text, delimiter.charCodeAt(0), i);\n        rows.push(row.fields);\n        accum += row.size;\n    }\n    return rows;\n}\n\nfunction loadLine(text, delimiterCode, initPos) {\n    // if(typeof(initPos) === 'undefined') initPos = 0;\n    var EOL = false,\n        QUOTE = false,\n        c = initPos, //current pos\n        code, //code at c\n        f = initPos, // start pos of current field\n        q, //start pos of quote\n        fields = [],\n        L = text.length;\n\n    while(!EOL){\n        code = text.charCodeAt(c);\n        if(code === 10 || c>=L){\n            EOL = true;\n            // if(text.charCodeAt(c+1) === 13) ++c;\n            fields.push( text.slice(f, c) );\n        } else {\n            if(code === delimiterCode && !QUOTE) {\n                // console.log(f,c, text.slice(f, c));\n                var field = text.slice(f, c);\n                fields.push( field );\n                f = c+1;\n            } else if(code === 34){\n                if(QUOTE){\n                    if(text.charCodeAt(c+1) === delimiterCode){\n                        QUOTE = false;\n                        fields.push(text.slice(q, c));\n                        f = c+2;\n                        c++;\n                    }\n                } else {\n                    q = c+1;\n                    QUOTE = true;\n                }\n            }\n        }\n        c++;\n    }\n    return { fields: fields, size: c-initPos };\n}\n"," \nexport default class Transpiler {\n  constructor(attributes, categories) {\n   this.attributes = attributes\n  }\n\n  transpile (rules) {\n    let spec = []\n    for (let rule of rules) {\n      let opt = Object.keys(rule)[0]\n      if(opt == '$aggregate') {\n        spec.push({$aggregate: this.aggregate(rule[opt])})\n      // } else if(opt == '$visualize') {\n      //   spec.push({$visualize: this.visualize(rule[opt])})\n      } else {\n        spec.push(Object.assign({}, rule))\n      }\n    }\n    return spec\n  }\n\n  aggregate (rule) {\n    let includes = rule.$include || this.attributes\n    let excludes = rule.$exclude || []\n    let calculates = rule.$calculate || []\n    let fields = includes.filter(attr => excludes.indexOf(attr) === -1)\n    let collection = {}\n\n    for (let opt of calculates) {\n      if (opt === 'count') {\n        collection['count'] = {$count: '*'}\n      } else {\n        fields.forEach( field => {\n          let metric = [opt, field].join('.');\n          collection[metric] = {}\n          collection[metric]['$'+opt] = field\n        })\n      }\n    }\n    return Object.assign({$collect: collection}, rule)\n  }\n\n  visualize (rule) {\n    let facets = rule.facets || rule.facet\n\n    if (facets === undefined) return rule\n\n    let rows = facets.rows || facets.row\n    let columns = facets.columns || facets.column\n    let spec = rows || columns\n\n    let encodings = Object.keys(rule).filter(k => k !== 'facets')\n\n    let variables = Object.keys(spec)\n\n    let minLoopCount = Math.min(...variables.map(v => spec[v].length))\n\n    let vmaps = new Array(minLoopCount)\n    for(let i = 0; i < minLoopCount; i++) {\n      let vmap = {}\n      encodings.forEach(code => {\n        let vi = variables.indexOf(rule[code])\n        if(vi < 0) {\n          vmap[code] = rule[code]     \n        } else {\n          vmap[code] = spec[variables[vi]][i]\n        }\n      })\n      vmaps[i] = vmap\n    }\n    vmaps.facets = facets\n    vmaps.order = facets.order\n    vmaps.sortBy = facets.sortBy\n    return vmaps\n  }\n}\n","module.exports = require('./lib/chai');\n","export default function Uniform(glContext, name, type, data) {\n\n    var uniform = (this instanceof Uniform) ? this : {},\n        ctx = glContext;\n\n    function serializeArray(arrayOfArray) {\n        var sa = [];\n        arrayOfArray.forEach(function(a){\n            sa = sa.concat(a);\n        })\n        return sa;\n    }\n\n    function sanitize(data) {\n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray.length > 0) {\n               return serializeArray(data);\n            } else {\n                return data;\n            }\n        } else {\n            return data\n        }\n    }\n\n    function setUniform() {\n        var type = this.type,\n            location = this.location,\n            size = this.size,\n            data = this.data;\n            \n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray)\n                data = serializeArray(data);\n        }\n\n        if((type == 'float' || type == 'int') && !Array.isArray(data) && !ArrayBuffer.isView(data))\n            data = [data];\n\n        var buf;\n        if (type.slice(0,3) == 'vec' || type == 'float') {\n            buf = new Float32Array(data);\n            ctx['uniform' + size + 'fv'](location, buf);\n        } else if(type.slice(0,4) == 'ivec' || type == 'int'){\n            buf = new Int32Array(data);\n            ctx['uniform' + size + 'iv'](location, buf);\n        } else if(type.slice(0,3) == 'mat') {\n            buf = new Float32Array(data);\n            ctx['uniformMatrix' + size + 'fv'](location, false, buf);\n        } else if(type == 'sampler2D') {\n            if(data.hasOwnProperty('resourceType') && data.resourceType == 'texture') {\n                ctx.activeTexture(ctx.TEXTURE0 + data.index);\n                ctx.bindTexture(ctx.TEXTURE_2D, data.ptr);\n                ctx.uniform1i(location, data.index);\n            }\n        }\n    }\n\n    uniform.create = function(name, type, data) {\n\n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray.length > 0) {\n                data = serializeArray(data);\n            }\n        }\n\n        uniform[name] = {\n            type: type,\n            name: name,\n            data: data,\n            location: null,\n            size: parseInt(type.slice(3,4)) || parseInt(type.slice(4,5)) || 1\n        };\n\n        uniform[name].link = function(program) {\n            if(typeof this.data !== 'undefined' && this.data !== null) {\n                this.location = ctx.getUniformLocation(program, this.name);\n                setUniform.call(this);\n            }\n            return this;\n        };\n\n        uniform[name].value = function(val) {\n           this.data = sanitize(val);\n        }\n\n        uniform[name].load = function(data) {\n            this.data = data;\n            return this;\n        };\n\n        uniform[name].header = function() {\n            var header = 'uniform ' + this.type + ' ' + this.name,\n                len = 0;\n            \n            if(this.type != 'sampler2D') {\n                len = this.data.length / this.size;\n            }\n\n            //TODO: fix declaration for matrix\n            if(len > 1 && type != 'mat4') {\n                header += '[' + len + ']';\n            }\n            return header + ';\\n';\n        };\n\n        return uniform[name];\n    }\n\n\n    return uniform;\n}\n","export default function Attribute(glContext) {\n    \n    var attribute = (this instanceof Attribute) ? this : {},\n        ctx = glContext,\n        attributeID = 0;\n\n    function setAttribute(name, data) {\n        if(Array.isArray(data) || ArrayBuffer.isView(data)){\n            if(!ArrayBuffer.isView(data)) {\n                data = new Float32Array(data);\n            }\n            attribute[name].data = data;\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, attribute[name].ptr);\n            ctx.bufferData(ctx.ARRAY_BUFFER, data, ctx.STATIC_DRAW);\n        }\n    }\n    attribute.create = function(name, type, data) {\n        attribute[name] = {\n            name: name,\n            type: type || 'float',\n            data: null,\n            location: attributeID++,\n            ptr: ctx.createBuffer(),\n            size: parseInt(type.slice(3,4)) || 1\n        };\n\n        if(data !== null && data.length) setAttribute(name, data);\n\n        attribute[name].link = function(program) {\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, this.ptr);\n            this.location = ctx.getAttribLocation(program, this.name);\n            ctx.vertexAttribPointer(this.location, this.size, ctx.FLOAT, false, 0, 0);\n            ctx.enableVertexAttribArray(this.location);\n            return this;\n        }\n\n        attribute[name].load = function(arrayBuffer) {\n            setAttribute(this.name, arrayBuffer);\n            return this;\n        }\n\n        attribute[name].header = function() {\n            return 'attribute ' + this.type + ' ' + this.name + ';\\n';\n        }\n\n        attribute[name].update = function(offset, data) {\n            if(!ArrayBuffer.isView(data)) {\n                data = new Float32Array(data);\n            }\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, this.ptr);\n            ctx.bufferSubData(ctx.ARRAY_BUFFER, offset, data);   \n        }\n\n        attribute[name].delete = function() {\n            ctx.deleteBuffer(this.ptr);\n        }\n\n        return attribute[name];\n    };\n\n    return attribute;\n}\n","import Uniform from \"./uniform\";\n\nexport default function Texture(glContext) {\n\n    var texture = (this instanceof Texture) ? this : {},\n        ctx = glContext,\n        textureID = 0;\n\n    function setTexture(name, texData) {\n        var type = ctx[texture[name].type.toUpperCase()],\n            format = ctx[texture[name].channel.toUpperCase()],\n            width = texture[name].dim[0],\n            height = texture[name].dim[1];\n\n        texture[name].data = texData;\n\n        ctx.bindTexture(ctx.TEXTURE_2D, texture[name].ptr);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, format, width, height, 0, format, type, texData);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.NEAREST);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.NEAREST);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_S, ctx.CLAMP_TO_EDGE);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_T, ctx.CLAMP_TO_EDGE);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n    }\n\n    function updateTexture(name, texData, offset = [0, 0], dim = [texture[name].dim[0], texture[name].dim[1]] ) {\n        var type = ctx[texture[name].type.toUpperCase()],\n            format = ctx[texture[name].channel.toUpperCase()],\n            width = dim[0],\n            height = dim[1];\n\n        ctx.bindTexture(ctx.TEXTURE_2D, texture[name].ptr);\n        ctx.texSubImage2D(ctx.TEXTURE_2D, 0, offset[0], offset[1], width, height, format, type, texData);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n    }\n\n    // TODO: Add support for texture compression\n    // function compressTexture(texData) {\n    //\n    //     var ext = (\n    //       ctx.getExtension(\"WEBGL_compressed_texture_s3tc\") ||\n    //       ctx.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\") ||\n    //       ctx.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\")\n    //     );\n    //\n    //     ctx.compressedTexImage2D(ctx.TEXTURE_2D, 0, ext.COMPRESSED_RGBA_S3TC_DXT3_EXT, texture[name].dim[0], texture[name].dim[1], 0, texData);\n    //     ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.LINEAR);\n    //     ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.LINEAR);\n    // }\n\n    texture.create = function(name, type, dim, channel, data, sampler) {\n        var texIndex = (texture.hasOwnProperty(name)) ? texture[name].index : textureID++;\n        texture[name] = {\n            name: name,\n            index: texIndex,\n            type: type || \"float\",\n            dim: dim || [512, 512],\n            channel: channel || \"alpha\",\n            data: null,\n            location: null,\n            sampler: sampler || null,\n            ptr: ctx.createTexture()\n        };\n\n        // if(data !== null && data.length)\n        setTexture(name, data);\n\n        if (texture[name].sampler === null) {\n            texture[name].sampler = Uniform(ctx).create(name, 'sampler2D', texture[name]);\n        } else {\n            texture[name].sampler.data = texture[name];\n        }\n\n        texture[name].link = function(program) {\n            if (this.data !== null) {\n                // ctx.activeTexture(ctx.TEXTURE0 + this.index);\n                // ctx.bindTexture(ctx.TEXTURE_2D, this.ptr);\n                // this.location = ctx.getUniformLocation(program, this.name);\n                // ctx.uniform1i(this.location, this.index);\n                if (typeof(this.sampler.data) == 'undefined' || this.sampler.data === null)\n                    this.sampler.data = texture[name];\n\n                this.sampler.link(program);\n            }\n            return this;\n        }\n\n        texture[name].load = function(texData) {\n            setTexture(this.name, texData);\n            return this;\n        }\n\n        texture[name].copyFromFBO = function() {\n            ctx.bindTexture(ctx.TEXTURE_2D, this.ptr);\n            ctx.copyTexImage2D(\n                ctx.TEXTURE_2D,\n                0,\n                ctx.RGBA,\n                0,\n                0,\n                this.dim[0],\n                this.dim[1],\n                0\n            );\n            ctx.bindTexture(ctx.TEXTURE_2D, null);\n        }\n\n        texture[name].update = function(texData, offset, dim) {\n            updateTexture(this.name, texData, offset, dim);\n            return this;\n        }\n\n        texture[name].resize = function(dim, data) {\n            this.dim = dim;\n            setTexture(this.name, data);\n        }\n\n        texture[name].delete = function() {\n            glContext.deleteTexture(this.ptr);\n        }\n\n        texture[name].header = function() {\n            if (this.name == this.sampler.name)\n                return 'uniform sampler2D ' + this.sampler.name + ';\\n';\n            else\n                return '';\n        }\n\n        return texture[name];\n    }\n\n    return texture;\n}\n","export default function Varying(glContext) {\n\n    var varying = (this instanceof Varying) ? this : {},\n        ctx = glContext;\n\n    varying.create = function(name, type, size) {\n        varying[name] = {\n            name: name,\n            type: type || 'float',\n            size: size || 1,\n        };\n\n        varying[name].link = function() {};\n\n        varying[name].header = function() {\n            var header = 'varying ' + this.type + ' ' + this.name;\n            if(this.size > 1)\n                header += '[' + this.size + ']';\n            return header + ';\\n';\n        }\n\n        return varying[name];\n    }\n\n    return varying;\n}\n","export default function Subroutine() {\n\n    var subroutine = (this instanceof Subroutine) ? this : {};\n\n    subroutine.create = function(name, type, fn) {\n        subroutine[name] = {\n            name: name,\n            type: type || 'float',\n            fn: fn,\n            resourceType: \"subroutine\"\n        };\n\n        subroutine[name].link = function(program) {\n            return this;\n        }\n\n        subroutine[name].load = function(fn) {\n            subroutine[name].fn = fn;\n            return this;\n        }\n\n        subroutine[name].header = function() {\n            return this.fn.toString();\n        }\n\n        return subroutine[name];\n    };\n\n    return subroutine;\n}\n","import Uniform from './uniform';\nimport Attribute from './attribute';\nimport Texture from './texture';\nimport Varying from './varying';\nimport Subroutine from './subroutine';\n\nexport default function Resource(glContext) {\n    var resource = (this instanceof Resource) ? this : {},\n        gpuResources = {};\n\n    resource.uniform = new Uniform(glContext);\n    resource.attribute = new Attribute(glContext);\n    resource.texture = new Texture(glContext);\n    resource.varying = new Varying(glContext);\n    resource.subroutine = new Subroutine();\n\n    var resourceTypes = ['uniform', 'attribute', 'texture', 'varying', 'subroutine'];\n\n    resource.allocate = function(type, props) {\n        if (resourceTypes.indexOf(type) === -1) {\n            throw Error(\"Error: Invalid resource type: \" + type);\n        }\n        var res = resource[type].create.apply(null, Array.prototype.slice.call(arguments, 1));\n        res.resourceType = type;\n        gpuResources[res.name] = res;\n        if (!gpuResources.hasOwnProperty(res.name)) {\n            Object.defineProperty(gpuResources, res.name, {\n                get: function() {\n                    return gpuResources[res.name];\n                },\n                set: function(data) {\n                    gpuResources[res.name].load(data);\n                }\n            });\n        }\n        return res;\n    };\n\n    resource.link = function(program, resources) {\n        var requiredResources = (Array.isArray(resources)) ? resources : Object.keys(gpuResources);\n        requiredResources.forEach(function(resourceName) {\n            if (gpuResources.hasOwnProperty(resourceName))\n                gpuResources[resourceName].link(program);\n        })\n    };\n\n    resource.get = function(name) {\n        return gpuResources[name];\n    }\n\n    resource.create = resource.allocate;\n\n    return resource;\n};\n","export default function Shader(glContext, glResource) {\n    \n    var shader = (this instanceof Shader) ? this : {},\n        ctx = glContext,\n        resource = glResource,\n        parameters = ctx._dict || {};\n\n    shader.vertex = {};\n    shader.fragment = {};\n\n    var shaderType = {\n        vertex: ctx.VERTEX_SHADER,\n        fragment: ctx.FRAGMENT_SHADER\n    };\n\n    // Convert JS functions to GLSL codes\n    function toGLSL(returnType, name, fn){\n\n        var glsl = returnType + ' ' +\n            name + '(' + applyEnvParameters(fn.toString())\n            .replace(\n                /var\\s+([\\w|\\d]+)\\s*=\\s*new\\s+([\\w|\\d]+)\\((.*)\\)/g,\n                function(expr, name, dtype, value){\n                    var parts;\n                    if(value)\n                        parts = [dtype.toLowerCase(), name, '=', value];\n                    else\n                        parts = [dtype.toLowerCase(), name];\n\n                    return parts.join(' ')\n                }\n            )\n            .replace(/for\\s*\\(\\s*var\\s+/g, 'for(int ')\n            .replace(/(var|let)\\s/g, 'float ')\n            // .replace(/(\\.0)([^\\d])/g, '$10000000001 $2 ')\n            .replace(/this./g, '')\n            .replace(/\\$(.*)\\((.*)\\)\\s*(=|;)/g, \"$1 $2 $3\");\n            // .replace(/\\$(.*?)\\./g, \"$1 \")\n\n        if(name == \"main\") {\n            glsl = glsl.replace(/\\(.*(function|\\w).*\\(\\s*([\\s\\S]*?)\\s*{/, '(){') + \"\\n\";\n        } else {\n            var args = glsl.match(/function|\\w.*\\(\\s*([\\s\\S]*?)\\s*\\)/)[1];\n            var isObject = args.match(/{([\\s\\S]*)}/);\n            if(isObject) {\n                args = isObject[1].split(',')\n                    .map(d=>d.split('='))\n                    .map(d=> d[1].replace(/(\\'|\\\")/g, '') + ' ' + d[0])\n                    .join(', ')\n            } else if(args != \"\") {\n                args = args.replace(/\\$([\\w|\\d]+)_/g, \"$1 \");\n            }\n           \n            glsl = glsl.replace(/\\(.*(function|\\w).*\\(\\s*([\\s\\S]*?)\\s*\\)/, '(' + args+')') + \"\\n\";\n        }\n        return glsl;\n    }\n\n    //set parameters in JS functions before converting to GLSL codes\n    function applyEnvParameters(str){\n        //find all $(...) and replace them with parameters\n        var envParam = Object.keys(parameters);\n        if(envParam.length > 0){\n            var re = new RegExp(\"\\\\$\\\\((\"+envParam.join(\"|\")+\")\\\\)\",\"g\");\n            str = str.replace(re, function(matched){\n                return parameters[matched.slice(2,matched.length-1)];\n            });\n        }\n\n        // Make uniforms to be used as parameters in shaders, like $(uniformName)\n        // var envUniforms = Object.keys(resource.uniform);\n        // re = new RegExp(\"\\\\$\\\\((\"+envUniforms.join(\"|\")+\")\\\\)\",\"g\");\n        // str = str.replace(re, function(matched){\n        //     return resource.uniform[matched.slice(2,matched.length-1)].data;\n        // });\n\n        return str;\n    }\n\n    function compile(shaderType, shaderSource) {\n        if (shaderType !== ctx.VERTEX_SHADER && shaderType !== ctx.FRAGMENT_SHADER) {\n            throw (\"Error: unknown shader type\");\n        }\n        var _shader = ctx.createShader(shaderType);\n        ctx.shaderSource(_shader, shaderSource);\n        ctx.compileShader(_shader);\n\n        // Check the compile status, get compile error if any\n        var compiled = ctx.getShaderParameter(_shader, ctx.COMPILE_STATUS);\n        if (!compiled) {\n            var lastError = ctx.getShaderInfoLog(_shader);\n            console.log(shaderSource + '\\n ====================================================');\n            throw new Error(\"Error compiling shader '\" + _shader + \"':\" + lastError);\n\n            ctx.deleteShader(_shader);\n            return null;\n        }\n\n        return _shader;\n    }\n\n    function getDeps(fn) {\n        var deps = [],\n            sourceCode = fn.toString(),\n            shaderArgs = sourceCode.match(/function\\s.*?\\(([^)]*)\\)/),\n            args = (shaderArgs !== null && shaderArgs.length) ? shaderArgs[1] : [];\n        // args = args.replace(/(?:\\r\\n|\\r|\\n|\\s)/g, '');\n        //\n        if(args.length) {\n            deps = args.split(',').map(function(arg) {\n                return arg.replace(/\\/\\*.*\\*\\//, '').trim();\n            }).filter(function(arg) {\n                return arg;\n            });\n        }\n\n        var extraDeps = getExtraDeps(sourceCode);\n        if(extraDeps.length) {\n            deps = deps.concat(extraDeps\n            .filter(function(d){\n                return deps.indexOf(d) === -1;\n            }))\n        }\n\n        return deps;\n    }\n\n    function getExtraDeps(fnString) {\n        var extraDeps = fnString.match(/this\\.(\\w+)/g);\n        if(extraDeps !== null) {\n            extraDeps = extraDeps.map(function(d){\n                return d.slice(5);\n            });\n        }\n        if(extraDeps != null && extraDeps.length) {\n            extraDeps.forEach(function(sdep){\n                var sres = resource.get(sdep);\n                if(sres && sres.resourceType == 'subroutine') {\n                    extraDeps = extraDeps.concat(getExtraDeps(sres.fn.toString()));\n                }\n            });\n        }\n        return extraDeps || [];\n    }\n\n    function declareDep(dep) {\n        var res = resource.get(dep);\n        if(typeof res === 'undefined')\n            throw new Error('Resource/dependence \"' + dep + '\" is not found.');\n        if(res.resourceType == 'subroutine')\n            return toGLSL(res.type, res.name, res.fn);\n        else\n            return res.header();\n    }\n\n    function uniqueDeps(deps) {\n        var names = {};\n        deps.forEach(function(d, i){\n            names[d] = i;\n        });\n\n        return Object.keys(names);\n    }\n\n    shader.create = function(arg, fn){\n        var option = arg || {},\n            name = option.name || \"default\",\n            type = option.type || \"vertex\",\n            deps = option.require || option.deps || [],\n            precision = option.precision || \"medium\",\n            debug = option.debug || false,\n            main = option.main || fn || function() {};\n\n        var shaderSource = 'precision ' + precision + 'p float;\\n';\n\n        if(deps.length === 0) deps = uniqueDeps(getDeps(main));\n\n        //get dependence from subroutines if any\n        var extraDeps = [];\n\n        deps.forEach(function(dep){\n            var res = resource.get(dep);\n            if(typeof res == 'undefined') {\n                console.log(dep);\n                throw Error ('Error! Undefined variable in shader: '+  dep.name);\n            }\n            if(res.resourceType == 'subroutine') {\n                // subRoutines.push(res.name);\n                extraDeps  = getExtraDeps(res.fn.toString());\n                \n            }   \n        })\n\n        if(extraDeps.length) {\n            var allDeps = extraDeps.concat(deps);\n            deps = uniqueDeps(allDeps);\n        }\n\n        if(Array.isArray(deps)){\n            deps.filter(function(d){\n                return ctx.subroutineNames.indexOf(d) === -1;\n            })\n            .forEach(function(dep){\n                shaderSource += declareDep(dep);\n            });\n            var t = deps.filter(function(d){\n                return ctx.subroutineNames.indexOf(d) !== -1;\n            })\n            .reverse()\n            .forEach(function(dep){\n                shaderSource += declareDep(dep);\n            });\n\n\n\n        } else if(typeof(deps) == 'object') {\n            console.log(deps)\n            Object.keys(deps).forEach(function(resourceType){\n                deps[resourceType].forEach(function(dep){\n                    shaderSource += declareDep(dep);\n                });\n            })\n        }\n\n        shaderSource += toGLSL('void', 'main', main);\n        if(debug)\n            console.log(shaderSource);\n        var _shader = compile(shaderType[type], shaderSource);\n        _shader._shaderType = shaderType[type];\n        _shader.deps = deps;\n        _shader.source = shaderSource;\n        shader[type][name] = _shader;\n        return _shader;\n    }\n\n    return shader;\n}\n","import Shader from './shader';\n\nexport default function Program(glContext, resources) {\n\n    var program,\n        ctx = glContext,\n        pm = {},\n        kernels = {},\n        shaders = new Shader(glContext, resources);\n\n    pm.create = function(name, vs, fs) {\n        var name = name || \"default\",\n            vs = vs || \"default\",\n            fs = fs || \"default\",\n            deps = [];\n\n        if (kernels.hasOwnProperty(name)) {\n            pm.delete(name);\n        }\n\n        kernels[name] = ctx.createProgram();\n\n        kernels[name].vs = (typeof vs == \"object\") ? vs : shaders.vertex[vs];\n        kernels[name].fs = (typeof fs == \"object\") ? fs : shaders.fragment[fs];\n\n        ctx.attachShader(kernels[name], kernels[name].vs);\n        ctx.attachShader(kernels[name], kernels[name].fs);\n        ctx.linkProgram(kernels[name]);\n        var linked = ctx.getProgramParameter(kernels[name], ctx.LINK_STATUS);\n        if (!linked) {\n            var lastError = ctx.getProgramInfoLog(kernels[name]);\n            throw (\"Error in program linking:\" + lastError);\n            ctx.deleteProgram(kernels[name]);\n            return null;\n        }\n\n        deps = deps.concat(kernels[name].vs.deps);\n        deps = deps.concat(kernels[name].fs.deps);\n        kernels[name].deps = deps;\n\n        return kernels[name];\n    }\n\n    pm.use = pm.program = function(name, vs, fs) {\n        if (kernels.hasOwnProperty(name)) {\n            program = kernels[name];\n            ctx.useProgram(program);\n            resources.link(program, program.deps);\n            return program;\n        } else {\n            return pm.create(name, vs, fs);\n        }\n    }\n\n    pm.delete = function(name) {\n        if (kernels.hasOwnProperty(name)) {\n            ctx.detachShader(kernels[name], kernels[name].vs);\n            ctx.detachShader(kernels[name], kernels[name].fs);\n            ctx.deleteProgram(kernels[name]);\n            delete kernels[name];\n        }\n    }\n\n    pm.shader = function(arg, fn) {\n        var options = arg;\n        shaders.create(options, fn);\n        return pm;\n    }\n\n    pm.shader.vertex = function(fn) {\n        var options = {\n            type: \"vertex\"\n        };\n        if (fn.name) options.name = fn.name;\n        return shaders.create(options, fn);\n    }\n\n    pm.shader.fragment = function(fn) {\n        var options = {\n            type: \"fragment\"\n        };\n        if (fn.name) options.name = fn.name;\n        return shaders.create(options, fn);\n    }\n\n    return pm;\n}\n","import Texture from './texture';\n\nexport default function Framebuffer(glContext) {\n\n    var framebuffer = (this instanceof Framebuffer) ? this : {},\n        ctx = glContext;\n\n    framebuffer.create = function(name, type, dim, texture) {\n\n        framebuffer[name] = {\n            ptr: ctx.createFramebuffer(),\n            name: name,\n            type: type || \"float\",\n            width: dim[0] || 1024,\n            height: dim[1] || 1024,\n            texture: texture || null,\n            renderbuffer: ctx.createRenderbuffer(),\n        }\n\n        if (framebuffer[name].texture === null) {\n            var buf = (type == 'float') ?\n                new Float32Array(dim[0] * dim[1] * 4) :\n                new Uint8Array(dim[0] * dim[1] * 4);\n            framebuffer[name].texture = Texture(ctx).create(name, type, dim, \"rgba\", buf);\n        }\n\n        var renderbuffer = framebuffer[name].renderbuffer;\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, framebuffer[name].ptr);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, renderbuffer);\n        ctx.renderbufferStorage(\n            ctx.RENDERBUFFER,\n            ctx.DEPTH_COMPONENT16,\n            framebuffer[name].width,\n            framebuffer[name].height\n        );\n        ctx.framebufferTexture2D(\n            ctx.FRAMEBUFFER,\n            ctx.COLOR_ATTACHMENT0,\n            ctx.TEXTURE_2D,\n            framebuffer[name].texture.ptr,\n            0\n        );\n        ctx.framebufferRenderbuffer(\n            ctx.FRAMEBUFFER,\n            ctx.DEPTH_ATTACHMENT,\n            ctx.RENDERBUFFER,\n            renderbuffer\n        );\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n\n        framebuffer[name].enableRead = function(program) {\n            ctx.activeTexture(ctx.TEXTURE0 + this.texture.index);\n            ctx.bindTexture(ctx.TEXTURE_2D, this.texture.ptr);\n            this.texture.location = ctx.getUniformLocation(program, this.texture.name);\n            ctx.uniform1i(this.texture.location, this.texture.index);\n        };\n\n        framebuffer[name].delete = function() {\n            ctx.bindRenderbuffer(gl.RENDERBUFFER, null);\n            ctx.bindFramebuffer(gl.FRAMEBUFFER, null);\n            ctx.deleteRenderbuffer(this.renderbuffer);\n            ctx.deleteTexture(this.texture.ptr)\n            ctx.deleteFramebuffer(this.ptr);\n        };\n\n        return framebuffer[name];\n    }\n\n    return framebuffer;\n}\n","import Resource from './resource';\nimport ProgramManager from './program';\nimport Shader from './shader';\nimport Framebuffer from './framebuffer';\n\nexport default function FlexGL(arg) {\n\n    var flexgl = (this instanceof FlexGL) ? this : {},\n        options = arg || {},\n        container = options.container || null,\n        canvas = options.canvas || document.createElement(\"canvas\"),\n        viewport = options.viewport || [0, 0],\n        width = options.width || viewport[0] || null,\n        height = options.height || viewport[1] || null,\n        padding = options.padding || {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        ctx = options.context || options.ctx || null,\n        kernels = {},\n        program = null,\n        glAttr = options.attributes || {},\n        sharedFunction = options.sharedFunction || {};\n\n    \n    if (typeof(canvas) == \"string\") {\n        if (canvas[0] == \"#\") canvas = document.getElementById(cavnas.substring(1));\n        else canvas = document.getElementById(cavnas);\n    }\n    if (container) {\n        container = (typeof(container) == \"string\") ? document.getElementById(container) : container;\n        if (width === null) width = container.clientWidth;\n        if (height === null) height = container.clientHeight;\n    }\n    // width -= padding.left + padding.right;\n    // height -= padding.top + padding.bottom;\n    canvas.width = width;\n    canvas.height = height;\n    canvas.style.position = \"absolute\";\n    canvas.style.marginLeft = padding.left + \"px\";\n    canvas.style.marginTop = padding.top + \"px\";\n\n    if (ctx === null)\n        ctx = setupWebGL(canvas);\n    flexgl.ctx = ctx;\n    flexgl.canvas = canvas;\n\n    ctx._dict = options.env || options.dict || options.dictionary || {};\n    ctx.subroutineNames = []; // save all subroutines' names \n\n    var resources = new Resource(ctx),\n        framebuffers = new Framebuffer(ctx),\n        programManager = new ProgramManager(ctx, resources),\n        shaders = new Shader(ctx, resources);\n\n    var blendExt = ctx.getExtension(\"EXT_blend_minmax\");\n    if (blendExt) {\n        ctx.MAX_EXT = blendExt.MAX_EXT;\n        ctx.MIN_EXT = blendExt.MIN_EXT;\n    }\n\n    ctx.ext = ctx.getExtension(\"ANGLE_instanced_arrays\");\n    enableExtension([\n        \"OES_texture_float\",\n        \"OES_texture_float_linear\",\n        // \"OES_texture_half_float\",\n        // \"OES_texture_half_float_linear\"\n    ]);\n\n    if (container)\n        container.appendChild(canvas);\n\n    function setupWebGL(canvas) {\n        var names = [\"webgl\", \"experimental-webgl\"];\n        var gl = null;\n        for (var i = 0; i < names.length; ++i) {\n            try {\n                gl = canvas.getContext(names[i], glAttr);\n            } catch (e) {}\n            if (gl) break;\n        }\n        return gl;\n    }\n\n    function enableExtension(extensions) {\n        if (!Array.isArray(extensions)) extensions = [extensions];\n        extensions.forEach(function(extension) {\n            var extProps = ctx.getExtension(extension);\n            if (extProps !== null) {\n                Object.keys(extProps).forEach(function(ep) {\n                    if (!ext.hasOwnProperty(ep)) {\n                        ctx.ext[ep] = extProps[ep];\n                    }\n                })\n            }\n        });\n    };\n\n    flexgl.enableExtension = enableExtension;\n\n    /**\n     * Allocate Attributes in vertex buffer array stored in GPU memory\n     * @param  {String} name attribute name\n     * @param  {String} type attribute type: float, vec2, ...\n     * @param  {Array} data data values\n     * @return {Object}      FLexGL object\n     */\n    flexgl.attribute = function(name, type, data) {\n        resources.allocate(\"attribute\", name, type, data);\n        Object.defineProperty(flexgl.attribute, name, {\n            get: function() {\n                return resources.attribute[name];\n            },\n            set: function(data) {\n                resources.attribute[name].load(data);\n            }\n        });\n        return flexgl;\n    };\n    flexgl.buffer = flexgl.attribute; //alias\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type uniform variable type: float, vec2, ...\n     * @param  {Array} data data values\n     * @return {Object}      FLexGL object\n     */\n    flexgl.uniform = function(name, type, data) {\n        resources.allocate(\"uniform\", name, type, data);\n        if (!flexgl.uniform.hasOwnProperty(name)) {\n            Object.defineProperty(flexgl.uniform, name, {\n                get: function() {\n                    return resources.uniform[name];\n                },\n                set: function(data) {\n                    resources.uniform[name].load(data);\n                    if (ctx.isProgram(program))\n                        resources.uniform[name].link(program);\n                }\n            });\n        }\n        return flexgl;\n    };\n\n    flexgl.uniform.serialize = function(aoa) {\n        var sa = [];\n        aoa.forEach(function(a) {\n            sa = sa.concat(a);\n        })\n        return sa;\n    }\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type texture type: unsigned_byte or float, ...\n     * @param  {Array} data data values\n     * @param  {Array} dim [width, height]\n     * @param  {String} [channel='alpha'] WebGL formats (rgba, alpha)\n     * @param  {Object} [sampler=null] FLexGL Uniform Object\n     * @return {Object}      FLexGL object\n     */\n    flexgl.texture = function(name, type, data, dim, channel, sampler) {\n        resources.allocate(\"texture\", name, type, dim, channel, data, sampler);\n        Object.defineProperty(flexgl.texture, name, {\n            get: function() {\n                return resources.texture[name];\n            },\n            set: function(data) {\n                resources.texture[name].load(data);\n            }\n        });\n        return flexgl;\n    }\n\n    flexgl.texture.update = function(name, data, offset, dim) {\n        resources.texture[name].update(data, offset, dim);\n    }\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} [type] Varying variable type: float, vec2, ...\n     * @param  {Number} [size=1] data array\n     * @return {Object}      FLexGL object\n     */\n    flexgl.varying = function(name, type, size) {\n        resources.allocate(\"varying\", name, type, size);\n        return flexgl;\n    };\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type attribute type: float, vec2, ...\n     * @param  {Array} dim [width, height]\n     * @param  {Object} [texture=null] FLexGL Texture Object\n     * @return {Object}      FLexGL object\n     */\n    flexgl.framebuffer = function(name, type, dim, texture) {\n        var texture = texture || resources.allocate('texture', name, type, dim, 'rgba', null);\n\n        framebuffers.create(name, type, dim, texture);\n        if (!flexgl.framebuffer.hasOwnProperty(name)) {\n            Object.defineProperty(flexgl.framebuffer, name, {\n                get: function() {\n                    return framebuffers[name];\n                }\n            });\n        }\n        return flexgl;\n    }\n\n    flexgl.framebuffer.enableRead = function(name) {\n        framebuffers[name].enableRead(program);\n    }\n\n    flexgl.bindFramebuffer = function(fbName) {\n        if (framebuffers.hasOwnProperty(fbName)) {\n            ctx.bindFramebuffer(ctx.FRAMEBUFFER, framebuffers[fbName].ptr);\n        } else {\n            ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        }\n    }\n\n    flexgl.subroutine = function(name, type, fn) {\n        ctx.subroutineNames.push(name);\n        resources.allocate(\"subroutine\", name, type, fn);\n        return flexgl;\n    }\n\n    flexgl.parameter = function(keyValuePairs) {\n        Object.keys(keyValuePairs).forEach(function(key) {\n            ctx._dict[key] = keyValuePairs[key];\n            if (Array.isArray(ctx._dict[key])) {\n                var i = 0;\n                Object.defineProperty(ctx._dict, key, {\n                    get: function() {\n                        return keyValuePairs[key][i++];\n                    },\n                    set: function(newArray) {\n                        i = 0;\n                        ctx._dict[key] = newArray;\n                    }\n                });\n            } else if(typeof(ctx._dict[key]) == 'object') {\n                var dictKeys = Object.keys(ctx._dict[key]);\n                fxgl.uniform('dict'+key, 'float', dictKeys.map(d=>ctx._dict[key][d]));\n            }\n        })\n        return flexgl;\n    }\n\n    flexgl.dictionary = flexgl.parameter;\n\n    flexgl.shader = programManager.shader;\n\n    flexgl.program = function(name, vs, fs) {\n        program = programManager.program(name, vs, fs);\n        return ctx;\n    }\n\n    flexgl.createProgram = function(name, vs, fs) {\n        program = programManager.create(name, vs, fs);\n        return ctx;\n    }\n\n    flexgl.app = function(name, props) {\n        var vs = flexgl.shader.vertex(props.vs),\n            fs = flexgl.shader.fragment(props.fs),\n            fb = props.framebuffer || null;\n\n        flexgl.program(name, vs, fs);\n\n        var draw = props.render || props.draw;\n\n        return function(args) {\n            var gl = flexgl.program(name);\n            return draw.call(gl, args);\n        }\n    }\n\n    flexgl.dimension = function() {\n        return [canvas.width, canvas.height];\n    }\n\n    flexgl.resources = resources;\n\n    return flexgl;\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.typeDetect = factory());\n}(this, (function () { 'use strict';\n\n/* !\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\nvar promiseExists = typeof Promise === 'function';\n\n/* eslint-disable no-undef */\nvar globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist\n\nvar symbolExists = typeof Symbol !== 'undefined';\nvar mapExists = typeof Map !== 'undefined';\nvar setExists = typeof Set !== 'undefined';\nvar weakMapExists = typeof WeakMap !== 'undefined';\nvar weakSetExists = typeof WeakSet !== 'undefined';\nvar dataViewExists = typeof DataView !== 'undefined';\nvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\nvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\nvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\nvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\nvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\nvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\nvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\nvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\nvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\nvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\nvar toStringLeftSliceLength = 8;\nvar toStringRightSliceLength = -1;\n/**\n * ### typeOf (obj)\n *\n * Uses `Object.prototype.toString` to determine the type of an object,\n * normalising behaviour across engine versions & well optimised.\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\nfunction typeDetect(obj) {\n  /* ! Speed optimisation\n   * Pre:\n   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n   * Post:\n   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n   */\n  var typeofObj = typeof obj;\n  if (typeofObj !== 'object') {\n    return typeofObj;\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n   * Post:\n   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n   */\n  if (obj === null) {\n    return 'null';\n  }\n\n  /* ! Spec Conformance\n   * Test: `Object.prototype.toString.call(window)``\n   *  - Node === \"[object global]\"\n   *  - Chrome === \"[object global]\"\n   *  - Firefox === \"[object Window]\"\n   *  - PhantomJS === \"[object Window]\"\n   *  - Safari === \"[object Window]\"\n   *  - IE 11 === \"[object Window]\"\n   *  - IE Edge === \"[object Window]\"\n   * Test: `Object.prototype.toString.call(this)``\n   *  - Chrome Worker === \"[object global]\"\n   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n   */\n  if (obj === globalObject) {\n    return 'global';\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n   * Post:\n   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n   */\n  if (\n    Array.isArray(obj) &&\n    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n  ) {\n    return 'Array';\n  }\n\n  // Not caching existence of `window` and related properties due to potential\n  // for `window` to be unset before tests in quasi-browser environments.\n  if (typeof window === 'object' && window !== null) {\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n     * WhatWG HTML$7.7.3 - The `Location` interface\n     * Test: `Object.prototype.toString.call(window.location)``\n     *  - IE <=11 === \"[object Object]\"\n     *  - IE Edge <=13 === \"[object Object]\"\n     */\n    if (typeof window.location === 'object' && obj === window.location) {\n      return 'Location';\n    }\n\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/#document)\n     * WhatWG HTML$3.1.1 - The `Document` object\n     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n     *       which suggests that browsers should use HTMLTableCellElement for\n     *       both TD and TH elements. WhatWG separates these.\n     *       WhatWG HTML states:\n     *         > For historical reasons, Window objects must also have a\n     *         > writable, configurable, non-enumerable property named\n     *         > HTMLDocument whose value is the Document interface object.\n     * Test: `Object.prototype.toString.call(document)``\n     *  - Chrome === \"[object HTMLDocument]\"\n     *  - Firefox === \"[object HTMLDocument]\"\n     *  - Safari === \"[object HTMLDocument]\"\n     *  - IE <=10 === \"[object Document]\"\n     *  - IE 11 === \"[object HTMLDocument]\"\n     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n     */\n    if (typeof window.document === 'object' && obj === window.document) {\n      return 'Document';\n    }\n\n    if (typeof window.navigator === 'object') {\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n       */\n      if (typeof window.navigator.mimeTypes === 'object' &&\n          obj === window.navigator.mimeTypes) {\n        return 'MimeTypeArray';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n       * Test: `Object.prototype.toString.call(navigator.plugins)``\n       *  - IE <=10 === \"[object MSPluginsCollection]\"\n       */\n      if (typeof window.navigator.plugins === 'object' &&\n          obj === window.navigator.plugins) {\n        return 'PluginArray';\n      }\n    }\n\n    if ((typeof window.HTMLElement === 'function' ||\n        typeof window.HTMLElement === 'object') &&\n        obj instanceof window.HTMLElement) {\n      /* ! Spec Conformance\n      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n      *  - IE <=10 === \"[object HTMLBlockElement]\"\n      */\n      if (obj.tagName === 'BLOCKQUOTE') {\n        return 'HTMLQuoteElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('td'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TD') {\n        return 'HTMLTableDataCellElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('th'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TH') {\n        return 'HTMLTableHeaderCellElement';\n      }\n    }\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n  * Post:\n  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n  */\n  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n  if (typeof stringTag === 'string') {\n    return stringTag;\n  }\n\n  var objPrototype = Object.getPrototypeOf(obj);\n  /* ! Speed optimisation\n  * Pre:\n  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n  * Post:\n  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n  */\n  if (objPrototype === RegExp.prototype) {\n    return 'RegExp';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n  * Post:\n  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n  */\n  if (objPrototype === Date.prototype) {\n    return 'Date';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n   * Test: `Object.prototype.toString.call(Promise.resolve())``\n   *  - Chrome <=47 === \"[object Object]\"\n   *  - Edge <=20 === \"[object Object]\"\n   *  - Firefox 29-Latest === \"[object Promise]\"\n   *  - Safari 7.1-Latest === \"[object Promise]\"\n   */\n  if (promiseExists && objPrototype === Promise.prototype) {\n    return 'Promise';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n  * Post:\n  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n  */\n  if (setExists && objPrototype === Set.prototype) {\n    return 'Set';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n  * Post:\n  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n  */\n  if (mapExists && objPrototype === Map.prototype) {\n    return 'Map';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n  * Post:\n  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n  */\n  if (weakSetExists && objPrototype === WeakSet.prototype) {\n    return 'WeakSet';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n  * Post:\n  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n  */\n  if (weakMapExists && objPrototype === WeakMap.prototype) {\n    return 'WeakMap';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (dataViewExists && objPrototype === DataView.prototype) {\n    return 'DataView';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n   * Test: `Object.prototype.toString.call(new Map().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (mapExists && objPrototype === mapIteratorPrototype) {\n    return 'Map Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n   * Test: `Object.prototype.toString.call(new Set().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (setExists && objPrototype === setIteratorPrototype) {\n    return 'Set Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n    return 'Array Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n    return 'String Iterator';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n  * Post:\n  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n  */\n  if (objPrototype === null) {\n    return 'Object';\n  }\n\n  return Object\n    .prototype\n    .toString\n    .call(obj)\n    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n}\n\nreturn typeDetect;\n\n})));\n","// This is (almost) directly from Node.js utils\n// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js\n\nvar getName = require('get-func-name');\nvar getProperties = require('./getProperties');\nvar getEnumerableProperties = require('./getEnumerableProperties');\nvar config = require('../config');\n\nmodule.exports = inspect;\n\n/**\n * ### .inspect(obj, [showHidden], [depth], [colors])\n *\n * Echoes the value of a value. Tries to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Boolean} showHidden Flag that shows hidden (not enumerable)\n *    properties of objects. Default is false.\n * @param {Number} depth Depth in which to descend in object. Default is 2.\n * @param {Boolean} colors Flag to turn on ANSI escape codes to color the\n *    output. Default is false (no coloring).\n * @namespace Utils\n * @name inspect\n */\nfunction inspect(obj, showHidden, depth, colors) {\n  var ctx = {\n    showHidden: showHidden,\n    seen: [],\n    stylize: function (str) { return str; }\n  };\n  return formatValue(ctx, obj, (typeof depth === 'undefined' ? 2 : depth));\n}\n\n// Returns true if object is a DOM element.\nvar isDOMElement = function (object) {\n  if (typeof HTMLElement === 'object') {\n    return object instanceof HTMLElement;\n  } else {\n    return object &&\n      typeof object === 'object' &&\n      'nodeType' in object &&\n      object.nodeType === 1 &&\n      typeof object.nodeName === 'string';\n  }\n};\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (value && typeof value.inspect === 'function' &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (typeof ret !== 'string') {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // If this is a DOM element, try to get the outer HTML.\n  if (isDOMElement(value)) {\n    if ('outerHTML' in value) {\n      return value.outerHTML;\n      // This value does not have an outerHTML attribute,\n      //   it could still be an XML element\n    } else {\n      // Attempt to serialize it\n      try {\n        if (document.xmlVersion) {\n          var xmlSerializer = new XMLSerializer();\n          return xmlSerializer.serializeToString(value);\n        } else {\n          // Firefox 11- do not support outerHTML\n          //   It does, however, support innerHTML\n          //   Use the following to render the element\n          var ns = \"http://www.w3.org/1999/xhtml\";\n          var container = document.createElementNS(ns, '_');\n\n          container.appendChild(value.cloneNode(false));\n          var html = container.innerHTML\n            .replace('><', '>' + value.innerHTML + '<');\n          container.innerHTML = '';\n          return html;\n        }\n      } catch (err) {\n        // This could be a non-native DOM implementation,\n        //   continue with the normal flow:\n        //   printing the element as if it is an object.\n      }\n    }\n  }\n\n  // Look up the keys of the object.\n  var visibleKeys = getEnumerableProperties(value);\n  var keys = ctx.showHidden ? getProperties(value) : visibleKeys;\n\n  var name, nameSuffix;\n\n  // Some type of object without properties can be shortcut.\n  // In IE, errors have a single `stack` property, or if they are vanilla `Error`,\n  // a `stack` plus `description` property; ignore those for consistency.\n  if (keys.length === 0 || (isError(value) && (\n      (keys.length === 1 && keys[0] === 'stack') ||\n      (keys.length === 2 && keys[0] === 'description' && keys[1] === 'stack')\n     ))) {\n    if (typeof value === 'function') {\n      name = getName(value);\n      nameSuffix = name ? ': ' + name : '';\n      return ctx.stylize('[Function' + nameSuffix + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toUTCString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = ''\n    , array = false\n    , typedArray = false\n    , braces = ['{', '}'];\n\n  if (isTypedArray(value)) {\n    typedArray = true;\n    braces = ['[', ']'];\n  }\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (typeof value === 'function') {\n    name = getName(value);\n    nameSuffix = name ? ': ' + name : '';\n    base = ' [Function' + nameSuffix + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    return formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else if (typedArray) {\n    return formatTypedArray(value);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\nfunction formatPrimitive(ctx, value) {\n  switch (typeof value) {\n    case 'undefined':\n      return ctx.stylize('undefined', 'undefined');\n\n    case 'string':\n      var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                               .replace(/'/g, \"\\\\'\")\n                                               .replace(/\\\\\"/g, '\"') + '\\'';\n      return ctx.stylize(simple, 'string');\n\n    case 'number':\n      if (value === 0 && (1/value) === -Infinity) {\n        return ctx.stylize('-0', 'number');\n      }\n      return ctx.stylize('' + value, 'number');\n\n    case 'boolean':\n      return ctx.stylize('' + value, 'boolean');\n\n    case 'symbol':\n      return ctx.stylize(value.toString(), 'symbol');\n  }\n  // For some reason typeof null is \"object\", so special case here.\n  if (value === null) {\n    return ctx.stylize('null', 'null');\n  }\n}\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (Object.prototype.hasOwnProperty.call(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\nfunction formatTypedArray(value) {\n  var str = '[ ';\n\n  for (var i = 0; i < value.length; ++i) {\n    if (str.length >= config.truncateThreshold - 7) {\n      str += '...';\n      break;\n    }\n    str += value[i] + ', ';\n  }\n  str += ' ]';\n\n  // Removing trailing `, ` if the array was not truncated\n  if (str.indexOf(',  ]') !== -1) {\n    str = str.replace(',  ]', ' ]');\n  }\n\n  return str;\n}\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name;\n  var propDescriptor = Object.getOwnPropertyDescriptor(value, key);\n  var str;\n\n  if (propDescriptor) {\n    if (propDescriptor.get) {\n      if (propDescriptor.set) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (propDescriptor.set) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n  }\n  if (visibleKeys.indexOf(key) < 0) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(value[key]) < 0) {\n      if (recurseTimes === null) {\n        str = formatValue(ctx, value[key], null);\n      } else {\n        str = formatValue(ctx, value[key], recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (typeof name === 'undefined') {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\nfunction reduceToSingleString(output, base, braces) {\n  var length = output.reduce(function(prev, cur) {\n    return prev + cur.length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\nfunction isTypedArray(ar) {\n  // Unfortunately there's no way to check if an object is a TypedArray\n  // We have to check if it's one of these types\n  return (typeof ar === 'object' && /\\w+Array]$/.test(objectToString(ar)));\n}\n\nfunction isArray(ar) {\n  return Array.isArray(ar) ||\n         (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n}\n\nfunction isRegExp(re) {\n  return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n}\n\nfunction isDate(d) {\n  return typeof d === 'object' && objectToString(d) === '[object Date]';\n}\n\nfunction isError(e) {\n  return typeof e === 'object' && objectToString(e) === '[object Error]';\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import { randomJSONs, randomArrays } from './utils';\n\nlet educations = ['High School', 'Some College', 'AA/AS', 'Bachelor', 'Master', 'Doctorate']\nlet races = ['White', 'Asian', 'Black', 'Mixed'];\n\nlet dataProps = [\n    {name: 'BabyMonth', dtype: 'int', dist: 'uniform', min: 1, max: 12},\n    {name: 'BabyGender', dtype: 'string', values: ['F', 'M']},\n    {name: 'BabyWeight', dtype: 'float', dist: 'normal', min: 2, max: 20, mean: 7, std: 2},\n    {name: 'MotherAge', dtype: 'int', dist: 'normal', min: 16, max: 70, mean: 30, std: 10},\n    {name: 'MotherRace', dtype: 'string', values: races},\n    {name: 'MotherStatus', dtype: 'string', values: ['Married', 'Unmarried']},\n    {name: 'MotherEdu', dtype: 'string', values: educations},\n    {name: 'MotherHeight', dtype: 'int', dist: 'normal', min: 120, max: 220, mean: 168, std: 20},\n    {name: 'MotherWeight', dtype: 'float', dist: 'normal', min: 50, max: 290, mean: 100, std: 50},\n    {name: 'MotherWgtGain', dtype: 'float', dist: 'normal', min: 0, max: 100, mean: 30, std: 10},\n    {name: 'FatherAge', dtype: 'int', dist: 'normal', min: 15, max: 90, mean: 32, std: 10},\n    {name: 'FatherRace', dtype: 'string', values: races},\n    {name: 'FatherEdu', dtype: 'string', values: educations}\n];\n\nlet schema = {};\nfor(let prop of dataProps) {\n    schema[prop.name] = prop.dtype;\n}\n\nfunction Babies(arg) {\n    let dataSize = (Number.isInteger(arg)) ? arg : arg.size;\n    let props = arg.props || dataProps;\n    let type = arg.type || 'json';\n    let data = (type === 'json') ? randomJSONs({props: props, size: dataSize}): randomArrays({props: props, size: dataSize});\n    return { data, schema };\n}\n\nBabies.schema = schema;\n\nexport default Babies;","import {boundedRandom} from './utils';\r\n\r\nexport default function ({\r\n  timesteps = 128,\r\n  series = 8,\r\n  interval = 1,\r\n  props,\r\n  label = {time: 'timestamp', series: 'sid'}\r\n}) {\r\n  let dsize = timesteps * series;\r\n  let data = new Array(dsize);\r\n  for(let i = 0; i < timesteps; i++) {\r\n    for(let j = 0; j < series; j++) {\r\n      let record = {};\r\n      record[label.time] = i * interval;\r\n      record[label.series] = j;\r\n      for(let prop of props) {\r\n          if(prop.hasOwnProperty('values')){\r\n              let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\r\n              record[prop.name] = prop.values[vid];\r\n          } else {\r\n              let value = boundedRandom(prop);\r\n              record[prop.name] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\r\n          }\r\n      }\r\n      data[i * series + j] = record;\r\n    }\r\n  }\r\n\r\n  let schema = {};\r\n  schema[label.time] = 'int';\r\n  schema[label.series] = 'float';\r\n  for(let prop of props) {\r\n      schema[prop.name] = prop.dtype;\r\n  }\r\n\r\n  return {\r\n    data,\r\n    schema\r\n  }\r\n}","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/*!\n * assertion-error\n * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>\n * MIT Licensed\n */\n\n/*!\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param {String} excluded properties ...\n * @return {Function}\n */\n\nfunction exclude () {\n  var excludes = [].slice.call(arguments);\n\n  function excludeProps (res, obj) {\n    Object.keys(obj).forEach(function (key) {\n      if (!~excludes.indexOf(key)) res[key] = obj[key];\n    });\n  }\n\n  return function extendExclude () {\n    var args = [].slice.call(arguments)\n      , i = 0\n      , res = {};\n\n    for (; i < args.length; i++) {\n      excludeProps(res, args[i]);\n    }\n\n    return res;\n  };\n};\n\n/*!\n * Primary Exports\n */\n\nmodule.exports = AssertionError;\n\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param {String} message\n * @param {Object} properties to include (optional)\n * @param {callee} start stack function (optional)\n */\n\nfunction AssertionError (message, _props, ssf) {\n  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON')\n    , props = extend(_props || {});\n\n  // default values\n  this.message = message || 'Unspecified AssertionError';\n  this.showDiff = false;\n\n  // copy from properties\n  for (var key in props) {\n    this[key] = props[key];\n  }\n\n  // capture stack trace\n  ssf = ssf || AssertionError;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ssf);\n  } else {\n    try {\n      throw new Error();\n    } catch(e) {\n      this.stack = e.stack;\n    }\n  }\n}\n\n/*!\n * Inherit from Error.prototype\n */\n\nAssertionError.prototype = Object.create(Error.prototype);\n\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param {Boolean} include stack (default: `true`)\n * @return {Object} object that can be `JSON.stringify`\n */\n\nAssertionError.prototype.toJSON = function (stack) {\n  var extend = exclude('constructor', 'toJSON', 'stack')\n    , props = extend({ name: this.name }, this);\n\n  // include stack if exists and not turned off\n  if (false !== stack && this.stack) {\n    props.stack = this.stack;\n  }\n\n  return props;\n};\n","/*!\n * Chai - getActual utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getActual(object, [actual])\n *\n * Returns the `actual` value for an Assertion.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name getActual\n */\n\nmodule.exports = function getActual(obj, args) {\n  return args.length > 4 ? args[4] : obj._obj;\n};\n","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar inspect = require('./inspect');\nvar config = require('../config');\n\n/**\n * ### .objDisplay(object)\n *\n * Determines if an object or an array matches\n * criteria to be inspected in-line for error\n * messages or should be truncated.\n *\n * @param {Mixed} javascript object to inspect\n * @name objDisplay\n * @namespace Utils\n * @api public\n */\n\nmodule.exports = function objDisplay(obj) {\n  var str = inspect(obj)\n    , type = Object.prototype.toString.call(obj);\n\n  if (config.truncateThreshold && str.length >= config.truncateThreshold) {\n    if (type === '[object Function]') {\n      return !obj.name || obj.name === ''\n        ? '[Function]'\n        : '[Function: ' + obj.name + ']';\n    } else if (type === '[object Array]') {\n      return '[ Array(' + obj.length + ') ]';\n    } else if (type === '[object Object]') {\n      var keys = Object.keys(obj)\n        , kstr = keys.length > 2\n          ? keys.splice(0, 2).join(', ') + ', ...'\n          : keys.join(', ');\n      return '{ Object (' + kstr + ') }';\n    } else {\n      return str;\n    }\n  } else {\n    return str;\n  }\n};\n","'use strict';\n\n/* !\n * Chai - getFuncName utility\n * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getFuncName(constructorFn)\n *\n * Returns the name of a function.\n * When a non-function instance is passed, returns `null`.\n * This also includes a polyfill function if `aFunc.name` is not defined.\n *\n * @name getFuncName\n * @param {Function} funct\n * @namespace Utils\n * @api public\n */\n\nvar toString = Function.prototype.toString;\nvar functionNameMatch = /\\s*function(?:\\s|\\s*\\/\\*[^(?:*\\/)]+\\*\\/\\s*)*([^\\s\\(\\/]+)/;\nfunction getFuncName(aFunc) {\n  if (typeof aFunc !== 'function') {\n    return null;\n  }\n\n  var name = '';\n  if (typeof Function.prototype.name === 'undefined' && typeof aFunc.name === 'undefined') {\n    // Here we run a polyfill if Function does not support the `name` property and if aFunc.name is not defined\n    var match = toString.call(aFunc).match(functionNameMatch);\n    if (match) {\n      name = match[1];\n    }\n  } else {\n    // If we've got a `name` property we just use it\n    name = aFunc.name;\n  }\n\n  return name;\n}\n\nmodule.exports = getFuncName;\n","/*!\n * Chai - getProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getProperties(object)\n *\n * This allows the retrieval of property names of an object, enumerable or not,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getProperties\n * @api public\n */\n\nmodule.exports = function getProperties(object) {\n  var result = Object.getOwnPropertyNames(object);\n\n  function addProperty(property) {\n    if (result.indexOf(property) === -1) {\n      result.push(property);\n    }\n  }\n\n  var proto = Object.getPrototypeOf(object);\n  while (proto !== null) {\n    Object.getOwnPropertyNames(proto).forEach(addProperty);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return result;\n};\n","/*!\n * Chai - getOwnEnumerablePropertySymbols utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getOwnEnumerablePropertySymbols(object)\n *\n * This allows the retrieval of directly-owned enumerable property symbols of an\n * object. This function is necessary because Object.getOwnPropertySymbols\n * returns both enumerable and non-enumerable property symbols.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getOwnEnumerablePropertySymbols\n * @api public\n */\n\nmodule.exports = function getOwnEnumerablePropertySymbols(obj) {\n  if (typeof Object.getOwnPropertySymbols !== 'function') return [];\n\n  return Object.getOwnPropertySymbols(obj).filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(obj, sym).enumerable;\n  });\n};\n","import flexgl from './src/main'\r\n\r\nvar root = typeof self == 'object' && self.self === self && self ||\r\n           typeof global == 'object' && global.global === global && global ||\r\n           this;\r\n\r\nroot.flexgl = flexgl;\r\n\r\nexport default flexgl;\r\n\r\nif(typeof module != 'undefined' && module.exports)\r\n    module.exports = flexgl;","(function (window, factory) {\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\nconsole.warn('The npm package jStat is no longer maintained. Instead use jstat (lowercase).');\nconsole.warn('Visit https://www.npmjs.com/package/jstat for more information.');\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(arg) {\n  return typeof arg === 'number' && arg === arg;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  return Math.pow(jStat.product(arr), 1 / arr.length);\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var arrlen = arr.length;\n  var sorted = arr.slice().sort(ascNum);\n  var ranks = new Array(arrlen);\n  var val;\n  for (var i = 0; i < arrlen; i++) {\n    var first = sorted.indexOf(arr[i]);\n    var last = sorted.lastIndexOf(arr[i]);\n    if (first === last) {\n      val = first;\n    } else {\n      val = (first + last) / 2;\n    }\n    ranks[i] = val + 1;\n  }\n  return ranks;\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function(a, b, c) {\n      if (!(this instanceof arguments.callee))\n        return new arguments.callee(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sample: function sample(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    var alen = a.length,\n    alend = alen * 2,\n    vals = new Array(alend),\n    rowshift = alen - 1,\n    colshift = alend - 1,\n    mrow = rowshift - alen + 1,\n    mcol = colshift,\n    i = 0,\n    result = 0,\n    j;\n    // check for special 2x2 case\n    if (alen === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n    for (; i < alend; i++) {\n      vals[i] = 1;\n    }\n    for (i = 0; i < alen; i++) {\n      for (j = 0; j < alen; j++) {\n        vals[(mrow < 0) ? mrow + alen : mrow ] *= a[i][j];\n        vals[(mcol < alen) ? mcol + alen : mcol ] *= a[i][j];\n        mrow++;\n        mcol--;\n      }\n      mrow = --rowshift - alen + 1;\n      mcol = --colshift;\n    }\n    for (i = 0; i < alen; i++) {\n      result += vals[i];\n    }\n    for (; i < alend; i++) {\n      result -= vals[i];\n    }\n    return result;\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n","/*!\n * chai\n * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Dependencies that are used for multiple exports are required here only once\n */\n\nvar pathval = require('pathval');\n\n/*!\n * test utility\n */\n\nexports.test = require('./test');\n\n/*!\n * type utility\n */\n\nexports.type = require('type-detect');\n\n/*!\n * expectTypes utility\n */\nexports.expectTypes = require('./expectTypes');\n\n/*!\n * message utility\n */\n\nexports.getMessage = require('./getMessage');\n\n/*!\n * actual utility\n */\n\nexports.getActual = require('./getActual');\n\n/*!\n * Inspect util\n */\n\nexports.inspect = require('./inspect');\n\n/*!\n * Object Display util\n */\n\nexports.objDisplay = require('./objDisplay');\n\n/*!\n * Flag utility\n */\n\nexports.flag = require('./flag');\n\n/*!\n * Flag transferring utility\n */\n\nexports.transferFlags = require('./transferFlags');\n\n/*!\n * Deep equal utility\n */\n\nexports.eql = require('deep-eql');\n\n/*!\n * Deep path info\n */\n\nexports.getPathInfo = pathval.getPathInfo;\n\n/*!\n * Check if a property exists\n */\n\nexports.hasProperty = pathval.hasProperty;\n\n/*!\n * Function name\n */\n\nexports.getName = require('get-func-name');\n\n/*!\n * add Property\n */\n\nexports.addProperty = require('./addProperty');\n\n/*!\n * add Method\n */\n\nexports.addMethod = require('./addMethod');\n\n/*!\n * overwrite Property\n */\n\nexports.overwriteProperty = require('./overwriteProperty');\n\n/*!\n * overwrite Method\n */\n\nexports.overwriteMethod = require('./overwriteMethod');\n\n/*!\n * Add a chainable method\n */\n\nexports.addChainableMethod = require('./addChainableMethod');\n\n/*!\n * Overwrite chainable method\n */\n\nexports.overwriteChainableMethod = require('./overwriteChainableMethod');\n\n/*!\n * Compare by inspect method\n */\n\nexports.compareByInspect = require('./compareByInspect');\n\n/*!\n * Get own enumerable property symbols method\n */\n\nexports.getOwnEnumerablePropertySymbols = require('./getOwnEnumerablePropertySymbols');\n\n/*!\n * Get own enumerable properties method\n */\n\nexports.getOwnEnumerableProperties = require('./getOwnEnumerableProperties');\n\n/*!\n * Checks error against a given set of criteria\n */\n\nexports.checkError = require('check-error');\n\n/*!\n * Proxify util\n */\n\nexports.proxify = require('./proxify');\n\n/*!\n * addLengthGuard util\n */\n\nexports.addLengthGuard = require('./addLengthGuard');\n\n/*!\n * isProxyEnabled helper\n */\n\nexports.isProxyEnabled = require('./isProxyEnabled');\n\n/*!\n * isNaN method\n */\n\nexports.isNaN = require('./isNaN');\n","'use strict';\n\n/* !\n * Chai - pathval utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * @see https://github.com/logicalparadox/filtr\n * MIT Licensed\n */\n\n/**\n * ### .hasProperty(object, name)\n *\n * This allows checking whether an object has own\n * or inherited from prototype chain named property.\n *\n * Basically does the same thing as the `in`\n * operator but works properly with null/undefined values\n * and other primitives.\n *\n *     var obj = {\n *         arr: ['a', 'b', 'c']\n *       , str: 'Hello'\n *     }\n *\n * The following would be the results.\n *\n *     hasProperty(obj, 'str');  // true\n *     hasProperty(obj, 'constructor');  // true\n *     hasProperty(obj, 'bar');  // false\n *\n *     hasProperty(obj.str, 'length'); // true\n *     hasProperty(obj.str, 1);  // true\n *     hasProperty(obj.str, 5);  // false\n *\n *     hasProperty(obj.arr, 'length');  // true\n *     hasProperty(obj.arr, 2);  // true\n *     hasProperty(obj.arr, 3);  // false\n *\n * @param {Object} object\n * @param {String|Symbol} name\n * @returns {Boolean} whether it exists\n * @namespace Utils\n * @name hasProperty\n * @api public\n */\n\nfunction hasProperty(obj, name) {\n  if (typeof obj === 'undefined' || obj === null) {\n    return false;\n  }\n\n  // The `in` operator does not work with primitives.\n  return name in Object(obj);\n}\n\n/* !\n * ## parsePath(path)\n *\n * Helper function used to parse string object\n * paths. Use in conjunction with `internalGetPathValue`.\n *\n *      var parsed = parsePath('myobject.property.subprop');\n *\n * ### Paths:\n *\n * * Can be infinitely deep and nested.\n * * Arrays are also valid using the formal `myobject.document[3].property`.\n * * Literal dots and brackets (not delimiter) must be backslash-escaped.\n *\n * @param {String} path\n * @returns {Object} parsed\n * @api private\n */\n\nfunction parsePath(path) {\n  var str = path.replace(/([^\\\\])\\[/g, '$1.[');\n  var parts = str.match(/(\\\\\\.|[^.]+?)+/g);\n  return parts.map(function mapMatches(value) {\n    var regexp = /^\\[(\\d+)\\]$/;\n    var mArr = regexp.exec(value);\n    var parsed = null;\n    if (mArr) {\n      parsed = { i: parseFloat(mArr[1]) };\n    } else {\n      parsed = { p: value.replace(/\\\\([.\\[\\]])/g, '$1') };\n    }\n\n    return parsed;\n  });\n}\n\n/* !\n * ## internalGetPathValue(obj, parsed[, pathDepth])\n *\n * Helper companion function for `.parsePath` that returns\n * the value located at the parsed address.\n *\n *      var value = getPathValue(obj, parsed);\n *\n * @param {Object} object to search against\n * @param {Object} parsed definition from `parsePath`.\n * @param {Number} depth (nesting level) of the property we want to retrieve\n * @returns {Object|Undefined} value\n * @api private\n */\n\nfunction internalGetPathValue(obj, parsed, pathDepth) {\n  var temporaryValue = obj;\n  var res = null;\n  pathDepth = (typeof pathDepth === 'undefined' ? parsed.length : pathDepth);\n\n  for (var i = 0; i < pathDepth; i++) {\n    var part = parsed[i];\n    if (temporaryValue) {\n      if (typeof part.p === 'undefined') {\n        temporaryValue = temporaryValue[part.i];\n      } else {\n        temporaryValue = temporaryValue[part.p];\n      }\n\n      if (i === (pathDepth - 1)) {\n        res = temporaryValue;\n      }\n    }\n  }\n\n  return res;\n}\n\n/* !\n * ## internalSetPathValue(obj, value, parsed)\n *\n * Companion function for `parsePath` that sets\n * the value located at a parsed address.\n *\n *  internalSetPathValue(obj, 'value', parsed);\n *\n * @param {Object} object to search and define on\n * @param {*} value to use upon set\n * @param {Object} parsed definition from `parsePath`\n * @api private\n */\n\nfunction internalSetPathValue(obj, val, parsed) {\n  var tempObj = obj;\n  var pathDepth = parsed.length;\n  var part = null;\n  // Here we iterate through every part of the path\n  for (var i = 0; i < pathDepth; i++) {\n    var propName = null;\n    var propVal = null;\n    part = parsed[i];\n\n    // If it's the last part of the path, we set the 'propName' value with the property name\n    if (i === (pathDepth - 1)) {\n      propName = typeof part.p === 'undefined' ? part.i : part.p;\n      // Now we set the property with the name held by 'propName' on object with the desired val\n      tempObj[propName] = val;\n    } else if (typeof part.p !== 'undefined' && tempObj[part.p]) {\n      tempObj = tempObj[part.p];\n    } else if (typeof part.i !== 'undefined' && tempObj[part.i]) {\n      tempObj = tempObj[part.i];\n    } else {\n      // If the obj doesn't have the property we create one with that name to define it\n      var next = parsed[i + 1];\n      // Here we set the name of the property which will be defined\n      propName = typeof part.p === 'undefined' ? part.i : part.p;\n      // Here we decide if this property will be an array or a new object\n      propVal = typeof next.p === 'undefined' ? [] : {};\n      tempObj[propName] = propVal;\n      tempObj = tempObj[propName];\n    }\n  }\n}\n\n/**\n * ### .getPathInfo(object, path)\n *\n * This allows the retrieval of property info in an\n * object given a string path.\n *\n * The path info consists of an object with the\n * following properties:\n *\n * * parent - The parent object of the property referenced by `path`\n * * name - The name of the final property, a number if it was an array indexer\n * * value - The value of the property, if it exists, otherwise `undefined`\n * * exists - Whether the property exists or not\n *\n * @param {Object} object\n * @param {String} path\n * @returns {Object} info\n * @namespace Utils\n * @name getPathInfo\n * @api public\n */\n\nfunction getPathInfo(obj, path) {\n  var parsed = parsePath(path);\n  var last = parsed[parsed.length - 1];\n  var info = {\n    parent: parsed.length > 1 ? internalGetPathValue(obj, parsed, parsed.length - 1) : obj,\n    name: last.p || last.i,\n    value: internalGetPathValue(obj, parsed),\n  };\n  info.exists = hasProperty(info.parent, info.name);\n\n  return info;\n}\n\n/**\n * ### .getPathValue(object, path)\n *\n * This allows the retrieval of values in an\n * object given a string path.\n *\n *     var obj = {\n *         prop1: {\n *             arr: ['a', 'b', 'c']\n *           , str: 'Hello'\n *         }\n *       , prop2: {\n *             arr: [ { nested: 'Universe' } ]\n *           , str: 'Hello again!'\n *         }\n *     }\n *\n * The following would be the results.\n *\n *     getPathValue(obj, 'prop1.str'); // Hello\n *     getPathValue(obj, 'prop1.att[2]'); // b\n *     getPathValue(obj, 'prop2.arr[0].nested'); // Universe\n *\n * @param {Object} object\n * @param {String} path\n * @returns {Object} value or `undefined`\n * @namespace Utils\n * @name getPathValue\n * @api public\n */\n\nfunction getPathValue(obj, path) {\n  var info = getPathInfo(obj, path);\n  return info.value;\n}\n\n/**\n * ### .setPathValue(object, path, value)\n *\n * Define the value in an object at a given string path.\n *\n * ```js\n * var obj = {\n *     prop1: {\n *         arr: ['a', 'b', 'c']\n *       , str: 'Hello'\n *     }\n *   , prop2: {\n *         arr: [ { nested: 'Universe' } ]\n *       , str: 'Hello again!'\n *     }\n * };\n * ```\n *\n * The following would be acceptable.\n *\n * ```js\n * var properties = require('tea-properties');\n * properties.set(obj, 'prop1.str', 'Hello Universe!');\n * properties.set(obj, 'prop1.arr[2]', 'B');\n * properties.set(obj, 'prop2.arr[0].nested.value', { hello: 'universe' });\n * ```\n *\n * @param {Object} object\n * @param {String} path\n * @param {Mixed} value\n * @api private\n */\n\nfunction setPathValue(obj, path, val) {\n  var parsed = parsePath(path);\n  internalSetPathValue(obj, val, parsed);\n  return obj;\n}\n\nmodule.exports = {\n  hasProperty: hasProperty,\n  getPathInfo: getPathInfo,\n  getPathValue: getPathValue,\n  setPathValue: setPathValue,\n};\n","/*!\n * Chai - test utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar flag = require('./flag');\n\n/**\n * ### .test(object, expression)\n *\n * Test and object for expression.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name test\n */\n\nmodule.exports = function test(obj, args) {\n  var negate = flag(obj, 'negate')\n    , expr = args[0];\n  return negate ? !expr : expr;\n};\n","/*!\n * Chai - expectTypes utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .expectTypes(obj, types)\n *\n * Ensures that the object being tested against is of a valid type.\n *\n *     utils.expectTypes(this, ['array', 'object', 'string']);\n *\n * @param {Mixed} obj constructed Assertion\n * @param {Array} type A list of allowed types for this assertion\n * @namespace Utils\n * @name expectTypes\n * @api public\n */\n\nvar AssertionError = require('assertion-error');\nvar flag = require('./flag');\nvar type = require('type-detect');\n\nmodule.exports = function expectTypes(obj, types) {\n  var flagMsg = flag(obj, 'message');\n  var ssfi = flag(obj, 'ssfi');\n\n  flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n  obj = flag(obj, 'object');\n  types = types.map(function (t) { return t.toLowerCase(); });\n  types.sort();\n\n  // Transforms ['lorem', 'ipsum'] into 'a lorem, or an ipsum'\n  var str = types.map(function (t, index) {\n    var art = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(t.charAt(0)) ? 'an' : 'a';\n    var or = types.length > 1 && index === types.length - 1 ? 'or ' : '';\n    return or + art + ' ' + t;\n  }).join(', ');\n\n  var objType = type(obj).toLowerCase();\n\n  if (!types.some(function (expected) { return objType === expected; })) {\n    throw new AssertionError(\n      flagMsg + 'object tested must be ' + str + ', but ' + objType + ' given',\n      undefined,\n      ssfi\n    );\n  }\n};\n","/*!\n * Chai - message composition utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar flag = require('./flag')\n  , getActual = require('./getActual')\n  , objDisplay = require('./objDisplay');\n\n/**\n * ### .getMessage(object, message, negateMessage)\n *\n * Construct the error message based on flags\n * and template tags. Template tags will return\n * a stringified inspection of the object referenced.\n *\n * Message template tags:\n * - `#{this}` current asserted object\n * - `#{act}` actual value\n * - `#{exp}` expected value\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name getMessage\n * @api public\n */\n\nmodule.exports = function getMessage(obj, args) {\n  var negate = flag(obj, 'negate')\n    , val = flag(obj, 'object')\n    , expected = args[3]\n    , actual = getActual(obj, args)\n    , msg = negate ? args[2] : args[1]\n    , flagMsg = flag(obj, 'message');\n\n  if(typeof msg === \"function\") msg = msg();\n  msg = msg || '';\n  msg = msg\n    .replace(/#\\{this\\}/g, function () { return objDisplay(val); })\n    .replace(/#\\{act\\}/g, function () { return objDisplay(actual); })\n    .replace(/#\\{exp\\}/g, function () { return objDisplay(expected); });\n\n  return flagMsg ? flagMsg + ': ' + msg : msg;\n};\n","/*!\n * Chai - getEnumerableProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getEnumerableProperties(object)\n *\n * This allows the retrieval of enumerable property names of an object,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getEnumerableProperties(object) {\n  var result = [];\n  for (var name in object) {\n    result.push(name);\n  }\n  return result;\n};\n","'use strict';\n/* globals Symbol: false, Uint8Array: false, WeakMap: false */\n/*!\n * deep-eql\n * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar type = require('type-detect');\nfunction FakeMap() {\n  this._key = 'chai/deep-eql__' + Math.random() + Date.now();\n}\n\nFakeMap.prototype = {\n  get: function getMap(key) {\n    return key[this._key];\n  },\n  set: function setMap(key, value) {\n    if (Object.isExtensible(key)) {\n      Object.defineProperty(key, this._key, {\n        value: value,\n        configurable: true,\n      });\n    }\n  },\n};\n\nvar MemoizeMap = typeof WeakMap === 'function' ? WeakMap : FakeMap;\n/*!\n * Check to see if the MemoizeMap has recorded a result of the two operands\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {MemoizeMap} memoizeMap\n * @returns {Boolean|null} result\n*/\nfunction memoizeCompare(leftHandOperand, rightHandOperand, memoizeMap) {\n  // Technically, WeakMap keys can *only* be objects, not primitives.\n  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    return null;\n  }\n  var leftHandMap = memoizeMap.get(leftHandOperand);\n  if (leftHandMap) {\n    var result = leftHandMap.get(rightHandOperand);\n    if (typeof result === 'boolean') {\n      return result;\n    }\n  }\n  return null;\n}\n\n/*!\n * Set the result of the equality into the MemoizeMap\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {MemoizeMap} memoizeMap\n * @param {Boolean} result\n*/\nfunction memoizeSet(leftHandOperand, rightHandOperand, memoizeMap, result) {\n  // Technically, WeakMap keys can *only* be objects, not primitives.\n  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    return;\n  }\n  var leftHandMap = memoizeMap.get(leftHandOperand);\n  if (leftHandMap) {\n    leftHandMap.set(rightHandOperand, result);\n  } else {\n    leftHandMap = new MemoizeMap();\n    leftHandMap.set(rightHandOperand, result);\n    memoizeMap.set(leftHandOperand, leftHandMap);\n  }\n}\n\n/*!\n * Primary Export\n */\n\nmodule.exports = deepEqual;\nmodule.exports.MemoizeMap = MemoizeMap;\n\n/**\n * Assert deeply nested sameValue equality between two objects of any type.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (optional) Additional options\n * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.\n * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of\n    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular\n    references to blow the stack.\n * @return {Boolean} equal match\n */\nfunction deepEqual(leftHandOperand, rightHandOperand, options) {\n  // If we have a comparator, we can't assume anything; so bail to its check first.\n  if (options && options.comparator) {\n    return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);\n  }\n\n  var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);\n  if (simpleResult !== null) {\n    return simpleResult;\n  }\n\n  // Deeper comparisons are pushed through to a larger function\n  return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);\n}\n\n/**\n * Many comparisons can be canceled out early via simple equality or primitive checks.\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @return {Boolean|null} equal match\n */\nfunction simpleEqual(leftHandOperand, rightHandOperand) {\n  // Equal references (except for Numbers) can be returned early\n  if (leftHandOperand === rightHandOperand) {\n    // Handle +-0 cases\n    return leftHandOperand !== 0 || 1 / leftHandOperand === 1 / rightHandOperand;\n  }\n\n  // handle NaN cases\n  if (\n    leftHandOperand !== leftHandOperand && // eslint-disable-line no-self-compare\n    rightHandOperand !== rightHandOperand // eslint-disable-line no-self-compare\n  ) {\n    return true;\n  }\n\n  // Anything that is not an 'object', i.e. symbols, functions, booleans, numbers,\n  // strings, and undefined, can be compared by reference.\n  if (isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    // Easy out b/c it would have passed the first equality check\n    return false;\n  }\n  return null;\n}\n\n/*!\n * The main logic of the `deepEqual` function.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (optional) Additional options\n * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.\n * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of\n    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular\n    references to blow the stack.\n * @return {Boolean} equal match\n*/\nfunction extensiveDeepEqual(leftHandOperand, rightHandOperand, options) {\n  options = options || {};\n  options.memoize = options.memoize === false ? false : options.memoize || new MemoizeMap();\n  var comparator = options && options.comparator;\n\n  // Check if a memoized result exists.\n  var memoizeResultLeft = memoizeCompare(leftHandOperand, rightHandOperand, options.memoize);\n  if (memoizeResultLeft !== null) {\n    return memoizeResultLeft;\n  }\n  var memoizeResultRight = memoizeCompare(rightHandOperand, leftHandOperand, options.memoize);\n  if (memoizeResultRight !== null) {\n    return memoizeResultRight;\n  }\n\n  // If a comparator is present, use it.\n  if (comparator) {\n    var comparatorResult = comparator(leftHandOperand, rightHandOperand);\n    // Comparators may return null, in which case we want to go back to default behavior.\n    if (comparatorResult === false || comparatorResult === true) {\n      memoizeSet(leftHandOperand, rightHandOperand, options.memoize, comparatorResult);\n      return comparatorResult;\n    }\n    // To allow comparators to override *any* behavior, we ran them first. Since it didn't decide\n    // what to do, we need to make sure to return the basic tests first before we move on.\n    var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);\n    if (simpleResult !== null) {\n      // Don't memoize this, it takes longer to set/retrieve than to just compare.\n      return simpleResult;\n    }\n  }\n\n  var leftHandType = type(leftHandOperand);\n  if (leftHandType !== type(rightHandOperand)) {\n    memoizeSet(leftHandOperand, rightHandOperand, options.memoize, false);\n    return false;\n  }\n\n  // Temporarily set the operands in the memoize object to prevent blowing the stack\n  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, true);\n\n  var result = extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options);\n  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, result);\n  return result;\n}\n\nfunction extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options) {\n  switch (leftHandType) {\n    case 'String':\n    case 'Number':\n    case 'Boolean':\n    case 'Date':\n      // If these types are their instance types (e.g. `new Number`) then re-deepEqual against their values\n      return deepEqual(leftHandOperand.valueOf(), rightHandOperand.valueOf());\n    case 'Promise':\n    case 'Symbol':\n    case 'function':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Error':\n      return leftHandOperand === rightHandOperand;\n    case 'Arguments':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'Array':\n      return iterableEqual(leftHandOperand, rightHandOperand, options);\n    case 'RegExp':\n      return regexpEqual(leftHandOperand, rightHandOperand);\n    case 'Generator':\n      return generatorEqual(leftHandOperand, rightHandOperand, options);\n    case 'DataView':\n      return iterableEqual(new Uint8Array(leftHandOperand.buffer), new Uint8Array(rightHandOperand.buffer), options);\n    case 'ArrayBuffer':\n      return iterableEqual(new Uint8Array(leftHandOperand), new Uint8Array(rightHandOperand), options);\n    case 'Set':\n      return entriesEqual(leftHandOperand, rightHandOperand, options);\n    case 'Map':\n      return entriesEqual(leftHandOperand, rightHandOperand, options);\n    default:\n      return objectEqual(leftHandOperand, rightHandOperand, options);\n  }\n}\n\n/*!\n * Compare two Regular Expressions for equality.\n *\n * @param {RegExp} leftHandOperand\n * @param {RegExp} rightHandOperand\n * @return {Boolean} result\n */\n\nfunction regexpEqual(leftHandOperand, rightHandOperand) {\n  return leftHandOperand.toString() === rightHandOperand.toString();\n}\n\n/*!\n * Compare two Sets/Maps for equality. Faster than other equality functions.\n *\n * @param {Set} leftHandOperand\n * @param {Set} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction entriesEqual(leftHandOperand, rightHandOperand, options) {\n  // IE11 doesn't support Set#entries or Set#@@iterator, so we need manually populate using Set#forEach\n  if (leftHandOperand.size !== rightHandOperand.size) {\n    return false;\n  }\n  if (leftHandOperand.size === 0) {\n    return true;\n  }\n  var leftHandItems = [];\n  var rightHandItems = [];\n  leftHandOperand.forEach(function gatherEntries(key, value) {\n    leftHandItems.push([ key, value ]);\n  });\n  rightHandOperand.forEach(function gatherEntries(key, value) {\n    rightHandItems.push([ key, value ]);\n  });\n  return iterableEqual(leftHandItems.sort(), rightHandItems.sort(), options);\n}\n\n/*!\n * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.\n *\n * @param {Iterable} leftHandOperand\n * @param {Iterable} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction iterableEqual(leftHandOperand, rightHandOperand, options) {\n  var length = leftHandOperand.length;\n  if (length !== rightHandOperand.length) {\n    return false;\n  }\n  if (length === 0) {\n    return true;\n  }\n  var index = -1;\n  while (++index < length) {\n    if (deepEqual(leftHandOperand[index], rightHandOperand[index], options) === false) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*!\n * Simple equality for generator objects such as those returned by generator functions.\n *\n * @param {Iterable} leftHandOperand\n * @param {Iterable} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction generatorEqual(leftHandOperand, rightHandOperand, options) {\n  return iterableEqual(getGeneratorEntries(leftHandOperand), getGeneratorEntries(rightHandOperand), options);\n}\n\n/*!\n * Determine if the given object has an @@iterator function.\n *\n * @param {Object} target\n * @return {Boolean} `true` if the object has an @@iterator function.\n */\nfunction hasIteratorFunction(target) {\n  return typeof Symbol !== 'undefined' &&\n    typeof target === 'object' &&\n    typeof Symbol.iterator !== 'undefined' &&\n    typeof target[Symbol.iterator] === 'function';\n}\n\n/*!\n * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.\n * This will consume the iterator - which could have side effects depending on the @@iterator implementation.\n *\n * @param {Object} target\n * @returns {Array} an array of entries from the @@iterator function\n */\nfunction getIteratorEntries(target) {\n  if (hasIteratorFunction(target)) {\n    try {\n      return getGeneratorEntries(target[Symbol.iterator]());\n    } catch (iteratorError) {\n      return [];\n    }\n  }\n  return [];\n}\n\n/*!\n * Gets all entries from a Generator. This will consume the generator - which could have side effects.\n *\n * @param {Generator} target\n * @returns {Array} an array of entries from the Generator.\n */\nfunction getGeneratorEntries(generator) {\n  var generatorResult = generator.next();\n  var accumulator = [ generatorResult.value ];\n  while (generatorResult.done === false) {\n    generatorResult = generator.next();\n    accumulator.push(generatorResult.value);\n  }\n  return accumulator;\n}\n\n/*!\n * Gets all own and inherited enumerable keys from a target.\n *\n * @param {Object} target\n * @returns {Array} an array of own and inherited enumerable keys from the target.\n */\nfunction getEnumerableKeys(target) {\n  var keys = [];\n  for (var key in target) {\n    keys.push(key);\n  }\n  return keys;\n}\n\n/*!\n * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of\n * each key. If any value of the given key is not equal, the function will return false (early).\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\nfunction keysEqual(leftHandOperand, rightHandOperand, keys, options) {\n  var length = keys.length;\n  if (length === 0) {\n    return true;\n  }\n  for (var i = 0; i < length; i += 1) {\n    if (deepEqual(leftHandOperand[keys[i]], rightHandOperand[keys[i]], options) === false) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*!\n * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`\n * for each enumerable key in the object.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction objectEqual(leftHandOperand, rightHandOperand, options) {\n  var leftHandKeys = getEnumerableKeys(leftHandOperand);\n  var rightHandKeys = getEnumerableKeys(rightHandOperand);\n  if (leftHandKeys.length && leftHandKeys.length === rightHandKeys.length) {\n    leftHandKeys.sort();\n    rightHandKeys.sort();\n    if (iterableEqual(leftHandKeys, rightHandKeys) === false) {\n      return false;\n    }\n    return keysEqual(leftHandOperand, rightHandOperand, leftHandKeys, options);\n  }\n\n  var leftHandEntries = getIteratorEntries(leftHandOperand);\n  var rightHandEntries = getIteratorEntries(rightHandOperand);\n  if (leftHandEntries.length && leftHandEntries.length === rightHandEntries.length) {\n    leftHandEntries.sort();\n    rightHandEntries.sort();\n    return iterableEqual(leftHandEntries, rightHandEntries, options);\n  }\n\n  if (leftHandKeys.length === 0 &&\n      leftHandEntries.length === 0 &&\n      rightHandKeys.length === 0 &&\n      rightHandEntries.length === 0) {\n    return true;\n  }\n\n  return false;\n}\n\n/*!\n * Returns true if the argument is a primitive.\n *\n * This intentionally returns true for all objects that can be compared by reference,\n * including functions and symbols.\n *\n * @param {Mixed} value\n * @return {Boolean} result\n */\nfunction isPrimitive(value) {\n  return value === null || typeof value !== 'object';\n}\n","/*!\n * Chai - addProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar isProxyEnabled = require('./isProxyEnabled');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .addProperty(ctx, name, getter)\n *\n * Adds a property to the prototype of an object.\n *\n *     utils.addProperty(chai.Assertion.prototype, 'foo', function () {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.instanceof(Foo);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.foo;\n *\n * @param {Object} ctx object to which the property is added\n * @param {String} name of property to add\n * @param {Function} getter function to be used for name\n * @namespace Utils\n * @name addProperty\n * @api public\n */\n\nmodule.exports = function addProperty(ctx, name, getter) {\n  getter = getter === undefined ? function () {} : getter;\n\n  Object.defineProperty(ctx, name,\n    { get: function propertyGetter() {\n        // Setting the `ssfi` flag to `propertyGetter` causes this function to\n        // be the starting point for removing implementation frames from the\n        // stack trace of a failed assertion.\n        //\n        // However, we only want to use this function as the starting point if\n        // the `lockSsfi` flag isn't set and proxy protection is disabled.\n        //\n        // If the `lockSsfi` flag is set, then either this assertion has been\n        // overwritten by another assertion, or this assertion is being invoked\n        // from inside of another assertion. In the first case, the `ssfi` flag\n        // has already been set by the overwriting assertion. In the second\n        // case, the `ssfi` flag has already been set by the outer assertion.\n        //\n        // If proxy protection is enabled, then the `ssfi` flag has already been\n        // set by the proxy getter.\n        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {\n          flag(this, 'ssfi', propertyGetter);\n        }\n\n        var result = getter.call(this);\n        if (result !== undefined)\n          return result;\n\n        var newAssertion = new chai.Assertion();\n        transferFlags(this, newAssertion);\n        return newAssertion;\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - addMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .addMethod(ctx, name, method)\n *\n * Adds a method to the prototype of an object.\n *\n *     utils.addMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(fooStr).to.be.foo('bar');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for name\n * @namespace Utils\n * @name addMethod\n * @api public\n */\n\nmodule.exports = function addMethod(ctx, name, method) {\n  var methodWrapper = function () {\n    // Setting the `ssfi` flag to `methodWrapper` causes this function to be the\n    // starting point for removing implementation frames from the stack trace of\n    // a failed assertion.\n    //\n    // However, we only want to use this function as the starting point if the\n    // `lockSsfi` flag isn't set.\n    //\n    // If the `lockSsfi` flag is set, then either this assertion has been\n    // overwritten by another assertion, or this assertion is being invoked from\n    // inside of another assertion. In the first case, the `ssfi` flag has\n    // already been set by the overwriting assertion. In the second case, the\n    // `ssfi` flag has already been set by the outer assertion.\n    if (!flag(this, 'lockSsfi')) {\n      flag(this, 'ssfi', methodWrapper);\n    }\n\n    var result = method.apply(this, arguments);\n    if (result !== undefined)\n      return result;\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n\n  addLengthGuard(methodWrapper, name, false);\n  ctx[name] = proxify(methodWrapper, name);\n};\n","/*!\n * Chai - overwriteProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar isProxyEnabled = require('./isProxyEnabled');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteProperty(ctx, name, fn)\n *\n * Overwrites an already existing property getter and provides\n * access to previous value. Must return function to use as getter.\n *\n *     utils.overwriteProperty(chai.Assertion.prototype, 'ok', function (_super) {\n *       return function () {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.name).to.equal('bar');\n *         } else {\n *           _super.call(this);\n *         }\n *       }\n *     });\n *\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.ok;\n *\n * @param {Object} ctx object whose property is to be overwritten\n * @param {String} name of property to overwrite\n * @param {Function} getter function that returns a getter function to be used for name\n * @namespace Utils\n * @name overwriteProperty\n * @api public\n */\n\nmodule.exports = function overwriteProperty(ctx, name, getter) {\n  var _get = Object.getOwnPropertyDescriptor(ctx, name)\n    , _super = function () {};\n\n  if (_get && 'function' === typeof _get.get)\n    _super = _get.get\n\n  Object.defineProperty(ctx, name,\n    { get: function overwritingPropertyGetter() {\n        // Setting the `ssfi` flag to `overwritingPropertyGetter` causes this\n        // function to be the starting point for removing implementation frames\n        // from the stack trace of a failed assertion.\n        //\n        // However, we only want to use this function as the starting point if\n        // the `lockSsfi` flag isn't set and proxy protection is disabled.\n        //\n        // If the `lockSsfi` flag is set, then either this assertion has been\n        // overwritten by another assertion, or this assertion is being invoked\n        // from inside of another assertion. In the first case, the `ssfi` flag\n        // has already been set by the overwriting assertion. In the second\n        // case, the `ssfi` flag has already been set by the outer assertion.\n        //\n        // If proxy protection is enabled, then the `ssfi` flag has already been\n        // set by the proxy getter.\n        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {\n          flag(this, 'ssfi', overwritingPropertyGetter);\n        }\n\n        // Setting the `lockSsfi` flag to `true` prevents the overwritten\n        // assertion from changing the `ssfi` flag. By this point, the `ssfi`\n        // flag is already set to the correct starting point for this assertion.\n        var origLockSsfi = flag(this, 'lockSsfi');\n        flag(this, 'lockSsfi', true);\n        var result = getter(_super).call(this);\n        flag(this, 'lockSsfi', origLockSsfi);\n\n        if (result !== undefined) {\n          return result;\n        }\n\n        var newAssertion = new chai.Assertion();\n        transferFlags(this, newAssertion);\n        return newAssertion;\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - overwriteMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteMethod(ctx, name, fn)\n *\n * Overwrites an already existing method and provides\n * access to previous function. Must return function\n * to be used for name.\n *\n *     utils.overwriteMethod(chai.Assertion.prototype, 'equal', function (_super) {\n *       return function (str) {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.value).to.equal(str);\n *         } else {\n *           _super.apply(this, arguments);\n *         }\n *       }\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.equal('bar');\n *\n * @param {Object} ctx object whose method is to be overwritten\n * @param {String} name of method to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @namespace Utils\n * @name overwriteMethod\n * @api public\n */\n\nmodule.exports = function overwriteMethod(ctx, name, method) {\n  var _method = ctx[name]\n    , _super = function () {\n      throw new Error(name + ' is not a function');\n    };\n\n  if (_method && 'function' === typeof _method)\n    _super = _method;\n\n  var overwritingMethodWrapper = function () {\n    // Setting the `ssfi` flag to `overwritingMethodWrapper` causes this\n    // function to be the starting point for removing implementation frames from\n    // the stack trace of a failed assertion.\n    //\n    // However, we only want to use this function as the starting point if the\n    // `lockSsfi` flag isn't set.\n    //\n    // If the `lockSsfi` flag is set, then either this assertion has been\n    // overwritten by another assertion, or this assertion is being invoked from\n    // inside of another assertion. In the first case, the `ssfi` flag has\n    // already been set by the overwriting assertion. In the second case, the\n    // `ssfi` flag has already been set by the outer assertion.\n    if (!flag(this, 'lockSsfi')) {\n      flag(this, 'ssfi', overwritingMethodWrapper);\n    }\n\n    // Setting the `lockSsfi` flag to `true` prevents the overwritten assertion\n    // from changing the `ssfi` flag. By this point, the `ssfi` flag is already\n    // set to the correct starting point for this assertion.\n    var origLockSsfi = flag(this, 'lockSsfi');\n    flag(this, 'lockSsfi', true);\n    var result = method(_super).apply(this, arguments);\n    flag(this, 'lockSsfi', origLockSsfi);\n\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  }\n\n  addLengthGuard(overwritingMethodWrapper, name, false);\n  ctx[name] = proxify(overwritingMethodWrapper, name);\n};\n","/*!\n * Chai - addChainingMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/*!\n * Module variables\n */\n\n// Check whether `Object.setPrototypeOf` is supported\nvar canSetPrototype = typeof Object.setPrototypeOf === 'function';\n\n// Without `Object.setPrototypeOf` support, this module will need to add properties to a function.\n// However, some of functions' own props are not configurable and should be skipped.\nvar testFn = function() {};\nvar excludeNames = Object.getOwnPropertyNames(testFn).filter(function(name) {\n  var propDesc = Object.getOwnPropertyDescriptor(testFn, name);\n\n  // Note: PhantomJS 1.x includes `callee` as one of `testFn`'s own properties,\n  // but then returns `undefined` as the property descriptor for `callee`. As a\n  // workaround, we perform an otherwise unnecessary type-check for `propDesc`,\n  // and then filter it out if it's not an object as it should be.\n  if (typeof propDesc !== 'object')\n    return true;\n\n  return !propDesc.configurable;\n});\n\n// Cache `Function` properties\nvar call  = Function.prototype.call,\n    apply = Function.prototype.apply;\n\n/**\n * ### .addChainableMethod(ctx, name, method, chainingBehavior)\n *\n * Adds a method to an object, such that the method can also be chained.\n *\n *     utils.addChainableMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addChainableMethod('foo', fn, chainingBehavior);\n *\n * The result can then be used as both a method assertion, executing both `method` and\n * `chainingBehavior`, or as a language chain, which only executes `chainingBehavior`.\n *\n *     expect(fooStr).to.be.foo('bar');\n *     expect(fooStr).to.be.foo.equal('foo');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for `name`, when called\n * @param {Function} chainingBehavior function to be called every time the property is accessed\n * @namespace Utils\n * @name addChainableMethod\n * @api public\n */\n\nmodule.exports = function addChainableMethod(ctx, name, method, chainingBehavior) {\n  if (typeof chainingBehavior !== 'function') {\n    chainingBehavior = function () { };\n  }\n\n  var chainableBehavior = {\n      method: method\n    , chainingBehavior: chainingBehavior\n  };\n\n  // save the methods so we can overwrite them later, if we need to.\n  if (!ctx.__methods) {\n    ctx.__methods = {};\n  }\n  ctx.__methods[name] = chainableBehavior;\n\n  Object.defineProperty(ctx, name,\n    { get: function chainableMethodGetter() {\n        chainableBehavior.chainingBehavior.call(this);\n\n        var chainableMethodWrapper = function () {\n          // Setting the `ssfi` flag to `chainableMethodWrapper` causes this\n          // function to be the starting point for removing implementation\n          // frames from the stack trace of a failed assertion.\n          //\n          // However, we only want to use this function as the starting point if\n          // the `lockSsfi` flag isn't set.\n          //\n          // If the `lockSsfi` flag is set, then this assertion is being\n          // invoked from inside of another assertion. In this case, the `ssfi`\n          // flag has already been set by the outer assertion.\n          //\n          // Note that overwriting a chainable method merely replaces the saved\n          // methods in `ctx.__methods` instead of completely replacing the\n          // overwritten assertion. Therefore, an overwriting assertion won't\n          // set the `ssfi` or `lockSsfi` flags.\n          if (!flag(this, 'lockSsfi')) {\n            flag(this, 'ssfi', chainableMethodWrapper);\n          }\n\n          var result = chainableBehavior.method.apply(this, arguments);\n          if (result !== undefined) {\n            return result;\n          }\n\n          var newAssertion = new chai.Assertion();\n          transferFlags(this, newAssertion);\n          return newAssertion;\n        };\n\n        addLengthGuard(chainableMethodWrapper, name, true);\n\n        // Use `Object.setPrototypeOf` if available\n        if (canSetPrototype) {\n          // Inherit all properties from the object by replacing the `Function` prototype\n          var prototype = Object.create(this);\n          // Restore the `call` and `apply` methods from `Function`\n          prototype.call = call;\n          prototype.apply = apply;\n          Object.setPrototypeOf(chainableMethodWrapper, prototype);\n        }\n        // Otherwise, redefine all properties (slow!)\n        else {\n          var asserterNames = Object.getOwnPropertyNames(ctx);\n          asserterNames.forEach(function (asserterName) {\n            if (excludeNames.indexOf(asserterName) !== -1) {\n              return;\n            }\n\n            var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);\n            Object.defineProperty(chainableMethodWrapper, asserterName, pd);\n          });\n        }\n\n        transferFlags(this, chainableMethodWrapper);\n        return proxify(chainableMethodWrapper);\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - overwriteChainableMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteChainableMethod(ctx, name, method, chainingBehavior)\n *\n * Overwrites an already existing chainable method\n * and provides access to the previous function or\n * property.  Must return functions to be used for\n * name.\n *\n *     utils.overwriteChainableMethod(chai.Assertion.prototype, 'lengthOf',\n *       function (_super) {\n *       }\n *     , function (_super) {\n *       }\n *     );\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteChainableMethod('foo', fn, fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.have.lengthOf(3);\n *     expect(myFoo).to.have.lengthOf.above(3);\n *\n * @param {Object} ctx object whose method / property is to be overwritten\n * @param {String} name of method / property to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @param {Function} chainingBehavior function that returns a function to be used for property\n * @namespace Utils\n * @name overwriteChainableMethod\n * @api public\n */\n\nmodule.exports = function overwriteChainableMethod(ctx, name, method, chainingBehavior) {\n  var chainableBehavior = ctx.__methods[name];\n\n  var _chainingBehavior = chainableBehavior.chainingBehavior;\n  chainableBehavior.chainingBehavior = function overwritingChainableMethodGetter() {\n    var result = chainingBehavior(_chainingBehavior).call(this);\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n\n  var _method = chainableBehavior.method;\n  chainableBehavior.method = function overwritingChainableMethodWrapper() {\n    var result = method(_method).apply(this, arguments);\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n};\n","/*!\n * Chai - compareByInspect utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar inspect = require('./inspect');\n\n/**\n * ### .compareByInspect(mixed, mixed)\n *\n * To be used as a compareFunction with Array.prototype.sort. Compares elements\n * using inspect instead of default behavior of using toString so that Symbols\n * and objects with irregular/missing toString can still be sorted without a\n * TypeError.\n *\n * @param {Mixed} first element to compare\n * @param {Mixed} second element to compare\n * @returns {Number} -1 if 'a' should come before 'b'; otherwise 1\n * @name compareByInspect\n * @namespace Utils\n * @api public\n */\n\nmodule.exports = function compareByInspect(a, b) {\n  return inspect(a) < inspect(b) ? -1 : 1;\n};\n","/*!\n * Chai - getOwnEnumerableProperties utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar getOwnEnumerablePropertySymbols = require('./getOwnEnumerablePropertySymbols');\n\n/**\n * ### .getOwnEnumerableProperties(object)\n *\n * This allows the retrieval of directly-owned enumerable property names and\n * symbols of an object. This function is necessary because Object.keys only\n * returns enumerable property names, not enumerable property symbols.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getOwnEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getOwnEnumerableProperties(obj) {\n  return Object.keys(obj).concat(getOwnEnumerablePropertySymbols(obj));\n};\n","'use strict';\n\n/* !\n * Chai - checkError utility\n * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .checkError\n *\n * Checks that an error conforms to a given set of criteria and/or retrieves information about it.\n *\n * @api public\n */\n\n/**\n * ### .compatibleInstance(thrown, errorLike)\n *\n * Checks if two instances are compatible (strict equal).\n * Returns false if errorLike is not an instance of Error, because instances\n * can only be compatible if they're both error instances.\n *\n * @name compatibleInstance\n * @param {Error} thrown error\n * @param {Error|ErrorConstructor} errorLike object to compare against\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleInstance(thrown, errorLike) {\n  return errorLike instanceof Error && thrown === errorLike;\n}\n\n/**\n * ### .compatibleConstructor(thrown, errorLike)\n *\n * Checks if two constructors are compatible.\n * This function can receive either an error constructor or\n * an error instance as the `errorLike` argument.\n * Constructors are compatible if they're the same or if one is\n * an instance of another.\n *\n * @name compatibleConstructor\n * @param {Error} thrown error\n * @param {Error|ErrorConstructor} errorLike object to compare against\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleConstructor(thrown, errorLike) {\n  if (errorLike instanceof Error) {\n    // If `errorLike` is an instance of any error we compare their constructors\n    return thrown.constructor === errorLike.constructor || thrown instanceof errorLike.constructor;\n  } else if (errorLike.prototype instanceof Error || errorLike === Error) {\n    // If `errorLike` is a constructor that inherits from Error, we compare `thrown` to `errorLike` directly\n    return thrown.constructor === errorLike || thrown instanceof errorLike;\n  }\n\n  return false;\n}\n\n/**\n * ### .compatibleMessage(thrown, errMatcher)\n *\n * Checks if an error's message is compatible with a matcher (String or RegExp).\n * If the message contains the String or passes the RegExp test,\n * it is considered compatible.\n *\n * @name compatibleMessage\n * @param {Error} thrown error\n * @param {String|RegExp} errMatcher to look for into the message\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleMessage(thrown, errMatcher) {\n  var comparisonString = typeof thrown === 'string' ? thrown : thrown.message;\n  if (errMatcher instanceof RegExp) {\n    return errMatcher.test(comparisonString);\n  } else if (typeof errMatcher === 'string') {\n    return comparisonString.indexOf(errMatcher) !== -1; // eslint-disable-line no-magic-numbers\n  }\n\n  return false;\n}\n\n/**\n * ### .getFunctionName(constructorFn)\n *\n * Returns the name of a function.\n * This also includes a polyfill function if `constructorFn.name` is not defined.\n *\n * @name getFunctionName\n * @param {Function} constructorFn\n * @namespace Utils\n * @api private\n */\n\nvar functionNameMatch = /\\s*function(?:\\s|\\s*\\/\\*[^(?:*\\/)]+\\*\\/\\s*)*([^\\(\\/]+)/;\nfunction getFunctionName(constructorFn) {\n  var name = '';\n  if (typeof constructorFn.name === 'undefined') {\n    // Here we run a polyfill if constructorFn.name is not defined\n    var match = String(constructorFn).match(functionNameMatch);\n    if (match) {\n      name = match[1];\n    }\n  } else {\n    name = constructorFn.name;\n  }\n\n  return name;\n}\n\n/**\n * ### .getConstructorName(errorLike)\n *\n * Gets the constructor name for an Error instance or constructor itself.\n *\n * @name getConstructorName\n * @param {Error|ErrorConstructor} errorLike\n * @namespace Utils\n * @api public\n */\n\nfunction getConstructorName(errorLike) {\n  var constructorName = errorLike;\n  if (errorLike instanceof Error) {\n    constructorName = getFunctionName(errorLike.constructor);\n  } else if (typeof errorLike === 'function') {\n    // If `err` is not an instance of Error it is an error constructor itself or another function.\n    // If we've got a common function we get its name, otherwise we may need to create a new instance\n    // of the error just in case it's a poorly-constructed error. Please see chaijs/chai/issues/45 to know more.\n    constructorName = getFunctionName(errorLike).trim() ||\n        getFunctionName(new errorLike()); // eslint-disable-line new-cap\n  }\n\n  return constructorName;\n}\n\n/**\n * ### .getMessage(errorLike)\n *\n * Gets the error message from an error.\n * If `err` is a String itself, we return it.\n * If the error has no message, we return an empty string.\n *\n * @name getMessage\n * @param {Error|String} errorLike\n * @namespace Utils\n * @api public\n */\n\nfunction getMessage(errorLike) {\n  var msg = '';\n  if (errorLike && errorLike.message) {\n    msg = errorLike.message;\n  } else if (typeof errorLike === 'string') {\n    msg = errorLike;\n  }\n\n  return msg;\n}\n\nmodule.exports = {\n  compatibleInstance: compatibleInstance,\n  compatibleConstructor: compatibleConstructor,\n  compatibleMessage: compatibleMessage,\n  getMessage: getMessage,\n  getConstructorName: getConstructorName,\n};\n","/*!\n * Chai - isNaN utility\n * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\n * MIT Licensed\n */\n\n/**\n * ### .isNaN(value)\n *\n * Checks if the given value is NaN or not.\n *\n *     utils.isNaN(NaN); // true\n *\n * @param {Value} The value which has to be checked if it is NaN\n * @name isNaN\n * @api private\n */\n\nfunction isNaN(value) {\n  // Refer http://www.ecma-international.org/ecma-262/6.0/#sec-isnan-number\n  // section's NOTE.\n  return value !== value;\n}\n\n// If ECMAScript 6's Number.isNaN is present, prefer that.\nmodule.exports = Number.isNaN || isNaN;\n","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('./config');\n\nmodule.exports = function (_chai, util) {\n  /*!\n   * Module dependencies.\n   */\n\n  var AssertionError = _chai.AssertionError\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  _chai.Assertion = Assertion;\n\n  /*!\n   * Assertion Constructor\n   *\n   * Creates object for chaining.\n   *\n   * `Assertion` objects contain metadata in the form of flags. Three flags can\n   * be assigned during instantiation by passing arguments to this constructor:\n   *\n   * - `object`: This flag contains the target of the assertion. For example, in\n   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will\n   *   contain `numKittens` so that the `equal` assertion can reference it when\n   *   needed.\n   *\n   * - `message`: This flag contains an optional custom error message to be\n   *   prepended to the error message that's generated by the assertion when it\n   *   fails.\n   *\n   * - `ssfi`: This flag stands for \"start stack function indicator\". It\n   *   contains a function reference that serves as the starting point for\n   *   removing frames from the stack trace of the error that's created by the\n   *   assertion when it fails. The goal is to provide a cleaner stack trace to\n   *   end users by removing Chai's internal functions. Note that it only works\n   *   in environments that support `Error.captureStackTrace`, and only when\n   *   `Chai.config.includeStack` hasn't been set to `false`.\n   *\n   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag\n   *   should retain its current value, even as assertions are chained off of\n   *   this object. This is usually set to `true` when creating a new assertion\n   *   from within another assertion. It's also temporarily set to `true` before\n   *   an overwritten assertion gets called by the overwriting assertion.\n   *\n   * @param {Mixed} obj target of the assertion\n   * @param {String} msg (optional) custom error message\n   * @param {Function} ssfi (optional) starting point for removing stack frames\n   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked\n   * @api private\n   */\n\n  function Assertion (obj, msg, ssfi, lockSsfi) {\n    flag(this, 'ssfi', ssfi || Assertion);\n    flag(this, 'lockSsfi', lockSsfi);\n    flag(this, 'object', obj);\n    flag(this, 'message', msg);\n\n    return util.proxify(this);\n  }\n\n  Object.defineProperty(Assertion, 'includeStack', {\n    get: function() {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      return config.includeStack;\n    },\n    set: function(value) {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      config.includeStack = value;\n    }\n  });\n\n  Object.defineProperty(Assertion, 'showDiff', {\n    get: function() {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      return config.showDiff;\n    },\n    set: function(value) {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      config.showDiff = value;\n    }\n  });\n\n  Assertion.addProperty = function (name, fn) {\n    util.addProperty(this.prototype, name, fn);\n  };\n\n  Assertion.addMethod = function (name, fn) {\n    util.addMethod(this.prototype, name, fn);\n  };\n\n  Assertion.addChainableMethod = function (name, fn, chainingBehavior) {\n    util.addChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  Assertion.overwriteProperty = function (name, fn) {\n    util.overwriteProperty(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteMethod = function (name, fn) {\n    util.overwriteMethod(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {\n    util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  /**\n   * ### .assert(expression, message, negateMessage, expected, actual, showDiff)\n   *\n   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.\n   *\n   * @name assert\n   * @param {Philosophical} expression to be tested\n   * @param {String|Function} message or function that returns message to display if expression fails\n   * @param {String|Function} negatedMessage or function that returns negatedMessage to display if negated expression fails\n   * @param {Mixed} expected value (remember to check for negation)\n   * @param {Mixed} actual (optional) will default to `this.obj`\n   * @param {Boolean} showDiff (optional) when set to `true`, assert will display a diff in addition to the message if expression fails\n   * @api private\n   */\n\n  Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {\n    var ok = util.test(this, arguments);\n    if (false !== showDiff) showDiff = true;\n    if (undefined === expected && undefined === _actual) showDiff = false;\n    if (true !== config.showDiff) showDiff = false;\n\n    if (!ok) {\n      msg = util.getMessage(this, arguments);\n      var actual = util.getActual(this, arguments);\n      throw new AssertionError(msg, {\n          actual: actual\n        , expected: expected\n        , showDiff: showDiff\n      }, (config.includeStack) ? this.assert : flag(this, 'ssfi'));\n    }\n  };\n\n  /*!\n   * ### ._obj\n   *\n   * Quick reference to stored `actual` value for plugin developers.\n   *\n   * @api private\n   */\n\n  Object.defineProperty(Assertion.prototype, '_obj',\n    { get: function () {\n        return flag(this, 'object');\n      }\n    , set: function (val) {\n        flag(this, 'object', val);\n      }\n  });\n};\n","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, _) {\n  var Assertion = chai.Assertion\n    , AssertionError = chai.AssertionError\n    , flag = _.flag;\n\n  /**\n   * ### Language Chains\n   *\n   * The following are provided as chainable getters to improve the readability\n   * of your assertions.\n   *\n   * **Chains**\n   *\n   * - to\n   * - be\n   * - been\n   * - is\n   * - that\n   * - which\n   * - and\n   * - has\n   * - have\n   * - with\n   * - at\n   * - of\n   * - same\n   * - but\n   * - does\n   * - still\n   *\n   * @name language chains\n   * @namespace BDD\n   * @api public\n   */\n\n  [ 'to', 'be', 'been', 'is'\n  , 'and', 'has', 'have', 'with'\n  , 'that', 'which', 'at', 'of'\n  , 'same', 'but', 'does', 'still' ].forEach(function (chain) {\n    Assertion.addProperty(chain);\n  });\n\n  /**\n   * ### .not\n   *\n   * Negates all assertions that follow in the chain.\n   *\n   *     expect(function () {}).to.not.throw();\n   *     expect({a: 1}).to.not.have.property('b');\n   *     expect([1, 2]).to.be.an('array').that.does.not.include(3);\n   *\n   * Just because you can negate any assertion with `.not` doesn't mean you\n   * should. With great power comes great responsibility. It's often best to\n   * assert that the one expected output was produced, rather than asserting\n   * that one of countless unexpected outputs wasn't produced. See individual\n   * assertions for specific guidance.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.equal(1); // Not recommended\n   *\n   * @name not\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('not', function () {\n    flag(this, 'negate', true);\n  });\n\n  /**\n   * ### .deep\n   *\n   * Causes all `.equal`, `.include`, `.members`, `.keys`, and `.property`\n   * assertions that follow in the chain to use deep equality instead of strict\n   * (`===`) equality. See the `deep-eql` project page for info on the deep\n   * equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) equals `{a: 1}`\n   *     expect({a: 1}).to.deep.equal({a: 1});\n   *     expect({a: 1}).to.not.equal({a: 1});\n   *\n   *     // Target array deeply (but not strictly) includes `{a: 1}`\n   *     expect([{a: 1}]).to.deep.include({a: 1});\n   *     expect([{a: 1}]).to.not.include({a: 1});\n   *\n   *     // Target object deeply (but not strictly) includes `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});\n   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});\n   *\n   *     // Target array deeply (but not strictly) has member `{a: 1}`\n   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);\n   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);\n   *\n   *     // Target set deeply (but not strictly) has key `{a: 1}`\n   *     expect(new Set([{a: 1}])).to.have.deep.keys([{a: 1}]);\n   *     expect(new Set([{a: 1}])).to.not.have.keys([{a: 1}]);\n   *\n   *     // Target object deeply (but not strictly) has property `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});\n   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});\n   *\n   * @name deep\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('deep', function () {\n    flag(this, 'deep', true);\n  });\n\n  /**\n   * ### .nested\n   *\n   * Enables dot- and bracket-notation in all `.property` and `.include`\n   * assertions that follow in the chain.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');\n   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\\\.a.\\\\[b\\\\]');\n   *     expect({'.a': {'[b]': 'x'}}).to.nested.include({'\\\\.a.\\\\[b\\\\]': 'x'});\n   *\n   * `.nested` cannot be combined with `.own`.\n   *\n   * @name nested\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('nested', function () {\n    flag(this, 'nested', true);\n  });\n\n  /**\n   * ### .own\n   *\n   * Causes all `.property` and `.include` assertions that follow in the chain\n   * to ignore inherited properties.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.have.own.property('a');\n   *     expect({a: 1}).to.have.property('b');\n   *     expect({a: 1}).to.not.have.own.property('b');\n   *\n   *     expect({a: 1}).to.own.include({a: 1});\n   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});\n   *\n   * `.own` cannot be combined with `.nested`.\n   *\n   * @name own\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('own', function () {\n    flag(this, 'own', true);\n  });\n\n  /**\n   * ### .ordered\n   *\n   * Causes all `.members` assertions that follow in the chain to require that\n   * members be in the same order.\n   *\n   *     expect([1, 2]).to.have.ordered.members([1, 2])\n   *       .but.not.have.ordered.members([2, 1]);\n   *\n   * When `.include` and `.ordered` are combined, the ordering begins at the\n   * start of both arrays.\n   *\n   *     expect([1, 2, 3]).to.include.ordered.members([1, 2])\n   *       .but.not.include.ordered.members([2, 3]);\n   *\n   * @name ordered\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('ordered', function () {\n    flag(this, 'ordered', true);\n  });\n\n  /**\n   * ### .any\n   *\n   * Causes all `.keys` assertions that follow in the chain to only require that\n   * the target have at least one of the given keys. This is the opposite of\n   * `.all`, which requires that the target have all of the given keys.\n   *\n   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');\n   *\n   * See the `.keys` doc for guidance on when to use `.any` or `.all`.\n   *\n   * @name any\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('any', function () {\n    flag(this, 'any', true);\n    flag(this, 'all', false);\n  });\n\n  /**\n   * ### .all\n   *\n   * Causes all `.keys` assertions that follow in the chain to require that the\n   * target have all of the given keys. This is the opposite of `.any`, which\n   * only requires that the target have at least one of the given keys.\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *\n   * Note that `.all` is used by default when neither `.all` nor `.any` are\n   * added earlier in the chain. However, it's often best to add `.all` anyway\n   * because it improves readability.\n   *\n   * See the `.keys` doc for guidance on when to use `.any` or `.all`.\n   *\n   * @name all\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('all', function () {\n    flag(this, 'all', true);\n    flag(this, 'any', false);\n  });\n\n  /**\n   * ### .a(type[, msg])\n   *\n   * Asserts that the target's type is equal to the given string `type`. Types\n   * are case insensitive. See the `type-detect` project page for info on the\n   * type detection algorithm: https://github.com/chaijs/type-detect.\n   *\n   *     expect('foo').to.be.a('string');\n   *     expect({a: 1}).to.be.an('object');\n   *     expect(null).to.be.a('null');\n   *     expect(undefined).to.be.an('undefined');\n   *     expect(new Error).to.be.an('error');\n   *     expect(Promise.resolve()).to.be.a('promise');\n   *     expect(new Float32Array).to.be.a('float32array');\n   *     expect(Symbol()).to.be.a('symbol');\n   *\n   * `.a` supports objects that have a custom type set via `Symbol.toStringTag`.\n   *\n   *     var myObj = {\n   *       [Symbol.toStringTag]: 'myCustomType'\n   *     };\n   *\n   *     expect(myObj).to.be.a('myCustomType').but.not.an('object');\n   *\n   * It's often best to use `.a` to check a target's type before making more\n   * assertions on the same target. That way, you avoid unexpected behavior from\n   * any assertion that does different things based on the target's type.\n   *\n   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);\n   *     expect([]).to.be.an('array').that.is.empty;\n   *\n   * Add `.not` earlier in the chain to negate `.a`. However, it's often best to\n   * assert that the target is the expected type, rather than asserting that it\n   * isn't one of many unexpected types.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.an('array'); // Not recommended\n   *\n   * `.a` accepts an optional `msg` argument which is a custom error message to\n   * show when the assertion fails. The message can also be given as the second\n   * argument to `expect`.\n   *\n   *     expect(1).to.be.a('string', 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.a('string');\n   *\n   * `.a` can also be used as a language chain to improve the readability of\n   * your assertions.\n   *\n   *     expect({b: 2}).to.have.a.property('b');\n   *\n   * The alias `.an` can be used interchangeably with `.a`.\n   *\n   * @name a\n   * @alias an\n   * @param {String} type\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function an (type, msg) {\n    if (msg) flag(this, 'message', msg);\n    type = type.toLowerCase();\n    var obj = flag(this, 'object')\n      , article = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(type.charAt(0)) ? 'an ' : 'a ';\n\n    this.assert(\n        type === _.type(obj).toLowerCase()\n      , 'expected #{this} to be ' + article + type\n      , 'expected #{this} not to be ' + article + type\n    );\n  }\n\n  Assertion.addChainableMethod('an', an);\n  Assertion.addChainableMethod('a', an);\n\n  /**\n   * ### .include(val[, msg])\n   *\n   * When the target is a string, `.include` asserts that the given string `val`\n   * is a substring of the target.\n   *\n   *     expect('foobar').to.include('foo');\n   *\n   * When the target is an array, `.include` asserts that the given `val` is a\n   * member of the target.\n   *\n   *     expect([1, 2, 3]).to.include(2);\n   *\n   * When the target is an object, `.include` asserts that the given object\n   * `val`'s properties are a subset of the target's properties.\n   *\n   *     expect({a: 1, b: 2, c: 3}).to.include({a: 1, b: 2});\n   *\n   * When the target is a Set or WeakSet, `.include` asserts that the given `val` is a\n   * member of the target. SameValueZero equality algorithm is used.\n   *\n   *     expect(new Set([1, 2])).to.include(2);\n   *\n   * When the target is a Map, `.include` asserts that the given `val` is one of\n   * the values of the target. SameValueZero equality algorithm is used.\n   *\n   *     expect(new Map([['a', 1], ['b', 2]])).to.include(2);\n   *\n   * Because `.include` does different things based on the target's type, it's\n   * important to check the target's type before using `.include`. See the `.a`\n   * doc for info on testing a target's type.\n   *\n   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);\n   *\n   * By default, strict (`===`) equality is used to compare array members and\n   * object properties. Add `.deep` earlier in the chain to use deep equality\n   * instead (WeakSet targets are not supported). See the `deep-eql` project\n   * page for info on the deep equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target array deeply (but not strictly) includes `{a: 1}`\n   *     expect([{a: 1}]).to.deep.include({a: 1});\n   *     expect([{a: 1}]).to.not.include({a: 1});\n   *\n   *     // Target object deeply (but not strictly) includes `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});\n   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});\n   *\n   * By default, all of the target's properties are searched when working with\n   * objects. This includes properties that are inherited and/or non-enumerable.\n   * Add `.own` earlier in the chain to exclude the target's inherited\n   * properties from the search.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.own.include({a: 1});\n   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});\n   *\n   * Note that a target object is always only searched for `val`'s own\n   * enumerable properties.\n   *\n   * `.deep` and `.own` can be combined.\n   *\n   *     expect({a: {b: 2}}).to.deep.own.include({a: {b: 2}});\n   *\n   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when\n   * referencing nested properties.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 2}}).to.nested.include({'\\\\.a.\\\\[b\\\\]': 2});\n   *\n   * `.deep` and `.nested` can be combined.\n   *\n   *     expect({a: {b: [{c: 3}]}}).to.deep.nested.include({'a.b[0]': {c: 3}});\n   *\n   * `.own` and `.nested` cannot be combined.\n   *\n   * Add `.not` earlier in the chain to negate `.include`.\n   *\n   *     expect('foobar').to.not.include('taco');\n   *     expect([1, 2, 3]).to.not.include(4);\n   *\n   * However, it's dangerous to negate `.include` when the target is an object.\n   * The problem is that it creates uncertain expectations by asserting that the\n   * target object doesn't have all of `val`'s key/value pairs but may or may\n   * not have some of them. It's often best to identify the exact output that's\n   * expected, and then write an assertion that only accepts that exact output.\n   *\n   * When the target object isn't even expected to have `val`'s keys, it's\n   * often best to assert exactly that.\n   *\n   *     expect({c: 3}).to.not.have.any.keys('a', 'b'); // Recommended\n   *     expect({c: 3}).to.not.include({a: 1, b: 2}); // Not recommended\n   *\n   * When the target object is expected to have `val`'s keys, it's often best to\n   * assert that each of the properties has its expected value, rather than\n   * asserting that each property doesn't have one of many unexpected values.\n   *\n   *     expect({a: 3, b: 4}).to.include({a: 3, b: 4}); // Recommended\n   *     expect({a: 3, b: 4}).to.not.include({a: 1, b: 2}); // Not recommended\n   *\n   * `.include` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2, 3]).to.include(4, 'nooo why fail??');\n   *     expect([1, 2, 3], 'nooo why fail??').to.include(4);\n   *\n   * `.include` can also be used as a language chain, causing all `.members` and\n   * `.keys` assertions that follow in the chain to require the target to be a\n   * superset of the expected set, rather than an identical set. Note that\n   * `.members` ignores duplicates in the subset when `.include` is added.\n   *\n   *     // Target object's keys are a superset of ['a', 'b'] but not identical\n   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');\n   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');\n   *\n   *     // Target array is a superset of [1, 2] but not identical\n   *     expect([1, 2, 3]).to.include.members([1, 2]);\n   *     expect([1, 2, 3]).to.not.have.members([1, 2]);\n   *\n   *     // Duplicates in the subset are ignored\n   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);\n   *\n   * Note that adding `.any` earlier in the chain causes the `.keys` assertion\n   * to ignore `.include`.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1}).to.include.any.keys('a', 'b');\n   *     expect({a: 1}).to.have.any.keys('a', 'b');\n   *\n   * The aliases `.includes`, `.contain`, and `.contains` can be used\n   * interchangeably with `.include`.\n   *\n   * @name include\n   * @alias contain\n   * @alias includes\n   * @alias contains\n   * @param {Mixed} val\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function SameValueZero(a, b) {\n    return (_.isNaN(a) && _.isNaN(b)) || a === b;\n  }\n\n  function includeChainingBehavior () {\n    flag(this, 'contains', true);\n  }\n\n  function include (val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var obj = flag(this, 'object')\n      , objType = _.type(obj).toLowerCase()\n      , flagMsg = flag(this, 'message')\n      , negate = flag(this, 'negate')\n      , ssfi = flag(this, 'ssfi')\n      , isDeep = flag(this, 'deep')\n      , descriptor = isDeep ? 'deep ' : '';\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    var included = false;\n\n    switch (objType) {\n      case 'string':\n        included = obj.indexOf(val) !== -1;\n        break;\n\n      case 'weakset':\n        if (isDeep) {\n          throw new AssertionError(\n            flagMsg + 'unable to use .deep.include with WeakSet',\n            undefined,\n            ssfi\n          );\n        }\n\n        included = obj.has(val);\n        break;\n\n      case 'map':\n        var isEql = isDeep ? _.eql : SameValueZero;\n        obj.forEach(function (item) {\n          included = included || isEql(item, val);\n        });\n        break;\n\n      case 'set':\n        if (isDeep) {\n          obj.forEach(function (item) {\n            included = included || _.eql(item, val);\n          });\n        } else {\n          included = obj.has(val);\n        }\n        break;\n\n      case 'array':\n        if (isDeep) {\n          included = obj.some(function (item) {\n            return _.eql(item, val);\n          })\n        } else {\n          included = obj.indexOf(val) !== -1;\n        }\n        break;\n\n      default:\n        // This block is for asserting a subset of properties in an object.\n        // `_.expectTypes` isn't used here because `.include` should work with\n        // objects with a custom `@@toStringTag`.\n        if (val !== Object(val)) {\n          throw new AssertionError(\n            flagMsg + 'object tested must be an array, a map, an object,'\n              + ' a set, a string, or a weakset, but ' + objType + ' given',\n            undefined,\n            ssfi\n          );\n        }\n\n        var props = Object.keys(val)\n          , firstErr = null\n          , numErrs = 0;\n\n        props.forEach(function (prop) {\n          var propAssertion = new Assertion(obj);\n          _.transferFlags(this, propAssertion, true);\n          flag(propAssertion, 'lockSsfi', true);\n\n          if (!negate || props.length === 1) {\n            propAssertion.property(prop, val[prop]);\n            return;\n          }\n\n          try {\n            propAssertion.property(prop, val[prop]);\n          } catch (err) {\n            if (!_.checkError.compatibleConstructor(err, AssertionError)) {\n              throw err;\n            }\n            if (firstErr === null) firstErr = err;\n            numErrs++;\n          }\n        }, this);\n\n        // When validating .not.include with multiple properties, we only want\n        // to throw an assertion error if all of the properties are included,\n        // in which case we throw the first property assertion error that we\n        // encountered.\n        if (negate && props.length > 1 && numErrs === props.length) {\n          throw firstErr;\n        }\n        return;\n    }\n\n    // Assert inclusion in collection or substring in a string.\n    this.assert(\n      included\n      , 'expected #{this} to ' + descriptor + 'include ' + _.inspect(val)\n      , 'expected #{this} to not ' + descriptor + 'include ' + _.inspect(val));\n  }\n\n  Assertion.addChainableMethod('include', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contain', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contains', include, includeChainingBehavior);\n  Assertion.addChainableMethod('includes', include, includeChainingBehavior);\n\n  /**\n   * ### .ok\n   *\n   * Asserts that the target is a truthy value (considered `true` in boolean context).\n   * However, it's often best to assert that the target is strictly (`===`) or\n   * deeply equal to its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.ok; // Not recommended\n   *\n   *     expect(true).to.be.true; // Recommended\n   *     expect(true).to.be.ok; // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.ok`.\n   *\n   *     expect(0).to.equal(0); // Recommended\n   *     expect(0).to.not.be.ok; // Not recommended\n   *\n   *     expect(false).to.be.false; // Recommended\n   *     expect(false).to.not.be.ok; // Not recommended\n   *\n   *     expect(null).to.be.null; // Recommended\n   *     expect(null).to.not.be.ok; // Not recommended\n   *\n   *     expect(undefined).to.be.undefined; // Recommended\n   *     expect(undefined).to.not.be.ok; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(false, 'nooo why fail??').to.be.ok;\n   *\n   * @name ok\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('ok', function () {\n    this.assert(\n        flag(this, 'object')\n      , 'expected #{this} to be truthy'\n      , 'expected #{this} to be falsy');\n  });\n\n  /**\n   * ### .true\n   *\n   * Asserts that the target is strictly (`===`) equal to `true`.\n   *\n   *     expect(true).to.be.true;\n   *\n   * Add `.not` earlier in the chain to negate `.true`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `true`.\n   *\n   *     expect(false).to.be.false; // Recommended\n   *     expect(false).to.not.be.true; // Not recommended\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.true; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(false, 'nooo why fail??').to.be.true;\n   *\n   * @name true\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('true', function () {\n    this.assert(\n        true === flag(this, 'object')\n      , 'expected #{this} to be true'\n      , 'expected #{this} to be false'\n      , flag(this, 'negate') ? false : true\n    );\n  });\n\n  /**\n   * ### .false\n   *\n   * Asserts that the target is strictly (`===`) equal to `false`.\n   *\n   *     expect(false).to.be.false;\n   *\n   * Add `.not` earlier in the chain to negate `.false`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to `false`.\n   *\n   *     expect(true).to.be.true; // Recommended\n   *     expect(true).to.not.be.false; // Not recommended\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.false; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(true, 'nooo why fail??').to.be.false;\n   *\n   * @name false\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('false', function () {\n    this.assert(\n        false === flag(this, 'object')\n      , 'expected #{this} to be false'\n      , 'expected #{this} to be true'\n      , flag(this, 'negate') ? true : false\n    );\n  });\n\n  /**\n   * ### .null\n   *\n   * Asserts that the target is strictly (`===`) equal to `null`.\n   *\n   *     expect(null).to.be.null;\n   *\n   * Add `.not` earlier in the chain to negate `.null`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `null`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.null; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.null;\n   *\n   * @name null\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('null', function () {\n    this.assert(\n        null === flag(this, 'object')\n      , 'expected #{this} to be null'\n      , 'expected #{this} not to be null'\n    );\n  });\n\n  /**\n   * ### .undefined\n   *\n   * Asserts that the target is strictly (`===`) equal to `undefined`.\n   *\n   *     expect(undefined).to.be.undefined;\n   *\n   * Add `.not` earlier in the chain to negate `.undefined`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to `undefined`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.undefined; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.undefined;\n   *\n   * @name undefined\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('undefined', function () {\n    this.assert(\n        undefined === flag(this, 'object')\n      , 'expected #{this} to be undefined'\n      , 'expected #{this} not to be undefined'\n    );\n  });\n\n  /**\n   * ### .NaN\n   *\n   * Asserts that the target is exactly `NaN`.\n   *\n   *     expect(NaN).to.be.NaN;\n   *\n   * Add `.not` earlier in the chain to negate `.NaN`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `NaN`.\n   *\n   *     expect('foo').to.equal('foo'); // Recommended\n   *     expect('foo').to.not.be.NaN; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.NaN;\n   *\n   * @name NaN\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('NaN', function () {\n    this.assert(\n        _.isNaN(flag(this, 'object'))\n        , 'expected #{this} to be NaN'\n        , 'expected #{this} not to be NaN'\n    );\n  });\n\n  /**\n   * ### .exist\n   *\n   * Asserts that the target is not strictly (`===`) equal to either `null` or\n   * `undefined`. However, it's often best to assert that the target is equal to\n   * its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.exist; // Not recommended\n   *\n   *     expect(0).to.equal(0); // Recommended\n   *     expect(0).to.exist; // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.exist`.\n   *\n   *     expect(null).to.be.null; // Recommended\n   *     expect(null).to.not.exist; // Not recommended\n   *\n   *     expect(undefined).to.be.undefined; // Recommended\n   *     expect(undefined).to.not.exist; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(null, 'nooo why fail??').to.exist;\n   *\n   * @name exist\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('exist', function () {\n    var val = flag(this, 'object');\n    this.assert(\n        val !== null && val !== undefined\n      , 'expected #{this} to exist'\n      , 'expected #{this} to not exist'\n    );\n  });\n\n  /**\n   * ### .empty\n   *\n   * When the target is a string or array, `.empty` asserts that the target's\n   * `length` property is strictly (`===`) equal to `0`.\n   *\n   *     expect([]).to.be.empty;\n   *     expect('').to.be.empty;\n   *\n   * When the target is a map or set, `.empty` asserts that the target's `size`\n   * property is strictly equal to `0`.\n   *\n   *     expect(new Set()).to.be.empty;\n   *     expect(new Map()).to.be.empty;\n   *\n   * When the target is a non-function object, `.empty` asserts that the target\n   * doesn't have any own enumerable properties. Properties with Symbol-based\n   * keys are excluded from the count.\n   *\n   *     expect({}).to.be.empty;\n   *\n   * Because `.empty` does different things based on the target's type, it's\n   * important to check the target's type before using `.empty`. See the `.a`\n   * doc for info on testing a target's type.\n   *\n   *     expect([]).to.be.an('array').that.is.empty;\n   *\n   * Add `.not` earlier in the chain to negate `.empty`. However, it's often\n   * best to assert that the target contains its expected number of values,\n   * rather than asserting that it's not empty.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.not.be.empty; // Not recommended\n   *\n   *     expect(new Set([1, 2, 3])).to.have.property('size', 3); // Recommended\n   *     expect(new Set([1, 2, 3])).to.not.be.empty; // Not recommended\n   *\n   *     expect(Object.keys({a: 1})).to.have.lengthOf(1); // Recommended\n   *     expect({a: 1}).to.not.be.empty; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect([1, 2, 3], 'nooo why fail??').to.be.empty;\n   *\n   * @name empty\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('empty', function () {\n    var val = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , flagMsg = flag(this, 'message')\n      , itemsCount;\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    switch (_.type(val).toLowerCase()) {\n      case 'array':\n      case 'string':\n        itemsCount = val.length;\n        break;\n      case 'map':\n      case 'set':\n        itemsCount = val.size;\n        break;\n      case 'weakmap':\n      case 'weakset':\n        throw new AssertionError(\n          flagMsg + '.empty was passed a weak collection',\n          undefined,\n          ssfi\n        );\n      case 'function':\n        var msg = flagMsg + '.empty was passed a function ' + _.getName(val);\n        throw new AssertionError(msg.trim(), undefined, ssfi);\n      default:\n        if (val !== Object(val)) {\n          throw new AssertionError(\n            flagMsg + '.empty was passed non-string primitive ' + _.inspect(val),\n            undefined,\n            ssfi\n          );\n        }\n        itemsCount = Object.keys(val).length;\n    }\n\n    this.assert(\n        0 === itemsCount\n      , 'expected #{this} to be empty'\n      , 'expected #{this} not to be empty'\n    );\n  });\n\n  /**\n   * ### .arguments\n   *\n   * Asserts that the target is an `arguments` object.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments;\n   *     }\n   *\n   *     test();\n   *\n   * Add `.not` earlier in the chain to negate `.arguments`. However, it's often\n   * best to assert which type the target is expected to be, rather than\n   * asserting that its not an `arguments` object.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.arguments; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({}, 'nooo why fail??').to.be.arguments;\n   *\n   * The alias `.Arguments` can be used interchangeably with `.arguments`.\n   *\n   * @name arguments\n   * @alias Arguments\n   * @namespace BDD\n   * @api public\n   */\n\n  function checkArguments () {\n    var obj = flag(this, 'object')\n      , type = _.type(obj);\n    this.assert(\n        'Arguments' === type\n      , 'expected #{this} to be arguments but got ' + type\n      , 'expected #{this} to not be arguments'\n    );\n  }\n\n  Assertion.addProperty('arguments', checkArguments);\n  Assertion.addProperty('Arguments', checkArguments);\n\n  /**\n   * ### .equal(val[, msg])\n   *\n   * Asserts that the target is strictly (`===`) equal to the given `val`.\n   *\n   *     expect(1).to.equal(1);\n   *     expect('foo').to.equal('foo');\n   *\n   * Add `.deep` earlier in the chain to use deep equality instead. See the\n   * `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) equals `{a: 1}`\n   *     expect({a: 1}).to.deep.equal({a: 1});\n   *     expect({a: 1}).to.not.equal({a: 1});\n   *\n   *     // Target array deeply (but not strictly) equals `[1, 2]`\n   *     expect([1, 2]).to.deep.equal([1, 2]);\n   *     expect([1, 2]).to.not.equal([1, 2]);\n   *\n   * Add `.not` earlier in the chain to negate `.equal`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to one of countless unexpected values.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.equal(2); // Not recommended\n   *\n   * `.equal` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.equal(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.equal(2);\n   *\n   * The aliases `.equals` and `eq` can be used interchangeably with `.equal`.\n   *\n   * @name equal\n   * @alias equals\n   * @alias eq\n   * @param {Mixed} val\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertEqual (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'deep')) {\n      var prevLockSsfi = flag(this, 'lockSsfi');\n      flag(this, 'lockSsfi', true);\n      this.eql(val);\n      flag(this, 'lockSsfi', prevLockSsfi);\n    } else {\n      this.assert(\n          val === obj\n        , 'expected #{this} to equal #{exp}'\n        , 'expected #{this} to not equal #{exp}'\n        , val\n        , this._obj\n        , true\n      );\n    }\n  }\n\n  Assertion.addMethod('equal', assertEqual);\n  Assertion.addMethod('equals', assertEqual);\n  Assertion.addMethod('eq', assertEqual);\n\n  /**\n   * ### .eql(obj[, msg])\n   *\n   * Asserts that the target is deeply equal to the given `obj`. See the\n   * `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object is deeply (but not strictly) equal to {a: 1}\n   *     expect({a: 1}).to.eql({a: 1}).but.not.equal({a: 1});\n   *\n   *     // Target array is deeply (but not strictly) equal to [1, 2]\n   *     expect([1, 2]).to.eql([1, 2]).but.not.equal([1, 2]);\n   *\n   * Add `.not` earlier in the chain to negate `.eql`. However, it's often best\n   * to assert that the target is deeply equal to its expected value, rather\n   * than not deeply equal to one of countless unexpected values.\n   *\n   *     expect({a: 1}).to.eql({a: 1}); // Recommended\n   *     expect({a: 1}).to.not.eql({b: 2}); // Not recommended\n   *\n   * `.eql` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect({a: 1}).to.eql({b: 2}, 'nooo why fail??');\n   *     expect({a: 1}, 'nooo why fail??').to.eql({b: 2});\n   *\n   * The alias `.eqls` can be used interchangeably with `.eql`.\n   *\n   * The `.deep.equal` assertion is almost identical to `.eql` but with one\n   * difference: `.deep.equal` causes deep equality comparisons to also be used\n   * for any other assertions that follow in the chain.\n   *\n   * @name eql\n   * @alias eqls\n   * @param {Mixed} obj\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertEql(obj, msg) {\n    if (msg) flag(this, 'message', msg);\n    this.assert(\n        _.eql(obj, flag(this, 'object'))\n      , 'expected #{this} to deeply equal #{exp}'\n      , 'expected #{this} to not deeply equal #{exp}'\n      , obj\n      , this._obj\n      , true\n    );\n  }\n\n  Assertion.addMethod('eql', assertEql);\n  Assertion.addMethod('eqls', assertEql);\n\n  /**\n   * ### .above(n[, msg])\n   *\n   * Asserts that the target is a number or a date greater than the given number or date `n` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.above(1); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.above(2); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.above(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.above`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(1).to.not.be.above(2); // Not recommended\n   *\n   * `.above` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.above(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.above(2);\n   *\n   * The aliases `.gt` and `.greaterThan` can be used interchangeably with\n   * `.above`.\n   *\n   * @name above\n   * @alias gt\n   * @alias greaterThan\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertAbove (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to above must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to above must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount > n\n        , 'expected #{this} to have a ' + descriptor + ' above #{exp} but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + ' above #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj > n\n        , 'expected #{this} to be above #{exp}'\n        , 'expected #{this} to be at most #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('above', assertAbove);\n  Assertion.addMethod('gt', assertAbove);\n  Assertion.addMethod('greaterThan', assertAbove);\n\n  /**\n   * ### .least(n[, msg])\n   *\n   * Asserts that the target is a number or a date greater than or equal to the given\n   * number or date `n` respectively. However, it's often best to assert that the target is equal to\n   * its expected value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.at.least(1); // Not recommended\n   *     expect(2).to.be.at.least(2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than or equal to the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.at.least(2); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.at.least(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.least`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.at.least(2); // Not recommended\n   *\n   * `.least` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.at.least(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.at.least(2);\n   *\n   * The alias `.gte` can be used interchangeably with `.least`.\n   *\n   * @name least\n   * @alias gte\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertLeast (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to least must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to least must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount >= n\n        , 'expected #{this} to have a ' + descriptor + ' at least #{exp} but got #{act}'\n        , 'expected #{this} to have a ' + descriptor + ' below #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj >= n\n        , 'expected #{this} to be at least #{exp}'\n        , 'expected #{this} to be below #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('least', assertLeast);\n  Assertion.addMethod('gte', assertLeast);\n\n  /**\n   * ### .below(n[, msg])\n   *\n   * Asserts that the target is a number or a date less than the given number or date `n` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.below(2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is less than the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.below(4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.length(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.below(4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.below`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.be.below(1); // Not recommended\n   *\n   * `.below` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(2).to.be.below(1, 'nooo why fail??');\n   *     expect(2, 'nooo why fail??').to.be.below(1);\n   *\n   * The aliases `.lt` and `.lessThan` can be used interchangeably with\n   * `.below`.\n   *\n   * @name below\n   * @alias lt\n   * @alias lessThan\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertBelow (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to below must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to below must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount < n\n        , 'expected #{this} to have a ' + descriptor + ' below #{exp} but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + ' below #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj < n\n        , 'expected #{this} to be below #{exp}'\n        , 'expected #{this} to be at least #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('below', assertBelow);\n  Assertion.addMethod('lt', assertBelow);\n  Assertion.addMethod('lessThan', assertBelow);\n\n  /**\n   * ### .most(n[, msg])\n   *\n   * Asserts that the target is a number or a date less than or equal to the given number\n   * or date `n` respectively. However, it's often best to assert that the target is equal to its\n   * expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.at.most(2); // Not recommended\n   *     expect(1).to.be.at.most(1); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is less than or equal to the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.at.most(4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.at.most(4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.most`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.be.at.most(1); // Not recommended\n   *\n   * `.most` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(2).to.be.at.most(1, 'nooo why fail??');\n   *     expect(2, 'nooo why fail??').to.be.at.most(1);\n   *\n   * The alias `.lte` can be used interchangeably with `.most`.\n   *\n   * @name most\n   * @alias lte\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertMost (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to most must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to most must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount <= n\n        , 'expected #{this} to have a ' + descriptor + ' at most #{exp} but got #{act}'\n        , 'expected #{this} to have a ' + descriptor + ' above #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj <= n\n        , 'expected #{this} to be at most #{exp}'\n        , 'expected #{this} to be above #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('most', assertMost);\n  Assertion.addMethod('lte', assertMost);\n\n  /**\n   * ### .within(start, finish[, msg])\n   *\n   * Asserts that the target is a number or a date greater than or equal to the given\n   * number or date `start`, and less than or equal to the given number or date `finish` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.within(1, 3); // Not recommended\n   *     expect(2).to.be.within(2, 3); // Not recommended\n   *     expect(2).to.be.within(1, 2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than or equal to the given number `start`, and less\n   * than or equal to the given number `finish`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.within(2, 4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.within(2, 4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.within`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.within(2, 4); // Not recommended\n   *\n   * `.within` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(4).to.be.within(1, 3, 'nooo why fail??');\n   *     expect(4, 'nooo why fail??').to.be.within(1, 3);\n   *\n   * @name within\n   * @param {Number} start lower bound inclusive\n   * @param {Number} finish upper bound inclusive\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('within', function (start, finish, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , startType = _.type(start).toLowerCase()\n      , finishType = _.type(finish).toLowerCase()\n      , errorMessage\n      , shouldThrow = true\n      , range = (startType === 'date' && finishType === 'date')\n          ? start.toUTCString() + '..' + finish.toUTCString()\n          : start + '..' + finish;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && (startType !== 'date' || finishType !== 'date'))) {\n      errorMessage = msgPrefix + 'the arguments to within must be dates';\n    } else if ((startType !== 'number' || finishType !== 'number') && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the arguments to within must be numbers';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount >= start && itemsCount <= finish\n        , 'expected #{this} to have a ' + descriptor + ' within ' + range\n        , 'expected #{this} to not have a ' + descriptor + ' within ' + range\n      );\n    } else {\n      this.assert(\n          obj >= start && obj <= finish\n        , 'expected #{this} to be within ' + range\n        , 'expected #{this} to not be within ' + range\n      );\n    }\n  });\n\n  /**\n   * ### .instanceof(constructor[, msg])\n   *\n   * Asserts that the target is an instance of the given `constructor`.\n   *\n   *     function Cat () { }\n   *\n   *     expect(new Cat()).to.be.an.instanceof(Cat);\n   *     expect([1, 2]).to.be.an.instanceof(Array);\n   *\n   * Add `.not` earlier in the chain to negate `.instanceof`.\n   *\n   *     expect({a: 1}).to.not.be.an.instanceof(Array);\n   *\n   * `.instanceof` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1).to.be.an.instanceof(Array, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.an.instanceof(Array);\n   *\n   * Due to limitations in ES5, `.instanceof` may not always work as expected\n   * when using a transpiler such as Babel or TypeScript. In particular, it may\n   * produce unexpected results when subclassing built-in object such as\n   * `Array`, `Error`, and `Map`. See your transpiler's docs for details:\n   *\n   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))\n   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))\n   *\n   * The alias `.instanceOf` can be used interchangeably with `.instanceof`.\n   *\n   * @name instanceof\n   * @param {Constructor} constructor\n   * @param {String} msg _optional_\n   * @alias instanceOf\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertInstanceOf (constructor, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var target = flag(this, 'object')\n    var ssfi = flag(this, 'ssfi');\n    var flagMsg = flag(this, 'message');\n\n    try {\n      var isInstanceOf = target instanceof constructor;\n    } catch (err) {\n      if (err instanceof TypeError) {\n        flagMsg = flagMsg ? flagMsg + ': ' : '';\n        throw new AssertionError(\n          flagMsg + 'The instanceof assertion needs a constructor but '\n            + _.type(constructor) + ' was given.',\n          undefined,\n          ssfi\n        );\n      }\n      throw err;\n    }\n\n    var name = _.getName(constructor);\n    if (name === null) {\n      name = 'an unnamed constructor';\n    }\n\n    this.assert(\n        isInstanceOf\n      , 'expected #{this} to be an instance of ' + name\n      , 'expected #{this} to not be an instance of ' + name\n    );\n  };\n\n  Assertion.addMethod('instanceof', assertInstanceOf);\n  Assertion.addMethod('instanceOf', assertInstanceOf);\n\n  /**\n   * ### .property(name[, val[, msg]])\n   *\n   * Asserts that the target has a property with the given key `name`.\n   *\n   *     expect({a: 1}).to.have.property('a');\n   *\n   * When `val` is provided, `.property` also asserts that the property's value\n   * is equal to the given `val`.\n   *\n   *     expect({a: 1}).to.have.property('a', 1);\n   *\n   * By default, strict (`===`) equality is used. Add `.deep` earlier in the\n   * chain to use deep equality instead. See the `deep-eql` project page for\n   * info on the deep equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) has property `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});\n   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});\n   *\n   * The target's enumerable and non-enumerable properties are always included\n   * in the search. By default, both own and inherited properties are included.\n   * Add `.own` earlier in the chain to exclude inherited properties from the\n   * search.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.have.own.property('a');\n   *     expect({a: 1}).to.have.own.property('a', 1);\n   *     expect({a: 1}).to.have.property('b');\n   *     expect({a: 1}).to.not.have.own.property('b');\n   *\n   * `.deep` and `.own` can be combined.\n   *\n   *     expect({x: {a: 1}}).to.have.deep.own.property('x', {a: 1});\n   *\n   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when\n   * referencing nested properties.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]', 'y');\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\\\.a.\\\\[b\\\\]');\n   *\n   * `.deep` and `.nested` can be combined.\n   *\n   *     expect({a: {b: [{c: 3}]}})\n   *       .to.have.deep.nested.property('a.b[0]', {c: 3});\n   *\n   * `.own` and `.nested` cannot be combined.\n   *\n   * Add `.not` earlier in the chain to negate `.property`.\n   *\n   *     expect({a: 1}).to.not.have.property('b');\n   *\n   * However, it's dangerous to negate `.property` when providing `val`. The\n   * problem is that it creates uncertain expectations by asserting that the\n   * target either doesn't have a property with the given key `name`, or that it\n   * does have a property with the given key `name` but its value isn't equal to\n   * the given `val`. It's often best to identify the exact output that's\n   * expected, and then write an assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to have a property with the given key\n   * `name`, it's often best to assert exactly that.\n   *\n   *     expect({b: 2}).to.not.have.property('a'); // Recommended\n   *     expect({b: 2}).to.not.have.property('a', 1); // Not recommended\n   *\n   * When the target is expected to have a property with the given key `name`,\n   * it's often best to assert that the property has its expected value, rather\n   * than asserting that it doesn't have one of many unexpected values.\n   *\n   *     expect({a: 3}).to.have.property('a', 3); // Recommended\n   *     expect({a: 3}).to.not.have.property('a', 1); // Not recommended\n   *\n   * `.property` changes the target of any assertions that follow in the chain\n   * to be the value of the property from the original target object.\n   *\n   *     expect({a: 1}).to.have.property('a').that.is.a('number');\n   *\n   * `.property` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing `val`, only use the\n   * second form.\n   *\n   *     // Recommended\n   *     expect({a: 1}).to.have.property('a', 2, 'nooo why fail??');\n   *     expect({a: 1}, 'nooo why fail??').to.have.property('a', 2);\n   *     expect({a: 1}, 'nooo why fail??').to.have.property('b');\n   *\n   *     // Not recommended\n   *     expect({a: 1}).to.have.property('b', undefined, 'nooo why fail??');\n   *\n   * The above assertion isn't the same thing as not providing `val`. Instead,\n   * it's asserting that the target object has a `b` property that's equal to\n   * `undefined`.\n   *\n   * The assertions `.ownProperty` and `.haveOwnProperty` can be used\n   * interchangeably with `.own.property`.\n   *\n   * @name property\n   * @param {String} name\n   * @param {Mixed} val (optional)\n   * @param {String} msg _optional_\n   * @returns value of property for chaining\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertProperty (name, val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var isNested = flag(this, 'nested')\n      , isOwn = flag(this, 'own')\n      , flagMsg = flag(this, 'message')\n      , obj = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , nameType = typeof name;\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    if (isNested) {\n      if (nameType !== 'string') {\n        throw new AssertionError(\n          flagMsg + 'the argument to property must be a string when using nested syntax',\n          undefined,\n          ssfi\n        );\n      }\n    } else {\n      if (nameType !== 'string' && nameType !== 'number' && nameType !== 'symbol') {\n        throw new AssertionError(\n          flagMsg + 'the argument to property must be a string, number, or symbol',\n          undefined,\n          ssfi\n        );\n      }\n    }\n\n    if (isNested && isOwn) {\n      throw new AssertionError(\n        flagMsg + 'The \"nested\" and \"own\" flags cannot be combined.',\n        undefined,\n        ssfi\n      );\n    }\n\n    if (obj === null || obj === undefined) {\n      throw new AssertionError(\n        flagMsg + 'Target cannot be null or undefined.',\n        undefined,\n        ssfi\n      );\n    }\n\n    var isDeep = flag(this, 'deep')\n      , negate = flag(this, 'negate')\n      , pathInfo = isNested ? _.getPathInfo(obj, name) : null\n      , value = isNested ? pathInfo.value : obj[name];\n\n    var descriptor = '';\n    if (isDeep) descriptor += 'deep ';\n    if (isOwn) descriptor += 'own ';\n    if (isNested) descriptor += 'nested ';\n    descriptor += 'property ';\n\n    var hasProperty;\n    if (isOwn) hasProperty = Object.prototype.hasOwnProperty.call(obj, name);\n    else if (isNested) hasProperty = pathInfo.exists;\n    else hasProperty = _.hasProperty(obj, name);\n\n    // When performing a negated assertion for both name and val, merely having\n    // a property with the given name isn't enough to cause the assertion to\n    // fail. It must both have a property with the given name, and the value of\n    // that property must equal the given val. Therefore, skip this assertion in\n    // favor of the next.\n    if (!negate || arguments.length === 1) {\n      this.assert(\n          hasProperty\n        , 'expected #{this} to have ' + descriptor + _.inspect(name)\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name));\n    }\n\n    if (arguments.length > 1) {\n      this.assert(\n          hasProperty && (isDeep ? _.eql(val, value) : val === value)\n        , 'expected #{this} to have ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}'\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name) + ' of #{act}'\n        , val\n        , value\n      );\n    }\n\n    flag(this, 'object', value);\n  }\n\n  Assertion.addMethod('property', assertProperty);\n\n  function assertOwnProperty (name, value, msg) {\n    flag(this, 'own', true);\n    assertProperty.apply(this, arguments);\n  }\n\n  Assertion.addMethod('ownProperty', assertOwnProperty);\n  Assertion.addMethod('haveOwnProperty', assertOwnProperty);\n\n  /**\n   * ### .ownPropertyDescriptor(name[, descriptor[, msg]])\n   *\n   * Asserts that the target has its own property descriptor with the given key\n   * `name`. Enumerable and non-enumerable properties are included in the\n   * search.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a');\n   *\n   * When `descriptor` is provided, `.ownPropertyDescriptor` also asserts that\n   * the property's descriptor is deeply equal to the given `descriptor`. See\n   * the `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * Add `.not` earlier in the chain to negate `.ownPropertyDescriptor`.\n   *\n   *     expect({a: 1}).to.not.have.ownPropertyDescriptor('b');\n   *\n   * However, it's dangerous to negate `.ownPropertyDescriptor` when providing\n   * a `descriptor`. The problem is that it creates uncertain expectations by\n   * asserting that the target either doesn't have a property descriptor with\n   * the given key `name`, or that it does have a property descriptor with the\n   * given key `name` but its not deeply equal to the given `descriptor`. It's\n   * often best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to have a property descriptor with the given\n   * key `name`, it's often best to assert exactly that.\n   *\n   *     // Recommended\n   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a');\n   *\n   *     // Not recommended\n   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * When the target is expected to have a property descriptor with the given\n   * key `name`, it's often best to assert that the property has its expected\n   * descriptor, rather than asserting that it doesn't have one of many\n   * unexpected descriptors.\n   *\n   *     // Recommended\n   *     expect({a: 3}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 3,\n   *     });\n   *\n   *     // Not recommended\n   *     expect({a: 3}).to.not.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * `.ownPropertyDescriptor` changes the target of any assertions that follow\n   * in the chain to be the value of the property descriptor from the original\n   * target object.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a')\n   *       .that.has.property('enumerable', true);\n   *\n   * `.ownPropertyDescriptor` accepts an optional `msg` argument which is a\n   * custom error message to show when the assertion fails. The message can also\n   * be given as the second argument to `expect`. When not providing\n   * `descriptor`, only use the second form.\n   *\n   *     // Recommended\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 2,\n   *     }, 'nooo why fail??');\n   *\n   *     // Recommended\n   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 2,\n   *     });\n   *\n   *     // Recommended\n   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('b');\n   *\n   *     // Not recommended\n   *     expect({a: 1})\n   *       .to.have.ownPropertyDescriptor('b', undefined, 'nooo why fail??');\n   *\n   * The above assertion isn't the same thing as not providing `descriptor`.\n   * Instead, it's asserting that the target object has a `b` property\n   * descriptor that's deeply equal to `undefined`.\n   *\n   * The alias `.haveOwnPropertyDescriptor` can be used interchangeably with\n   * `.ownPropertyDescriptor`.\n   *\n   * @name ownPropertyDescriptor\n   * @alias haveOwnPropertyDescriptor\n   * @param {String} name\n   * @param {Object} descriptor _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertOwnPropertyDescriptor (name, descriptor, msg) {\n    if (typeof descriptor === 'string') {\n      msg = descriptor;\n      descriptor = null;\n    }\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var actualDescriptor = Object.getOwnPropertyDescriptor(Object(obj), name);\n    if (actualDescriptor && descriptor) {\n      this.assert(\n          _.eql(descriptor, actualDescriptor)\n        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to match ' + _.inspect(descriptor) + ', got ' + _.inspect(actualDescriptor)\n        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to not match ' + _.inspect(descriptor)\n        , descriptor\n        , actualDescriptor\n        , true\n      );\n    } else {\n      this.assert(\n          actualDescriptor\n        , 'expected #{this} to have an own property descriptor for ' + _.inspect(name)\n        , 'expected #{this} to not have an own property descriptor for ' + _.inspect(name)\n      );\n    }\n    flag(this, 'object', actualDescriptor);\n  }\n\n  Assertion.addMethod('ownPropertyDescriptor', assertOwnPropertyDescriptor);\n  Assertion.addMethod('haveOwnPropertyDescriptor', assertOwnPropertyDescriptor);\n\n  /**\n   * ### .lengthOf(n[, msg])\n   *\n   * Asserts that the target's `length` or `size` is equal to the given number\n   * `n`.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3);\n   *     expect('foo').to.have.lengthOf(3);\n   *     expect(new Set([1, 2, 3])).to.have.lengthOf(3);\n   *     expect(new Map([['a', 1], ['b', 2], ['c', 3]])).to.have.lengthOf(3);\n   *\n   * Add `.not` earlier in the chain to negate `.lengthOf`. However, it's often\n   * best to assert that the target's `length` property is equal to its expected\n   * value, rather than not equal to one of many unexpected values.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.not.have.lengthOf(4); // Not recommended\n   *\n   * `.lengthOf` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(2, 'nooo why fail??');\n   *     expect([1, 2, 3], 'nooo why fail??').to.have.lengthOf(2);\n   *\n   * `.lengthOf` can also be used as a language chain, causing all `.above`,\n   * `.below`, `.least`, `.most`, and `.within` assertions that follow in the\n   * chain to use the target's `length` property as the target. However, it's\n   * often best to assert that the target's `length` property is equal to its\n   * expected length, rather than asserting that its `length` property falls\n   * within some range of values.\n   *\n   *     // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf(3);\n   *\n   *     // Not recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.above(2);\n   *     expect([1, 2, 3]).to.have.lengthOf.below(4);\n   *     expect([1, 2, 3]).to.have.lengthOf.at.least(3);\n   *     expect([1, 2, 3]).to.have.lengthOf.at.most(3);\n   *     expect([1, 2, 3]).to.have.lengthOf.within(2,4);\n   *\n   * Due to a compatibility issue, the alias `.length` can't be chained directly\n   * off of an uninvoked method such as `.a`. Therefore, `.length` can't be used\n   * interchangeably with `.lengthOf` in every situation. It's recommended to\n   * always use `.lengthOf` instead of `.length`.\n   *\n   *     expect([1, 2, 3]).to.have.a.length(3); // incompatible; throws error\n   *     expect([1, 2, 3]).to.have.a.lengthOf(3);  // passes as expected\n   *\n   * @name lengthOf\n   * @alias length\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertLengthChain () {\n    flag(this, 'doLength', true);\n  }\n\n  function assertLength (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , objType = _.type(obj).toLowerCase()\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi')\n      , descriptor = 'length'\n      , itemsCount;\n\n    switch (objType) {\n      case 'map':\n      case 'set':\n        descriptor = 'size';\n        itemsCount = obj.size;\n        break;\n      default:\n        new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n        itemsCount = obj.length;\n    }\n\n    this.assert(\n        itemsCount == n\n      , 'expected #{this} to have a ' + descriptor + ' of #{exp} but got #{act}'\n      , 'expected #{this} to not have a ' + descriptor + ' of #{act}'\n      , n\n      , itemsCount\n    );\n  }\n\n  Assertion.addChainableMethod('length', assertLength, assertLengthChain);\n  Assertion.addChainableMethod('lengthOf', assertLength, assertLengthChain);\n\n  /**\n   * ### .match(re[, msg])\n   *\n   * Asserts that the target matches the given regular expression `re`.\n   *\n   *     expect('foobar').to.match(/^foo/);\n   *\n   * Add `.not` earlier in the chain to negate `.match`.\n   *\n   *     expect('foobar').to.not.match(/taco/);\n   *\n   * `.match` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect('foobar').to.match(/taco/, 'nooo why fail??');\n   *     expect('foobar', 'nooo why fail??').to.match(/taco/);\n   *\n   * The alias `.matches` can be used interchangeably with `.match`.\n   *\n   * @name match\n   * @alias matches\n   * @param {RegExp} re\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n  function assertMatch(re, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        re.exec(obj)\n      , 'expected #{this} to match ' + re\n      , 'expected #{this} not to match ' + re\n    );\n  }\n\n  Assertion.addMethod('match', assertMatch);\n  Assertion.addMethod('matches', assertMatch);\n\n  /**\n   * ### .string(str[, msg])\n   *\n   * Asserts that the target string contains the given substring `str`.\n   *\n   *     expect('foobar').to.have.string('bar');\n   *\n   * Add `.not` earlier in the chain to negate `.string`.\n   *\n   *     expect('foobar').to.not.have.string('taco');\n   *\n   * `.string` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect('foobar').to.have.string('taco', 'nooo why fail??');\n   *     expect('foobar', 'nooo why fail??').to.have.string('taco');\n   *\n   * @name string\n   * @param {String} str\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('string', function (str, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(obj, flagMsg, ssfi, true).is.a('string');\n\n    this.assert(\n        ~obj.indexOf(str)\n      , 'expected #{this} to contain ' + _.inspect(str)\n      , 'expected #{this} to not contain ' + _.inspect(str)\n    );\n  });\n\n  /**\n   * ### .keys(key1[, key2[, ...]])\n   *\n   * Asserts that the target object, array, map, or set has the given keys. Only\n   * the target's own inherited properties are included in the search.\n   *\n   * When the target is an object or array, keys can be provided as one or more\n   * string arguments, a single array argument, or a single object argument. In\n   * the latter case, only the keys in the given object matter; the values are\n   * ignored.\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *     expect(['x', 'y']).to.have.all.keys(0, 1);\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys(['a', 'b']);\n   *     expect(['x', 'y']).to.have.all.keys([0, 1]);\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys({a: 4, b: 5}); // ignore 4 and 5\n   *     expect(['x', 'y']).to.have.all.keys({0: 4, 1: 5}); // ignore 4 and 5\n   *\n   * When the target is a map or set, each key must be provided as a separate\n   * argument.\n   *\n   *     expect(new Map([['a', 1], ['b', 2]])).to.have.all.keys('a', 'b');\n   *     expect(new Set(['a', 'b'])).to.have.all.keys('a', 'b');\n   *\n   * Because `.keys` does different things based on the target's type, it's\n   * important to check the target's type before using `.keys`. See the `.a` doc\n   * for info on testing a target's type.\n   *\n   *     expect({a: 1, b: 2}).to.be.an('object').that.has.all.keys('a', 'b');\n   *\n   * By default, strict (`===`) equality is used to compare keys of maps and\n   * sets. Add `.deep` earlier in the chain to use deep equality instead. See\n   * the `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target set deeply (but not strictly) has key `{a: 1}`\n   *     expect(new Set([{a: 1}])).to.have.all.deep.keys([{a: 1}]);\n   *     expect(new Set([{a: 1}])).to.not.have.all.keys([{a: 1}]);\n   *\n   * By default, the target must have all of the given keys and no more. Add\n   * `.any` earlier in the chain to only require that the target have at least\n   * one of the given keys. Also, add `.not` earlier in the chain to negate\n   * `.keys`. It's often best to add `.any` when negating `.keys`, and to use\n   * `.all` when asserting `.keys` without negation.\n   *\n   * When negating `.keys`, `.any` is preferred because `.not.any.keys` asserts\n   * exactly what's expected of the output, whereas `.not.all.keys` creates\n   * uncertain expectations.\n   *\n   *     // Recommended; asserts that target doesn't have any of the given keys\n   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');\n   *\n   *     // Not recommended; asserts that target doesn't have all of the given\n   *     // keys but may or may not have some of them\n   *     expect({a: 1, b: 2}).to.not.have.all.keys('c', 'd');\n   *\n   * When asserting `.keys` without negation, `.all` is preferred because\n   * `.all.keys` asserts exactly what's expected of the output, whereas\n   * `.any.keys` creates uncertain expectations.\n   *\n   *     // Recommended; asserts that target has all the given keys\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *\n   *     // Not recommended; asserts that target has at least one of the given\n   *     // keys but may or may not have more of them\n   *     expect({a: 1, b: 2}).to.have.any.keys('a', 'b');\n   *\n   * Note that `.all` is used by default when neither `.all` nor `.any` appear\n   * earlier in the chain. However, it's often best to add `.all` anyway because\n   * it improves readability.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b'); // Recommended\n   *     expect({a: 1, b: 2}).to.have.keys('a', 'b'); // Not recommended\n   *\n   * Add `.include` earlier in the chain to require that the target's keys be a\n   * superset of the expected keys, rather than identical sets.\n   *\n   *     // Target object's keys are a superset of ['a', 'b'] but not identical\n   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');\n   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');\n   *\n   * However, if `.any` and `.include` are combined, only the `.any` takes\n   * effect. The `.include` is ignored in this case.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1}).to.have.any.keys('a', 'b');\n   *     expect({a: 1}).to.include.any.keys('a', 'b');\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.have.key('b');\n   *\n   * The alias `.key` can be used interchangeably with `.keys`.\n   *\n   * @name keys\n   * @alias key\n   * @param {...String|Array|Object} keys\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertKeys (keys) {\n    var obj = flag(this, 'object')\n      , objType = _.type(obj)\n      , keysType = _.type(keys)\n      , ssfi = flag(this, 'ssfi')\n      , isDeep = flag(this, 'deep')\n      , str\n      , deepStr = ''\n      , actual\n      , ok = true\n      , flagMsg = flag(this, 'message');\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n    var mixedArgsMsg = flagMsg + 'when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments';\n\n    if (objType === 'Map' || objType === 'Set') {\n      deepStr = isDeep ? 'deeply ' : '';\n      actual = [];\n\n      // Map and Set '.keys' aren't supported in IE 11. Therefore, use .forEach.\n      obj.forEach(function (val, key) { actual.push(key) });\n\n      if (keysType !== 'Array') {\n        keys = Array.prototype.slice.call(arguments);\n      }\n    } else {\n      actual = _.getOwnEnumerableProperties(obj);\n\n      switch (keysType) {\n        case 'Array':\n          if (arguments.length > 1) {\n            throw new AssertionError(mixedArgsMsg, undefined, ssfi);\n          }\n          break;\n        case 'Object':\n          if (arguments.length > 1) {\n            throw new AssertionError(mixedArgsMsg, undefined, ssfi);\n          }\n          keys = Object.keys(keys);\n          break;\n        default:\n          keys = Array.prototype.slice.call(arguments);\n      }\n\n      // Only stringify non-Symbols because Symbols would become \"Symbol()\"\n      keys = keys.map(function (val) {\n        return typeof val === 'symbol' ? val : String(val);\n      });\n    }\n\n    if (!keys.length) {\n      throw new AssertionError(flagMsg + 'keys required', undefined, ssfi);\n    }\n\n    var len = keys.length\n      , any = flag(this, 'any')\n      , all = flag(this, 'all')\n      , expected = keys;\n\n    if (!any && !all) {\n      all = true;\n    }\n\n    // Has any\n    if (any) {\n      ok = expected.some(function(expectedKey) {\n        return actual.some(function(actualKey) {\n          if (isDeep) {\n            return _.eql(expectedKey, actualKey);\n          } else {\n            return expectedKey === actualKey;\n          }\n        });\n      });\n    }\n\n    // Has all\n    if (all) {\n      ok = expected.every(function(expectedKey) {\n        return actual.some(function(actualKey) {\n          if (isDeep) {\n            return _.eql(expectedKey, actualKey);\n          } else {\n            return expectedKey === actualKey;\n          }\n        });\n      });\n\n      if (!flag(this, 'contains')) {\n        ok = ok && keys.length == actual.length;\n      }\n    }\n\n    // Key string\n    if (len > 1) {\n      keys = keys.map(function(key) {\n        return _.inspect(key);\n      });\n      var last = keys.pop();\n      if (all) {\n        str = keys.join(', ') + ', and ' + last;\n      }\n      if (any) {\n        str = keys.join(', ') + ', or ' + last;\n      }\n    } else {\n      str = _.inspect(keys[0]);\n    }\n\n    // Form\n    str = (len > 1 ? 'keys ' : 'key ') + str;\n\n    // Have / include\n    str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;\n\n    // Assertion\n    this.assert(\n        ok\n      , 'expected #{this} to ' + deepStr + str\n      , 'expected #{this} to not ' + deepStr + str\n      , expected.slice(0).sort(_.compareByInspect)\n      , actual.sort(_.compareByInspect)\n      , true\n    );\n  }\n\n  Assertion.addMethod('keys', assertKeys);\n  Assertion.addMethod('key', assertKeys);\n\n  /**\n   * ### .throw([errorLike], [errMsgMatcher], [msg])\n   *\n   * When no arguments are provided, `.throw` invokes the target function and\n   * asserts that an error is thrown.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw();\n   *\n   * When one argument is provided, and it's an error constructor, `.throw`\n   * invokes the target function and asserts that an error is thrown that's an\n   * instance of that error constructor.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(TypeError);\n   *\n   * When one argument is provided, and it's an error instance, `.throw` invokes\n   * the target function and asserts that an error is thrown that's strictly\n   * (`===`) equal to that error instance.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(err);\n   *\n   * When one argument is provided, and it's a string, `.throw` invokes the\n   * target function and asserts that an error is thrown with a message that\n   * contains that string.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw('salmon');\n   *\n   * When one argument is provided, and it's a regular expression, `.throw`\n   * invokes the target function and asserts that an error is thrown with a\n   * message that matches that regular expression.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(/salmon/);\n   *\n   * When two arguments are provided, and the first is an error instance or\n   * constructor, and the second is a string or regular expression, `.throw`\n   * invokes the function and asserts that an error is thrown that fulfills both\n   * conditions as described above.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(TypeError, 'salmon');\n   *     expect(badFn).to.throw(TypeError, /salmon/);\n   *     expect(badFn).to.throw(err, 'salmon');\n   *     expect(badFn).to.throw(err, /salmon/);\n   *\n   * Add `.not` earlier in the chain to negate `.throw`.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.not.throw();\n   *\n   * However, it's dangerous to negate `.throw` when providing any arguments.\n   * The problem is that it creates uncertain expectations by asserting that the\n   * target either doesn't throw an error, or that it throws an error but of a\n   * different type than the given type, or that it throws an error of the given\n   * type but with a message that doesn't include the given string. It's often\n   * best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to throw an error, it's often best to assert\n   * exactly that.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.not.throw(); // Recommended\n   *     expect(goodFn).to.not.throw(ReferenceError, 'x'); // Not recommended\n   *\n   * When the target is expected to throw an error, it's often best to assert\n   * that the error is of its expected type, and has a message that includes an\n   * expected string, rather than asserting that it doesn't have one of many\n   * unexpected types, and doesn't have a message that includes some string.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(TypeError, 'salmon'); // Recommended\n   *     expect(badFn).to.not.throw(ReferenceError, 'x'); // Not recommended\n   *\n   * `.throw` changes the target of any assertions that follow in the chain to\n   * be the error object that's thrown.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     err.code = 42;\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(TypeError).with.property('code', 42);\n   *\n   * `.throw` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`. When not providing two arguments, always use\n   * the second form.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.throw(TypeError, 'x', 'nooo why fail??');\n   *     expect(goodFn, 'nooo why fail??').to.throw();\n   *\n   * Due to limitations in ES5, `.throw` may not always work as expected when\n   * using a transpiler such as Babel or TypeScript. In particular, it may\n   * produce unexpected results when subclassing the built-in `Error` object and\n   * then passing the subclassed constructor to `.throw`. See your transpiler's\n   * docs for details:\n   *\n   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))\n   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))\n   *\n   * Beware of some common mistakes when using the `throw` assertion. One common\n   * mistake is to accidentally invoke the function yourself instead of letting\n   * the `throw` assertion invoke the function for you. For example, when\n   * testing if a function named `fn` throws, provide `fn` instead of `fn()` as\n   * the target for the assertion.\n   *\n   *     expect(fn).to.throw();     // Good! Tests `fn` as desired\n   *     expect(fn()).to.throw();   // Bad! Tests result of `fn()`, not `fn`\n   *\n   * If you need to assert that your function `fn` throws when passed certain\n   * arguments, then wrap a call to `fn` inside of another function.\n   *\n   *     expect(function () { fn(42); }).to.throw();  // Function expression\n   *     expect(() => fn(42)).to.throw();             // ES6 arrow function\n   *\n   * Another common mistake is to provide an object method (or any stand-alone\n   * function that relies on `this`) as the target of the assertion. Doing so is\n   * problematic because the `this` context will be lost when the function is\n   * invoked by `.throw`; there's no way for it to know what `this` is supposed\n   * to be. There are two ways around this problem. One solution is to wrap the\n   * method or function call inside of another function. Another solution is to\n   * use `bind`.\n   *\n   *     expect(function () { cat.meow(); }).to.throw();  // Function expression\n   *     expect(() => cat.meow()).to.throw();             // ES6 arrow function\n   *     expect(cat.meow.bind(cat)).to.throw();           // Bind\n   *\n   * Finally, it's worth mentioning that it's a best practice in JavaScript to\n   * only throw `Error` and derivatives of `Error` such as `ReferenceError`,\n   * `TypeError`, and user-defined objects that extend `Error`. No other type of\n   * value will generate a stack trace when initialized. With that said, the\n   * `throw` assertion does technically support any type of value being thrown,\n   * not just `Error` and its derivatives.\n   *\n   * The aliases `.throws` and `.Throw` can be used interchangeably with\n   * `.throw`.\n   *\n   * @name throw\n   * @alias throws\n   * @alias Throw\n   * @param {Error|ErrorConstructor} errorLike\n   * @param {String|RegExp} errMsgMatcher error message\n   * @param {String} msg _optional_\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @returns error for chaining (null if no error)\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertThrows (errorLike, errMsgMatcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , flagMsg = flag(this, 'message')\n      , negate = flag(this, 'negate') || false;\n    new Assertion(obj, flagMsg, ssfi, true).is.a('function');\n\n    if (errorLike instanceof RegExp || typeof errorLike === 'string') {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    var caughtErr;\n    try {\n      obj();\n    } catch (err) {\n      caughtErr = err;\n    }\n\n    // If we have the negate flag enabled and at least one valid argument it means we do expect an error\n    // but we want it to match a given set of criteria\n    var everyArgIsUndefined = errorLike === undefined && errMsgMatcher === undefined;\n\n    // If we've got the negate flag enabled and both args, we should only fail if both aren't compatible\n    // See Issue #551 and PR #683@GitHub\n    var everyArgIsDefined = Boolean(errorLike && errMsgMatcher);\n    var errorLikeFail = false;\n    var errMsgMatcherFail = false;\n\n    // Checking if error was thrown\n    if (everyArgIsUndefined || !everyArgIsUndefined && !negate) {\n      // We need this to display results correctly according to their types\n      var errorLikeString = 'an error';\n      if (errorLike instanceof Error) {\n        errorLikeString = '#{exp}';\n      } else if (errorLike) {\n        errorLikeString = _.checkError.getConstructorName(errorLike);\n      }\n\n      this.assert(\n          caughtErr\n        , 'expected #{this} to throw ' + errorLikeString\n        , 'expected #{this} to not throw an error but #{act} was thrown'\n        , errorLike && errorLike.toString()\n        , (caughtErr instanceof Error ?\n            caughtErr.toString() : (typeof caughtErr === 'string' ? caughtErr : caughtErr &&\n                                    _.checkError.getConstructorName(caughtErr)))\n      );\n    }\n\n    if (errorLike && caughtErr) {\n      // We should compare instances only if `errorLike` is an instance of `Error`\n      if (errorLike instanceof Error) {\n        var isCompatibleInstance = _.checkError.compatibleInstance(caughtErr, errorLike);\n\n        if (isCompatibleInstance === negate) {\n          // These checks were created to ensure we won't fail too soon when we've got both args and a negate\n          // See Issue #551 and PR #683@GitHub\n          if (everyArgIsDefined && negate) {\n            errorLikeFail = true;\n          } else {\n            this.assert(\n                negate\n              , 'expected #{this} to throw #{exp} but #{act} was thrown'\n              , 'expected #{this} to not throw #{exp}' + (caughtErr && !negate ? ' but #{act} was thrown' : '')\n              , errorLike.toString()\n              , caughtErr.toString()\n            );\n          }\n        }\n      }\n\n      var isCompatibleConstructor = _.checkError.compatibleConstructor(caughtErr, errorLike);\n      if (isCompatibleConstructor === negate) {\n        if (everyArgIsDefined && negate) {\n            errorLikeFail = true;\n        } else {\n          this.assert(\n              negate\n            , 'expected #{this} to throw #{exp} but #{act} was thrown'\n            , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')\n            , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))\n            , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))\n          );\n        }\n      }\n    }\n\n    if (caughtErr && errMsgMatcher !== undefined && errMsgMatcher !== null) {\n      // Here we check compatible messages\n      var placeholder = 'including';\n      if (errMsgMatcher instanceof RegExp) {\n        placeholder = 'matching'\n      }\n\n      var isCompatibleMessage = _.checkError.compatibleMessage(caughtErr, errMsgMatcher);\n      if (isCompatibleMessage === negate) {\n        if (everyArgIsDefined && negate) {\n            errMsgMatcherFail = true;\n        } else {\n          this.assert(\n            negate\n            , 'expected #{this} to throw error ' + placeholder + ' #{exp} but got #{act}'\n            , 'expected #{this} to throw error not ' + placeholder + ' #{exp}'\n            ,  errMsgMatcher\n            ,  _.checkError.getMessage(caughtErr)\n          );\n        }\n      }\n    }\n\n    // If both assertions failed and both should've matched we throw an error\n    if (errorLikeFail && errMsgMatcherFail) {\n      this.assert(\n        negate\n        , 'expected #{this} to throw #{exp} but #{act} was thrown'\n        , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')\n        , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))\n        , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))\n      );\n    }\n\n    flag(this, 'object', caughtErr);\n  };\n\n  Assertion.addMethod('throw', assertThrows);\n  Assertion.addMethod('throws', assertThrows);\n  Assertion.addMethod('Throw', assertThrows);\n\n  /**\n   * ### .respondTo(method[, msg])\n   *\n   * When the target is a non-function object, `.respondTo` asserts that the\n   * target has a method with the given name `method`. The method can be own or\n   * inherited, and it can be enumerable or non-enumerable.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(new Cat()).to.respondTo('meow');\n   *\n   * When the target is a function, `.respondTo` asserts that the target's\n   * `prototype` property has a method with the given name `method`. Again, the\n   * method can be own or inherited, and it can be enumerable or non-enumerable.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(Cat).to.respondTo('meow');\n   *\n   * Add `.itself` earlier in the chain to force `.respondTo` to treat the\n   * target as a non-function object, even if it's a function. Thus, it asserts\n   * that the target has a method with the given name `method`, rather than\n   * asserting that the target's `prototype` property has a method with the\n   * given name `method`.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *     Cat.hiss = function () {};\n   *\n   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');\n   *\n   * When not adding `.itself`, it's important to check the target's type before\n   * using `.respondTo`. See the `.a` doc for info on checking a target's type.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(new Cat()).to.be.an('object').that.respondsTo('meow');\n   *\n   * Add `.not` earlier in the chain to negate `.respondTo`.\n   *\n   *     function Dog () {}\n   *     Dog.prototype.bark = function () {};\n   *\n   *     expect(new Dog()).to.not.respondTo('meow');\n   *\n   * `.respondTo` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect({}).to.respondTo('meow', 'nooo why fail??');\n   *     expect({}, 'nooo why fail??').to.respondTo('meow');\n   *\n   * The alias `.respondsTo` can be used interchangeably with `.respondTo`.\n   *\n   * @name respondTo\n   * @alias respondsTo\n   * @param {String} method\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function respondTo (method, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , itself = flag(this, 'itself')\n      , context = ('function' === typeof obj && !itself)\n        ? obj.prototype[method]\n        : obj[method];\n\n    this.assert(\n        'function' === typeof context\n      , 'expected #{this} to respond to ' + _.inspect(method)\n      , 'expected #{this} to not respond to ' + _.inspect(method)\n    );\n  }\n\n  Assertion.addMethod('respondTo', respondTo);\n  Assertion.addMethod('respondsTo', respondTo);\n\n  /**\n   * ### .itself\n   *\n   * Forces all `.respondTo` assertions that follow in the chain to behave as if\n   * the target is a non-function object, even if it's a function. Thus, it\n   * causes `.respondTo` to assert that the target has a method with the given\n   * name, rather than asserting that the target's `prototype` property has a\n   * method with the given name.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *     Cat.hiss = function () {};\n   *\n   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');\n   *\n   * @name itself\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('itself', function () {\n    flag(this, 'itself', true);\n  });\n\n  /**\n   * ### .satisfy(matcher[, msg])\n   *\n   * Invokes the given `matcher` function with the target being passed as the\n   * first argument, and asserts that the value returned is truthy.\n   *\n   *     expect(1).to.satisfy(function(num) {\n   *       return num > 0;\n   *     });\n   *\n   * Add `.not` earlier in the chain to negate `.satisfy`.\n   *\n   *     expect(1).to.not.satisfy(function(num) {\n   *       return num > 2;\n   *     });\n   *\n   * `.satisfy` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1).to.satisfy(function(num) {\n   *       return num > 2;\n   *     }, 'nooo why fail??');\n   *\n   *     expect(1, 'nooo why fail??').to.satisfy(function(num) {\n   *       return num > 2;\n   *     });\n   *\n   * The alias `.satisfies` can be used interchangeably with `.satisfy`.\n   *\n   * @name satisfy\n   * @alias satisfies\n   * @param {Function} matcher\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function satisfy (matcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var result = matcher(obj);\n    this.assert(\n        result\n      , 'expected #{this} to satisfy ' + _.objDisplay(matcher)\n      , 'expected #{this} to not satisfy' + _.objDisplay(matcher)\n      , flag(this, 'negate') ? false : true\n      , result\n    );\n  }\n\n  Assertion.addMethod('satisfy', satisfy);\n  Assertion.addMethod('satisfies', satisfy);\n\n  /**\n   * ### .closeTo(expected, delta[, msg])\n   *\n   * Asserts that the target is a number that's within a given +/- `delta` range\n   * of the given number `expected`. However, it's often best to assert that the\n   * target is equal to its expected value.\n   *\n   *     // Recommended\n   *     expect(1.5).to.equal(1.5);\n   *\n   *     // Not recommended\n   *     expect(1.5).to.be.closeTo(1, 0.5);\n   *     expect(1.5).to.be.closeTo(2, 0.5);\n   *     expect(1.5).to.be.closeTo(1, 1);\n   *\n   * Add `.not` earlier in the chain to negate `.closeTo`.\n   *\n   *     expect(1.5).to.equal(1.5); // Recommended\n   *     expect(1.5).to.not.be.closeTo(3, 1); // Not recommended\n   *\n   * `.closeTo` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1.5).to.be.closeTo(3, 1, 'nooo why fail??');\n   *     expect(1.5, 'nooo why fail??').to.be.closeTo(3, 1);\n   *\n   * The alias `.approximately` can be used interchangeably with `.closeTo`.\n   *\n   * @name closeTo\n   * @alias approximately\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function closeTo(expected, delta, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n\n    new Assertion(obj, flagMsg, ssfi, true).is.a('number');\n    if (typeof expected !== 'number' || typeof delta !== 'number') {\n      flagMsg = flagMsg ? flagMsg + ': ' : '';\n      throw new AssertionError(\n          flagMsg + 'the arguments to closeTo or approximately must be numbers',\n          undefined,\n          ssfi\n      );\n    }\n\n    this.assert(\n        Math.abs(obj - expected) <= delta\n      , 'expected #{this} to be close to ' + expected + ' +/- ' + delta\n      , 'expected #{this} not to be close to ' + expected + ' +/- ' + delta\n    );\n  }\n\n  Assertion.addMethod('closeTo', closeTo);\n  Assertion.addMethod('approximately', closeTo);\n\n  // Note: Duplicates are ignored if testing for inclusion instead of sameness.\n  function isSubsetOf(subset, superset, cmp, contains, ordered) {\n    if (!contains) {\n      if (subset.length !== superset.length) return false;\n      superset = superset.slice();\n    }\n\n    return subset.every(function(elem, idx) {\n      if (ordered) return cmp ? cmp(elem, superset[idx]) : elem === superset[idx];\n\n      if (!cmp) {\n        var matchIdx = superset.indexOf(elem);\n        if (matchIdx === -1) return false;\n\n        // Remove match from superset so not counted twice if duplicate in subset.\n        if (!contains) superset.splice(matchIdx, 1);\n        return true;\n      }\n\n      return superset.some(function(elem2, matchIdx) {\n        if (!cmp(elem, elem2)) return false;\n\n        // Remove match from superset so not counted twice if duplicate in subset.\n        if (!contains) superset.splice(matchIdx, 1);\n        return true;\n      });\n    });\n  }\n\n  /**\n   * ### .members(set[, msg])\n   *\n   * Asserts that the target array has the same members as the given array\n   * `set`.\n   *\n   *     expect([1, 2, 3]).to.have.members([2, 1, 3]);\n   *     expect([1, 2, 2]).to.have.members([2, 1, 2]);\n   *\n   * By default, members are compared using strict (`===`) equality. Add `.deep`\n   * earlier in the chain to use deep equality instead. See the `deep-eql`\n   * project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target array deeply (but not strictly) has member `{a: 1}`\n   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);\n   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);\n   *\n   * By default, order doesn't matter. Add `.ordered` earlier in the chain to\n   * require that members appear in the same order.\n   *\n   *     expect([1, 2, 3]).to.have.ordered.members([1, 2, 3]);\n   *     expect([1, 2, 3]).to.have.members([2, 1, 3])\n   *       .but.not.ordered.members([2, 1, 3]);\n   *\n   * By default, both arrays must be the same size. Add `.include` earlier in\n   * the chain to require that the target's members be a superset of the\n   * expected members. Note that duplicates are ignored in the subset when\n   * `.include` is added.\n   *\n   *     // Target array is a superset of [1, 2] but not identical\n   *     expect([1, 2, 3]).to.include.members([1, 2]);\n   *     expect([1, 2, 3]).to.not.have.members([1, 2]);\n   *\n   *     // Duplicates in the subset are ignored\n   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);\n   *\n   * `.deep`, `.ordered`, and `.include` can all be combined. However, if\n   * `.include` and `.ordered` are combined, the ordering begins at the start of\n   * both arrays.\n   *\n   *     expect([{a: 1}, {b: 2}, {c: 3}])\n   *       .to.include.deep.ordered.members([{a: 1}, {b: 2}])\n   *       .but.not.include.deep.ordered.members([{b: 2}, {c: 3}]);\n   *\n   * Add `.not` earlier in the chain to negate `.members`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the target array doesn't have all of the same members as\n   * the given array `set` but may or may not have some of them. It's often best\n   * to identify the exact output that's expected, and then write an assertion\n   * that only accepts that exact output.\n   *\n   *     expect([1, 2]).to.not.include(3).and.not.include(4); // Recommended\n   *     expect([1, 2]).to.not.have.members([3, 4]); // Not recommended\n   *\n   * `.members` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2]).to.have.members([1, 2, 3], 'nooo why fail??');\n   *     expect([1, 2], 'nooo why fail??').to.have.members([1, 2, 3]);\n   *\n   * @name members\n   * @param {Array} set\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('members', function (subset, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n\n    new Assertion(obj, flagMsg, ssfi, true).to.be.an('array');\n    new Assertion(subset, flagMsg, ssfi, true).to.be.an('array');\n\n    var contains = flag(this, 'contains');\n    var ordered = flag(this, 'ordered');\n\n    var subject, failMsg, failNegateMsg;\n\n    if (contains) {\n      subject = ordered ? 'an ordered superset' : 'a superset';\n      failMsg = 'expected #{this} to be ' + subject + ' of #{exp}';\n      failNegateMsg = 'expected #{this} to not be ' + subject + ' of #{exp}';\n    } else {\n      subject = ordered ? 'ordered members' : 'members';\n      failMsg = 'expected #{this} to have the same ' + subject + ' as #{exp}';\n      failNegateMsg = 'expected #{this} to not have the same ' + subject + ' as #{exp}';\n    }\n\n    var cmp = flag(this, 'deep') ? _.eql : undefined;\n\n    this.assert(\n        isSubsetOf(subset, obj, cmp, contains, ordered)\n      , failMsg\n      , failNegateMsg\n      , subset\n      , obj\n      , true\n    );\n  });\n\n  /**\n   * ### .oneOf(list[, msg])\n   *\n   * Asserts that the target is a member of the given array `list`. However,\n   * it's often best to assert that the target is equal to its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.oneOf([1, 2, 3]); // Not recommended\n   *\n   * Comparisons are performed using strict (`===`) equality.\n   *\n   * Add `.not` earlier in the chain to negate `.oneOf`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.oneOf([2, 3, 4]); // Not recommended\n   *\n   * `.oneOf` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.oneOf([2, 3, 4], 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.oneOf([2, 3, 4]);\n   *\n   * @name oneOf\n   * @param {Array<*>} list\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function oneOf (list, msg) {\n    if (msg) flag(this, 'message', msg);\n    var expected = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(list, flagMsg, ssfi, true).to.be.an('array');\n\n    this.assert(\n        list.indexOf(expected) > -1\n      , 'expected #{this} to be one of #{exp}'\n      , 'expected #{this} to not be one of #{exp}'\n      , list\n      , expected\n    );\n  }\n\n  Assertion.addMethod('oneOf', oneOf);\n\n  /**\n   * ### .change(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.change` asserts that the given function\n   * `subject` returns a different value when it's invoked before the target\n   * function compared to when it's invoked afterward. However, it's often best\n   * to assert that `subject` is equal to its expected value.\n   *\n   *     var dots = ''\n   *       , addDot = function () { dots += '.'; }\n   *       , getDots = function () { return dots; };\n   *\n   *     // Recommended\n   *     expect(getDots()).to.equal('');\n   *     addDot();\n   *     expect(getDots()).to.equal('.');\n   *\n   *     // Not recommended\n   *     expect(addDot).to.change(getDots);\n   *\n   * When two arguments are provided, `.change` asserts that the value of the\n   * given object `subject`'s `prop` property is different before invoking the\n   * target function compared to afterward.\n   *\n   *     var myObj = {dots: ''}\n   *       , addDot = function () { myObj.dots += '.'; };\n   *\n   *     // Recommended\n   *     expect(myObj).to.have.property('dots', '');\n   *     addDot();\n   *     expect(myObj).to.have.property('dots', '.');\n   *\n   *     // Not recommended\n   *     expect(addDot).to.change(myObj, 'dots');\n   *\n   * Strict (`===`) equality is used to compare before and after values.\n   *\n   * Add `.not` earlier in the chain to negate `.change`.\n   *\n   *     var dots = ''\n   *       , noop = function () {}\n   *       , getDots = function () { return dots; };\n   *\n   *     expect(noop).to.not.change(getDots);\n   *\n   *     var myObj = {dots: ''}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'dots');\n   *\n   * `.change` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {dots: ''}\n   *       , addDot = function () { myObj.dots += '.'; };\n   *\n   *     expect(addDot).to.not.change(myObj, 'dots', 'nooo why fail??');\n   *\n   *     var dots = ''\n   *       , addDot = function () { dots += '.'; }\n   *       , getDots = function () { return dots; };\n   *\n   *     expect(addDot, 'nooo why fail??').to.not.change(getDots);\n   *\n   * `.change` also causes all `.by` assertions that follow in the chain to\n   * assert how much a numeric subject was increased or decreased by. However,\n   * it's dangerous to use `.change.by`. The problem is that it creates\n   * uncertain expectations by asserting that the subject either increases by\n   * the given delta, or that it decreases by the given delta. It's often best\n   * to identify the exact output that's expected, and then write an assertion\n   * that only accepts that exact output.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; }\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   * The alias `.changes` can be used interchangeably with `.change`.\n   *\n   * @name change\n   * @alias changes\n   * @param {String} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertChanges (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    // This gets flagged because of the .by(delta) assertion\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'change');\n    flag(this, 'realDelta', final !== initial);\n\n    this.assert(\n      initial !== final\n      , 'expected ' + msgObj + ' to change'\n      , 'expected ' + msgObj + ' to not change'\n    );\n  }\n\n  Assertion.addMethod('change', assertChanges);\n  Assertion.addMethod('changes', assertChanges);\n\n  /**\n   * ### .increase(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.increase` asserts that the given function\n   * `subject` returns a greater number when it's invoked after invoking the\n   * target function compared to when it's invoked beforehand. `.increase` also\n   * causes all `.by` assertions that follow in the chain to assert how much\n   * greater of a number is returned. It's often best to assert that the return\n   * value increased by the expected amount, rather than asserting it increased\n   * by any amount.\n   *\n   *     var val = 1\n   *       , addTwo = function () { val += 2; }\n   *       , getVal = function () { return val; };\n   *\n   *     expect(addTwo).to.increase(getVal).by(2); // Recommended\n   *     expect(addTwo).to.increase(getVal); // Not recommended\n   *\n   * When two arguments are provided, `.increase` asserts that the value of the\n   * given object `subject`'s `prop` property is greater after invoking the\n   * target function compared to beforehand.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.increase(myObj, 'val'); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.increase`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either decreases, or that it stays the same.\n   * It's often best to identify the exact output that's expected, and then\n   * write an assertion that only accepts that exact output.\n   *\n   * When the subject is expected to decrease, it's often best to assert that it\n   * decreased by the expected amount.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.not.increase(myObj, 'val'); // Not recommended\n   *\n   * When the subject is expected to stay the same, it's often best to assert\n   * exactly that.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'val'); // Recommended\n   *     expect(noop).to.not.increase(myObj, 'val'); // Not recommended\n   *\n   * `.increase` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.increase(myObj, 'val', 'nooo why fail??');\n   *\n   *     var val = 1\n   *       , noop = function () {}\n   *       , getVal = function () { return val; };\n   *\n   *     expect(noop, 'nooo why fail??').to.increase(getVal);\n   *\n   * The alias `.increases` can be used interchangeably with `.increase`.\n   *\n   * @name increase\n   * @alias increases\n   * @param {String|Function} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertIncreases (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    // Make sure that the target is a number\n    new Assertion(initial, flagMsg, ssfi, true).is.a('number');\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'increase');\n    flag(this, 'realDelta', final - initial);\n\n    this.assert(\n      final - initial > 0\n      , 'expected ' + msgObj + ' to increase'\n      , 'expected ' + msgObj + ' to not increase'\n    );\n  }\n\n  Assertion.addMethod('increase', assertIncreases);\n  Assertion.addMethod('increases', assertIncreases);\n\n  /**\n   * ### .decrease(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.decrease` asserts that the given function\n   * `subject` returns a lesser number when it's invoked after invoking the\n   * target function compared to when it's invoked beforehand. `.decrease` also\n   * causes all `.by` assertions that follow in the chain to assert how much\n   * lesser of a number is returned. It's often best to assert that the return\n   * value decreased by the expected amount, rather than asserting it decreased\n   * by any amount.\n   *\n   *     var val = 1\n   *       , subtractTwo = function () { val -= 2; }\n   *       , getVal = function () { return val; };\n   *\n   *     expect(subtractTwo).to.decrease(getVal).by(2); // Recommended\n   *     expect(subtractTwo).to.decrease(getVal); // Not recommended\n   *\n   * When two arguments are provided, `.decrease` asserts that the value of the\n   * given object `subject`'s `prop` property is lesser after invoking the\n   * target function compared to beforehand.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.decrease(myObj, 'val'); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.decrease`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either increases, or that it stays the same.\n   * It's often best to identify the exact output that's expected, and then\n   * write an assertion that only accepts that exact output.\n   *\n   * When the subject is expected to increase, it's often best to assert that it\n   * increased by the expected amount.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.not.decrease(myObj, 'val'); // Not recommended\n   *\n   * When the subject is expected to stay the same, it's often best to assert\n   * exactly that.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'val'); // Recommended\n   *     expect(noop).to.not.decrease(myObj, 'val'); // Not recommended\n   *\n   * `.decrease` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.decrease(myObj, 'val', 'nooo why fail??');\n   *\n   *     var val = 1\n   *       , noop = function () {}\n   *       , getVal = function () { return val; };\n   *\n   *     expect(noop, 'nooo why fail??').to.decrease(getVal);\n   *\n   * The alias `.decreases` can be used interchangeably with `.decrease`.\n   *\n   * @name decrease\n   * @alias decreases\n   * @param {String|Function} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertDecreases (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    // Make sure that the target is a number\n    new Assertion(initial, flagMsg, ssfi, true).is.a('number');\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'decrease');\n    flag(this, 'realDelta', initial - final);\n\n    this.assert(\n      final - initial < 0\n      , 'expected ' + msgObj + ' to decrease'\n      , 'expected ' + msgObj + ' to not decrease'\n    );\n  }\n\n  Assertion.addMethod('decrease', assertDecreases);\n  Assertion.addMethod('decreases', assertDecreases);\n\n  /**\n   * ### .by(delta[, msg])\n   *\n   * When following an `.increase` assertion in the chain, `.by` asserts that\n   * the subject of the `.increase` assertion increased by the given `delta`.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2);\n   *\n   * When following a `.decrease` assertion in the chain, `.by` asserts that the\n   * subject of the `.decrease` assertion decreased by the given `delta`.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2);\n   *\n   * When following a `.change` assertion in the chain, `.by` asserts that the\n   * subject of the `.change` assertion either increased or decreased by the\n   * given `delta`. However, it's dangerous to use `.change.by`. The problem is\n   * that it creates uncertain expectations. It's often best to identify the\n   * exact output that's expected, and then write an assertion that only accepts\n   * that exact output.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; }\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.by`. However, it's often best\n   * to assert that the subject changed by its expected delta, rather than\n   * asserting that it didn't change by one of countless unexpected deltas.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     // Recommended\n   *     expect(addTwo).to.increase(myObj, 'val').by(2);\n   *\n   *     // Not recommended\n   *     expect(addTwo).to.increase(myObj, 'val').but.not.by(3);\n   *\n   * `.by` accepts an optional `msg` argument which is a custom error message to\n   * show when the assertion fails. The message can also be given as the second\n   * argument to `expect`.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(3, 'nooo why fail??');\n   *     expect(addTwo, 'nooo why fail??').to.increase(myObj, 'val').by(3);\n   *\n   * @name by\n   * @param {Number} delta\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertDelta(delta, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var msgObj = flag(this, 'deltaMsgObj');\n    var initial = flag(this, 'initialDeltaValue');\n    var final = flag(this, 'finalDeltaValue');\n    var behavior = flag(this, 'deltaBehavior');\n    var realDelta = flag(this, 'realDelta');\n\n    var expression;\n    if (behavior === 'change') {\n      expression = Math.abs(final - initial) === Math.abs(delta);\n    } else {\n      expression = realDelta === Math.abs(delta);\n    }\n\n    this.assert(\n      expression\n      , 'expected ' + msgObj + ' to ' + behavior + ' by ' + delta\n      , 'expected ' + msgObj + ' to not ' + behavior + ' by ' + delta\n    );\n  }\n\n  Assertion.addMethod('by', assertDelta);\n\n  /**\n   * ### .extensible\n   *\n   * Asserts that the target is extensible, which means that new properties can\n   * be added to it. Primitives are never extensible.\n   *\n   *     expect({a: 1}).to.be.extensible;\n   *\n   * Add `.not` earlier in the chain to negate `.extensible`.\n   *\n   *     var nonExtensibleObject = Object.preventExtensions({})\n   *       , sealedObject = Object.seal({})\n   *       , frozenObject = Object.freeze({});\n   *\n   *     expect(nonExtensibleObject).to.not.be.extensible;\n   *     expect(sealedObject).to.not.be.extensible;\n   *     expect(frozenObject).to.not.be.extensible;\n   *     expect(1).to.not.be.extensible;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(1, 'nooo why fail??').to.be.extensible;\n   *\n   * @name extensible\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('extensible', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return false.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isExtensible = obj === Object(obj) && Object.isExtensible(obj);\n\n    this.assert(\n      isExtensible\n      , 'expected #{this} to be extensible'\n      , 'expected #{this} to not be extensible'\n    );\n  });\n\n  /**\n   * ### .sealed\n   *\n   * Asserts that the target is sealed, which means that new properties can't be\n   * added to it, and its existing properties can't be reconfigured or deleted.\n   * However, it's possible that its existing properties can still be reassigned\n   * to different values. Primitives are always sealed.\n   *\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.freeze({});\n   *\n   *     expect(sealedObject).to.be.sealed;\n   *     expect(frozenObject).to.be.sealed;\n   *     expect(1).to.be.sealed;\n   *\n   * Add `.not` earlier in the chain to negate `.sealed`.\n   *\n   *     expect({a: 1}).to.not.be.sealed;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.be.sealed;\n   *\n   * @name sealed\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('sealed', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a sealed ordinary object, simply return true.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isSealed = obj === Object(obj) ? Object.isSealed(obj) : true;\n\n    this.assert(\n      isSealed\n      , 'expected #{this} to be sealed'\n      , 'expected #{this} to not be sealed'\n    );\n  });\n\n  /**\n   * ### .frozen\n   *\n   * Asserts that the target is frozen, which means that new properties can't be\n   * added to it, and its existing properties can't be reassigned to different\n   * values, reconfigured, or deleted. Primitives are always frozen.\n   *\n   *     var frozenObject = Object.freeze({});\n   *\n   *     expect(frozenObject).to.be.frozen;\n   *     expect(1).to.be.frozen;\n   *\n   * Add `.not` earlier in the chain to negate `.frozen`.\n   *\n   *     expect({a: 1}).to.not.be.frozen;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.be.frozen;\n   *\n   * @name frozen\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('frozen', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a frozen ordinary object, simply return true.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isFrozen = obj === Object(obj) ? Object.isFrozen(obj) : true;\n\n    this.assert(\n      isFrozen\n      , 'expected #{this} to be frozen'\n      , 'expected #{this} to not be frozen'\n    );\n  });\n\n  /**\n   * ### .finite\n   *\n   * Asserts that the target is a number, and isn't `NaN` or positive/negative\n   * `Infinity`.\n   *\n   *     expect(1).to.be.finite;\n   *\n   * Add `.not` earlier in the chain to negate `.finite`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either isn't a number, or that it's `NaN`, or\n   * that it's positive `Infinity`, or that it's negative `Infinity`. It's often\n   * best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to be a number, it's often best to assert\n   * that it's the expected type, rather than asserting that it isn't one of\n   * many unexpected types.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be `NaN`, it's often best to assert exactly\n   * that.\n   *\n   *     expect(NaN).to.be.NaN; // Recommended\n   *     expect(NaN).to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be positive infinity, it's often best to\n   * assert exactly that.\n   *\n   *     expect(Infinity).to.equal(Infinity); // Recommended\n   *     expect(Infinity).to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be negative infinity, it's often best to\n   * assert exactly that.\n   *\n   *     expect(-Infinity).to.equal(-Infinity); // Recommended\n   *     expect(-Infinity).to.not.be.finite; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect('foo', 'nooo why fail??').to.be.finite;\n   *\n   * @name finite\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('finite', function(msg) {\n    var obj = flag(this, 'object');\n\n    this.assert(\n        typeof obj === 'number' && isFinite(obj)\n      , 'expected #{this} to be a finite number'\n      , 'expected #{this} to not be a finite number'\n    );\n  });\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  chai.expect = function (val, message) {\n    return new chai.Assertion(val, message);\n  };\n\n  /**\n   * ### .fail([message])\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure.\n   *\n   *     expect.fail();\n   *     expect.fail(\"custom error message\");\n   *     expect.fail(1, 2);\n   *     expect.fail(1, 2, \"custom error message\");\n   *     expect.fail(1, 2, \"custom error message\", \">\");\n   *     expect.fail(1, 2, undefined, \">\");\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @namespace BDD\n   * @api public\n   */\n\n  chai.expect.fail = function (actual, expected, message, operator) {\n    if (arguments.length < 2) {\n        message = actual;\n        actual = undefined;\n    }\n\n    message = message || 'expect.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, chai.expect.fail);\n  };\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  var Assertion = chai.Assertion;\n\n  function loadShould () {\n    // explicitly define this method as function as to have it's name to include as `ssfi`\n    function shouldGetter() {\n      if (this instanceof String\n          || this instanceof Number\n          || this instanceof Boolean\n          || typeof Symbol === 'function' && this instanceof Symbol) {\n        return new Assertion(this.valueOf(), null, shouldGetter);\n      }\n      return new Assertion(this, null, shouldGetter);\n    }\n    function shouldSetter(value) {\n      // See https://github.com/chaijs/chai/issues/86: this makes\n      // `whatever.should = someValue` actually set `someValue`, which is\n      // especially useful for `global.should = require('chai').should()`.\n      //\n      // Note that we have to use [[DefineProperty]] instead of [[Put]]\n      // since otherwise we would trigger this very setter!\n      Object.defineProperty(this, 'should', {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    }\n    // modify Object.prototype to have `should`\n    Object.defineProperty(Object.prototype, 'should', {\n      set: shouldSetter\n      , get: shouldGetter\n      , configurable: true\n    });\n\n    var should = {};\n\n    /**\n     * ### .fail([message])\n     * ### .fail(actual, expected, [message], [operator])\n     *\n     * Throw a failure.\n     *\n     *     should.fail();\n     *     should.fail(\"custom error message\");\n     *     should.fail(1, 2);\n     *     should.fail(1, 2, \"custom error message\");\n     *     should.fail(1, 2, \"custom error message\", \">\");\n     *     should.fail(1, 2, undefined, \">\");\n     *\n     *\n     * @name fail\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @param {String} operator\n     * @namespace BDD\n     * @api public\n     */\n\n    should.fail = function (actual, expected, message, operator) {\n      if (arguments.length < 2) {\n          message = actual;\n          actual = undefined;\n      }\n\n      message = message || 'should.fail()';\n      throw new chai.AssertionError(message, {\n          actual: actual\n        , expected: expected\n        , operator: operator\n      }, should.fail);\n    };\n\n    /**\n     * ### .equal(actual, expected, [message])\n     *\n     * Asserts non-strict equality (`==`) of `actual` and `expected`.\n     *\n     *     should.equal(3, '3', '== coerces values to strings');\n     *\n     * @name equal\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @namespace Should\n     * @api public\n     */\n\n    should.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.equal(val2);\n    };\n\n    /**\n     * ### .throw(function, [constructor/string/regexp], [string/regexp], [message])\n     *\n     * Asserts that `function` will throw an error that is an instance of\n     * `constructor`, or alternately that it will throw an error with message\n     * matching `regexp`.\n     *\n     *     should.throw(fn, 'function throws a reference error');\n     *     should.throw(fn, /function throws a reference error/);\n     *     should.throw(fn, ReferenceError);\n     *     should.throw(fn, ReferenceError, 'function throws a reference error');\n     *     should.throw(fn, ReferenceError, /function throws a reference error/);\n     *\n     * @name throw\n     * @alias Throw\n     * @param {Function} function\n     * @param {ErrorConstructor} constructor\n     * @param {RegExp} regexp\n     * @param {String} message\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n     * @namespace Should\n     * @api public\n     */\n\n    should.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.Throw(errt, errs);\n    };\n\n    /**\n     * ### .exist\n     *\n     * Asserts that the target is neither `null` nor `undefined`.\n     *\n     *     var foo = 'hi';\n     *\n     *     should.exist(foo, 'foo exists');\n     *\n     * @name exist\n     * @namespace Should\n     * @api public\n     */\n\n    should.exist = function (val, msg) {\n      new Assertion(val, msg).to.exist;\n    }\n\n    // negation\n    should.not = {}\n\n    /**\n     * ### .not.equal(actual, expected, [message])\n     *\n     * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n     *\n     *     should.not.equal(3, 4, 'these numbers are not equal');\n     *\n     * @name not.equal\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.not.equal(val2);\n    };\n\n    /**\n     * ### .throw(function, [constructor/regexp], [message])\n     *\n     * Asserts that `function` will _not_ throw an error that is an instance of\n     * `constructor`, or alternately that it will not throw an error with message\n     * matching `regexp`.\n     *\n     *     should.not.throw(fn, Error, 'function does not throw');\n     *\n     * @name not.throw\n     * @alias not.Throw\n     * @param {Function} function\n     * @param {ErrorConstructor} constructor\n     * @param {RegExp} regexp\n     * @param {String} message\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.not.Throw(errt, errs);\n    };\n\n    /**\n     * ### .not.exist\n     *\n     * Asserts that the target is neither `null` nor `undefined`.\n     *\n     *     var bar = null;\n     *\n     *     should.not.exist(bar, 'bar does not exist');\n     *\n     * @name not.exist\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.exist = function (val, msg) {\n      new Assertion(val, msg).to.not.exist;\n    }\n\n    should['throw'] = should['Throw'];\n    should.not['throw'] = should.not['Throw'];\n\n    return should;\n  };\n\n  chai.should = loadShould;\n  chai.Should = loadShould;\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  /*!\n   * Chai dependencies.\n   */\n\n  var Assertion = chai.Assertion\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  /**\n   * ### assert(expression, message)\n   *\n   * Write your own test expressions.\n   *\n   *     assert('foo' !== 'bar', 'foo is not bar');\n   *     assert(Array.isArray([]), 'empty arrays are arrays');\n   *\n   * @param {Mixed} expression to test for truthiness\n   * @param {String} message to display on error\n   * @name assert\n   * @namespace Assert\n   * @api public\n   */\n\n  var assert = chai.assert = function (express, errmsg) {\n    var test = new Assertion(null, null, chai.assert, true);\n    test.assert(\n        express\n      , errmsg\n      , '[ negation message unavailable ]'\n    );\n  };\n\n  /**\n   * ### .fail([message])\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure. Node.js `assert` module-compatible.\n   *\n   *     assert.fail();\n   *     assert.fail(\"custom error message\");\n   *     assert.fail(1, 2);\n   *     assert.fail(1, 2, \"custom error message\");\n   *     assert.fail(1, 2, \"custom error message\", \">\");\n   *     assert.fail(1, 2, undefined, \">\");\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.fail = function (actual, expected, message, operator) {\n    if (arguments.length < 2) {\n        // Comply with Node's fail([message]) interface\n\n        message = actual;\n        actual = undefined;\n    }\n\n    message = message || 'assert.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, assert.fail);\n  };\n\n  /**\n   * ### .isOk(object, [message])\n   *\n   * Asserts that `object` is truthy.\n   *\n   *     assert.isOk('everything', 'everything is ok');\n   *     assert.isOk(false, 'this will fail');\n   *\n   * @name isOk\n   * @alias ok\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isOk = function (val, msg) {\n    new Assertion(val, msg, assert.isOk, true).is.ok;\n  };\n\n  /**\n   * ### .isNotOk(object, [message])\n   *\n   * Asserts that `object` is falsy.\n   *\n   *     assert.isNotOk('everything', 'this will fail');\n   *     assert.isNotOk(false, 'this will pass');\n   *\n   * @name isNotOk\n   * @alias notOk\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotOk = function (val, msg) {\n    new Assertion(val, msg, assert.isNotOk, true).is.not.ok;\n  };\n\n  /**\n   * ### .equal(actual, expected, [message])\n   *\n   * Asserts non-strict equality (`==`) of `actual` and `expected`.\n   *\n   *     assert.equal(3, '3', '== coerces values to strings');\n   *\n   * @name equal\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.equal = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.equal, true);\n\n    test.assert(\n        exp == flag(test, 'object')\n      , 'expected #{this} to equal #{exp}'\n      , 'expected #{this} to not equal #{act}'\n      , exp\n      , act\n      , true\n    );\n  };\n\n  /**\n   * ### .notEqual(actual, expected, [message])\n   *\n   * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n   *\n   *     assert.notEqual(3, 4, 'these numbers are not equal');\n   *\n   * @name notEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notEqual = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.notEqual, true);\n\n    test.assert(\n        exp != flag(test, 'object')\n      , 'expected #{this} to not equal #{exp}'\n      , 'expected #{this} to equal #{act}'\n      , exp\n      , act\n      , true\n    );\n  };\n\n  /**\n   * ### .strictEqual(actual, expected, [message])\n   *\n   * Asserts strict equality (`===`) of `actual` and `expected`.\n   *\n   *     assert.strictEqual(true, true, 'these booleans are strictly equal');\n   *\n   * @name strictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.strictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.strictEqual, true).to.equal(exp);\n  };\n\n  /**\n   * ### .notStrictEqual(actual, expected, [message])\n   *\n   * Asserts strict inequality (`!==`) of `actual` and `expected`.\n   *\n   *     assert.notStrictEqual(3, '3', 'no coercion for strict equality');\n   *\n   * @name notStrictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.notStrictEqual, true).to.not.equal(exp);\n  };\n\n  /**\n   * ### .deepEqual(actual, expected, [message])\n   *\n   * Asserts that `actual` is deeply equal to `expected`.\n   *\n   *     assert.deepEqual({ tea: 'green' }, { tea: 'green' });\n   *\n   * @name deepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @alias deepStrictEqual\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepEqual = assert.deepStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.deepEqual, true).to.eql(exp);\n  };\n\n  /**\n   * ### .notDeepEqual(actual, expected, [message])\n   *\n   * Assert that `actual` is not deeply equal to `expected`.\n   *\n   *     assert.notDeepEqual({ tea: 'green' }, { tea: 'jasmine' });\n   *\n   * @name notDeepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.notDeepEqual, true).to.not.eql(exp);\n  };\n\n   /**\n   * ### .isAbove(valueToCheck, valueToBeAbove, [message])\n   *\n   * Asserts `valueToCheck` is strictly greater than (>) `valueToBeAbove`.\n   *\n   *     assert.isAbove(5, 2, '5 is strictly greater than 2');\n   *\n   * @name isAbove\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAbove\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAbove = function (val, abv, msg) {\n    new Assertion(val, msg, assert.isAbove, true).to.be.above(abv);\n  };\n\n   /**\n   * ### .isAtLeast(valueToCheck, valueToBeAtLeast, [message])\n   *\n   * Asserts `valueToCheck` is greater than or equal to (>=) `valueToBeAtLeast`.\n   *\n   *     assert.isAtLeast(5, 2, '5 is greater or equal to 2');\n   *     assert.isAtLeast(3, 3, '3 is greater or equal to 3');\n   *\n   * @name isAtLeast\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAtLeast\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAtLeast = function (val, atlst, msg) {\n    new Assertion(val, msg, assert.isAtLeast, true).to.be.least(atlst);\n  };\n\n   /**\n   * ### .isBelow(valueToCheck, valueToBeBelow, [message])\n   *\n   * Asserts `valueToCheck` is strictly less than (<) `valueToBeBelow`.\n   *\n   *     assert.isBelow(3, 6, '3 is strictly less than 6');\n   *\n   * @name isBelow\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeBelow\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isBelow = function (val, blw, msg) {\n    new Assertion(val, msg, assert.isBelow, true).to.be.below(blw);\n  };\n\n   /**\n   * ### .isAtMost(valueToCheck, valueToBeAtMost, [message])\n   *\n   * Asserts `valueToCheck` is less than or equal to (<=) `valueToBeAtMost`.\n   *\n   *     assert.isAtMost(3, 6, '3 is less than or equal to 6');\n   *     assert.isAtMost(4, 4, '4 is less than or equal to 4');\n   *\n   * @name isAtMost\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAtMost\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAtMost = function (val, atmst, msg) {\n    new Assertion(val, msg, assert.isAtMost, true).to.be.most(atmst);\n  };\n\n  /**\n   * ### .isTrue(value, [message])\n   *\n   * Asserts that `value` is true.\n   *\n   *     var teaServed = true;\n   *     assert.isTrue(teaServed, 'the tea has been served');\n   *\n   * @name isTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isTrue = function (val, msg) {\n    new Assertion(val, msg, assert.isTrue, true).is['true'];\n  };\n\n  /**\n   * ### .isNotTrue(value, [message])\n   *\n   * Asserts that `value` is not true.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotTrue(tea, 'great, time for tea!');\n   *\n   * @name isNotTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotTrue = function (val, msg) {\n    new Assertion(val, msg, assert.isNotTrue, true).to.not.equal(true);\n  };\n\n  /**\n   * ### .isFalse(value, [message])\n   *\n   * Asserts that `value` is false.\n   *\n   *     var teaServed = false;\n   *     assert.isFalse(teaServed, 'no tea yet? hmm...');\n   *\n   * @name isFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFalse = function (val, msg) {\n    new Assertion(val, msg, assert.isFalse, true).is['false'];\n  };\n\n  /**\n   * ### .isNotFalse(value, [message])\n   *\n   * Asserts that `value` is not false.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotFalse(tea, 'great, time for tea!');\n   *\n   * @name isNotFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFalse = function (val, msg) {\n    new Assertion(val, msg, assert.isNotFalse, true).to.not.equal(false);\n  };\n\n  /**\n   * ### .isNull(value, [message])\n   *\n   * Asserts that `value` is null.\n   *\n   *     assert.isNull(err, 'there was no error');\n   *\n   * @name isNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNull = function (val, msg) {\n    new Assertion(val, msg, assert.isNull, true).to.equal(null);\n  };\n\n  /**\n   * ### .isNotNull(value, [message])\n   *\n   * Asserts that `value` is not null.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotNull(tea, 'great, time for tea!');\n   *\n   * @name isNotNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotNull = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNull, true).to.not.equal(null);\n  };\n\n  /**\n   * ### .isNaN\n   *\n   * Asserts that value is NaN.\n   *\n   *     assert.isNaN(NaN, 'NaN is NaN');\n   *\n   * @name isNaN\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNaN = function (val, msg) {\n    new Assertion(val, msg, assert.isNaN, true).to.be.NaN;\n  };\n\n  /**\n   * ### .isNotNaN\n   *\n   * Asserts that value is not NaN.\n   *\n   *     assert.isNotNaN(4, '4 is not NaN');\n   *\n   * @name isNotNaN\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n  assert.isNotNaN = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNaN, true).not.to.be.NaN;\n  };\n\n  /**\n   * ### .exists\n   *\n   * Asserts that the target is neither `null` nor `undefined`.\n   *\n   *     var foo = 'hi';\n   *\n   *     assert.exists(foo, 'foo is neither `null` nor `undefined`');\n   *\n   * @name exists\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.exists = function (val, msg) {\n    new Assertion(val, msg, assert.exists, true).to.exist;\n  };\n\n  /**\n   * ### .notExists\n   *\n   * Asserts that the target is either `null` or `undefined`.\n   *\n   *     var bar = null\n   *       , baz;\n   *\n   *     assert.notExists(bar);\n   *     assert.notExists(baz, 'baz is either null or undefined');\n   *\n   * @name notExists\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notExists = function (val, msg) {\n    new Assertion(val, msg, assert.notExists, true).to.not.exist;\n  };\n\n  /**\n   * ### .isUndefined(value, [message])\n   *\n   * Asserts that `value` is `undefined`.\n   *\n   *     var tea;\n   *     assert.isUndefined(tea, 'no tea defined');\n   *\n   * @name isUndefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isUndefined = function (val, msg) {\n    new Assertion(val, msg, assert.isUndefined, true).to.equal(undefined);\n  };\n\n  /**\n   * ### .isDefined(value, [message])\n   *\n   * Asserts that `value` is not `undefined`.\n   *\n   *     var tea = 'cup of chai';\n   *     assert.isDefined(tea, 'tea has been defined');\n   *\n   * @name isDefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isDefined = function (val, msg) {\n    new Assertion(val, msg, assert.isDefined, true).to.not.equal(undefined);\n  };\n\n  /**\n   * ### .isFunction(value, [message])\n   *\n   * Asserts that `value` is a function.\n   *\n   *     function serveTea() { return 'cup of tea'; };\n   *     assert.isFunction(serveTea, 'great, we can have tea now');\n   *\n   * @name isFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFunction = function (val, msg) {\n    new Assertion(val, msg, assert.isFunction, true).to.be.a('function');\n  };\n\n  /**\n   * ### .isNotFunction(value, [message])\n   *\n   * Asserts that `value` is _not_ a function.\n   *\n   *     var serveTea = [ 'heat', 'pour', 'sip' ];\n   *     assert.isNotFunction(serveTea, 'great, we have listed the steps');\n   *\n   * @name isNotFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFunction = function (val, msg) {\n    new Assertion(val, msg, assert.isNotFunction, true).to.not.be.a('function');\n  };\n\n  /**\n   * ### .isObject(value, [message])\n   *\n   * Asserts that `value` is an object of type 'Object' (as revealed by `Object.prototype.toString`).\n   * _The assertion does not match subclassed objects._\n   *\n   *     var selection = { name: 'Chai', serve: 'with spices' };\n   *     assert.isObject(selection, 'tea selection is an object');\n   *\n   * @name isObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isObject = function (val, msg) {\n    new Assertion(val, msg, assert.isObject, true).to.be.a('object');\n  };\n\n  /**\n   * ### .isNotObject(value, [message])\n   *\n   * Asserts that `value` is _not_ an object of type 'Object' (as revealed by `Object.prototype.toString`).\n   *\n   *     var selection = 'chai'\n   *     assert.isNotObject(selection, 'tea selection is not an object');\n   *     assert.isNotObject(null, 'null is not an object');\n   *\n   * @name isNotObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotObject = function (val, msg) {\n    new Assertion(val, msg, assert.isNotObject, true).to.not.be.a('object');\n  };\n\n  /**\n   * ### .isArray(value, [message])\n   *\n   * Asserts that `value` is an array.\n   *\n   *     var menu = [ 'green', 'chai', 'oolong' ];\n   *     assert.isArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isArray = function (val, msg) {\n    new Assertion(val, msg, assert.isArray, true).to.be.an('array');\n  };\n\n  /**\n   * ### .isNotArray(value, [message])\n   *\n   * Asserts that `value` is _not_ an array.\n   *\n   *     var menu = 'green|chai|oolong';\n   *     assert.isNotArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isNotArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotArray = function (val, msg) {\n    new Assertion(val, msg, assert.isNotArray, true).to.not.be.an('array');\n  };\n\n  /**\n   * ### .isString(value, [message])\n   *\n   * Asserts that `value` is a string.\n   *\n   *     var teaOrder = 'chai';\n   *     assert.isString(teaOrder, 'order placed');\n   *\n   * @name isString\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isString = function (val, msg) {\n    new Assertion(val, msg, assert.isString, true).to.be.a('string');\n  };\n\n  /**\n   * ### .isNotString(value, [message])\n   *\n   * Asserts that `value` is _not_ a string.\n   *\n   *     var teaOrder = 4;\n   *     assert.isNotString(teaOrder, 'order placed');\n   *\n   * @name isNotString\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotString = function (val, msg) {\n    new Assertion(val, msg, assert.isNotString, true).to.not.be.a('string');\n  };\n\n  /**\n   * ### .isNumber(value, [message])\n   *\n   * Asserts that `value` is a number.\n   *\n   *     var cups = 2;\n   *     assert.isNumber(cups, 'how many cups');\n   *\n   * @name isNumber\n   * @param {Number} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNumber = function (val, msg) {\n    new Assertion(val, msg, assert.isNumber, true).to.be.a('number');\n  };\n\n  /**\n   * ### .isNotNumber(value, [message])\n   *\n   * Asserts that `value` is _not_ a number.\n   *\n   *     var cups = '2 cups please';\n   *     assert.isNotNumber(cups, 'how many cups');\n   *\n   * @name isNotNumber\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotNumber = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNumber, true).to.not.be.a('number');\n  };\n\n   /**\n   * ### .isFinite(value, [message])\n   *\n   * Asserts that `value` is a finite number. Unlike `.isNumber`, this will fail for `NaN` and `Infinity`.\n   *\n   *     var cups = 2;\n   *     assert.isFinite(cups, 'how many cups');\n   *\n   *     assert.isFinite(NaN); // throws\n   *\n   * @name isFinite\n   * @param {Number} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFinite = function (val, msg) {\n    new Assertion(val, msg, assert.isFinite, true).to.be.finite;\n  };\n\n  /**\n   * ### .isBoolean(value, [message])\n   *\n   * Asserts that `value` is a boolean.\n   *\n   *     var teaReady = true\n   *       , teaServed = false;\n   *\n   *     assert.isBoolean(teaReady, 'is the tea ready');\n   *     assert.isBoolean(teaServed, 'has tea been served');\n   *\n   * @name isBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isBoolean = function (val, msg) {\n    new Assertion(val, msg, assert.isBoolean, true).to.be.a('boolean');\n  };\n\n  /**\n   * ### .isNotBoolean(value, [message])\n   *\n   * Asserts that `value` is _not_ a boolean.\n   *\n   *     var teaReady = 'yep'\n   *       , teaServed = 'nope';\n   *\n   *     assert.isNotBoolean(teaReady, 'is the tea ready');\n   *     assert.isNotBoolean(teaServed, 'has tea been served');\n   *\n   * @name isNotBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotBoolean = function (val, msg) {\n    new Assertion(val, msg, assert.isNotBoolean, true).to.not.be.a('boolean');\n  };\n\n  /**\n   * ### .typeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.typeOf({ tea: 'chai' }, 'object', 'we have an object');\n   *     assert.typeOf(['chai', 'jasmine'], 'array', 'we have an array');\n   *     assert.typeOf('tea', 'string', 'we have a string');\n   *     assert.typeOf(/tea/, 'regexp', 'we have a regular expression');\n   *     assert.typeOf(null, 'null', 'we have a null');\n   *     assert.typeOf(undefined, 'undefined', 'we have an undefined');\n   *\n   * @name typeOf\n   * @param {Mixed} value\n   * @param {String} name\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.typeOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.typeOf, true).to.be.a(type);\n  };\n\n  /**\n   * ### .notTypeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is _not_ `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.notTypeOf('tea', 'number', 'strings are not numbers');\n   *\n   * @name notTypeOf\n   * @param {Mixed} value\n   * @param {String} typeof name\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notTypeOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.notTypeOf, true).to.not.be.a(type);\n  };\n\n  /**\n   * ### .instanceOf(object, constructor, [message])\n   *\n   * Asserts that `value` is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new Tea('chai');\n   *\n   *     assert.instanceOf(chai, Tea, 'chai is an instance of tea');\n   *\n   * @name instanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.instanceOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.instanceOf, true).to.be.instanceOf(type);\n  };\n\n  /**\n   * ### .notInstanceOf(object, constructor, [message])\n   *\n   * Asserts `value` is not an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new String('chai');\n   *\n   *     assert.notInstanceOf(chai, Tea, 'chai is not an instance of tea');\n   *\n   * @name notInstanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notInstanceOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.notInstanceOf, true)\n      .to.not.be.instanceOf(type);\n  };\n\n  /**\n   * ### .include(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Can be used to assert the\n   * inclusion of a value in an array, a substring in a string, or a subset of\n   * properties in an object.\n   *\n   *     assert.include([1,2,3], 2, 'array contains value');\n   *     assert.include('foobar', 'foo', 'string contains substring');\n   *     assert.include({ foo: 'bar', hello: 'universe' }, { foo: 'bar' }, 'object contains property');\n   *\n   * Strict equality (===) is used. When asserting the inclusion of a value in\n   * an array, the array is searched for an element that's strictly equal to the\n   * given value. When asserting a subset of properties in an object, the object\n   * is searched for the given property keys, checking that each one is present\n   * and strictly equal to the given property value. For instance:\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.include([obj1, obj2], obj1);\n   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1});\n   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1, bar: obj2});\n   *\n   * @name include\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.include = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.include, true).include(inc);\n  };\n\n  /**\n   * ### .notInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Can be used to assert\n   * the absence of a value in an array, a substring in a string, or a subset of\n   * properties in an object.\n   *\n   *     assert.notInclude([1,2,3], 4, \"array doesn't contain value\");\n   *     assert.notInclude('foobar', 'baz', \"string doesn't contain substring\");\n   *     assert.notInclude({ foo: 'bar', hello: 'universe' }, { foo: 'baz' }, 'object doesn't contain property');\n   *\n   * Strict equality (===) is used. When asserting the absence of a value in an\n   * array, the array is searched to confirm the absence of an element that's\n   * strictly equal to the given value. When asserting a subset of properties in\n   * an object, the object is searched to confirm that at least one of the given\n   * property keys is either not present or not strictly equal to the given\n   * property value. For instance:\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.notInclude([obj1, obj2], {a: 1});\n   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});\n   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: obj1, bar: {b: 2}});\n   *\n   * @name notInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notInclude, true).not.include(inc);\n  };\n\n  /**\n   * ### .deepInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Can be used to assert the\n   * inclusion of a value in an array or a subset of properties in an object.\n   * Deep equality is used.\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.deepInclude([obj1, obj2], {a: 1});\n   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});\n   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 2}});\n   *\n   * @name deepInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepInclude, true).deep.include(inc);\n  };\n\n  /**\n   * ### .notDeepInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Can be used to assert\n   * the absence of a value in an array or a subset of properties in an object.\n   * Deep equality is used.\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.notDeepInclude([obj1, obj2], {a: 9});\n   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 9}});\n   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 9}});\n   *\n   * @name notDeepInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepInclude, true).not.deep.include(inc);\n  };\n\n  /**\n   * ### .nestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.nestedInclude({'.a': {'b': 'x'}}, {'\\\\.a.[b]': 'x'});\n   *     assert.nestedInclude({'a': {'[b]': 'x'}}, {'a.\\\\[b\\\\]': 'x'});\n   *\n   * @name nestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.nestedInclude, true).nested.include(inc);\n  };\n\n  /**\n   * ### .notNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' does not include 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.notNestedInclude({'.a': {'b': 'x'}}, {'\\\\.a.b': 'y'});\n   *     assert.notNestedInclude({'a': {'[b]': 'x'}}, {'a.\\\\[b\\\\]': 'y'});\n   *\n   * @name notNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notNestedInclude, true)\n      .not.nested.include(inc);\n  };\n\n  /**\n   * ### .deepNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while checking for deep equality.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.deepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {x: 1}});\n   *     assert.deepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\\\.a.\\\\[b\\\\]': {x: 1}});\n   *\n   * @name deepNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepNestedInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepNestedInclude, true)\n      .deep.nested.include(inc);\n  };\n\n  /**\n   * ### .notDeepNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' does not include 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while checking for deep equality.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.notDeepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {y: 1}})\n   *     assert.notDeepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\\\.a.\\\\[b\\\\]': {y: 2}});\n   *\n   * @name notDeepNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepNestedInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepNestedInclude, true)\n      .not.deep.nested.include(inc);\n  };\n\n  /**\n   * ### .ownInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while ignoring inherited properties.\n   *\n   *     assert.ownInclude({ a: 1 }, { a: 1 });\n   *\n   * @name ownInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.ownInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.ownInclude, true).own.include(inc);\n  };\n\n  /**\n   * ### .notOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while ignoring inherited properties.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     assert.notOwnInclude({ a: 1 }, { b: 2 });\n   *\n   * @name notOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notOwnInclude, true).not.own.include(inc);\n  };\n\n  /**\n   * ### .deepOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while ignoring inherited properties and checking for deep equality.\n   *\n   *      assert.deepOwnInclude({a: {b: 2}}, {a: {b: 2}});\n   *\n   * @name deepOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepOwnInclude, true)\n      .deep.own.include(inc);\n  };\n\n   /**\n   * ### .notDeepOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while ignoring inherited properties and checking for deep equality.\n   *\n   *      assert.notDeepOwnInclude({a: {b: 2}}, {a: {c: 3}});\n   *\n   * @name notDeepOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepOwnInclude, true)\n      .not.deep.own.include(inc);\n  };\n\n  /**\n   * ### .match(value, regexp, [message])\n   *\n   * Asserts that `value` matches the regular expression `regexp`.\n   *\n   *     assert.match('foobar', /^foo/, 'regexp matches');\n   *\n   * @name match\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.match = function (exp, re, msg) {\n    new Assertion(exp, msg, assert.match, true).to.match(re);\n  };\n\n  /**\n   * ### .notMatch(value, regexp, [message])\n   *\n   * Asserts that `value` does not match the regular expression `regexp`.\n   *\n   *     assert.notMatch('foobar', /^foo/, 'regexp does not match');\n   *\n   * @name notMatch\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notMatch = function (exp, re, msg) {\n    new Assertion(exp, msg, assert.notMatch, true).to.not.match(re);\n  };\n\n  /**\n   * ### .property(object, property, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property`.\n   *\n   *     assert.property({ tea: { green: 'matcha' }}, 'tea');\n   *     assert.property({ tea: { green: 'matcha' }}, 'toString');\n   *\n   * @name property\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.property = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.property, true).to.have.property(prop);\n  };\n\n  /**\n   * ### .notProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property`.\n   *\n   *     assert.notProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *\n   * @name notProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notProperty, true)\n      .to.not.have.property(prop);\n  };\n\n  /**\n   * ### .propertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property` with a value given by `value`. Uses a strict equality check\n   * (===).\n   *\n   *     assert.propertyVal({ tea: 'is good' }, 'tea', 'is good');\n   *\n   * @name propertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.propertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.propertyVal, true)\n      .to.have.property(prop, val);\n  };\n\n  /**\n   * ### .notPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property` with value given by `value`. Uses a strict equality check\n   * (===).\n   *\n   *     assert.notPropertyVal({ tea: 'is good' }, 'tea', 'is bad');\n   *     assert.notPropertyVal({ tea: 'is good' }, 'coffee', 'is good');\n   *\n   * @name notPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notPropertyVal, true)\n      .to.not.have.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property` with a value given by `value`. Uses a deep equality check.\n   *\n   *     assert.deepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });\n   *\n   * @name deepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.deepPropertyVal, true)\n      .to.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .notDeepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property` with value given by `value`. Uses a deep equality check.\n   *\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });\n   *\n   * @name notDeepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notDeepPropertyVal, true)\n      .to.not.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .ownProperty(object, property, [message])\n   *\n   * Asserts that `object` has a direct property named by `property`. Inherited\n   * properties aren't checked.\n   *\n   *     assert.ownProperty({ tea: { green: 'matcha' }}, 'tea');\n   *\n   * @name ownProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ownProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.ownProperty, true)\n      .to.have.own.property(prop);\n  };\n\n  /**\n   * ### .notOwnProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by\n   * `property`. Inherited properties aren't checked.\n   *\n   *     assert.notOwnProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *     assert.notOwnProperty({}, 'toString');\n   *\n   * @name notOwnProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOwnProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notOwnProperty, true)\n      .to.not.have.own.property(prop);\n  };\n\n  /**\n   * ### .ownPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct property named by `property` and a value\n   * equal to the provided `value`. Uses a strict equality check (===).\n   * Inherited properties aren't checked.\n   *\n   *     assert.ownPropertyVal({ coffee: 'is good'}, 'coffee', 'is good');\n   *\n   * @name ownPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ownPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.ownPropertyVal, true)\n      .to.have.own.property(prop, value);\n  };\n\n  /**\n   * ### .notOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by `property`\n   * with a value equal to the provided `value`. Uses a strict equality check\n   * (===). Inherited properties aren't checked.\n   *\n   *     assert.notOwnPropertyVal({ tea: 'is better'}, 'tea', 'is worse');\n   *     assert.notOwnPropertyVal({}, 'toString', Object.prototype.toString);\n   *\n   * @name notOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.notOwnPropertyVal, true)\n      .to.not.have.own.property(prop, value);\n  };\n\n  /**\n   * ### .deepOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct property named by `property` and a value\n   * equal to the provided `value`. Uses a deep equality check. Inherited\n   * properties aren't checked.\n   *\n   *     assert.deepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });\n   *\n   * @name deepOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.deepOwnPropertyVal, true)\n      .to.have.deep.own.property(prop, value);\n  };\n\n  /**\n   * ### .notDeepOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by `property`\n   * with a value equal to the provided `value`. Uses a deep equality check.\n   * Inherited properties aren't checked.\n   *\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });\n   *     assert.notDeepOwnPropertyVal({}, 'toString', Object.prototype.toString);\n   *\n   * @name notDeepOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.notDeepOwnPropertyVal, true)\n      .to.not.have.deep.own.property(prop, value);\n  };\n\n  /**\n   * ### .nestedProperty(object, property, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property`, which can be a string using dot- and bracket-notation for\n   * nested reference.\n   *\n   *     assert.nestedProperty({ tea: { green: 'matcha' }}, 'tea.green');\n   *\n   * @name nestedProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.nestedProperty, true)\n      .to.have.nested.property(prop);\n  };\n\n  /**\n   * ### .notNestedProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`, which\n   * can be a string using dot- and bracket-notation for nested reference. The\n   * property cannot exist on the object nor anywhere in its prototype chain.\n   *\n   *     assert.notNestedProperty({ tea: { green: 'matcha' }}, 'tea.oolong');\n   *\n   * @name notNestedProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notNestedProperty, true)\n      .to.not.have.nested.property(prop);\n  };\n\n  /**\n   * ### .nestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`. `property` can use dot- and bracket-notation for nested\n   * reference. Uses a strict equality check (===).\n   *\n   *     assert.nestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'matcha');\n   *\n   * @name nestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.nestedPropertyVal, true)\n      .to.have.nested.property(prop, val);\n  };\n\n  /**\n   * ### .notNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property` with\n   * value given by `value`. `property` can use dot- and bracket-notation for\n   * nested reference. Uses a strict equality check (===).\n   *\n   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'konacha');\n   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'coffee.green', 'matcha');\n   *\n   * @name notNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notNestedPropertyVal, true)\n      .to.not.have.nested.property(prop, val);\n  };\n\n  /**\n   * ### .deepNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with a value given\n   * by `value`. `property` can use dot- and bracket-notation for nested\n   * reference. Uses a deep equality check.\n   *\n   *     assert.deepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yum' });\n   *\n   * @name deepNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.deepNestedPropertyVal, true)\n      .to.have.deep.nested.property(prop, val);\n  };\n\n  /**\n   * ### .notDeepNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property` with\n   * value given by `value`. `property` can use dot- and bracket-notation for\n   * nested reference. Uses a deep equality check.\n   *\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { oolong: 'yum' });\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yuck' });\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.black', { matcha: 'yum' });\n   *\n   * @name notDeepNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notDeepNestedPropertyVal, true)\n      .to.not.have.deep.nested.property(prop, val);\n  }\n\n  /**\n   * ### .lengthOf(object, length, [message])\n   *\n   * Asserts that `object` has a `length` or `size` with the expected value.\n   *\n   *     assert.lengthOf([1,2,3], 3, 'array has length of 3');\n   *     assert.lengthOf('foobar', 6, 'string has length of 6');\n   *     assert.lengthOf(new Set([1,2,3]), 3, 'set has size of 3');\n   *     assert.lengthOf(new Map([['a',1],['b',2],['c',3]]), 3, 'map has size of 3');\n   *\n   * @name lengthOf\n   * @param {Mixed} object\n   * @param {Number} length\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.lengthOf = function (exp, len, msg) {\n    new Assertion(exp, msg, assert.lengthOf, true).to.have.lengthOf(len);\n  };\n\n  /**\n   * ### .hasAnyKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has at least one of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'iDontExist', 'baz']);\n   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, iDontExist: 99, baz: 1337});\n   *     assert.hasAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.hasAnyKeys(new Set([{foo: 'bar'}, 'anotherKey']), [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name hasAnyKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAnyKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAnyKeys, true).to.have.any.keys(keys);\n  }\n\n  /**\n   * ### .hasAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all and only all of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);\n   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337]);\n   *     assert.hasAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.hasAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name hasAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAllKeys, true).to.have.all.keys(keys);\n  }\n\n  /**\n   * ### .containsAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all of the `keys` provided but may have more keys not listed.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'baz']);\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, baz: 1337});\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337});\n   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}]);\n   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}]);\n   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name containsAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.containsAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.containsAllKeys, true)\n      .to.contain.all.keys(keys);\n  }\n\n  /**\n   * ### .doesNotHaveAnyKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has none of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);\n   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});\n   *     assert.doesNotHaveAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);\n   *     assert.doesNotHaveAnyKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);\n   *\n   * @name doesNotHaveAnyKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAnyKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAnyKeys, true)\n      .to.not.have.any.keys(keys);\n  }\n\n  /**\n   * ### .doesNotHaveAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` does not have at least one of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);\n   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});\n   *     assert.doesNotHaveAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);\n   *     assert.doesNotHaveAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);\n   *\n   * @name doesNotHaveAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAllKeys, true)\n      .to.not.have.all.keys(keys);\n  }\n\n  /**\n   * ### .hasAnyDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has at least one of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {three: 'three'}]);\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name doesNotHaveAllKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAnyDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAnyDeepKeys, true)\n      .to.have.any.deep.keys(keys);\n  }\n\n /**\n   * ### .hasAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all and only all of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne']]), {one: 'one'});\n   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAllDeepKeys(new Set([{one: 'one'}]), {one: 'one'});\n   *     assert.hasAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name hasAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAllDeepKeys, true)\n      .to.have.all.deep.keys(keys);\n  }\n\n /**\n   * ### .containsAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` contains all of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});\n   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});\n   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name containsAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.containsAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.containsAllDeepKeys, true)\n      .to.contain.all.deep.keys(keys);\n  }\n\n /**\n   * ### .doesNotHaveAnyDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has none of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});\n   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);\n   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});\n   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);\n   *\n   * @name doesNotHaveAnyDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAnyDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAnyDeepKeys, true)\n      .to.not.have.any.deep.keys(keys);\n  }\n\n /**\n   * ### .doesNotHaveAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` does not have at least one of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});\n   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {one: 'one'}]);\n   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});\n   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {fifty: 'fifty'}]);\n   *\n   * @name doesNotHaveAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAllDeepKeys, true)\n      .to.not.have.all.deep.keys(keys);\n  }\n\n /**\n   * ### .throws(fn, [errorLike/string/regexp], [string/regexp], [message])\n   *\n   * If `errorLike` is an `Error` constructor, asserts that `fn` will throw an error that is an\n   * instance of `errorLike`.\n   * If `errorLike` is an `Error` instance, asserts that the error thrown is the same\n   * instance as `errorLike`.\n   * If `errMsgMatcher` is provided, it also asserts that the error thrown will have a\n   * message matching `errMsgMatcher`.\n   *\n   *     assert.throws(fn, 'Error thrown must have this msg');\n   *     assert.throws(fn, /Error thrown must have a msg that matches this/);\n   *     assert.throws(fn, ReferenceError);\n   *     assert.throws(fn, errorInstance);\n   *     assert.throws(fn, ReferenceError, 'Error thrown must be a ReferenceError and have this msg');\n   *     assert.throws(fn, errorInstance, 'Error thrown must be the same errorInstance and have this msg');\n   *     assert.throws(fn, ReferenceError, /Error thrown must be a ReferenceError and match this/);\n   *     assert.throws(fn, errorInstance, /Error thrown must be the same errorInstance and match this/);\n   *\n   * @name throws\n   * @alias throw\n   * @alias Throw\n   * @param {Function} fn\n   * @param {ErrorConstructor|Error} errorLike\n   * @param {RegExp|String} errMsgMatcher\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.throws = function (fn, errorLike, errMsgMatcher, msg) {\n    if ('string' === typeof errorLike || errorLike instanceof RegExp) {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    var assertErr = new Assertion(fn, msg, assert.throws, true)\n      .to.throw(errorLike, errMsgMatcher);\n    return flag(assertErr, 'object');\n  };\n\n  /**\n   * ### .doesNotThrow(fn, [errorLike/string/regexp], [string/regexp], [message])\n   *\n   * If `errorLike` is an `Error` constructor, asserts that `fn` will _not_ throw an error that is an\n   * instance of `errorLike`.\n   * If `errorLike` is an `Error` instance, asserts that the error thrown is _not_ the same\n   * instance as `errorLike`.\n   * If `errMsgMatcher` is provided, it also asserts that the error thrown will _not_ have a\n   * message matching `errMsgMatcher`.\n   *\n   *     assert.doesNotThrow(fn, 'Any Error thrown must not have this message');\n   *     assert.doesNotThrow(fn, /Any Error thrown must not match this/);\n   *     assert.doesNotThrow(fn, Error);\n   *     assert.doesNotThrow(fn, errorInstance);\n   *     assert.doesNotThrow(fn, Error, 'Error must not have this message');\n   *     assert.doesNotThrow(fn, errorInstance, 'Error must not have this message');\n   *     assert.doesNotThrow(fn, Error, /Error must not match this/);\n   *     assert.doesNotThrow(fn, errorInstance, /Error must not match this/);\n   *\n   * @name doesNotThrow\n   * @param {Function} fn\n   * @param {ErrorConstructor} errorLike\n   * @param {RegExp|String} errMsgMatcher\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotThrow = function (fn, errorLike, errMsgMatcher, msg) {\n    if ('string' === typeof errorLike || errorLike instanceof RegExp) {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    new Assertion(fn, msg, assert.doesNotThrow, true)\n      .to.not.throw(errorLike, errMsgMatcher);\n  };\n\n  /**\n   * ### .operator(val1, operator, val2, [message])\n   *\n   * Compares two values using `operator`.\n   *\n   *     assert.operator(1, '<', 2, 'everything is ok');\n   *     assert.operator(1, '>', 2, 'this will fail');\n   *\n   * @name operator\n   * @param {Mixed} val1\n   * @param {String} operator\n   * @param {Mixed} val2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.operator = function (val, operator, val2, msg) {\n    var ok;\n    switch(operator) {\n      case '==':\n        ok = val == val2;\n        break;\n      case '===':\n        ok = val === val2;\n        break;\n      case '>':\n        ok = val > val2;\n        break;\n      case '>=':\n        ok = val >= val2;\n        break;\n      case '<':\n        ok = val < val2;\n        break;\n      case '<=':\n        ok = val <= val2;\n        break;\n      case '!=':\n        ok = val != val2;\n        break;\n      case '!==':\n        ok = val !== val2;\n        break;\n      default:\n        msg = msg ? msg + ': ' : msg;\n        throw new chai.AssertionError(\n          msg + 'Invalid operator \"' + operator + '\"',\n          undefined,\n          assert.operator\n        );\n    }\n    var test = new Assertion(ok, msg, assert.operator, true);\n    test.assert(\n        true === flag(test, 'object')\n      , 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2)\n      , 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2) );\n  };\n\n  /**\n   * ### .closeTo(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.closeTo(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name closeTo\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.closeTo = function (act, exp, delta, msg) {\n    new Assertion(act, msg, assert.closeTo, true).to.be.closeTo(exp, delta);\n  };\n\n  /**\n   * ### .approximately(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.approximately(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name approximately\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.approximately = function (act, exp, delta, msg) {\n    new Assertion(act, msg, assert.approximately, true)\n      .to.be.approximately(exp, delta);\n  };\n\n  /**\n   * ### .sameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in any order. Uses a\n   * strict equality check (===).\n   *\n   *     assert.sameMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'same members');\n   *\n   * @name sameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameMembers, true)\n      .to.have.same.members(set2);\n  }\n\n  /**\n   * ### .notSameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in any order.\n   * Uses a strict equality check (===).\n   *\n   *     assert.notSameMembers([ 1, 2, 3 ], [ 5, 1, 3 ], 'not same members');\n   *\n   * @name notSameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameMembers, true)\n      .to.not.have.same.members(set2);\n  }\n\n  /**\n   * ### .sameDeepMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in any order. Uses a\n   * deep equality check.\n   *\n   *     assert.sameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { c: 3 }], 'same deep members');\n   *\n   * @name sameDeepMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameDeepMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameDeepMembers, true)\n      .to.have.same.deep.members(set2);\n  }\n\n  /**\n   * ### .notSameDeepMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in any order.\n   * Uses a deep equality check.\n   *\n   *     assert.notSameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { f: 5 }], 'not same deep members');\n   *\n   * @name notSameDeepMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameDeepMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameDeepMembers, true)\n      .to.not.have.same.deep.members(set2);\n  }\n\n  /**\n   * ### .sameOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in the same order.\n   * Uses a strict equality check (===).\n   *\n   *     assert.sameOrderedMembers([ 1, 2, 3 ], [ 1, 2, 3 ], 'same ordered members');\n   *\n   * @name sameOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameOrderedMembers, true)\n      .to.have.same.ordered.members(set2);\n  }\n\n  /**\n   * ### .notSameOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in the same\n   * order. Uses a strict equality check (===).\n   *\n   *     assert.notSameOrderedMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'not same ordered members');\n   *\n   * @name notSameOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameOrderedMembers, true)\n      .to.not.have.same.ordered.members(set2);\n  }\n\n  /**\n   * ### .sameDeepOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in the same order.\n   * Uses a deep equality check.\n   *\n   * assert.sameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { c: 3 } ], 'same deep ordered members');\n   *\n   * @name sameDeepOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameDeepOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameDeepOrderedMembers, true)\n      .to.have.same.deep.ordered.members(set2);\n  }\n\n  /**\n   * ### .notSameDeepOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in the same\n   * order. Uses a deep equality check.\n   *\n   * assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { z: 5 } ], 'not same deep ordered members');\n   * assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { c: 3 } ], 'not same deep ordered members');\n   *\n   * @name notSameDeepOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameDeepOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameDeepOrderedMembers, true)\n      .to.not.have.same.deep.ordered.members(set2);\n  }\n\n  /**\n   * ### .includeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in any order. Uses a\n   * strict equality check (===). Duplicates are ignored.\n   *\n   *     assert.includeMembers([ 1, 2, 3 ], [ 2, 1, 2 ], 'include members');\n   *\n   * @name includeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeMembers, true)\n      .to.include.members(subset);\n  }\n\n  /**\n   * ### .notIncludeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in any order. Uses a\n   * strict equality check (===). Duplicates are ignored.\n   *\n   *     assert.notIncludeMembers([ 1, 2, 3 ], [ 5, 1 ], 'not include members');\n   *\n   * @name notIncludeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeMembers, true)\n      .to.not.include.members(subset);\n  }\n\n  /**\n   * ### .includeDeepMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in any order. Uses a deep\n   * equality check. Duplicates are ignored.\n   *\n   *     assert.includeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { b: 2 } ], 'include deep members');\n   *\n   * @name includeDeepMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeDeepMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeDeepMembers, true)\n      .to.include.deep.members(subset);\n  }\n\n  /**\n   * ### .notIncludeDeepMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in any order. Uses a\n   * deep equality check. Duplicates are ignored.\n   *\n   *     assert.notIncludeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { f: 5 } ], 'not include deep members');\n   *\n   * @name notIncludeDeepMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeDeepMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeDeepMembers, true)\n      .to.not.include.deep.members(subset);\n  }\n\n  /**\n   * ### .includeOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a strict equality\n   * check (===).\n   *\n   *     assert.includeOrderedMembers([ 1, 2, 3 ], [ 1, 2 ], 'include ordered members');\n   *\n   * @name includeOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeOrderedMembers, true)\n      .to.include.ordered.members(subset);\n  }\n\n  /**\n   * ### .notIncludeOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a strict equality\n   * check (===).\n   *\n   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 1 ], 'not include ordered members');\n   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 3 ], 'not include ordered members');\n   *\n   * @name notIncludeOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeOrderedMembers, true)\n      .to.not.include.ordered.members(subset);\n  }\n\n  /**\n   * ### .includeDeepOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a deep equality\n   * check.\n   *\n   *     assert.includeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 } ], 'include deep ordered members');\n   *\n   * @name includeDeepOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeDeepOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeDeepOrderedMembers, true)\n      .to.include.deep.ordered.members(subset);\n  }\n\n  /**\n   * ### .notIncludeDeepOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a deep equality\n   * check.\n   *\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { f: 5 } ], 'not include deep ordered members');\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 } ], 'not include deep ordered members');\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { c: 3 } ], 'not include deep ordered members');\n   *\n   * @name notIncludeDeepOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeDeepOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeDeepOrderedMembers, true)\n      .to.not.include.deep.ordered.members(subset);\n  }\n\n  /**\n   * ### .oneOf(inList, list, [message])\n   *\n   * Asserts that non-object, non-array value `inList` appears in the flat array `list`.\n   *\n   *     assert.oneOf(1, [ 2, 1 ], 'Not found in list');\n   *\n   * @name oneOf\n   * @param {*} inList\n   * @param {Array<*>} list\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.oneOf = function (inList, list, msg) {\n    new Assertion(inList, msg, assert.oneOf, true).to.be.oneOf(list);\n  }\n\n  /**\n   * ### .changes(function, object, property, [message])\n   *\n   * Asserts that a function changes the value of a property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 22 };\n   *     assert.changes(fn, obj, 'val');\n   *\n   * @name changes\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changes = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changes, true).to.change(obj, prop);\n  }\n\n   /**\n   * ### .changesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function changes the value of a property by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 2 };\n   *     assert.changesBy(fn, obj, 'val', 2);\n   *\n   * @name changesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changesBy, true)\n      .to.change(obj, prop).by(delta);\n  }\n\n   /**\n   * ### .doesNotChange(function, object, property, [message])\n   *\n   * Asserts that a function does not change the value of a property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { console.log('foo'); };\n   *     assert.doesNotChange(fn, obj, 'val');\n   *\n   * @name doesNotChange\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotChange = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotChange, true)\n      .to.not.change(obj, prop);\n  }\n\n  /**\n   * ### .changesButNotBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not change the value of a property or of a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 10 };\n   *     assert.changesButNotBy(fn, obj, 'val', 5);\n   *\n   * @name changesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changesButNotBy, true)\n      .to.change(obj, prop).but.not.by(delta);\n  }\n\n  /**\n   * ### .increases(function, object, property, [message])\n   *\n   * Asserts that a function increases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 13 };\n   *     assert.increases(fn, obj, 'val');\n   *\n   * @name increases\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increases = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.increases, true)\n      .to.increase(obj, prop);\n  }\n\n  /**\n   * ### .increasesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function increases a numeric object property or a function's return value by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 10 };\n   *     assert.increasesBy(fn, obj, 'val', 10);\n   *\n   * @name increasesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increasesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.increasesBy, true)\n      .to.increase(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .doesNotIncrease(function, object, property, [message])\n   *\n   * Asserts that a function does not increase a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 8 };\n   *     assert.doesNotIncrease(fn, obj, 'val');\n   *\n   * @name doesNotIncrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotIncrease = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotIncrease, true)\n      .to.not.increase(obj, prop);\n  }\n\n  /**\n   * ### .increasesButNotBy(function, object, property, [message])\n   *\n   * Asserts that a function does not increase a numeric object property or function's return value by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 15 };\n   *     assert.increasesButNotBy(fn, obj, 'val', 10);\n   *\n   * @name increasesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increasesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.increasesButNotBy, true)\n      .to.increase(obj, prop).but.not.by(delta);\n  }\n\n  /**\n   * ### .decreases(function, object, property, [message])\n   *\n   * Asserts that a function decreases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.decreases(fn, obj, 'val');\n   *\n   * @name decreases\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreases = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.decreases, true)\n      .to.decrease(obj, prop);\n  }\n\n  /**\n   * ### .decreasesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val -= 5 };\n   *     assert.decreasesBy(fn, obj, 'val', 5);\n   *\n   * @name decreasesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreasesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.decreasesBy, true)\n      .to.decrease(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .doesNotDecrease(function, object, property, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 15 };\n   *     assert.doesNotDecrease(fn, obj, 'val');\n   *\n   * @name doesNotDecrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotDecrease = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotDecrease, true)\n      .to.not.decrease(obj, prop);\n  }\n\n  /**\n   * ### .doesNotDecreaseBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.doesNotDecreaseBy(fn, obj, 'val', 1);\n   *\n   * @name doesNotDecrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotDecreaseBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotDecreaseBy, true)\n      .to.not.decrease(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .decreasesButNotBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.decreasesButNotBy(fn, obj, 'val', 1);\n   *\n   * @name decreasesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreasesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.decreasesButNotBy, true)\n      .to.decrease(obj, prop).but.not.by(delta);\n  }\n\n  /*!\n   * ### .ifError(object)\n   *\n   * Asserts if value is not a false value, and throws if it is a true value.\n   * This is added to allow for chai to be a drop-in replacement for Node's\n   * assert class.\n   *\n   *     var err = new Error('I am a custom error');\n   *     assert.ifError(err); // Rethrows err!\n   *\n   * @name ifError\n   * @param {Object} object\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.ifError = function (val) {\n    if (val) {\n      throw(val);\n    }\n  };\n\n  /**\n   * ### .isExtensible(object)\n   *\n   * Asserts that `object` is extensible (can have new properties added to it).\n   *\n   *     assert.isExtensible({});\n   *\n   * @name isExtensible\n   * @alias extensible\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isExtensible = function (obj, msg) {\n    new Assertion(obj, msg, assert.isExtensible, true).to.be.extensible;\n  };\n\n  /**\n   * ### .isNotExtensible(object)\n   *\n   * Asserts that `object` is _not_ extensible.\n   *\n   *     var nonExtensibleObject = Object.preventExtensions({});\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.freeze({});\n   *\n   *     assert.isNotExtensible(nonExtensibleObject);\n   *     assert.isNotExtensible(sealedObject);\n   *     assert.isNotExtensible(frozenObject);\n   *\n   * @name isNotExtensible\n   * @alias notExtensible\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotExtensible = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotExtensible, true).to.not.be.extensible;\n  };\n\n  /**\n   * ### .isSealed(object)\n   *\n   * Asserts that `object` is sealed (cannot have new properties added to it\n   * and its existing properties cannot be removed).\n   *\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.seal({});\n   *\n   *     assert.isSealed(sealedObject);\n   *     assert.isSealed(frozenObject);\n   *\n   * @name isSealed\n   * @alias sealed\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isSealed = function (obj, msg) {\n    new Assertion(obj, msg, assert.isSealed, true).to.be.sealed;\n  };\n\n  /**\n   * ### .isNotSealed(object)\n   *\n   * Asserts that `object` is _not_ sealed.\n   *\n   *     assert.isNotSealed({});\n   *\n   * @name isNotSealed\n   * @alias notSealed\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotSealed = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotSealed, true).to.not.be.sealed;\n  };\n\n  /**\n   * ### .isFrozen(object)\n   *\n   * Asserts that `object` is frozen (cannot have new properties added to it\n   * and its existing properties cannot be modified).\n   *\n   *     var frozenObject = Object.freeze({});\n   *     assert.frozen(frozenObject);\n   *\n   * @name isFrozen\n   * @alias frozen\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFrozen = function (obj, msg) {\n    new Assertion(obj, msg, assert.isFrozen, true).to.be.frozen;\n  };\n\n  /**\n   * ### .isNotFrozen(object)\n   *\n   * Asserts that `object` is _not_ frozen.\n   *\n   *     assert.isNotFrozen({});\n   *\n   * @name isNotFrozen\n   * @alias notFrozen\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFrozen = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotFrozen, true).to.not.be.frozen;\n  };\n\n  /**\n   * ### .isEmpty(target)\n   *\n   * Asserts that the target does not contain any values.\n   * For arrays and strings, it checks the `length` property.\n   * For `Map` and `Set` instances, it checks the `size` property.\n   * For non-function objects, it gets the count of own\n   * enumerable string keys.\n   *\n   *     assert.isEmpty([]);\n   *     assert.isEmpty('');\n   *     assert.isEmpty(new Map);\n   *     assert.isEmpty({});\n   *\n   * @name isEmpty\n   * @alias empty\n   * @param {Object|Array|String|Map|Set} target\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isEmpty = function(val, msg) {\n    new Assertion(val, msg, assert.isEmpty, true).to.be.empty;\n  };\n\n  /**\n   * ### .isNotEmpty(target)\n   *\n   * Asserts that the target contains values.\n   * For arrays and strings, it checks the `length` property.\n   * For `Map` and `Set` instances, it checks the `size` property.\n   * For non-function objects, it gets the count of own\n   * enumerable string keys.\n   *\n   *     assert.isNotEmpty([1, 2]);\n   *     assert.isNotEmpty('34');\n   *     assert.isNotEmpty(new Set([5, 6]));\n   *     assert.isNotEmpty({ key: 7 });\n   *\n   * @name isNotEmpty\n   * @alias notEmpty\n   * @param {Object|Array|String|Map|Set} target\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotEmpty = function(val, msg) {\n    new Assertion(val, msg, assert.isNotEmpty, true).to.not.be.empty;\n  };\n\n  /*!\n   * Aliases.\n   */\n\n  (function alias(name, as){\n    assert[as] = assert[name];\n    return alias;\n  })\n  ('isOk', 'ok')\n  ('isNotOk', 'notOk')\n  ('throws', 'throw')\n  ('throws', 'Throw')\n  ('isExtensible', 'extensible')\n  ('isNotExtensible', 'notExtensible')\n  ('isSealed', 'sealed')\n  ('isNotSealed', 'notSealed')\n  ('isFrozen', 'frozen')\n  ('isNotFrozen', 'notFrozen')\n  ('isEmpty', 'empty')\n  ('isNotEmpty', 'notEmpty');\n};\n","import pv from '..';\r\nimport makeSliders from './double_input_slider'\r\n\r\nexport default function() {\r\n  //initialize the sliders to control right ascension and decline\r\n  makeSliders()\r\n\r\n  //initialize the select file button\r\n  document.getElementById('p5-control').innerHTML = `<input type=\"file\" id=\"input-file\" />`\r\n\r\n  //make the start buttons disabled upon running the program\r\n  document.getElementById(\"start-button\").disabled = true\r\n  document.getElementById(\"next-button\").disabled = true\r\n\r\n  //make the confirm parameters button disabled upon running the program\r\n  document.getElementById(\"confirm-parameters-button\").disabled = true;\r\n\r\n  function disableScroll() { \r\n    // Get the current page scroll position \r\n    let scrollTop = window.pageYOffset || document.documentElement.scrollTop; \r\n    let scrollLeft = window.pageXOffset || document.documentElement.scrollLeft; \r\n        // if any scroll is attempted, set this to the previous value \r\n        window.onscroll = function() { \r\n            window.scrollTo(scrollLeft, scrollTop); \r\n        }; \r\n  } \r\n  \r\n  function enableScroll() { \r\n    window.onscroll = function() {}; \r\n  } \r\n\r\n  document.addEventListener(\"keydown\", event => {\r\n    if (event.keyCode === 16) {\r\n      //keyCode 16 = shift\r\n      disableScroll();\r\n    }\r\n  });\r\n  document.addEventListener(\"keyup\", event => {\r\n    if (event.keyCode === 16) {\r\n      //keyCode 16 = shift\r\n      enableScroll();\r\n    }\r\n  });\r\n\r\n  function calculateBinRatio(raRange, decRange) {\r\n    let raMaxRange = $(\"#ra-slider-range\").slider(\"option\", \"max\") - $(\"#ra-slider-range\").slider(\"option\", \"min\")\r\n    let raCurrRange = raRange[1] - raRange[0]\r\n    let raRatio = raCurrRange / raMaxRange\r\n\r\n    let decMaxRange = $(\"#dec-slider-range\").slider(\"option\", \"max\") - $(\"#dec-slider-range\").slider(\"option\", \"min\")\r\n    let decCurrRange = decRange[1] - decRange[0]\r\n    let decRatio = decCurrRange / decMaxRange\r\n\r\n    console.log(raRatio, \"    \", decRatio)\r\n    return [raRatio*1024, decRatio*1024]\r\n  }\r\n\r\n  function getRightAscension() {\r\n    //This method is invoked when the pipeline is started\r\n    let ra = [$(\"#ra-slider-range\").slider(\"option\", \"values\")[0], $(\"#ra-slider-range\").slider(\"option\", \"values\")[1]]\r\n    console.log(ra)\r\n    return ra\r\n  }\r\n\r\n  function getDecline() {\r\n    //This method is invoked when the pipeline is started\r\n    let dec = [$(\"#dec-slider-range\").slider(\"option\", \"values\")[0], $(\"#dec-slider-range\").slider(\"option\", \"values\")[1]]\r\n    console.log(dec)\r\n    return dec\r\n  }\r\n\r\n  let config = {\r\n    container: \"pv-vis\",\r\n    viewport: [2000, 4000],\r\n    profiling: true\r\n  }\r\n\r\n  let app = pv(config)\r\n\r\n  let confirmData = (evt) => {\r\n    //allow users to click confirm parameters button after data has been selected\r\n    document.getElementById(\"confirm-parameters-button\").disabled = false;\r\n    \r\n    app.input({\r\n      source: evt.target.files[0],\r\n      batchSize: 500000,\r\n      schema: {\r\n        target_name: 'string',\r\n        s_ra: 'float',\r\n        s_dec: 'float',\r\n        t_min: 'float',\r\n        t_max: 'float',\r\n        t_exptime: 'int'\r\n      }\r\n    });\r\n  }\r\n\r\n  let analyseVisualise = () => {\r\n    \r\n    let ra = getRightAscension()\r\n    let dec = getDecline()\r\n    let binSize = calculateBinRatio(ra, dec)\r\n\r\n    //define the views based on slider settings\r\n    let views = [\r\n      {\r\n        id: 'map_tight', offset: [50,0],\r\n        padding: {left: 80, right: 10, top: 20, bottom: 50},\r\n        width: binSize[0], height: binSize[1],\r\n      },\r\n      {\r\n        id: 'coordinates_chart', offset: [50, binSize[1]+50],\r\n        padding: {left: 80, right: 10, top: 20, bottom: 50},\r\n        width: 800, height: 600,\r\n      }\r\n    ]\r\n\r\n    //upon confirming parameters, make all sliders and buttons inactive\r\n    $( \"#ra-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#dec-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    document.getElementById(\"confirm-parameters-button\").disabled = true;\r\n    document.getElementById('p5-control').innerHTML = `<input type=\"file\" id=\"input-file\" hidden />`\r\n    //don't allow pressing of start until parameters are confirmed\r\n    document.getElementById(\"start-button\").disabled = false\r\n    document.getElementById(\"next-button\").disabled = false\r\n\r\n    app.view(views)\r\n    app.batch([\r\n      {\r\n        match: {\r\n          s_ra: ra,\r\n          s_dec: dec\r\n        },\r\n        aggregate: {\r\n          $bin: [{s_ra: binSize[0]}, {s_dec: binSize[1]}],\r\n          $collect: {\r\n            map_values: {$count: '*'}\r\n          },\r\n        },\r\n        out: 'map_tight'\r\n      },  \r\n      {\r\n        match: {\r\n          s_ra: ra\r\n        },\r\n        aggregate: {\r\n          $bin: {s_ra: Math.round(binSize[0]*6)},\r\n          $collect: {\r\n            chart_values: {$count: '*'},\r\n            chart_min: {$min: '*'}\r\n          },\r\n        },\r\n        out: 'chart1'\r\n      }\r\n    ]).progress([\r\n      {\r\n        visualize: {\r\n          id: 'map_tight',\r\n          in: 'map_tight',\r\n          mark: 'rectangle',\r\n          color: {\r\n            field: 'map_values',\r\n            exponent: '0.25'\r\n          },\r\n          x: 's_ra', \r\n          y: 's_dec',\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'coordinates_chart',\r\n          in: \"chart1\",\r\n          mark: 'line',\r\n          color: 'steelblue',\r\n          x: 's_ra', \r\n          y: 'chart_values'\r\n        }\r\n      },\r\n    ])\r\n    .interact([\r\n      {\r\n        event: ['pan','zoom'], \r\n        from: 'map_tight', \r\n        response: {\r\n          map_aggr: {\r\n            selected: {color: 'white'}\r\n          }\r\n        }\r\n      },\r\n    ]);\r\n    \r\n  }\r\n    \r\n  \r\n  document.getElementById('next-button').onclick = () => {\r\n    try {\r\n      app.next();\r\n    }\r\n    catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  document.getElementById('start-button').onclick = () => {\r\n    try {\r\n      app.start();\r\n    }\r\n    catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  document.getElementById('input-file').onchange = confirmData\r\n  document.getElementById('confirm-parameters-button').onclick = analyseVisualise\r\n}\r\n\r\n\r\n    \r\n\r\n","export default function() {\r\n   $( function() {\r\n      $( \"#ra-slider-range\" ).slider({\r\n        range: true,\r\n        min: 279,\r\n        max: 302,\r\n        values: [ 279, 302 ],\r\n        step: 0.1,\r\n        slide: function( event, ui ) {\r\n        $( \"#ra_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n        $( \"#ra_min\" ).val(ui.values[ 0 ]);\r\n        $( \"#ra_max\" ).val(ui.values[ 1 ]);\r\n      }\r\n    });\r\n      $( \"#ra_range\" ).val( $( \"#ra-slider-range\" ).slider( \"values\", 0 ) +\r\n      \" - \" + $( \"#ra-slider-range\" ).slider( \"values\", 1 ) );\r\n      $( \"#ra_min\" ).val($( \"#ra-slider-range\" ).slider( \"values\", 0 ));\r\n      $( \"#ra_max\" ).val($( \"#ra-slider-range\" ).slider( \"values\", 1 ));\r\n   } );\r\n   \r\n   $( function() {\r\n      $( \"#dec-slider-range\" ).slider({\r\n        range: true,\r\n        min: 36,\r\n        max: 53,\r\n        values: [ 36, 53 ],\r\n        step: 0.1,\r\n        slide: function( event, ui ) {\r\n        $( \"#dec_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n        $( \"#dec_min\" ).val(ui.values[ 0 ]);\r\n        $( \"#dec_max\" ).val(ui.values[ 1 ]);\r\n      }\r\n    });\r\n      $( \"#dec_range\" ).val( $( \"#dec-slider-range\" ).slider( \"values\", 0 ) +\r\n      \" - \" + $( \"#dec-slider-range\" ).slider( \"values\", 1 ) );\r\n      $( \"#dec_min\" ).val($( \"#dec-slider-range\" ).slider( \"values\", 0 ));\r\n      $( \"#dec_max\" ).val($( \"#dec-slider-range\" ).slider( \"values\", 1 ));\r\n   } );\r\n}\r\n","import Kepler from './kepler';\n\nKepler();\n"],"sourceRoot":""}