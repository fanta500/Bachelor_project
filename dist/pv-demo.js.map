{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/d3-geo/src/math.js","webpack:///./node_modules/d3-shape/src/math.js","webpack:///./node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/d3-scale-chromatic/src/ramp.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-scale/src/array.js","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/d3-scale/src/band.js","webpack:///./node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/d3-scale/src/nice.js","webpack:///./node_modules/d3-scale/src/log.js","webpack:///./node_modules/d3-scale/src/pow.js","webpack:///./node_modules/d3-time/src/interval.js","webpack:///./node_modules/d3-time/src/year.js","webpack:///./node_modules/d3-time/src/month.js","webpack:///./node_modules/d3-time/src/week.js","webpack:///./node_modules/d3-time/src/duration.js","webpack:///./node_modules/d3-time/src/day.js","webpack:///./node_modules/d3-time/src/hour.js","webpack:///./node_modules/d3-time/src/minute.js","webpack:///./node_modules/d3-time/src/second.js","webpack:///./node_modules/d3-time/src/millisecond.js","webpack:///./node_modules/d3-time/src/utcWeek.js","webpack:///./node_modules/d3-time/src/utcDay.js","webpack:///./node_modules/d3-time/src/utcYear.js","webpack:///./node_modules/d3-time-format/src/locale.js","webpack:///./node_modules/d3-time-format/src/defaultLocale.js","webpack:///./node_modules/d3-scale/src/time.js","webpack:///./node_modules/d3-time/src/utcMonth.js","webpack:///./node_modules/d3-time/src/utcHour.js","webpack:///./node_modules/d3-time/src/utcMinute.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/quantile.js","webpack:///./node_modules/d3-array/src/merge.js","webpack:///./node_modules/d3-geo/src/noop.js","webpack:///./node_modules/d3-geo/src/stream.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-geo/src/adder.js","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-timer/src/timer.js","webpack:///./node_modules/d3-timer/src/timeout.js","webpack:///./node_modules/d3-transition/src/transition/schedule.js","webpack:///./node_modules/d3-transition/src/interrupt.js","webpack:///./node_modules/d3-interpolate/src/transform/parse.js","webpack:///./node_modules/d3-interpolate/src/transform/decompose.js","webpack:///./node_modules/d3-interpolate/src/transform/index.js","webpack:///./node_modules/d3-transition/src/transition/tween.js","webpack:///./node_modules/d3-transition/src/transition/interpolate.js","webpack:///./node_modules/d3-transition/src/transition/attr.js","webpack:///./node_modules/d3-transition/src/transition/attrTween.js","webpack:///./node_modules/d3-transition/src/transition/delay.js","webpack:///./node_modules/d3-transition/src/transition/duration.js","webpack:///./node_modules/d3-transition/src/transition/ease.js","webpack:///./node_modules/d3-transition/src/transition/on.js","webpack:///./node_modules/d3-transition/src/transition/remove.js","webpack:///./node_modules/d3-transition/src/transition/selection.js","webpack:///./node_modules/d3-transition/src/transition/style.js","webpack:///./node_modules/d3-transition/src/transition/styleTween.js","webpack:///./node_modules/d3-transition/src/transition/textTween.js","webpack:///./node_modules/d3-transition/src/transition/index.js","webpack:///./node_modules/d3-transition/src/transition/select.js","webpack:///./node_modules/d3-transition/src/transition/selectAll.js","webpack:///./node_modules/d3-transition/src/transition/filter.js","webpack:///./node_modules/d3-transition/src/transition/merge.js","webpack:///./node_modules/d3-transition/src/transition/transition.js","webpack:///./node_modules/d3-transition/src/transition/text.js","webpack:///./node_modules/d3-transition/src/transition/end.js","webpack:///./node_modules/d3-transition/src/selection/transition.js","webpack:///./node_modules/d3-ease/src/cubic.js","webpack:///./node_modules/d3-transition/src/selection/index.js","webpack:///./node_modules/d3-transition/src/selection/interrupt.js","webpack:///./node_modules/d3-axis/src/array.js","webpack:///./node_modules/d3-axis/src/identity.js","webpack:///./node_modules/d3-axis/src/axis.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-shape/src/order/none.js","webpack:///./node_modules/d3-shape/src/offset/none.js","webpack:///./node_modules/chai/lib/chai/utils/flag.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/Tableau10.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack:///./node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js","webpack:///./node_modules/d3-color/src/cubehelix.js","webpack:///./node_modules/d3-interpolate/src/cubehelix.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack:///./node_modules/p4.js/src/ctypes.js","webpack:///./node_modules/p4.js/src/cstore.js","webpack:///./node_modules/d3-geo/src/identity.js","webpack:///./node_modules/d3-shape/src/curve/basis.js","webpack:///./node_modules/p4.js/src/arrays.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/curve/cardinal.js","webpack:///./node_modules/d3-shape/src/arc.js","webpack:///./node_modules/d3-shape/src/descending.js","webpack:///./node_modules/d3-shape/src/identity.js","webpack:///./node_modules/d3-shape/src/pie.js","webpack:///./node_modules/d3-shape/src/curve/radial.js","webpack:///./node_modules/d3-shape/src/lineRadial.js","webpack:///./node_modules/d3-shape/src/areaRadial.js","webpack:///./node_modules/d3-shape/src/pointRadial.js","webpack:///./node_modules/d3-shape/src/link/index.js","webpack:///./node_modules/d3-shape/src/symbol/circle.js","webpack:///./node_modules/d3-shape/src/symbol/cross.js","webpack:///./node_modules/d3-shape/src/symbol/diamond.js","webpack:///./node_modules/d3-shape/src/symbol/star.js","webpack:///./node_modules/d3-shape/src/symbol/square.js","webpack:///./node_modules/d3-shape/src/symbol/triangle.js","webpack:///./node_modules/d3-shape/src/symbol/wye.js","webpack:///./node_modules/d3-shape/src/symbol.js","webpack:///./node_modules/d3-shape/src/noop.js","webpack:///./node_modules/d3-shape/src/curve/basisClosed.js","webpack:///./node_modules/d3-shape/src/curve/basisOpen.js","webpack:///./node_modules/d3-shape/src/curve/bundle.js","webpack:///./node_modules/d3-shape/src/curve/cardinalClosed.js","webpack:///./node_modules/d3-shape/src/curve/cardinalOpen.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack:///./node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack:///./node_modules/d3-shape/src/curve/linearClosed.js","webpack:///./node_modules/d3-shape/src/curve/monotone.js","webpack:///./node_modules/d3-shape/src/curve/natural.js","webpack:///./node_modules/d3-shape/src/curve/step.js","webpack:///./node_modules/d3-shape/src/offset/expand.js","webpack:///./node_modules/d3-shape/src/offset/diverging.js","webpack:///./node_modules/d3-shape/src/offset/silhouette.js","webpack:///./node_modules/d3-shape/src/offset/wiggle.js","webpack:///./node_modules/d3-shape/src/order/appearance.js","webpack:///./node_modules/d3-shape/src/order/ascending.js","webpack:///./node_modules/d3-shape/src/order/descending.js","webpack:///./node_modules/d3-shape/src/order/insideOut.js","webpack:///./node_modules/d3-shape/src/order/reverse.js","webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./node_modules/topojson-client/src/stitch.js","webpack:///./node_modules/topojson-client/src/mesh.js","webpack:///./node_modules/chai/lib/chai.js","webpack:///./node_modules/chai/lib/chai/utils/transferFlags.js","webpack:///./node_modules/p4.js/src/utils.js","webpack:///./node_modules/p4.js/src/allocate.js","webpack:///./node_modules/p4.js/src/io/input.js","webpack:///./node_modules/p4.js/src/io/output.js","webpack:///./node_modules/p4.js/src/vis/brush.js","webpack:///./node_modules/p4.js/src/control.js","webpack:///./node_modules/p4.js/src/gljs/Aggregation.gl.js","webpack:///./node_modules/p4.js/src/ops/aggregate.js","webpack:///./node_modules/p4.js/src/ops/cache.gl.js","webpack:///./node_modules/p4.js/src/gljs/datetime.gl.js","webpack:///./node_modules/p4.js/src/ops/extent.gl.js","webpack:///./node_modules/p4.js/src/gljs/Match.gl.js","webpack:///./node_modules/p4.js/src/ops/match.js","webpack:///./node_modules/p4.js/src/vis/gradients.js","webpack:///./node_modules/p4.js/src/vis/colorhex.js","webpack:///./node_modules/p4.js/src/vis/color.js","webpack:///./node_modules/p4.js/src/vis/encode.js","webpack:///./node_modules/p4.js/src/vis/extend.js","webpack:///./node_modules/p4.js/src/vis/shaders/interpolate.gl.js","webpack:///./node_modules/p4.js/src/vis/svg.js","webpack:///./node_modules/p4.js/src/vis/axis.js","webpack:///./node_modules/p4.js/src/vis/scale.js","webpack:///./node_modules/p4.js/src/vis/format.js","webpack:///./node_modules/p4.js/src/vis/legend.js","webpack:///./node_modules/p4.js/src/vis/chart.js","webpack:///./node_modules/p4.js/src/vis/layout.js","webpack:///./node_modules/p4.js/src/vis/shaders/Renderer.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Instanced.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Polygon.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Interleaved.gl.js","webpack:///./node_modules/p4.js/src/vis/visualize.js","webpack:///./node_modules/p4.js/src/vis/reveal.js","webpack:///./node_modules/p4.js/src/kernels.js","webpack:///./node_modules/p4.js/src/ops/derive.js","webpack:///./node_modules/p4.js/src/operate.js","webpack:///./node_modules/p4.js/src/compile.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/ops/arrays.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/ops/aggregate.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/ops/match.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/ops/query.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/stats.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vector.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/plot.js","webpack:///./node_modules/p4.js/node_modules/p3.js/index.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/circle.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/bar.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/area.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/spline.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/map.js","webpack:///./node_modules/p4.js/node_modules/p3.js/src/vis/column.js","webpack:///./node_modules/p4.js/src/extensions.js","webpack:///./node_modules/p4.js/src/grid.js","webpack:///./node_modules/p4.js/src/main.js","webpack:///./node_modules/p4.js/src/initialize.js","webpack:///./node_modules/p4.js/src/pipeline.js","webpack:///./node_modules/p4.js/src/interact.js","webpack:///./node_modules/chai/lib/chai/config.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/curve/catmullRom.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-geo/src/path/bounds.js","webpack:///./node_modules/p4.js/index.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/p4.js/test/utils.js","webpack:///./node_modules/p3.js/src/ops/derive.js","webpack:///./node_modules/p3.js/src/ops/arrays.js","webpack:///./node_modules/p3.js/src/ops/aggregate.js","webpack:///./node_modules/p3.js/src/ops/match.js","webpack:///./node_modules/p3.js/src/ops/query.js","webpack:///./node_modules/p3.js/src/stats.js","webpack:///./node_modules/p3.js/src/vector.js","webpack:///./node_modules/p3.js/index.js","webpack:///./node_modules/p3.js/src/pipeline.js","webpack:///./node_modules/p3.js/src/allocate.js","webpack:///./node_modules/p3.js/src/join.js","webpack:///./node_modules/p3.js/src/embed.js","webpack:///./node_modules/p3.js/src/toarray.js","webpack:///./src/FileLoader.js","webpack:///./src/main.js","webpack:///./index.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/chai/lib/chai/utils/isProxyEnabled.js","webpack:///./node_modules/chai/lib/chai/utils/addLengthGuard.js","webpack:///./node_modules/chai/lib/chai/utils/proxify.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/p4.js/src/io/ajax.js","webpack:///./node_modules/p4.js/src/io/parse.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./src/Transpiler.js","webpack:///./node_modules/d3-geo/src/area.js","webpack:///./node_modules/d3-geo/src/cartesian.js","webpack:///./node_modules/d3-geo/src/bounds.js","webpack:///./node_modules/d3-geo/src/centroid.js","webpack:///./node_modules/d3-geo/src/constant.js","webpack:///./node_modules/d3-geo/src/compose.js","webpack:///./node_modules/d3-geo/src/rotation.js","webpack:///./node_modules/d3-geo/src/circle.js","webpack:///./node_modules/d3-geo/src/clip/buffer.js","webpack:///./node_modules/d3-geo/src/pointEqual.js","webpack:///./node_modules/d3-geo/src/clip/rejoin.js","webpack:///./node_modules/d3-geo/src/polygonContains.js","webpack:///./node_modules/d3-geo/src/clip/index.js","webpack:///./node_modules/d3-geo/src/clip/antimeridian.js","webpack:///./node_modules/d3-geo/src/clip/circle.js","webpack:///./node_modules/d3-geo/src/clip/rectangle.js","webpack:///./node_modules/d3-geo/src/clip/line.js","webpack:///./node_modules/d3-geo/src/clip/extent.js","webpack:///./node_modules/d3-geo/src/length.js","webpack:///./node_modules/d3-geo/src/distance.js","webpack:///./node_modules/d3-geo/src/contains.js","webpack:///./node_modules/d3-geo/src/graticule.js","webpack:///./node_modules/d3-geo/src/interpolate.js","webpack:///./node_modules/d3-geo/src/transform.js","webpack:///./node_modules/d3-geo/src/projection/fit.js","webpack:///./node_modules/d3-geo/src/projection/resample.js","webpack:///./node_modules/d3-geo/src/projection/index.js","webpack:///./node_modules/d3-geo/src/projection/conic.js","webpack:///./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/albers.js","webpack:///./node_modules/d3-geo/src/projection/albersUsa.js","webpack:///./node_modules/d3-geo/src/projection/azimuthal.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/mercator.js","webpack:///./node_modules/d3-geo/src/projection/conicConformal.js","webpack:///./node_modules/d3-geo/src/projection/equirectangular.js","webpack:///./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/equalEarth.js","webpack:///./node_modules/d3-geo/src/projection/gnomonic.js","webpack:///./node_modules/d3-geo/src/projection/identity.js","webpack:///./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack:///./node_modules/d3-geo/src/projection/orthographic.js","webpack:///./node_modules/d3-geo/src/projection/stereographic.js","webpack:///./node_modules/d3-geo/src/projection/transverseMercator.js","webpack:///./node_modules/d3-drag/src/noevent.js","webpack:///./node_modules/d3-drag/src/nodrag.js","webpack:///./node_modules/d3-interpolate/src/zoom.js","webpack:///./node_modules/d3-selection/src/sourceEvent.js","webpack:///./node_modules/d3-selection/src/point.js","webpack:///./node_modules/d3-selection/src/mouse.js","webpack:///./node_modules/d3-selection/src/touch.js","webpack:///./node_modules/d3-zoom/src/constant.js","webpack:///./node_modules/d3-zoom/src/event.js","webpack:///./node_modules/d3-zoom/src/transform.js","webpack:///./node_modules/d3-zoom/src/noevent.js","webpack:///./node_modules/d3-zoom/src/zoom.js","webpack:///./node_modules/chai/index.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/p4.js/flexgl/src/uniform.js","webpack:///./node_modules/p4.js/flexgl/src/attribute.js","webpack:///./node_modules/p4.js/flexgl/src/texture.js","webpack:///./node_modules/p4.js/flexgl/src/varying.js","webpack:///./node_modules/p4.js/flexgl/src/subroutine.js","webpack:///./node_modules/p4.js/flexgl/src/resource.js","webpack:///./node_modules/p4.js/flexgl/src/shader.js","webpack:///./node_modules/p4.js/flexgl/src/program.js","webpack:///./node_modules/p4.js/flexgl/src/framebuffer.js","webpack:///./node_modules/p4.js/flexgl/src/main.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack:///./node_modules/type-detect/type-detect.js","webpack:///./node_modules/chai/lib/chai/utils/inspect.js","webpack:///./node_modules/p4.js/test/data-babies.js","webpack:///./node_modules/p4.js/test/data-timeseries.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/d3-shape/src/stack.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack:///./node_modules/assertion-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/getActual.js","webpack:///./node_modules/chai/lib/chai/utils/objDisplay.js","webpack:///./node_modules/get-func-name/index.js","webpack:///./node_modules/chai/lib/chai/utils/getProperties.js","webpack:///./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js","webpack:///./node_modules/d3-geo/src/path/area.js","webpack:///./node_modules/d3-geo/src/path/centroid.js","webpack:///./node_modules/d3-geo/src/path/context.js","webpack:///./node_modules/d3-geo/src/path/measure.js","webpack:///./node_modules/d3-geo/src/path/string.js","webpack:///./node_modules/d3-geo/src/path/index.js","webpack:///./node_modules/p4.js/flexgl/index.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/jStat/dist/jstat.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/chai/lib/chai/utils/index.js","webpack:///./node_modules/pathval/index.js","webpack:///./node_modules/chai/lib/chai/utils/test.js","webpack:///./node_modules/chai/lib/chai/utils/expectTypes.js","webpack:///./node_modules/chai/lib/chai/utils/getMessage.js","webpack:///./node_modules/chai/lib/chai/utils/getEnumerableProperties.js","webpack:///./node_modules/deep-eql/index.js","webpack:///./node_modules/chai/lib/chai/utils/addProperty.js","webpack:///./node_modules/chai/lib/chai/utils/addMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteProperty.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteMethod.js","webpack:///./node_modules/chai/lib/chai/utils/addChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/compareByInspect.js","webpack:///./node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js","webpack:///./node_modules/check-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/isNaN.js","webpack:///./node_modules/chai/lib/chai/assertion.js","webpack:///./node_modules/chai/lib/chai/core/assertions.js","webpack:///./node_modules/chai/lib/chai/interface/expect.js","webpack:///./node_modules/chai/lib/chai/interface/should.js","webpack:///./node_modules/chai/lib/chai/interface/assert.js","webpack:///./node_modules/d3-dispatch/src/dispatch.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./demos/kepler.js","webpack:///./demos/sliders.js","webpack:///./demos/demo.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","exp","epsilon","epsilon2","pi","Math","PI","halfPi","quarterPi","tau","degrees","radians","abs","atan","atan2","cos","ceil","log","floor","pow","sin","sign","x","sqrt","tan","acos","asin","haversin","max","min","specifier","length","colors","Array","slice","scheme","initRange","domain","range","arguments","this","Map","map","f","each","set","isArray","constructor","has","remove","clear","keys","push","values","entries","size","empty","Set","proto","add","implicit","ordinal","index","unknown","scale","_","copy","apply","band","step","bandwidth","undefined","ordinalRange","round","paddingInner","paddingOuter","align","rescale","reverse","start","stop","rangeRound","padding","b","a","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","Date","setTime","k","constant","number","color","rgb","numberArray","valueOf","toString","isNaN","unit","identity","normalize","NaN","clamper","bimap","interpolate","d0","d1","r0","r1","polymap","j","source","target","clamp","transformer","transform","untransform","piecewise","output","input","invert","y","u","continuous","re","formatSpecifier","match","exec","Error","FormatSpecifier","fill","symbol","zero","width","comma","precision","trim","type","prefixExponent","toExponential","indexOf","coefficient","formatDecimal","exponent","join","toFixed","toPrecision","formatRounded","toUpperCase","prefixes","group","locale","grouping","thousands","Number","g","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","replace","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","format","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim","charCodeAt","Infinity","formatPrefix","e","count","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","tickFormat","nice","linear","x0","x1","interval","transformLog","transformExp","transformLogn","transformExpn","pow10","isFinite","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","z","transformPow","transformSqrt","transformSquare","powish","newInterval","floori","offseti","field","date","offset","previous","filter","end","every","setMonth","setHours","setFullYear","getFullYear","setDate","getMonth","weekday","getDate","getDay","getTimezoneOffset","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getMilliseconds","getSeconds","getMinutes","getHours","getUTCSeconds","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcDay","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newDate","timeFormat","pads","numberRe","percentRe","requoteRe","pad","string","requote","formatRe","names","RegExp","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","q","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","day","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","definition","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","week","parse","X","utcFormat","utcParse","formatLocale","calendar","year","month","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickIntervals","tickInterval","right","t0","t1","utcMonth","utcHour","setUTCMinutes","utcMinute","setUTCSeconds","compare","ascending","ascendingComparator","left","lo","hi","mid","ascendingBisect","bisector","bisectRight","bisect","e10","e5","e2","tickIncrement","power","LN10","error","tickStep","step0","step1","valueof","value0","merged","array","arrays","noop","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","features","Sphere","sphere","Point","coordinates","point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","hue","gamma","nogamma","exponential","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","parseInt","rgbn","Rgb","rgba","hsla","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","h","Hsl","hslConvert","hsl2rgb","m1","m2","channels","assign","displayable","formatHsl","Adder","reset","temp","adder","bv","av","extend","parent","factory","taskHead","taskTail","timeout","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","window","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","_next","timer","callback","delay","restart","wake","timerFlush","t2","sleep","nap","poke","clearTimeout","clearInterval","setInterval","TypeError","elapsed","emptyOn","dispatch","emptyTween","schedules","node","__transition","id","self","tween","state","on","__data__","tick","duration","ease","timing","init","schedule","cssNode","cssRoot","cssView","svgNode","active","translateX","translateY","rotate","skewX","scaleX","scaleY","interpolateTransform","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","interpolateTransformCss","document","createElement","documentElement","defaultView","style","getComputedStyle","appendChild","getPropertyValue","removeChild","split","decompose","interpolateTransformSvg","createElementNS","setAttribute","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","splice","tweenFunction","tweenValue","transition","_id","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","space","local","attrConstant","value1","string00","interpolate0","string1","string0","getAttribute","attrConstantNS","getAttributeNS","attrFunction","string10","attrFunctionNS","attrInterpolate","attrInterpolateNS","setAttributeNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","listener","on0","on1","sit","Selection","selection","styleRemove","removeProperty","styleInterpolate","priority","setProperty","styleTween","textInterpolate","textContent","textTween","Transition","groups","parents","_groups","_parents","_name","newId","selection_prototype","select","selector","subgroups","subnode","subgroup","selectAll","selectorAll","child","children","inherit","matcher","merge","groups0","groups1","m0","merges","group0","group1","id0","id1","nodes","attr","namespace","styleNull","styleFunction","listener0","event","styleMaybeRemove","styleConstant","text","textFunction","textConstant","parentNode","that","Promise","resolve","reject","cancel","interrupt","defaultTiming","center","entering","__axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","axis","context","spacing","range0","range1","position","path","data","order","tickExit","exit","tickEnter","enter","append","line","insert","tickSize","axisBottom","axisLeft","series","s0","s1","obj","flags","__flags","concat","ramp","A","B","C","D","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","define","cosh","sinh","cubehelixGamma","cubehelix","cubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","int","Int32Array","short","Int16Array","float","Float32Array","double","Float64Array","Uint16Array","datetime","temporal","integer","numeric","nominal","ColumnStore","arg","cstore","options","columns","types","attributes","struct","schema","strValues","strLists","intervals","indexes","colStats","colAlloc","colRead","skip","initCStore","forEach","configureColumn","intervalize","uniqueValues","initStruct","dtype","cid","columnType","includes","parseFloat","getTime","addRows","rowArray","shift","row","addObjects","objArray","console","addColumn","props","columnData","columnName","vi","di","metadata","info","stats","dtypes","export","_p4_cstore_version","col","avg","domains","ctypes","exportAsJSON","rows","ri","dataFrame","ai","exportAsRowArray","import","factor","len","fid","attrId","sort","_context","bezierCurveTo","_x0","_x1","_y0","_y1","Basis","areaStart","_line","areaEnd","_point","lineTo","closePath","moveTo","_reduce","opt","result","reduce","seq","intv","scan","pfsum","accum","iscan","diff","difference","intersect","unique","lcm","histogram","numBin","_max","_min","bins","hg","binID","counts","variance","std","vectorAdd","vectorSum","vectors","numberOfVectors","_vectorAvg","vectorAvg","Linear","_k","_x2","_y2","Cardinal","tension","cardinal","custom","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","y0","y1","x2","y2","x3","y3","x10","y10","x32","y32","cornerTangents","rc","cw","x01","y01","ox","oy","x11","y11","x00","y00","dx","dy","d2","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","arc","buffer","a0","a1","da","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","sortValues","descending","pie","sum","arcs","pa","curveRadialLinear","curveRadial","Radial","curve","_curve","radial","lineRadial","angle","radius","lineX0","lineX1","lineY0","lineY1","lineStartAngle","lineEndAngle","lineInnerRadius","lineOuterRadius","linkSource","linkTarget","link","argv","curveHorizontal","curveVertical","pointRadial","p2","p3","linkHorizontal","linkVertical","linkRadial","draw","tan30","tan30_2","kr","kx","ky","rect","sqrt3","symbols","circle","cross","diamond","square","star","triangle","wye","BasisClosed","_x3","_x4","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","CardinalClosed","_x5","_y5","CardinalOpen","CatmullRomClosed","alpha","_alpha","_l01_a","_l12_a","_l23_a","_l01_2a","_l12_2a","_l23_2a","x23","y23","catmullRom","CatmullRomOpen","LinearClosed","slope3","h0","h1","slope2","MonotoneX","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","_t0","px","py","Step","_t","stepBefore","stepAfter","none","yp","yn","s2","si","sij0","s3","sk","peaks","peak","vj","sums","appearance","top","bottom","tops","bottoms","topology","objects","bbox","properties","transformPoint","points","ring","polygon","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","dp","ends","fg","unshift","gf","meshArcs","extractArcs","stitch","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","used","version","AssertionError","util","use","fn","config","assertion","core","expect","should","assert","includeAll","flag","buf","seqFloat","vecId","dataProps","$p","categoryIndex","dkeys","dataSchema","isInteger","dataSize","rowSize","colSize","getDataWidth","TLB","dataDimension","resultDimension","fields","fieldWidths","deriveMax","fieldCount","fi","deriveDomains","deriveWidths","deriveFieldCount","getFieldId","fieldName","fieldId","attribute","indexAttrData","ctx","ext","vertexAttribDivisorANGLE","aVertexId","location","aDataFieldId","aDataItemId","_square","fieldDomains","uniform","filterControls","varying","texture","framebuffer","parameter","indexCount","tData","update","uDataInput","subroutine","uFieldWidths","uFieldDomains","uFieldCount","uIndexCount","uDeriveCount","texture2D","fDerivedValues","vec2","aDataValx","aDataValy","addrX","addrY","offsetY","gl","aDataIdx","aDataIdy","INPUT_FORMATS","INPUT_METHODS","outputTag","objectArray","uFilterFlag","getMatchBuffer","edi","extraDimension","getResultBuffer","cache","res","rs","subarray","arraySize","resultSize","Uint8Array","bindFramebuffer","readPixels","RGBA","UNSIGNED_BYTE","brush","option","container","svg","height","selectX","selectY","border","brushstart","brushend","css","sx","sy","intStart","drag","addEventListener","evt","preventDefault","clientX","clientY","nw","nh","sp","getBoundingClientRect","box","ondrag","selectorBox","nx","ny","removeEventListener","registers","control","register","tag","dataDim","uDataDim","deriveCount","filterFlag","uFilterControls","dataInput","resultDim","ids","extraDim","updateRegister","resume","arrayOfArray","reg","uDataSize","branchID","branch","branches","operations","run","Aggregate","groupKeyValue","gl_PointSize","vResult","uAggrOpt","getData","uFieldId","fFilterResults","uVisLevel","pos","Vec2","ii","gid","Int","uGroupFields","getFieldWidth","getFieldDomain","uBinCount","uBinIntervals","uExtraKeyValue","gl_Position","vec4","discard","gl_FragColor","GetStats","$vec4","gl_FragCoord","uResultDim","FillValues","uFillValue","VEC_IDS","METRICS","aggregate","program","shader","vertex","vertexShader","fragment","fragmentShader","resultFieldCount","resultDomains","getAvgValues","compute","opts","groupFieldIds","resultFieldIds","_progress","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","disable","BLEND","viewport","drawArrays","TRIANGLES","enableRead","CULL_FACE","DEPTH_TEST","enable","blendFunc","ONE","blendEquation","FUNC_ADD","postComputeFieldIds","MIN_EXT","MAX_EXT","drawArraysInstancedANGLE","POINTS","fAggrStats","postCompute","FRAMEBUFFER","execute","spec","newFieldSpec","$collect","$reduce","groupFields","$group","newFieldNames","resultFields","operators","twoPassFields","_update","getResult","oldFieldIds","newFieldDomains","newFieldWidths","fii","ifid","extent","rowTotal","colTotal","FLOAT","cacheTag","vs","fs","getHour","hours","getYear","getDayOfWeek","years","daysInMonth","isLeapYear","smallest","vDiscardData","fieldIds","extents","idCount","minValue","maxValue","IntervalMatch","sel","visSelect","Bool","$","uVisControls","uFilterRanges","uVisRanges","DiscreteMatch","uFilterLevel","uSelectCount","uInSelections","filterRanges","visControls","visRanges","inSelections","matchResultBuffer","from","rangeMatch","inMatch","ctrl","skipUpdateDomain","filterSpec","crossfilters","$in","filterValues","startIndex","endIndex","newDomains","matchFields","filterSelections","viewSelections","_execute","bitmap","gradients","colorhex","defaultColorScheme","defaultColorSet","gradient","colorset","hexStr","colorStr","setColorScheme","cc","colorGradient","colorResolution","c0","c1","xi","setColorTable","colorTable","colorSetMax","colorValue","mapColorRGB","colorRGB","Vec3","intValue","uDefaultColor","uColorMode","tColorGradient","uVisDomains","uColorCount","vec3","uColorSet","EncodingChannels","encode","vmap","colorManager","vmapIndex","scaleExponents","channel","channelIndex","encoding","uVisualEncodings","uScaleExponents","uDefaultAlpha","revealDensity","uRevealMode","uMarkSize","viewSetting","isRect","mark","markSpace","isXYCategorical","domainX","domainY","dims","dim","histograms","histMin","histMax","histIntv","histBin","uMarkSpace","uIsXYCategorical","uDefaultWidth","uDefaultHeight","channelId","indexedValue0","indexedValue1","defaultValue","getNonIndexedData","uGeoProjection","setAttr","elem","setStyle","Svg","defaultAttr","viewBox","preserveAspectRatio","innerWidth","innerHeight","getElementById","publicMethods","Attr","Style","str","createTextNode","addEventListner","domainIntervals","metric","styles","stroke","tickLength","tickPosition","tickAlign","skipLast","grid","visable","labelPos","labelAngle","Y","tickLabelAlign","labelPosition","getTickInterval","dstep","scaleOptions","margin","domainLength","rangeLength","show","svgTicks","tickLabel","class","textAnchor","gx1","gx2","gy1","gy2","labelText","printformat","parts","numericSymbols","defaultColors","gradID","chart","frontSvg","backSvg","plot","metavis","frontMetaVis","labels","showLegend","onclick","onhover","legend","axisOffset","frameBorder","gridlines","axisOption","colorLegend","gradientID","label","gradDirection","linearGradient","title","xAxes","yAxes","axisDist","labelOffset","histDomain","xAxisTitle","yAxisTitle","chartLayer","newDomain","xp","axisLabels","removeLegend","defaultProperties","layout","viz","body","clientWidth","clientHeight","div","prop","className","resize","createSVG","canvas","backSVG","scales","frontSVG","addProperty","render","destroy","_super","hide","display","addChart","exportImage","beforeExport","imageCanvas","getContext","svgString","XMLSerializer","serializeToString","DOMURL","URL","webkitURL","svgBlob","Blob","svgURL","createObjectURL","canvasLayer","Image","svgLayer","onload","drawImage","src","png","toDataURL","revokeObjectURL","onerror","Renderer","vColorRGBA","primitive","super","posX","posY","visMap","uDropZeros","valid","uVisMark","dist","gl_PointCoord","xy","smoothstep","val0","val1","mod","aDataItemVal0","aDataItemVal1","uInterleaveX","uFeatureCount","getEncodingByFieldId","vm","fv","userActions","visMarks","visualize","updateScheme","newColors","updateTable","substr","rgba2hex","getColors","updateColors","colorMode","chartPadding","vis","enhance","aViewX","aViewY","uViewDim","offScreenFBO","vs2","fs2","Vec4","uMaxRGBA","isFBOAllocatedFBO","viewIndex","viewDim","views","vOffset","vDim","maxRGBA","reveal","renderers","instanced","interleave","colorMap","renderer","visDomain","visDimension","dimSetting","pv","colorInfo","updateDomain","updateAxisX","updateAxisY","dom","removeAxis","updateInstancedAttribute","load","in","ONE_MINUS_SRC_ALPHA","LINE_STRIP","lineWidth","extensions","condition","dataDomains","last","skipRender","skipDefault","json","view","encodings","exportData","exportResult","onready","execution","function","restartOnUpdate","extChart","project","act","action","response","viewId","interactOptions","interactions","derive","derivedFields","marco","formula","matched","Function","getDerivedValue","uDeriveId","uOptMode","createProgram","newDerivedDomains","deriveFieldId","kernels","compile","$bin","binAttrs","binIndex","binAttr","binCount","binAttrId","binDomain","binInterval","bin","setOutput","vmaps","facet","facets","sortBy","sortOpt","sortAttr","sorted","normalizedValues","val","variables","minLoopCount","rule","code","generateViews","setInput","vid","viewTag","responses","_responseType","respond","var","ks","headers","binCollection","column","JSON","stringify","$data","gkeys","gk","outOpt","includeKeys","calculate","excludes","mergedResult","collect","fname","warnMsg","warn","_match","sat","query","indexBy","indexed","mf","sortArray","al","orderBy","ss","binAggregate","attrKey","embedData","rangeBegin","rangeEnd","$by","partition","numPart","pid","partitions","partitionBy","bi","hash","toColumnArray","columnArray","DATA","VIEW","axes","main","createSvg","getScales","logScale","item","ar","hideAxes","xAxis","xAxisSvg","yAxis","yAxisSvg","yGridlines","axeLabels","AxisLabels","Plot","ScatterPlot","BarChart","getDomainY","bars","newData","newColor","AreaChart","areas","area","createLegend","sample","legendWidth","legendPosY","stack","datum","Spline","splines","spline","yi","GeoMap","feature","gis","selectedRegion","borders","entities","countries","projection","defaultColor","showTip","setColor","enableZoom","zoom","tooltip","zoomLevel","scaleExtent","_size","valueById","entity","find","pathId","colorScale","setter","circleProps","geoPaths","borderColor","hover","geoPath","region","html","click","regionData","geoRegions","pointRadius","maxRadius","minRadius","radiusValues","radiusDomain","radiusScale","circles","raise","querySelector","icon","ColumnChart","Grid","calcOffset","p4","defaultLayout","async","primitives","dimX","api","pipeline","optID","queue","addModule","newModule","assignMethods","addToQueue","addOperation","operation","overwrite","clearQueue","jobs","isAsync","getRawData","getViews","head","inputName","outputName","dataOptions","allocate","operate","getOperations","optName","configPipeline","asyncPipeline","asyncInput","inputReady","method","delimiter","url","uniqueKeys","createIndexes","uk","dataFormat","dataHandlers","csv","dataSource","ajax","dataType","then","socket","WebSocket","onopen","onmessage","err","commit","runJSON","jsonSpec","inputSpec","clearWebGLBuffers","fb","runSpec","specs","interact","interaction","viewTags","actions","events","interactor","getSelection","cursor","brushOptions","updateEvent","selections","selectors","axisSelect","delta","onwheel","dir","deltaY","proportion","onmousedown","onpan","onmouseover","onmousemove","replaceData","updateData","accumulate","updateDataColumn","updateDataRow","rowId","texPosX","extOptions","annotate","ruler","inputDataOptions","includeStack","showDiff","truncateThreshold","useProxy","proxyExcludedKeys","defined","defined0","CatmullRom","xhtml","xlink","xml","xmlns","deg2rad","rad2deg","boundsStream","bounds","root","global","datasets","Babies","TimeSeries","equal","closeTo","hasAllKeys","normalDist","boundedRandom","rand","mean","random","randomJSONs","randomArrays","tranfs","task","_callback","oncomplete","header","ds","parsers","ta","insertRows","vl","vector","dataLeft","dataRight","keyL","embed","$id","lookup","toArray","FileLoader","file","chunk","fileSize","reader","FileReader","lineTotal","leftOver","rid","NOT_FOUND_ERR","NOT_READABLE_ERR","ABORT_ERR","readAsBinaryString","onloadend","readyState","DONE","lines","parseDataSchema","errorHandler","results","onprocess","PROGRESS_MODES","OPERATIONS","fetchData","batchProcessing","progression","p4x","preserveDrawingBuffer","progressStep","progressedSize","crossViewProc","inputType","profile","profiling","LoadTime","ProcTime","AccuTime","onEach","batchSize","getSchema","read","catch","ops","job","transpile","Transpiler","jobsToPipeline","batch","batches","progress","prepareData","cdata","onComplete","autoProgress","next","status","done","completed","inputData","loadStart","pp","mergedPipeline","setup","jsonSpecs","connection","sourceView","targetViews","sourceProc","sourcePipeline","tv","targetPipeline","interProc","targetView","selectedAttrs","conn","matches","validate","$sum","selected","getProfile","Proxy","Reflect","fnLengthDesc","getOwnPropertyDescriptor","assertionName","isChainable","configurable","getProperties","isProxyEnabled","builtins","nonChainableMethodName","proxyGetter","suggestion","suggestionDistance","strA","strB","cap","memo","ch","stringDistanceCapped","x0z","y0z","arealine","request","encodeURIComponent","req","XMLHttpRequest","open","responseType","statusText","setRequestHeader","send","getAll","promises","all","post","loadLine","delimiterCode","initPos","EOL","QUOTE","ownerDocument","filterEvents","mouseenter","mouseleave","filterContextListener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","onRemove","typename","__on","capture","onAdd","wrap","customEvent","args","sourceEvent","categories","rules","$aggregate","$include","$exclude","calculates","$calculate","collection","$count","phi00","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","cartesian","spherical","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","cartesianNormalizeInPlace","ranges","deltaSum","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","normal","inflection","phii","lambdai","antimeridian","lambda0","lambda1","rangeCompare","rangeContains","W0","W1","Z0","Z1","X2","Y2","Z2","z0","deltaMax","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cz","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","rejoin","Intersection","other","entry","subject","clip","segments","segment","pointEqual","compareIntersection","startInside","current","isSubject","longitude","winding","point0","phi0","sinPhi0","cosPhi0","sinPhi1","cosPhi1","point1","phi1","absDelta","intersection","phiArc","sink","clipLine","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointVisible","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","cr","smallRadius","notHemisphere","visible","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","q1","v0","v00","point2","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","b0","b1","polygonInside","cleanInside","cacheStream","lengthSum","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","distance","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","X1","X0","Y1","Y0","DX","DY","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","sy0","sy1","kx0","ky0","kx1","ky1","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","cosMinDistance","delta2","resampleLineTo","depth","phi2","lambda2","dx2","dy2","dz","lambda00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","ci","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","theta","preclip","postclip","recenter","resample","transformRotate","clipAngle","conicProjection","parallels","conicEqualAreaRaw","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","azimuthalRaw","azimuthalInvert","sc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","fy","equirectangularRaw","conicEquidistantRaw","gy","A1","A2","A3","A4","equalEarthRaw","l2","l6","gnomonicRaw","tx","ty","reflectX","reflectY","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","stopImmediatePropagation","noevent","__noselect","MozUserSelect","yesdrag","noclick","rho","SQRT2","ux0","uy0","w0","ux1","uy1","w1","coshr0","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","changedTouches","identifier","touches","touch","ZoomEvent","Transform","applyX","applyY","invertX","invertY","rescaleX","rescaleY","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","hasAttribute","defaultTransform","__zoom","defaultWheelDelta","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","translateExtent","touchstarting","touchending","constrain","wheelDelta","touchable","listeners","clickDistance2","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","gesture","__zooming","Gesture","taps","mouse","wheel","wheelidled","mousemoved","mouseupped","moved","k1","shiftKey","started","touch0","touch1","l0","l1","dl","scaleBy","scaleTo","k0","translateBy","translateTo","emit","clickDistance","EnterNode","namespaceURI","_parent","insertBefore","querySelectorAll","bindIndex","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","contains","textRemove","htmlRemove","innerHTML","htmlConstant","htmlFunction","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","creatorFixed","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","enterGroup","updateGroup","_enter","_exit","sparse","onenter","onupdate","onexit","compareNode","sortgroups","sortgroup","classed","creator","before","deep","Uniform","glContext","serializeArray","sa","setUniform","resourceType","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","ptr","uniform1i","getUniformLocation","sanitize","Attribute","attributeID","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","createBuffer","getAttribLocation","vertexAttribPointer","enableVertexAttribArray","arrayBuffer","bufferSubData","delete","deleteBuffer","Texture","textureID","setTexture","texData","texImage2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","sampler","texIndex","createTexture","copyFromFBO","copyTexImage2D","texSubImage2D","updateTexture","deleteTexture","Varying","Subroutine","Resource","resource","gpuResources","resourceTypes","resources","resourceName","Shader","glResource","parameters","_dict","shaderType","VERTEX_SHADER","FRAGMENT_SHADER","toGLSL","returnType","glsl","envParam","applyEnvParameters","expr","isObject","getExtraDeps","fnString","extraDeps","sdep","sres","declareDep","dep","uniqueDeps","deps","require","debug","shaderSource","sourceCode","shaderArgs","getDeps","allDeps","subroutineNames","_shader","createShader","compileShader","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","_shaderType","Program","pm","shaders","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","detachShader","deleteProgram","Framebuffer","createFramebuffer","renderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferTexture2D","COLOR_ATTACHMENT0","framebufferRenderbuffer","DEPTH_ATTACHMENT","deleteRenderbuffer","deleteFramebuffer","FlexGL","flexgl","glAttr","sharedFunction","cavnas","marginLeft","marginTop","setupWebGL","env","dict","dictionary","framebuffers","programManager","blendExt","getExtension","enableExtension","extension","extProps","ep","isProgram","serialize","aoa","fbName","keyValuePairs","newArray","dictKeys","fxgl","app","dimension","basis","v1","v2","v3","t3","rgbGamma","rgbSpline","rgbBasis","promiseExists","globalObject","symbolExists","mapExists","setExists","weakMapExists","WeakMap","weakSetExists","WeakSet","dataViewExists","symbolIteratorExists","iterator","symbolToStringTagExists","setEntriesExists","mapEntriesExists","setIteratorPrototype","getPrototypeOf","mapIteratorPrototype","arrayIteratorExists","arrayIteratorPrototype","stringIteratorExists","stringIteratorPrototype","typeofObj","mimeTypes","plugins","HTMLElement","tagName","stringTag","objPrototype","getName","getEnumerableProperties","showHidden","formatValue","seen","stylize","recurseTimes","inspect","ret","simple","formatPrimitive","nodeType","nodeName","outerHTML","xmlVersion","nameSuffix","visibleKeys","isError","isRegExp","isDate","toUTCString","formatError","typedArray","braces","objectToString","formatProperty","formatArray","formatTypedArray","prev","cur","reduceToSingleString","propDescriptor","educations","races","timesteps","record","originalModule","webpackPolyfill","stackValue","oz","kz","sz","sij","ki","exclude","excludeProps","message","_props","ssf","captureStackTrace","toJSON","_obj","functionNameMatch","aFunc","getOwnPropertyNames","getOwnPropertySymbols","sym","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_radius","lengthRing","PathString","_string","_circle","projectionStream","contextStream","measure","reA","reB","am","bm","bs","lastIndex","one","styleValue","jStat","isFunction","utils","ascNum","arr","sumsqrd","sumsqerr","tmp","sumrow","product","prod","low","high","_arr","meansqerr","geomean","median","arrlen","cumsum","cumreduce","cumprod","diffs","arrLen","rank","ranks","lastIndexOf","maxCount","numMaxCount","mode_arr","pooledvariance","samples","deviation","dev","stdev","pooledstdev","meandev","meddev","coeffvar","quartiles","quantiles","quantilesArray","alphap","betap","aleph","sortedArray","quantileVals","percentile","exclusive","realIndex","frac","percentileOfScore","score","kind","counter","strict","binCnt","binWidth","covariance","arr1","arr2","arr1Len","sq_dev","corrcoeff","spearmancoeff","stanMoment","mu","sigma","skewSum","skewness","kurtosis","jProto","funcs","passfunc","fullbool","func","tmpthis","transpose","toVector","callbackFunction","argsToPass","curriedFunction","calcRdx","LOG10E","isNumber","_init","retZero","retOne","retIdent","_random_fn","setRandom","cols","dimensions","rowa","submat","arange","ind","cola","diag","nrow","antidiag","objArr","toAlter","ncol","alter","zeros","ones","symmetric","cnt","hival","rl","_slice","rcSlice","colSlice","rowSlice","sliceAssign","nl","ml","diagonal","diagArray","mat","gammaln","xx","cof","ser","gammafn","fact","xden","xnum","gammap","lowRegGamma","an","aln","del","ITMAX","factorialln","factorial","combination","combinationln","permutation","betafn","betaln","betacf","aa","qab","qap","qam","gammapinv","lna1","afac","gln","erf","isneg","dd","erfc","erfcinv","ibetainv","lna","lnb","ibeta","bt","randn","randg","shape","a2","oalph","betinc","eps","c9","m9","tukeyWprob","rr","xleg","aleg","qsqz","wincr","pr_w","cdf","blb","binc","bub","einsum","cc1","wi","elsum","jj","ac","qexpo","rinsum","callee","_a","_b","_c","newthis","vals","fnfunc","pdf","inv","centralF","df1","df2","binomial","cauchy","chisquare","dof","rate","invgamma","kumaraswamy","lognormal","noncentralt","ncp","studentt","flip","prob","lastvalue","pareto","dof2","weibull","betacdf","negbin","hypgeom","N","scaledPDF","samplesDone","scaledCDF","poisson","sumarr","triangular","arcsine","laplace","tukey","nmeans","df","xlegq","alegq","ulen","f2","f2lf","f21","ff4","ans","otsum","twa1","ps","tukeyQinv","valx0","valx1","iter","isUsable","subtract","divide","multiply","nrescols","rescols","outer","dot","norm","nnorm","aug","newarr","gauss_jordan","det","alen","alend","rowshift","colshift","mrow","mcol","gauss_elimination","maug","pivot","maxrow","triaUpSolve","matrix_mode","triaLowSolve","lu","R","cholesky","T","gauss_jacobi","xv","xk","gauss_seidel","SOR","householder","QR","lstsq","array_mode","attrs","Q1","RI","I","Aj","cAi","Ij","cIi","R_I","Q2","jacobi","maxim","ev","rungekutta","t_j","u_j","k2","k3","romberg","richardson","h_min","simpson","hermite","F","dF","lagrange","cubic_spline","sq","gauss_quadrature","PCA","temp1","Bt","temp2","Vt","differenceOfProportions","pooled","zscore","ztest","sides","tscore","ttest","anovafscore","expVar","sampMean","sampSampMean","tmpargs","unexpVar","anovaftest","ftest","fscore","anovaftes","qscore","mean1","mean2","sd","qtest","tukeyhsd","means","normalci","change","tci","significant","pvalue","oneSidedDifferenceOfProportions","twoSidedDifferenceOfProportions","models","ols","endog","exog","nobs","df_model","df_resid","coef","predict","resid","ybar","SSE","SSR","SST","R2","t_test","model","var_count","subModelList","endog_index","exog_index","sigmaHat","seBetaHat","tStatistic","pValue","leftppf","interval95","se","F_statistic","F_test","adjust_R2","buildxmatrix","matrixRows","builddxmatrix","buildjxmatrix","jMat","pass","buildymatrix","buildjymatrix","matrixmult","regress","jMatX","jMatY","innerinv","xtranspxinv","xtransp","regresst","jMatYBar","yBar","yAverage","anova","residuals","ssr","msr","sse","mse","sst","mst","r2","fratio","rmse","r2adj","sds","covar","xtranspx","inner","matrixsubtract","tauEpsilon","Path","quadraticCurveTo","arcTo","x21","y21","l01_2","x20","y20","l21_2","l20_2","l21","l01","t01","t21","ccw","pathval","expectTypes","getMessage","getActual","objDisplay","transferFlags","eql","getPathInfo","hasProperty","addMethod","overwriteProperty","overwriteMethod","addChainableMethod","overwriteChainableMethod","compareByInspect","getOwnEnumerablePropertySymbols","getOwnEnumerableProperties","checkError","proxify","addLengthGuard","parsePath","mArr","internalGetPathValue","parsed","pathDepth","temporaryValue","part","exists","getPathValue","setPathValue","tempObj","propName","propVal","internalSetPathValue","negate","flagMsg","ssfi","art","objType","some","expected","actual","msg","FakeMap","_key","isExtensible","MemoizeMap","memoizeCompare","leftHandOperand","rightHandOperand","memoizeMap","isPrimitive","leftHandMap","memoizeSet","deepEqual","comparator","extensiveDeepEqual","simpleResult","simpleEqual","memoize","memoizeResultLeft","memoizeResultRight","comparatorResult","leftHandType","iterableEqual","regexpEqual","getGeneratorEntries","generatorEqual","entriesEqual","leftHandKeys","getEnumerableKeys","rightHandKeys","keysEqual","leftHandEntries","getIteratorEntries","rightHandEntries","objectEqual","extensiveDeepEqualByType","leftHandItems","rightHandItems","hasIteratorFunction","iteratorError","generator","generatorResult","accumulator","chai","propertyGetter","newAssertion","Assertion","methodWrapper","_get","overwritingPropertyGetter","origLockSsfi","_method","overwritingMethodWrapper","canSetPrototype","setPrototypeOf","testFn","excludeNames","propDesc","chainingBehavior","chainableBehavior","__methods","chainableMethodWrapper","asserterName","pd","_chainingBehavior","getFunctionName","constructorFn","compatibleInstance","thrown","errorLike","compatibleConstructor","compatibleMessage","errMatcher","comparisonString","getConstructorName","constructorName","_chai","lockSsfi","negateMsg","_actual","ok","article","SameValueZero","includeChainingBehavior","include","isDeep","descriptor","included","isEql","firstErr","numErrs","propAssertion","checkArguments","assertEqual","prevLockSsfi","assertEql","assertAbove","errorMessage","doLength","msgPrefix","nType","shouldThrow","have","itemsCount","assertLeast","assertBelow","assertMost","assertInstanceOf","isInstanceOf","assertProperty","isNested","isOwn","nameType","pathInfo","assertOwnProperty","assertOwnPropertyDescriptor","actualDescriptor","assertLengthChain","assertLength","assertMatch","assertKeys","keysType","deepStr","mixedArgsMsg","any","expectedKey","actualKey","assertThrows","errMsgMatcher","caughtErr","is","everyArgIsUndefined","everyArgIsDefined","Boolean","errorLikeFail","errMsgMatcherFail","errorLikeString","placeholder","respondTo","itself","satisfy","assertChanges","initial","final","msgObj","assertIncreases","assertDecreases","chain","finish","startType","finishType","subset","be","failMsg","failNegateMsg","ordered","cmp","superset","idx","matchIdx","elem2","isSubsetOf","expression","behavior","realDelta","isSealed","isFrozen","fail","operator","loadShould","writable","shouldGetter","val2","errt","errs","Throw","exist","not","Should","express","errmsg","isOk","isNotOk","notEqual","strictEqual","notStrictEqual","deepStrictEqual","notDeepEqual","isAbove","abv","above","isAtLeast","atlst","least","isBelow","blw","below","isAtMost","atmst","most","isTrue","isNotTrue","isFalse","isNotFalse","isNull","isNotNull","isNotNaN","notExists","isUndefined","isDefined","isNotFunction","isNotObject","isNotArray","isString","isNotString","isNotNumber","finite","isBoolean","isNotBoolean","typeOf","notTypeOf","instanceOf","notInstanceOf","inc","notInclude","deepInclude","notDeepInclude","nestedInclude","nested","notNestedInclude","deepNestedInclude","notDeepNestedInclude","ownInclude","own","notOwnInclude","deepOwnInclude","notDeepOwnInclude","notMatch","notProperty","propertyVal","notPropertyVal","deepPropertyVal","notDeepPropertyVal","ownProperty","notOwnProperty","ownPropertyVal","notOwnPropertyVal","deepOwnPropertyVal","notDeepOwnPropertyVal","nestedProperty","notNestedProperty","nestedPropertyVal","notNestedPropertyVal","deepNestedPropertyVal","notDeepNestedPropertyVal","lengthOf","hasAnyKeys","containsAllKeys","contain","doesNotHaveAnyKeys","doesNotHaveAllKeys","hasAnyDeepKeys","hasAllDeepKeys","containsAllDeepKeys","doesNotHaveAnyDeepKeys","doesNotHaveAllDeepKeys","throws","assertErr","throw","doesNotThrow","approximately","sameMembers","set1","set2","same","members","notSameMembers","sameDeepMembers","notSameDeepMembers","sameOrderedMembers","notSameOrderedMembers","sameDeepOrderedMembers","notSameDeepOrderedMembers","includeMembers","notIncludeMembers","includeDeepMembers","notIncludeDeepMembers","includeOrderedMembers","notIncludeOrderedMembers","includeDeepOrderedMembers","notIncludeDeepOrderedMembers","oneOf","inList","changes","changesBy","tmpMsg","doesNotChange","changesButNotBy","but","increases","increase","increasesBy","doesNotIncrease","increasesButNotBy","decreases","decrease","decreasesBy","doesNotDecrease","doesNotDecreaseBy","decreasesButNotBy","ifError","extensible","isNotExtensible","sealed","isNotSealed","frozen","isNotFrozen","isEmpty","isNotEmpty","alias","as","Dispatch","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","hcl","timeBegin","timeEnd","calculateBinSizeFactor","atr","atrMaxRange","atrCurrRange","atrRatio","slider","getMagnitude","getSurfTemp","getSurfGrav","getMetallicity","getRadius","getMass","getDensity","slide","ui","disabled","keyCode","scrollTop","pageYOffset","scrollLeft","pageXOffset","onscroll","scrollTo","disableScroll","datasetSize","dataset","onchange","files","checked","st_delivname","kepid","tm_designation","ra","dec","kepmag","teff","teff_err1","teff_err2","teff_prov","logg","logg_err1","logg_err2","logg_prov","feh","feh_err1","feh_err2","feh_prov","radius_err1","radius_err2","mass","mass_err1","mass_err2","dens","dens_err1","dens_err2","prov_sec","nconfp","nkoi","ntce","st_quarters","st_vet_date_str","mapDim","ra_range","dec_range","binSize","raRange","decRange","raMaxRange","raRatio","decMaxRange","calculateBinRatio","mag_range","temp_range","grav_range","metal_range","radius_range","mass_range","density_range","planets_range","KOIs_range","TCEs_range","resolution","star_count","temp_count","mag_count","mass_count","radius_count","planets_count","KOIs_count","TCEs_count","gravity_count","density_count","metallicity_count","elapsedTime","frames"],"mappings":"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G02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,yDACA,+DACA,sEACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCZT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,SAAA42B,EAAA,GAAK,GCVT,EAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,UAAA42B,EAAA,GAAK,GCVT,GAAS,IAAI32B,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAIV,EAAA,GAES,UAAA42B,EAAA,GAAK,I,SCVT,GAA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UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjwF,MAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/vF,OAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChwF,QAAW,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YCJxvFC,EAAW,CACpB,UAAa,UACb,aAAgB,UAChB,KAAQ,UACR,WAAc,UACd,MAAS,UACT,MAAS,UACT,OAAU,UACV,MAAS,UACT,eAAkB,UAClB,KAAQ,UACR,WAAc,UACd,MAAS,UACT,UAAa,UACb,UAAa,UACb,WAAc,UACd,UAAa,UACb,MAAS,UACT,eAAkB,UAClB,SAAY,UACZ,QAAW,UACX,KAAQ,UACR,SAAY,UACZ,SAAY,UACZ,cAAiB,UACjB,SAAY,UACZ,UAAa,UACb,UAAa,UACb,YAAe,UACf,eAAkB,UAClB,WAAc,UACd,WAAc,UACd,QAAW,UACX,WAAc,UACd,aAAgB,UAChB,cAAiB,UACjB,cAAiB,UACjB,cAAiB,UACjB,WAAc,UACd,SAAY,UACZ,YAAe,UACf,QAAW,UACX,WAAc,UACd,UAAa,UACb,YAAe,UACf,YAAe,UACf,QAAW,UACX,UAAa,UACb,WAAc,UACd,KAAQ,UACR,UAAa,UACb,KAAQ,UACR,MAAS,UACT,YAAe,UACf,SAAY,UACZ,QAAW,UACX,aAAc,UACd,OAAU,UACV,MAAS,UACT,MAAS,UACT,SAAY,UACZ,cAAiB,UACjB,UAAa,UACb,aAAgB,UAChB,UAAa,UACb,WAAc,UACd,UAAa,UACb,qBAAwB,UACxB,UAAa,UACb,WAAc,UACd,UAAa,UACb,YAAe,UACf,cAAiB,UACjB,aAAgB,UAChB,eAAkB,UAClB,eAAkB,UAClB,YAAe,UACf,KAAQ,UACR,UAAa,UACb,MAAS,UACT,QAAW,UACX,OAAU,UACV,iBAAoB,UACpB,WAAc,UACd,aAAgB,UAChB,aAAgB,UAChB,eAAkB,UAClB,gBAAmB,UACnB,kBAAqB,UACrB,gBAAmB,UACnB,gBAAmB,UACnB,aAAgB,UAChB,UAAa,UACb,UAAa,UACb,SAAY,UACZ,YAAe,UACf,KAAQ,UACR,QAAW,UACX,MAAS,UACT,UAAa,UACb,OAAU,UACV,UAAa,UACb,OAAU,UACV,cAAiB,UACjB,UAAa,UACb,cAAiB,UACjB,cAAiB,UACjB,WAAc,UACd,UAAa,UACb,KAAQ,UACR,KAAQ,UACR,KAAQ,UACR,WAAc,UACd,OAAU,UACV,IAAO,UACP,UAAa,UACb,UAAa,UACb,YAAe,UACf,OAAU,UACV,WAAc,UACd,SAAY,UACZ,SAAY,UACZ,OAAU,UACV,OAAU,UACV,QAAW,UACX,UAAa,UACb,UAAa,UACb,KAAQ,UACR,YAAe,UACf,UAAa,UACb,IAAO,UACP,KAAQ,UACR,QAAW,UACX,OAAU,UACV,UAAa,UACb,OAAU,UACV,MAAS,UACT,MAAS,UACT,WAAc,UACd,OAAU,UACV,YAAe,WCvIbC,EAAqB,EAAsB,QAC3CC,EAAkB,CACpB,YACA,MACA,OACA,SACA,UAGJ,IAAIC,EAAWF,EACXG,EAAWF,EA+Df,SAAS18C,EAAI68C,GACT,IAAI35B,EATe45B,EAoBnB,OARI55B,EADoB,KAArB25B,EAAO7gD,MAAM,EAAE,GACR6gD,EAAO7gD,MAAM,IAZJ8gD,EAcKD,OAbuB,IAApCL,EAASM,EAAS/3C,gBAClBy3C,EAASM,EAAS/3C,gBAYG/I,MAAM,GAM/B,CAHH0mB,SAASQ,EAAInf,UAAU,EAAE,GAAI,IAAM,IACnC2e,SAASQ,EAAInf,UAAU,EAAE,GAAI,IAAM,IACnC2e,SAASQ,EAAInf,UAAU,EAAE,GAAI,IAAM,KAI3C,SAAS8e,EAAKg6B,EAAQ3X,EAAQ,GAC1B,IAAI9sC,EAAI4H,EAAI68C,GACZ,MAAO,CAACzkD,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI8sC,GAc9B,SAAS6X,EAAejhD,GACpB,IAAIkhD,EAAKlhD,EAAOD,OAAS,EACrBsC,EAAQ6+C,GAAM,EA5GE,KA4GsBA,EAAG,GAAK,EAC9CC,EAAgB,IAAIzoB,aAAa0oB,MAErCphD,EAAOoB,KAAKpB,EAAOkhD,IACnB,IAAI,IAAIjlD,EAAI,EAAGA,EAAIilD,EAAG,EAAGjlD,IAKrB,IAJA,IAAIolD,EAAKt6B,EAAK/mB,EAAO/D,IACjBqlD,EAAKv6B,EAAK/mB,EAAO/D,EAAE,IACnBuQ,EAA8B,EAArBnO,KAAKa,MAAMjD,EAAIoG,GAEpB/C,EAAI,EAAGA,EAAI+C,EAAM/C,IAAK,CAC1B,IAAIiiD,EAAKjiD,EAAI,EACb6hD,EAAc30C,EAAS,EAAFlN,GAAS+hD,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EACxDJ,EAAc30C,EAAS,EAAFlN,EAAI,GAAK+hD,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EACxDJ,EAAc30C,EAAS,EAAFlN,EAAI,GAAK+hD,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EACxDJ,EAAc30C,EAAS,EAAFlN,EAAI,GAAK+hD,EAAG,IAAMC,EAAG,GAAKD,EAAG,IAAME,EAIhE,OADAvhD,EAAO2sB,MACAw0B,EAGX,SAASK,EAAcxhD,GACnB,IAAIyhD,EAAa,IAAI/oB,aAAagpB,IAOlC,OANA1hD,EAAOq6B,SAAQ,SAAS/9B,EAAGL,GACvB,IAAI0lD,EAAaz9C,EAAI5H,GACrBmlD,EAAa,EAAFxlD,GAAO0lD,EAAW,GAC7BF,EAAa,EAAFxlD,EAAI,GAAK0lD,EAAW,GAC/BF,EAAa,EAAFxlD,EAAI,GAAK0lD,EAAW,MAE5BF,EAGX,SAASG,GAAY,QAACnR,EAAU,MAAK,MAAEvzC,EAAQ,UAC3C,IAAIX,EAAI,IAAI47C,KACR0J,EAAW,IAAIC,KACfC,EAAW,IAAIzJ,IAiBnB,OAhBe,GAAZ7H,EACCoR,EAAWrhD,KAAKwhD,cAEM,GAAnBxhD,KAAKyhD,WACJJ,EAAWxP,UAAU7xC,KAAK0hD,eAAgB3P,KAAKr1C,EAAO,IAAMgH,KAE5D3H,EAAIiE,KAAK2hD,YAAY1R,GAIjBoR,GAHJE,EAAW1pB,IAAIn7B,GAASX,EAAEuJ,EAAIvJ,EAAE+C,GAAK/C,EAAE+C,EAAI,MAE5BkB,KAAK4hD,YACLC,KAAK,EAAK,EAAK,GAEf7hD,KAAK8hD,UAAUP,IAI/BF,ECnKJ,MAAMU,EAAmB,CAAC,IAAK,IAAK,QAAS,UAAW,QAAS,SAAU,QAE3E,SAASC,EAAOrT,EAAIsT,EAAMC,GAC7B,IAAIx7B,EAAUu7B,EAAKv7B,SAAWu7B,EAAKrZ,MAC/BuZ,EAAY,IAAIrqB,WAAWiqB,EAAiBxiD,QAC5C6iD,EAAiB,IAAIlqB,aAAa6pB,EAAiBxiD,QAAQwG,KAAK,GAEpEg8C,EAAiBloB,QAAQ,CAACwoB,EAASC,KAC/B,IAAIC,EAAWN,EAAKI,GACI,iBAAd,GAA0BE,EAASjlD,eAAe,WAC/B,IAAtBilD,EAAS37C,WACRw7C,EAAeE,GAAgBC,EAAS37C,UAE5C27C,EAAWN,EAAKI,GAASv2C,OAE7Bq2C,EAAUG,GAAgB3T,EAAGY,OAAO9oC,QAAQ87C,KAEhD5T,EAAGkC,QAAQ2R,iBAAiBvtB,KAAOktB,EACnCxT,EAAGkC,QAAQ4R,gBAAgBxtB,KAAOmtB,EAClCzT,EAAGkC,QAAQ6R,cAAcztB,KAAO,GACX,IAAlBktB,EAAU,GACkB,iBAAhBF,EAAU,MACC,SAAfA,EAAKx+C,OACJkrC,EAAGgU,eAAgB,EACnBhU,EAAGkC,QAAQ+R,YAAY3tB,KAAO,GAE9B0Z,EAAGkC,QAAQ2Q,cAAcvsB,KAAOitB,EAAax+C,IAAIu+C,EAAKx+C,OAGlC,iBAAdw+C,EAAS,OACftT,EAAGkC,QAAQgS,UAAU5tB,KAAOgtB,EAAKlhD,MAItC4tC,EAAGtV,SAAS/7B,eAAeqxC,EAAGY,OAAO4S,EAAU,KAC9CxT,EAAGkC,QAAQ4Q,WAAWxsB,KAAO,EAE7B0Z,EAAGkC,QAAQ4Q,WAAWxsB,KAAO,EAId,iBAAd,EACL0Z,EAAGkC,QAAQ6R,cAAcztB,KAAOvO,GACR,IAAlBy7B,EAAU,IACG,iBAAb,GACK,QAAXz7B,IAEAioB,EAAGgU,eAAgB,EACnBhU,EAAGkC,QAAQ+R,YAAY3tB,KAAO,IAIb,IAAlBktB,EAAU,IAAkC,iBAAdF,EAAS,OACtCtT,EAAGkC,QAAQgS,UAAU5tB,KAAOgtB,EAAKlhD,MAGrC,IAAI+hD,EAAc,CAACthD,MAAO,GAAIg9B,UAAW,IACrCukB,GAAkD,IAAxC,CAAC,OAAQ,OAAOt8C,QAAQw7C,EAAKe,MACvCC,EAAY,CAAC,EAAG,GAChBC,EAAkB,CAAC,EAAG,GAC1B,GAAGf,EAAU,IAAM,EAAG,CAClB,IAAI5lB,EAAMoS,EAAGa,YAAY2S,EAAU,IAC/B9R,EAAM1B,EAAGiC,aAAauR,EAAU,IACjCxT,EAAGtV,SAAS/7B,eAAe2kD,EAAKnjD,IAC/BgkD,EAAYthD,MAAM1C,EAAI,cACtBgkD,EAAYK,QAAU,IAAI1jD,MAAM88B,GAAKx2B,KAAK,GAAG7F,IACzC,CAACnE,EAAEN,IAAMkzC,EAAGtV,SAAS4oB,EAAKnjD,GAAGrD,IAEjCynD,EAAgB,GAAK,GACbH,IACRD,EAAYthD,MAAM1C,EAAI,UACtBgkD,EAAYK,QAAU,IAAI1jD,MAAM88B,GAAKx2B,KAAK,GAAG7F,IAAI,CAACnE,EAAEN,IAAM40C,EAAI,GAAK50C,IAEtEwnD,EAAU,GAAKhB,EAAKgB,WAAa,IAGtC,GAAGd,EAAU,IAAM,EAAG,CAClB,IAAI5lB,EAAMoS,EAAGa,YAAY2S,EAAU,IAC/B9R,EAAM1B,EAAGiC,aAAauR,EAAU,IAEjCxT,EAAGtV,SAAS/7B,eAAe2kD,EAAK38C,IAC/Bw9C,EAAYthD,MAAM8D,EAAI,cACtBw9C,EAAYM,QAAU,IAAI3jD,MAAM88B,GAAKx2B,KAAK,GAAG7F,IACzC,CAACnE,EAAEN,IAAIkzC,EAAGtV,SAAS4oB,EAAK38C,GAAG7J,IAE/BynD,EAAgB,GAAK,GACdH,IACPD,EAAYthD,MAAM8D,EAAI,UACtBw9C,EAAYM,QAAU,IAAI3jD,MAAM88B,GAAKx2B,KAAK,GAAG7F,IAAI,CAACnE,EAAEN,IAAI40C,EAAI,GAAK50C,IAErEwnD,EAAU,GAAKhB,EAAKgB,WAAa,GAGlCd,EAAU,IAAM,GAAKA,EAAU,IAAM,IACpCc,EAAY,CAAC,EAAG,IAEpB,IAAII,EAAO,CAAC,IAAK,KACjB,IAAI,IAAIC,KAAOD,EACX,IAAyC,IAAtC1U,EAAG4U,WAAW98C,QAAQw7C,EAAKqB,IAAc,CACxC,IAAIE,EAAU7U,EAAGrV,UAAU2oB,EAAKqB,IAAMjkD,IAClCokD,EAAU9U,EAAGrV,UAAU2oB,EAAKqB,IAAMlkD,IAClCskD,EAAW/U,EAAGrV,UAAU2oB,EAAKqB,IAAMl5C,SACnCu5C,EAAU9lD,KAAKW,MAAMilD,EAAUD,GAAWE,GAC1C3nD,EAAY,KAAPunD,EAAc,UAAY,UACnCR,EAAYtkB,UAAU8kB,IAAO,EAC7BR,EAAY/mD,GAAK,IAAI0D,MAAMkkD,GAAS59C,KAAKy9C,GAAStjD,IAAI,CAAC4mB,EAAGrrB,IAAMqrB,EAAIrrB,EAAEioD,GAoB9E,OAhBA/U,EAAGkC,QAAQ+S,WAAW3uB,KAAOguB,EAC7BtU,EAAGkC,QAAQgT,iBAAiB5uB,KAAOiuB,GAG3BjB,EAAK/7C,OAAS+7C,EAAKnjD,EACnB6vC,EAAGkC,QAAQiT,cAAc7uB,KAAO,EAAO0Z,EAAGa,YAAYb,EAAGY,OAAO9oC,QAAQw7C,EAAKnjD,KACrD,IAAlBqjD,EAAU,IAAmC,iBAAfF,EAAU,QAC9CtT,EAAGkC,QAAQiT,cAAc7uB,KAAOgtB,EAAK/7C,MAAQA,QAG7C+7C,EAAKjO,QAAUiO,EAAK38C,EACpBqpC,EAAGkC,QAAQkT,eAAe9uB,KAAO,EAAO0Z,EAAGa,YAAYb,EAAGY,OAAO9oC,QAAQw7C,EAAK38C,KACtD,IAAlB68C,EAAU,IAAmC,iBAAfF,EAAU,QAC9CtT,EAAGkC,QAAQkT,eAAe9uB,KAAOgtB,EAAKjO,OAASA,QAGhD8O,EC7HI,ICAA,GACX,QAAO,UACHkB,EAAY,MAAK,MACjB9R,EAAQ,QAAO,MACfC,EAAQ,QAAO,cACf8R,EAAgB,QAAO,cACvBC,EAAgB,QAAO,aACvBC,EAAe,UAEf,IAAIznD,EACAX,EAAI,IAAI47C,KACR1H,EAAU,IAAI6H,IAsBlB,OArBA7H,EAAUjwC,KAAKwiD,iBAAiBwB,KACjB,GACP/T,GAAWjwC,KAAK2xC,YAChBj1C,EAAQsD,KAAKokD,kBAAkBnU,EAASiC,EAAOC,GACxClC,EAAUjwC,KAAK2xC,cACtBj1C,EAAoB,GAAXuzC,EAAgBgU,EAAgBC,GAI7CxnD,GAASA,GAFTX,EAAIiE,KAAK2hD,YAAY1R,IAEFnxC,IAAM/C,EAAEuJ,EAAIvJ,EAAE+C,GACM,GAAnCkB,KAAKyiD,gBAAgBuB,KACrBtnD,EAAQiC,IAAIjC,EAAOsD,KAAKyiD,gBAAgBuB,KAGjB,GAAvBhkD,KAAKqkD,gBAAoC,GAAbL,IAC5BtnD,EAAyD,IAAjD+B,IAAIO,IAA2B,SAAtBtC,EAAQ,GAAO,GAAiB,IAAgB,UAGrEA,EAAQynD,EAGLznD,GAGX,sBAAqB,QACjBuzC,EAAU,MAAK,MACfiC,EAAQ,QAAO,MACfC,EAAQ,UAER,IAAIz1C,EACAuzC,GAAWjwC,KAAK2xC,YAChBj1C,EAAQsD,KAAKokD,kBAAkBnU,EAASiC,EAAOC,GACxClC,EAAUjwC,KAAK2xC,cACtBj1C,EAAoB,GAAXuzC,EAAgBiC,EAAQC,GAErC,IAAIp2C,EAAI,IAAI47C,KAGZ,OADAj7C,GAASA,GADTX,EAAIiE,KAAK2hD,YAAY1R,IACFnxC,IAAM/C,EAAEuJ,EAAIvJ,EAAE+C,KCjDzC,SAASwlD,EAAQC,EAAMzxB,GACnB,IAAK,IAAI91B,KAAO81B,EAAM,CAClB,IAAIp2B,EAAQo2B,EAAK91B,GACblB,EAAIkB,EAAI2I,MAAM,SACT,OAAN7J,IAAYkB,EAAMA,EAAI+K,QAAQjM,EAAE,GAAI,IAAIA,EAAE,GAAG2M,gBAChD87C,EAAKh3B,aAAavwB,EAAKN,IAI/B,SAAS8nD,EAASD,EAAMz3B,GACpB,IAAK,IAAI9vB,KAAO8vB,EAAO,CACnB,IAAIpwB,EAAQowB,EAAM9vB,GACdlB,EAAIkB,EAAI2I,MAAM,SACT,OAAN7J,IAAYkB,EAAMA,EAAI+K,QAAQjM,EAAE,GAAI,IAAIA,EAAE,GAAG2M,gBAChD87C,EAAKz3B,MAAM9vB,GAAON,GAIX,SAAS+nD,EAAI7rB,GAExB,IAAInO,EAAQzqB,gBAAgBykD,EAAOzkD,KAAM,GACrC6zC,EAASjb,GAAO,GAChBtyB,EAAOutC,EAAOvtC,MAAQ,MAEtBytC,EAAMrnB,SAASY,gBADP,6BAC8BhnB,GACtCJ,EAAQ2tC,EAAO3tC,OAAS,IACxB8tC,EAASH,EAAOG,QAAU,IAC1BjsB,EAAS8rB,EAAO9rB,QAAU8rB,EAAOC,WAAa9zC,KAAK+nB,OACnD+K,EAAO+gB,EAAO/gB,MAAQ,GACtBhG,EAAQ+mB,EAAO/mB,OAAS,GACxBpqB,EAAUmxC,EAAOnxC,SAAW,CAAC6V,KAAM,EAAGX,MAAO,EAAG4zB,IAAK,EAAGC,OAAQ,GAEpE,GAAY,QAATnlC,EAAgB,CACf,IAAIo+C,EAAc,CACdx+C,MAAUA,EAAQxD,EAAQ6V,KAAO7V,EAAQkV,MACzCo8B,OAAUA,EAAStxC,EAAQ8oC,IAAM9oC,EAAQ+oC,OACzCkZ,QAAU,CAAC,EAAG,EAAGz+C,EAAQxD,EAAQ6V,KAAO7V,EAAQkV,MAAQo8B,EAAStxC,EAAQ8oC,IAAM9oC,EAAQ+oC,QAAQ5kC,KAAK,KACpG+9C,oBAAqB,QAEzBN,EAAQvQ,EAAK2Q,GAkCjB,OA/BAj6B,EAAKo6B,WAAa,WACd,OAAO3+C,GAGXukB,EAAKq6B,YAAc,WACf,OAAO9Q,GAGXvpB,EAAK/nB,QAAU,WACX,OAAOA,GAGRoqB,GAAO03B,EAASzQ,EAAKjnB,GACrBgG,GAAMwxB,EAAQvQ,EAAKjhB,GAEnB/K,IACCA,EAA2B,iBAAVA,EAAsB2E,SAASq4B,eAAeh9B,GAAUA,GAClEiF,YAAY+mB,GAGvBtpB,EAAKspB,IAAMA,EACXtpB,EAAK1C,OAASA,EAEd0C,EAAKH,KAAO,IAAMypB,EAGdiR,EADDv6B,aAAgBg6B,EACDA,EAAIpnD,UAEJotB,GAGXA,EAGX,SAASu6B,EAAcrwB,GA8DnB,OA7DAA,EAAQY,OAAS,SAASjvB,EAAMwsB,EAAMhG,GAClC,IAAIgM,EAAU,GAKd,OAJAA,EAAQ/Q,OAAS/nB,KAAK+zC,IACtBjb,EAAQxyB,KAAOA,EACfwyB,EAAQhG,KAAOA,EACfgG,EAAQhM,MAAQA,EACT,IAAI23B,EAAI3rB,IAGnBnE,EAAQl0B,OAAS,WACVT,KAAK+zC,KAAO/zC,KAAK+zC,IAAItgB,aAAezzB,KAAK+nB,QACxC/nB,KAAK+nB,OAAOmF,YAAYltB,KAAK+zC,MAIrCpf,EAAQ7B,KAAO,SAASlwB,EAAGyI,GAMvB,MALgB,iBAAP,EACLi5C,EAAQtkD,KAAK+zC,IAAKnxC,GAElB5C,KAAK+zC,IAAIxmB,aAAa3qB,EAAGyI,GAEtBrL,MAGX20B,EAAQswB,KAAQ,SAASriD,EAAGyI,GAExB,OADAi5C,EAAQtkD,KAAK+zC,IAAKnxC,GACX5C,MAGX20B,EAAQuwB,MAAS,SAAStiD,EAAGyI,GAEzB,OADAm5C,EAASxkD,KAAK+zC,IAAKnxC,GACZ5C,MAGX20B,EAAQ7H,MAAQ,SAASlqB,EAAGyI,GAMxB,MALgB,iBAAP,EACLm5C,EAASxkD,KAAK+zC,IAAKnxC,GAEnB5C,KAAK+zC,IAAIjnB,MAAMlqB,GAAKyI,EAEjBrL,MAGX20B,EAAQ2f,IAAM3f,EAAQ7H,MAEtB6H,EAAQrB,KAAO,SAAS6xB,GAEpB,OADAnlD,KAAK+zC,IAAI/mB,YAAYN,SAAS04B,eAAeD,IACtCnlD,MAGX20B,EAAQnI,UAAY,SAAS1tB,EAAGwG,GAC5B,IAAI/H,EAAIyC,KAAK+zC,IAAI/kB,aAAa,cAAgB,GAE9C,OADAhvB,KAAK+zC,IAAIxmB,aAAa,YAAahwB,EAAI,aAAe,CAACuB,EAAEwG,GAAGuB,KAAK,KAAO,MACjE7G,MAGX20B,EAAQ/J,GAAK,SAASuI,EAAO/J,GAEzB,OADAppB,KAAK+zC,IAAIsR,gBAAgBlyB,EAAO/J,GACzBppB,MAGJ20B,ECxII,SAAS,GAAKiE,GAEzB,IAiCI0sB,EAjCAzR,EAASjb,GAAO,GAChBmb,EAAMF,EAAOC,WAAaD,EAAO9rB,OACjCu7B,EAAMzP,EAAOyP,KAAO,IACpB7/C,EAAQowC,EAAOpwC,OAAS,OACxBsxB,EAAW8e,EAAO9e,UAAY,EAC9B3yB,EAAQyxC,EAAOzxC,OAAS,GACxBZ,EAAQqyC,EAAOryC,OAAS,SACxBoF,EAAWitC,EAAOjtC,UAAY,EAC9B2+C,EAAS1R,EAAO0R,QAAU,KAC1B1lD,EAASg0C,EAAOh0C,QAAU,CAAC,EAAG,GAC9BqG,EAAQ2tC,EAAO3tC,OAAS6tC,EAAI8Q,aAC5B7Q,EAASH,EAAOG,QAAUD,EAAI+Q,cAC9BpiD,EAAUmxC,EAAOnxC,SAAWqxC,EAAIrxC,WAAa,CACzC6V,KAAM,EACNX,MAAO,EACP4zB,IAAK,EACLC,OAAQ,GAEZ3rC,EAAQ+zC,EAAO/zC,OAAiB,KAAPwjD,EAAc,CAAC,EAAGp9C,GAAS,CAAC8tC,EAAQ,GAC7DwR,EAAS,CACLC,OAAQhiD,EACR,eAAgB,GAEpBqG,EAAQ+pC,EAAO/pC,MACf47C,EAAa7R,EAAO6R,YAAc,EAClCC,EAAe9R,EAAO8R,cAAgB,CAAC,EAAG,GAC1ChuC,EAAek8B,EAAOl8B,cAAgB,OACtCiuC,EAAY/R,EAAO+R,WAAa,SAChCC,EAAWhS,EAAOgS,WAAY,EAC9B97C,EAAa8pC,EAAO9pC,YAAc,KAClC+7C,EAAOjS,EAAOiS,KACdj9C,EAASgrC,EAAOhrC,QAAU,SAAUpH,GAAI,OAAOA,GAC/CskD,EAAUlS,EAAOkS,UAAW,EAE5BC,EAAW,KACXC,EAAapS,EAAOoS,YAAc,EAClC1vC,EAAI,GACJ2vC,EAAI,GAEc,iBAAX,IACPp8C,EAAgB,KAAPw5C,EAAczlD,KAAKW,KAAK0H,EAAQ,IAAMrI,KAAKW,KAAKw1C,EAAS,KAEtE,IAiEQlW,EAjEJqoB,EAAiBtS,EAAOsS,gBAAkB,MAC9C,OAAQ/jD,GACJ,IAAK,OACD4jD,EAAWnS,EAAOmS,UAAY,CAC1BlnD,GAAI4mD,EAAa,EACjBpgD,GAAI,GAER6gD,EAAiBtS,EAAOsS,gBAAkB,MAC1C,MACJ,IAAK,QACDH,EAAWnS,EAAOmS,UAAY,CAC1BlnD,EAAG4mD,EACHpgD,GAAI,GAER6gD,EAAiBtS,EAAOsS,gBAAkB,QACrCR,IAAcA,EAAe,CAACD,EAAa,EAAG,IACnD,MACJ,IAAK,MACDM,EAAW,CACPlnD,EAAG,EACHwG,EAAG,GAEP6gD,EAAiB,SACZR,IAAcA,EAAe,CAAC,GAAID,IACvC,MACJ,IAAK,SACDM,EAAWnS,EAAOmS,UAAY,CAC1BlnD,EAAG,EACHwG,EAAiB,GAAbogD,GAERS,EAAiBtS,EAAOsS,gBAAkB,SAC1C,MACJ,QACIH,EAAWnS,EAAOmS,UAAYnS,EAAOuS,eAAiB,CAClDtnD,EAAG,EACHwG,EAAG,GAKf,SAAS+gD,IACL,IACIvoB,EADUjgC,KAAKO,IAAIyB,EAAO,GAAKA,EAAO,IACrBiK,EACjBnL,EAAMd,KAAKW,KAAKX,KAAKoN,MAAM6yB,IAU/B,OANIA,GAHAA,EAAOA,EAAOjgC,KAAKc,IAAI,GAAIA,IAEpB,IAAOm/B,GAAQ,IACf,IACAA,EAAO,IAAOA,GAAQ,IACtB,IAEAjgC,KAAKW,KAAY,GAAPs/B,GAAa,IAEpBjgC,KAAKc,IAAI,GAAIA,GAGlB,eAAT6C,GAAmC,WAATA,EAC1B8jD,EAAkB,WACd,GAAGzlD,EAAON,OAAS,GAAI,CACnB,IAAI+mD,EAAQzoD,KAAKa,MAAMmB,EAAON,OAAS,IACvC,OAAOM,EAAOqM,OAAQ,CAACnQ,EAAEq/B,IAAOA,EAAKkrB,GAAU,GAEnD,OAAOzmD,IAKS,QAAhB8X,EACAmmB,EAAOuoB,IAGsB,iBAAlB,EACPvoB,EAAOnmB,GAGPmmB,EAAOuoB,IACPxmD,EAAO,GAAKi+B,EAAOjgC,KAAKa,MAAMmB,EAAO,GAAKi+B,GAC1Cj+B,EAAO,GAAKi+B,EAAOjgC,KAAKW,KAAKqB,EAAO,GAAKi+B,IAIjDwnB,EAAkB,WACd,IAAIlqB,EAAK,GAET,GAAIv7B,EAAO,GAAKA,EAAO,GAAI,CACvBA,EAAO,IAAMi+B,EACb,IAAK,IAAIriC,EAAIoE,EAAO,GAAIpE,EAAIoE,EAAO,GAAIpE,GAAQqiC,EAC3C1C,EAAGx6B,KAAKnF,QAEZ,IAASA,EAAIoE,EAAO,GAAIpE,EAAIoE,EAAO,GAAIpE,GAAQqiC,EAC3C1C,EAAGx6B,KAAKnF,GAUhB,OAPI2/B,EAAGA,EAAG77B,OAAS,IAAMM,EAAO,IAAOiE,MAAMjE,EAAO,KAAQgmD,IAEnDhmD,EAAO,GAAKu7B,EAAGA,EAAG77B,OAAS,GAAM,GAAMu+B,EACxC1C,EAAGA,EAAG77B,OAAS,GAAKM,EAAO,GAE3Bu7B,EAAGx6B,KAAKf,EAAO,KAEhBu7B,IAIf,GAAe,OAAXmqB,EAAiB,CAEjB,IAAIgB,EAAe,CACfnkD,MAAOwjD,EACPt/C,KAAM9E,EACN3B,OAAQA,EACRC,MAAOA,GAGE,SAAT0B,IACA+kD,EAAa3/C,SAAWA,GAG5B2+C,ECnKO,SAAe3sB,GAC1B,IAUQt0B,EACAC,EACAC,EACAC,EAbJovC,EAASjb,GAAO,GAChBx2B,EAAQyxC,EAAOzxC,OAAS,SACxBkE,EAAOutC,EAAOvtC,MAAQ,SACtBzG,EAASg0C,EAAOh0C,QAAU,CAAC,EAAE,GAE7B+G,GADSitC,EAAO2S,OACL3S,EAAOjtC,UAAY,GAC9B9G,EAAQ+zC,EAAO/zC,OAAS,CAAC,EAAE,GAkC3B0B,GA9BI8C,GAAMzE,EAAO,IAAMA,EAAO,GAAKA,EAAO,IACtC0E,EAAK,GAAK1E,EAAO,GAAKA,EAAO,IAC7B2E,EAAK1E,EAAM,GACX2E,EAAK3E,EAAM,GAAKA,EAAM,GAEf,UAARwG,EACQ,SAAS+E,GAAK,OAAO7G,GAAMF,EAAK+G,EAAI9G,GAAME,GACnC,SAAR6B,GACNhC,GAAMzG,KAAKc,KAAK2F,EAAIsC,GACpBrC,EAAK1G,KAAKc,IAAI4F,EAAIqC,GACX,SAASyE,GAAK,OAAO7G,GAAMF,EAAKzG,KAAKc,IAAI0M,EAAGzE,GAAYrC,GAAME,IACtD,OAAR6B,GACPM,EAAWitC,EAAOjtC,UAAY,GAC9BtC,GAAOzG,KAAKY,KAAK6F,GAAMzG,KAAKY,IAAImI,GAChCrC,EAAM1G,KAAKY,IAAI8F,GAAM1G,KAAKY,IAAImI,GAEvB,SAASyE,GAAK,OAAO7G,GAAMF,EAAKzG,KAAKY,IAAI4M,GAAKxN,KAAKY,IAAImI,GAAYrC,GAAME,IAElE,WAAR6B,GAA6B,eAARA,EACpB,SAAS+E,GACZ,MAAY,SAATjJ,EACQoC,GAAM3E,EAAO4G,QAAQ4E,GAAG,KAAQxL,EAAON,OAAO,GAAKkF,EAEnDD,GAAM3E,EAAO4G,QAAQ4E,GAAG,IAAOxL,EAAON,OAASkF,GAGvD,SAAS4G,GAAK,OAAOA,IAuCpC,OAjCA7J,EAAM4I,SAAW,SAASN,GACtB,GAAY,WAARxD,GAA6B,eAARA,EACrB,OAAQ,EAAIzG,EAAON,OAAS1B,KAAKO,IAAI0B,EAAM,GAAKA,EAAM,IAEtD,IAAItC,EAAIK,KAAKc,IAAI,GAAId,KAAKa,MAAMb,KAAKoN,MAAMpN,KAAKO,IAAI0B,EAAM,GAAKA,EAAM,MAAM,GAC3E,OAAOjC,KAAKa,MAAOb,KAAKO,IAAI0B,EAAM,GAAKA,EAAM,KAAOgK,EAAQtM,IAAQA,GAI5EgE,EAAMilD,aAAe,WACjB,MAAW,UAARngD,EACQzI,KAAKO,IAAIyB,EAAO,GAAKA,EAAO,IACvB,WAARyG,GAA6B,eAARA,EAClBzG,EAAON,YADb,GAITiC,EAAMklD,YAAc,WAChB,OAAO7oD,KAAKO,IAAI0B,EAAM,GAAKA,EAAM,KAGrC0B,EAAM6D,OAAS,SAAS9I,GACpB,GAAW,UAAR+J,EACC,OAAOzG,EAAO,IAAMtD,EAAIuD,EAAM,KAAOA,EAAM,GAAKA,EAAM,KAAOD,EAAO,GAAKA,EAAO,IAC7E,GAAW,WAARyG,GAA6B,eAARA,EAAuB,CAClD,IAAIw3B,EAAOA,EAAOvhC,EAAIiF,EAAMklD,cAC5B,OAAO7mD,EAAOhC,KAAKwB,IAAIxB,KAAKa,MAAMo/B,EAAQj+B,EAAa,QAAIA,EAAON,OAAO,MAIjFiC,EAAM3B,OAAS,WACX,OAAOA,GAGJ2B,EDuFM,CAAM+kD,QAEf1mD,EAAS0lD,EAAO1lD,SAGpB,IAAI60B,EAAOqf,EAAIxe,OAAO,KA2GtB,MAzGW,KAAP+tB,IACKvuB,GAAY3yB,IAEb2yB,GADAA,EAAW,CAAC,EAAGif,EAAS,EAAGA,IACP,CAAC,MAAO,SAAU,UAAUvtC,QAAQrE,KAE5D8jD,EAAE,GAAKA,EAAE,GAAKnxB,EACdxe,EAAE,GAAK,EACPA,EAAE,GAAK1Y,KAAKO,IAAI0B,EAAM,GAAKA,EAAM,OAE5Bi1B,GAAY3yB,IAEb2yB,GADAA,EAAW,CAAC,EAAG7uB,EAAQ,EAAGA,IACN,CAAC,OAAQ,SAAU,SAASO,QAAQrE,KAE5DmU,EAAE,GAAKA,EAAE,GAAKwe,EACdmxB,EAAE,GAAK,EACPA,EAAE,GAAKroD,KAAKO,IAAI0B,EAAM,GAAKA,EAAM,KAGrCylD,EAAOoB,KAAOpB,EAAO7wB,KAAO,WACxBA,EAAKa,OAAO,KACPA,OAAO,QACP0vB,KAAK,CACF96C,GAAIoM,EAAE,GACNqqB,GAAIrqB,EAAE,GACNoqB,GAAIulB,EAAE,GACNrlB,GAAIqlB,EAAE,KAEThB,MAAMM,GAIX,IAFA,IAAIpqB,EAAKkqB,IAEA7pD,EAAI,EAAGA,EAAI2/B,EAAG77B,OAAQ9D,IAAK,CAChC,IAAI0O,EAAIy2B,EAAID,EAAIE,EACL,KAAPyiB,GACAn5C,EAAKy2B,EAAK2kB,EAAOnqB,EAAG3/B,IAAMkqD,EAAa,GAEvC9kB,GADAF,EAAK5L,EAAW4wB,EAAa,GAAKD,GACxBA,IAEV/kB,EAAKE,EAAK0kB,EAAOnqB,EAAG3/B,IAAMkqD,EAAa,GAEvC/kB,GADAz2B,EAAK4qB,EAAW4wB,EAAa,IACnBD,GAGd,IAAIkB,EAAWlyB,EAAKa,OAAO,KAC3BqxB,EAASrxB,OAAO,OAAQ,CACpBprB,GAAIA,EACJy2B,GAAIA,EACJD,GAAIA,EACJE,GAAIA,GACL2kB,GAMH,IAAIqB,EAAYD,EAASrxB,OAAO,QAC3B0vB,KAAK,CACFnmD,EAAG8hC,EAAKolB,EAASlnD,EACjBwG,EAAGu7B,EAAKmlB,EAAS1gD,EACjBwhD,MAAO,gBACP,YAAa,QACbC,WAAYZ,IAEhBF,GAAYY,EAAU/zB,KAAK,YAAa,UAAY,CAACmzB,EAAarlB,EAAKolB,EAASlnD,EAAK+hC,EAAKmlB,EAAS1gD,GAAIuB,KAAK,KAAO,KAEvH,IAKQmgD,EAAKC,EAAKC,EAAKC,EALnBC,EAAkDv+C,EAAd,mBAAhB,EAAqCkB,EAAWqxB,EAAG3/B,IAAc2/B,EAAG3/B,IAI5F,GAFAorD,EAAUvzB,KAAK8zB,GAEXtB,EAEW,KAAPxC,GACA0D,EAAMC,EAAM1B,EAAOnqB,EAAG3/B,IACtByrD,EAAM,EACNC,EAAMnT,IAENkT,EAAMC,EAAM5B,EAAOnqB,EAAG3/B,IACtBurD,EAAM,EACNC,EAAM/gD,GAEVwuB,EAAKa,OAAO,OAAQ,CAChBprB,GAAI68C,EACJpmB,GAAIqmB,EACJtmB,GAAIumB,EACJrmB,GAAIsmB,EACJL,MAAO,cACR,CACC,OAAUrjD,EAEV,iBAAkB,MAK9B,OADAixB,EAAKlI,UAAU9pB,EAAQ6V,KAAM7V,EAAQ8oC,KAC9B9W,GAGX6wB,EAAO9kD,OAAS,WACZi0B,EAAKj0B,UAGLslD,IACAR,EAAOxR,IAAMwR,EAAOoB,QAGjBpB,EEjRI,SAAS8B,GAAY5L,GAChC,OAAO,SAAS/+C,GACZ,GAAoB,iBAAVA,EAAoB,OAAOA,EACrC,IAKI4qD,EAGA7pD,EACAiL,EAPA6+C,EAAiB,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAI,IAAK,IAAK,IAAK,IAAK,IAAK,KAChGrqD,EAAI,eAAK,GAAG,GAAG,GACfzB,EAAI8rD,EAAehoD,OAAO,EAE1B6G,EAAYq1C,EAAK91C,MAAM,OAAO,IAAM,EACpCnC,EAAS+D,OAAO7K,GAUpB,IAN0B,KAAvB++C,EAAKA,EAAKl8C,OAAO,IAChB6G,IAEJkhD,EAAQ9jD,EAAOgD,cAAcJ,GAAWvC,WAAW8B,MAAM,yCACzDlI,EAAM2oB,SAASkhC,EAAM,KAAO,EAErB7rD,KACH,GAAIgC,GAAOP,EAAEzB,GAAI,CACb,GAAM,GAAHA,GAASgC,EAAIP,EAAEzB,GAAM,EAAG,CAEvBiN,EAAS6+C,EAAe9rD,EAAE,GAC1BgC,GAAOP,EAAEzB,EAAE,GACX,MAEAiN,EAAS6+C,EAAe9rD,GACxBgC,GAAOP,EAAEzB,GACT,MAKZ,OADM6+B,WAAWgtB,EAAM,GAAKA,EAAM,GAAK,KAAOA,EAAM,IAAI,GAAK,IAAM7pD,EAAIoG,YAC5DA,WAAa6E,GCjChC,MAAM8+C,GAAgB,CAAC,QAAS,aAEhC,IAAIC,GAAS,ECFE,SAASC,GAAMC,EAAUC,EAAShvB,GAC7C,IAAIE,EAAUF,GAAO,GACjBivB,EAAOF,EAASpyB,OAAO,KACvBuyB,EAAUF,EAAQryB,OAAO,KACzBwyB,EAAeJ,EAASpyB,OAAO,KAC/BrvB,EAAQ4yB,EAAQ5yB,MAChB8tC,EAASlb,EAAQkb,OACjBxI,EAAM1S,EAAQ0S,KAAO,EACrBjzB,EAAOugB,EAAQvgB,MAAQ,EACvB0pC,EAAOnpB,EAAQmpB,MAAQ,GACvBzjB,EAAa1F,EAAQ0F,UACrBlkB,EAAWwe,EAAQyW,QAAU,GAC7B1vC,EAASi5B,EAAQj5B,OACjBw5B,EAAWP,EAAQO,SACnB2uB,EAASH,EAAKtyB,OAAO,KAGrB0yB,GAFUnvB,EAAQovB,QACRpvB,EAAQqvB,QACLrvB,EAAQsvB,QAErB1lD,GADao2B,EAAQuvB,WACXvvB,EAAQp2B,SAAW,CAAC6V,KAAM,EAAGX,MAAO,EAAG4zB,IAAK,EAAGC,OAAQ,IAEjE6c,EAAcxvB,EAAQwvB,cAAe,EACrCC,EAAYzvB,EAAQyvB,WAAa,CAACzpD,GAAG,EAAOwG,GAAG,GAC/C9F,EAASs5B,EAAQt5B,OAEjBgC,EAAQs3B,EAAQt3B,OAAS,CAAC1C,EAAG,SAAUwG,EAAG,UAC1C69C,EAAUrqB,EAAQqqB,SAAWtjD,EAAOoiD,EAAKnjD,IAAMe,EAAOoiD,EAAK/7C,OAC3Dk9C,EAAUtqB,EAAQsqB,SAAWvjD,EAAOoiD,EAAK38C,IAAMzF,EAAOoiD,EAAKjO,QAK3DwU,EAAa,CACb1pD,EAAG,CACCg1C,UAAWgU,EACXxE,IAAK,IACLp9C,MAPRA,GAASxD,EAAQ6V,KAAO7V,EAAQkV,MAQxBo8B,OAPRA,GAAUtxC,EAAQ8oC,IAAM9oC,EAAQ+oC,OAQxB5rC,OAAQsjD,EACR3hD,MAAQA,EAAM1C,EACdsD,MAAO,SAEP0jD,KAAMyC,EAAUzpD,EAChB+J,OAAQ,GAAO,QAEnBvD,EAAG,CACCwuC,UAAWgU,EACXxE,IAAK,IACLzjD,OAAQujD,EACR5hD,MAAOA,EAAM8D,EACbY,MAAOA,EACP8tC,OAAQA,EACR5xC,MAAO,OAGP0jD,KAAMyC,EAAUjjD,EAChBuD,OAAQ,GAAO,SAIvB,IAAI4/C,EACDR,IAAgD,IAAlC3tC,EAAS7T,QAAQw7C,EAAKx+C,SACnCglD,ED1DO,SAAe7vB,GAC5B,IAAI8vB,EAAajB,KAEb5T,EAASjb,GAAO,GAClBkb,EAAYD,EAAOC,WAAa,KAChC5tC,EAAQ2tC,EAAO3tC,OAAS,KACxB8tC,EAASH,EAAOG,QAAU,KAC1B0D,EAAM7D,EAAO6D,KAAM,CAAC,EAAG,GACvB4L,EAAMzP,EAAOyP,KAAO,IACpB5gD,EAAUmxC,EAAOnxC,SAAW,CAAC6V,KAAM,EAAGX,MAAO,EAAG4zB,IAAK,EAAGC,OAAQ,GAChEkd,EAAQ9U,EAAO8U,QAAS,EACxBnpD,EAASq0C,EAAOr0C,QAAUgoD,GAC1B3nD,EAASg0C,EAAOh0C,QAAU,CAAC,MAAO,OAClCgJ,EAASgrC,EAAOhrC,QAAUw+C,GAAY,OAGrC7nD,EAAOD,OAAS,IAAGC,EAASgoD,IAC/BthD,GAASxD,EAAQ6V,KAAO7V,EAAQkV,MAChCo8B,GAAUtxC,EAAQ8oC,IAAM9oC,EAAQ+oC,OAEhC,IAIImd,EAJAR,EAAwB,OAAdtU,EACV,IAAI2Q,EAAI,CAACv+C,MAAOA,EAAO8tC,OAAQA,EAAQtxC,QAASA,IAChDoxC,EAAUve,OAAO,KAyHrB,MAtHU,KAAP+tB,GACDsF,EAAgB,CAACz+C,GAAI,EAAGy2B,GAAI,EAAGD,GAAI,EAAGE,GAAI,GAC5B,OAAXmT,IAAiBA,EA9BJ,MAgChB4U,EAAgB,CAACz+C,GAAI,EAAGy2B,GAAI,EAAGD,GAAI,EAAGE,GAAI,GAC7B,OAAV36B,IAAgBA,EAjCH,KAoClB,SAAwB1G,GACtB,IAAI6gD,EAAW+H,EAAO7yB,OAAO,QAC1BA,OAAO,kBACLzC,KAAK,KAAM,aAAa41B,GACxB51B,KAAK81B,GAEVppD,EAAOq6B,SAAQ,SAAS/9B,EAAGL,GACzB4kD,EAAS9qB,OAAO,QACbzC,KAAK,SAAUr3B,GAAK+D,EAAOD,OAAO,IAClCuzB,KAAK,aAActzB,EAAOA,EAAOD,OAAO9D,EAAE,OAKtCotD,CAAerpD,GAEf4oD,EAAO7yB,OAAO,KAEHA,OAAO,QAC1BzC,KAAK,QAAS5sB,EAAMxD,EAAQ6V,MAC5Bua,KAAK,SAAUkhB,GACflnB,MAAM,OAAO,kBAAoB47B,EAAa,KAE/BN,EAAO7yB,OAAO,QAC7BozB,IACDA,EAAMpzB,OAAO,QACVzC,KAAK,IAAK4kB,EAAI,GAAK,GACnB5kB,KAAK,IAAK4kB,EAAI,GAAK1D,EAAO,EAAI,GAC9BlnB,MAAM,OAAQ,QACdA,MAAM,cAAe,OACrBwG,KAAK+zB,GAAY,KAAZA,CAAkBxnD,EAAO,KAEjCuoD,EAAO7yB,OAAO,QACXzC,KAAK,IAAK4kB,EAAI,GAAKxxC,EAAQxD,EAAQ6V,KAAO,GAC1Cua,KAAK,IAAK4kB,EAAI,GAAK1D,EAAO,EAAI,GAC9BlnB,MAAM,OAAQ,QACdA,MAAM,cAAe,SAErBwG,KAAK+zB,GAAY,KAAZA,CAAkBxnD,EAAO,MAGhCg0C,EAAOiV,OACRV,EAAO7yB,OAAO,KACXA,OAAO,QACPzC,KAAK,IAAK4kB,EAAI,GAAKh1C,EAAQ8oC,KAC3B1Y,KAAK,IAAK4kB,EAAI,GAAKxxC,EAAM,GACzB4sB,KAAK,KAAM,OACXhG,MAAM,cAAe,UACrBwG,KAAKugB,EAAOiV,OAIf,IAAI,GADI,KAAPxF,EACQ,CACPA,IAAK,IACLzjD,OAAQA,EACRi0C,UAAWsU,EACXhmD,MAAO,SACP0H,MAAOjM,KAAKa,MAAMwH,EAAQ,IAC1B8tC,OAAQA,EACR9tC,MAAOA,EACP8/C,SAAU,CAAClnD,EAAG,EAAGwG,GAAI,IACrBuD,OAAQA,GAGD,CACPy6C,IAAK,IACLzjD,OAAQA,EACRi0C,UAAWsU,EACXhmD,MAAO,QACP0H,MAAOjM,KAAKa,MAAMs1C,EAAS,IAC3BA,OAAQA,EACR9tC,MAAOA,EACP8/C,SAAU,CAAClnD,EAAG,GAAIwG,GAAI,GACtBqgD,aAAc,CAAC,EAAG,GAClB98C,OAAQA,IAOZu/C,EAAO57B,UAAUkrB,EAAI,GAAGh1C,EAAQ6V,KAAMm/B,EAAI,GAAGh1C,EAAQ8oC,KA6B9C4c,ECrFa,CAAO,CACjBtU,UAAWgU,EACX5hD,MAAO,GACP8tC,OAAQ,IACRsP,IAAK,IACLzjD,OAAQA,EAAOoiD,EAAKx+C,OACpBi0C,IAAK,CAACxxC,EAAQxD,EAAQkV,MAAM,EAAG,GAC/BpY,OAAQA,KAIhB,IAAIV,EAAGwG,EAAGyjD,EAAQ,GAAIC,EAAQ,GAG9B,GAAGvpD,MAAMa,QAAQ2hD,EAAKnjD,GAAI,CACtB,IAAImqD,EAAWjV,GAAUiO,EAAKnjD,EAAES,OAAO,GACvCipD,EAAW1pD,EAAEg1C,UAAYiU,EACzB9F,EAAKnjD,EAAE+6B,SAAQ,SAAS99B,EAAGN,GACvB+sD,EAAW1pD,EAAEi2B,SAAWt5B,EAAIwtD,EAAW,EACvCT,EAAW1pD,EAAEe,OAASA,EAAO9D,GAC1Bs9B,EAAS/7B,eAAevB,KACvBysD,EAAW1pD,EAAE0C,MAAQ,UACrBgnD,EAAW1pD,EAAE8mD,UAAY,QACzB4C,EAAW1pD,EAAEe,OAASw5B,EAASt9B,GAAGuG,WAEtC,IAAI4mD,EAAc,GACT,IAANztD,GACC+sD,EAAW1pD,EAAE6mD,aAAe,CAAC,GAAI,GACjC6C,EAAW1pD,EAAEknD,SAAW,CAAClnD,EAAG,EAAGwG,EAAG,GAClC4jD,EAAc,KAEdV,EAAW1pD,EAAE6mD,aAAe,KAC5B6C,EAAW1pD,EAAEknD,SAAW,MAE5BlnD,EAAI,GAAK0pD,EAAW1pD,GACpBiqD,EAAMttD,GAAKqD,EAEXkpD,EACCzyB,OAAO,QACLzC,KAAK,IAAK,GACVA,KAAK,IAAKr3B,EAAIwtD,EAAWC,GACzBp2B,KAAK,KAAM,OACXwhB,IAAI,cAAe,UACnBA,IAAI,YAAa,OACjBhhB,KAAKv3B,MAIhB,GAAG0D,MAAMa,QAAQ2hD,EAAK38C,GAAI,CACtB,IAAI2jD,EAAW/iD,GAAS+7C,EAAK38C,EAAE/F,OAAO,GACtCipD,EAAWljD,EAAEwuC,UAAYiU,EACzB9F,EAAK38C,EAAEu0B,SAAQ,SAAS99B,EAAGN,GACvB+sD,EAAWljD,EAAEyvB,SAAWt5B,EAAIwtD,EAC5BT,EAAWljD,EAAEzF,OAASA,EAAO9D,GAC1Bs9B,EAAS/7B,eAAevB,KACvBysD,EAAWljD,EAAE9D,MAAQ,UACrBgnD,EAAWljD,EAAEsgD,UAAY,QACzB4C,EAAWljD,EAAEzF,OAASw5B,EAASt9B,GAAGuG,WAEnC7G,GAAKwmD,EAAK38C,EAAE/F,OAAO,IAClBipD,EAAWljD,EAAEqgD,aAAe,CAAC,EAAG,GAChC6C,EAAWljD,EAAE6gD,eAAiB,QAC9BqC,EAAWljD,EAAE0gD,SAAW,CAAClnD,EAAG,EAAGwG,GAAI,IAGvCA,EAAI,GAAKkjD,EAAWljD,GACpB0jD,EAAMvtD,GAAK6J,EAEX0iD,EAAOzyB,OAAO,QACXzC,KAAK,IAAoB,GAAdpwB,EAAQ8oC,KACnB1Y,KAAK,IAAKr3B,EAAIwtD,GACdn2B,KAAK,KAAM,OACXwhB,IAAI,cAAe,UACnBA,IAAI,YAAa,OACjBhhB,KAAKv3B,MAIhB,IAAIotD,EAAa,CACbrqD,EAAGqkD,EACH79C,EAAG89C,GAEP,IAAI,IAAIE,IAAO,CAAC,IAAK,KACA,WAAd9hD,EAAM8hD,IAAmC,eAAd9hD,EAAM8hD,IAC7Bp9C,EAAQijD,EAAW7F,GAAK/jD,OAAS,KAChCipD,EAAWlF,GAAKx5C,MAAQq/C,EAAW7F,GAAK/jD,QAO7Ci/B,EAAU8kB,KACTkF,EAAWlF,GAAKqC,aAAuB,KAAPrC,EAC1B,EAAEp9C,GAASijD,EAAW7F,GAAK/jD,OAAO,GAAI,EAAG,GACzC,CAAC,EAAGy0C,GAASmV,EAAW7F,GAAK/jD,OAAO,GAAI,GAE9CipD,EAAWlF,GAAK9hD,MAAQ,UACxBgnD,EAAWlF,GAAKsC,UAAY,QAC5B4C,EAAWlF,GAAKzjD,OAASspD,EAAW7F,GACpCkF,EAAWlF,GAAKx5C,MAAQq/C,EAAW7F,GAAK/jD,QAOhD,IAHI0iD,EAAKnjD,IAAKmjD,EAAK/7C,OAAWzG,MAAMa,QAAQ2hD,EAAKnjD,KAAIA,EAAI,GAAK0pD,EAAW1pD,KACrEmjD,EAAK38C,IAAK28C,EAAKjO,QAAYv0C,MAAMa,QAAQ2hD,EAAK38C,KAAIA,EAAI,GAAKkjD,EAAWljD,KAEtE28C,EAAK3kD,eAAe,MAAQ2kD,EAAK3kD,eAAe,YAAcmC,MAAMa,QAAQ2hD,EAAKnjD,GAAI,CACrF,IAAIsqD,EAAanH,EAAKnjD,GAAKmjD,EAAK/7C,MAChC8hD,EAAOzyB,OAAO,KACXA,OAAO,QACLzC,KAAK,IAAK5sB,EAAM,GAChB4sB,KAAK,IAAKkhB,EAAStxC,EAAQ+oC,OAAO,GAClC3Y,KAAK,KAAM,OACXwhB,IAAI,cAAe,UACnBA,IAAI,YAAa,SACjBA,IAAI,cAAe,QACnBA,IAAI,kBAAmB,cACvBhhB,KAAK81B,GAGd,IAAInH,EAAK3kD,eAAe,MAAQ2kD,EAAK3kD,eAAe,aAAemC,MAAMa,QAAQ2hD,EAAK38C,GAAI,CACtF,IAAI+jD,EAAapH,EAAK38C,GAAK28C,EAAKjO,OAC5Bv0C,MAAMa,QAAQ2hD,EAAK38C,IACnB0iD,EAAOzyB,OAAO,KACXA,OAAO,QACLzC,KAAK,YAAa,eAClBA,KAAK,KAAMpwB,EAAQ6V,KAAO,MAC1Bua,KAAK,KAAMkhB,EAAS,GACpBlhB,KAAK,KAAM,OACXwhB,IAAI,cAAe,UACnBA,IAAI,YAAa,SACjBA,IAAI,cAAe,QACnBA,IAAI,kBAAmB,cACvBhhB,KAAK+1B,GAIff,IACCT,EAAKtyB,OAAO,QACPzC,KAAK,KAAM,GACXA,KAAK,KAAM5sB,GACX4sB,KAAK,KAAM,GACXA,KAAK,KAAM,GACXwhB,IAAI,SAAU,QACnBuT,EAAKtyB,OAAO,QACPzC,KAAK,KAAM5sB,GACX4sB,KAAK,KAAM5sB,GACX4sB,KAAK,KAAM,GACXA,KAAK,KAAMkhB,GACXM,IAAI,SAAU,QACdA,IAAI,iBAAkB,KAG/BuT,EAAKr7B,UAAU9pB,EAAQ6V,KAAKA,EAAM7V,EAAQ8oC,IAAIA,GAC9Csc,EAAQt7B,UAAU9pB,EAAQ6V,KAAKA,EAAM7V,EAAQ8oC,IAAIA,GACjDuc,EAAav7B,UAAU9pB,EAAQ6V,KAAKA,EAAM7V,EAAQ8oC,IAAIA,GAEtD,IAAI8d,EAAa,CACjB,YAA0B,SAASC,GAI/B,OAHAzqD,EAAE2B,SACF+nD,EAAW1pD,EAAEe,OAAS0pD,EACtBzqD,EAAI,GAAK0pD,EAAW1pD,GACbwqD,GAEX,YAA0B,SAASC,GAI/B,OAHAjkD,EAAE7E,SACF+nD,EAAWljD,EAAEzF,OAAS0pD,EACtBjkD,EAAI,GAAKkjD,EAAWljD,GACbgkD,GAEX,WAAwB,WAEjBN,EAAMzpD,OACLypD,EAAMnvB,SAAQ,SAAS+Q,GACnBA,EAAGnqC,YAEDsoD,EAAMxpD,OACZwpD,EAAMlvB,SAAQ,SAAS2vB,GACnBA,EAAG/oD,aAGP3B,EAAE2B,SACF6E,EAAE7E,UAGNunD,EAAOvnD,WAcX,OAXA6oD,EAAWG,WAAazB,EAExBsB,EAAWI,aAAe,WACnBzB,GACCQ,EAAYhoD,UAGpB6oD,EAAWvV,IAAM8T,EACjByB,EAAWxqD,EAAIW,MAAMa,QAAQ2hD,EAAKnjD,GAAKiqD,EAAQjqD,EAC/CwqD,EAAWhkD,EAAI7F,MAAMa,QAAQ2hD,EAAK38C,GAAK0jD,EAAQ1jD,EAExCgkD,ECvQX,SAAS,GAAOnsD,EAAQyH,GACpBzI,OAAOwE,KAAKiE,GAAQi1B,SAAQ,SAAS78B,GACjCG,EAAOH,GAAO4H,EAAO5H,MAG7B,IAAI2sD,GAAoB,CACpBzjD,MAAO,IACP8tC,OAAQ,IACRtxC,QAAS,CAAC6V,KAAM,EAAGX,MAAO,EAAG4zB,IAAK,EAAGC,OAAQ,IAGlC,SAASme,GAAOhxB,GAI3B,IAAIixB,EAAM7pD,KACN6zC,EAASjb,GAAO,GAChBkb,EAAYD,EAAOC,WAAapnB,SAASo9B,KACzCh9B,EAAQ+mB,EAAO/mB,OAAS,KAG5B9sB,KAAKkG,MAAQ4tC,EAAUiW,aAAe,IACtC/pD,KAAKg0C,OAASF,EAAUkW,cAAgB,IAEjB,iBAAblW,IAAuBA,EAAYpnB,SAASq4B,eAAejR,IACrE,GAAO+V,EAAKF,IACZ,GAAOE,EAAKhW,GAEZ7zC,KAAKiiD,KAAOpO,EAAOoO,KAEnBjiD,KAAKkG,OAAUlG,KAAK0C,QAAQ6V,KAAOvY,KAAK0C,QAAQkV,MAChD5X,KAAKg0C,QAAWh0C,KAAK0C,QAAQ8oC,IAAMxrC,KAAK0C,QAAQ+oC,OAIhDzrC,KAAKi1B,KAAO4e,EAAO5e,MAAQ,GAC3Bj1B,KAAKiqD,IAAMv9B,SAASC,cAAc,OACrB,OAAVG,GACC3wB,OAAOwE,KAAKmsB,GAAO+M,SAAQ,SAASqwB,GAChCL,EAAII,IAAIn9B,MAAMo9B,GAAQp9B,EAAMo9B,MAIpClqD,KAAKkrB,KAAO,WAcR,OAXAlrB,KAAKiqD,IAAIE,UAAYtW,EAAOsW,WAAa,SACzCnqD,KAAKiqD,IAAIn9B,MAAMiI,SAAW,WAC1B/0B,KAAKoqD,OACDpqD,KAAKkG,MAAQlG,KAAK0C,QAAQ6V,KAAOvY,KAAK0C,QAAQkV,MAC9C5X,KAAKg0C,OAASh0C,KAAK0C,QAAQ8oC,IAAMxrC,KAAK0C,QAAQ+oC,QAG/CoI,EAAO/mB,OAAO9sB,KAAKs0C,IAAIT,EAAO/mB,OAEjCgnB,EAAU9mB,YAAYhtB,KAAKiqD,KAC3BjqD,KAAK6pD,MACEA,GAGX7pD,KAAKqqD,UAAY,SAASzxB,GAMtB,OAAO,IAAI6rB,EAAI,CACXv+C,OANA0yB,EAAMA,GAAO,IACD1yB,OAASlG,KAAKkG,MAM1B8tC,OALSpb,EAAIob,QAAUh0C,KAAKg0C,OAM5BtxC,QALUk2B,EAAIl2B,SAAW1C,KAAK0C,QAM9BoqB,MAAO,CAACiI,SAAU,eAI1B,IAAIu1B,EAASzW,EAAOyW,OAOhBC,GANMvqD,KAAKqqD,YACJxW,EAAOoO,KACCjiD,KAAK0C,QACXmxC,EAAOh0C,OACPg0C,EAAO2W,OAENxqD,KAAKqqD,aACfI,EAAWzqD,KAAKqqD,YAiGpB,OA/FArqD,KAAKK,IAAM,SAAS26B,GAChB,GAAO6uB,EAAK7uB,IAGhBh7B,KAAK0qD,YAAc,SAAS10B,EAAKk0B,GAE7B,OADA,GAAOl0B,EAAKk0B,GACLl0B,GAGXh2B,KAAK6pD,IAAM,WAIP,OAHAA,EAAII,IAAIj9B,YAAYu9B,EAAQxW,KAC5B8V,EAAII,IAAIj9B,YAAYs9B,GACpBT,EAAII,IAAIj9B,YAAYy9B,EAAS1W,KACtB8V,GAGX7pD,KAAK2qD,OAAS3qD,KAAK6pD,IAEnB7pD,KAAKs0C,IAAM,SAASxnB,GAChB,IAAI,IAAI9vB,KAAO8vB,EACX9sB,KAAKiqD,IAAIn9B,MAAM9vB,GAAO8vB,EAAM9vB,GAEhC,OAAOgD,MAGXA,KAAKoqD,OAAS,SAASn6C,EAAE6W,GACrB9mB,KAAKiqD,IAAIn9B,MAAM5mB,MAAQ+J,EAAI,KAC3BjQ,KAAKiqD,IAAIn9B,MAAMknB,OAASltB,EAAI,MAGhC9mB,KAAK4qD,QAAU,WACX5qD,KAAK6qD,OAAOD,UACZ9W,EAAU5mB,YAAYltB,KAAKiqD,KAC3BA,IAAM,MAGVjqD,KAAK8qD,KAAO,WACR9qD,KAAKiqD,IAAIn9B,MAAMi+B,QAAU,QAG7B/qD,KAAK2mD,KAAO,WACR3mD,KAAKiqD,IAAIn9B,MAAMi+B,QAAU,SAG7B/qD,KAAK6kD,WAAa,WACd,OAAO7kD,KAAKkG,OAGhBlG,KAAK8kD,YAAc,WACf,OAAO9kD,KAAKg0C,QAGhBh0C,KAAKgrD,SAAW,SAASlyB,GACrB,OAAO4uB,GAAM+C,EAAUF,EAASzxB,IAGpC94B,KAAKirD,YAAc,SAASC,GACxB,IAAIC,EAAcz+B,SAASC,cAAc,UAGzC,OAFAw+B,EAAYjlD,MAAQlG,KAAKkG,MACzBilD,EAAYnX,OAASh0C,KAAKg0C,OACnB,IAAIrgB,SAAQ,SAASC,EAASC,GAEjC,IAAIuc,EAAM+a,EAAYC,WAAW,MAC7BC,GAAY,IAAIC,eAAgBC,kBAAkBd,EAAS1W,KAE3DyX,EAAS/gC,KAAKghC,KAAOhhC,KAAKihC,WAAajhC,KACvCkhC,EAAU,IAAIC,KAAK,CAACP,GAAY,CAAC/kD,KAAM,gCACvCulD,EAASL,EAAOM,gBAAgBH,GAEhCI,EAAc,IAAIC,MAClBC,EAAW,IAAID,MACnBD,EAAYG,OAAS,WACjB9b,EAAI+b,UAAUJ,EAAa,EAAG,GAC9BE,EAASG,IAAMP,EACfI,EAASC,OAAS,WACd9b,EAAI+b,UAAUF,EAAU,EAAG,GAC3B,IAAII,EAAMlB,EAAYmB,UAAU,aAChCd,EAAOe,gBAAgBF,GACvBz4B,EAAQy4B,KAIhBN,EAAYS,QAAU,WAClB34B,EAAOhuB,MAAM,0BAGjBomD,EAASO,QAAU,WACf34B,EAAOhuB,MAAM,uBAEjBqlD,IACAa,EAAYK,IAAM9B,EAAOgC,UAAU,iBAKpCzC,EAAI3+B,OCtLA,MAAMuhC,GACnB,aAAY,QAAC93B,EAAO,KAAE34B,IACpBgE,KAAKqyC,GAAK1d,EACV30B,KAAKhE,KAAOA,EACZgE,KAAKqyC,GAAG6G,QACNl9C,EACAgE,KAAKqyC,GAAG8G,OAAOC,OAAOp5C,KAAKq5C,cAC3Br5C,KAAKqyC,GAAG8G,OAAOG,SAASt5C,KAAKu5C,iBAIjC,eACElB,YAAcC,KAAKt4C,KAAK2wC,QAAS,EAAK,GAGxC,iBACK3wC,KAAKo3C,SAAWp3C,KAAKy3C,UAAY,KAAQz3C,KAAKo3C,SAAWp3C,KAAKy3C,UAAY,IAC3Ee,aAAex4C,KAAK0sD,WAEpBnU,QAIJ,OACE,OAAOv4C,KAAKqyC,GAAG6G,QAAQl5C,KAAKhE,MAG9B,SACE,IAAIq2C,EAAKryC,KAAKqyC,GAAGjC,IACjBiC,EAAG8H,QAAS9H,EAAG+H,OACf/H,EAAGiI,WAAWqS,WAAata,EAAGkI,UAAW,EAAG,IC5BjC,MAAM,WAAkBkS,GACnC,YAAY7zB,GACRg0B,MAAMh0B,GAGV,eACI,IAAIn9B,EAAGkJ,EAAGkoD,EAAMC,EAAMrpD,EAAOmlC,EAAO7nC,EAChC2C,EAAM,IAAI49C,KAiBd,GAfA7lD,GAAKuE,KAAKsyC,SAAW,IAAOtyC,KAAK+1C,SAASj3C,EAC1C6F,GAAK3E,KAAKuyC,SAAW,IAAOvyC,KAAK+1C,SAASzwC,EAElB,GAApBtF,KAAK4yC,YACL5yC,KAAKo3C,QAAUvF,UAAU7xC,KAAKw3C,eAAgBzF,KAAKt2C,EAAGkJ,IAAI/B,EAE1D5C,KAAKo3C,QAAUp3C,KAAKy3C,UAGxBoV,EAAO7sD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG3E,KAAKgyC,UAAWhyC,KAAKiyC,UAAW,GAC5D6a,EAAO9sD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG3E,KAAKgyC,UAAWhyC,KAAKiyC,UAAW,GAC5DxuC,EAAQzD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG3E,KAAKgyC,UAAWhyC,KAAKiyC,WAAY,GAC9DrJ,EAAQ5oC,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG3E,KAAKgyC,UAAWhyC,KAAKiyC,UAAWjyC,KAAK0iD,eAClE3hD,EAAOf,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG3E,KAAKgyC,UAAWhyC,KAAKiyC,UAAW,GAE7B,GAA5BjyC,KAAK6jD,iBAAiB,GAAS,CAC9B,IAAI39C,EAAQlG,KAAKwxC,aAAa,GAC9Bqb,EAAO,GAAM3mD,EAAQ2mD,GAAQ3mD,EAAQ,GAAOA,EAEhD,GAA+B,GAA5BlG,KAAK6jD,iBAAiB,GAAS,CAC9B,IAAI7P,EAASh0C,KAAKwxC,aAAa,GAC/Bsb,EAAO,GAAM9Y,EAAS8Y,GAAQ9Y,EAAS,GAAOA,EAGlD6Y,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,EAEpBppD,EAAM1D,KAAKohD,YAAYphD,KAAKwiD,iBAAiB,GAAI/+C,GAC1B,GAAnBzD,KAAKgtD,YAA4B,GAATvpD,IACxBmlC,EAAQ,GAEZuO,aAAep2C,EAAOf,KAAK6iD,UAC3B7iD,KAAK0sD,WAAapU,KAAK50C,EAAKklC,GAC5ByP,YAAcC,KAAKuU,EAAMC,EAAM,EAAK,GAGxC,iBACI,IAAIG,EAAQ,IAAI/O,KAEhB,GADA+O,EAAQjtD,KAAKo3C,SAAWp3C,KAAKy3C,UAAY,KAAQz3C,KAAKo3C,SAAWp3C,KAAKy3C,UAAY,IAC7D,GAAjBz3C,KAAKktD,SAAe,CACpB,IAAIC,EAAO5tD,OAAO6tD,cAAcC,GAAKtb,KAAK,GAAK,KAC3Cob,EAAO,IAAK5U,QAChB,IACI3P,EAAQ5oC,KAAK0sD,WAAW9pD,EAAI0qD,WAAW,IAAa,GAAKH,GACzDF,EACAzU,aAAeF,KAAKt4C,KAAK0sD,WAAWhpD,IAAMklC,EAAOA,GAEjD2P,aAGA0U,EACAzU,aAAeF,KAAKt4C,KAAK0sD,WAAWhpD,IAAM1D,KAAK0sD,WAAW9pD,EAAG5C,KAAK0sD,WAAW9pD,GAE7E21C,QAKZ,OAAOoU,GACH,IAAIhe,EAAK3uC,KAAKqyC,GACd1D,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUoC,SAAS9B,SAAU,GACpE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAU8B,UAAUxB,SAAU,GACrE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUqC,SAAS/B,SAAU,GACpE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAU+B,UAAUzB,SAAU,GACrE7B,EAAGyB,IAAIC,IAAI8K,yBAAyBwR,EAAW,EAAGhe,EAAGU,cAAc,GAAIV,EAAGU,cAAc,KCzEjF,MAAM,WAAgBod,GACnC,YAAa7zB,GACXg0B,MAAMh0B,GAGR,eACE,IAAIn9B,EAAGkJ,EAEHkoD,EAAMC,EAAMrpD,EAAOmlC,EAAO1iC,EAAO8tC,EASjCuZ,EAAMC,EAVN9pD,EAAM,IAAI49C,KAEd7lD,GAAKgyD,IAAIztD,KAAK0wC,YAAa1wC,KAAK+1C,SAASj3C,GAAK,IAAOkB,KAAK+1C,SAASj3C,EACnE6F,GAAKjG,MAAMsB,KAAK0wC,YAAc1wC,KAAK+1C,SAASj3C,GAAK,IAAOkB,KAAK+1C,SAASzwC,EAEtEtF,KAAKo3C,QAAUp3C,KAAKy3C,UAEI,GAApBz3C,KAAK4yC,cACP5yC,KAAKo3C,QAAUvF,UAAU7xC,KAAKw3C,eAAgBzF,KAAKt2C,EAAGkJ,IAAI/B,GAG5D2qD,EAAOvtD,KAAK0tD,cACZF,EAAOxtD,KAAK2tD,cACZd,EAAO7sD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,EAAM,GACxCV,EAAO9sD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,EAAM,GACxC/pD,EAAQzD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,GAAO,GAC1C5kB,EAAQ5oC,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,EAAMxtD,KAAK0iD,eAC9Cx8C,EAAQlG,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,EAAMxtD,KAAK8jD,eAC9C9P,EAASh0C,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,EAAMxtD,KAAK+jD,gBACxC/jD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAG4oD,EAAMC,EAAMxtD,KAAK6iD,WAC7CgK,EAAOA,GAAQ7sD,KAAKwxC,aAAaxxC,KAAKwiD,iBAAiB,IAAM,GAAOxiD,KAAKwxC,aAAaxxC,KAAKwiD,iBAAiB,IAC5GsK,EAAOA,GAAQ9sD,KAAKwxC,aAAaxxC,KAAKwiD,iBAAiB,IAAM,GAAOxiD,KAAKwxC,aAAaxxC,KAAKwiD,iBAAiB,IAE5Gt8C,GAAS,EAA0B,EAApBlG,KAAK4jD,WAAW9kD,EAC/Bk1C,GAAU,EAA0B,EAApBh0C,KAAK4jD,WAAWt+C,EAChCunD,GAAQ7sD,KAAK4jD,WAAW9kD,EAAIoH,EAC5B4mD,GAAQ9sD,KAAK4jD,WAAWt+C,EAAI0uC,EAEN,GAAlBh0C,KAAKuwC,WAAsC,GAAlBvwC,KAAKuwC,WAChCsc,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,GACO,GAAlB9sD,KAAKuwC,WACdsc,EAAc,EAAPA,EAAa,EACpBC,EAAyB,GAAjBA,EAAO9Y,GAAgB,GACJ,GAAlBh0C,KAAKuwC,WAAsC,GAAlBvwC,KAAKuwC,WACvCsc,EAAwB,GAAhBA,EAAO3mD,GAAe,EAC9B4mD,EAAyB,GAAjBA,EAAO9Y,GAAgB,GACJ,GAAlBh0C,KAAKuwC,WACdsc,EAAwB,GAAhBA,EAAO3mD,GAAe,EAC9B4mD,EAAc,EAAPA,EAAa,IAEpBD,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,GAGtBppD,EAAM1D,KAAKohD,YAAYphD,KAAKwiD,iBAAiB,GAAI/+C,GAC1B,GAAnBzD,KAAKgtD,YAA4B,GAATvpD,IAC1BmlC,EAAQ,GAEV5oC,KAAK0sD,WAAapU,KAAK50C,EAAMklC,EAAOA,GACpCyP,YAAcC,KAAKuU,EAAMC,EAAM,EAAK,GAGtC,iBACM9sD,KAAKo3C,SAAWp3C,KAAKy3C,UAAY,KAAQz3C,KAAKo3C,SAAWp3C,KAAKy3C,UAAY,IAC5Ee,aAAex4C,KAAK0sD,WAEpBnU,QAGJ,SACE,IAAI5J,EAAK3uC,KAAKqyC,GACVsa,EAAYhe,EAAGyB,IAAImK,UACnBgT,EAAO,IAAIr1B,aAAayW,EAAGK,UAC3Bwe,EAAO,IAAIt1B,aAAayW,EAAGK,UAC/B,IAAI,IAAI1pC,EAAI,EAAGA,EAAIqpC,EAAGU,cAAc,GAAI/pC,IACtC,IAAI,IAAIxG,EAAI,EAAGA,EAAI6vC,EAAGU,cAAc,GAAIvwC,IACtCyuD,EAAKjoD,EAAEqpC,EAAGU,cAAc,GAAKvwC,GAAK6vC,EAAGuB,UAAU8B,UAAU/c,KAAKn2B,GAC9D0uD,EAAKloD,EAAEqpC,EAAGU,cAAc,GAAKvwC,GAAK6vC,EAAGuB,UAAU+B,UAAUhd,KAAK3vB,GAGlEqpC,EAAGuB,UAAUwd,cAAgBH,EAC7B5e,EAAGuB,UAAUyd,cAAgBH,EAC7B7e,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUK,UAAUC,SAAU,GACrE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUQ,YAAYF,SAAU,GACvE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUwd,cAAcld,SAAU,GACzE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUyd,cAAcnd,SAAU,GACzE7B,EAAGyB,IAAIC,IAAI8K,yBAAyBwR,EAAW,EAAG,EAAGhe,EAAGK,WCpF7C,MAAM,WAAkByd,GACnC,YAAY7zB,GACRg0B,MAAMh0B,GAGV,eACE,IAAIn9B,EAAGkJ,EAEHkoD,EAAMC,EAAYrpD,EAAOmlC,EADzBllC,EAAM,IAAI49C,KAEdnK,aAAen3C,KAAK6iD,UACpBpnD,GAAKgyD,IAAIztD,KAAK0wC,YAAa1wC,KAAK+1C,SAASj3C,GAAK,IAAOkB,KAAK+1C,SAASj3C,EACnE6F,GAAKjG,MAAMsB,KAAK0wC,YAAc1wC,KAAK+1C,SAASj3C,GAAK,IAAOkB,KAAK+1C,SAASzwC,EAEtEtF,KAAKo3C,QAAUp3C,KAAKy3C,UACG,GAApBz3C,KAAK4yC,cACJ5yC,KAAKo3C,QAAUvF,UAAU7xC,KAAKw3C,eAAgBzF,KAAKt2C,EAAGkJ,IAAI/B,GAEtC,GAArB5C,KAAK4tD,cACJf,EAAO7sD,KAAKywC,aAAanrC,EAAI2yB,MAAMj4B,KAAK6tD,cAAc,GACtDf,EAAO9sD,KAAK8tD,qBAAqBj2B,IAAI73B,KAAKywC,aAAa3xC,GAAIrD,EAAGkJ,KAE9DmoD,EAAO,EAAM9sD,KAAKywC,aAAanrC,EAAI2yB,MAAMj4B,KAAK6tD,cAAc,GAC5DhB,EAAO7sD,KAAK8tD,qBAAqBj2B,IAAI73B,KAAKywC,aAAa3xC,GAAIrD,EAAGkJ,IAElElB,EAAQzD,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAGlJ,EAAGkJ,GAAI,GACpCikC,EAAQ5oC,KAAK+sD,OAAO,EAAGtxD,EAAGkJ,EAAGlJ,EAAGkJ,EAAG3E,KAAK0iD,eAExCmK,EAAc,EAAPA,EAAa,EACpBC,EAAc,EAAPA,EAAa,EAEpBppD,EAAM1D,KAAKohD,YAAYphD,KAAKwiD,iBAAiB,GAAI/+C,GACjDzD,KAAK0sD,WAAapU,KAAK50C,EAAIklC,EAAOA,GAClCyP,YAAcC,KAAKuU,EAAMC,EAAM,EAAK,GAGtC,yBAAyBiB,GACvB,IAAIpf,EAAK3uC,KAAKqyC,GACd,GAAG5yC,MAAMa,QAAQytD,GAAI,CACjB,IAAIC,EAAK,IAAI91B,aAAuB,EAAV61B,EAAGxuD,QAC7BwuD,EAAGl0B,SAAQ,SAAS15B,EAAG1E,GACnBuyD,EAAK,EAAFvyD,GAAOkzC,EAAGY,OAAO9oC,QAAQtG,GAC5B6tD,EAAK,EAAFvyD,EAAI,GAAKA,KAEhBkzC,EAAGuB,UAAUO,aAAeud,EAC5Brf,EAAGkC,QAAQgd,cAAgBE,EAAGxuD,QAIpC,OAAOotD,GACL,IAAIhe,EAAK3uC,KAAKqyC,GACd1D,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUO,aAAaD,SAAU,GACxE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUQ,YAAYF,SAAU,GACvE,IAAI/mC,EAAQklC,EAAGuB,UAAUO,aAAaxb,KAAK11B,OAASovC,EAAGuB,UAAUO,aAAa1vC,KAC9E4tC,EAAGyB,IAAIC,IAAI8K,yBAAyBwR,EAAW,EAAGljD,EAAOklC,EAAGK,WC5ClE,MAAMif,GAAc,CAAC,QAAS,QAAS,QAAS,OAAQ,OAClDC,GAAW,CAAC,MAAO,SAAU,OAAQ,QAE5B,SAASC,GAAUxf,GAC9B,IAAIuT,EfEO,SAAevT,GAC1B,IAAIuT,EAAe,GAiDnB,OA/CAvT,EAAGkC,QAAQ,aAAoB,MAAS,GACnCA,QAAQ,cAAkB,MAjBf,IAkBXA,QAAQ,YAAkB,OAASmQ,EAAcV,IAEjDtP,QAAQ,iBAAkB,QAASyP,EAAeJ,GAAY,CArB/C,IAqBiE,GAAI,QACpF9O,WAAW,cAAe,OAAS6P,GAExCc,EAAakM,aAAe,SAASC,GACV,iBAAbA,GAAyB,EAAa/wD,eAAe+wD,GAC3DhO,EAAW,EAAagO,GAClB5uD,MAAMa,QAAQ+tD,KACpBhO,EAAWgO,GAEf,IAAI1N,EAAgBF,EAAeJ,GACnC1R,EAAGqC,QAAQ0Q,eAAiBf,GAIhCuB,EAAaoM,YAAc,SAAS9uD,GAChC8gD,EAAW9gD,EACXmvC,EAAGkC,QAAQiR,UAAU7sB,KAAO+rB,EAAcxhD,IAG9C0iD,EAAajB,WAAab,EAAgBlgD,KAAI,SAASvD,GACnD,OAsDR,SAAkBb,GACd,IAAIS,EAAIT,EAAE,GACN0L,EAAI1L,EAAE,GACN6G,EAAI7G,EAAE,GAEV,GAAIS,EAAI,KAAOiL,EAAI,KAAO7E,EAAI,IAC1B,KAAM,0BAEV,OAAQ,IAAMpG,GAAGsH,SAAS,IAAI0qD,OAAO,KAAM,GAAK,KAAO/mD,GAAK,IAAO7E,GAAK,EAJhE,GAIwEkB,SAAS,IAAI0qD,OAAO,GA9DzFC,CAAS7xD,MAGpBulD,EAAauM,UAAY,WACrB,OAA4B,GAAzB9f,EAAGkC,QAAQ4Q,WACHnB,EAEAD,GAIf6B,EAAawM,aAAe,SAASlvD,EAAQmvD,GAEzCzM,EAAakM,aAAa5uD,GAAU2gD,GACpC+B,EAAaoM,YAAY9uD,GAAU4gD,GAChC74C,OAAOwnC,UAAU4f,KAChBhgB,EAAGkC,QAAQ4Q,WAAWxsB,KAAO05B,IAIrCzM,EAAax+C,IAAMA,EACnBw+C,EAAa37B,KAAOA,EAEb27B,EepDY,CAAOvT,GACtBigB,EAAejgB,EAAGjsC,SAAW,CAAC6V,KAAM,EAAGX,MAAO,EAAG4zB,IAAK,EAAGC,OAAQ,GACjE4O,EAAW1L,EAAG0L,SAEdwU,EAAM,IAAI,GAAO,CACjB/a,UAAWnF,EAAGmF,UACd5tC,MAAOm0C,EAAS,GAAKuU,EAAar2C,KAAOq2C,EAAah3C,MACtDo8B,OAAQqG,EAAS,GAAKuU,EAAapjB,IAAMojB,EAAanjB,OACtD6e,OAAQ3b,EAAG2b,OACX5nD,QAASksD,IAGbjgB,EAAGkC,QAAQ,mBAAqB,MAAS,IAAIpxC,MAAMsiD,EAAiBxiD,QAAQwG,MAAM,IAC7E8qC,QAAQ,kBAAmB,QAAW,IAAIpxC,MAAMsiD,EAAiBxiD,QAAQwG,KAAK,IAC9E8qC,QAAQ,WAAmB,OAASlC,EAAG0L,UACvCxJ,QAAQ,WAAmB,MAAS,GACpCA,QAAQ,eAAmB,MAAS,GACpCA,QAAQ,cAAmB,OAASlC,EAAGiC,aAAa1wC,IAAInE,GAAGA,EAAE2D,UAC7DmxC,QAAQ,YAAmB,OAAS,CAAC,EAAK,IAC1CA,QAAQ,aAAmB,OAAS,CAAC,EAAK,IAC1CA,QAAQ,gBAAmB,MAAS,GACpCA,QAAQ,YAAmB,QAAS,IACpCA,QAAQ,aAAmB,OAAS,CAAC,GAAK,KAC1CA,QAAQ,gBAAmB,QAAS,GACpCA,QAAQ,gBAAmB,QAAS,EAAMlC,EAAG0L,SAAS,IACtDxJ,QAAQ,iBAAmB,QAAS,EAAMlC,EAAG0L,SAAS,IACtDxJ,QAAQ,WAAmB,OAAS,CAAC,EAAG,EAAG,EAAG,IAC9CA,QAAQ,gBAAmB,OAAS,CAAC,GAAK,EAAG,IAC7CA,QAAQ,iBAAoB,MAAQ,GACpCA,QAAQ,aAAgB,MAAQ,GAChCA,QAAQ,aAAmB,MAAS,GACpCA,QAAQ,mBAAmB,QAAS,CAAC,EAAG,IACxCE,QAAQ,aAAmB,QAEhC,IAAI+d,EChDO,SAAgBngB,GAC3BA,EAAGkC,QAAQ,cAAe,MAAO,GAC5BI,YAAY,eAAgB,QAAStC,EAAG0L,UACxCpJ,YAAY,WAAY,QAAS,CAAC,EAAG,IAE1C,IAAI8d,EAAS,IAAI72B,aAAayW,EAAG0L,SAAS,IAAIn6C,IAAI,CAACnE,EAAGN,IAAMA,GACxDuzD,EAAS,IAAI92B,aAAayW,EAAG0L,SAAS,IAAIn6C,IAAI,CAACnE,EAAGN,IAAMA,GAE5DkzC,EAAGuB,UAAU,SAAU,QAAS6e,GAChCpgB,EAAGuB,UAAU,SAAU,QAAS8e,GAChCrgB,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAU6e,OAAOve,SAAU,GAClE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAU8e,OAAOxe,SAAU,GAElE,IAAIuM,EAAKpO,EAAGwK,OAAOC,QAAO,WACtB,IAAI39C,EAAGkJ,EACPlJ,GAAKuE,KAAK+uD,OAAO,IAAO/uD,KAAKivD,SAASnwD,EACtC6F,GAAK3E,KAAKgvD,OAAO,IAAOhvD,KAAKivD,SAAS3pD,EACtCtF,KAAK0sD,WAAa7a,UAAU7xC,KAAKkvD,aAAcnd,KAAKt2C,EAAGkJ,IACvD0zC,YAAcC,KAAK,EAAK,EAAK,EAAK,MAGlC0E,EAAKrO,EAAGwK,OAAOG,UAAS,WACxBd,aAAex4C,KAAK0sD,cAGxB/d,EAAGuK,QAAQ,kBAAmB6D,EAAIC,GAElC,IAAImS,EAAMxgB,EAAGwK,OAAOC,QAAO,WACtBf,YAAcC,KAAKt4C,KAAK2wC,QAAS,EAAG,MAGrCye,EAAMzgB,EAAGwK,OAAOG,UAAS,WACzB,IAAIx6C,EAAGwG,EAAG1C,EACNlG,EAAQ,IAAI2yD,KAChBvwD,GAAK65C,aAAa75C,EAAE,IAAOkB,KAAKivD,SAASnwD,EACzCwG,GAAKqzC,aAAarzC,EAAE,IAAOtF,KAAKivD,SAAS3pD,EAG3B,IAFd5I,EAAQm1C,UAAU7xC,KAAKkvD,aAAcnd,KAAKjzC,EAAGwG,KAEpC1C,GAAU21C,QAEnB31C,EAA6C,GAAzCjE,IAAKjC,EAAMkG,EAAI5C,KAAKsvD,SAAS1sD,EAAI,KAAc,GAG5B,GAApB5C,KAAK4iD,YACJpK,aAAeF,KAAKt4C,KAAKwhD,cAAc5+C,EAAGA,GAE1C41C,aAAeF,KAAKzG,UAAU7xC,KAAK0hD,eAAgB3P,KAAK,EAAGnvC,EAAG,IAAMc,IAAI1D,KAAK0iD,cAAe1iD,KAAK0iD,kBAIzG/T,EAAGuK,QAAQ,aAAciW,EAAKC,GAE9B,IAAIG,GAAoB,EAExB,OAAO,SAASz2B,GACZ,IAAIuZ,EACAmd,EAAY12B,EAAQ02B,UACpBC,EAAU32B,EAAQwqB,IAClBt3C,EAAS8sB,EAAQ9sB,QAAU,CAAC,EAAG,GAC/BtJ,EAAUo2B,EAAQp2B,SAAW,CAAC6V,KAAM,EAAGX,MAAO,EAAGW,KAAM,EAAGX,MAAM,GAEpE,IAAI+2B,EAAGwN,QAAS,CAERoT,IACAA,GAAoB,EACpB5gB,EAAGsC,YAAY,WAAY,QAAS,CAAC,EAAGtC,EAAG+gB,MAAMnwD,UAGrD,IAAIowD,EAAU,CACV3jD,EAAO,GAAKtJ,EAAQ6V,KACpBo2B,EAAG0L,SAAS,GAAKoV,EAAQ,GAAK/sD,EAAQ+oC,OAASz/B,EAAO,IAEtD4jD,EAAO,CACPH,EAAQ,GAAK/sD,EAAQ6V,KAAO7V,EAAQkV,MACpC63C,EAAQ,GAAK/sD,EAAQ8oC,IAAM9oC,EAAQ+oC,QAGvCkD,EAAGuB,UAAU6e,OAASvgB,EAASmhB,EAAQ,GAAIA,EAAQ,GAAKC,EAAK,GAAK,GAClEjhB,EAAGuB,UAAU8e,OAASxgB,EAASmhB,EAAQ,GAAIA,EAAQ,GAAKC,EAAK,GAAK,GAClEvd,EAAK1D,EAAGuK,QAAQ,mBAEhBvK,EAAGsC,YAAYuJ,WAAW,gBAC1B7L,EAAG6E,gBAAgB,YAEnB7E,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAUS,QAAQH,SAAU,GACnE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAU6e,OAAOve,SAAU,GAClE7B,EAAGyB,IAAIC,IAAIC,yBAAyB3B,EAAGuB,UAAU8e,OAAOxe,SAAU,GAGlE6B,EAAG8H,QAAQ9H,EAAGoI,WACdpI,EAAG8H,QAAQ9H,EAAGqI,YACdrI,EAAGsI,OAAQtI,EAAG+H,OACd/H,EAAGuI,UAAWvI,EAAGwI,IAAKxI,EAAGwI,KACzBxI,EAAGyI,cAAczI,EAAG6I,SACpB7I,EAAGgI,SAAS,EAAGmV,EAAW,EAAG,GAC7Bnd,EAAGhC,IAAI8K,yBACH9I,EAAG+I,OACH,EACAwU,EAAK,GACLA,EAAK,IAET,IAAIxwD,EAAM,IAAI84B,aAAa,GAC3Bma,EAAGoB,WAAW,EAAG+b,EAAW,EAAG,EAAGnd,EAAGqB,KAAMrB,EAAGwK,MAAOz9C,GAKrDuvC,EAAG+gB,MAAMF,GAAWK,QAAUzwD,EAGlCuvC,EAAGkC,QAAQye,SAAW3gB,EAAG+gB,MAAMF,GAAWK,QAE1ClhB,EAAG6E,gBAAgB,OACnBnB,EAAK1D,EAAGuK,QAAQ,eACb7I,IAAIC,yBAAyB3B,EAAGuB,UAAUS,QAAQH,SAAU,GAC/D7B,EAAGsC,YAAYuJ,WAAW,gBAE1BnI,EAAGgI,SACCruC,EAAO,GAAKtJ,EAAQ6V,KAEpBo2B,EAAG0L,SAAS,GAAKoV,EAAQ,GAAK/sD,EAAQ+oC,OAASz/B,EAAO,GACtDyjD,EAAQ,GAAK/sD,EAAQ6V,KAAO7V,EAAQkV,MACpC63C,EAAQ,GAAK/sD,EAAQ8oC,IAAM9oC,EAAQ+oC,QAGvC4G,EAAG8H,QAAS9H,EAAG+H,OAGf/H,EAAGiI,WAAWjI,EAAGkI,UAAW,EAAG,IDhFrBuV,CAAOnhB,GAErBA,EAAGsC,YAAY,eAAgB,QAAStC,EAAG0L,UAI3C1L,EAAG6E,gBAAgB,gBACnB7E,EAAGyB,IAAI4J,WAAY,EAAK,EAAK,EAAK,GAClCrL,EAAGyB,IAAI1vC,MAAOiuC,EAAGyB,IAAI6J,iBAAmBtL,EAAGyB,IAAI8J,kBAC/CvL,EAAG6E,gBAAgB,MACnB7E,EAAG4C,WAAW,SAAU,QAAS,EAAYwb,QAC7Cpe,EAAG4C,WAAW,uBAAwB,QAAS,EAAYuc,sBAE3D,IAAIiC,EAAY,CACZC,UAAW,IAAI,GAAU,CAACr7B,QAASga,EAAI3yC,KAAM,cAC7CmwC,QAAS,IAAI,GAAQ,CAACxX,QAASga,EAAI3yC,KAAM,YACzCi0D,WAAY,IAAI,GAAY,CAACt7B,QAASga,EAAI3yC,KAAM,gBAGpD,OAAO,SAAS88B,GACZ6V,EAAGgU,eAAgB,EACnB,IAiBIuN,EAjBAC,EAAW,YACXlO,EAAOnpB,EAAQmpB,MAAQ,GACvBe,EAAOlqB,EAAQkqB,MAAQf,EAAKe,MAAQ,SACpCwM,EAAY12B,EAAQ02B,UAEpBY,EAAY,GACZC,EAAepO,EAAK5H,UAAY,CAAC1L,EAAG+gB,MAAMF,GAAWtpD,MAAOyoC,EAAG+gB,MAAMF,GAAWxb,SAAWqG,EAC3Fn0C,EAAQmqD,EAAa,GACrBrc,EAAUqc,EAAa,GACvB3tD,EAAUu/C,EAAKv/C,SAAWisC,EAAG+gB,MAAMF,GAAW9sD,SAAWksD,EACzD5iD,EAASi2C,EAAKj2C,QAAU2iC,EAAG+gB,MAAMF,GAAWxjD,QAAU,CAAC,EAAG,GAC1DskD,EAAatO,EAAOrT,EAAIsT,EAAMC,GAE9BqO,EAAK5hB,EAAG+gB,MAAMF,GACdgB,EAAqC,iBAAjBvO,EAAW,OAAkBA,EAAKziD,OAAS+wD,EAAG9sD,MAElEkrD,EAAY,EAGZ7L,EAAc,CACdjjD,OAAQuwD,EACR7gB,OAAQZ,EAAGY,OACX0S,KAAMA,EAEN5oB,SAAUsV,EAAGtV,SACb32B,QAASA,EACT6V,KAAMvM,EAAO,GACbw/B,IAAMx/B,EAAO,GACbxM,OAAQ0iD,EAAauM,aAGzB3L,EAAc3mD,OAAOkrB,OAAOy7B,EAAawN,GACzCxN,EAAc3mD,OAAOkrB,OAAOy7B,EAAanU,EAAG+gB,MAAMF,IAE9C7gB,EAAGwN,SA8DoB,IAApBoU,EAAGE,eACFF,EAAG7I,MAAMgJ,YAAYH,EAAG10B,QAAQomB,EAAKnjD,IACrCyxD,EAAG7I,MAAMiJ,YAAYJ,EAAG10B,QAAQomB,EAAK38C,MA/DzCqpC,EAAGY,OAAO1V,SAAQ,SAAS15B,EAAG1E,GAM1B20D,EAAUjwD,GAAKwuC,EAAGiC,aAAan1C,GAAGiE,WAEnCuiD,EAAKh8C,OACD0oC,EAAGY,OAAO9oC,QAAQw7C,EAAK/7C,QAAU,IAChCkqD,EAAUnO,EAAK/7C,OAAO,GAAK,GAE5ByoC,EAAGY,OAAO9oC,QAAQw7C,EAAKjO,SAAW,IACjCoc,EAAUnO,EAAKjO,QAAQ,GAAK,GAE7BrF,EAAGY,OAAO9oC,QAAQw7C,EAAK38C,IAAM,IAC5B8qD,EAAUnO,EAAK38C,GAAG,GAAK,IAK1B28C,EAAK1sB,SACNg7B,EAAG10B,QAAUu0B,EACA,WAATpN,GAA8B,SAATA,GACrB7mD,OAAOwE,KAAKmiD,EAAYjjD,QAAQg6B,QAAQ+2B,IAGhCz0D,OAAO0E,OAAOiiD,EAAYb,KAAKnjD,GAAG+H,KAAK,MAAQ+pD,EAC/CL,EAAG10B,QAAQ+0B,GAAO,CAAC9N,EAAYK,QAAQ,GAAIL,EAAYK,QAAQL,EAAYK,QAAQ5jD,OAAO,KACnFpD,OAAO0E,OAAOiiD,EAAYb,KAAK38C,GAAGuB,KAAK,IAC9C0pD,EAAG10B,QAAQ+0B,GAAOR,EAAUQ,QAQxB,IAAhB3O,EAAK1sB,QAAqBg7B,EAAGjzD,eAAe,WAC5CizD,EAAG7I,MAAM3T,IAAItzC,SACb8vD,EAAG7I,MAAMmJ,cAGTN,EAAG7I,MAAQmH,EAAI7D,SAASlI,GACxByN,EAAGxc,IAAMwc,EAAG7I,MAAM3T,IAAIzpB,OAED,iBAAhB,IACF7qB,MAAMa,QAAQkwD,GACbN,EAAWM,GAERA,EAAUlzD,eAAe,iBACxBqxD,EAAa6B,EAAqB,YAAI,EAAI,GAE9CN,EAAWM,EAAU1wD,OAAS0wD,EAAU3vD,SAIhDqhD,EAAawM,aAAawB,EAAUvB,IASxChgB,EAAGkC,QAAQ8Q,YAAY1sB,KAAO94B,OAAOwE,KAAK4vD,EAAG10B,SAAS37B,IAAIC,GAAGowD,EAAG10B,QAAQ17B,IACxEwuC,EAAGkC,QAAQqc,SAASj4B,KAAOi5B,GAASznD,QAAQu8C,GAC5CrU,EAAGkC,QAAQwT,eAAepvB,KAAQgtB,EAAY,QAAI,EAAI,EACtDtT,EAAGkC,QAAQmc,WAAW/3B,KAAQgtB,EAAc,UAAI,EAAI,EAGjDxiD,MAAMa,QAAQ2hD,EAAKnjD,IAAMW,MAAMa,QAAQ2hD,EAAK38C,IAC3C6qD,EAAW,aACR1wD,MAAMa,QAAQ2hD,EAAKnjD,GAElB6vC,EAAGkC,QAAQ+c,aAAe,EACpBnuD,MAAMa,QAAQ2hD,EAAK38C,KACzBqpC,EAAGkC,QAAQ+c,aAAe,GAE9BmC,EAAUI,GAAUW,yBAAyB7O,EAAKnjD,GAClDixD,EAAUI,GAAUW,yBAAyB7O,EAAK38C,IAC5C28C,EAAKe,OAAgD,IAAxC,CAAC,OAAQ,OAAOv8C,QAAQw7C,EAAKe,QAChDmN,EAAW,WAGf,IAAI9d,EAAK0d,EAAUI,GAAUY,OAC7BpiB,EAAGsC,YAAYuJ,WAAW,kBAC1B7L,EAAGsC,YAAYuJ,WAAW,kBAC1B7L,EAAGsC,YAAYuJ,WAAWyH,EAAK+O,IAAM,iBAElCriB,EAAGgU,eACFhU,EAAG6E,gBAAgB,gBACnBnB,EAAG2H,WAAY,EAAK,EAAK,EAAK,GAC9B3H,EAAG3xC,MAAO2xC,EAAG4H,iBAAmB5H,EAAG6H,kBACnC7H,EAAGuI,UAAUvI,EAAGwI,IAAKxI,EAAGwI,OAExBlM,EAAG6E,gBAAgB,MAEnBnB,EAAGuI,UAAWvI,EAAGwI,IAAKxI,EAAG4e,sBAG7B5e,EAAGgI,SACCruC,EAAO,GAAKtJ,EAAQ6V,KACpB8hC,EAAS,GAAKrG,EAAStxC,EAAQ+oC,OAASz/B,EAAO,GAC/C9F,EAAQxD,EAAQ6V,KAAO7V,EAAQkV,MAC/Bo8B,EAAStxC,EAAQ8oC,IAAM9oC,EAAQ+oC,QAEnC4G,EAAG8H,QAAQ9H,EAAGoI,WACdpI,EAAG8H,QAAQ9H,EAAGqI,YACdrI,EAAGsI,OAAOtI,EAAG+H,OACb/H,EAAGyI,cAAczI,EAAG0I,UAEpB,IAAI4R,EAAYta,EAAG+I,OA+BnB,GA7BW,QAAR4H,IACC2J,EAAYta,EAAG6e,WACf7e,EAAG8e,UAAUlP,EAAKlhD,MAAQ,Ib9NvB,kBACb,IAAI2mD,EAAQ/Y,EAAG+gB,MAAMF,GACjBtpD,EAAQwhD,EAAMxhD,MACd8tC,EAAS0T,EAAM1T,OACftxC,EAAUglD,EAAMhlD,SAAWisC,EAAGjsC,QAElCisC,EAAGyiB,WAAWv3B,QAASwW,IACrB,GAAIA,EAAIghB,UAAUz1D,KAAK,KAAMqmD,GAAO,CAClC,IAAIqP,EAAc,GAClBn1D,OAAOwE,KAAKk7B,GAAShC,QAAQ15B,IAC3B,GAAIwuC,EAAG3U,cAAgB2U,EAAG3U,aAAa18B,eAAe6C,GAAI,CACxD,IAAIoxD,EAAO5iB,EAAG3U,aAAa75B,GAAGZ,OAAS,EACvC+xD,EAAYnxD,GAAK,CAACwuC,EAAG3U,aAAa75B,GAAG,GAAIwuC,EAAG3U,aAAa75B,GAAGoxD,SACpD5iB,EAAGtV,SAAS/7B,eAAe6C,GACnCmxD,EAAYnxD,GAAKwuC,EAAGtV,SAASl5B,GAE7BmxD,EAAYnxD,GAAK07B,EAAQ17B,KAI7BwuC,EAAG6iB,WAAanhB,EAAIohB,YACpB,IAAIx8B,EAAO,CACTy8B,KAAM,KACN93C,MAAO,KACPo3B,QAAS,KACTiR,KAAMA,EACN1S,OAAQZ,EAAGY,OACXpW,OAAQwV,EAAGG,WACXjT,QAASy1B,GAGPK,EAAOx1D,OAAOkrB,OAAO,GAAIqgC,GAC7BiK,EAAKzrD,MAAQA,EAAQxD,EAAQ6V,KAAO7V,EAAQkV,MAC5C+5C,EAAK3d,OAASA,EAAStxC,EAAQ8oC,IAAM9oC,EAAQ+oC,OAC7CkmB,EAAKC,UAAY3P,EACjB0P,EAAK5d,IAAM2T,EAAMA,MAAM3T,IAAIA,IAC3B4d,EAAKrH,OAAS3b,EAAG2b,OACjBqH,EAAKpJ,UAAYoJ,EAAKpJ,UAElBlY,EAAIwhB,aACN58B,EAAKy8B,KAAO/iB,EAAGmjB,aAAa,CAACjpD,OAAQ,MAAO6pC,UAAWuP,EAAK+O,MAG1DriB,EAAGG,YACL7Z,EAAKy8B,KAAK73B,QAAQc,IAChBx+B,OAAOwE,KAAKguC,EAAGG,YAAYjV,QAAQ78B,IACN,SAAvB2xC,EAAGG,WAAW9xC,KAChB29B,EAAI39B,GAAO,IAAIoG,KAAKu3B,EAAI39B,SAKL,mBAAhBqzC,EAAI0hB,SACb1hB,EAAI0hB,QAAQn2D,KAAK+yC,EAAI1Z,EAAM08B,GAG7B,IAAIK,EAAyB,SAAZ3hB,EAAI/pC,KACjB,SAAU2uB,EAAM08B,GAKhB,OAJAjK,EAAMG,KAAO,IAAIxX,EAAI4hB,SAASh9B,EAAM08B,GACH,mBAAtBjK,EAAMG,KAAK8C,QACpBjD,EAAMG,KAAK8C,SAENjD,EAAMG,MAEbxX,EAAI4hB,SAEJ5hB,EAAI6hB,gBACNF,EAAUp2D,KAAKy0C,EAAKpb,EAAM08B,GAErBhjB,EAAGwN,UACNuL,EAAMyK,SAAWH,EAAUp2D,KAAKy0C,EAAKpb,EAAM08B,Oa2J7C7pC,CAAO6mB,EAAIsT,EAAMuN,EAAWe,EAAG10B,UAE5B8S,EAAG6iB,YAAcvP,EAAKmQ,SAAWnQ,EAAK1sB,UACrCg7B,EAAG7I,MAAMmJ,cAC2B,IAAjCliB,EAAGY,OAAO9oC,QAAQw7C,EAAKx+C,QAAa8sD,EAAG7I,MAAMgC,gBAEhD/a,EAAG6iB,aAAcvP,EAAK1sB,QACtBw6B,EAAUI,GAAUxF,OAAOgC,GAQ/Bhe,EAAG6iB,YAAa,EACb7iB,EAAGgU,eAAemM,EAAQ,CACzBU,UAAWA,EACXlM,IAAK,CAACp9C,EAAO8tC,GACbhoC,OAAQA,EACRtJ,QAASA,IAEbisC,EAAG6E,gBAAgB,OAEf7E,EAAGwN,QAAS,CACEhgD,OAAOwE,KAAKshD,GACrB/1C,QAAO,SAASmmD,GAAM,OAAqC,IAA9BpE,GAAYxnD,QAAQ4rD,MAE9Cx4B,SAAQ,SAASy4B,GACrB,IAAIC,EAAW,GACXC,EAASvQ,EAAKz3B,IAAMmkB,EAAG+gB,MAAMF,GAAWhlC,GAC5C+nC,EAASC,GAAUvQ,EAAKqQ,GACxB,IAAIG,EAAkBt2D,OAAOkrB,OAAO,CAChC8L,MAAOm/B,EACPtT,KAAMwT,EACND,SAAUA,GACXtQ,EAAKqQ,IACR3jB,EAAG+jB,aAAa9xD,KAAK6xD,QE/PtB,QACXxZ,UAAA,EACAhG,MAAA,EACA0f,OCRW,SAAgBhkB,EAAI8M,GAEjC,IAAIkX,EAAS,GACTtjB,EAAgBV,EAAGkC,QAAQkF,SAAS9gB,KACpCwa,EAAYd,EAAGkC,QAAQe,aAAa3c,KACpC29B,EAAgBz2D,OAAOwE,KAAK86C,GAE5BlM,EAASZ,EAAGY,OAChB,GAAGqjB,EAAcrzD,OAASovC,EAAGc,UAC3B,MAAM5pC,MAAM,kCAAoC8oC,EAAGc,UAAY,mBAGjEd,EAAG4C,WAAW,OAAQ,QAAS0L,GAC/BtO,EAAG4C,WAAW,QAAS,QAAS7kC,GAChCiiC,EAAG4C,WAAW,OAAQ,QAAS4L,GAC/BxO,EAAG4C,WAAW,YAAa,QAAS6L,GAEpC,IAAIyV,EAAQ,KAEZD,EAAc/4B,SAAQ,SAAS99B,EAAGN,GAChC,IAAIgK,EAAK,IAAIqK,OAAO,IAAIy/B,EAAO1oC,KAAK,KAAK,IAAI,KAEzCisD,EAAUrX,EAAK1/C,GAAGgM,QAAQtC,GAAI,SAASstD,GAGzC,MAAO,2BADKxjB,EAAO9oC,QAAQssD,GACkB,qBAE/CF,GAAS,gBAAkBp3D,EAAI,YAAcq3D,EAAU,kBAGzDD,EAAQA,EAAM9qD,QAAQ,MAAO,SAAW,eAExC4mC,EAAGkC,QAAQ,WAAY,QAAS,GAC7BA,QAAQ,YAAa,MAAO,GAC5BU,WAAW,kBAAmB,QAAS,IAAIyhB,SAAS,aAAc,YAAaH,IAmClF,IAAI9V,EAAKpO,EAAGwK,OAAOC,QAjCnB,WAGE,IAAI39C,EAAGkJ,EAUH7F,EAAGwG,EAZP6xC,aAAe,EAIf17C,GAAKuE,KAAKsyC,SAAS,IAAOtyC,KAAK+1C,SAASj3C,EACxC6F,GAAK3E,KAAKuyC,SAAS,IAAOvyC,KAAK+1C,SAASzwC,EAExCtF,KAAKo3C,QAAUp3C,KAAKizD,gBAAgBjzD,KAAKkzD,UAAWnhB,KAAKt2C,EAAGkJ,IACrC,GAApB3E,KAAK4yC,aAC6C,GAAhDf,UAAU7xC,KAAKw3C,eAAgBzF,KAAKt2C,EAAGkJ,IAAI/B,IAC5C5C,KAAKo3C,QAAU,GAGC,GAAjBp3C,KAAKmzD,UACNr0D,EAAI,GACJwG,EAAI,KAEJxG,EAAQ,EAAJrD,EAAU,EACd6J,EAAQ,EAAJX,EAAU,GAGhB0zC,YAAcC,KAAKx5C,EAAGwG,EAAG,EAAK,MAY9B03C,EAAKrO,EAAGwK,OAAOG,UATjB,WACqB,GAAhBt5C,KAAKo3C,SAAgBmB,QACrBv4C,KAAKmzD,SAAW,GAAOnzD,KAAKo3C,SAAW,EACxCoB,aAAeF,KAAK,EAAK,EAAK,EAAKt4C,KAAKo3C,SAExCoB,aAAeF,MAAM,EAAKt4C,KAAKo3C,QAAS,EAAK,MAK/C/E,EAAK1D,EAAGykB,cAAc,SAAUrW,EAAIC,GAOtC,SAAS+C,IACP,IAAI1N,EAAK1D,EAAGuK,QAAQ,UACpBvK,EAAGsC,YAAYuJ,WAAW,kBAC1B7L,EAAG6E,gBAAgB,kBACnBnB,EAAG8H,QAAQ9H,EAAGoI,WACdpI,EAAG8H,QAAQ9H,EAAGqI,YACdrI,EAAGsI,OAAQtI,EAAG+H,OACd/H,EAAGuI,UAAWvI,EAAGwI,IAAKxI,EAAGwI,KACzBxI,EAAGhC,IAAIC,yBAAyB3B,EAAGuB,UAAUoC,SAAS9B,SAAU,GAChE6B,EAAGhC,IAAIC,yBAAyB3B,EAAGuB,UAAUqC,SAAS/B,SAAU,GAE7D7B,EAAGpV,QAAQh6B,OAAS,GACrB8yC,EAAGhC,IAAIC,yBAAyB3B,EAAGuB,UAAU8B,UAAUxB,SAAU,GAEhE7B,EAAGpV,QAAQh6B,OAAS,GACrB8yC,EAAGhC,IAAIC,yBAAyB3B,EAAGuB,UAAU+B,UAAUzB,SAAU,GACnE7B,EAAGkC,QAAQsiB,SAAW,EAEtB,IAAIvjB,EAAgB,GAyCpB,OAxCAgjB,EAAc/4B,SAAQ,SAAS99B,EAAGN,GAChCkzC,EAAGkC,QAAQqiB,UAAYz3D,EACvB42C,EAAG2H,WAAY,EAAK,EAAK,EAAK,GAC9B3H,EAAG3xC,MAAO2xC,EAAG4H,iBAAmB5H,EAAG6H,kBACnC7H,EAAGgI,SAAS,EAAG,EAAG,EAAI,GAEtB,IAAI1c,EAAS,IAAIzF,aAAa,GAE9Bma,EAAGyI,cAAczI,EAAG6I,SACpB7I,EAAGhC,IAAI8K,yBAAyB9I,EAAG+I,OAAQ,EAAG/L,EAAc,GAAIA,EAAc,IAG9EgD,EAAGgI,SAAS,EAAG,EAAG,EAAI,GACtBhI,EAAGhC,IAAI8K,yBAAyB9I,EAAG+I,OAAQ,EAAG/L,EAAc,GAAIA,EAAc,IAE9EgD,EAAGyI,cAAczI,EAAG4I,SACpB5I,EAAGhC,IAAI8K,yBAAyB9I,EAAG+I,OAAQ,EAAG/L,EAAc,GAAIA,EAAc,IAC9EgD,EAAGoB,WAAW,EAAG,EAAG,EAAG,EAAGpB,EAAGqB,KAAMrB,EAAGwK,MAAOlf,GAE7C,IAAIkgB,EAAYlgB,EAAO,GAAK,EAAKA,EAAO,GAAKA,EAAO,GAClDmgB,EAAYngB,EAAO,GAAK,EAAKA,EAAO,GAAKA,EAAO,GAClDiS,EAAcn0C,GAAK,CAACoiD,EAAUC,MAIhCzL,EAAGgI,SAAS,EAAG,EAAGhL,EAAc,GAAIA,EAAc,GAAGI,GACrD4C,EAAG8H,QAAS9H,EAAG+H,OACf/H,EAAG2H,WAAY,EAAK,EAAK,EAAK,GAC9B3H,EAAG3xC,MAAO2xC,EAAG4H,iBAAmB5H,EAAG6H,kBAEnCvL,EAAGkC,QAAQsiB,SAAW,EAEtBP,EAAc/4B,SAAQ,SAAS99B,EAAGN,GAChCkzC,EAAGkC,QAAQqiB,UAAYz3D,EACvB42C,EAAGgI,SAAS,EAAGhL,EAAc,GAAG5zC,EAAG4zC,EAAc,GAAIA,EAAc,IACnEgD,EAAGhC,IAAI8K,yBAAyB9I,EAAG+I,OAAQ,EAAG/L,EAAc,GAAIA,EAAc,OAGhFgD,EAAGmB,gBAAgBnB,EAAGkJ,YAAa,MAE5B3L,EAoCT,OAjCA+iB,EAAOnX,QAAU,SAASC,GACxB,IAAImX,EAAgBz2D,OAAOwE,KAAK86C,GAC5B4X,EAAoBtT,IACpBpR,EAAGwN,UACLkX,EAAkBx5B,SAAQ,SAAS99B,EAAGN,GACpC,IAAIw0C,EAAUtB,EAAGY,OAAO9oC,QAAQmsD,EAAcn3D,KAC9B,IAAbw0C,IACDtB,EAAGY,OAAO3uC,KAAKgyD,EAAcn3D,IAC7Bw0C,EAAUtB,EAAGY,OAAO9oC,QAAQmsD,EAAcn3D,IAC1CkzC,EAAGqH,aAAe,GAEpBrH,EAAGiC,aAAaX,GAAWl0C,EAC3B4yC,EAAGa,YAAYS,GAAWl0C,EAAE,GAAKA,EAAE,GAAK,KAE1C4yC,EAAGkC,QAAQY,cAAc/0C,MAAMiyC,EAAGiC,cAClCjC,EAAGkC,QAAQW,aAAavc,KAAO0Z,EAAGa,cAItCmjB,EAAOh1B,OAAS,SAAS/E,GACvB,IAAIE,EAAUF,GAAO,GAEnB0a,GADSxa,EAAQ9sB,OACJ8sB,EAAQ/3B,MAAQ4tC,EAAGU,cAAc,GAAIV,EAAGU,cAAc,IACnE7S,EAAM1D,EAAQmX,SAAWnX,EAAQw6B,eAAiB,EAClDrkB,EAAUpxC,KAAKwB,IAAIi0C,EAAY3E,EAAGU,cAAc,IAChDH,EAAUrxC,KAAKW,KAAK80C,EAAW3E,EAAGU,cAAc,IAElDV,EAAG6E,gBAAgB,iBACnB,IAAI7V,EAAS,IAAIzF,aAAa+W,EAAUC,EAAU,GAElD,OADAmD,EAAGoB,WAAW,EAAGpE,EAAc,GAAG7S,EAAKyS,EAASC,EAASmD,EAAGqB,KAAMrB,EAAGwK,MAAOlf,GACrEA,EAAOzxB,QAAO,SAASnQ,EAAGN,GAAI,OAAOA,EAAE,GAAI,MAG7Ck3D,GDpKLjW,SACA/2C,MAAA,EACAwoD,cETW,mBACX,IAAIpX,EAAa,GACbwc,ECEO,SAAiB5kB,EAAIY,EAAQkM,GAQxC,MAAO,CACHxC,UAAY,EAAUtK,GACtBsE,MAAY,EAAMtE,GAClBhpC,MAAY,EAAMgpC,GAClB+N,OAAYA,EAAO/N,GACnBwf,UAAYA,GAAUxf,IDfZ6kB,CAAQ7kB,GAuMtB,OA1KAoI,EAAWkC,UAAY,SAAUwC,GAC7B,GAAGA,EAAKgY,KAAM,CACV,IACIC,GADWj0D,MAAMa,QAAQm7C,EAAKgY,MAAQhY,EAAKgY,KAAO,CAAChY,EAAKgY,OACpCvzD,IAAI,CAACu7C,EAAM7D,IA/BjC,SAAU6D,EAAMkY,GACtB,IAAIC,EACAC,EAEe,iBAARpY,GACPmY,EAAUz3D,OAAOwE,KAAK86C,GAAM,GAC5BoY,EAAWpY,EAAKmY,KAEhBA,EAAUnY,EAEVoY,EAAWh2D,KAAKW,KAAKX,KAAKqN,KAAKyjC,EAAGK,WAAa,GAEnD,IAAI8kB,EAAYnlB,EAAGY,OAAO9oC,QAAQmtD,GAC9BG,EAAYplB,EAAGiC,aAAajC,EAAGY,OAAO9oC,QAAQmtD,IAC9CI,GAAeD,EAAU,GAAKA,EAAU,IAAMF,EAWlD,OATAllB,EAAGkC,QAAQqH,UAAUjjB,KAAK0+B,GAAYE,EACtCllB,EAAGkC,QAAQsH,cAAcljB,KAAK0+B,GAAYK,EAC1CrlB,EAAGa,YAAYskB,GAAaD,EAC5BllB,EAAGrV,UAAUs6B,GAAW,GACxBjlB,EAAGrV,UAAUs6B,GAAS15B,MAAQ,YAC9ByU,EAAGrV,UAAUs6B,GAASxpD,SAAW4pD,EACjCrlB,EAAGrV,UAAUs6B,GAASv0D,IAAM00D,EAAU,GACtCplB,EAAGrV,UAAUs6B,GAASx0D,IAAM20D,EAAU,GACtCplB,EAAG4U,WAAW3iD,KAAKgzD,GACZA,EAOQK,CAAIxY,EAAM7D,IAElB6D,EAAKK,OACJL,EAAKK,OAAS4X,EAASxnD,OAAOtJ,IAAiC,IAA5B64C,EAAKK,OAAOr1C,QAAQ7D,IAAWuzB,OAAOslB,EAAKK,QAE9EL,EAAKK,OAAS4X,EAetB,OAZGv3D,OAAOwE,KAAKguC,EAAG2Q,cAAc//C,SAC5BovC,EAAGkC,QAAQ+B,YAAc,GAIxB2gB,EAAQj2D,eAAe,eACxBi2D,EAAQta,UAAY,GAASA,UAAUtK,EAAI8M,IAE/C8X,EAAQta,UAAUuC,QAAQC,GACD,iBAAdA,EAAQ,KACf9M,EAAGulB,UAAUzY,EAAKxyC,KAEfsqD,EAAQta,UAAUtb,QAG7BoZ,EAAWpxC,MAAQ,SAAS81C,GAKxB,OAJK8X,EAAQj2D,eAAe,WACxBi2D,EAAQ5tD,MAAQ,GAASA,MAAMgpC,IAEnC4kB,EAAQ5tD,MAAM61C,QAAQC,GACf8X,EAAQ5tD,MAAMg4B,QAGzBoZ,EAAW9D,MAAQ,SAAS4C,GAKxB,OAJK0d,EAAQj2D,eAAe,WACxBi2D,EAAQtgB,MAAQ,GAASA,MAAMtE,IAEnC4kB,EAAQtgB,MAAMuI,QAAQ3F,GACf0d,EAAQtgB,MAAMtV,QAGzBoZ,EAAW4b,OAAS,SAASlX,GAOzB,OALI9M,EAAGwN,UACHoX,EAAQZ,OAAS,GAASA,OAAOhkB,EAAI8M,IAGzC8X,EAAQZ,OAAOnX,QAAQC,GAChB8X,EAAQZ,OAAOh1B,QAG1BoZ,EAAWoX,UAAY,SAASlM,GAG5B,IAAIkS,EACAC,EAAQnS,EAAKoS,OAEjB,GAAGD,EAAO,CACN,IAAI3Y,EAAO2Y,EAAMp4B,MAAQo4B,EAAMr7B,QAC/B,QAAoBh3B,IAAjBqyD,EAAME,OAAsB,CAC3B,IAAIC,EAAUp4D,OAAOwE,KAAKyzD,EAAME,QAAQ,GACpCE,EAAWJ,EAAME,OAAOC,GACxB52B,EAASgR,EAAGmjB,aAAa,OACzB2C,EAAShZ,EAAK+Y,GAAUt0D,IAAKqvC,IAC7B,IAAI1uC,EAAS88B,EAAOz9B,IAAI3D,GAAKA,EAAEgzC,IAC3BlwC,EAAMxB,KAAKwB,OAAOwB,GAClBzB,EAAMvB,KAAKuB,OAAOyB,GAClB6zD,EAAmB7zD,EAAOX,IAAKy0D,IAAQA,EAAMt1D,IAAQD,EAAMC,IAC/C,QAAZk1D,IAAmBA,EAAU,YACjC,IAAI72B,EAAoC,mBAAvB,EAAS62B,GAA2BA,EAAU,MAC/D,MAAO,CACHv4D,KAAMuzC,EACN7yC,MAAO,EAASghC,GAAKg3B,MAG5Bh4B,KAAK,CAAC95B,EAAGD,IAAMA,EAAEjG,MAAQkG,EAAElG,OAC5B++C,EAAK+Y,GAAYC,EAAOv0D,IAAI3D,GAAKA,EAAEP,MAEvC,IAAI41D,EAAYz1D,OAAOwE,KAAKshD,GAAM/1C,OAAO5I,GAAW,WAANA,GAAwB,cAANA,GAC5DsxD,EAAYz4D,OAAOwE,KAAK86C,GACxBoZ,EAAeh3D,KAAKwB,OAAOu1D,EAAU10D,IAAImL,GAAKowC,EAAKpwC,GAAG9L,SAE1D40D,EAAQ,IAAI10D,MAAMo1D,GAClB,IAAI,IAAIp5D,EAAI,EAAGA,EAAIo5D,EAAcp5D,IAAK,CAClC,IAAIq5D,EAAO,GACXlD,EAAU/3B,QAAQk7B,IACd,IAAI55B,EAAKy5B,EAAUnuD,QAAQw7C,EAAK8S,IAEhCD,EAAKC,GADF55B,EAAK,EACK8mB,EAAK8S,GAELtZ,EAAKmZ,EAAUz5B,IAAK1/B,KAGrC04D,EAAM14D,GAAKq5D,EACRV,EAAMxgB,OAAe,IAANn4C,IACd04D,EAAM14D,GAAGm4C,MAAQwgB,EAAMxgB,MACvBugB,EAAM14D,GAAGm4C,MAAMwgB,MAAQ,cAI/BD,EAAQ10D,MAAMa,QAAQ2hD,GAAQA,EAAO,CAACA,GAGvCtT,EAAGmX,KAAK4J,MAAMnwD,OAAS40D,EAAM50D,SAC5BovC,EAAGmX,KAAKr+B,QACRknB,EAAG+gB,MAAQ/gB,EAAGmX,KAAKkP,cAAc,CAC7BpL,OAASwK,EAAMp4B,KAAO,OAAS,UAC/BvyB,MAAO0qD,EAAM50D,OACb2G,MAAOyoC,EAAG0L,SAAS,GACnBrG,OAAQrF,EAAG0L,SAAS,GACpB33C,QAASisC,EAAGjsC,QACZ6lD,UAAWtG,EAAKsG,aAGxB4L,EAAMt6B,QAAS,CAACooB,EAAM9mB,KAOlB,GANKo4B,EAAQj2D,eAAe,eACxBi2D,EAAQpF,UAAY,GAASA,UAAUxf,IAEvCsT,EAAK+O,IACLriB,EAAGsmB,SAAShT,EAAK+O,IAEjB/O,EAAK0P,KAAM,CACX,IAAIa,EAAUvQ,EAAO,GAAIA,EAAKz3B,GAAK,cAAgBmkB,EAAG+gB,MAAMnwD,OAC5D0iD,EAAK0P,KAAKnnC,GAAKgoC,EACf,MAAM0C,EAAMvmB,EAAG+gB,MAAMxvD,IAAInE,GAAKA,EAAEyuB,IAAI/jB,QAAQ+rD,IAC/B,IAAT0C,EACAvmB,EAAG+gB,MAAM9uD,KAAKqhD,EAAK0P,MAEnBhjB,EAAG+gB,MAAMwF,GAAOjT,EAAK0P,KAI7B,IAAInC,EAAYr0B,EAChB,GAAqB,iBAAX8mB,EAAKz3B,KACXglC,EAAY7gB,EAAG+gB,MAAMxvD,IAAInE,GAAGA,EAAEyuB,IAAI/jB,QAAQw7C,EAAKz3B,KAC9B,GAAdglC,GAEC,IAAI,IAAIr0B,EAAK,EAAGA,EAAKwT,EAAG+gB,MAAMnwD,OAAQ47B,IAClC,IAAIwT,EAAG+gB,MAAMv0B,GAAI3Q,GAAI,CACjBglC,EAAYr0B,EACZwT,EAAG+gB,MAAMF,GAAWhlC,GAAKy3B,EAAKz3B,GAC9B,MAMA,OAAby3B,EAAKe,OAAef,EAAKh8C,MAAO,GACnC0oC,EAAG+gB,MAAMF,GAAWvN,KAAOA,EAC3B,IAAIM,EAAWN,EACXkT,EAAUxmB,EAAG+gB,MAAMF,GAAWhlC,GAE/BmkB,EAAGwN,SAAWxN,EAAGymB,UAAU93D,eAAe63D,IACtCxmB,EAAGymB,UAAUD,GAAS73D,eAAeqxC,EAAG0mB,iBACvC9S,EAAWpmD,OAAOkrB,OAAO,GAAI46B,EAAMtT,EAAGymB,UAAUD,GAASxmB,EAAG0mB,iBAG5C,IAArB9S,EAAS77B,UACR6sC,EAAQpF,UAAU,CACdlM,KAAMM,EACNiN,UAAWA,IAEf7gB,EAAG2mB,aAGX3mB,EAAGlnB,SAGAsvB,GE7MP,GAAQ,GACZ,SAAStZ,GAAQ7jB,EAAO8jB,GACpB,IAGIC,EAEJ,IAJU/jB,EAAMra,OAIP,OAAO,EAEhB,OAAQm+B,GACJ,IAAK,MACDC,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAQC,EAAID,EAAKC,EAAID,KAEzB,MACJ,IAAK,MACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAQC,EAAID,EAAKC,EAAID,KAEzB,MACJ,IAAK,MACL,IAAK,IACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAEf,MACJ,IAAK,KACL,IAAK,IACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAEf,MACJ,IAAK,OACL,IAAK,IACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAEf,MACJ,QACIg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAKvB,OAAOg7B,EAGX,GAAMC,OAAS,SAASF,GACpB,OAAO,SAAS9jB,GACZ,IAAIhX,EAAKgX,aAAiBna,MAASma,EAAQna,MAAMkC,MAAM,KAAM5B,WAC7D,OAAO09B,GAAQ76B,EAAG86B,KAI1B,GAAM9B,IAAM,SAAShiB,GACjB,OAAO6jB,GAAQ7jB,EAAO,KAAOA,EAAMra,QAIvC,GAAM0E,UAAY,SAAS2V,GACvB,IAAIxa,EAAMq+B,GAAQ7jB,EAAO,OACrBva,EAAMo+B,GAAQ7jB,EAAO,OACrB9Z,EAAQV,EAAMC,EAElB,OAAOua,EAAM1Z,KAAI,SAAS0C,GACtB,OAAQA,EAAIvD,GAAOS,MAI3B,GAAM+9B,IAAM,SAASt7B,EAAO4J,EAAK2xB,GAI7B,IAHA,IAAI1zB,EAAW0zB,GAAQ,EACnBlkB,EAAQ,GAEJne,EAAE8G,EAAO9G,GAAG0Q,EAAK1Q,GAAG2O,EACxBwP,EAAMhZ,KAAKnF,GAEf,OAAOme,GAGX,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAMigB,SAAQ,SAAS15B,GACjD,GAAMA,GAAK,GAAMy9B,OAAOz9B,MAG5B,GAAMukC,IAAM,GAAM9G,OAAO,KAEzB,GAAMG,KAAO,GAAMC,MAAQ,SAASp7B,GAIhC,IAHA,IAAIo7B,EAAQ,GACRC,EAAQ,EAEHxiC,EAAI,EAAGA,EAAImH,EAAErD,OAAQ9D,IAC1BwiC,GAASr7B,EAAEnH,GACXuiC,EAAMp9B,KAAKq9B,GAGf,OAAOD,GAGX,GAAME,MAAQ,SAASt7B,GACnB,OAAO,GAAMm7B,KAAK,CAAC,GAAG5H,OAAOvzB,KAGjC,GAAMu7B,KAAO,SAASv7B,EAAGD,GACrB,IAAIy7B,EAAa,GAMjB,OALAx7B,EAAEi3B,SAAQ,SAAS99B,IACK,IAAhB4G,EAAE8D,QAAQ1K,IACVqiC,EAAWx9B,KAAK7E,MAGjBqiC,GAGX,GAAMC,UAAY,SAASz7B,EAAGD,GAC1B,IAAIhG,EAEJ,OADIgG,EAAEpD,OAASqD,EAAErD,SAAQ5C,EAAIgG,EAAGA,EAAIC,EAAGA,EAAIjG,GACpCiG,EAAEsJ,QAAO,SAAU1C,GAClB,IAAsB,IAAlB7G,EAAE8D,QAAQ+C,GAAW,OAAO,MAI5C,GAAM80B,OAAS,SAAS17B,GACpB,OAAOA,EAAEg7B,QAAO,SAASj7B,EAAG7G,GAExB,OADI6G,EAAE8D,QAAQ3K,GAAK,GAAG6G,EAAE/B,KAAK9E,GACtB6G,IACR,KAGP,GAAM47B,IAAM,SAASlI,GAEjB,IADA,IAAIn5B,EAAIm5B,EAAE92B,OAAQqD,EAAI/E,KAAKO,IAAIi4B,EAAE,IACxB56B,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAExB,IADA,IAAIkH,EAAI9E,KAAKO,IAAIi4B,EAAE56B,IAAKK,EAAI8G,EACrBA,GAAKD,GAAKC,EAAID,EAAKC,GAAKD,EAAIA,GAAKC,EACxCA,EAAI/E,KAAKO,IAAItC,EAAEu6B,EAAE56B,KAAKmH,EAAED,GAE5B,OAAOC,GAGX,GAAM24B,MAAQ,SAAS3hB,GACnB,MAAO,CACHxa,IAAKq+B,GAAQ7jB,EAAO,OACpBva,IAAKo+B,GAAQ7jB,EAAO,OACpBgiB,IAAKhiB,EAAMgiB,IAAIhiB,KAIvB,GAAM4kB,UAAY,SAAS5kB,EAAO6kB,EAAQC,EAAMC,GAU5C,IATA,IAAIjjC,EAAIke,EAAMra,OACVF,EAAuB,iBAAV,EAAsBs/B,EAAOlB,GAAQ7jB,EAAO,OAEzD9Z,GADuB,iBAAV,EAAsB4+B,EAAOjB,GAAQ7jB,EAAO,QAC3Cva,EAEdu/B,EAAO,GAEPC,EAAK,IAAIp/B,MAAMg/B,EAAO,GAAG14B,KAAK,GAE1BpD,EAAI,EAAGA,EAAI87B,EAAQ97B,IACvBi8B,EAAKh+B,KAAK,CAACvB,EAAMS,GAAS6C,EAAE,GAAWtD,EAAMS,GAAO6C,EAAE,GAAG,IAM7D,IAAI,IAAIlH,EAAI,EAAGA,EAAIC,EAAGD,IAClBqjC,MAAQjhC,KAAKa,OAAQkb,EAAMne,GAAK4D,GAAOS,EAAQ,GAC/C++B,EAAGC,SAMP,OAFAD,EAAGJ,EAAO,IAAMI,EAAGJ,GAEZ,CACHG,KAAMA,EACNG,OAAQF,EAAGn/B,MAAM,EAAE++B,KAK3B,GAAM82B,IAAM,SAAS96B,GACjB,IAAI5+B,EAAI4hC,GAAQhD,EAAU,KAAOA,EAASl7B,OAG1C,OAAOk+B,GAFEhD,EAASv6B,KAAI,SAAS0C,GAAI,OAAO/E,KAAKc,IAAIiE,EAAE/G,EAAG,MAErC,MAAQ4+B,EAASl7B,OAAS,IAGjD,GAAM0/B,IAAM,SAASxE,GACjB,OAAO58B,KAAKkB,KAAK,GAAMw2D,IAAI96B,KAGhB,UC1LA,mBACX,IAAIh/B,EAGAw4D,EAIAuB,EANA95D,EAAIu5B,EAAK11B,OACT05B,EAAaw8B,GAAWt5D,OAAOwE,KAAKs0B,EAAK,IAEzC2J,EAAO,GACP82B,EAAgB,GAChB/3B,EAAS,GAGb,IAAI8d,EAAKn+C,eAAe,YAAcm+C,EAAKn+C,eAAe,QAAS,OAAOqgC,EAE1E,GAAuB,iBAAb8d,EAAKgY,KAAkB,CAC7B,IAAIG,EAAUz3D,OAAOwE,KAAK86C,EAAKgY,MAAM,GACjCI,EAAWpY,EAAKgY,KAAKG,GAEzB,IAAoC,IAAjC36B,EAAWxyB,QAAQmtD,GAAiB,CACnC,IAAI+B,EAAS1gC,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAE63D,MACvCv0D,EAAM,GAAUA,IAAIs2D,GAEpB3B,GADM,GAAU50D,IAAIu2D,GACCt2D,GAAOw0D,EAEhC,IAAIp4D,EAAI,EAAGA,EAAIC,EAAGD,IACdw5B,EAAKx5B,GAAG,OAASm4D,GAAW/1D,KAAKwB,IAAIxB,KAAKa,MAAMu2B,EAAKx5B,GAAGm4D,GAASI,GAAcH,EAAS,GAG5FpY,EAAKK,OAAS,OAAS8X,EACvB36B,EAAWr4B,KAAK,OAASgzD,IAIjC,IAAIn4D,EAAI,EAAGA,EAAIC,EAAGD,IACXgE,MAAMa,QAAQm7C,EAAKK,SAClB0Z,EAAK,GACL/Z,EAAKK,OAAOjiB,SAAQ,SAASkR,GACzByqB,EAAG50D,KAAKq0B,EAAKx5B,GAAGsvC,OAEpBkpB,EAAM2B,KAAKC,UAAUL,IAErBvB,EAAMh/B,EAAKx5B,GAAGggD,EAAKK,QAEnBld,EAAKn4B,QAAQwtD,GAAO,GACpBr1B,EAAKh+B,KAAKqzD,GACVyB,EAAczB,GAAO,CAACh/B,EAAKx5B,KAE3Bi6D,EAAczB,GAAKrzD,KAAKq0B,EAAKx5B,IAIrC,IAAIq7B,EAAK8H,EAAKr/B,OAEd,IAAI9D,EAAI,EAAGA,EAAIq7B,EAAIr7B,IAAI,CACnB,IAAIy3C,EAAM,GAeV,GAdGzzC,MAAMa,QAAQm7C,EAAKK,SAClB0Z,EAAKI,KAAKt/C,MAAMsoB,EAAKnjC,IACrBggD,EAAKK,OAAOjiB,SAAQ,SAASr8B,EAAGmH,GAC5BuuC,EAAI11C,GAAKg4D,EAAG7wD,OAIhBuuC,EAAIuI,EAAKK,QAAUld,EAAKnjC,GAGzBggD,EAAKqa,QACJ5iB,EAAIje,KAAOygC,EAAc92B,EAAKnjC,KAG/BggD,EAAKK,OAAQ,CACZ,IAAIia,EAAQt2D,MAAMa,QAAQm7C,EAAKK,QAAUL,EAAKK,OAAS,CAACL,EAAKK,QAE7Dia,EAAMl8B,SAAQ,SAASm8B,GACnB,IAA+B,IAA5B/8B,EAAWxyB,QAAQuvD,GAClB,MAAMnwD,MAAM,2BAA4BmwD,MAKpD,IAAI/sD,EAAMwyC,EAAKE,UAAYF,EAAKG,SAAW,GACvCj7C,EAAOxE,OAAOwE,KAAKsI,GAAKiD,OAAO5I,IAA2D,IAAtD,CAAC,WAAY,WAAY,aAAamD,QAAQnD,IAClF2yD,GAAS,EACb,GAAIhtD,EAAIoxB,SAAU,CACd,IAAI67B,EAAgC,MAAjBjtD,EAAIoxB,SAAoBl+B,OAAOwE,KAAKs0B,EAAK,IAAI/oB,OAAO5I,IAA2B,IAAtByyD,EAAMtvD,QAAQnD,KAAkC,IAArB3C,EAAK8F,QAAQnD,IAC9G2F,EAAIoxB,SACV47B,EAAShtD,EAAIktD,WAAa,OAC1Bx1D,EAAOA,EAAKw1B,OAAO+/B,GAMvB,GAJIz2D,MAAMa,QAAQ2I,EAAImtD,YACnBz1D,EAAOA,EAAKuL,OAAO4mB,IAAwC,IAAhC7pB,EAAImtD,SAAS3vD,QAAQqsB,KAGhC,IAAhBnyB,EAAKpB,SAAiBk8C,EAAKqa,MAAO,OAAOn4B,EAC5Ch9B,EAAKk5B,SAAQ,SAAS78B,GAClB,IAAI81B,EAAO91B,EACP0gC,EAAMz0B,EAAIjM,IAAQi5D,EAKtB,GAHW,WAARv4B,GAA4B,UAARA,IACnB5K,EAAO91B,GAEY,iBAAbiM,EAAIjM,KACV0gC,EAAMvhC,OAAOwE,KAAKsI,EAAIjM,IAAM,GAC5B81B,EAAO7pB,EAAIjM,GAAK0gC,IAEiB,IAA9BzE,EAAWxyB,QAAQqsB,IAAyB,MAATA,GAAiBrzB,MAAMa,QAAQwyB,KAOzE,GAAkB,mBAAR4K,EAENwV,EAAIl2C,GAAO0gC,EAAI9hC,KAAK,KAAM85D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAEkwB,YACxE,GAAkB,iBAAR4K,EACb,GAAW,YAARA,EACCwV,EAAIl2C,GAAO,GAAUshC,OAAOo3B,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAE5F,YAC1E,GAAY,UAAR0gC,EACPwV,EAAIl2C,GAAO04D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAEkwB,WACzD,GAAY,WAAR4K,EACPwV,EAAIl2C,GAAO04D,EAAc92B,EAAKnjC,IAAI,GAAGq3B,QAClC,GAAY,WAAR4K,EAAkB,CACzB,IAAI24B,EAAe,GACnBX,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAEkwB,MAAU+G,SAAQ,SAASh+B,GACxEw6D,EAAeA,EAAalgC,OAAOt6B,MAEvCq3C,EAAIl2C,GAAOq5D,OACR,GAAY,WAAR34B,EACPwV,EAAIl2C,GAAO04D,EAAc92B,EAAKnjC,IAAI8D,YAC/B,GAAY,UAARm+B,EAAiB,CACxB,IAAI44B,EAAW7a,EAAa,SAAI,WAAa,UAC7CvI,EAAIl2C,GAAmC,KAA3By+C,EAAK6a,GAASt5D,GAAK0gC,GACzBg4B,EAAc92B,EAAKnjC,IACnBi6D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS+0B,GAClC,IAAI0F,EAAM,GAEV,OADA8gB,EAAKz+C,GAAK0gC,GAAK7D,SAAQ,SAASv2B,GAAIq3B,EAAIr3B,GAAK2xB,EAAK3xB,MAC3Cq3B,SAEZ,CACH,IAAI47B,EAAQ74B,EAAIh+B,MAAM,GAEnB62D,KAAS,KACRrjB,EAAIl2C,GAAO,GAAUu5D,GAAO36D,KAAK,KAAM85D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GACvE,OAAOA,EAAEkwB,aA3CzB,CAKQ,IAAI0jC,EAAU,oEAAsEx5D,EAAM,IAAMy+C,EAAKz+C,GACrG89B,QAAQ27B,KAAKD,OA2CzB74B,EAAO/8B,KAAKsyC,GAGhB,OAAOvV,GCxJI,SAAS,GAAM1I,EAAMwmB,GAChC,IAAIliB,EAAUtE,EAAK,GAInB,OAFIx1B,MAAMa,QAAQi5B,KAAUA,EAAU,IAE/BtE,EAAK/oB,QAAO,SAAStJ,GACxB,GAIR,SAAS8zD,EAAO1gC,EAAKylB,EAAMliB,GACvB,IAAI5zB,EACA+3B,EACAp8B,EACAq1D,GAAM,EAyCV,OAxCWx6D,OAAOwE,KAAK86C,GAElB5hB,SAAQ,SAAS78B,GACP,SAARA,EACC2I,GAAS+wD,EAAO1gC,EAAKylB,EAAKz+C,GAAMu8B,GACnB,OAAPv8B,GAAuB,QAAPA,GACtB2I,EAAgB,QAAP3I,EACTy+C,EAAKz+C,GAAK68B,SAAQ,SAASr8B,GACvBmI,EAAgB,QAAP3I,EAAiB2I,EAAQ+wD,EAAO1gC,EAAKx4B,EAAG+7B,GAAW5zB,EAAQ+wD,EAAO1gC,EAAKx4B,EAAG+7B,QAGvFj4B,EAASi4B,EAAQh6B,OAAS,EAAKg6B,EAAQ9yB,QAAQzJ,GAAOA,EAE9B,iBAAdy+C,EAAKz+C,GAGE,MAFb0gC,EAAMvhC,OAAOwE,KAAK86C,EAAKz+C,IAAM,IAEtB,IAAay+C,EAAKz+C,GAAK0gC,aAAgBj+B,MAChC,OAAPi+B,GAAuB,QAAPA,EACf/3B,EAAiB,QAAP+3B,EAAkB+d,EAAKz+C,GAAK0gC,GAAKj3B,QAAQuvB,EAAI10B,KAAW,EACrD,YAAPo8B,EACN/3B,EAAQqwB,EAAIh5B,IAAQy+C,EAAKz+C,GAAK0gC,GAAK,GAAK1H,EAAI10B,IAAUm6C,EAAKz+C,GAAK0gC,GAAK,GACxD,aAAPA,EACN/3B,EAAQqwB,EAAIh5B,GAAOy+C,EAAKz+C,GAAK0gC,GAAK,GAAK1H,EAAI10B,GAASm6C,EAAKz+C,GAAK0gC,GAAK,GACtD,WAAPA,IACN/3B,EAAS81C,EAAKz+C,GAAK0gC,GAAKx9B,IAAIqH,QAAQd,SAAUuvB,EAAI10B,KAAY,GAE5Dm6C,EAAKz+C,aAAgByC,QAC3BkG,EAAQqwB,EAAIh5B,IAAQy+C,EAAKz+C,GAAK,GAAKg5B,EAAI10B,IAAUm6C,EAAKz+C,GAAK,IAI3D2I,EADgB,MAAjB81C,EAAKz+C,GAAK,GACAg5B,EAAIylB,EAAKz+C,GAAK0C,MAAM,MAAQs2B,EAAI10B,GAEhCm6C,EAAKz+C,IAAQg5B,EAAI10B,IAItCq1D,GAAYhxD,KAGTgxD,EAjDAD,CAAO9zD,EAAG64C,EAAMliB,GAAU,OAAO32B,KCF5C,IAAIg0D,GAAQ,GACZA,GAAMjxD,MAAQ,GACdixD,GAAMzvD,MAAQ,GAEdyvD,GAAMC,QAAU,SAAS5hC,EAAMzK,GAC3B,IAAIssC,EAAU,GASd,OARA7hC,EAAK4E,SAAQ,SAAS99B,GACd+6D,EAAQx5D,eAAevB,EAAEyuB,IAGzBssC,EAAQ/6D,EAAEyuB,IAAK5pB,KAAK7E,GAFpB+6D,EAAQ/6D,EAAEyuB,IAAO,CAAEzuB,UAIhBA,EAAEyuB,MAENssC,GAOXF,GAAM92D,MAAQ,SAASm1B,EAAMzK,GACzB,IAAI5Q,EAAQqb,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEyuB,MAC1C,MAAO,CAAE,GAAUnrB,IAAIua,GAAQ,GAAUxa,IAAIwa,KAGjDg9C,GAAM12D,IAAM,SAAS+0B,EAAMp5B,GACvB,IAAIk7D,EAAK,SAASh7D,GAAG,OAAOA,GAM5B,MALgB,iBAANF,EACNk7D,EAAK,SAASh7D,GAAG,OAAOA,EAAEF,IACT,mBAANA,IACXk7D,EAAKl7D,GAEFo5B,EAAK/0B,IAAI62D,IAYpBH,GAAMtC,OAAS,SAASr/B,EAAMwmB,GAC1B,SAASub,EAAUp0D,EAAGD,EAAGpF,GACrB,OAAOqF,EAAErF,GAAKoF,EAAEpF,GAAK,EAAIqF,EAAErF,GAAKoF,EAAEpF,IAAM,EAAI,EAEhD,OAAO03B,EAAKyH,MAAK,SAAS95B,EAAGD,GAMzB,IALA,IAAIpG,EAAI,EACJd,EAAI,EACJw9B,EAAa98B,OAAOwE,KAAK86C,GACzBwb,EAAKh+B,EAAW15B,OAEP,IAANhD,GAAWd,EAAIw7D,GAClB16D,EAAIy6D,EAAUp0D,EAAGD,EAAGs2B,EAAWx9B,IAAMggD,EAAKxiB,EAAWx9B,IACrDA,IAEJ,OAAOc,MAIfq6D,GAAMM,QAAU,SAASp7D,EAAG0B,EAAGtB,GAC3B,IAAIu/C,EAAO,GAIX,OAHAj+C,EAAEq8B,SAAQ,SAASs9B,GACf1b,EAAK0b,GAAMj7D,KAER06D,GAAMl6B,KAAK5gC,EAAG2/C,IAGzBmb,GAAMp4B,UAAY,SAASvJ,EAAMwmB,EAAMr8C,EAAKC,GACxC,IAAIs+B,EAAS,GACb,IAAI,IAAI3gC,KAAOy+C,EACX9d,EAAO3gC,GAAO,GAAUwhC,UAAUvJ,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEiB,MAAQy+C,EAAKz+C,GAAMoC,EAAKC,GAE5F,OAAOs+B,GAGXi5B,GAAMQ,aAAe,SAASniC,EAAMwmB,GAchC,IAbA,IAAI4b,EAAUl7D,OAAOwE,KAAK86C,GAAM,GAC5BxiB,EAAa98B,OAAOwE,KAAK86C,GAAMvvC,QAAO,SAAS5I,GAAK,MAAY,SAALA,GAAgBA,GAAG+zD,MAAc,GAC5FC,EAAY7b,EAAKqa,QAAS,EAC1Br3B,EAASgd,EAAK4b,GACdz9C,EAAQqb,EAAK/0B,KAAI,SAASnE,GAAI,OAAOA,EAAEs7D,MACvC37D,EAAIke,EAAMra,OACVF,EAAM,GAAUA,IAAIua,GAEpB9Z,EADM,GAAUV,IAAIwa,GACNva,EAEdu/B,EAAO,GAGHj8B,EAAI,EAAGA,EAAI87B,EAAQ97B,IACvBi8B,EAAKj8B,GAAK,CAACm8B,MAAOn8B,EAAG40D,WAAYl4D,EAAMS,GAAS6C,EAAE,GAAW60D,SAAUn4D,EAAMS,GAAO6C,EAAE,GAAG,EAAU8G,MAAO,GAEtGm1B,EAAKj8B,GAAGsyB,KAAO,GAQvB,IAAI,IAAIx5B,EAAI,EAAGA,EAAIC,EAAGD,IAClBqjC,MAAQjhC,KAAKa,OAAQkb,EAAMne,GAAK4D,GAAOS,EAAQ,GAC5Cg/B,OAASL,GAAQK,QACpB7J,EAAKx5B,GAAGqjC,MAAQA,MAEZF,EAAKE,OAAO7J,KAAKr0B,KAAKq0B,EAAKx5B,IAOnCggD,EAAKgc,IAAM,eACJhc,EAAK4b,GAEZ,IAAI15B,EAASi5B,GAAMzvD,MAAM8tB,EAAMwmB,GAyB/B,OAxBA9d,EAASi5B,GAAMC,QAAQl5B,EAAQ,SAQ/BiB,EAAK/E,SAAQ,SAASo6B,GAEft2B,EAAOrgC,eAAe22D,EAAIn1B,QACzB7F,EAAWY,SAAQ,SAAS/G,GACxBmhC,EAAInhC,GAAQ6K,EAAOs2B,EAAIn1B,OAAO,GAAGhM,MAElCwkC,IAAWrD,EAAIh/B,KAAO0I,EAAOs2B,EAAIn1B,OAAO,GAAG7J,OAE9CgE,EAAWY,SAAQ,SAAS/G,GACxBmhC,EAAInhC,GAAQ,QAOjB8L,GAGXg4B,GAAMc,UAAY,SAASziC,EAAM0iC,GAM7B,IALA,IAEIC,EAFAr7B,EAAMtH,EAAK11B,OACXhC,EAAIM,KAAKW,KAAK+9B,EAAMo7B,GAEpBE,EAAa,GAETl1D,EAAI,EAAGA,EAAIg1D,EAASh1D,IACxBk1D,EAAWl1D,GAAK,CAAC+0D,UAAW/0D,EAAGsyB,KAAM,GAAIxrB,MAAO,GAGpD,IAAI,IAAIhO,EAAI,EAAGA,EAAI8gC,EAAK9gC,IAEpBo8D,EADAD,EAAM/5D,KAAKa,MAAMjD,EAAI8B,IACL03B,KAAKr0B,KAAKq0B,EAAKx5B,IAC/Bo8D,EAAWD,GAAKnuD,QAGpB,OAAOouD,GAGXjB,GAAMkB,YAAc,SAAS7iC,EAAMwmB,GAC/B,IACImc,EADAr7B,EAAMtH,EAAK11B,OAEXs4D,EAAa,GACb76D,EAAMb,OAAOwE,KAAK86C,GAAM,GACxB6L,EAAQ7L,EAAKz+C,GAEjBsqD,EAAMztB,SAAQ,SAASl3B,EAAGo1D,GACtBF,EAAWE,GAAM,CAACL,UAAWK,EAAI9iC,KAAM,GAAIxrB,MAAO,EAAGzN,KAAM2G,MAG/D,IAAI,IAAIlH,EAAI,EAAGA,EAAI8gC,EAAK9gC,KACpBm8D,EAAMtQ,EAAM7gD,QAAQwuB,EAAKx5B,GAAGuB,MACpB,IACJ66D,EAAWD,GAAK3iC,KAAKr0B,KAAKq0B,EAAKx5B,IAC/Bo8D,EAAWD,GAAKnuD,SAGxB,OAAOouD,GAGXjB,GAAM3yD,UAAY,SAASgxB,EAAMsa,GAC7B,IAAIyoB,EAAO,GAaX,OAXAzoB,EAAO1V,SAAQ,SAAS15B,GACpB,IAAIyZ,EAAQqb,EAAK/0B,KAAI,SAASnE,GAAI,OAAOA,EAAEoE,MAC3C63D,EAAK73D,GAAK,GAAU8D,UAAU2V,MAGlCqb,EAAK4E,SAAQ,SAAS99B,EAAGN,GACrB8zC,EAAO1V,SAAQ,SAAS15B,GACpBpE,EAAEoE,GAAK63D,EAAK73D,GAAG1E,SAIhBw5B,GAGX2hC,GAAMqB,cAAgB,SAAShjC,GAC3B,IAAIijC,EAAc,GAalB,OAZIj/B,WAAa98B,OAAOwE,KAAKs0B,EAAK,IAAI/oB,QAAO,SAAS5I,GAAK,OAAOA,KAElE21B,WAAWY,SAAQ,SAAS/G,GACxBolC,EAAYt3D,KAAKq0B,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAE+2B,UAGnDolC,EAAY3oB,OAAStW,WAErBA,WAAWY,SAAQ,SAAS/G,EAAMqJ,GAC9B+7B,EAAYplC,GAAQolC,EAAY/7B,MAG7B+7B,GC5NX,SAAS,GAAMjjC,EAAMsa,GAEjB,IAAI9vC,MAAMa,QAAQ20B,GACd,MAAM,IAAIpvB,MAAM,+BAEpB,IAAI83B,EAAS,GAYb,OAVA4R,EAAO1V,SAAQ,SAAS15B,GACpB,IAAIyC,EAAIqyB,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEoE,MACtCw9B,EAAOx9B,GAAK,CACRd,IAAK,GAAMA,IAAIuD,GACfxD,IAAK,GAAMA,IAAIwD,GACfg5B,IAAK,GAAMA,IAAIh5B,GACfq8B,IAAK,GAAMA,IAAIr8B,OAIhB+6B,EAIX,GAAM9B,QAAU,SAAS5G,EAAMsa,GAC3B,IAAI9vC,MAAMa,QAAQ20B,GACd,MAAM,IAAIpvB,MAAM,+BAEpB,IAAI83B,EAAS,GAOb,OALA4R,EAAO1V,SAAQ,SAAS15B,GACpB,IAAIyC,EAAIqyB,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEoE,MACtCw9B,EAAOx9B,GAAK,CAAE,GAAMd,IAAIuD,GAAI,GAAMxD,IAAIwD,OAGnC+6B,GCMI,I,2CClCf,MAAMw6B,GAAO,CACXzG,KAAM,GACN71B,QAAS,GACTomB,KAAM,IAGFmW,GAAO,CACXtkB,UAAW,KACXC,IAAK,KACLC,OAAQ,IACR9tC,MAAO,IACPmyD,MAAM,GAGO,MAAM,GACnB,YAAYpjC,EAAOkjC,GAAMxG,EAAOyG,IAC9Bp4D,KAAKi1B,KAAOA,EACZj1B,KAAK2xD,KAAOA,EACZ3xD,KAAK8zC,UAAY6d,EAAK7d,UACtB9zC,KAAK0C,QAAUivD,EAAKjvD,SAAW,CAAC8oC,IAAK,EAAGC,OAAQ,EAAGlzB,KAAM,EAAGX,MAAO,GACnE5X,KAAKg0C,OAAS2d,EAAK3d,OACnBh0C,KAAKkG,MAAQyrD,EAAKzrD,MAClBlG,KAAK+zC,IAAM,GACX/zC,KAAKwB,MAAQyzB,EAAKzzB,OAAS,GAC3BxB,KAAK67B,QAAU5G,EAAK4G,SAAW,GACC,iBAArB77B,KAAKi1B,KAAKkE,SACnBn5B,KAAKi1B,KAAKsa,OAASpzC,OAAOwE,KAAKX,KAAKi1B,KAAKkE,SAEvCw4B,EAAK5d,KAAoB,OAAb4d,EAAK5d,IASnB/zC,KAAK+zC,IAAIukB,KAAO,aAAO3G,EAAK5d,MARN,OAAnB4d,EAAK7d,YACN9zC,KAAK+zC,IAAM/zC,KAAKu4D,aAElBv4D,KAAKg0C,QAAUh0C,KAAK0C,QAAQ8oC,IAAMxrC,KAAK0C,QAAQ+oC,OAC/CzrC,KAAKkG,OAASlG,KAAK0C,QAAQ6V,KAAOvY,KAAK0C,QAAQkV,MAC/C5X,KAAK+zC,IAAIukB,KAAOt4D,KAAK+zC,IAAIxe,OAAO,KAC7BzC,KAAK,YAAa,aAAa9yB,KAAK0C,QAAQ6V,SAASvY,KAAK0C,QAAQ8oC,SAKpExrC,KAAKi1B,KAAKy8B,OACX1xD,KAAKwqD,OAASxqD,KAAKw4D,aAIvB,YAKE,OAJU,aAAOx4D,KAAK8zC,WACnBve,OAAO,OACLzC,KAAK,QAAS9yB,KAAKkG,OACnB4sB,KAAK,SAAU9yB,KAAKg0C,QAI3B,WACE,MAAO,CACLl1C,EAAG,CAAC,EAAGkB,KAAKkG,OACZZ,EAAG,CAACtF,KAAKg0C,OAAQ,GACjBvwC,MAAO,CAAC,YAAa,OACrBijB,QAAS,CAAC,EAAG,GACb3lB,KAAM,CAAC,EAAG,IACVmF,MAAO,CAAC,EAAGlG,KAAKkG,OAChB8tC,OAAQ,CAAC,EAAGh0C,KAAKg0C,SAIrB,YACE,IAAIwW,EAAS,GACTpjC,EAAWpnB,KAAKonB,WAChB66B,EAAOjiD,KAAKi1B,KAAKgtB,KAEjB1S,EAASvvC,KAAKi1B,KAAKsa,QAAU,KAC7B3oC,EAAW,EACX6xD,GAAW,EACD,OAAXlpB,GAAmBvvC,KAAKi1B,KAAKy8B,OAC9B1xD,KAAKi1B,KAAKsa,OAASpzC,OAAOwE,KAAKX,KAAKi1B,KAAKy8B,KAAK,IAC9CniB,EAASpzC,OAAOwE,KAAKX,KAAKi1B,KAAKy8B,KAAK,KAEtC,IAAK,IAAIrP,KAAWlmD,OAAOwE,KAAKymB,GAAW,CACzC,IAAI0L,EAAQrzB,MAAMa,QAAQ2hD,EAAKI,IAAaJ,EAAKI,GAAS,GAAKJ,EAAKI,GAgBpE,GAfoB,iBAATvvB,IACLrzB,MAAMa,QAAQwyB,EAAKiG,WACrBjG,EAAOA,EAAKiG,QAAQ,IAElBxxB,OAAOmD,SAASooB,EAAKlsB,YACvBA,EAAWksB,EAAKlsB,UAEdksB,EAAK2lC,WACPA,GAAW,GAET3lC,EAAKhnB,QACPgnB,EAAOA,EAAKhnB,OAEdm2C,EAAKI,GAAWvvB,GAEfuvB,KAAWJ,EAAM,CAClB,IAAIpiD,EACJ,GAAIG,KAAK67B,QAAQv+B,eAAew1B,GAe9BjzB,EAASG,KAAK67B,QAAQ/I,IAAS,CAAC,EAAG,OAfE,CACrC,IAAIp2B,EAAQsD,KAAKi1B,KAAKy8B,KAAKxxD,IAAInE,GAAGA,EAAE+2B,IAChCzzB,EAAMxB,KAAKwB,OAAO3C,IAAU,EAC5B0C,EAAMvB,KAAKuB,OAAO1C,IAAU,EAEpB,IAAR2C,GAAqB,IAARD,EACfS,EAASnD,EAAMwP,OAAO,CAACwsD,EAAMj9D,EAAGk9D,IAAOA,EAAGlyD,QAAQiyD,KAAUj9D,IAEzD2D,IAAQC,IACTD,GAAO,MAETS,EAAS,CAACR,EAAKD,IAEjBY,KAAK67B,QAAQ/I,GAAQjzB,EAIvB,IAAIC,EAAQsnB,EAASi7B,GAEjBriD,KAAKi1B,KAAKkE,QAAqC,SAA3Bn5B,KAAKi1B,KAAKkE,OAAOrG,IACvCjzB,EAASA,EAAOK,IAAInE,GAAK,IAAIqH,KAAKrH,IAC9B8D,EAAON,OAAS,IAClBM,EAAO68B,KAAK,CAAC95B,EAAGD,IAAMC,EAAE23B,UAAY53B,EAAE43B,WACtC16B,EAAS,CAACA,EAAO,GAAIA,EAAOA,EAAON,OAAQ,KAE7CS,KAAK67B,QAAQ/I,GAAQjzB,EACrB2qD,EAAOnI,GAAW,eAAYxiD,OAAOA,GAAQC,MAAMA,IAC3C24D,EACRjO,EAAOnI,GAAW,eAAWxiD,OAAOA,GAAQC,MAAMA,GAC7B,IAAb8G,EACR4jD,EAAOnI,GAAW,eAAWz7C,SAASA,GAAU/G,OAAOA,GAAQC,MAAMA,GAC3DE,KAAKi1B,KAAKkE,QAAUn5B,KAAKi1B,KAAKkE,OAAgB,WAATrG,IAAuBjzB,EAAON,OAAS,EACtFirD,EAAOnI,GAAW,eAAexiD,OAAOA,GAAQC,MAAMA,IAEtD0qD,EAAOnI,GAAW,eAAcxiD,OAAOA,GAAQC,MAAMA,GACvC,SAAXuiD,GACDmI,EAAOnI,GAASh+C,YAAY,YAIhCmmD,EAAOnI,GAAW,IAAMvvB,EAG5B,OAAO03B,EAGT,OACMxqD,KAAK2xD,KAAKiH,WACZ54D,KAAK64D,MAAQ,aAAW74D,KAAKwqD,OAAO1rD,GAAG01B,cAAc,GACjDx0B,KAAK2xD,KAAKkH,QAC0B,mBAA3B74D,KAAK2xD,KAAKkH,MAAMhwD,QACzB7I,KAAK64D,MAAM9uD,WAAW/J,KAAK2xD,KAAKkH,MAAMhwD,QAEpC7I,KAAK2xD,KAAKkH,MAAM/uD,OAClB9J,KAAK64D,MAAM/uD,MAAM9J,KAAK2xD,KAAKkH,MAAM/uD,QAGrC9J,KAAK84D,SAAW94D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,KAClCzC,KAAK,QAAS,qBACdA,KAAK,YAAa,gBAAgB9yB,KAAKg0C,WACvCp4C,KAAKoE,KAAK64D,OAET74D,KAAKwqD,OAAOllD,IACdtF,KAAK+4D,MAAQ,aAAS/4D,KAAKwqD,OAAOllD,GAAGwE,MAAM9J,KAAKg0C,OAAS,IACzDh0C,KAAKg5D,SAAWh5D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,KAClCzC,KAAK,QAAS,qBACdl3B,KAAKoE,KAAK+4D,QAGZ/4D,KAAK2xD,KAAKpJ,WAAavoD,KAAK2xD,KAAKpJ,UAAUjjD,IAC5CtF,KAAKi5D,WAAaj5D,KAAKg5D,SAASzjC,OAAO,KACpCzC,KAAK,QAAS,oBACdhG,MAAM,UAAW,KACjBlxB,KAAK,aAASoE,KAAKwqD,OAAOllD,GAAGwE,MAAM9J,KAAKg0C,OAAO,IAAIte,UAAU11B,KAAKkG,QAClE4rB,UAAU,QAAQrxB,UAEvBT,KAAKk5D,aAIT,YAEEl5D,KAAKm5D,WAAan5D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,KACvCv1B,KAAKm5D,WAAW5jC,OAAO,QACpBzC,KAAK,QAAS,mBACdA,KAAK,IAAK9yB,KAAKkG,MAAQ,GACvB4sB,KAAK,IAAK9yB,KAAKg0C,OAASh0C,KAAK0C,QAAQ+oC,OAAS,GAC9C3Y,KAAK,KAAM,OACXhG,MAAM,cAAe,UACrBwG,KAAKtzB,KAAKi1B,KAAKgtB,KAAKnjD,GAEvBkB,KAAKm5D,WAAW5jC,OAAO,QACpBzC,KAAK,QAAS,mBACdA,KAAK,YAAa,eAClBA,KAAK,KAAM9yB,KAAK0C,QAAQ6V,KAAO,MAC/Bua,KAAK,KAAM9yB,KAAKg0C,OAAS,GACzBlhB,KAAK,KAAM,OACXQ,KAAKtzB,KAAKi1B,KAAKgtB,KAAK38C,GAGzB,SACEtF,KAAKq4D,OAGP,OAAQnyD,EAAO8tC,GACbh0C,KAAK+zC,IAAIjhB,KAAK,QAAS5sB,GAAO4sB,KAAK,SAAUkhB,GAE7Ch0C,KAAKg0C,OAASA,EAASh0C,KAAK0C,QAAQ8oC,IAAMxrC,KAAK0C,QAAQ+oC,OACvDzrC,KAAKkG,MAAQA,EAAQlG,KAAK0C,QAAQ6V,KAAOvY,KAAK0C,QAAQkV,MAEtD5X,KAAKwqD,OAASxqD,KAAKw4D,YACfx4D,KAAK64D,QACP74D,KAAK64D,MAAMr3D,MAAMxB,KAAKwqD,OAAO1rD,GAC7BkB,KAAK84D,SAAS7qC,aAAalD,SAAS,KACjC+H,KAAK,YAAa,gBAAgB9yB,KAAKg0C,WACvCp4C,KAAKoE,KAAK64D,QAGX74D,KAAK+4D,QACP/4D,KAAK+4D,MAAMv3D,MAAMxB,KAAKwqD,OAAOllD,GAAGwE,MAAM9J,KAAKg0C,OAAS,IACpDh0C,KAAKg5D,SACF/qC,aAAalD,SAAS,KACtBnvB,KAAKoE,KAAK+4D,QAGX/4D,KAAKm5D,aACLn5D,KAAKm5D,WAAW14D,SAChBT,KAAKk5D,c,4JCnMN,MAAM,GAAM,CACfE,KAAA,GACAC,YClCW,cAA0B,GAErC,YAAYpkC,EAAM08B,GACd/E,MAAM33B,EAAM08B,GACZ3xD,KAAK2qD,SAGT,SACI,IAAI1I,EAAOjiD,KAAKi1B,KAAKgtB,KAErB2K,MAAMyL,OAENr4D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,iBACnBmD,KAAKj1B,KAAKi1B,KAAKy8B,MACfp8B,QACAC,OAAO,UACHzC,KAAK,QAAS,gBACdA,KAAK,KAAM/2B,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,KACrCg0B,KAAK,KAAM/2B,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,KACrCwtB,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAOzpD,KAAKhF,EAAEkmD,EAAKlhD,QACvC+rB,MAAM,OAAQ/wB,GAAKiE,KAAKwqD,OAAO/mD,MAAM1H,EAAEkmD,EAAKx+C,SAC5CqpB,MAAM,eAAgB,GACtBA,MAAM,eAAgB,KDanCwsC,SEjCW,cAAuB,GAClC,YAAYrkC,EAAM08B,GACd/E,MAAM33B,EAAM08B,GACZ3xD,KAAK2qD,SAGT,aACI,IAEIvH,EAFAnB,EAAOjiD,KAAKi1B,KAAKgtB,KASrB,OALImB,EADApjD,KAAK67B,QAAQomB,EAAK38C,GAAG/F,OAAS,EACpBS,KAAK67B,QAAQomB,EAAK38C,GAElB,IAAI7F,MAAMO,KAAK67B,QAAQomB,EAAK38C,GAAG,GAAKtF,KAAK67B,QAAQomB,EAAK38C,GAAG,GAAK,GACnES,KAAK,GAAG7F,IAAI,CAACnE,EAAGN,IAAMA,EAAIuE,KAAK67B,QAAQomB,EAAK38C,GAAG,IAEjD89C,EAGX,SACI,IAAInB,EAAOjiD,KAAKi1B,KAAKgtB,KACjBmB,EAAUpjD,KAAKu5D,aACnBv5D,KAAKwqD,OAAOllD,EAAI,eAAYzF,OAAOujD,GAAStjD,MAAM,CAAC,EAAGE,KAAKg0C,SAAStxC,QAAQ1C,KAAK2xD,KAAKnjC,OAAS,KAC/FxuB,KAAK67B,QAAQomB,EAAKnjD,GAAG,GAAK,EAC1BkB,KAAKwqD,OAAO1rD,EAAEe,OAAOG,KAAK67B,QAAQomB,EAAKnjD,IACvC8tD,MAAMyL,OACNr4D,KAAKw5D,KAAOx5D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,gBAC/BmD,KAAKj1B,KAAKi1B,KAAKy8B,MACjBp8B,QAAQC,OAAO,QACbzC,KAAK,QAAS,eACdA,KAAK,IAAK,GACVA,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,UAC9ClnB,MAAM,OAAQ/wB,GAAKiE,KAAKwqD,OAAO/mD,MAAM1H,EAAEkmD,EAAKx+C,SAC5CqvB,KAAK,SAAU9yB,KAAKwqD,OAAOllD,EAAExD,aAC7BgxB,KAAK,QAAS/2B,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,GAAKmjD,EAAK/7C,SAG3D,OAAQ+J,EAAG6W,GACP9mB,KAAK+4D,MAAQ,KACbnM,MAAMxC,OAAOn6C,EAAG6W,GAChB,IAAIm7B,EAAOjiD,KAAKi1B,KAAKgtB,KACjBmB,EAAUpjD,KAAKu5D,aACnBv5D,KAAKwqD,OAAOllD,EAAI,eAAYzF,OAAOujD,GAAStjD,MAAM,CAAC,EAAGE,KAAKg0C,SAAStxC,QAAQ1C,KAAK2xD,KAAKnjC,OAAS,KAE/FxuB,KAAK+4D,MAAQ,aAAS/4D,KAAKwqD,OAAOllD,GAAGwE,MAAM9J,KAAKg0C,OAAS,IACzDh0C,KAAKg5D,SACA/qC,aAAalD,SAAS,KACtB+H,KAAK,QAAS,qBACdl3B,KAAKoE,KAAK+4D,OAEf/4D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,gBACnB7D,aAAalD,SAAS,KACtB+H,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,UAC9ClnB,MAAM,OAAQ/wB,GAAKiE,KAAKwqD,OAAO/mD,MAAM1H,EAAEkmD,EAAKx+C,SAC5CqvB,KAAK,SAAU9yB,KAAKwqD,OAAOllD,EAAExD,aAC7BgxB,KAAK,QAAS/2B,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,GAAKmjD,EAAK/7C,SAG3D,OAAQuzD,EAASC,GAEb,IAAIzX,EAAOjiD,KAAKi1B,KAAKgtB,KAEjBuX,EAAOx5D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,oBAC9BmD,KAAKwkC,EAAS19D,GAAKA,EAAEkmD,EAAK38C,IAE/Bk0D,EAAKpkC,OAAO30B,SAEZ+4D,EAAKlkC,QAAQC,OAAO,QACfzC,KAAK,QAAS,mBAEnB0mC,EAAK1mC,KAAK,IAAK,GACVA,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,UAC9ClnB,MAAM,OAAQ4sC,GACd5mC,KAAK,SAAU9yB,KAAKwqD,OAAOllD,EAAExD,aAC7BgxB,KAAK,QAAS/2B,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,GAAKmjD,EAAK/7C,WFxC3DyzD,UGhCW,cAAwB,GAEnC,YAAY1kC,EAAM08B,GACd/E,MAAM33B,EAAM08B,GAGhB,OAAQ1hD,EAAG6W,GACP8lC,MAAMxC,OAAOn6C,EAAG6W,GAChB9mB,KAAK45D,MACA3rC,aAAalD,SAAS,KACtB+H,KAAK,IAAK9yB,KAAK65D,MAChB75D,KAAKooD,SACLpoD,KAAK+zC,IAAIukB,KAAKxmC,UAAU,kBAAkBrxB,SAC1CT,KAAK85D,gBAKb,eACI95D,KAAKooD,OAASpoD,KAAK+zC,IAAIukB,KAAK/iC,OAAO,KAAKzC,KAAK,QAAS,iBACtD9yB,KAAK61B,OAAOgE,QAAQ,CAACkgC,EAAQ3+B,KACzB,IAAI4+B,EAAcn8D,KAAKwB,IAAI,GAAIW,KAAK0C,QAAQkV,MAAM,GAC9CqiD,EAAa,EAAOp8D,KAAKwB,IAAI,GAAIW,KAAKkG,MAAQlG,KAAK61B,OAAOt2B,QAE9DS,KAAKooD,OAAO7yB,OAAO,QACdzC,KAAK,IAAK9yB,KAAKkG,MAAQ,IACvB4sB,KAAK,IAAKmnC,GACVnnC,KAAK,QAASknC,GACdlnC,KAAK,SAAU,GACfhG,MAAM,OAAQ9sB,KAAKyD,MAAMs2D,EAAO/8D,MAErCgD,KAAKooD,OAAO7yB,OAAO,QACdzC,KAAK,IAAK9yB,KAAKkG,MAAQ,GAAK8zD,GAC5BlnC,KAAK,IAAKmnC,EAAa,GACvB3mC,KAAKymC,EAAO/8D,OAIzB,SACI,IAAIilD,EAAOjiD,KAAKi1B,KAAKgtB,KAErB,GAAIxiD,MAAMa,QAAQ2hD,EAAKiY,OAAQ,CAC3Bl6D,KAAK61B,OAAS,OAAAqkC,GAAA,KAAQv5D,KAAKshD,EAAKiY,MAAlB,CAAyBl6D,KAAKi1B,KAAKy8B,MAEf,mBAAvB1xD,KAAK2xD,KAAKzB,SACjBlwD,KAAKyD,MAAQzD,KAAK2xD,KAAKzB,SAGvBlwD,KAAKyD,MAAQ,aAAa,MAE9B,IAAI5C,EAAS,GACbb,KAAK61B,OAAOgE,QAAQr8B,IAAMqD,EAASA,EAAOs1B,OAAO34B,KACjDwC,KAAK67B,QAAQomB,EAAK38C,GAAK,CAAC,EAAGzH,KAAKuB,OAAOyB,EAAOX,IAAInE,GAAKA,EAAE,MACzDiE,KAAKwqD,OAAOllD,EAAEzF,OAAOG,KAAK67B,QAAQomB,EAAK38C,IACvCtF,KAAK65D,KAAO,eACP70B,MAAM,MACFlmC,EAAE/C,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEk5B,KAAKgtB,EAAKnjD,KACjC4hC,GAAG3kC,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAE,KACxB4kC,GAAG5kC,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAE,KAEjCiE,KAAK45D,MAAQ55D,KAAK+zC,IAAIukB,KACjBxmC,UAAU,QACVmD,KAAKj1B,KAAK61B,OAAQ95B,IAAM,GAAIA,EAAG,OAAQA,EAAK,MAC5Cu5B,QACAC,OAAO,QACHzC,KAAK,IAAK9yB,KAAK65D,MACf/sC,MAAM,OAAQ/wB,GAAKiE,KAAKyD,MAAM1H,EAAEiB,MAChC8vB,MAAM,eAAgBm1B,EAAKv7B,SAC3BoG,MAAM,eAAgB,GAE/B9sB,KAAK85D,oBAGL95D,KAAK65D,KAAO,eACP70B,MAAM,MACNlmC,EAAE/C,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,KAC5B4hC,GAAG1gC,KAAKg0C,QACRrT,GAAG5kC,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,KAElCtF,KAAK45D,MAAQ55D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,QAC7B4kC,MAAMn6D,KAAKi1B,KAAKy8B,MAChB5+B,KAAK,IAAK9yB,KAAK65D,MACf/sC,MAAM,OAAQm1B,EAAKx+C,OACnBqpB,MAAM,eAAgBm1B,EAAKv7B,SAC3BoG,MAAM,eAAgB,GAI/B,OADA8/B,MAAMyL,OACCr4D,OHvDXo6D,OIhCW,cAAqB,GAClC,YAAYnlC,EAAM08B,GAChB/E,MAAM33B,EAAM08B,GACZ,IAAI3sB,EAAQ2sB,EAAKttD,aAAestD,EAAK3sB,MACG,mBAA7B,GAAQ,QAAUA,GAC3BhlC,KAAKglC,MAAQ,GAAQA,GAErBhlC,KAAKglC,MAAQ,KAIjB,OAAQ/0B,EAAG6W,GACT8lC,MAAMxC,OAAOn6C,EAAG6W,GAChB9mB,KAAKq6D,QAAQxgC,QAAQygC,IACnBA,EAAOrsC,aAAalD,SAAS,KAAK+H,KAAK,IAAK9yB,KAAKg1B,QAE/Ch1B,KAAKooD,SACLpoD,KAAK+zC,IAAIukB,KAAKxmC,UAAU,kBAAkBrxB,SAC1CT,KAAK85D,gBAIX,SACE,IAAI7X,EAAOjiD,KAAKi1B,KAAKgtB,KACrB2K,MAAMyL,OACNr4D,KAAKg1B,KAAO,OACTgQ,MAAMhlC,KAAKglC,OACXlmC,EAAG/C,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,KAE5BmjD,EAAK38C,GAAuB,iBAAX28C,EAAK38C,GACxBtF,KAAKg1B,KAAK1vB,EAAGvJ,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,KAGzC,IAAI60D,EAAQn6D,KAAKi1B,KAAKy8B,KAClBjuD,EAAQw+C,EAAKx+C,MAEboyB,EAAUosB,EAAK9d,IAAM8d,EAAKx+C,MAC9B,IAAyC,IAAtCzD,KAAKi1B,KAAKsa,OAAO9oC,QAAQovB,GAAgB,CAC1C,IAAI8H,EAAS,GACb39B,KAAKi1B,KAAKy8B,KAAK73B,SAAQ,SAAS99B,GAC3B4hC,EAAOrgC,eAAevB,EAAE85B,IACzB8H,EAAO5hC,EAAE85B,IAASj1B,KAAK7E,GAEvB4hC,EAAO5hC,EAAE85B,IAAW,CAAC95B,MAGzBo+D,EAAQx8B,EAC0B,mBAAvB39B,KAAK2xD,KAAKzB,SACnBzsD,EAAQzD,KAAK2xD,KAAKzB,UAE+B,IAA1ClwD,KAAKi1B,KAAKsa,OAAO9oC,QAAQw7C,EAAKx+C,SACrCA,EAAQ,aAAa,OAKzB,GAFAzD,KAAKyD,MAAQA,EACbzD,KAAKq6D,QAAU,GACZ56D,MAAMa,QAAQ65D,GACf,GAAIlY,EAAK38C,GAAuB,iBAAX28C,EAAK38C,EACxBtF,KAAKq6D,QAAQ,GAAKr6D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,QACpC4kC,MAAMA,GACNrnC,KAAK,IAAK9yB,KAAKg1B,MACflI,MAAM,OAAQ,QACdA,MAAM,SAAUm1B,EAAKx+C,OACrBqpB,MAAM,eAAgBm1B,EAAKlhD,UACzB,CACL,IAAI86B,EAAUomB,EAAK38C,EAAEyzB,QAAQ74B,IAAIoF,IAC/B,IAAIzE,EAASb,KAAKi1B,KAAKy8B,KAAKxxD,IAAInE,GAAKA,EAAEuJ,IACvC,MAAO,CACLjG,IAAKxB,KAAKwB,OAAOwB,GACjBzB,IAAKvB,KAAKuB,OAAOyB,MAGjBxB,EAAMxB,KAAKwB,OAAOw8B,EAAQ37B,IAAInE,GAAKA,EAAEsD,MACrCD,EAAMvB,KAAKuB,OAAOy8B,EAAQ37B,IAAInE,GAAKA,EAAEqD,MACrC6iD,EAAK38C,EAAEsB,WACT5G,KAAKwqD,OAAOllD,EAAI,eAAWsB,SAASq7C,EAAK38C,EAAEsB,UAAU9G,MAAM,CAACE,KAAKg0C,OAAQ,KAE3Eh0C,KAAKwqD,OAAOllD,EAAEzF,OAAO,CAACR,EAAKD,IAC3BY,KAAK+4D,MAAMv3D,MAAMxB,KAAKwqD,OAAOllD,GAC7BtF,KAAKg5D,SAASp9D,KAAKoE,KAAK+4D,OACxB,IAAIt1D,EAAQ,aAAa,MACzBw+C,EAAK38C,EAAEyzB,QAAQc,QAAQ,CAACv0B,EAAGi1D,KACzBv6D,KAAKg1B,KAAK1vB,EAAEvJ,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEuJ,KACjCtF,KAAKq6D,QAAQE,GAAMv6D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,QACrC4kC,MAAMA,GACNrnC,KAAK,IAAK9yB,KAAKg1B,MACflI,MAAM,OAAQ,QACdA,MAAM,eAAgBm1B,EAAKlhD,MAE1BtB,MAAMa,QAAQ2hD,EAAK38C,EAAE9F,QACvBQ,KAAKq6D,QAAQE,GAAIztC,MAAM,SAAUm1B,EAAK38C,EAAE9F,OAAO+6D,IAE1B,YAAjBtY,EAAK38C,EAAE7B,MACTzD,KAAKq6D,QAAQE,GAAIztC,MAAM,SAAUrpB,EAAM6B,IAEvCtF,KAAKq6D,QAAQE,GAAIztC,MAAM,SAAUm1B,EAAKx+C,cAKzC,GAAoB,iBAAX,EAAqB,CACnC,IAAIoyB,EAAS15B,OAAOwE,KAAKw5D,GACzBtkC,EAAOgE,QAAQ,CAACkgC,EAAQ3+B,KACtBp7B,KAAKq6D,QAAQj/B,GAAMp7B,KAAK+zC,IAAIukB,KAAK/iC,OAAO,QACrC4kC,MAAMA,EAAMJ,IACZjnC,KAAK,IAAK9yB,KAAKg1B,MACflI,MAAM,OAAQ,QACdA,MAAM,SAAUrpB,EAAMs2D,IACtBjtC,MAAM,eAAgBm1B,EAAKlhD,QAEhCf,KAAK61B,OAASA,GACgC,IAA1C71B,KAAKi1B,KAAKsa,OAAO9oC,QAAQw7C,EAAKx+C,QAChCzD,KAAK85D,gBAKX,eACE95D,KAAKooD,OAASpoD,KAAK+zC,IAAIukB,KAAK/iC,OAAO,KAC9BzC,KAAK,QAAS,iBAEnB9yB,KAAK61B,OAAOgE,QAAQ,CAACkgC,EAAQ3+B,KAC3B,IAAI4+B,EAAcn8D,KAAKwB,IAAI,GAAIW,KAAK0C,QAAQkV,MAAM,GAC9CqiD,EAAa,EAAOp8D,KAAKwB,IAAI,GAAIW,KAAKkG,MAAQlG,KAAK61B,OAAOt2B,QAE9DS,KAAKooD,OAAO7yB,OAAO,QAChBzC,KAAK,IAAK9yB,KAAKkG,MAAQ,IACvB4sB,KAAK,IAAKmnC,GACVnnC,KAAK,QAASknC,GACdlnC,KAAK,SAAU,GACfhG,MAAM,OAAQ9sB,KAAKyD,MAAMs2D,IAE5B/5D,KAAKooD,OAAO7yB,OAAO,QAChBzC,KAAK,IAAK9yB,KAAKkG,MAAQ,GAAK8zD,GAC5BlnC,KAAK,IAAKmnC,EAAa,GACvB3mC,KAAKymC,OJtGVS,OK9BW,cAAkB,GAC/B,YAAYvlC,EAAM08B,GA4DhB,GA3DA/E,MAAM33B,EAAM08B,GACZ3xD,KAAKy6D,QAAUxlC,EAAKwlC,SAAW,YAC/Bz6D,KAAKwB,MAAQyzB,EAAKgtB,KAAKzgD,MACvBxB,KAAK06D,IAAMzlC,EAAKylC,KAAO,GACvB16D,KAAK26D,eAAiB,KACtB36D,KAAK46D,QAAUjJ,EAAKiJ,UAAW,EAC/B56D,KAAK66D,SAAW5lC,EAAK4lC,UAAYC,GACjC96D,KAAKwsB,UAAYmlC,EAAKnlC,WAAa,CAACxsB,KAAKkG,MAAQ,EAAGlG,KAAKg0C,OAAS,KAClEh0C,KAAKwB,MAAQmwD,EAAKnwD,QAA8B,UAAnBmwD,EAAKoJ,WAA0B,EAAK/6D,KAAU,MAAI,EAAInC,KAAKC,IACxFkC,KAAK4G,SAAW+qD,EAAK/qD,UAAY,EAAE,EACnC5G,KAAKg7D,aAAerJ,EAAKqJ,cAAgB,OACzCh7D,KAAKi7D,QAAUtJ,EAAKsJ,QACpBj7D,KAAKk7D,SAAWvJ,EAAKuJ,SACrBl7D,KAAKm7D,WAAaxJ,EAAKyJ,OAAQ,EAC/Bp7D,KAAK+6D,WAAa,GAAM,OAAQpJ,EAAKoJ,YAAc,WAAWn/D,OAC3D4F,MAAMxB,KAAKwB,OACXgrB,UAAUxsB,KAAKwsB,WAElBxsB,KAAKg1B,KAAO,OACT+lC,WAAW/6D,KAAK+6D,YAEnB/6D,KAAKq7D,QAAU,aAAOr7D,KAAK8zC,WAAWve,OAAO,OAC1CzC,KAAK,QAAS,cACdhG,MAAM,WAAY,YAClBA,MAAM,iBAAkB,QACxBA,MAAM,UAAW,GAEpB9sB,KAAK+zC,IAAInpB,GAAG,YAAa,KACrB5qB,KAAKq7D,QAAQvuC,MAAM,UAAW,KAGlC9sB,KAAKs7D,UAAY,EACjBt7D,KAAKo7D,KAAO,eACTG,YAAY,CAAC,EAAG,KAChB3wC,GAAG,OAAQ,KACV5qB,KAAKs7D,UAAY,KAAMt2D,UAAU1B,EACjCtD,KAAK+zC,IAAIjiB,UAAU,QAChBgB,KAAK,YAAa,KAAM9tB,WAE3BhF,KAAK+zC,IAAIjiB,UAAU,cAChBgB,KAAK,YAAa,KAAM9tB,WAE3BhF,KAAK+zC,IAAIjiB,UAAU,eAChBgB,KAAK,YAAa,KAAM9tB,WAE3BhF,KAAK+zC,IAAIjiB,UAAU,UAChBgB,KAAK,IAAK/2B,GAAKA,EAAEy/D,MAAQ,KAAMx2D,UAAU1B,GACzCwvB,KAAK,YAAa,KAAM9tB,WACxB8nB,MAAM,eAAgB,EAAI,KAAM9nB,UAAU1B,KAG7CtD,KAAKm7D,YACPn7D,KAAK+zC,IAAIn4C,KAAKoE,KAAKo7D,MAGrBp7D,KAAKkwD,SAAWyB,EAAKzB,UAAY,KACJ,iBAAlBlwD,KAAKkwD,UAA+D,mBAA/B,GAAYlwD,KAAKkwD,YAC/DlwD,KAAKkwD,SAAW,GAAYlwD,KAAKkwD,WAEhCj7B,EAAKgtB,KAAKx+C,OAAkC,mBAAlBzD,KAAKk7D,SAAyB,CACzD,IAAIO,EAAY,GAChBxmC,EAAKy8B,KAAK73B,QAAS99B,IACjB,IAAI2/D,EAAS17D,KAAK66D,SAASc,KAAK7/D,GAAKA,EAAEm5B,EAAKpuB,KAAKP,MAAQ,UAAYvK,EAAEk5B,EAAKpuB,KAAKiF,QAC9E4vD,GAAUA,EAAOlxC,KAClBixC,EAAUC,EAAOlxC,IAAqC,iBAAxBzuB,EAAEk5B,EAAKgtB,KAAKx+C,QAAwB1H,EAAEk5B,EAAKgtB,KAAKx+C,OAAO42B,SAAS,KAC1F9yB,OAAOxL,EAAEk5B,EAAKgtB,KAAKx+C,OAAOsE,QAAQ,KAAM,KACxCR,OAAOxL,EAAEk5B,EAAKgtB,KAAKx+C,QACvB1H,EAAE6/D,OAASF,EAAOlxC,MAGtB,IAAI3pB,EAAS1E,OAAOwE,KAAK86D,GAAWv7D,IAAIoD,GAAKm4D,EAAUn4D,IAAI4I,OAAOnQ,IAAIwL,OAAOzD,MAAM/H,IAC/E8D,EAAS,CAAChC,KAAKwB,OAAOwB,GAAShD,KAAKuB,OAAOyB,IAC3Co0B,EAAKhvB,OAAMpG,EAAO,GAAK,GAC3B,IAAIg8D,EAAa,eAAWj1D,SAAS5G,KAAK4G,UAAU/G,OAAOA,GAAQC,MAAM,CAAC,GAAK,IAC/EE,KAAKk7D,SAAYn/D,QACQgG,IAApB05D,EAAU1/D,EAAEyuB,IACNxqB,KAAKkwD,SAAS2L,EAAWJ,EAAU1/D,EAAEyuB,MAErCxqB,KAAKg7D,aAGbrJ,EAAKluD,OAAuC,mBAAvBkuD,EAAKluD,MAAY,SACvCzD,KAAKk7D,SAAYn/D,GACRiE,KAAKyD,MAAMq4D,OAAOD,EAAWJ,EAAU1/D,EAAEyuB,KAAO,MAM/D,OAAQva,EAAG6W,EAAGtlB,EAAQ,KAAMgrB,EAAY,MACtCogC,MAAMxC,OAAOn6C,EAAG6W,GAChB9mB,KAAKwsB,UAAYA,GAAa,CAACxsB,KAAKkG,MAAQ,EAAGlG,KAAKg0C,OAAS,KAC7Dh0C,KAAKwB,MAAQA,GAAUxB,KAAKkG,MAAQ,EAAIrI,KAAKC,GAC7CkC,KAAK+6D,WAAWv5D,MAAMxB,KAAKwB,OAAOgrB,UAAUxsB,KAAKwsB,WAEjDxsB,KAAK+zC,IAAIjiB,UAAU,QAChB7D,aAAalD,SAAS,KACtB+H,KAAK,IAAK9yB,KAAKg1B,MAElB,IAAI,KAACitB,GAAQjiD,KAAK+7D,YAElB/7D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,YACrB7D,aAAalD,SAAS,KACtB+H,KAAK,KAAM/2B,GAAKiE,KAAK+6D,WAAW,CAACh/D,EAAEkmD,EAAKnjD,GAAI/C,EAAEkmD,EAAK38C,KAAK,IACxDwtB,KAAK,KAAM/2B,GAAKiE,KAAK+6D,WAAW,CAACh/D,EAAEkmD,EAAKnjD,GAAI/C,EAAEkmD,EAAK38C,KAAK,IAI7D,UAAW2uB,GACTj0B,KAAK+6D,WAAW9mC,OAAOA,GACvBj0B,KAAK+zC,IAAIjiB,UAAU,QAAQgB,KAAK,IAAK9yB,KAAKg1B,MAG5C,SACE,IAAIvK,EAAOzqB,KACPg8D,EAAWh8D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,cACpCmD,KAAK,KAAiBj1B,KAAK06D,IAAK16D,KAAK06D,IAAI7uB,QAAQ7rC,KAAKy6D,UAAUngD,UAChEgb,QACAC,OAAO,QACLzC,KAAK,QAAS,aACdA,KAAK,IAAK9yB,KAAKg1B,MACflC,KAAK,YAAa/2B,IACjB,IAAI2/D,EAAS17D,KAAK66D,SAASc,KAAK7/D,GAAKC,EAAEyuB,KAAO1uB,EAAE0uB,IAChD,OAAIkxC,EACKA,EAAO1/D,KAEZD,EAAEgwC,YAAchwC,EAAEgwC,WAAW/vC,KACxBD,EAAEgwC,WAAW/vC,UADtB,IAID8wB,MAAM,OAAQ9sB,KAAKk7D,UA0ExB,OAxEKl7D,KAAK46D,SACN56D,KAAK+zC,IAAIukB,KAAK/iC,OAAO,QAClBzC,KAAK,QAAS,eACdqnC,MAAM,KAAcn6D,KAAK06D,IAAK16D,KAAK06D,IAAI7uB,QAAQ7rC,KAAKy6D,UAAU,SAAS73D,EAAGD,GAAK,OAAOC,IAAMD,MAC5FmwB,KAAK,IAAK9yB,KAAKg1B,MACflI,MAAM,OAAQ,QACdA,MAAM,SAAU9sB,KAAK2xD,KAAKsK,aAAe,SACzCnvC,MAAM,eAAgB,GACtBA,MAAM,kBAAmB,SACzBA,MAAM,iBAAkB,SACxBA,MAAM,gBAAiB,sBAExB9sB,KAAKi7D,SACPe,EAASpxC,GAAG,cAAc,WACtBH,EAAK4wC,QAAQptC,aAAalD,SAAS,KAAK+B,MAAM,UAAW,IACzD,IAAI4rC,EAAO,aAAO14D,MACdyqB,EAAKkwC,gBACJlwC,EAAKkwC,eAAe7nC,KAAK,eAAiB4lC,EAAK5lC,KAAK,cAI1B,iBAApBrI,EAAKknC,KAAKuK,OACnB//D,OAAOwE,KAAK8pB,EAAKknC,KAAKuK,OAAOriC,QAAQqwB,IACnCwO,EAAK5rC,MAAMo9B,EAAMz/B,EAAKknC,KAAKuK,MAAMhS,SAItCt/B,GAAG,YAAauxC,IACf,IAAKn8D,KAAKi1B,KAAKy8B,KACb,OAEF,IAAI0K,EAASp8D,KAAKi1B,KAAKy8B,KAAKiK,KAAK5/D,GAAKA,EAAE6/D,SAAWO,EAAQ3xC,IACvD4xC,GAC0B,mBAAjBp8D,KAAKi7D,SACdj7D,KAAKq7D,QAAQgB,KAAKr8D,KAAKi7D,QAAQmB,IAEjCp8D,KAAKq7D,QACFvuC,MAAM,OAAS,KAAa,QAAI,MAChCA,MAAM,MAAQ,KAAa,QAAI,OAElC9sB,KAAKq7D,QAAQptC,aAAalD,SAAS,KAAK+B,MAAM,UAAW,KAG5DlC,GAAG,YAAY,WACdH,EAAK4wC,QAAQvuC,MAAM,UAAW,GAC9B,IAAI4rC,EAAO,aAAO14D,MACdyqB,EAAKkwC,gBACFlwC,EAAKkwC,eAAe7nC,KAAK,eAAiB4lC,EAAK5lC,KAAK,cAG3D4lC,EACG5rC,MAAM,OAAQrC,EAAKywC,UACnBpuC,MAAM,SAAU,QAChBA,MAAM,eAAgB,MAG3B9sB,KAAK2xD,KAAK2K,OACZN,EAASpxC,GAAG,SAAS,SAAUuxC,GAQ7B,GAP4B,OAAxB1xC,EAAKkwC,gBACPlwC,EAAKkwC,eAAe7tC,MAAM,OAAQrC,EAAKywC,UAEzCzwC,EAAKkwC,eAAiB,aAAO36D,MAC7B7D,OAAOwE,KAAK8pB,EAAKknC,KAAK2K,OAAOziC,QAAQqwB,IACnCz/B,EAAKkwC,eAAe7tC,MAAMo9B,EAAMz/B,EAAKknC,KAAK2K,MAAMpS,MAEV,mBAA7Bz/B,EAAKknC,KAAK2K,MAAMlzC,SAAyB,CAClD,IAAImzC,EAAa9xC,EAAKwK,KAAKy8B,KAAKiK,KAAK5/D,GAAKA,EAAE6/D,SAAWO,EAAQ3xC,IAC/DC,EAAKknC,KAAK2K,MAAMlzC,SAASmzC,GAAc,QAI7Cv8D,KAAKw8D,WAAax8D,KAAKg8D,SAClBh8D,KAGT,UAAS,KAACsG,EAAO,QAAO,OAAE++B,EAAS,EAAG,KAAEpQ,EAAI,QAAEwlC,IACjC,SAARn0D,IACDtG,KAAKg1B,KAAKynC,YAAYp3B,GACtBrlC,KAAK+zC,IAAIukB,KAAK/iC,OAAO,QAClB4kC,MAAM,KAAiBllC,EAAMA,EAAK4W,QAAQ4uB,KAC1C3nC,KAAK,IAAK9yB,KAAKg1B,OAItB,YAAY,KAACC,EAAI,KAAEgtB,EAAO,GAAE,MAAEn1B,EAAQ,KACpC,IAAIrC,EAAOzqB,KACP08D,EAAY5vC,EAAM4vC,WAAiD,IAApC7+D,KAAKwB,IAAIW,KAAKkG,MAAOlG,KAAKg0C,QACzD2oB,EAAY7vC,EAAM6vC,WAAa,EAC/BC,EAAe3nC,EAAK/0B,IAAInE,GAAKA,EAAEkmD,EAAKlhD,OACpC87D,EAAe,CACjBh/D,KAAKwB,OAAOu9D,GACZ/+D,KAAKuB,OAAOw9D,IAGVE,EAAc,eACfl2D,SAAS5G,KAAK4G,UACd/G,OAAOg9D,GACP/8D,MAAM,CAAC68D,EAAWD,IAErBznC,EAAK4E,QAAQ99B,IACXA,EAAEy/D,MAAQ1uC,EAAM/rB,MAAQ+7D,EAAY/gE,EAAEkmD,EAAKlhD,SAE7Cf,KAAK+7D,YAAc,CAAC9Z,OAAMn1B,SAC1B,IAAIiwC,EAAU/8D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,UACrCmD,KAAKA,GAAMK,QACPC,OAAO,UACLzC,KAAK,QAAS,WACdA,KAAK,KAAM/2B,GAAKiE,KAAK+6D,WAAW,CAACh/D,EAAEkmD,EAAKnjD,GAAI/C,EAAEkmD,EAAK38C,KAAK,IACxDwtB,KAAK,KAAM/2B,GAAKiE,KAAK+6D,WAAW,CAACh/D,EAAEkmD,EAAKnjD,GAAI/C,EAAEkmD,EAAK38C,KAAK,IACxDwtB,KAAK,IAAK/2B,GAAK+wB,EAAM/rB,MAAQ+7D,EAAY/gE,EAAEkmD,EAAKlhD,QAChD+xB,KAAK,OAAQ,IAAMhG,EAAMrpB,OAAS,OAClCqvB,KAAK,eAAgB,IAAMhG,EAAMpG,SAAW,GAC5CoM,KAAK,SAAU,IAAMhG,EAAM24B,QAAU,QA0B5C,OAxBIxD,EAAKia,OACPa,EAAQnyC,GAAG,cAAc,WACrBH,EAAK4wC,QAAQvuC,MAAM,UAAW,IAE9B,aAAO9sB,MACJ8sB,MAAM,SAAUm1B,EAAKia,MAAMzW,QAAU,QACrC34B,MAAM,eAAgB,EAAIrC,EAAK6wC,WAC/B0B,WAELpyC,GAAG,YAAa7uB,IACY,mBAAjBkmD,EAAKgZ,SACdj7D,KAAKq7D,QAAQgB,KAAKpa,EAAKgZ,QAAQl/D,IAEjCiE,KAAKq7D,QAAQvuC,MAAM,OAAS,KAAa,QAAI,MAC1CA,MAAM,MAAQ,KAAa,QAAI,QAEjClC,GAAG,YAAY,WACdH,EAAK4wC,QAAQvuC,MAAM,UAAW,GAC9B,aAAO9sB,MAAM8sB,MAAM,SAAUA,EAAM24B,QAAU,SAAS34B,MAAM,eAAgB,EAAIrC,EAAK6wC,cAGjE,mBAAfrZ,EAAKqa,OACdS,EAAQnyC,GAAG,QAAS7uB,GAAakmD,EAAKqa,MAAMvgE,IAEvCghE,EAGT,mBAAoB/gE,EAAMwpD,EAAS,IACjC,IAAI4W,EAAS1vC,SAASuwC,cAAc,yBAA2BjhE,EAAO,MAKtE,OAJAG,OAAOwE,KAAK6kD,GAAQ3rB,QAAQqwB,IAC1BkS,EAAOtvC,MAAMo9B,GAAQ1E,EAAO0E,KAE9BlqD,KAAK26D,eAAiB,aAAOyB,GACtBA,EAGT,iBACMp8D,KAAK26D,iBACP36D,KAAK26D,eAAe7tC,MAAM,OAAQ9sB,KAAKk7D,UACvCl7D,KAAK26D,eAAiB,MAI1B,WAAW,WACTr/C,EAAU,MACV7X,EAAQ,SAAQ,KAChBy5D,EAAO,mBAAkB,MACzBpU,IAEA,IAAItY,EAAWxwC,KAAK+6D,WAAWz/C,GAC/Btb,KAAK+zC,IAAIukB,KAAK/iC,OAAO,qBAClBzC,KAAK,QAAS,cACdA,KAAK,IAAK0d,EAAS,GAAK,GACxB1d,KAAK,IAAK0d,EAAS,GAAK,IACxB1d,KAAK,QAAS,IACdA,KAAK,SAAU,IACfA,KAAK,QAASrvB,GACdqvB,KAAK,cAAe,OACpByC,OAAO,cACL8mC,KAAK,aAAevT,EAAQ,YAAcoU,EAAO,YLpRtDC,YMvCW,cAAuB,GAClC,YAAYloC,EAAM08B,GACd/E,MAAM33B,EAAM08B,GACZ3xD,KAAK2qD,SAGT,SACI,IACIxH,EADAlB,EAAOjiD,KAAKi1B,KAAKgtB,KAGjBkB,EADAnjD,KAAK67B,QAAQomB,EAAKnjD,GAAGS,OAAS,EACpBS,KAAK67B,QAAQomB,EAAKnjD,GAElB,IAAIW,MAAMO,KAAK67B,QAAQomB,EAAKnjD,GAAG,GAAKkB,KAAK67B,QAAQomB,EAAKnjD,GAAG,GAAK,GAAGiH,KAAK,GAAG7F,IAAI,CAACnE,EAAGN,IAAMA,EAAIuE,KAAK67B,QAAQomB,EAAKnjD,GAAG,IAE9HkB,KAAKwqD,OAAO1rD,EAAI,eAAYe,OAAOsjD,GAASrjD,MAAM,CAAC,EAAGE,KAAKkG,QAAQxD,QAAQ,KAC3EkqD,MAAMyL,OACNr4D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,cACnBmD,KAAKj1B,KAAKi1B,KAAKy8B,MACjBp8B,QAAQC,OAAO,QACbzC,KAAK,QAAS,aACdA,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,GAAKmjD,EAAK/7C,SAC9C4sB,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,UAC9ClnB,MAAM,OAAQ/wB,GAAKiE,KAAKwqD,OAAO/mD,MAAM1H,EAAEkmD,EAAKx+C,SAC5CqvB,KAAK,QAAS9yB,KAAKwqD,OAAO1rD,EAAEgD,aAC5BgxB,KAAK,SAAU/2B,GAAKiE,KAAKg0C,OAASh0C,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,UAG1E,OAAQylB,EAASC,GAEb,IAAIzX,EAAOjiD,KAAKi1B,KAAKgtB,KAEjBuX,EAAOx5D,KAAK+zC,IAAIukB,KAAKxmC,UAAU,kBAC9BmD,KAAKwkC,EAAS19D,GAAKA,EAAEkmD,EAAKnjD,IAE/B06D,EAAKpkC,OAAO30B,SAEZ+4D,EAAKlkC,QAAQC,OAAO,QACfzC,KAAK,QAAS,iBAEnB0mC,EAAK1mC,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAO1rD,EAAE/C,EAAEkmD,EAAKnjD,GAAKmjD,EAAK/7C,SAC9C4sB,KAAK,IAAK/2B,GAAKiE,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,UAC9ClnB,MAAM,OAAQ4sC,GACd5mC,KAAK,QAAS9yB,KAAKwqD,OAAO1rD,EAAEgD,aAC5BgxB,KAAK,SAAU/2B,GAAKiE,KAAKg0C,OAASh0C,KAAKwqD,OAAOllD,EAAEvJ,EAAEkmD,EAAK38C,GAAK28C,EAAKjO,aC3C/D,QACX,CACIh4C,KAAM,SACN61D,YAAY,EACZJ,aAAa,EACbrG,YAAY,EACZ8G,iBAAiB,EACjBvY,SAAS,EACT0X,UAAWpP,GAAsB,WAAdA,EAAKe,KACxB18C,KAAM,QACN2rD,SAAU,GAAImI,QAElB,CACIp+D,KAAM,OACN61D,YAAY,EACZJ,aAAa,EACbrG,YAAY,EACZ8G,iBAAiB,EACjBb,UAAWpP,GAAsB,SAAdA,EAAKe,KACxB18C,KAAM,QACN2rD,SAAU,GAAI0H,WAElB,CACI39D,KAAM,SACN61D,YAAY,EACZJ,aAAa,EACbrG,YAAY,EACZ8G,iBAAiB,EACjBb,UAAWpP,GAAsB,WAAdA,EAAKe,KACxB18C,KAAM,QACN2rD,SAAU,GAAIqH,WChCP,MAAM8D,GACjB,YAAY1N,GACR1vD,KAAK0vD,MAAQA,EAGjB,IAAKiC,GACD3xD,KAAK2xD,KAAK/wD,KAAK+wD,GAGnB,QACI3xD,KAAK0vD,MAAM71B,SAAQ,SAASxuB,GACrBA,EAAE/N,eAAe,WAChB+N,EAAEq8C,MAAM3T,IAAItzC,SACZ4K,EAAEq8C,MAAMmJ,aACRxlD,EAAEq8C,MAAMgC,sBACDr+C,EAAEq8C,UAKrB,eAAe,OACXkC,EAAS,OAAM,MACfngD,EAAQ,EAAC,MACTvD,EAAQ,IAAG,OACX8tC,EAAS,IAAG,QACZtxC,EAAU,CAAC6V,KAAM,EAAGX,MAAO,EAAG4zB,IAAK,EAAGC,OAAQ,GAAE,UAChD8c,EAAY,CAACzpD,GAAG,EAAOwG,GAAG,KAE1B,IACI+3D,EADA3N,EAAQ,IAAIjwD,MAAMgK,GAIR,QAAVmgD,GACA5V,GAAkBvqC,EAClB4zD,EAAc/7D,GAAU,CAAC,EAAGA,EAAQ0yC,KAEpC9tC,GAAgBuD,EAChB4zD,EAAc/7D,GAAU,CAACA,EAAQ4E,EAAO,IAE5C,IAAK,IAAIzK,EAAI,EAAGA,EAAIgO,EAAOhO,IAAK,CAC5B,IAAIuQ,EAASqxD,EAAW5hE,GACxBi0D,EAAMj0D,GAAK,CAACyK,QAAO8tC,SAAQtxC,UAASsJ,SAAQu8C,aAGhD,OADAvoD,KAAK0vD,MAAQA,EACNA,GC/BA,SAAS4N,GAAGxkC,GACzB,IAAI6V,ECZS,UAAc,QACzBha,EAAU,KAAI,UACdmf,EAAYpnB,SAASo9B,KAAI,SACzBzP,EAAY,CAAC,IAAK,KAAI,QACtB33C,EAAU,CAAC6V,KAAK,EAAGX,MAAO,EAAE4zB,IAAK,EAAGC,OAAQ,GAAE,WAC9CxS,EAAa,GAAE,MACfy2B,IAEA,IAAI/gB,EAAKha,EACL4oC,EAAgB,CAChB,CACIr3D,MAAOm0C,EAAS,GAChBrG,OAAQqG,EAAS,GAEjBruC,OAAQ,CAAC,EAAG,KAgBpB,OAbW,OAAP2iC,IACAA,EAAK,IAAI,IAAO,CACZmF,UAAWA,EACX5tC,MAAOm0C,EAAS,GAChBrG,OAAQqG,EAAS,GACjB33C,QAAS,CAAC6V,KAAK,EAAGX,MAAO,EAAE4zB,IAAK,EAAGC,OAAQ,GAC3CxS,WAAYA,KAGpB0V,EAAGmF,UAAYA,EACfnF,EAAGjsC,QAAUA,EACbisC,EAAG0L,SAAWA,EACd1L,EAAG+gB,MAAQA,GAAS6N,EACb5uB,EDlBAzjB,CAAW4N,GACpB6V,EAAG6uB,MAAQ1kC,EAAQ0kC,QAAS,EAC5B7uB,EAAG+gB,MAAQ,GACX/gB,EAAG+jB,aAAe,GAClB/jB,EAAG4U,WAAa,GAChB5U,EAAGyiB,WAAaA,GAChBziB,EAAGymB,UAAY,GACfzmB,EAAG2Q,aAAe,GAClB3Q,EAAG8uB,WAAa,GAChB9uB,EAAGK,SAAW,EACdL,EAAGM,QAAUnW,EAAQ4kC,MAAQ,KAC7B/uB,EAAGc,UAAY3W,EAAQ2W,WAAa,EACpCd,EAAGqH,YAAc,EAEjBrH,EAAG0mB,cAAgB,aACnB1mB,EAAGwN,SAAU,EACbxN,EAAGoL,WAAY,EACfpL,EAAG6iB,YAAY,EAEf7iB,EAAGyN,UAAY,aACf,IAAIuhB,EElCS,SAAkBhvB,GAC7B,IAAIivB,EAAW,GACXJ,GAAQ,EACRK,EAAQ,EACRC,EAAQ,GA8EZ,OA5EAF,EAASG,UAAY,SAAStQ,GAC1B,IAAIuQ,EAAYvQ,EAAI9e,GAUpB,OARAxyC,OAAOwE,KAAKq9D,GAAWnkC,QAAQ79B,IACK,mBAArBgiE,EAAUhiE,KACjB4hE,EAAS5hE,GAAQ,WAEb,OADAgiE,EAAUhiE,GAAM2F,MAAM,KAAM5B,WACrB69D,MAIZA,GAGXA,EAASK,cAAgB,SAASxQ,GAC9B,IAAIuQ,EAAYvQ,EAAI9e,GASpB,OAPAxyC,OAAOwE,KAAKq9D,GAAWnkC,QAAQ79B,IACK,mBAArBgiE,EAAUhiE,KACjB4hE,EAAS5hE,GAAQ,WACb,OAAOgiE,EAAUhiE,GAAM2F,MAAM,KAAM5B,eAIxC69D,GAGXA,EAASM,WAAa,SAAUxgC,EAAK9E,GACjC,GAAI+V,EAAGwN,SAAYxN,EAAGoL,UAMlB,OAAQ,EANqB,CAC7B,IAAI0B,EAAO,GAGX,OAFAA,EAAK/d,GAAO9E,EACZklC,EAAMl9D,KAAK66C,GACJoiB,MAMfD,EAASO,aAAe,SAASniE,EAAMoiE,EAAWC,GAAY,GACtDT,EAAStgE,eAAetB,KAASqiE,IACjCT,EAAS5hE,GAAQ,SAAS48B,GAClB4kC,GACAI,EAASM,WAAWliE,EAAM48B,GAE9B,IAAIwjB,EAAYgiB,EAAUxlC,GAI1B,MAHyB,mBAAhB,IACL+V,EAAGyN,UAAYA,GAEZwhB,KAKnBA,EAASU,WAAa,WAElB,OADAR,EAAQ,GACDF,GAGXA,EAAS5mB,IAAM,SAASunB,EAAOT,GAC3B,IAAK,IAAIhtD,KAAKytD,EAAM,CAChB,IAAI7gC,EAAMvhC,OAAOwE,KAAKmQ,GAAG,GACG,mBAAlB8sD,EAASlgC,IACfkgC,EAASlgC,GAAK5sB,EAAE4sB,IAGxB,OAAOkgC,GAGXA,EAASE,MAAQ,WACb,OAAOA,GAGXF,EAASJ,MAAQ,SAASgB,GACtBhB,EAAQgB,GAGLZ,EFhDC,CAASjvB,GACnBgvB,EAAIvtB,IAAMzB,EACVgvB,EAAII,UAAUpoB,GACdgoB,EAAIM,cAAc94D,GAIlBw4D,EAAIQ,aAAa,QAAQ,WAIvB,OAHAR,EAAInnB,OAAO,YACRr6C,OAAOwE,KAAKguC,EAAG2Q,cAAc//C,OAAS,GAAGo+D,EAAIh4D,MAAM,IACtDgpC,EAAGyN,UAAYzN,EAAG8vB,WACXd,KAGThvB,EAAGmX,KAAO,CAAC4J,MAAO,IAClBiO,EAAIhM,KAAO,SAASjC,GAMlB,OAL4B,IAAzB/gB,EAAGmX,KAAK4J,MAAMnwD,QACfovC,EAAGmX,KAAKr+B,QAEVknB,EAAGmX,KAAO,IAAIsX,GAAK1N,GACnB/gB,EAAG+gB,MAAQ/gB,EAAGmX,KAAK4J,MACZiO,GAETA,EAAIjO,MAAQiO,EAAIhM,KAChBgM,EAAIe,SAAW,WACb,OAAO/vB,EAAG+gB,OAEZiO,EAAI3I,cAAgBrmB,EAAGmX,KAAKkP,cAE5BrmB,EAAGlnB,MAAQk2C,EAAIgB,KACfhwB,EAAGmjB,aAAe6L,EAAIhgC,OAEtBgR,EAAGsmB,SAAW,SAAS2J,GAErB,OADAjB,EAAInnB,OAAOooB,GACJjB,GAGThvB,EAAGulB,UAAY,SAAS2K,GAGtB,OAFAlB,EAAI/nB,SAASipB,GAENlB,GAoBTA,EAAI1oC,KAAO,SAAS6pC,GAClB,GAA2B,SAAvBA,EAAYj2D,OAAmB,CACjC,IAAIkwB,EAAU,OAAAF,EAAA,GAAO,CACjBM,OAAQ2lC,EAAY3lC,OACpBp4B,KAAM+9D,EAAYj+D,OAAOtB,SAE1B88B,OAAO,CAACpH,KAAM6pC,EAAYj+D,SAE7Bk+D,EAASpwB,EAAI5V,EAAQ9D,aAErB8pC,EAASpwB,EAAImwB,GAOf,OAlCF,SAAwBnwB,GACtBA,EAAG+N,OAAS,GAAQA,OAAO/N,GAE3B,IAAIoI,EAAaioB,GAAQrwB,GACzBgvB,EAAIsB,cAAgB,IAAM9iE,OAAOwE,KAAKo2C,GACtC,IAAI,IAAImoB,KAAW/iE,OAAOwE,KAAKo2C,GAC7B4mB,EAAIQ,aAAae,EAASnoB,EAAWmoB,IAAU,GAGjD,IAAI,IAAI7uB,KAAO1B,EAAGyiB,YACM,IAAnB/gB,EAAI+a,aACL/a,EAAI4hB,SAAW5hB,EAAI4hB,SAAStjB,IAGhCgvB,EAAI/nB,SAAS,YAebupB,CAAexwB,GACfA,EAAGyN,UAAY0iB,EAAYrjC,OAC3BkT,EAAGsE,MAAQ0qB,EAAI1qB,MACftE,EAAG8vB,WAAaK,EAAYrjC,OAC5BkT,EAAGhpC,MAAQg4D,EAAIh4D,MACRg4D,GAGTA,EAAIr8D,MAAQ,SAASi4B,GAEnB,OADAtE,KAAKsE,QAAUA,EACRokC,GAGT,IAAIyB,EAAgB,GACpBzB,EAAI5mB,WAAa56C,OAAOwE,KAAK,IAC7B,IAAI0+D,EAAa,SAASzmC,GACxB,IAAI0mC,GAAa,EACjB,IAAI,IAAIpmB,KAAW/8C,OAAOwE,KAAKg9D,GAAKxnC,OAAOh6B,OAAOwE,KAAK,KACrDy+D,EAAclmB,GAAW,SAASuC,GAEhC,OADAkiB,EAAIO,WAAWhlB,EAASuC,GACjB2jB,GAwBX,OApBAA,EAAc5jB,QAAU,WACtB,OlDpHS,UAAe,KAC5Bl1C,EAAO,SAAQ,OACfuC,EAAS,SAAQ,OACjB02D,EAAS,SAAQ,UACjBC,EAAY,IAAG,KACfz+D,EAAO,EAAC,OACRo4B,EAAM,OACNv0B,EAAM,IACN66D,EAAG,QACH1N,EAAO,WACP2N,EAAa,KAEb,IAAoC,IAAjCltB,EAAc/rC,QAAQH,GACvB,MAAMT,MAAM,sBAAuBS,GAGrC,IAAsC,IAAnCmsC,EAAchsC,QAAQ84D,GACvB,MAAM15D,MAAM,kBAAmB05D,GAGjC,IAAItsB,EACJ,SAAS0sB,IACPD,EAAW7lC,SAAQ,SAAS+lC,GAC1B3sB,EAAM3xC,MAAMs+D,MAGhB,IAAIC,EAAah3D,GAAUvC,EACvBw5D,EAAe,CACjBpO,KAAM,SAASz8B,GAIb,OAHAge,EAAQ,OAAApa,EAAA,GAAO,CAACM,SAAQp4B,SACxBkyC,EAAM5W,OAAO,CAACpH,KAAiB,aAAVsqC,EAAyB3J,KAAKt/C,MAAM2e,GAAQA,IACjE0qC,IACO1sB,EAAMhe,QAEf8qC,IAAK,SAASzsC,GACZ,IAAI2B,EAAO,OAAA3e,EAAA,GAAMgd,EAAMksC,GAMvB,OAHAvsB,EAAQ,OAAApa,EAAA,GAAO,CAACM,SAAQp4B,SACxBkyC,EAAMzY,QAAQvF,GACd0qC,IACO1sB,EAAMhe,QAEf4D,OAAQ,WACN,GAAGtxB,OAAOwnC,UAAUnqC,EAAO7D,OAAStB,MAAMa,QAAQsE,EAAOo0B,OACvD,OAAOp0B,IAKbk7D,EAAaxsC,KAAOwsC,EAAaC,IACjC,IAAIxN,EAAW,SAASt9B,GACtB,OAAO,IAAItB,SAAQ,SAASC,EAASC,GACK,mBAA9BisC,EAAaD,GACrBjsC,EAAQksC,EAAaD,GAAY5qC,IAEjCpB,EAAOhuB,MAAM,4BAA6Bg6D,QAKhD,GAAc,SAAXN,EAAmB,CACpB,IAAIS,EAAaP,GAAO76D,EACxB,OAAOq7D,EAAA,IAAS,CAACR,IAAKO,EAAYE,SAAUL,IAAaM,KAAK5N,GACzD,MAAc,aAAVgN,EACF,IAAI5rC,SAAQ,SAASC,EAASC,GACnC,IAAIusC,EAAS,IAAIC,UAAUz7D,GAC3Bw7D,EAAOE,OAAS,WACS,mBAAd,GAA0BvO,EAAQqO,IAE7CA,EAAOG,UAAY,SAASptC,GAC1BS,EAAQksC,EAAaD,GAAY1sC,EAAM8B,QAEzCmrC,EAAO5T,QAAU,SAASgU,GACxB3sC,EAAO2sC,OAIJjO,EAAS3tD,GkDsCPQ,CAAMwzB,GAAKunC,MAAK,SAASlrC,GAS9B,OARGx1B,MAAMa,QAAQs4B,EAAIW,WACnBtE,EAAKsE,QAAUX,EAAIW,SAErBokC,EAAI1oC,KAAKA,GACT0oC,EAAIH,OAAM,GACVG,EAAI3mB,MACJ2mB,EAAIH,OAAM,GACV8B,GAAa,EACN,IAAI3rC,SAAQ,SAASC,EAASC,GAEnC,OADAD,EAAQ+pC,EAAIhgC,OAAO,QACZggC,SAKbyB,EAAcqB,OAASrB,EAAc5jB,QAElC5iB,EAAI8kC,OAAM/uB,EAAGM,QAAUrW,EAAI8kC,MACvB0B,GAGTzB,EAAI+C,QAAU,SAASC,GACrB,IAAIC,EAAYD,EAAS,GACzB,IAAKC,EAAUtjE,eAAe,SAC5B,MAAMuI,MAAM,sCAEd,IAAIu5D,EAAgBzB,EAAIv4D,MAAMw7D,GAM9B,OALAD,EAASjhE,MAAM,GAAGm6B,QAAQ4hB,IACxB,IAAI/d,EAAMvhC,OAAOwE,KAAK86C,GAAM,GAC5B2jB,EAAc1hC,GAAK+d,EAAK/d,MAGnBigC,GAGTA,EAAIvhB,UAAY,SAAUrgD,GACxB,OAAO4yC,EAAGyN,UAAUrgD,IAGtB4hE,EAAIkD,kBAAoB,WACH,CAAC,eAAgB,WAAY,MACnChnC,QAAQinC,IACnBnyB,EAAG6E,gBAAgBstB,GACnBnyB,EAAGyB,IAAI4J,WAAY,EAAK,EAAK,EAAK,GAClCrL,EAAGyB,IAAI1vC,MAAOiuC,EAAGyB,IAAI6J,iBAAmBtL,EAAGyB,IAAI8J,qBAInDyjB,EAAIoD,QAAU,SAASC,GAiBrB,OAhBArD,EAAIgB,OACJhB,EAAIkD,oBACJlyB,EAAG+jB,aAAe,GAClB/jB,EAAGymB,UAAY,GACfzmB,EAAG2Q,aAAe,GAClB3Q,EAAGkC,QAAQ+B,YAAY3d,KAAO,EAC9B0oC,EAAIW,aAEJ0C,EAAMnnC,SAAQ,SAAS4hB,GACrB,IAAI/d,EAAMvhC,OAAOwE,KAAK86C,GAAM,GACxB7iB,EAAM6iB,EAAK/d,GACfA,EAAMA,EAAIh+B,MAAM,GACM,mBAAZi+D,EAAIjgC,IACZigC,EAAIjgC,GAAK9E,MAGN+kC,GAGTA,EAAIsD,SAAW,SAASxlB,QACH,IAAV,GAAuB9M,EAAG+jB,aAAa9xD,KAAK66C,GACrD9M,EAAG+jB,aAAa74B,SAAQ,SAASqnC,GAE/B,IAAI93C,EAAW83C,EAAY93C,UAAY,SAASmH,GAC9Coe,EAAGymB,UAAY8L,EAAY3O,SACvB5jB,EAAGwN,UACLxN,EAAGwN,SAAU,EACbxN,EAAG2Q,aAAe,GACK,iBAAb/uB,GACRp0B,OAAOwE,KAAK4vB,GAAWsJ,SAAQ,SAASv2B,GACtC,GAAGitB,EAAUjtB,GAAG/D,OAAS,GACpBovC,EAAGrV,UAAUh8B,eAAegG,GAAI,CACjC,IAAI5G,EAAS+C,MAAMa,QAAQiwB,EAAUjtB,IACjCitB,EAAUjtB,GAAG,GACbitB,EAAUjtB,GACditB,EAAUjtB,GAAK,CAAC5G,EAAMiyC,EAAGrV,UAAUh2B,GAAG8G,SAAU1N,GAMpDiyC,EAAG2Q,aAAah8C,GAAKitB,EAAUjtB,MAGnCqrC,EAAG0mB,cAAgB,aACnB1mB,EAAGkC,QAAQ2N,aAAavpB,KAAO,GAC/B0Z,EAAGkC,QAAQ4G,UAAUxiB,KAAO,GAC5B0oC,EAAIgB,OAAO3nB,MACXrI,EAAG0mB,cAAgB,WACnB1mB,EAAGkC,QAAQ4G,UAAUxiB,KAAO,GAC5B0oC,EAAIgB,OAAO3nB,MACXrI,EAAG0mB,cAAgB,aACnB1mB,EAAGwN,SAAU,EACbxN,EAAGkC,QAAQ2N,aAAavpB,KAAO,GAC/B0Z,EAAGkC,QAAQ4G,UAAUxiB,KAAO,MGzOvB,SAAkB0Z,EAAI7V,GACnC,IAAIqoC,EAAWroC,EAAQ64B,MAAQ,CAAChjB,EAAG+gB,MAAM,GAAGllC,IAExC/qB,MAAMa,QAAQ6gE,KAAWA,EAAW,CAACA,IAEzC,IAAIC,EAAUtoC,EAAQsoC,SAAWtoC,EAAQuoC,QAAU,GACjDhQ,EAAYv4B,EAAQu4B,WAAa,GACjC+C,EAAQt7B,EAAQs7B,QAAS,EACzBhrC,EAAW0P,EAAQ1P,UAAY,aAE9BulB,EAAGwN,UAEFkV,EAAUvyD,GAAMuyD,EAAU/rD,IAC5B+rD,EAAUvyD,EAAIuyD,EAAU/rD,GAAI,GAG9B67D,EAAStnC,SAAQ,SAASs7B,GACxB,IAAItG,EAAMlgB,EAAG+gB,MAAMxjD,OAAOb,GAAGA,EAAEmf,IAAM2qC,GAAS,GAK9C,GAJI11D,MAAMa,QAAQ8gE,KAChBA,EAAU,CAACA,SAGFr/D,IAAR8sD,IAAsBA,EAAIvxD,eAAe,SAAU,OAEtD,IAAI2kD,EAAO4M,EAAI5M,KACb1kD,EAAIsxD,EAAInsD,SAAWisC,EAAGjsC,QACtBuN,EAAI4+C,EAAI3oD,MAAQ3I,EAAEgb,KAAOhb,EAAEqa,MAC3BkP,EAAI+nC,EAAI7a,OAASz2C,EAAEiuC,IAAMjuC,EAAEkuC,OAEzB61B,EAAazS,EAAInH,MAAM3T,IAAIxe,OAAO,KACnCzC,KAAK,QAAS,YAEJ,SAAVshC,EACDttC,EAAI6nB,EAAG0L,SAAS,GAAK98C,EAAEkuC,OACL,YAAV2oB,IACRnkD,EAAI0+B,EAAG0L,SAAS,GAAK98C,EAAEqa,OAGzB,IAAIovB,EAAOs6B,EAAW/rC,OAAO,QAC1BzC,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,QAAS7iB,GACd6iB,KAAK,SAAUhM,GACfgM,KAAK,eAAgB,GACrBA,KAAK,SAAU,QAEdihB,EAAMutB,EAAWvtB,IACnBqB,EAAMpO,EAAK+M,IAAIoB,wBAEjB,SAASosB,EAAa/3D,GACpB,IAAIu4B,EAAKv4B,EAAEsrC,QAAUM,EAAI78B,KACrBypB,EAAKx4B,EAAEurC,QAAUK,EAAI5J,IACrBjb,EAAY,GAOhB,OANG0xB,EAAKnjD,IACNyxB,EAAU0xB,EAAKnjD,GAAK,CAAC+vD,EAAInH,MAAM5oD,EAAEuG,OAAO08B,KAEvCkgB,EAAK38C,IACNirB,EAAU0xB,EAAK38C,GAAK,CAACupD,EAAInH,MAAMpiD,EAAED,OAAOyhB,EAAIkb,KAEvCzR,EAGT6wC,EAAQvnC,SAAQ,SAASy4B,GACvB,GAAc,UAAXA,EAAoB,CACrBve,EAAIjnB,MAAM00C,OAAS,YACnB,IAAIC,EAAe,CACjB3tB,UAAWwtB,EACXp7D,MAAO+J,EACP+jC,OAAQltB,GAGV,IAAIrnB,MAAMa,QAAQ2hD,EAAKnjD,KAAOW,MAAMa,QAAQ2hD,EAAK38C,GAAI,CACnD,IAAIo8D,EAAerQ,EAAc,KAAI,WAAa,QAClDoQ,EAAaC,GAAe,SAAS3lE,GACnC,IAAIw0B,EAAY,GACb0xB,EAAKnjD,GAAK/C,EAAE+C,IAAGyxB,EAAU0xB,EAAKnjD,GAAK/C,EAAE+C,GACrCmjD,EAAK38C,GAAKvJ,EAAEuJ,IACTvJ,EAAEuJ,EAAE,GAAKvJ,EAAEuJ,EAAE,GACfirB,EAAU0xB,EAAK38C,GAAKvJ,EAAEuJ,EAAEhD,UAExBiuB,EAAU0xB,EAAK38C,GAAKvJ,EAAEuJ,GAI1BnJ,OAAOwE,KAAK4vB,GAAWsJ,QAAQv2B,IAC7B,GAAIqrC,EAAG3U,cAAgB2U,EAAG3U,aAAa18B,eAAegG,GAAI,CACxD,IAAIzC,EAAS8tC,EAAG3U,aAAa12B,GACzBf,EAAQ1E,KAAKa,MAAM6xB,EAAUjtB,GAAG,IAChC6I,EAAMtO,KAAKa,MAAM6xB,EAAUjtB,GAAG,IAC/B6I,IAAQ5J,IAAOA,GAAS,GAC3BguB,EAAUjtB,GAAK,CAACzC,EAAO0B,GAAQ1B,EAAOsL,OAI1Cid,EAASmH,IAER8gC,EAAUvyD,GAAmC,mBAAvB+vD,EAAInH,MAAM5oD,EAAQ,SACzC2iE,EAAa3iE,EAAI+vD,EAAInH,MAAM5oD,EAAEuG,QAE5BgsD,EAAU/rD,GAAmC,mBAAvBupD,EAAInH,MAAMpiD,EAAQ,SACzCm8D,EAAan8D,EAAKA,GACC,SAAd28C,EAAKe,KACC6L,EAAInH,MAAMpiD,EAAED,OAAOyhB,EAAExhB,GAEvBupD,EAAInH,MAAMpiD,EAAED,OAAOC,IAI9B,IAAI,EAAMm8D,GAGZ,IACEE,EAAa,GADJ,CAAC,IAAK,KAGZ9nC,SAAQ,SAASypB,GACpB,GAAG7jD,MAAMa,QAAQ2hD,EAAKqB,KAAS7jD,MAAMa,QAAQuuD,EAAInH,MAAMpE,IAAM,CAC3D,IAAI2F,EAAmB,KAAP3F,EAAcx8B,EAAI7W,EAChC2xD,EAAY/S,EAAInH,MAAM3T,IAAIxe,OAAO,KAEnC0zB,GAAwBhH,EAAKqB,GAAK/jD,OAAO,EAEzC0iD,EAAKqB,GAAKzpB,SAAQ,SAAS99B,EAAGN,GAE5B,IAAIomE,EAAaD,EAAUrsC,OAAO,KACxB,KAAP+tB,GACDme,EAAaztB,OAAoB,GAAXiV,EACtB4Y,EAAWr1C,UAAU,EAAGy8B,GAAYxtD,EAAI,KACxCgmE,EAAa7tB,MAAQ,SAAS9zC,GAC5B6hE,EAAW5lE,GAAK+D,EAAMwjD,GACtBl6B,EAASu4C,MAGXF,EAAav7D,MAAmB,GAAX+iD,EACrB4Y,EAAWr1C,UAAUy8B,GAAYxtD,EAAI,IAAM,GAC3CgmE,EAAa7tB,MAAQ,SAAS9zC,GAC5B6hE,EAAW5lE,GAAK+D,EAAMwjD,GAAKhhD,UAC3B8mB,EAASu4C,KAGbF,EAAa3tB,UAAY+tB,EACzBJ,EAAane,GAAOuL,EAAInH,MAAMpE,GAAK7nD,GAAG4J,OAEtC,IAAI,EAAMo8D,eAIX,GAAc,SAAXnP,EAAmB,CAC3BzD,EAAI4B,cAAe,EACnB,IAAIqR,EAAQ,CAAChjE,EAAG,KAAMwG,EAAG,MACrB9D,EAAQ,IACZuyC,EAAIguB,QAAU,SAASv4D,GACrB,IAAIw4D,EAAOx4D,EAAEy4D,OAAS,EAAK,GAAK,EAC5B1xC,EAAY,GACZ2xC,EAAa,CACfpjE,GAAI0K,EAAEsrC,QAAUM,EAAI78B,MAAQ68B,EAAIlvC,MAChCZ,EAAG,GAAOkE,EAAEurC,QAAUK,EAAI5J,KAAO4J,EAAIpB,QAGvC,IAAK,IAAIsP,IAAO,CAAC,IAAK,KACpB,GAAG+N,EAAU/N,GAAM,CACjB,IAAIxwB,EAAO+7B,EAAI5M,KAAKqB,GACF,OAAfwe,EAAMxe,KACPwe,EAAMxe,GAAQ9hD,GAASqtD,EAAIhzB,QAAQ/I,GAAM,GAAK+7B,EAAIhzB,QAAQ/I,GAAM,KAGlE,IAAIjzB,EAASgvD,EAAIhzB,QAAQ/I,GACrBy2B,EAAY,CAAC1pD,EAAO,GAAKmiE,EAAMF,EAAMxe,GAAQ4e,EAAW5e,GAAOzjD,EAAO,GAAKmiE,EAAMF,EAAMxe,IAAQ,EAAE4e,EAAW5e,KAC7GiG,EAAU,GAAKA,EAAU,GAAK,MAC/Bh5B,EAAUuC,GAAQy2B,EAClBsF,EAAIhzB,QAAQ/I,GAAQy2B,GAEpB/nD,GAAS,GAKf4nB,EAASmH,SAGN,GAAa,OAAV+hC,EAAiB,CACzBve,EAAIjnB,MAAM00C,OAAS,OACnB3S,EAAI4B,cAAe,EACnB,IAAIlgC,EAAY,GAChBwjB,EAAIouB,YAAc,SAAS34D,GACzB,IAAI+qC,EAAK/qC,EAAEsrC,QACPN,EAAKhrC,EAAEurC,QAGX,SAASqtB,EAAM54D,GACb,IAAIs4D,EAAQ,CACVhjE,IAAK0K,EAAEsrC,QAAUP,GAAMa,EAAIlvC,MAC3BZ,GAAIkE,EAAEurC,QAAUP,GAAMY,EAAIpB,QAE5B,IAAK,IAAIsP,IAAO,CAAC,IAAK,KACpB,GAAG+N,EAAU/N,GAAM,CACjB,IAAIxwB,EAAO+7B,EAAI5M,KAAKqB,GAChBzjD,EAASgvD,EAAIhzB,QAAQ/I,GACrBqL,EAAO2jC,EAAMxe,IAAQzjD,EAAO,GAAKA,EAAO,IACxC0pD,EAAY,CAAC1pD,EAAO,GAAKs+B,EAAMt+B,EAAO,GAAKs+B,GAC/C5N,EAAUuC,GAAQy2B,EAClBsF,EAAIhzB,QAAQ/I,GAAQy2B,EAGxBhV,EAAK/qC,EAAEsrC,QACPN,EAAKhrC,EAAEurC,QACP3rB,EAASmH,GAnBXwjB,EAAIjnB,MAAM00C,OAAS,OAsBnB74C,OAAOgsB,iBAAiB,YAAaytB,GAAO,GAC5Cz5C,OAAOgsB,iBAAiB,WAAW,WACjCZ,EAAIjnB,MAAM00C,OAAS,UACnB74C,OAAO8sB,oBAAoB,YAAa2sB,GAAO,MAC9C,QAIc,UAAX9P,IACRve,EAAImU,QAAU,SAAS1+C,GACrB4f,EAASm4C,EAAa/3D,MAIZ,UAAX8oD,IACDve,EAAIsuB,YAAc,SAAS74D,GACzB4f,EAASm4C,EAAa/3D,IACtBuqC,EAAIuuB,YAAc,SAAS94D,GACzB4f,EAASm4C,EAAa/3D,cHU5By3D,CAAStyB,EAAI,CACXyyB,QAASF,EAAY/tC,MACrBw+B,KAAMuP,EAAYliB,KAClBqS,UAAW6P,EAAY7P,UACvB+C,MAAO8M,EAAY9M,MACnBhrC,SAAUA,QAIhBulB,EAAG2mB,QAAUqI,EAAIsD,SACjBtD,EAAI4E,YAAe9I,GAAqBkE,EAAI6E,WAAW/I,GAAS,GAChEkE,EAAI6E,WAAa,SAAS/I,EAASgJ,GAAa,GAC9C,IAAIxtC,EACJ,GAAGwkC,EAAQ/9B,mBACTzG,EAAOwkC,MACF,CAEL,IAAIxmB,EAAQ,OAAApa,EAAA,GAAO,CACjBM,OAAQwV,EAAGG,WACX1V,UAAWuV,EAAGvV,YAEhB6Z,EAAMzY,QAAQi/B,GACdxkC,EAAOge,EAAMhe,OA0Cf,OAvCA94B,OAAOwE,KAAKs0B,EAAKmE,WAAWS,QAAS/G,IACnC6b,EAAGvV,UAAUtG,GAAQ32B,OAAOkrB,OAAOsnB,EAAGvV,UAAUtG,GAAOmC,EAAKmE,UAAUtG,MAGrEmC,EAAKl0B,KAAO,IACb4tC,EAAGK,SAAW/Z,EAAKl0B,MAErB4tC,EAAGY,OACF7vC,MAAMivC,EAAGpV,QAAQh6B,QACjBs6B,QAAQ,CAAC/G,EAAMqJ,KACd,IAAIoS,EAAM,IAAIrW,aAAayW,EAAGU,cAAc,GAAKV,EAAGU,cAAc,IAClE,IAAK,IAAI5zC,EAAI,EAAGC,EAAIu5B,EAAKnC,GAAMvzB,OAAQ9D,EAAIC,EAAGD,IAC5C8yC,EAAI9yC,GAAKw5B,EAAKnC,GAAMr3B,GAEtBkzC,EAAGqC,QAAQI,MAAMC,OACf9C,EAAK,CAAC,EAAGI,EAAGU,cAAc,GAAKlT,GAAKwS,EAAGU,eAGvCV,EAAGiC,aAAazU,GADdsmC,EACoB,CACpB5kE,KAAKwB,IAAI41B,EAAKsG,MAAMzI,GAAMzzB,IAAKsvC,EAAGiC,aAAazU,GAAI,IACnDt+B,KAAKuB,IAAI61B,EAAKsG,MAAMzI,GAAM1zB,IAAKuvC,EAAGiC,aAAazU,GAAI,KAG/B,CAAClH,EAAKsG,MAAMzI,GAAMzzB,IAAK41B,EAAKsG,MAAMzI,GAAM1zB,KAEhEuvC,EAAGa,YAAYrT,GAAMwS,EAAGiC,aAAazU,GAAI,GAAKwS,EAAGiC,aAAazU,GAAI,GAAK,EACpElH,EAAKoE,SAAS/7B,eAAew1B,KAC9B6b,EAAGiC,aAAazU,GAAM,CAAC,EAAGlH,EAAKoE,SAASvG,GAAMvzB,OAAS,GACvDovC,EAAGtV,SAASvG,GAAQmC,EAAKoE,SAASvG,GAClC6b,EAAGa,YAAYrT,GAAMlH,EAAKoE,SAASvG,GAAMvzB,UAI7Co+D,EAAIpnB,eAAe,WAAY,CAC7B3F,aAAcjC,EAAGiC,aACjBpB,YAAab,EAAGa,cAElBb,EAAGkC,QAAQY,cAAcxc,KAAO0Z,EAAGiC,aACnCjC,EAAGkC,QAAQW,aAAavc,KAAO0Z,EAAGa,YAC3BmuB,GAGTA,EAAI+E,iBAAmB,SAASztC,EAAMib,GACpC,IAAqC,IAAlCvB,EAAGY,OAAO9oC,QAAQypC,GACnB,MAAMrqC,MAAM,oBAAqBqqC,GAEnC,IAAI3B,EAAM,IAAIrW,aAAayW,EAAGU,cAAc,GAAKV,EAAGU,cAAc,IAC9D5S,EAASkS,EAAGY,OAAO9oC,QAAQypC,GAAavB,EAAGpV,QAAQh6B,OACvD,IAAK,IAAI9D,EAAI,EAAGC,EAAIu5B,EAAKib,GAAW3wC,OAAQ9D,EAAIC,EAAGD,IACjD8yC,EAAI9yC,GAAKw5B,EAAKnC,MAAMr3B,GAEtBkzC,EAAGqC,QAAQI,MAAMC,OACf9C,EAAK,CAAC,EAAGI,EAAGU,cAAc,GAAK5S,GAASkS,EAAGU,gBAI/CsuB,EAAIgF,cAAgB,SAAS1tC,EAAM2tC,GACjC,IAAI1C,EAAYzgE,MAAMa,QAAQ20B,GAAS,QAAU,OASjD,OARA0Z,EAAGY,OAAO7vC,MAAMivC,EAAGpV,QAAQh6B,QAAQs6B,QAAQ,CAAC/G,EAAMqJ,KAChD,IAAI0mC,EAAUD,EAAQj0B,EAAGU,cAAc,GAEvC,QAAattC,KADY,SAAZm+D,EAAuBjrC,EAAKkH,GAAMlH,EAAKnC,IAC5B,MAAMjtB,MAAM,gDACpC8oC,EAAGqC,QAAQI,MAAMC,OACf,IAAInZ,aAAajD,EAAKkH,IAAM,CAAC0mC,EAASl0B,EAAGU,cAAc,GAAK5zC,GAAI,CAAC,EAAE,MAGhEkiE,GAGTA,EAAI71C,OAAS,SAAS8Q,GACpB,IAAIkqC,EAAa3mE,OAAOkrB,OAAO,CAC7B6qC,iBAAiB,EACjBT,aAAa,EACbI,YAAY,EACZzG,YAAY,GACXxyB,GAEmB72B,MAAnB+gE,EAAW9mE,MACoB,mBAAxB8mE,EAAW7Q,UACkB,mBAA3B6Q,EAAWviE,aAErBouC,EAAGyiB,WAAWxwD,KAAKkiE,IAGvBnF,EAAI5mB,WAAWn2C,KAAK,YACpB+8D,EAAIoF,SAAW,UAAU,GACvBv4C,EAAK,EAAC,KACNw4B,EAAO,OAAM,MACbv/C,EAAQ,MAAK,KACb1C,EAAO,EAAC,EACRjC,EAAI,KAAI,EACRwG,EAAI,KAAI,MACRwnB,EAAQ,CAAC,mBAAoB,SAE7B,IAAI6kC,EAAOhjB,EAAG+gB,MAAM,GAChBnoD,OAAOwnC,UAAUvkB,IAAOA,EAAKmkB,EAAG+gB,MAAMnwD,OACxCoyD,EAAOhjB,EAAG+gB,MAAMllC,IAEhBmkB,EAAG+gB,MAAMxjD,OAAOb,GAAKA,EAAEmf,IAAMA,GACzBmnC,EAAKpyD,OAAS,IAChBoyD,EAAOA,EAAK,KAIH7yD,EAAElD,KAAK,MACbi+B,QAAQ86B,IACb,IAAIqO,EAAQrR,EAAKjK,MAAM3T,IAAIxe,OAAO,QAC/BzC,KAAK,SAAUrvB,GACfqvB,KAAK,eAAgB/xB,GAExB,GAAiB,mBAANjC,EAAkB,CAC3B,IACIA,GADY6yD,EAAa,SAAIA,EAAKQ,SAAS3H,OAAO1rD,EAAI6yD,EAAKjK,MAAM5oD,GACpD61D,GACjBqO,EAAMlwC,KAAK,KAAMh0B,GAAGg0B,KAAK,KAAMh0B,GAC5Bg0B,KAAK,KAAM,GACXA,KAAK,KAAM6+B,EAAK3d,OAAS2d,EAAKjvD,QAAQ8oC,IAAMmmB,EAAKjvD,QAAQ+oC,aAEvD,GAAiB,mBAANnmC,EAAkB,EAClBqsD,EAAa,SAAIA,EAAKQ,SAAS3H,OAAOllD,EAAIqsD,EAAKjK,MAAMpiD,GACpDqvD,GACF/4D,KAAK,MACbi+B,QAAQ86B,IACb,IAAIrvD,EAAIqsD,EAAKjK,MAAMpiD,EAAEqvD,GACrBqO,EAAMlwC,KAAK,KAAMxtB,GAAGwtB,KAAK,KAAMxtB,GAC5BwtB,KAAK,KAAM,GAAGA,KAAK,KAAM6+B,EAAKzrD,MAAQyrD,EAAKjvD,QAAQ6V,KAAOo5C,EAAKjvD,QAAQsxC,UAI9E73C,OAAOwE,KAAKmsB,GAAO+M,QAAQqwB,IACzB8Y,EAAMl2C,MAAMo9B,EAAMp9B,EAAMo9B,SAO9B,IAAI+Y,EAAmBnqC,EAAQ7D,MAAQ6D,EAAQ1zB,MAC/C,OAAIupC,EAAG6uB,OAASyF,EACP5D,EAAWvmC,EAAQ7D,MACjB0Z,EAAG6uB,OACZ4B,EAAcnqC,KAAOoqC,EACrBD,EAAch6D,MAAQi6D,EACfD,GAEAzB,I,cIvZXniE,EAAOD,QAAU,CAef2nE,cAAc,EAedC,UAAU,EAsBVC,kBAAmB,GAoBnBC,UAAU,EAoBVC,kBAAmB,CAAC,OAAQ,QAAS,UAAW,Y,6BC5FlD,mCAKe,eACb,IAAIxkE,EAAI,IACJwG,EAAI,IACJi+D,EAAU,aAAS,GACnB5uC,EAAU,KACVqQ,EAAQ,IACR7/B,EAAS,KAEb,SAASqwB,EAAKP,GACZ,IAAIx5B,EAEAM,EAEAgnC,EAHA7lC,EAAI+3B,EAAK11B,OAETikE,GAAW,EAKf,IAFe,MAAX7uC,IAAiBxvB,EAAS6/B,EAAMjC,EAAS,gBAExCtnC,EAAI,EAAGA,GAAKyB,IAAKzB,IACdA,EAAIyB,GAAKqmE,EAAQxnE,EAAIk5B,EAAKx5B,GAAIA,EAAGw5B,MAAWuuC,KAC5CA,GAAYA,GAAUr+D,EAAOoW,YAC5BpW,EAAOqW,WAEVgoD,GAAUr+D,EAAOwV,OAAO7b,EAAE/C,EAAGN,EAAGw5B,IAAQ3vB,EAAEvJ,EAAGN,EAAGw5B,IAGtD,GAAI8N,EAAQ,OAAO59B,EAAS,KAAM49B,EAAS,IAAM,KAuBnD,OApBAvN,EAAK12B,EAAI,SAAS2C,GAChB,OAAO1B,UAAUR,QAAUT,EAAiB,mBAAN2C,EAAmBA,EAAI,aAAUA,GAAI+zB,GAAQ12B,GAGrF02B,EAAKlwB,EAAI,SAAS7D,GAChB,OAAO1B,UAAUR,QAAU+F,EAAiB,mBAAN7D,EAAmBA,EAAI,aAAUA,GAAI+zB,GAAQlwB,GAGrFkwB,EAAK+tC,QAAU,SAAS9hE,GACtB,OAAO1B,UAAUR,QAAUgkE,EAAuB,mBAAN9hE,EAAmBA,EAAI,cAAWA,GAAI+zB,GAAQ+tC,GAG5F/tC,EAAKwP,MAAQ,SAASvjC,GACpB,OAAO1B,UAAUR,QAAUylC,EAAQvjC,EAAc,MAAXkzB,IAAoBxvB,EAAS6/B,EAAMrQ,IAAWa,GAAQwP,GAG9FxP,EAAKb,QAAU,SAASlzB,GACtB,OAAO1B,UAAUR,QAAe,MAALkC,EAAYkzB,EAAUxvB,EAAS,KAAOA,EAAS6/B,EAAMrQ,EAAUlzB,GAAI+zB,GAAQb,GAGjGa,I,6BCrDT,qDAGO,SAAS7a,EAAM+Y,EAAM50B,EAAGwG,GAC7B,IAAI6E,EAAKupB,EAAKoJ,IACV6D,EAAKjN,EAAKsJ,IACV4D,EAAKlN,EAAKgM,IACVmB,EAAKnN,EAAKiM,IAEd,GAAIjM,EAAKoV,OAAS,IAAS,CACzB,IAAIlmC,EAAI,EAAI8wB,EAAKuV,QAAU,EAAIvV,EAAKoV,OAASpV,EAAKqV,OAASrV,EAAKwV,QAC5DhsC,EAAI,EAAIw2B,EAAKoV,QAAUpV,EAAKoV,OAASpV,EAAKqV,QAC9C5+B,GAAMA,EAAKvH,EAAI8wB,EAAKmJ,IAAMnJ,EAAKwV,QAAUxV,EAAKgM,IAAMhM,EAAKuV,SAAW/rC,EACpEyjC,GAAMA,EAAK/9B,EAAI8wB,EAAKqJ,IAAMrJ,EAAKwV,QAAUxV,EAAKiM,IAAMjM,EAAKuV,SAAW/rC,EAGtE,GAAIw2B,EAAKsV,OAAS,IAAS,CACzB,IAAIrmC,EAAI,EAAI+wB,EAAKyV,QAAU,EAAIzV,EAAKsV,OAAStV,EAAKqV,OAASrV,EAAKwV,QAC5DrtC,EAAI,EAAI63B,EAAKsV,QAAUtV,EAAKsV,OAAStV,EAAKqV,QAC9CnI,GAAMA,EAAKj+B,EAAI+wB,EAAKoJ,IAAMpJ,EAAKyV,QAAUrqC,EAAI40B,EAAKwV,SAAWrtC,EAC7DglC,GAAMA,EAAKl+B,EAAI+wB,EAAKsJ,IAAMtJ,EAAKyV,QAAU7jC,EAAIouB,EAAKwV,SAAWrtC,EAG/D63B,EAAKiJ,SAASC,cAAczyB,EAAIw2B,EAAIC,EAAIC,EAAInN,EAAKgM,IAAKhM,EAAKiM,KAG7D,SAAS8jC,EAAW9uC,EAASiU,GAC3B5oC,KAAK28B,SAAWhI,EAChB30B,KAAK6oC,OAASD,EAGhB66B,EAAWpmE,UAAY,CACrB6/B,UAAW,WACTl9B,KAAKm9B,MAAQ,GAEfC,QAAS,WACPp9B,KAAKm9B,MAAQj5B,KAEfqX,UAAW,WACTvb,KAAK68B,IAAM78B,KAAK88B,IAAM98B,KAAK0/B,IAC3B1/B,KAAK+8B,IAAM/8B,KAAKg9B,IAAMh9B,KAAK2/B,IAAMz7B,IACjClE,KAAK8oC,OAAS9oC,KAAK+oC,OAAS/oC,KAAKgpC,OACjChpC,KAAKipC,QAAUjpC,KAAKkpC,QAAUlpC,KAAKmpC,QACnCnpC,KAAKq9B,OAAS,GAEhB7hB,QAAS,WACP,OAAQxb,KAAKq9B,QACX,KAAK,EAAGr9B,KAAK28B,SAASW,OAAOt9B,KAAK0/B,IAAK1/B,KAAK2/B,KAAM,MAClD,KAAK,EAAG3/B,KAAK2a,MAAM3a,KAAK0/B,IAAK1/B,KAAK2/B,MAEhC3/B,KAAKm9B,OAAyB,IAAfn9B,KAAKm9B,OAA+B,IAAhBn9B,KAAKq9B,SAAer9B,KAAK28B,SAASY,YACzEv9B,KAAKm9B,MAAQ,EAAIn9B,KAAKm9B,OAExBxiB,MAAO,SAAS7b,EAAGwG,GAGjB,GAFAxG,GAAKA,EAAGwG,GAAKA,EAETtF,KAAKq9B,OAAQ,CACf,IAAI+L,EAAMppC,KAAK0/B,IAAM5gC,EACjBuqC,EAAMrpC,KAAK2/B,IAAMr6B,EACrBtF,KAAKgpC,OAASnrC,KAAKkB,KAAKiB,KAAKmpC,QAAUtrC,KAAKc,IAAIyqC,EAAMA,EAAMC,EAAMA,EAAKrpC,KAAK6oC,SAG9E,OAAQ7oC,KAAKq9B,QACX,KAAK,EAAGr9B,KAAKq9B,OAAS,EAAGr9B,KAAKm9B,MAAQn9B,KAAK28B,SAASW,OAAOx+B,EAAGwG,GAAKtF,KAAK28B,SAASa,OAAO1+B,EAAGwG,GAAI,MAC/F,KAAK,EAAGtF,KAAKq9B,OAAS,EAAG,MACzB,KAAK,EAAGr9B,KAAKq9B,OAAS,EACtB,QAAS1iB,EAAM3a,KAAMlB,EAAGwG,GAG1BtF,KAAK8oC,OAAS9oC,KAAK+oC,OAAQ/oC,KAAK+oC,OAAS/oC,KAAKgpC,OAC9ChpC,KAAKipC,QAAUjpC,KAAKkpC,QAASlpC,KAAKkpC,QAAUlpC,KAAKmpC,QACjDnpC,KAAK68B,IAAM78B,KAAK88B,IAAK98B,KAAK88B,IAAM98B,KAAK0/B,IAAK1/B,KAAK0/B,IAAM5gC,EACrDkB,KAAK+8B,IAAM/8B,KAAKg9B,IAAKh9B,KAAKg9B,IAAMh9B,KAAK2/B,IAAK3/B,KAAK2/B,IAAMr6B,IAI1C,kBAEb,SAASgkC,EAAW3U,GAClB,OAAOiU,EAAQ,IAAI66B,EAAW9uC,EAASiU,GAAS,IAAI,IAASjU,EAAS,GAOxE,OAJA2U,EAAWV,MAAQ,SAASA,GAC1B,OAAO7I,GAAQ6I,IAGVU,EAVM,CAWZ,K,6BCvFY,gBACb,OAAO,WACL,OAAOxqC,K,6BCFX,kCAAO,IAAI4kE,EAAQ,+BAEJ,KACb3vB,IAAK,6BACL2vB,MAAOA,EACPC,MAAO,+BACPC,IAAK,uCACLC,MAAO,kC,6BCPT,oEAAO,IAAIC,EAAUjmE,KAAKC,GAAK,IACpBimE,EAAU,IAAMlmE,KAAKC,I,6BCDhC,WAEIoM,EAAKZ,IACLo3B,EAAKx2B,EACLC,GAAMD,EACNy2B,EAAKx2B,EAEL65D,EAAe,CACjBrpD,MAYF,SAAqB7b,EAAGwG,GAClBxG,EAAIoL,IAAIA,EAAKpL,GACbA,EAAIqL,IAAIA,EAAKrL,GACbwG,EAAIo7B,IAAIA,EAAKp7B,GACbA,EAAIq7B,IAAIA,EAAKr7B,IAfjBiW,UAAW,IACXC,QAAS,IACTC,aAAc,IACdC,WAAY,IACZiiB,OAAQ,WACN,IAAIsmC,EAAS,CAAC,CAAC/5D,EAAIw2B,GAAK,CAACv2B,EAAIw2B,IAE7B,OADAx2B,EAAKw2B,IAAOD,EAAKx2B,EAAKZ,KACf26D,IAWI,O,8BC3Bf,wEASIC,EAAsB,iBAARz5C,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAV05C,GAAsBA,EAAOA,SAAWA,GAAUA,QACzD,EAEX,IAAGlE,KAAO,EACV,IAAGpnC,OAAS,IACZ,IAAGiD,OAAS,EACZ,IAAGxlB,MAAQ,IACX,IAAG8tD,SAAW,CAACC,OAAA,IAAQC,WAAA,KAEvBJ,EAAK5G,GAAK,IACK,IAAA4G,EAAO,GACG,IAAQ,M,+CCrBjC,kCAAO,IAAIxkE,EAAQD,MAAMpC,UAAUqC,O,mKCMvB,SAAO6kE,MACL,SAAOC,QACJ,SAAOC,WAFxB,IAGIC,EAAa,SAAO3K,OAEjB,SAAS4K,EAAcpnE,GAC1B,IAAI8B,EAAM9B,EAAE8B,KAAO,EACfD,EAAM7B,EAAE6B,KAAO7B,EAAEsD,OAAOtB,QAAU,EAClC7C,EAAQ2C,EAAM,EACdulE,EAAkB,UAAVrnE,EAAE4vD,KACR,WAAa,OAAOuX,EAAWnnE,EAAEsnE,KAAMtnE,EAAE0hC,MACzC,WAAa,OAAO5/B,GAAOD,EAAMC,GAAOxB,KAAKinE,UACnD,KAAQpoE,EAAQ2C,GAAO3C,EAAQ0C,GAE3B1C,EAAQkoE,EAAKrnE,GAKjB,OAHGA,EAAED,eAAe,YAChBZ,EAAQ0pB,SAAS1pB,IAEdA,EAwBJ,SAASqoE,EAAYnsC,GACxB,IAAIE,EAAUF,GAAO,GACjB73B,EAAO+3B,EAAQ/3B,MAAQ,EACvBi6B,EAAQlC,EAAQkC,OAAS,GACzB/F,EAAO,IAAIx1B,MAAMsB,GACrB,IAAI,IAAItF,EAAI,EAAGA,EAAIsF,EAAMtF,IACrBw5B,EAAKx5B,GAAK,GACVu/B,EAAMnB,SAAQ,SAASqwB,GACnB,GAAGA,EAAK5sD,eAAe,UAAU,CAC7B,IAAI43D,EAAM9uC,SAAUvoB,KAAKoE,MAAOpE,KAAKinE,UAAY5a,EAAKrpD,OAAOtB,OAAS,KACtE01B,EAAKx5B,GAAGyuD,EAAKluD,MAAQkuD,EAAKrpD,OAAOq0D,OAC9B,CACH,IAAIx4D,EAAQioE,EAAcza,GAC1Bj1B,EAAKx5B,GAAGyuD,EAAKluD,MAAuB,SAAdkuD,EAAKhwB,MAAoBI,WAAW59B,GAASmB,KAAKoE,MAAMvF,OAI1F,OAAOu4B,EAGJ,SAAS+vC,EAAapsC,GACzB,IAAIE,EAAUF,GAAO,GACjB73B,EAAO+3B,EAAQ/3B,MAAQ,EACvBi6B,EAAQlC,EAAQkC,OAAS,GACzB/F,EAAO,IAAIx1B,MAAMsB,GACrB,IAAI,IAAItF,EAAI,EAAGA,EAAIsF,EAAMtF,IACrBw5B,EAAKx5B,GAAK,GACVu/B,EAAMnB,SAAQ,SAASqwB,EAAMtsD,GACzB,GAAGssD,EAAK5sD,eAAe,UAAU,CAC7B,IAAI43D,EAAM9uC,SAAUvoB,KAAKoE,MAAOpE,KAAKinE,UAAY5a,EAAKrpD,OAAOtB,OAAS,KACtE01B,EAAKx5B,GAAGmC,GAAMssD,EAAKrpD,OAAOq0D,OACvB,CACH,IAAIx4D,EAAQioE,EAAcza,GAC1Bj1B,EAAKx5B,GAAGmC,GAAqB,SAAdssD,EAAKhwB,MAAoBI,WAAW59B,GAASmB,KAAKoE,MAAMvF,OAInF,OAAOu4B,I,2ECtFI,gBACX,IAAIx1B,MAAMa,QAAQ20B,GACd,MAAM,IAAIpvB,MAAM,+BAEpB,GAAoB,mBAAX,EACLovB,EAAK4E,QAAQ4hB,OACV,CACH,IACIwpB,EAAS,GAEb9oE,OAAOwE,KAAK86C,GAAM5hB,SAAQ,SAASr8B,GACT,mBAAZi+C,EAAKj+C,GACXynE,EAAOznE,GAAK,SAASzB,GAAKA,EAAEyB,GAAKi+C,EAAKj+C,GAAGzB,IAEzCkpE,EAAOznE,GAAKw1D,SAAS,OAAQ,QAAUx1D,EAAI,IAAMi+C,EAAKj+C,GAAGuK,QAAQ,KAAM,SAASA,QAAQ,MAAO,MAAQ,QAI/GktB,EAAK4E,SAAQ,SAAS99B,GAClBI,OAAOwE,KAAK86C,GAAM5hB,SAAQ,SAASr8B,GAC/BynE,EAAOznE,GAAGzB,SAKtB,OAAOk5B,GCzBP,EAAQ,GACZ,SAASwI,EAAQ7jB,EAAO8jB,GACpB,IAGIC,EAEJ,IAJU/jB,EAAMra,OAIP,OAAO,EAEhB,OAAQm+B,GACJ,IAAK,MACDC,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAQC,EAAID,EAAKC,EAAID,KAEzB,MACJ,IAAK,MACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAQC,EAAID,EAAKC,EAAID,KAEzB,MACJ,IAAK,MACL,IAAK,IACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAEf,MACJ,IAAK,KACL,IAAK,IACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAEf,MACJ,IAAK,OACL,IAAK,IACDg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAEf,MACJ,QACIg7B,EAAS/jB,EAAMgkB,QAAO,SAASh7B,EAAGD,GAC9B,OAAOC,EAAID,KAKvB,OAAOg7B,EAGX,EAAMC,OAAS,SAASF,GACpB,OAAO,SAAS9jB,GACZ,IAAIhX,EAAKgX,aAAiBna,MAASma,EAAQna,MAAMkC,MAAM,KAAM5B,WAC7D,OAAO09B,EAAQ76B,EAAG86B,KAI1B,EAAM9B,IAAM,SAAShiB,GACjB,OAAO6jB,EAAQ7jB,EAAO,KAAOA,EAAMra,QAIvC,EAAM0E,UAAY,SAAS2V,GACvB,IAAIxa,EAAMq+B,EAAQ7jB,EAAO,OACrBva,EAAMo+B,EAAQ7jB,EAAO,OACrB9Z,EAAQV,EAAMC,EAElB,OAAOua,EAAM1Z,KAAI,SAAS0C,GACtB,OAAQA,EAAIvD,GAAOS,MAI3B,EAAM+9B,IAAM,SAASt7B,EAAO4J,EAAK2xB,GAI7B,IAHA,IAAI1zB,EAAW0zB,GAAQ,EACnBlkB,EAAQ,GAEJne,EAAE8G,EAAO9G,GAAG0Q,EAAK1Q,GAAG2O,EACxBwP,EAAMhZ,KAAKnF,GAEf,OAAOme,GAGX,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAMigB,SAAQ,SAAS15B,GACjD,EAAMA,GAAK,EAAMy9B,OAAOz9B,MAG5B,EAAMukC,IAAM,EAAM9G,OAAO,KAEzB,EAAMG,KAAO,EAAMC,MAAQ,SAASp7B,GAIhC,IAHA,IAAIo7B,EAAQ,GACRC,EAAQ,EAEHxiC,EAAI,EAAGA,EAAImH,EAAErD,OAAQ9D,IAC1BwiC,GAASr7B,EAAEnH,GACXuiC,EAAMp9B,KAAKq9B,GAGf,OAAOD,GAGX,EAAME,MAAQ,SAASt7B,GACnB,OAAO,EAAMm7B,KAAK,CAAC,GAAG5H,OAAOvzB,KAGjC,EAAMu7B,KAAO,SAASv7B,EAAGD,GACrB,IAAIy7B,EAAa,GAMjB,OALAx7B,EAAEi3B,SAAQ,SAAS99B,IACK,IAAhB4G,EAAE8D,QAAQ1K,IACVqiC,EAAWx9B,KAAK7E,MAGjBqiC,GAGX,EAAMC,UAAY,SAASz7B,EAAGD,GAC1B,IAAIhG,EAEJ,OADIgG,EAAEpD,OAASqD,EAAErD,SAAQ5C,EAAIgG,EAAGA,EAAIC,EAAGA,EAAIjG,GACpCiG,EAAEsJ,QAAO,SAAU1C,GAClB,IAAsB,IAAlB7G,EAAE8D,QAAQ+C,GAAW,OAAO,MAI5C,EAAM80B,OAAS,SAAS17B,GACpB,OAAOA,EAAEg7B,QAAO,SAASj7B,EAAG7G,GAExB,OADI6G,EAAE8D,QAAQ3K,GAAK,GAAG6G,EAAE/B,KAAK9E,GACtB6G,IACR,KAGP,EAAM47B,IAAM,SAASlI,GAEjB,IADA,IAAIn5B,EAAIm5B,EAAE92B,OAAQqD,EAAI/E,KAAKO,IAAIi4B,EAAE,IACxB56B,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAExB,IADA,IAAIkH,EAAI9E,KAAKO,IAAIi4B,EAAE56B,IAAKK,EAAI8G,EACrBA,GAAKD,GAAKC,EAAID,EAAKC,GAAKD,EAAIA,GAAKC,EACxCA,EAAI/E,KAAKO,IAAItC,EAAEu6B,EAAE56B,KAAKmH,EAAED,GAE5B,OAAOC,GAGX,EAAM24B,MAAQ,SAAS3hB,GACnB,MAAO,CACHxa,IAAKq+B,EAAQ7jB,EAAO,OACpBva,IAAKo+B,EAAQ7jB,EAAO,OACpBgiB,IAAKhiB,EAAMgiB,IAAIhiB,KAIvB,EAAM4kB,UAAY,SAAS5kB,EAAO6kB,EAAQC,EAAMC,GAU5C,IATA,IAAIjjC,EAAIke,EAAMra,OACVF,EAAuB,iBAAV,EAAsBs/B,EAAOlB,EAAQ7jB,EAAO,OAEzD9Z,GADuB,iBAAV,EAAsB4+B,EAAOjB,EAAQ7jB,EAAO,QAC3Cva,EAEdu/B,EAAO,GAEPC,EAAK,IAAIp/B,MAAMg/B,EAAO,GAAG14B,KAAK,GAE1BpD,EAAI,EAAGA,EAAI87B,EAAQ97B,IACvBi8B,EAAKh+B,KAAK,CAACvB,EAAMS,GAAS6C,EAAE,GAAWtD,EAAMS,GAAO6C,EAAE,GAAG,IAM7D,IAAI,IAAIlH,EAAI,EAAGA,EAAIC,EAAGD,IAClBqjC,MAAQjhC,KAAKa,OAAQkb,EAAMne,GAAK4D,GAAOS,EAAQ,GAC/C++B,EAAGC,SAMP,OAFAD,EAAGJ,EAAO,IAAMI,EAAGJ,GAEZ,CACHG,KAAMA,EACNG,OAAQF,EAAGn/B,MAAM,EAAE++B,KAK3B,EAAM82B,IAAM,SAAS96B,GACjB,IAAI5+B,EAAI4hC,EAAQhD,EAAU,KAAOA,EAASl7B,OAG1C,OAAOk+B,EAFEhD,EAASv6B,KAAI,SAAS0C,GAAI,OAAO/E,KAAKc,IAAIiE,EAAE/G,EAAG,MAErC,MAAQ4+B,EAASl7B,OAAS,IAGjD,EAAM0/B,IAAM,SAASxE,GACjB,OAAO58B,KAAKkB,KAAK,EAAMw2D,IAAI96B,KAGhB,QC1LA,kBACX,IAAIh/B,EAGAw4D,EAIAuB,EANA95D,EAAIu5B,EAAK11B,OACT05B,EAAaw8B,GAAWt5D,OAAOwE,KAAKs0B,EAAK,IAEzC2J,EAAO,GACP82B,EAAgB,GAChB/3B,EAAS,GAGb,IAAI8d,EAAKn+C,eAAe,YAAcm+C,EAAKn+C,eAAe,QAAS,OAAOqgC,EAE1E,GAAuB,iBAAb8d,EAAKgY,KAAkB,CAC7B,IAAIG,EAAUz3D,OAAOwE,KAAK86C,EAAKgY,MAAM,GACjCI,EAAWpY,EAAKgY,KAAKG,GAEzB,IAAoC,IAAjC36B,EAAWxyB,QAAQmtD,GAAiB,CACnC,IAAI+B,EAAS1gC,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAE63D,MACvCv0D,EAAM,EAAUA,IAAIs2D,GAEpB3B,GADM,EAAU50D,IAAIu2D,GACCt2D,GAAOw0D,EAEhC,IAAIp4D,EAAI,EAAGA,EAAIC,EAAGD,IACdw5B,EAAKx5B,GAAG,OAASm4D,GAAW/1D,KAAKwB,IAAIxB,KAAKa,MAAMu2B,EAAKx5B,GAAGm4D,GAASI,GAAcH,EAAS,GAG5FpY,EAAKK,OAAS,OAAS8X,EACvB36B,EAAWr4B,KAAK,OAASgzD,IAIjC,IAAIn4D,EAAI,EAAGA,EAAIC,EAAGD,IACXgE,MAAMa,QAAQm7C,EAAKK,SAClB0Z,EAAK,GACL/Z,EAAKK,OAAOjiB,SAAQ,SAASkR,GACzByqB,EAAG50D,KAAKq0B,EAAKx5B,GAAGsvC,OAEpBkpB,EAAM2B,KAAKC,UAAUL,IAErBvB,EAAMh/B,EAAKx5B,GAAGggD,EAAKK,QAEnBld,EAAKn4B,QAAQwtD,GAAO,GACpBr1B,EAAKh+B,KAAKqzD,GACVyB,EAAczB,GAAO,CAACh/B,EAAKx5B,KAE3Bi6D,EAAczB,GAAKrzD,KAAKq0B,EAAKx5B,IAIrC,IAAIq7B,EAAK8H,EAAKr/B,OAEd,IAAI9D,EAAI,EAAGA,EAAIq7B,EAAIr7B,IAAI,CACnB,IAAIy3C,EAAM,GAeV,GAdGzzC,MAAMa,QAAQm7C,EAAKK,SAClB0Z,EAAKI,KAAKt/C,MAAMsoB,EAAKnjC,IACrBggD,EAAKK,OAAOjiB,SAAQ,SAASr8B,EAAGmH,GAC5BuuC,EAAI11C,GAAKg4D,EAAG7wD,OAIhBuuC,EAAIuI,EAAKK,QAAUld,EAAKnjC,GAGzBggD,EAAKqa,QACJ5iB,EAAIje,KAAOygC,EAAc92B,EAAKnjC,KAG/BggD,EAAKK,OAAQ,CACZ,IAAIia,EAAQt2D,MAAMa,QAAQm7C,EAAKK,QAAUL,EAAKK,OAAS,CAACL,EAAKK,QAE7Dia,EAAMl8B,SAAQ,SAASm8B,GACnB,IAA+B,IAA5B/8B,EAAWxyB,QAAQuvD,GAClB,MAAMnwD,MAAM,2BAA4BmwD,MAKpD,IAAI/sD,EAAMwyC,EAAKE,UAAYF,EAAKG,SAAW,GACvCj7C,EAAOxE,OAAOwE,KAAKsI,GAAKiD,OAAO5I,IAA2D,IAAtD,CAAC,WAAY,WAAY,aAAamD,QAAQnD,IAClF2yD,GAAS,EACb,GAAIhtD,EAAIoxB,SAAU,CACd,IAAI67B,EAAgC,MAAjBjtD,EAAIoxB,SAAoBl+B,OAAOwE,KAAKs0B,EAAK,IAAI/oB,OAAO5I,IAA2B,IAAtByyD,EAAMtvD,QAAQnD,KAAkC,IAArB3C,EAAK8F,QAAQnD,IAC9G2F,EAAIoxB,SACV47B,EAAShtD,EAAIktD,WAAa,OAC1Bx1D,EAAOA,EAAKw1B,OAAO+/B,GAMvB,GAJIz2D,MAAMa,QAAQ2I,EAAImtD,YACnBz1D,EAAOA,EAAKuL,OAAO4mB,IAAwC,IAAhC7pB,EAAImtD,SAAS3vD,QAAQqsB,KAGhC,IAAhBnyB,EAAKpB,SAAiBk8C,EAAKqa,MAAO,OAAOn4B,EAC5Ch9B,EAAKk5B,SAAQ,SAAS78B,GAClB,IAAI81B,EAAO91B,EACP0gC,EAAMz0B,EAAIjM,IAAQi5D,EAKtB,GAHW,WAARv4B,GAA4B,UAARA,IACnB5K,EAAO91B,GAEY,iBAAbiM,EAAIjM,KACV0gC,EAAMvhC,OAAOwE,KAAKsI,EAAIjM,IAAM,GAC5B81B,EAAO7pB,EAAIjM,GAAK0gC,IAEiB,IAA9BzE,EAAWxyB,QAAQqsB,IAAyB,MAATA,GAAiBrzB,MAAMa,QAAQwyB,KAOzE,GAAkB,mBAAR4K,EAENwV,EAAIl2C,GAAO0gC,EAAI9hC,KAAK,KAAM85D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAEkwB,YACxE,GAAkB,iBAAR4K,EACb,GAAW,YAARA,EACCwV,EAAIl2C,GAAO,EAAUshC,OAAOo3B,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAE5F,YAC1E,GAAY,UAAR0gC,EACPwV,EAAIl2C,GAAO04D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAEkwB,WACzD,GAAY,WAAR4K,EACPwV,EAAIl2C,GAAO04D,EAAc92B,EAAKnjC,IAAI,GAAGq3B,QAClC,GAAY,WAAR4K,EAAkB,CACzB,IAAI24B,EAAe,GACnBX,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GAAI,OAAOA,EAAEkwB,MAAU+G,SAAQ,SAASh+B,GACxEw6D,EAAeA,EAAalgC,OAAOt6B,MAEvCq3C,EAAIl2C,GAAOq5D,OACR,GAAY,WAAR34B,EACPwV,EAAIl2C,GAAO04D,EAAc92B,EAAKnjC,IAAI8D,YAC/B,GAAY,UAARm+B,EAAiB,CACxB,IAAI44B,EAAW7a,EAAa,SAAI,WAAa,UAC7CvI,EAAIl2C,GAAmC,KAA3By+C,EAAK6a,GAASt5D,GAAK0gC,GACzBg4B,EAAc92B,EAAKnjC,IACnBi6D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS+0B,GAClC,IAAI0F,EAAM,GAEV,OADA8gB,EAAKz+C,GAAK0gC,GAAK7D,SAAQ,SAASv2B,GAAIq3B,EAAIr3B,GAAK2xB,EAAK3xB,MAC3Cq3B,SAEZ,CACH,IAAI47B,EAAQ74B,EAAIh+B,MAAM,GAEnB62D,KAAS,IACRrjB,EAAIl2C,GAAO,EAAUu5D,GAAO36D,KAAK,KAAM85D,EAAc92B,EAAKnjC,IAAIyE,KAAI,SAAS0C,GACvE,OAAOA,EAAEkwB,aA3CzB,CAKQ,IAAI0jC,EAAU,oEAAsEx5D,EAAM,IAAMy+C,EAAKz+C,GACrG89B,QAAQ27B,KAAKD,OA2CzB74B,EAAO/8B,KAAKsyC,GAGhB,OAAOvV,GCxJI,SAASh4B,EAAMsvB,EAAMwmB,GAChC,IAAIliB,EAAUtE,EAAK,GAInB,OAFIx1B,MAAMa,QAAQi5B,KAAUA,EAAU,IAE/BtE,EAAK/oB,QAAO,SAAStJ,GACxB,GAIR,SAAS8zD,EAAO1gC,EAAKylB,EAAMliB,GACvB,IAAI5zB,EACA+3B,EACAp8B,EACAq1D,GAAM,EAyCV,OAxCWx6D,OAAOwE,KAAK86C,GAElB5hB,SAAQ,SAAS78B,GACP,SAARA,EACC2I,GAAS+wD,EAAO1gC,EAAKylB,EAAKz+C,GAAMu8B,GACnB,OAAPv8B,GAAuB,QAAPA,GACtB2I,EAAgB,QAAP3I,EACTy+C,EAAKz+C,GAAK68B,SAAQ,SAASr8B,GACvBmI,EAAgB,QAAP3I,EAAiB2I,EAAQ+wD,EAAO1gC,EAAKx4B,EAAG+7B,GAAW5zB,EAAQ+wD,EAAO1gC,EAAKx4B,EAAG+7B,QAGvFj4B,EAASi4B,EAAQh6B,OAAS,EAAKg6B,EAAQ9yB,QAAQzJ,GAAOA,EAE9B,iBAAdy+C,EAAKz+C,GAGE,MAFb0gC,EAAMvhC,OAAOwE,KAAK86C,EAAKz+C,IAAM,IAEtB,IAAay+C,EAAKz+C,GAAK0gC,aAAgBj+B,MAChC,OAAPi+B,GAAuB,QAAPA,EACf/3B,EAAiB,QAAP+3B,EAAkB+d,EAAKz+C,GAAK0gC,GAAKj3B,QAAQuvB,EAAI10B,KAAW,EACrD,YAAPo8B,EACN/3B,EAAQqwB,EAAIh5B,IAAQy+C,EAAKz+C,GAAK0gC,GAAK,GAAK1H,EAAI10B,IAAUm6C,EAAKz+C,GAAK0gC,GAAK,GACxD,aAAPA,EACN/3B,EAAQqwB,EAAIh5B,GAAOy+C,EAAKz+C,GAAK0gC,GAAK,GAAK1H,EAAI10B,GAASm6C,EAAKz+C,GAAK0gC,GAAK,GACtD,WAAPA,IACN/3B,EAAS81C,EAAKz+C,GAAK0gC,GAAKx9B,IAAIqH,QAAQd,SAAUuvB,EAAI10B,KAAY,GAE5Dm6C,EAAKz+C,aAAgByC,QAC3BkG,EAAQqwB,EAAIh5B,IAAQy+C,EAAKz+C,GAAK,GAAKg5B,EAAI10B,IAAUm6C,EAAKz+C,GAAK,IAI3D2I,EADgB,MAAjB81C,EAAKz+C,GAAK,GACAg5B,EAAIylB,EAAKz+C,GAAK0C,MAAM,MAAQs2B,EAAI10B,GAEhCm6C,EAAKz+C,IAAQg5B,EAAI10B,IAItCq1D,GAAYhxD,KAGTgxD,EAjDAD,CAAO9zD,EAAG64C,EAAMliB,GAAU,OAAO32B,KCF5C,IAAIg0D,EAAQ,GACZA,EAAMjxD,MAAQA,EACdixD,EAAMzvD,MAAQ8xC,EAEd2d,EAAMC,QAAU,SAAS5hC,EAAMzK,GAC3B,IAAIssC,EAAU,GASd,OARA7hC,EAAK4E,SAAQ,SAAS99B,GACd+6D,EAAQx5D,eAAevB,EAAEyuB,IAGzBssC,EAAQ/6D,EAAEyuB,IAAK5pB,KAAK7E,GAFpB+6D,EAAQ/6D,EAAEyuB,IAAO,CAAEzuB,UAIhBA,EAAEyuB,MAENssC,GAOXF,EAAM92D,MAAQ,SAASm1B,EAAMzK,GACzB,IAAI5Q,EAAQqb,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEyuB,MAC1C,MAAO,CAAE,EAAUnrB,IAAIua,GAAQ,EAAUxa,IAAIwa,KAGjDg9C,EAAM12D,IAAM,SAAS+0B,EAAMp5B,GACvB,IAAIk7D,EAAK,SAASh7D,GAAG,OAAOA,GAM5B,MALgB,iBAANF,EACNk7D,EAAK,SAASh7D,GAAG,OAAOA,EAAEF,IACT,mBAANA,IACXk7D,EAAKl7D,GAEFo5B,EAAK/0B,IAAI62D,IAYpBH,EAAMtC,OAAS,SAASr/B,EAAMwmB,GAC1B,SAASub,EAAUp0D,EAAGD,EAAGpF,GACrB,OAAOqF,EAAErF,GAAKoF,EAAEpF,GAAK,EAAIqF,EAAErF,GAAKoF,EAAEpF,IAAM,EAAI,EAEhD,OAAO03B,EAAKyH,MAAK,SAAS95B,EAAGD,GAMzB,IALA,IAAIpG,EAAI,EACJd,EAAI,EACJw9B,EAAa98B,OAAOwE,KAAK86C,GACzBwb,EAAKh+B,EAAW15B,OAEP,IAANhD,GAAWd,EAAIw7D,GAClB16D,EAAIy6D,EAAUp0D,EAAGD,EAAGs2B,EAAWx9B,IAAMggD,EAAKxiB,EAAWx9B,IACrDA,IAEJ,OAAOc,MAIfq6D,EAAMM,QAAU,SAASp7D,EAAG0B,EAAGtB,GAC3B,IAAIu/C,EAAO,GAIX,OAHAj+C,EAAEq8B,SAAQ,SAASs9B,GACf1b,EAAK0b,GAAMj7D,KAER06D,EAAMl6B,KAAK5gC,EAAG2/C,IAGzBmb,EAAMp4B,UAAY,SAASvJ,EAAMwmB,EAAMr8C,EAAKC,GACxC,IAAIs+B,EAAS,GACb,IAAI,IAAI3gC,KAAOy+C,EACX9d,EAAO3gC,GAAO,EAAUwhC,UAAUvJ,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEiB,MAAQy+C,EAAKz+C,GAAMoC,EAAKC,GAE5F,OAAOs+B,GAGXi5B,EAAMQ,aAAe,SAASniC,EAAMwmB,GAchC,IAbA,IAAI4b,EAAUl7D,OAAOwE,KAAK86C,GAAM,GAC5BxiB,EAAa98B,OAAOwE,KAAK86C,GAAMvvC,QAAO,SAAS5I,GAAK,MAAY,SAALA,GAAgBA,GAAG+zD,MAAc,GAC5FC,EAAY7b,EAAKqa,QAAS,EAC1Br3B,EAASgd,EAAK4b,GACdz9C,EAAQqb,EAAK/0B,KAAI,SAASnE,GAAI,OAAOA,EAAEs7D,MACvC37D,EAAIke,EAAMra,OACVF,EAAM,EAAUA,IAAIua,GAEpB9Z,EADM,EAAUV,IAAIwa,GACNva,EAEdu/B,EAAO,GAGHj8B,EAAI,EAAGA,EAAI87B,EAAQ97B,IACvBi8B,EAAKj8B,GAAK,CAACm8B,MAAOn8B,EAAG40D,WAAYl4D,EAAMS,GAAS6C,EAAE,GAAW60D,SAAUn4D,EAAMS,GAAO6C,EAAE,GAAG,EAAU8G,MAAO,GAEtGm1B,EAAKj8B,GAAGsyB,KAAO,GAQvB,IAAI,IAAIx5B,EAAI,EAAGA,EAAIC,EAAGD,IAClBqjC,MAAQjhC,KAAKa,OAAQkb,EAAMne,GAAK4D,GAAOS,EAAQ,GAC5Cg/B,OAASL,GAAQK,QACpB7J,EAAKx5B,GAAGqjC,MAAQA,MAEZF,EAAKE,OAAO7J,KAAKr0B,KAAKq0B,EAAKx5B,IAOnCggD,EAAKgc,IAAM,eACJhc,EAAK4b,GAEZ,IAAI15B,EAASi5B,EAAMzvD,MAAM8tB,EAAMwmB,GAyB/B,OAxBA9d,EAASi5B,EAAMC,QAAQl5B,EAAQ,SAQ/BiB,EAAK/E,SAAQ,SAASo6B,GAEft2B,EAAOrgC,eAAe22D,EAAIn1B,QACzB7F,EAAWY,SAAQ,SAAS/G,GACxBmhC,EAAInhC,GAAQ6K,EAAOs2B,EAAIn1B,OAAO,GAAGhM,MAElCwkC,IAAWrD,EAAIh/B,KAAO0I,EAAOs2B,EAAIn1B,OAAO,GAAG7J,OAE9CgE,EAAWY,SAAQ,SAAS/G,GACxBmhC,EAAInhC,GAAQ,QAOjB8L,GAGXg4B,EAAMc,UAAY,SAASziC,EAAM0iC,GAM7B,IALA,IAEIC,EAFAr7B,EAAMtH,EAAK11B,OACXhC,EAAIM,KAAKW,KAAK+9B,EAAMo7B,GAEpBE,EAAa,GAETl1D,EAAI,EAAGA,EAAIg1D,EAASh1D,IACxBk1D,EAAWl1D,GAAK,CAAC+0D,UAAW/0D,EAAGsyB,KAAM,GAAIxrB,MAAO,GAGpD,IAAI,IAAIhO,EAAI,EAAGA,EAAI8gC,EAAK9gC,IAEpBo8D,EADAD,EAAM/5D,KAAKa,MAAMjD,EAAI8B,IACL03B,KAAKr0B,KAAKq0B,EAAKx5B,IAC/Bo8D,EAAWD,GAAKnuD,QAGpB,OAAOouD,GAGXjB,EAAMkB,YAAc,SAAS7iC,EAAMwmB,GAC/B,IACImc,EADAr7B,EAAMtH,EAAK11B,OAEXs4D,EAAa,GACb76D,EAAMb,OAAOwE,KAAK86C,GAAM,GACxB6L,EAAQ7L,EAAKz+C,GAEjBsqD,EAAMztB,SAAQ,SAASl3B,EAAGo1D,GACtBF,EAAWE,GAAM,CAACL,UAAWK,EAAI9iC,KAAM,GAAIxrB,MAAO,EAAGzN,KAAM2G,MAG/D,IAAI,IAAIlH,EAAI,EAAGA,EAAI8gC,EAAK9gC,KACpBm8D,EAAMtQ,EAAM7gD,QAAQwuB,EAAKx5B,GAAGuB,MACpB,IACJ66D,EAAWD,GAAK3iC,KAAKr0B,KAAKq0B,EAAKx5B,IAC/Bo8D,EAAWD,GAAKnuD,SAGxB,OAAOouD,GAGXjB,EAAM3yD,UAAY,SAASgxB,EAAMsa,GAC7B,IAAIyoB,EAAO,GAaX,OAXAzoB,EAAO1V,SAAQ,SAAS15B,GACpB,IAAIyZ,EAAQqb,EAAK/0B,KAAI,SAASnE,GAAI,OAAOA,EAAEoE,MAC3C63D,EAAK73D,GAAK,EAAU8D,UAAU2V,MAGlCqb,EAAK4E,SAAQ,SAAS99B,EAAGN,GACrB8zC,EAAO1V,SAAQ,SAAS15B,GACpBpE,EAAEoE,GAAK63D,EAAK73D,GAAG1E,SAIhBw5B,GAGX2hC,EAAMqB,cAAgB,SAAShjC,GAC3B,IAAIijC,EAAc,GAalB,OAZIj/B,WAAa98B,OAAOwE,KAAKs0B,EAAK,IAAI/oB,QAAO,SAAS5I,GAAK,OAAOA,KAElE21B,WAAWY,SAAQ,SAAS/G,GACxBolC,EAAYt3D,KAAKq0B,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAE+2B,UAGnDolC,EAAY3oB,OAAStW,WAErBA,WAAWY,SAAQ,SAAS/G,EAAMqJ,GAC9B+7B,EAAYplC,GAAQolC,EAAY/7B,MAG7B+7B,GAGI,QC/Nf,SAAS38B,EAAMtG,EAAMsa,GAEjB,IAAI9vC,MAAMa,QAAQ20B,GACd,MAAM,IAAIpvB,MAAM,+BAEpB,IAAI83B,EAAS,GAYb,OAVA4R,EAAO1V,SAAQ,SAAS15B,GACpB,IAAIyC,EAAIqyB,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEoE,MACtCw9B,EAAOx9B,GAAK,CACRd,IAAK,EAAMA,IAAIuD,GACfxD,IAAK,EAAMA,IAAIwD,GACfg5B,IAAK,EAAMA,IAAIh5B,GACfq8B,IAAK,EAAMA,IAAIr8B,OAIhB+6B,EAIXpC,EAAMM,QAAU,SAAS5G,EAAMsa,GAC3B,IAAI9vC,MAAMa,QAAQ20B,GACd,MAAM,IAAIpvB,MAAM,+BAEpB,IAAI83B,EAAS,GAOb,OALA4R,EAAO1V,SAAQ,SAAS15B,GACpB,IAAIyC,EAAIqyB,EAAK/0B,KAAI,SAASnE,GAAG,OAAOA,EAAEoE,MACtCw9B,EAAOx9B,GAAK,CAAE,EAAMd,IAAIuD,GAAI,EAAMxD,IAAIwD,OAGnC+6B,GAGI,QCrCf,SAASuB,EAAUt8B,EAAGD,GAClB,IAAI7G,EAAI,GAKR,OAJA8G,EAAEi3B,SAAQ,SAASxuB,EAAG5P,GAClBK,EAAEL,GAAK4P,EAAI1I,EAAElH,MAGVK,EAcX,SAASwjC,EAAW18B,EAAGD,GACnB,IAAI7G,EAAI,GAKR,OAJA8G,EAAEi3B,SAAQ,SAASxuB,EAAG5P,GAClBK,EAAEL,GAAkB,IAAZ4P,EAAI1I,EAAElH,OAGXK,EAcI,OACXqF,IAAK+9B,EACLwF,IAjCJ,SAAmBtF,GAIf,IAHA,IAAIzB,EAASyB,EAAQ,GACjBC,EAAkBD,EAAQ7/B,OAEtB9D,EAAI,EAAGA,EAAI4jC,EAAiB5jC,IAChCkiC,EAASuB,EAAUvB,EAAQyB,EAAQ3jC,IAGvC,OAAOkiC,GA0BP/B,IAdJ,SAAmBwD,GAIf,IAHA,IAAIzB,EAASyB,EAAQ,GACjBC,EAAkBD,EAAQ7/B,OAEtB9D,EAAI,EAAGA,EAAI4jC,EAAiB5jC,IAChCkiC,EAAU2B,EAAW3B,EAAQyB,EAAQ3jC,IAGzC,OAAOkiC,I,+HCjBI,OACXigC,SChBW,SAAmB3oC,GAC9B,IAAI6oC,EAAQ,GACR7qB,EAAQ,GACRvV,EAAM,GAGNC,EAAS,GAGVl+B,MAAMa,QAAQ20B,KACb0I,EAAS1I,GAGbyI,EAAIi1B,OAASA,EACbj1B,EAAI/3B,MAAQA,EACZ+3B,EAAIub,UAAYA,EAEhB98C,OAAOwE,KAAK,GAASk5B,SAAQ,SAAS15B,GAClCu9B,EAAIv9B,GAAK,EAAQA,MAGrBu9B,EAAIuV,MAAQ,SAAShe,EAAM4gB,GACvB5C,EAAM4C,GAAO+nB,EAASjgC,UAG1BD,EAAIx9B,IAAM,SAASC,GAEf,OADAw9B,EAAS1I,EAAK/0B,IAAIC,GACXy9D,GAqCX,IAAIA,EAAW,GAqDf,OAlDAzhE,OAAOwE,KAAK+8B,GAAK7D,SAAQ,SAAS39B,GAC9B0hE,EAAS1hE,GAAK,SAASu/C,GACnB,IAAIypB,EAAO,GAGX,OAFAA,EAAKhpE,GAAKu/C,EACVqiB,EAAMl9D,KAAKskE,GACJtH,MAIfA,EAASuC,KAAO,SAASgF,GAMrB,OALWA,EACXrH,EAAMjkC,SAAQ,SAAS/oB,GACnB,IAAI3Q,EAAIhE,OAAOwE,KAAKmQ,GAAG,GACvB6sB,EAASD,EAAIv9B,GAAGw9B,EAAQ7sB,EAAE3Q,OAEvBw9B,GAGXigC,EAASpiB,QAAU,SAASvmB,GAMxB,OALGx1B,MAAMa,QAAQ20B,KAAO0I,EAAS1I,GACjC6oC,EAAMjkC,SAAQ,SAAS/oB,GACnB,IAAI3Q,EAAIhE,OAAOwE,KAAKmQ,GAAG,GACvB6sB,EAASD,EAAIv9B,GAAGw9B,EAAQ7sB,EAAE3Q,OAEvBw9B,GAGXigC,EAASwH,WAAaxH,EAASuC,KAE/BvC,EAASjgC,OAAS,WACd,OAAOA,GAGXigC,EAAS3oC,KAAO,SAASA,GAErB,OADA0I,EAAS1I,EACF2oC,GAGXA,EAASE,MAAQ,WACb,OAAOA,GAGXF,EAASmD,QAAU,SAASC,GAKxB,OAJAA,EAAMnnC,SAAQ,SAAS4hB,GACnB,IAAI/d,EAAMvhC,OAAOwE,KAAK86C,GAAM,GAC5BmiB,EAASlgC,EAAI31B,QAAQ,IAAK,KAAK0zC,EAAK/d,OAEjCkgC,EAASpiB,WAGboiB,GDpGPmB,SEZW,SAAkBjmC,GAE7B,IAAIlf,EAAQkf,EAAQlf,OAAS,GACzByrD,EAASvsC,EAAQyW,QAAUzW,EAAQusC,QAAUzrD,EAAM,GACnDof,EAAQF,EAAQE,OAAS,GACzBG,EAASL,EAAQK,aAAUp3B,EAC3B43B,EAAOb,EAAQa,MAAQ,EACvB1E,EAAO6D,EAAQ7D,MAAQ,GAEvBqwC,EAAK,GACLC,EAAU,GAEd,GAAIvsC,EAAMz5B,QAA2B,iBAAX,EAAqB,CAE3C,IADA,IAAIimE,EAAK,GACA/pE,EAAI,EAAGA,EAAI4pE,EAAO9lE,OAAQ9D,IAC/B+pE,EAAG5kE,KAAKo4B,GAEZA,EAAQwsC,EAUZ,GAPqB,iBAAVrsC,IACPksC,EAASlpE,OAAOwE,KAAKw4B,GACrBH,EAAQ78B,OAAOwE,KAAKw4B,GAAQj5B,KAAI,SAAS4mB,GACrC,OAAOqS,EAAOrS,OAIH,iBAAR6S,EACP,IAAK,IAAIh1B,EAAI,EAAGA,EAAIg1B,EAAMh1B,IACtBiV,EAAM8gB,QA0Gd,OAvGA1B,EAAMa,SAAQ,SAASl9B,GAIvB,IAAmB2J,EAHfi/D,EAAQ3kE,KAII,QADG0F,EAHQ3J,IAIF2J,EAAKX,MAAM,SACrB,SAASjJ,GACZ,IAAIw2C,EAAM9sB,SAAS1pB,GACnB,OAAQoH,MAAMovC,GAAQ,EAAIA,GAEf,SAAR5sC,GAAmBA,EAAKX,MAAM,SAC9B,SAASjJ,GACZ,IAAIw2C,EAAM5Y,WAAW59B,GACrB,OAAQoH,MAAMovC,GAAQ,EAAIA,IAEwB,GAA/C,CAAC,OAAQ,OAAQ,YAAYzsC,QAAQH,GACrC,SAAS5J,GACZ,OAAO,IAAI0G,KAAK1G,KAEgC,GAA7C,CAAC,QAAS,QAAS,QAAQ+J,QAAQH,GACnC,SAAS5J,GACZ,OAAO49B,WAAW59B,EAAM+K,UAAU,KAG/B,SAAS/K,GACZ,OAAOA,EAAM2J,YAKzBi/D,EAAGG,WAAa,SAASzpC,GACrBpiB,EAAQA,EAAMuc,OAAO6F,IAOzBspC,EAAG3yB,YAAc,WACb,QAAuB,IAAb,GAA4B0yB,EAAO9lE,OAAQ,CACjD,IAAI7D,EAAI2pE,EAAO9lE,OACf,OAAOqa,EAAM1Z,IAAI0C,IAGb,IAFA,IAAI1G,EAAI,GACJ8P,EAAS,EACJvQ,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CACxB,IAAI6H,EAAI+hE,EAAO5pE,GACf,GAAI6H,EAAE/D,OACF,GAAIy5B,EAAMv9B,GAAGkK,MAAM,oBAAqB,CACpC,IAAI+/D,EAAKt/C,SAAS4S,EAAMv9B,GAAGiE,MAAM,IAC7BimE,EAAS,GACb/iE,EAAElD,MAAMsM,EAAQA,EAAS05D,GAAI7rC,SAAQ,SAASsB,GAC1CwqC,EAAO/kE,KAAK2kE,EAAQ9pE,GAAG0/B,OAE3Bj/B,EAAEoH,GAAKqiE,EACP35D,GAAU05D,OAEVxpE,EAAEoH,GAAKiiE,EAAQ9pE,GAAGmH,EAAEoJ,IACpBA,IAIZ,OAAO9P,IAGf,MAAO,IAOXopE,EAAG7qC,SAAW,WAYV,OAXA7gB,EAAMigB,SAAQ,SAASj3B,GACnB,IAAI+3B,EAAM,GACV0qC,EAAOxrC,SAAQ,SAASv2B,EAAG7H,GACnB6H,EAAE/D,QACFo7B,EAAI/5B,KAAK2kE,EAAQ9pE,GAAGmH,EAAEnH,QAG9Bw5B,EAAKr0B,KAAK+5B,MAEd1F,EAAKsa,OAAS81B,EACdpwC,EAAKkE,OAAS,WACPlE,GAOXqwC,EAAGpN,YAAc,WASb,OARAmN,EAAOxrC,SAAQ,SAASv2B,EAAG7H,GACvB,IAAIk6D,EAAS/7C,EAAM1Z,KAAI,SAAS0C,GAC5B,OAAO2iE,EAAQ9pE,GAAGmH,EAAEnH,OAExBw5B,EAAKr0B,KAAK+0D,MAEd1gC,EAAKsa,OAAS81B,EACdpwC,EAAKkE,OAAS,cACPlE,GAIJqwC,GF1HPzrD,SACAo/B,YACA0Z,SACAhtD,QACAkB,KG3BW,SAAc++D,EAAUC,GACnC,IAAItpC,EAAMqpC,EAASrmE,OACfumE,EAAO3pE,OAAOwE,KAAKilE,EAAS,IAWhC,OAVWzpE,OAAOwE,KAAKklE,EAAU,IAEjB35D,QAAO,SAAS26B,GAAK,OAA8B,IAAtBi/B,EAAKr/D,QAAQogC,MAErDhN,SAAQ,SAASv2B,GAClB,IAAI,IAAI7H,EAAI,EAAGA,EAAI8gC,EAAK9gC,IACpBmqE,EAASnqE,GAAG6H,GAAKuiE,EAAUpqE,GAAG6H,MAI/BsiE,GHePrqC,MAAA,EACAwqC,MI7BW,SAAetqB,GAC1B,IAAIjxB,EAAKixB,EAAKuqB,KAAOvqB,EAAKgc,IACtBx+B,EAAa98B,OAAOwE,KAAK86C,GAE7B,IAAIjxB,EAAI,MAAM3kB,MAAM,8BAqBpB,OAnBAozB,EAAW/sB,QAAO,SAAS4mB,GACvB,MAAgB,OAARA,GAAyB,OAARA,KAE5B+G,SAAQ,SAAS/G,GACC2oB,EAAK3oB,GAAM,GAAGtI,GAA7B,IACI/uB,EAAI,EAEJC,GADIu5B,KAAK11B,OACLk8C,EAAK3oB,GAAMvzB,QAEf0mE,EAAShxC,KAAK/0B,KAAI,SAASnE,GAAkB,OAAdA,EAAE+2B,GAAQ,GAAW/2B,EAAEyuB,MAE1D,IAAI/uB,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CACnB,IAAI6F,EAAQ2kE,EAAOx/D,QAAQg1C,EAAK3oB,GAAMr3B,GAAG+uB,KAC3B,IAAXlpB,GACC2zB,KAAK3zB,GAAOwxB,GAAMlyB,KAAK66C,EAAK3oB,GAAMr3B,QAKvCw5B,MJKPixC,QK9BW,SAAiBjxC,EAAM2D,GAClC,IAAIE,EAAUF,GAAO,GACjB2W,EAASzW,EAAQyW,QAAUpzC,OAAOwE,KAAKs0B,EAAK,KAAO,GAGvD,MAAa,QAFA6D,EAAQjwB,QAAU,OAGpBosB,EAAK/0B,KAAI,SAASnE,GACrB,IAAI4+B,EAAM,IAAIl7B,MAAM8vC,EAAOhwC,QAI3B,OAHAgwC,EAAO1V,SAAQ,SAAS15B,EAAG1E,GACvBk/B,EAAIl/B,GAAKM,EAAEoE,MAERw6B,KAGJ4U,EAAOrvC,KAAI,SAASC,GACvB,OAAO80B,EAAK/0B,KAAI,SAASnE,GAAI,OAAOA,EAAEoE,ULgB9CwlE,UM/BJ,IAAI5vD,EAAU,CACZud,KAAM,OACN1Z,MAAO,QACP83C,KAAM,QAGO,MAAMyU,EAEnB,aAAY,KACVC,EAAI,KACJzsC,EAAO,EAAC,MACR0sC,EAAQ,MAAS,UACjB7G,EAAY,MAEZ,QAAsB,IAAX,EACT,MAAM35D,MAAM,oCAEd7F,KAAKomE,KAAOA,EACZpmE,KAAKsmE,SAAWF,EAAKrlE,KACrBf,KAAKumE,OAAS,IAAIC,WAClBxmE,KAAK25B,KAAOA,EACZ35B,KAAKqmE,MAAQA,EACbrmE,KAAKw/D,UAAYA,EACjBx/D,KAAKynB,QAGP,oBACE,OAAO1R,EAGT,QACE/V,KAAKgM,OAAS,EACdhM,KAAKymE,UAAY,EACjBzmE,KAAK0mE,SAAW,GAGlB,gBAAgB1qC,GACd,IAAIwjC,EAAYxjC,EAAK,GAAGr2B,MAAM,sBAAsB,IAAM,IACtD0/D,EAASrpC,EAAK,GAAG7O,MAAMqyC,GACvB3+D,EAASm7B,EAAK,GAAG7O,MAAMqyC,GACvBrmC,EAASksC,EAAOnlE,IAAI,CAACC,EAAG1E,KACnB,CACLO,KAAMmE,EACN+5B,MAAO3yB,OAAOzD,MAAMyD,OAAO1G,EAAOpF,KAAO,SAAW,SAGxDuE,KAAKw/D,UAAYA,EACjB,IAAK,IAAImH,EAAM,EAAGA,EAAM3qC,EAAKz8B,OAAQonE,IAAO,CAC1C,IAAI9lE,EAASm7B,EAAK2qC,GAAKx5C,MAAMqyC,GAC7B,IAAK,IAAIhjC,EAAM,EAAGA,EAAM6oC,EAAO9lE,OAAQi9B,IAAO,CAC5C,IAAI9/B,EAAQmE,EAAO27B,GACO,QAAtBrD,EAAOqD,GAAKtC,OAAmB9T,SAAS1pB,KAAW49B,WAAW59B,KAChEy8B,EAAOqD,GAAKtC,MAAQ,UAI1B,OAAOf,EAGT,aAAayb,GACX,OAAQA,EAAI/vC,OAAOwU,MAAM07C,MACvB,KAAKngB,EAAI/vC,OAAOwU,MAAMutD,cACpB,MAAM/gE,MAAM,kBAAmB+uC,EAAI/vC,OAAOwU,OAE5C,KAAKu7B,EAAI/vC,OAAOwU,MAAMwtD,iBACpB,MAAMhhE,MAAM,uBAAwB+uC,EAAI/vC,OAAOwU,OACjD,KAAKu7B,EAAI/vC,OAAOwU,MAAMytD,UACpB,MAAMjhE,MAAM,UAAW+uC,EAAI/vC,OAAOwU,OACpC,QACE,MAAMxT,MAAM,uCAAwC+uC,EAAI/vC,OAAOwU,QAIrE,YAEE,OADArZ,KAAKumE,OAAOQ,mBAAmB/mE,KAAKomE,KAAK1mE,MAAM,EAAGM,KAAKqmE,MAAQ,KACxD,IAAI1yC,QAAQ,CAACC,EAASC,KAC3B7zB,KAAKumE,OAAOS,UAAapyB,IACvB,GAAIA,EAAI/vC,OAAOoiE,YAAcT,WAAWU,KAAM,CAC5C,IACIC,GADUnnE,KAAK0mE,SAAW9xB,EAAI/vC,OAAO84B,QACrBxQ,MAAM,MACtBgM,EAASn5B,KAAKonE,gBAAgBD,EAAMznE,MAAM,EAAG,KACjDo7B,QAAQr8B,IAAI,gBAAiB06B,GAC7BvF,EAAQuF,KAGZn5B,KAAKumE,OAAO/Z,QAAW5X,IACrB/gB,EAAO7zB,KAAKqnE,aAAazyB,OAK/B,KAAK/rC,GAEH,OADA7I,KAAKumE,OAAOQ,mBAAmB/mE,KAAKomE,KAAK1mE,MAAMM,KAAKgM,OAAQnO,KAAKwB,IAAIW,KAAKomE,KAAKrlE,KAAMf,KAAKgM,OAAShM,KAAKqmE,SACjG,IAAI1yC,QAAQ,CAACC,EAASC,KAC3B7zB,KAAKumE,OAAOS,UAAapyB,IACvB,GAAIA,EAAI/vC,OAAOoiE,YAAcT,WAAWU,KAAM,CAC5C,IAIII,EAHAH,GADUnnE,KAAK0mE,SAAW9xB,EAAI/vC,OAAO84B,QACrBxQ,MAAM,MAC1BntB,KAAK0mE,SAAWS,EAAMh7C,MACtBnsB,KAAKgM,QAAUhM,KAAKqmE,MAGlBiB,EADEz+D,GAAUs9D,EAAWt9D,OAAOyqB,KACpB6zC,EAEAA,EAAMjnE,IAAKs1B,GAASA,EAAKrI,MAAMntB,KAAKw/D,YAEhD5rC,EAAQ0zC,KAGZtnE,KAAKumE,OAAO/Z,QAAW5X,IACrB/gB,EAAO7zB,KAAKqnE,aAAazyB,OAK/B,QAAQ2yB,GACN,GAAyB,mBAAdA,EACT,MAAM1hE,MAAM,yDAGd,OADA7F,KAAKumE,OAAOQ,mBAAmB/mE,KAAKomE,KAAK1mE,MAAMM,KAAKgM,OAAQhM,KAAKgM,OAAShM,KAAKqmE,QACxE,IAAI1yC,QAAQ,CAACC,EAASC,KAC3B7zB,KAAKumE,OAAOS,UAAapyB,IACvB,GAAIA,EAAI/vC,OAAOoiE,YAAcT,WAAWU,KAAM,CAC5C,IACIC,GADUnnE,KAAK0mE,SAAW9xB,EAAI/vC,OAAO84B,QACrBxQ,MAAM,MAC1BntB,KAAK0mE,SAAWS,EAAMh7C,MAEH,GAAfnsB,KAAKgM,QAAehM,KAAK25B,KAAO,GAC9B35B,KAAK25B,KAAO,GAAGwtC,EAAMzsC,QAG3B6sC,EAAUJ,EAAMjnE,IAAKs1B,GAASA,EAAKrI,MAAMntB,KAAKw/D,aAC9Cx/D,KAAKymE,WAAaU,EAAM5nE,OAEpBS,KAAKgM,OAAShM,KAAKomE,KAAKrlE,MAC1Bf,KAAKgM,QAAUhM,KAAKqmE,MACpBrmE,KAAKumE,OAAOQ,mBAAmB/mE,KAAKomE,KAAK1mE,MAAMM,KAAKgM,OAAQhM,KAAKgM,OAAShM,KAAKqmE,SAE/EzyC,EAAQ5zB,KAAKymE,aAInBzmE,KAAKumE,OAAO/Z,QAAW5X,IACrB/gB,EAAO7zB,KAAKqnE,aAAazyB,Q,YC1IjC,MAAM4yB,EAAiB,CAAC,YAAa,iBAAkB,UAEjDC,EAAa,CAAC,YAAa,SAAU,QAAS,YAAa,KAAM,OAKxD,SAAS,EAAG7uC,GACzB,IAEIkW,EACAkxB,EACA0H,EAMAC,EACAC,EAXAC,EAAM,YAAG1rE,OAAOkrB,OAAO,CAACygD,uBAAuB,GAAOlvC,IACtD23B,EAAK,GAILwX,EAAe,EACfxJ,EAAO,GACPvvB,EAAW,EACXg5B,EAAiB,EAIjBC,EAAgB,GAChBC,EAAY,QAEZC,GADYvvC,EAAIwvC,UACN,CACZC,SAAU,EACVC,SAAU,EACVC,SAAU,IAERnvC,EAAY,KAEZovC,EAAS,OAIbjY,EAAGkY,UAAY,EACflY,EAAGqN,SAAWiK,EACdtX,EAAG3zD,KAAOg8B,EAAIh8B,MAAQ4qE,EAAe,GACrCjX,EAAGt7B,KAAO,SAAS2D,GAAqB,OAAfivC,EAAI5yC,KAAK2D,GAAa23B,GAE/CA,EAAGoB,KAAO,SAAS/4B,GAAqB,OAAfivC,EAAIlW,KAAK/4B,GAAa23B,GAE/CA,EAAGwQ,QAAU8G,EAAI9G,QACjBxQ,EAAGnrD,MAAQ,UAAS,OAClBm6D,EAAS,OAAM,KACfj5D,EAAO,MAAK,UACZk5D,EAAY,IAAG,OACf56D,EAAM,UACN6jE,EAAS,OACTtvC,IA0DA,OAxDA2V,EAAa3V,EACbo3B,EAAGkY,UAAYA,EAEF,QAAVlJ,GACDS,EAAa,IAAImG,EAAW,CAC1BC,KAAMxhE,EACNyhE,MAAOoC,EACPjJ,cAEFxwB,EAAWpqC,EAAO7D,KAEhB2mE,OADiB3lE,IAAf+sC,EACU,IACH,IAAInb,QAAS,CAACC,EAASC,KAC5BmsC,EAAW0I,YAAYvI,KAAMhnC,IAC3B2V,EAAa3V,EACN6mC,EAAW2I,KAAK,UAExBxI,KAAKjtB,IACJtf,EAAQsf,KAET01B,MAAMpI,IACL3sC,EAAO2sC,OAKD,IACHR,EAAW2I,KAAK,SAIR,UAAVpJ,EACTmI,EAAY,IACH,IAAI/zC,QAAS,CAACC,EAASC,KAC5BD,EAAQhvB,EAAO6jE,OAInBP,EAAY,OACZR,EAAY,IACH,IAAI/zC,QAAS,CAACC,EAASC,KAC5B,IAAGosC,KAAK3jE,IAAI,CACVmjE,IAAK76D,EAAS,UAAY6jE,EAC1BvI,SAAU,SAEXC,KAAMjtB,IACLpE,EAAaoE,EAAI/Z,OACjBvF,EAAQsf,EAAIje,QAEb2zC,MAAOpI,IACN3sC,EAAO2sC,QAMRjQ,GAGT,IAAI,IAAIsY,KAAOpB,EACblX,EAAGsY,GAAO,SAASjwC,GACjB,IAAIkwC,EAAM,GAGV,OAFAA,EAAID,GAAOjwC,EACX2lC,EAAK39D,KAAKkoE,GACHvY,GAwTX,OApTAA,EAAGwY,UAAY,SAASttB,GAEtB,OADW,IAAIutB,EAAA,EAAWnB,EAAIz3B,IAAIb,QACtBw5B,UAAUttB,IAGxB8U,EAAGiD,QAAU,SAASwN,GACpB,IAAIzC,EAAO,GAeX,OAdG9+D,MAAMa,QAAQ0gE,IACfA,EAAMnnC,SAAQ,SAAS4hB,GACrB,IAAIqtB,EAAM,GACNprC,EAAMvhC,OAAOwE,KAAK86C,GAAM,GACxB7iB,EAAM6iB,EAAK/d,GACA,MAAXA,EAAI,KACNA,EAAMA,EAAIh+B,MAAM,IAEG,mBAAX6wD,EAAG7yB,KACXorC,EAAIprC,GAAO9E,GAEb2lC,EAAK39D,KAAKkoE,MAGPvK,GAGThO,EAAGgO,KAAO,WACR,OAAOA,GAGThO,EAAG0Y,eAAiB,SAAS1K,GAC3B,IAAIX,EAAW,GASf,OARAzhE,OAAOwE,KAAK49D,GAAM1kC,QAAQ6D,IACxB,IAAIwnC,EAAO,GACXA,EAAKxnC,GAAO6gC,EAAK7gC,GACP,aAAPA,GAAsB6gC,EAAKt1D,MAC5Bi8D,EAAKxnC,GAAKz0B,IAAMs1D,EAAKt1D,KAEvB20D,EAASh9D,KAAKskE,KAETtH,GAGTrN,EAAG2Y,MAAQ,SAAS3K,GAClB,IAAI4K,EAAU,GASd,OARA5K,EAAK1kC,QAAQ0kC,IACX,IAAI3kB,EAAO2W,EAAG0Y,eAAe1K,GAC7B4K,EAAQvoE,KAAKg5C,KAEf+tB,EAAkBwB,EAAQjpE,IAAIgpE,GACrB3Y,EAAGiD,QAAQjD,EAAGwY,UAAUG,KAG1B3Y,GAGTA,EAAGlf,OAAS,SAASooB,EAASuH,GAK5B,OAJA6G,EAAIz3B,IAAI2J,WAAY,EACpB8tB,EAAIlJ,OACJkJ,EAAIrF,WAAW/I,GACfoO,EAAI7wB,IAAIuZ,EAAGiD,QAAQjD,EAAGwY,UAAU/H,KACzBzQ,GAGTA,EAAG6Y,SAAW,SAASpI,GAErB,OADA4G,EAAcrX,EAAGiD,QAAQwN,GAClBzQ,GAGTA,EAAG8Y,YAAc,SAASp0C,GAExB,IAAIge,EAAQ,IAAGpa,OAAsB,OAAdO,EAAsB,CAACA,aAAa,IAC3D6Z,EAAM5W,OAAO,CACXpH,KAAMA,EAAKv1B,MAAM,GACjBy5B,OAAQ2V,EACRxoC,KAAM4hE,IAER,IAAIoB,EAAQr2B,EAAMhe,OAIlB,OAHkB,OAAdmE,IACFA,EAAYkwC,EAAMlwC,WAEbkwC,GAGT/Y,EAAGiY,OAAS,SAASroE,GAEnB,OADAqoE,EAASroE,EACFowD,GAETA,EAAGgZ,WAAa,aAEhBhZ,EAAGiZ,aAAe,WAChBjZ,EAAGkZ,OAAOtJ,MAAK,SAASuJ,GACjBA,EAAOC,MACV/gD,sBAAsB2nC,EAAGiZ,kBAK/BjZ,EAAGhuD,MAAQ,WAET,OADAqmB,sBAAsB2nC,EAAGiZ,cAClBjZ,GAGTA,EAAGkZ,KAAO,SAASrgD,GACO,mBAAf,IACPo/C,EAASp/C,GAGX2+C,IACAC,GAAkBzX,EAAGkY,UAGrB,IAAIiB,EAAU,CACVjgE,MAAOs+D,EACP6B,UAAW5B,GAQf,OAAO,IAAIr0C,QAAQ,CAACC,EAASC,KAC3B6zC,IAAYvH,KAAKlrC,IACf,IACI40C,EADAC,EAAYthD,YAAYC,MAG1BohD,EADC50C,EAAKyG,mBACMzG,EAEAs7B,EAAG8Y,YAAYp0C,GAE7BkzC,EAAQE,SAAW7/C,YAAYC,MAAQqhD,EACpBthD,YAAYC,MACZ,GAAhBs/C,EACDF,EAAI5yC,KAAK40C,IAEThC,EAAIz3B,IAAI2J,WAAY,EACpB8tB,EAAIlJ,OACJkJ,EAAIrF,WAAWqH,IAGdlC,EAAgBpoE,QACjBooE,EAAgB9tC,QAAQkwC,IACtBlC,EAAIlJ,OAAO3nB,IAAI+yB,KAIhB9B,EAAc1oE,QACf0oE,EAAcpuC,QAAQkwC,IACpBlC,EAAIlJ,OAAO3nB,IAAIuZ,EAAG0Y,eAAec,EAAGxL,OACpCwL,EAAGpsC,OAASkqC,EAAIlqC,OAAO,CAAC+U,UAAWq3B,EAAGxL,KAAKt1D,MAAMiD,OAAOnQ,GAAe,IAAZA,EAAE0N,SAIjEo+D,EAAI7wB,IAAI4wB,GACRO,EAAQG,SAAW9/C,YAAYC,MAAQqhD,EACvC3B,EAAQI,UAAYJ,EAAQG,SAE5B10C,EAAQ81C,GACRlB,EAAOkB,EAAQvB,QAKrB5X,EAAGyZ,eAAiB,SAASlmC,EAAIuC,GAC/B,IAAIrL,EAAQ7+B,OAAOwE,KAAKmjC,GAAI3N,OAAOh6B,OAAOwE,KAAK0lC,IAC9Cn6B,OAAOg+C,GAAiB,QAATA,GACftsB,QAAO,SAASj7B,EAAG7G,GAElB,OADI6G,EAAE8D,QAAQ3K,GAAK,GAAG6G,EAAE/B,KAAK9E,GACtB6G,IACN,IACF+5B,OACAp6B,UAEGqX,EAAS,GAQb,OAPAqhB,EAAMnB,QAAQqwB,IACZvwC,EAAOuwC,GAAQ/tD,OAAOkrB,OAAO,GAAIyc,EAAGomB,GAAO7jB,EAAG6jB,IACf,iBAApBpmB,EAAGomB,GAAMpO,QAAkD,iBAApBzV,EAAG6jB,GAAMpO,SACzDniC,EAAOuwC,GAAMpO,OAAS,CAAChY,EAAGomB,GAAMpO,OAAQzV,EAAG6jB,GAAMpO,WAI9CniC,GAGT42C,EAAG0Z,MAASC,IACVA,EAAUrwC,QAAS4hB,IACjB,IAAI/d,EAAMvhC,OAAOwE,KAAK86C,GAAM,GACJ,mBAAb8U,EAAG7yB,IACZ6yB,EAAG7yB,GAAK+d,EAAK/d,MAGV6yB,GAGTA,EAAGwQ,QAAWmJ,IACZ3Z,EAAG0Z,MAAMC,GACT3Z,EAAGkZ,QAGLlZ,EAAG0Q,SAAW,SAASvO,GA2GrB,OA1GAA,EAAa74B,QAAQqnC,IACnB,IAAIzlB,EAAOylB,EAEX2G,EAAI5G,SAASC,GACb,IAAIiJ,EAAa,CACfC,WAAY3uB,EAAKuD,KACjBqrB,YAAaluE,OAAOwE,KAAK86C,EAAK8W,WAG5B+X,EAAa1C,EAAYjM,KAAKp+D,GAGzBA,EAFGpB,OAAOwE,KAAKpD,GAAG,IAEXitB,KAAO2/C,EAAWC,YAG9BG,EAAiB,GAErB5C,EAAgBhM,KAAKiC,GACTA,EAASjC,KAAKp+D,GAAKA,EAAE0L,KACpBA,MAAQqhE,EAAWnc,UAAU6C,IAEzCn3B,QAAQt8B,GAAKpB,OAAOkrB,OAAOkjD,EAAgBhtE,IAE5CoqE,EAAgBz7D,OAAO3O,GAAKA,EAAE0L,KAAgB,KAAT1L,EAAE0L,KAEvCkhE,EAAWE,YAAYxwC,QAAQ2wC,IAC7B,IAAIvoB,EAAO2lB,EAAYjM,KAAKp+D,GAEnBA,EADGpB,OAAOwE,KAAKpD,GAAG,IACXitB,KAAOggD,GACpBrc,UAECsc,EAAiB,GAErB9C,EAAgBhM,KAAKiC,GACTA,EAASjC,KAAKp+D,GAAKA,EAAE0L,KACpBA,MAAQg5C,EAAK+O,IAEzBn3B,QAAQt8B,GAAKpB,OAAOkrB,OAAOojD,EAAgBltE,IAG5C,IAAImtE,EAAYna,EAAGyZ,eAAeO,EAAgBE,GAClDC,EAAUzhE,IAAM,CAAC,cAAekhE,EAAWC,WAAYI,GAAI3jE,KAAK,KAChEohE,EAAcrnE,KAAK,CACjB29D,KAAMmM,EACN/sC,OAAQ,GACRysC,WAAYD,EAAWC,WACvBO,WAAYH,MAKhB/uB,EAAKryB,SAAYmH,IACf,IAAIq6C,EAAgBzuE,OAAOwE,KAAK4vB,GAE5B2wC,EAAY7P,YACV6P,EAAY7P,UAAU/zD,eAAe,OAAS4jE,EAAY7P,UAAUvyD,GACtE8rE,EAAclwC,QAEZwmC,EAAY7P,UAAU/zD,eAAe,OAAS4jE,EAAY7P,UAAU/rD,GACtEslE,EAAcz+C,OAIA87C,EAAc/7D,OAAO3O,GAAKA,EAAE6sE,aAAeD,EAAWC,YAC5DvwC,QAAQgxC,IAClB,IAAIlZ,EAAOkW,EAAInJ,WAAW/C,KAAKtwD,GAAKA,EAAEmf,KAAOqgD,EAAKF,YAE9CG,EAAUD,EAAKltC,OAAOzxB,OAAOnQ,IAC/B,IAAIgvE,GAAW,EASf,OARAH,EAAc/wC,QAAQ/G,IAElBi4C,EAD6B,IAA3Bx6C,EAAUuC,GAAMvzB,OACPwrE,GAAahvE,EAAE+2B,KAAU1M,SAASmK,EAAUuC,GAAM,IAGlDi4C,GAAahvE,EAAE+2B,GAAQvC,EAAUuC,GAAM,IAAM/2B,EAAE+2B,GAAQvC,EAAUuC,GAAM,KAG/Ei4C,IAGT,GAAGD,EAAQvrE,OAAQ,CACjB,IAAIo+B,EAAS,EAAGigC,WAAW3kB,UAAU,CACnC6C,OAAQ6V,EAAK1P,KAAKnjD,EAClB68C,SAAU,CACRlyC,MAAO,CAACuhE,KAAM,YAGjBxvB,QAAQsvB,GAET,GAAGntC,EAAOp+B,OAAQ,CAChB,IAAIijE,EAAa7kC,EAAOjB,KAAK,CAAC95B,EAAED,IAC1BC,EAAE+uD,EAAK1P,KAAKnjD,GAAM6D,EAAEgvD,EAAK1P,KAAKnjD,IAAY,EAC1C8D,EAAE+uD,EAAK1P,KAAKnjD,GAAM6D,EAAEgvD,EAAK1P,KAAKnjD,GAAW,EACtC,GAET6yD,EAAK9J,KAAKxW,OAAOmxB,EAAYtB,EAAY3O,SAASZ,EAAKnnC,IAAIygD,SAASxnE,cAO9E8sD,EAAG2a,WAAa,WACd,OAAO/C,GAGF5X,GAGFA,EAtaT,EAAG13B,OAAS,IAAGA,OACf,EAAGurC,SAAW,IAAGA,U,6BCVjB,yCAGIF,EAAsB,iBAARz5C,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAV05C,GAAsBA,EAAOA,SAAWA,GAAUA,QACzD,EAEX,IAAG6E,WAAa,IAChB9E,EAAK3T,GAAK,IAEK,YAAE,EAEkB/0D,EAAOD,UACtCC,EAAOD,QAAU,M,0CCbrB,IAAIiM,EAGJA,EAAI,WACH,OAAOxH,KADJ,GAIJ,IAECwH,EAAIA,GAAK,IAAIwrD,SAAS,cAAb,GACR,MAAOxpD,GAEc,iBAAXmf,SAAqBnhB,EAAImhB,QAOrCntB,EAAOD,QAAUiM,G,gBCnBjB,IAAIumC,EAAS,EAAQ;;;;;GAmBrBvyC,EAAOD,QAAU,WACf,OAAOwyC,EAAOs1B,UACK,oBAAV8H,OACY,oBAAZC,U,cCtBX,IAAIC,EAAelvE,OAAOmvE,0BAAyB,cAAgB;;;;;GA0CnE9vE,EAAOD,QAAU,SAAyBuyC,EAAIy9B,EAAeC,GAC3D,OAAKH,EAAaI,cAElBtvE,OAAOC,eAAe0xC,EAAI,SAAU,CAClCxxC,IAAK,WACH,GAAIkvE,EACF,MAAM3lE,MAAM,0BAA4B0lE,EAA5B,2EAEVA,EAAgB,WAAaA,EAAgB,uBAGjD,MAAM1lE,MAAM,0BAA4B0lE,EAA5B,0CACsBA,EAAgB,SAI/Cz9B,GAfgCA,I,gBC3CzC,IAAIC,EAAS,EAAQ,IACjBO,EAAO,EAAQ,IACfo9B,EAAgB,EAAQ,IACxBC,EAAiB,EAAQ,IA2BzBC,EAAW,CAAC,UAAW,YAAa,OAAQ,UAEhDpwE,EAAOD,QAAU,SAAiBy6B,EAAK61C,GACrC,OAAKF,IAEE,IAAIR,MAAMn1C,EAAK,CACpB15B,IAAK,SAASwvE,EAAYjnE,EAAQzH,GAKhC,GAAwB,iBAAbA,IACyC,IAAhD2wC,EAAOu1B,kBAAkB78D,QAAQrJ,KAChCguE,QAAQ5qE,IAAIqE,EAAQzH,GAAW,CAElC,GAAIyuE,EACF,MAAMhmE,MAAM,0BAA4BgmE,EAAyB,IAC/DzuE,EAAW,mCACXyuE,EAAyB,MAM7B,IAAIE,EAAa,KACbC,EAAqB,EAkBzB,MAjBAN,EAAc7mE,GAAQg1B,SAAQ,SAASqwB,GACrC,IACG/tD,OAAOkB,UAAUC,eAAe4sD,KACL,IAA5B0hB,EAASnlE,QAAQyjD,GACjB,CACA,IAAIiD,EAmDhB,SAA8B8e,EAAMC,EAAMC,GACxC,GAAItuE,KAAKO,IAAI6tE,EAAK1sE,OAAS2sE,EAAK3sE,SAAW4sE,EACzC,OAAOA,EAOT,IAJA,IAAIC,EAAO,GAIF3wE,EAAI,EAAGA,GAAKwwE,EAAK1sE,OAAQ9D,IAChC2wE,EAAK3wE,GAAKgE,MAAMysE,EAAK3sE,OAAS,GAAGwG,KAAK,GACtCqmE,EAAK3wE,GAAG,GAAKA,EAEf,IAAK,IAAIkJ,EAAI,EAAGA,EAAIunE,EAAK3sE,OAAQoF,IAC/BynE,EAAK,GAAGznE,GAAKA,EAGf,IAASlJ,EAAI,EAAGA,GAAKwwE,EAAK1sE,OAAQ9D,IAChC,KAAI4wE,EAAKJ,EAAK5iE,WAAW5N,EAAI,GAC7B,IAASkJ,EAAI,EAAGA,GAAKunE,EAAK3sE,OAAQoF,IAC5B9G,KAAKO,IAAI3C,EAAIkJ,IAAMwnE,EACrBC,EAAK3wE,GAAGkJ,GAAKwnE,EAGfC,EAAK3wE,GAAGkJ,GAAK9G,KAAKwB,IAChB+sE,EAAK3wE,EAAI,GAAGkJ,GAAK,EACjBynE,EAAK3wE,GAAGkJ,EAAI,GAAK,EACjBynE,EAAK3wE,EAAI,GAAGkJ,EAAI,IACb0nE,IAAOH,EAAK7iE,WAAW1E,EAAI,GAAK,EAAI,IAK7C,OAAOynE,EAAKH,EAAK1sE,QAAQ2sE,EAAK3sE,QApFT+sE,CACTlvE,EACA8sD,EACA8hB,GAEE7e,EAAO6e,IACTD,EAAa7hB,EACb8hB,EAAqB7e,OAKR,OAAf4e,EACIlmE,MAAM,0BAA4BzI,EACtC,mBAAqB2uE,EAAa,MAE9BlmE,MAAM,0BAA4BzI,GAoB5C,OAJoC,IAAhCwuE,EAASnlE,QAAQrJ,IAAqBkxC,EAAKzpC,EAAQ,aACrDypC,EAAKzpC,EAAQ,OAAQinE,GAGhBV,QAAQ9uE,IAAIuI,EAAQzH,MAhED44B,I,6BCjChC,2CAMe,eACb,IAAI9rB,EAAK,IACLC,EAAK,KACLu2B,EAAK,YAAS,GACdC,EAAK,IACL4iC,EAAU,aAAS,GACnB5uC,EAAU,KACVqQ,EAAQ,IACR7/B,EAAS,KAEb,SAAS00D,EAAK5kC,GACZ,IAAIx5B,EACAkJ,EACArB,EAEAvH,EAEAgnC,EAHA7lC,EAAI+3B,EAAK11B,OAETikE,GAAW,EAEX+I,EAAM,IAAI9sE,MAAMvC,GAChBsvE,EAAM,IAAI/sE,MAAMvC,GAIpB,IAFe,MAAXy3B,IAAiBxvB,EAAS6/B,EAAMjC,EAAS,gBAExCtnC,EAAI,EAAGA,GAAKyB,IAAKzB,EAAG,CACvB,KAAMA,EAAIyB,GAAKqmE,EAAQxnE,EAAIk5B,EAAKx5B,GAAIA,EAAGw5B,MAAWuuC,EAChD,GAAIA,GAAYA,EACd7+D,EAAIlJ,EACJ0J,EAAO+3B,YACP/3B,EAAOoW,gBACF,CAGL,IAFApW,EAAOqW,UACPrW,EAAOoW,YACFjY,EAAI7H,EAAI,EAAG6H,GAAKqB,IAAKrB,EACxB6B,EAAOwV,MAAM4xD,EAAIjpE,GAAIkpE,EAAIlpE,IAE3B6B,EAAOqW,UACPrW,EAAOi4B,UAGPomC,IACF+I,EAAI9wE,IAAMyO,EAAGnO,EAAGN,EAAGw5B,GAAOu3C,EAAI/wE,IAAMilC,EAAG3kC,EAAGN,EAAGw5B,GAC7C9vB,EAAOwV,MAAMxQ,GAAMA,EAAGpO,EAAGN,EAAGw5B,GAAQs3C,EAAI9wE,GAAIklC,GAAMA,EAAG5kC,EAAGN,EAAGw5B,GAAQu3C,EAAI/wE,KAI3E,GAAIsnC,EAAQ,OAAO59B,EAAS,KAAM49B,EAAS,IAAM,KAGnD,SAAS0pC,IACP,OAAO,cAAOlJ,QAAQA,GAASv+B,MAAMA,GAAOrQ,QAAQA,GAoDtD,OAjDAklC,EAAK/6D,EAAI,SAAS2C,GAChB,OAAO1B,UAAUR,QAAU2K,EAAkB,mBAANzI,EAAmBA,EAAI,aAAUA,GAAI0I,EAAK,KAAM0vD,GAAQ3vD,GAGjG2vD,EAAK3vD,GAAK,SAASzI,GACjB,OAAO1B,UAAUR,QAAU2K,EAAkB,mBAANzI,EAAmBA,EAAI,aAAUA,GAAIo4D,GAAQ3vD,GAGtF2vD,EAAK1vD,GAAK,SAAS1I,GACjB,OAAO1B,UAAUR,QAAU4K,EAAU,MAAL1I,EAAY,KAAoB,mBAANA,EAAmBA,EAAI,aAAUA,GAAIo4D,GAAQ1vD,GAGzG0vD,EAAKv0D,EAAI,SAAS7D,GAChB,OAAO1B,UAAUR,QAAUmhC,EAAkB,mBAANj/B,EAAmBA,EAAI,aAAUA,GAAIk/B,EAAK,KAAMk5B,GAAQn5B,GAGjGm5B,EAAKn5B,GAAK,SAASj/B,GACjB,OAAO1B,UAAUR,QAAUmhC,EAAkB,mBAANj/B,EAAmBA,EAAI,aAAUA,GAAIo4D,GAAQn5B,GAGtFm5B,EAAKl5B,GAAK,SAASl/B,GACjB,OAAO1B,UAAUR,QAAUohC,EAAU,MAALl/B,EAAY,KAAoB,mBAANA,EAAmBA,EAAI,aAAUA,GAAIo4D,GAAQl5B,GAGzGk5B,EAAKv0B,OACLu0B,EAAKr0B,OAAS,WACZ,OAAOinC,IAAW3tE,EAAEoL,GAAI5E,EAAEo7B,IAG5Bm5B,EAAKp0B,OAAS,WACZ,OAAOgnC,IAAW3tE,EAAEoL,GAAI5E,EAAEq7B,IAG5Bk5B,EAAKt0B,OAAS,WACZ,OAAOknC,IAAW3tE,EAAEqL,GAAI7E,EAAEo7B,IAG5Bm5B,EAAK0J,QAAU,SAAS9hE,GACtB,OAAO1B,UAAUR,QAAUgkE,EAAuB,mBAAN9hE,EAAmBA,EAAI,cAAWA,GAAIo4D,GAAQ0J,GAG5F1J,EAAK70B,MAAQ,SAASvjC,GACpB,OAAO1B,UAAUR,QAAUylC,EAAQvjC,EAAc,MAAXkzB,IAAoBxvB,EAAS6/B,EAAMrQ,IAAWklC,GAAQ70B,GAG9F60B,EAAKllC,QAAU,SAASlzB,GACtB,OAAO1B,UAAUR,QAAe,MAALkC,EAAYkzB,EAAUxvB,EAAS,KAAOA,EAAS6/B,EAAMrQ,EAAUlzB,GAAIo4D,GAAQllC,GAGjGklC,I,6BC3GF,SAAS6S,EAAQ9zC,GACpB,IAAI6mC,EAAM7mC,EAAI6mC,KAAO7mC,EACjB2mC,EAAS3mC,EAAI2mC,QAAU,MACvBW,EAAWtnC,EAAIsnC,UAAY,OAC3BjrC,EAAO2D,EAAI3D,MAAQ,GACnB2hC,EAAQ,GAEZ,IAAK,IAAI55D,KAAOi4B,EACZ2hC,EAAMh2D,KAAK+rE,mBAAmB3vE,GAAO,IAAM2vE,mBAAmB13C,EAAKj4B,KAGvE,OAAO,IAAI22B,SAAQ,SAASC,EAASC,GAEjC,IAAI+4C,EAAM,IAAIC,eACdD,EAAIE,KAAKvN,EAAQE,GACjBmN,EAAIG,aAAe7M,EAEnB0M,EAAI1gB,OAAS,WACO,KAAd0gB,EAAIlD,OACN91C,EAAQg5C,EAAIra,UAGZ1+B,EAAOhuB,MAAM+mE,EAAII,cAIrBJ,EAAIpgB,QAAU,WACZ34B,EAAOhuB,MAAM,mBAGD,QAAV05D,GACAqN,EAAIK,iBAAiB,eAAgB,qCAGzCL,EAAIM,KAAKj4C,MAlCjB,+JAsCO,IAAI34B,EAAMowE,EAEV,SAASS,EAAOr0C,GACnB,IAAIs0C,EAAW,GAYf,OAXAt0C,EAAQe,SAAQ,SAASga,GACrBu5B,EAASxsE,KACL8rE,EAAQ74B,GACPssB,MAAK,SAASxiC,GACX,OAAO,IAAIhK,SAAQ,SAASC,EAASC,GACjCD,EAAQ+J,aAMjBhK,QAAQ05C,IAAID,GAGhB,SAASE,EAAK10C,GAEjB,OADAA,EAAI2mC,OAAS,OACNU,KAAKyM,QAAQ9zC,K,6BC1DT,SAAStiB,EAAMgd,EAAMksC,GAWhC,IATA,IAEI/jE,EACAk/B,EAHA55B,EAAOuyB,EAAK/zB,OACZ0+B,EAAQ,EAGRjC,EAAO,GAKLiC,EAAQl9B,GACVtF,EAAIwiC,GAAa,EACjBtD,EAAM4yC,EAASj6C,EAAMksC,EAAUn2D,WAAW,GAAI5N,GAC9CugC,EAAKp7B,KAAK+5B,EAAI4U,QACdtR,GAAStD,EAAI55B,KAEjB,OAAOi7B,EAGX,SAASuxC,EAASj6C,EAAMk6C,EAAeC,GAWnC,IATA,IAGI1Y,EAEAjkD,EALA48D,GAAM,EACNC,GAAQ,EACR7xE,EAAI2xE,EAEJttE,EAAIstE,EAEJl+B,EAAS,GACTvgC,EAAIskB,EAAK/zB,QAENmuE,GAAI,CAEP,GAAY,MADZ3Y,EAAOzhC,EAAKjqB,WAAWvN,KACLA,GAAGkT,EACjB0+D,GAAM,EAENn+B,EAAO3uC,KAAM0yB,EAAK5zB,MAAMS,EAAGrE,SAE3B,GAAGi5D,IAASyY,GAAkBG,EAKX,KAAT5Y,IACH4Y,EACIr6C,EAAKjqB,WAAWvN,EAAE,KAAO0xE,IACxBG,GAAQ,EACRp+B,EAAO3uC,KAAK0yB,EAAK5zB,MAAMoR,EAAGhV,IAC1BqE,EAAIrE,EAAE,EACNA,MAGJgV,EAAIhV,EAAE,EACN6xE,GAAQ,QAfqB,CAEjC,IAAI7hE,EAAQwnB,EAAK5zB,MAAMS,EAAGrE,GAC1ByzC,EAAO3uC,KAAMkL,GACb3L,EAAIrE,EAAE,EAedA,IAEJ,MAAO,CAAEyzC,OAAQA,EAAQxuC,KAAMjF,EAAE2xE,GA3DrC,mC,6BCAA,YAEe,gBACb,IAAIllE,EAASvM,GAAQ,GAAIP,EAAI8M,EAAO9B,QAAQ,KAE5C,OADIhL,GAAK,GAAqC,WAA/B8M,EAASvM,EAAK0D,MAAM,EAAGjE,MAAiBO,EAAOA,EAAK0D,MAAMjE,EAAI,IACtE,IAAW6B,eAAeiL,GAAU,CAACimB,MAAO,IAAWjmB,GAASkmB,MAAOzyB,GAAQA,I,6BCLxF,SAAS2uC,KAEM,gBACb,OAAmB,MAAZjZ,EAAmBiZ,EAAO,WAC/B,OAAO3qC,KAAKi9D,cAAcvrC,M,6BCJf,gBACb,OAAQpH,EAAKsjD,eAAiBtjD,EAAKsjD,cAAc/gD,aACzCvC,EAAKoC,UAAYpC,GAClBA,EAAKuC,c,6BCHd,wEAAIghD,EAAe,GAER16C,EAAQ,KAEK,oBAAbzG,WAEH,iBADQA,SAASE,kBAErBihD,EAAe,CAACC,WAAY,YAAaC,WAAY,cAIzD,SAASC,EAAsB99C,EAAU5uB,EAAO6F,GAE9C,OADA+oB,EAAW+9C,EAAgB/9C,EAAU5uB,EAAO6F,GACrC,SAASgsB,GACd,IAAI+6C,EAAU/6C,EAAMg7C,cACfD,IAAYA,IAAYluE,MAAkD,EAAxCkuE,EAAQE,wBAAwBpuE,QACrEkwB,EAASt0B,KAAKoE,KAAMmzB,IAK1B,SAAS86C,EAAgB/9C,EAAU5uB,EAAO6F,GACxC,OAAO,SAASknE,GACd,IAAIC,EAASn7C,EACbA,EAAQk7C,EACR,IACEn+C,EAASt0B,KAAKoE,KAAMA,KAAK6qB,SAAUvpB,EAAO6F,GAC1C,QACAgsB,EAAQm7C,IAKd,SAASC,EAAeC,GACtB,OAAOA,EAAUnoE,OAAO8mB,MAAM,SAASjtB,KAAI,SAASvD,GAClD,IAAIX,EAAO,GAAIP,EAAIkB,EAAE8J,QAAQ,KAE7B,OADIhL,GAAK,IAAGO,EAAOW,EAAE+C,MAAMjE,EAAI,GAAIkB,EAAIA,EAAE+C,MAAM,EAAGjE,IAC3C,CAAC6K,KAAM3J,EAAGX,KAAMA,MAI3B,SAASyyE,EAASC,GAChB,OAAO,WACL,IAAI9jD,EAAK5qB,KAAK2uE,KACd,GAAK/jD,EAAL,CACA,IAAK,IAAkC1uB,EAA9ByI,EAAI,EAAGlJ,GAAK,EAAGI,EAAI+uB,EAAGrrB,OAAWoF,EAAI9I,IAAK8I,EAC7CzI,EAAI0uB,EAAGjmB,GAAM+pE,EAASpoE,MAAQpK,EAAEoK,OAASooE,EAASpoE,MAASpK,EAAEF,OAAS0yE,EAAS1yE,KAGjF4uB,IAAKnvB,GAAKS,EAFV8D,KAAKy1C,oBAAoBv5C,EAAEoK,KAAMpK,EAAEg0B,SAAUh0B,EAAE0yE,WAK7CnzE,EAAGmvB,EAAGrrB,OAAS9D,SACTuE,KAAK2uE,OAIrB,SAASE,EAAMH,EAAUhyE,EAAOkyE,GAC9B,IAAIE,EAAOjB,EAAavwE,eAAeoxE,EAASpoE,MAAQ0nE,EAAwBC,EAChF,OAAO,SAASlyE,EAAGN,EAAG0L,GACpB,IAAoBjL,EAAhB0uB,EAAK5qB,KAAK2uE,KAASz+C,EAAW4+C,EAAKpyE,EAAOjB,EAAG0L,GACjD,GAAIyjB,EAAI,IAAK,IAAIjmB,EAAI,EAAG9I,EAAI+uB,EAAGrrB,OAAQoF,EAAI9I,IAAK8I,EAC9C,IAAKzI,EAAI0uB,EAAGjmB,IAAI2B,OAASooE,EAASpoE,MAAQpK,EAAEF,OAAS0yE,EAAS1yE,KAI5D,OAHAgE,KAAKy1C,oBAAoBv5C,EAAEoK,KAAMpK,EAAEg0B,SAAUh0B,EAAE0yE,SAC/C5uE,KAAK20C,iBAAiBz4C,EAAEoK,KAAMpK,EAAEg0B,SAAWA,EAAUh0B,EAAE0yE,QAAUA,QACjE1yE,EAAEQ,MAAQA,GAIdsD,KAAK20C,iBAAiB+5B,EAASpoE,KAAM4pB,EAAU0+C,GAC/C1yE,EAAI,CAACoK,KAAMooE,EAASpoE,KAAMtK,KAAM0yE,EAAS1yE,KAAMU,MAAOA,EAAOwzB,SAAUA,EAAU0+C,QAASA,GACrFhkD,EACAA,EAAGhqB,KAAK1E,GADJ8D,KAAK2uE,KAAO,CAACzyE,IA0BnB,SAAS6yE,EAAYV,EAAQn+C,EAAUwD,EAAMs7C,GAClD,IAAIV,EAASn7C,EACbk7C,EAAOY,YAAc97C,EACrBA,EAAQk7C,EACR,IACE,OAAOn+C,EAASvuB,MAAM+xB,EAAMs7C,GAC5B,QACA77C,EAAQm7C,GA5BG,oBACb,IAA+C7yE,EAAyBkB,EAApE6xE,EAAYD,EAAeG,EAAW,IAAQxxE,EAAIsxE,EAAUjvE,OAEhE,KAAIQ,UAAUR,OAAS,GAAvB,CAcA,IAFAqrB,EAAKluB,EAAQmyE,EAAQJ,EACN,MAAXG,IAAiBA,GAAU,GAC1BnzE,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGuE,KAAKI,KAAKwqB,EAAG4jD,EAAU/yE,GAAIiB,EAAOkyE,IAC1D,OAAO5uE,KAdL,IAAI4qB,EAAK5qB,KAAKsqB,OAAOqkD,KACrB,GAAI/jD,EAAI,IAAK,IAA0B1uB,EAAtByI,EAAI,EAAG9I,EAAI+uB,EAAGrrB,OAAWoF,EAAI9I,IAAK8I,EACjD,IAAKlJ,EAAI,EAAGS,EAAI0uB,EAAGjmB,GAAIlJ,EAAIyB,IAAKzB,EAC9B,IAAKkB,EAAI6xE,EAAU/yE,IAAI6K,OAASpK,EAAEoK,MAAQ3J,EAAEX,OAASE,EAAEF,KACrD,OAAOE,EAAEQ,Q,+DCnFJ,MAAMssE,EACnB,YAAY/vC,EAAYi2C,GACvBlvE,KAAKi5B,WAAaA,EAGnB,UAAWk2C,GACT,IAAI1zB,EAAO,GACX,IAAK,IAAIqZ,KAAQqa,EAAO,CACtB,IAAIzxC,EAAMvhC,OAAOwE,KAAKm0D,GAAM,GAClB,cAAPp3B,EACD+d,EAAK76C,KAAK,CAACwuE,WAAYpvE,KAAKi5C,UAAU6b,EAAKp3B,MAI3C+d,EAAK76C,KAAKzE,OAAOkrB,OAAO,GAAIytC,IAGhC,OAAOrZ,EAGT,UAAWqZ,GACT,IAAIz6B,EAAWy6B,EAAKua,UAAYrvE,KAAKi5B,WACjCm9B,EAAWtB,EAAKwa,UAAY,GAC5BC,EAAaza,EAAK0a,YAAc,GAChCjgC,EAASlV,EAASnuB,OAAO4mB,IAAoC,IAA5BsjC,EAAS3vD,QAAQqsB,IAClD28C,EAAa,GAEjB,IAAK,IAAI/xC,KAAO6xC,EACF,UAAR7xC,EACF+xC,EAAkB,MAAI,CAACC,OAAQ,KAE/BngC,EAAO1V,QAAS/tB,IACd,IAAIy5C,EAAS,CAAC7nB,EAAK5xB,GAAOjF,KAAK,KAC/B4oE,EAAWlqB,GAAU,GACrBkqB,EAAWlqB,GAAQ,IAAI7nB,GAAO5xB,IAIpC,OAAO3P,OAAOkrB,OAAO,CAACs0B,SAAU8zB,GAAa3a,GAG/C,UAAWA,GACT,IAAIT,EAASS,EAAKT,QAAUS,EAAKV,MAEjC,QAAeryD,IAAXsyD,EAAsB,OAAOS,EAEjC,IAAI94B,EAAOq4B,EAAOr4B,MAAQq4B,EAAO15B,IAC7B5B,EAAUs7B,EAAOt7B,SAAWs7B,EAAOsB,OACnCla,EAAOzf,GAAQjD,EAEf64B,EAAYz1D,OAAOwE,KAAKm0D,GAAM5oD,OAAO5I,GAAW,WAANA,GAE1CsxD,EAAYz4D,OAAOwE,KAAK86C,GAExBoZ,EAAeh3D,KAAKwB,OAAOu1D,EAAU10D,IAAImL,GAAKowC,EAAKpwC,GAAG9L,SAEtD40D,EAAQ,IAAI10D,MAAMo1D,GACtB,IAAI,IAAIp5D,EAAI,EAAGA,EAAIo5D,EAAcp5D,IAAK,CACpC,IAAIwmD,EAAO,GACX2P,EAAU/3B,QAAQk7B,IAChB,IAAI55B,EAAKy5B,EAAUnuD,QAAQquD,EAAKC,IAE9B9S,EAAK8S,GADJ55B,EAAK,EACO25B,EAAKC,GAELtZ,EAAKmZ,EAAUz5B,IAAK1/B,KAGrC04D,EAAM14D,GAAKwmD,EAKb,OAHAkS,EAAME,OAASA,EACfF,EAAMj/B,MAAQm/B,EAAOn/B,MACrBi/B,EAAMG,OAASD,EAAOC,OACfH,K,u5ECjEP,EACAwb,EACA,EACA,EACA,E,6BAPOC,EAAc,OAAAjoD,EAAA,KAErBkoD,EAAU,OAAAloD,EAAA,KAOHmoD,EAAa,CACtBn1D,MAAOb,EAAA,EACPyB,UAAWzB,EAAA,EACX0B,QAAS1B,EAAA,EACT2B,aAAc,WACZm0D,EAAYnoD,QACZqoD,EAAWv0D,UAAYw0D,EACvBD,EAAWt0D,QAAUw0D,GAEvBt0D,WAAY,WACV,IAAIu0D,GAAYL,EAChBC,EAAQ1uE,IAAI8uE,EAAW,EAAI,IAAMA,EAAWA,GAC5CjwE,KAAKub,UAAYvb,KAAKwb,QAAUxb,KAAK2a,MAAQb,EAAA,GAE/CU,OAAQ,WACNq1D,EAAQ1uE,IAAI,OAIhB,SAAS4uE,IACPD,EAAWn1D,MAAQu1D,EAGrB,SAASF,IACPG,EAAU,EAAUR,GAGtB,SAASO,EAAeE,EAAQC,GAC9BP,EAAWn1D,MAAQw1D,EACnB,EAAWC,EAAQT,EAAQU,EAC3BD,GAAU,IAASC,GAAO,IAC1B,EAAUD,EAAQ,EAAU,YAAIC,EAAMA,EAAM,EAAI,KAAY,EAAU,YAAIA,GAG5E,SAASF,EAAUC,EAAQC,GACzBD,GAAU,IACVC,GADmBA,GAAO,KACd,EAAI,IAKhB,IAAIC,EAAUF,EAAS,EACnBG,EAAWD,GAAW,EAAI,GAAK,EAC/BE,EAAWD,EAAWD,EACtBG,EAAS,YAAIJ,GACbK,EAAS,YAAIL,GACb/sE,EAAI,EAAUotE,EACdnrE,EAAI,EAAUkrE,EAASntE,EAAI,YAAIktE,GAC/BnlE,EAAI/H,EAAIitE,EAAW,YAAIC,GAC3BZ,EAAYzuE,IAAI,YAAMkK,EAAG9F,IAGzB,EAAU6qE,EAAQ,EAAUK,EAAQ,EAAUC,EAGjC,kBAGb,OAFAb,EAAQpoD,QACR,YAAOtqB,EAAQ2yE,GACE,EAAVD,GCtEF,SAAS,EAAUc,GACxB,MAAO,CAAC,YAAMA,EAAU,GAAIA,EAAU,IAAK,YAAKA,EAAU,KAGrD,SAAS,EAAUC,GACxB,IAAIR,EAASQ,EAAU,GAAIP,EAAMO,EAAU,GAAIH,EAAS,YAAIJ,GAC5D,MAAO,CAACI,EAAS,YAAIL,GAASK,EAAS,YAAIL,GAAS,YAAIC,IAGnD,SAASQ,EAAajuE,EAAGD,GAC9B,OAAOC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAGvC,SAASmuE,EAAeluE,EAAGD,GAChC,MAAO,CAACC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,GAAIC,EAAE,GAAKD,EAAE,GAAKC,EAAE,GAAKD,EAAE,IAIhF,SAASouE,EAAoBnuE,EAAGD,GACrCC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,GAAIC,EAAE,IAAMD,EAAE,GAGjC,SAASquE,EAAerL,EAAQriE,GACrC,MAAO,CAACqiE,EAAO,GAAKriE,EAAGqiE,EAAO,GAAKriE,EAAGqiE,EAAO,GAAKriE,GAI7C,SAAS2tE,EAA0Bl1E,GACxC,IAAIL,EAAI,YAAKK,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAClDA,EAAE,IAAML,EAAGK,EAAE,IAAML,EAAGK,EAAE,IAAML,ECzBhC,IAAI,EAAS,EAAM,EAAS,EACxB,EACA,EAAU,EACV,EAEAw1E,EACApxE,EAFAqxE,EAAW,OAAAxpD,EAAA,KAIXq8C,EAAe,CACjBrpD,MAAOy2D,EACP71D,UAAW81D,EACX71D,QAAS81D,EACT71D,aAAc,WACZuoD,EAAarpD,MAAQ42D,EACrBvN,EAAazoD,UAAYi2D,EACzBxN,EAAaxoD,QAAUi2D,EACvBN,EAAS1pD,QACTqoD,EAAWr0D,gBAEbC,WAAY,WACVo0D,EAAWp0D,aACXsoD,EAAarpD,MAAQy2D,EACrBpN,EAAazoD,UAAY81D,EACzBrN,EAAaxoD,QAAU81D,EACnB1B,EAAc,GAAG,IAAY,EAAU,KAAM,IAAS,EAAO,KACxDuB,EAAW,IAAS,EAAO,GAC3BA,GAAY,MAAS,GAAQ,IACtCrxE,EAAM,GAAK,EAASA,EAAM,GAAK,GAEjC0a,OAAQ,WACN,IAAY,EAAU,KAAM,IAAS,EAAO,MAIhD,SAAS42D,EAAYhB,EAAQC,GAC3Ba,EAAOtwE,KAAKd,EAAQ,CAAC,EAAUswE,EAAQ,EAAUA,IAC7CC,EAAM,IAAM,EAAOA,GACnBA,EAAM,IAAM,EAAOA,GAGzB,SAAS,EAAUD,EAAQC,GACzB,IAAI9yE,EAAI,EAAU,CAAC6yE,EAAS,IAASC,EAAM,MAC3C,GAAI,EAAI,CACN,IAAIqB,EAASZ,EAAe,EAAIvzE,GAE5Bo0E,EAAab,EADA,CAACY,EAAO,IAAKA,EAAO,GAAI,GACGA,GAC5CT,EAA0BU,GAC1BA,EAAa,EAAUA,GACvB,IAGIC,EAHA9P,EAAQsO,EAAS,EACjBvxE,EAAOijE,EAAQ,EAAI,GAAK,EACxB+P,EAAUF,EAAW,GAAK,IAAU9yE,EAEpCizE,EAAe,YAAIhQ,GAAS,IAC5BgQ,GAAgBjzE,EAAO,EAAUgzE,GAAWA,EAAUhzE,EAAOuxE,IAC/DwB,EAAOD,EAAW,GAAK,KACZ,IAAM,EAAOC,GACwBE,GAAgBjzE,EAAO,GAA9DgzE,GAAWA,EAAU,KAAO,IAAM,MAAiDA,EAAUhzE,EAAOuxE,IAC7GwB,GAAQD,EAAW,GAAK,KACb,IAAM,EAAOC,IAEpBvB,EAAM,IAAM,EAAOA,GACnBA,EAAM,IAAM,EAAOA,IAErByB,EACE1B,EAAS,EACP,EAAM,EAASA,GAAU,EAAM,EAAS,KAAU,EAAUA,GAE5D,EAAMA,EAAQ,GAAW,EAAM,EAAS,KAAU,EAAUA,GAG9D,GAAW,GACTA,EAAS,IAAS,EAAUA,GAC5BA,EAAS,IAAS,EAAUA,IAE5BA,EAAS,EACP,EAAM,EAASA,GAAU,EAAM,EAAS,KAAU,EAAUA,GAE5D,EAAMA,EAAQ,GAAW,EAAM,EAAS,KAAU,EAAUA,QAKtEc,EAAOtwE,KAAKd,EAAQ,CAAC,EAAUswE,EAAQ,EAAUA,IAE/CC,EAAM,IAAM,EAAOA,GACnBA,EAAM,IAAM,EAAOA,GACvB,EAAK9yE,EAAG,EAAU6yE,EAGpB,SAASiB,IACPrN,EAAarpD,MAAQ,EAGvB,SAAS22D,IACPxxE,EAAM,GAAK,EAASA,EAAM,GAAK,EAC/BkkE,EAAarpD,MAAQy2D,EACrB,EAAK,KAGP,SAASG,EAAgBnB,EAAQC,GAC/B,GAAI,EAAI,CACN,IAAIvO,EAAQsO,EAAS,EACrBe,EAAShwE,IAAI,YAAI2gE,GAAS,IAAMA,GAASA,EAAQ,EAAI,KAAO,KAAOA,QAEnE,EAAWsO,EAAQ,EAAQC,EAE7BP,EAAWn1D,MAAMy1D,EAAQC,GACzB,EAAUD,EAAQC,GAGpB,SAASmB,IACP1B,EAAWv0D,YAGb,SAASk2D,IACPF,EAAgB,EAAU,GAC1BzB,EAAWt0D,UACP,YAAI21D,GAAY,MAAS,IAAY,EAAU,MACnDrxE,EAAM,GAAK,EAASA,EAAM,GAAK,EAC/B,EAAK,KAMP,SAAS,EAAMiyE,EAASC,GACtB,OAAQA,GAAWD,GAAW,EAAIC,EAAU,IAAMA,EAGpD,SAASC,EAAarvE,EAAGD,GACvB,OAAOC,EAAE,GAAKD,EAAE,GAGlB,SAASuvE,EAAcpyE,EAAOhB,GAC5B,OAAOgB,EAAM,IAAMA,EAAM,GAAKA,EAAM,IAAMhB,GAAKA,GAAKgB,EAAM,GAAKhB,EAAIgB,EAAM,IAAMA,EAAM,GAAKhB,EAG7E,IC3IXqzE,EAAIC,EACJ,EAAI,EAAIC,EACR,GAAI,GAAIC,GACRC,GAAIC,GAAIC,GACR,GAAU,GACV,GAAI,GAAIC,GDsIG,eACb,IAAIj3E,EAAGyB,EAAG0F,EAAGD,EAAGgX,EAAQg5D,EAAU7Q,EAOlC,GALA,EAAO,IAAY,EAAU,EAAOx4D,KACpC4nE,EAAS,GACT,YAAOzW,EAASuJ,GAGZ9mE,EAAIg0E,EAAO3xE,OAAQ,CAIrB,IAHA2xE,EAAOx0C,KAAKu1C,GAGPx2E,EAAI,EAAkBke,EAAS,CAAxB/W,EAAIsuE,EAAO,IAAkBz1E,EAAIyB,IAAKzB,EAE5Cy2E,EAActvE,GADlBD,EAAIuuE,EAAOz1E,IACY,KAAOy2E,EAActvE,EAAGD,EAAE,KAC3C,EAAMC,EAAE,GAAID,EAAE,IAAM,EAAMC,EAAE,GAAIA,EAAE,MAAKA,EAAE,GAAKD,EAAE,IAChD,EAAMA,EAAE,GAAIC,EAAE,IAAM,EAAMA,EAAE,GAAIA,EAAE,MAAKA,EAAE,GAAKD,EAAE,KAEpDgX,EAAO/Y,KAAKgC,EAAID,GAMpB,IAAKgwE,GAAYrpE,IAAiC7N,EAAI,EAAGmH,EAAI+W,EAAlCzc,EAAIyc,EAAOpa,OAAS,GAAyB9D,GAAKyB,EAAG0F,EAAID,IAAKlH,EACvFkH,EAAIgX,EAAOle,IACNqmE,EAAQ,EAAMl/D,EAAE,GAAID,EAAE,KAAOgwE,IAAUA,EAAW7Q,EAAO,EAAUn/D,EAAE,GAAI,EAAUC,EAAE,IAM9F,OAFAsuE,EAASpxE,EAAQ,KAEV,IAAYwJ,KAAY,IAASA,IAClC,CAAC,CAACpF,IAAKA,KAAM,CAACA,IAAKA,MACnB,CAAC,CAAC,EAAS,GAAO,CAAC,EAAS,KCtKhC0uE,GAAiB,CACnBp4D,OAAQV,EAAA,EACRa,MAAOk4D,GACPt3D,UAAWu3D,GACXt3D,QAASu3D,GACTt3D,aAAc,WACZm3D,GAAer3D,UAAYy3D,GAC3BJ,GAAep3D,QAAUy3D,IAE3Bv3D,WAAY,WACVk3D,GAAer3D,UAAYu3D,GAC3BF,GAAep3D,QAAUu3D,KAK7B,SAASF,GAAczC,EAAQC,GAC7BD,GAAU,IAASC,GAAO,IAC1B,IAAII,EAAS,YAAIJ,GACjB6C,GAAuBzC,EAAS,YAAIL,GAASK,EAAS,YAAIL,GAAS,YAAIC,IAGzE,SAAS6C,GAAuBp0E,EAAGwG,EAAGgG,KAClC6mE,EACF,IAAOrzE,EAAI,GAAMqzE,EACjB,IAAO7sE,EAAI,GAAM6sE,EACjBE,IAAO/mE,EAAI+mE,GAAMF,EAGnB,SAASW,KACPF,GAAej4D,MAAQw4D,GAGzB,SAASA,GAAuB/C,EAAQC,GACtCD,GAAU,IAASC,GAAO,IAC1B,IAAII,EAAS,YAAIJ,GACjB,GAAKI,EAAS,YAAIL,GAClB,GAAKK,EAAS,YAAIL,GAClBsC,GAAK,YAAIrC,GACTuC,GAAej4D,MAAQy4D,GACvBF,GAAuB,GAAI,GAAIR,IAGjC,SAASU,GAAkBhD,EAAQC,GACjCD,GAAU,IAASC,GAAO,IAC1B,IAAII,EAAS,YAAIJ,GACbvxE,EAAI2xE,EAAS,YAAIL,GACjB9qE,EAAImrE,EAAS,YAAIL,GACjB9kE,EAAI,YAAI+kE,GACRpgE,EAAI,YAAM,aAAMA,EAAI,GAAK3E,EAAIonE,GAAKptE,GAAK2K,GAAKA,EAAIyiE,GAAK5zE,EAAI,GAAKwM,GAAK2E,GAAKA,EAAI,GAAK3K,EAAI,GAAKxG,GAAKmR,GAAI,GAAKnR,EAAI,GAAKwG,EAAIotE,GAAKpnE,GAC9H8mE,GAAMniE,EACN,IAAMA,GAAK,IAAM,GAAKnR,IACtB,IAAMmR,GAAK,IAAM,GAAK3K,IACtBgtE,IAAMriE,GAAKyiE,IAAMA,GAAKpnE,IACtB4nE,GAAuB,GAAI,GAAIR,IAGjC,SAASK,KACPH,GAAej4D,MAAQk4D,GAKzB,SAASG,KACPJ,GAAej4D,MAAQ04D,GAGzB,SAASJ,KACPK,GAAkB,GAAU,IAC5BV,GAAej4D,MAAQk4D,GAGzB,SAASQ,GAAuBjD,EAAQC,GACtC,GAAWD,EAAQ,GAAQC,EAC3BD,GAAU,IAASC,GAAO,IAC1BuC,GAAej4D,MAAQ24D,GACvB,IAAI7C,EAAS,YAAIJ,GACjB,GAAKI,EAAS,YAAIL,GAClB,GAAKK,EAAS,YAAIL,GAClBsC,GAAK,YAAIrC,GACT6C,GAAuB,GAAI,GAAIR,IAGjC,SAASY,GAAkBlD,EAAQC,GACjCD,GAAU,IAASC,GAAO,IAC1B,IAAII,EAAS,YAAIJ,GACbvxE,EAAI2xE,EAAS,YAAIL,GACjB9qE,EAAImrE,EAAS,YAAIL,GACjB9kE,EAAI,YAAI+kE,GACR3tC,EAAK,GAAKp3B,EAAIonE,GAAKptE,EACnBq9B,EAAK+vC,GAAK5zE,EAAI,GAAKwM,EACnBioE,EAAK,GAAKjuE,EAAI,GAAKxG,EACnBjD,EAAI,YAAK6mC,EAAKA,EAAKC,EAAKA,EAAK4wC,EAAKA,GAClCtjE,EAAI,YAAKpU,GACTwP,EAAIxP,IAAMoU,EAAIpU,EAClB02E,IAAMlnE,EAAIq3B,EACV8vC,IAAMnnE,EAAIs3B,EACV8vC,IAAMpnE,EAAIkoE,EACVnB,GAAMniE,EACN,IAAMA,GAAK,IAAM,GAAKnR,IACtB,IAAMmR,GAAK,IAAM,GAAK3K,IACtBgtE,IAAMriE,GAAKyiE,IAAMA,GAAKpnE,IACtB4nE,GAAuB,GAAI,GAAIR,IAGlB,mBACbP,EAAKC,EACL,EAAK,EAAKC,EACV,GAAK,GAAKC,GACVC,GAAKC,GAAKC,GAAK,EACf,YAAOt1E,EAAQy1E,IAEf,IAAI9zE,EAAIyzE,GACJjtE,EAAIktE,GACJlnE,EAAImnE,GACJ52E,EAAIiD,EAAIA,EAAIwG,EAAIA,EAAIgG,EAAIA,EAG5B,OAAIzP,EAAI,MACNiD,EAAI,GAAIwG,EAAI,GAAIgG,EAAIgnE,GAEhBF,EAAK,MAAStzE,EAAI,EAAIwG,EAAI,EAAIgG,EAAI+mE,IACtCx2E,EAAIiD,EAAIA,EAAIwG,EAAIA,EAAIgG,EAAIA,GAEhB,KAAiB,CAACpH,IAAKA,KAG1B,CAAC,YAAMoB,EAAGxG,GAAK,IAAS,YAAKwM,EAAI,YAAKzP,IAAM,MC1ItC,eACb,OAAO,WACL,OAAOiD,ICFI,iBAEb,SAAS00E,EAAQ10E,EAAGwG,GAClB,OAAOxG,EAAI8D,EAAE9D,EAAGwG,GAAI3C,EAAE7D,EAAE,GAAIA,EAAE,IAOhC,OAJI8D,EAAEyC,QAAU1C,EAAE0C,SAAQmuE,EAAQnuE,OAAS,SAASvG,EAAGwG,GACrD,OAAOxG,EAAI6D,EAAE0C,OAAOvG,EAAGwG,KAAS1C,EAAEyC,OAAOvG,EAAE,GAAIA,EAAE,MAG5C00E,GCPT,SAASC,GAAiBrD,EAAQC,GAChC,MAAO,CAAC,YAAID,GAAU,IAAKA,EAASvyE,KAAKoE,OAAOmuE,EAAS,KAAO,IAAMA,EAAQC,GAKzE,SAASqD,GAAcC,EAAaC,EAAUC,GACnD,OAAQF,GAAe,KAAQC,GAAYC,EAAaL,GAAQM,GAAeH,GAAcI,GAAiBH,EAAUC,IACpHC,GAAeH,GACdC,GAAYC,EAAaE,GAAiBH,EAAUC,GACrDJ,GAGN,SAASO,GAAsBL,GAC7B,OAAO,SAASvD,EAAQC,GACtB,MAA8B,EAAvBD,GAAUuD,GAAuB,IAAKvD,EAAS,IAAMA,GAAU,IAAKA,EAAS,IAAMA,EAAQC,IAItG,SAASyD,GAAeH,GACtB,IAAIM,EAAWD,GAAsBL,GAErC,OADAM,EAAS5uE,OAAS2uE,IAAuBL,GAClCM,EAGT,SAASF,GAAiBH,EAAUC,GAClC,IAAIK,EAAc,YAAIN,GAClBO,EAAc,YAAIP,GAClBQ,EAAgB,YAAIP,GACpBQ,EAAgB,YAAIR,GAExB,SAASI,EAAS7D,EAAQC,GACxB,IAAII,EAAS,YAAIJ,GACbvxE,EAAI,YAAIsxE,GAAUK,EAClBnrE,EAAI,YAAI8qE,GAAUK,EAClBnlE,EAAI,YAAI+kE,GACR/sE,EAAIgI,EAAI4oE,EAAcp1E,EAAIq1E,EAC9B,MAAO,CACL,YAAM7uE,EAAI8uE,EAAgB9wE,EAAI+wE,EAAev1E,EAAIo1E,EAAc5oE,EAAI6oE,GACnE,YAAK7wE,EAAI8wE,EAAgB9uE,EAAI+uE,IAgBjC,OAZAJ,EAAS5uE,OAAS,SAAS+qE,EAAQC,GACjC,IAAII,EAAS,YAAIJ,GACbvxE,EAAI,YAAIsxE,GAAUK,EAClBnrE,EAAI,YAAI8qE,GAAUK,EAClBnlE,EAAI,YAAI+kE,GACR/sE,EAAIgI,EAAI8oE,EAAgB9uE,EAAI+uE,EAChC,MAAO,CACL,YAAM/uE,EAAI8uE,EAAgB9oE,EAAI+oE,EAAev1E,EAAIo1E,EAAc5wE,EAAI6wE,GACnE,YAAK7wE,EAAI4wE,EAAcp1E,EAAIq1E,KAIxBF,EAnDTR,GAAiBpuE,OAASouE,GAsDX,mBAGb,SAASa,EAAQ55D,GAEf,OADAA,EAAciR,EAAOjR,EAAY,GAAK,IAASA,EAAY,GAAK,MAC7C,IAAM,IAASA,EAAY,IAAM,IAASA,EAQ/D,OAZAiR,EAAS+nD,GAAc/nD,EAAO,GAAK,IAASA,EAAO,GAAK,IAASA,EAAOpsB,OAAS,EAAIosB,EAAO,GAAK,IAAU,GAO3G2oD,EAAQjvE,OAAS,SAASqV,GAExB,OADAA,EAAciR,EAAOtmB,OAAOqV,EAAY,GAAK,IAASA,EAAY,GAAK,MACpD,IAAM,IAASA,EAAY,IAAM,IAASA,GAGxD45D,GCpEF,SAASC,GAAat6D,EAAQorB,EAAQy8B,EAAO0S,EAAW38D,EAAIC,GACjE,GAAKgqD,EAAL,CACA,IAAI2S,EAAY,YAAIpvC,GAChBqvC,EAAY,YAAIrvC,GAChBxjC,EAAO2yE,EAAY1S,EACb,MAANjqD,GACFA,EAAKwtB,EAASmvC,EAAY,IAC1B18D,EAAKutB,EAASxjC,EAAO,IAErBgW,EAAK88D,GAAaF,EAAW58D,GAC7BC,EAAK68D,GAAaF,EAAW38D,IACzB08D,EAAY,EAAI38D,EAAKC,EAAKD,EAAKC,KAAID,GAAM28D,EAAY,MAE3D,IAAK,IAAI75D,EAAOhe,EAAIkb,EAAI28D,EAAY,EAAI73E,EAAImb,EAAKnb,EAAImb,EAAInb,GAAKkF,EAC5D8Y,EAAQ,EAAU,CAAC85D,GAAYC,EAAY,YAAI/3E,IAAK+3E,EAAY,YAAI/3E,KACpEsd,EAAOU,MAAMA,EAAM,GAAIA,EAAM,KAKjC,SAASg6D,GAAaF,EAAW95D,IAC/BA,EAAQ,EAAUA,IAAc,IAAM85D,EACtCxD,EAA0Bt2D,GAC1B,IAAI0qB,EAAS,aAAM1qB,EAAM,IACzB,SAAUA,EAAM,GAAK,GAAK0qB,EAASA,GAAU,IAAM,KAAW,IAGjD,kBACb,IAGI6G,EACAvgB,EAJAsI,EAAS1wB,GAAS,CAAC,EAAG,IACtB8hC,EAAS9hC,GAAS,IAClB6C,EAAY7C,GAAS,GAGrB0W,EAAS,CAACU,MAEd,SAAe7b,EAAGwG,GAChB4mC,EAAKtrC,KAAK9B,EAAI6sB,EAAO7sB,EAAGwG,IACxBxG,EAAE,IAAM,IAASA,EAAE,IAAM,MAG3B,SAASqoC,IACP,IAAIrrC,EAAIm4B,EAAOtyB,MAAM3B,KAAMD,WACvBxD,EAAI8oC,EAAO1jC,MAAM3B,KAAMD,WAAa,IACpCxC,EAAI6I,EAAUzE,MAAM3B,KAAMD,WAAa,IAM3C,OALAmsC,EAAO,GACPvgB,EAAS+nD,IAAe53E,EAAE,GAAK,KAAUA,EAAE,GAAK,IAAS,GAAGuJ,OAC5DkvE,GAAat6D,EAAQ1d,EAAGgB,EAAG,GAC3BzB,EAAI,CAACwK,KAAM,UAAWoU,YAAa,CAACwxB,IACpCA,EAAOvgB,EAAS,KACT7vB,EAeT,OAZAqrC,EAAOlT,OAAS,SAASxyB,GACvB,OAAO1B,UAAUR,QAAU00B,EAAsB,mBAANxyB,EAAmBA,EAAI8B,GAAS,EAAE9B,EAAE,IAAKA,EAAE,KAAM0lC,GAAUlT,GAGxGkT,EAAO9B,OAAS,SAAS5jC,GACvB,OAAO1B,UAAUR,QAAU8lC,EAAsB,mBAAN5jC,EAAmBA,EAAI8B,IAAU9B,GAAI0lC,GAAU9B,GAG5F8B,EAAO/gC,UAAY,SAAS3E,GAC1B,OAAO1B,UAAUR,QAAU6G,EAAyB,mBAAN3E,EAAmBA,EAAI8B,IAAU9B,GAAI0lC,GAAU/gC,GAGxF+gC,GCpEM,cACb,IACI3R,EADA2xC,EAAQ,GAEZ,MAAO,CACLxsD,MAAO,SAAS7b,EAAGwG,GACjBkwB,EAAK50B,KAAK,CAAC9B,EAAGwG,KAEhBiW,UAAW,WACT4rD,EAAMvmE,KAAK40B,EAAO,KAEpBha,QAAS1B,EAAA,EACT86D,OAAQ,WACFzN,EAAM5nE,OAAS,GAAG4nE,EAAMvmE,KAAKumE,EAAMh7C,MAAMgK,OAAOgxC,EAAMzsC,WAE5DiD,OAAQ,WACN,IAAIA,EAASwpC,EAGb,OAFAA,EAAQ,GACR3xC,EAAO,KACAmI,KClBE,iBACb,OAAO,YAAI/6B,EAAE,GAAKD,EAAE,IAAM,KAAW,YAAIC,EAAE,GAAKD,EAAE,IAAM,KCD1D,SAASkyE,GAAal6D,EAAOsxB,EAAQ6oC,EAAOC,GAC1C/0E,KAAKlB,EAAI6b,EACT3a,KAAKsL,EAAI2gC,EACTjsC,KAAK9D,EAAI44E,EACT90E,KAAKwJ,EAAIurE,EACT/0E,KAAKqL,GAAI,EACTrL,KAAK9C,EAAI8C,KAAKzC,EAAI,KAML,2BACb,IAEI9B,EACAyB,EAHA83E,EAAU,GACVC,EAAO,GAwBX,GApBAC,EAASr7C,SAAQ,SAASs7C,GACxB,MAAKj4E,EAAIi4E,EAAQ51E,OAAS,IAAM,GAAhC,CACA,IAAIrC,EAAqC4B,EAAlC+kC,EAAKsxC,EAAQ,GAAIrxC,EAAKqxC,EAAQj4E,GAKrC,GAAIk4E,GAAWvxC,EAAIC,GAAnB,CAEE,IADA7pB,EAAOsB,YACF9f,EAAI,EAAGA,EAAIyB,IAAKzB,EAAGwe,EAAOU,OAAOkpB,EAAKsxC,EAAQ15E,IAAI,GAAIooC,EAAG,IAC9D5pB,EAAOuB,eAITw5D,EAAQp0E,KAAK9B,EAAI,IAAI+1E,GAAahxC,EAAIsxC,EAAS,MAAM,IACrDF,EAAKr0E,KAAK9B,EAAE5C,EAAI,IAAI24E,GAAahxC,EAAI,KAAM/kC,GAAG,IAC9Ck2E,EAAQp0E,KAAK9B,EAAI,IAAI+1E,GAAa/wC,EAAIqxC,EAAS,MAAM,IACrDF,EAAKr0E,KAAK9B,EAAE5C,EAAI,IAAI24E,GAAa/wC,EAAI,KAAMhlC,GAAG,QAG3Ck2E,EAAQz1E,OAAb,CAMA,IAJA01E,EAAKv4C,KAAK24C,GACV,GAAKL,GACL,GAAKC,GAEAx5E,EAAI,EAAGyB,EAAI+3E,EAAK11E,OAAQ9D,EAAIyB,IAAKzB,EACpCw5E,EAAKx5E,GAAG+N,EAAI8rE,GAAeA,EAO7B,IAJA,IACIrpC,EACAtxB,EAFApY,EAAQyyE,EAAQ,KAIV,CAIR,IAFA,IAAIO,EAAUhzE,EACVizE,GAAY,EACTD,EAAQlqE,GAAG,IAAKkqE,EAAUA,EAAQr4E,KAAOqF,EAAO,OACvD0pC,EAASspC,EAAQjqE,EACjB2O,EAAOsB,YACP,EAAG,CAED,GADAg6D,EAAQlqE,EAAIkqE,EAAQr5E,EAAEmP,GAAI,EACtBkqE,EAAQ/rE,EAAG,CACb,GAAIgsE,EACF,IAAK/5E,EAAI,EAAGyB,EAAI+uC,EAAO1sC,OAAQ9D,EAAIyB,IAAKzB,EAAGwe,EAAOU,OAAOA,EAAQsxB,EAAOxwC,IAAI,GAAIkf,EAAM,SAEtFtW,EAAYkxE,EAAQz2E,EAAGy2E,EAAQr4E,EAAE4B,EAAG,EAAGmb,GAEzCs7D,EAAUA,EAAQr4E,MACb,CACL,GAAIs4E,EAEF,IADAvpC,EAASspC,EAAQh4E,EAAE+N,EACd7P,EAAIwwC,EAAO1sC,OAAS,EAAG9D,GAAK,IAAKA,EAAGwe,EAAOU,OAAOA,EAAQsxB,EAAOxwC,IAAI,GAAIkf,EAAM,SAEpFtW,EAAYkxE,EAAQz2E,EAAGy2E,EAAQh4E,EAAEuB,GAAI,EAAGmb,GAE1Cs7D,EAAUA,EAAQh4E,EAGpB0uC,GADAspC,EAAUA,EAAQr5E,GACDoP,EACjBkqE,GAAaA,SACLD,EAAQlqE,GAClB4O,EAAOuB,aAIX,SAAS,GAAK5B,GACZ,GAAM1c,EAAI0c,EAAMra,OAAhB,CAKA,IAJA,IAAIrC,EAGAyF,EAFAlH,EAAI,EACJmH,EAAIgX,EAAM,KAELne,EAAIyB,GACX0F,EAAE1F,EAAIyF,EAAIiX,EAAMne,GAChBkH,EAAEpF,EAAIqF,EACNA,EAAID,EAENC,EAAE1F,EAAIyF,EAAIiX,EAAM,GAChBjX,EAAEpF,EAAIqF,GC/FR,IAAI8hC,GAAM,OAAA/c,EAAA,KAEV,SAAS8tD,GAAU96D,GACjB,OAAI,YAAIA,EAAM,KAAO,IACZA,EAAM,GAEN,YAAKA,EAAM,MAAQ,YAAIA,EAAM,IAAM,KAAM,IAAM,KAG3C,qBACb,IAAIy1D,EAASqF,GAAU96D,GACnB01D,EAAM11D,EAAM,GACZ+1D,EAAS,YAAIL,GACbqB,EAAS,CAAC,YAAItB,IAAU,YAAIA,GAAS,GACrChrC,EAAQ,EACRswC,EAAU,EAEdhxC,GAAIjd,QAEW,IAAXipD,EAAcL,EAAM,IAAS,KACZ,IAAZK,IAAeL,GAAO,IAAS,KAExC,IAAK,IAAI50E,EAAI,EAAGyB,EAAIivC,EAAQ5sC,OAAQ9D,EAAIyB,IAAKzB,EAC3C,GAAMI,GAAKqwC,EAAOC,EAAQ1wC,IAAI8D,OAS9B,IARA,IAAI2sC,EACArwC,EACA85E,EAASzpC,EAAKrwC,EAAI,GAClBk2E,EAAU0D,GAAUE,GACpBC,EAAOD,EAAO,GAAK,EAAI,IACvBE,EAAU,YAAID,GACdE,EAAU,YAAIF,GAETjxE,EAAI,EAAGA,EAAI9I,IAAK8I,EAAGotE,EAAUC,EAAS6D,EAAUE,EAASD,EAAUE,EAASL,EAASM,EAAQ,CACpG,IAAIA,EAAS/pC,EAAKvnC,GACdqtE,EAAUyD,GAAUQ,GACpBC,EAAOD,EAAO,GAAK,EAAI,IACvBF,EAAU,YAAIG,GACdF,EAAU,YAAIE,GACdpU,EAAQkQ,EAAUD,EAClBlzE,EAAOijE,GAAS,EAAI,GAAK,EACzBqU,EAAWt3E,EAAOijE,EAClBgQ,EAAeqE,EAAW,IAC1B7yE,EAAIuyE,EAAUE,EAOlB,GALArxC,GAAIvjC,IAAI,YAAMmC,EAAIzE,EAAO,YAAIs3E,GAAWL,EAAUE,EAAU1yE,EAAI,YAAI6yE,KACpE/wC,GAAS0sC,EAAehQ,EAAQjjE,EAAO,IAAMijE,EAIzCgQ,EAAeC,GAAW3B,EAAS4B,GAAW5B,EAAQ,CACxD,IAAIttC,EAAMguC,EAAe,EAAU6E,GAAS,EAAUM,IACtDhF,EAA0BnuC,GAC1B,IAAIszC,EAAetF,EAAeY,EAAQ5uC,GAC1CmuC,EAA0BmF,GAC1B,IAAIC,GAAUvE,EAAehQ,GAAS,GAAK,EAAI,GAAK,YAAKsU,EAAa,KAClE/F,EAAMgG,GAAUhG,IAAQgG,IAAWvzC,EAAI,IAAMA,EAAI,OACnD4yC,GAAW5D,EAAehQ,GAAS,EAAI,GAAK,IAiBpD,OAAQ18B,GAAS,KAAWA,EAAQ,KAAWV,IAAO,KAAsB,EAAVgxC,G,QCvErD,qBACb,OAAO,SAASY,GACd,IAIInqC,EACA+oC,EACAhpC,EANA1W,EAAO+gD,EAASD,GAChBE,EAAa,KACbC,EAAWF,EAASC,GACpBE,GAAiB,EAKjBzB,EAAO,CACTt6D,MAAOA,EACPY,UAAWA,EACXC,QAASA,EACTC,aAAc,WACZw5D,EAAKt6D,MAAQg8D,EACb1B,EAAK15D,UAAYq7D,EACjB3B,EAAKz5D,QAAUq7D,EACf3B,EAAW,GACX/oC,EAAU,IAEZzwB,WAAY,WACVu5D,EAAKt6D,MAAQA,EACbs6D,EAAK15D,UAAYA,EACjB05D,EAAKz5D,QAAUA,EACf05D,EAAW,aAAMA,GACjB,IAAII,EAAcwB,GAAgB3qC,EAAS5pC,GACvC2yE,EAAS31E,QACNm3E,IAAgBJ,EAAK76D,eAAgBi7D,GAAiB,GAC3D,GAAWxB,EAAU,GAAqBI,EAAajxE,EAAaiyE,IAC3DhB,IACJoB,IAAgBJ,EAAK76D,eAAgBi7D,GAAiB,GAC3DJ,EAAK/6D,YACLlX,EAAY,KAAM,KAAM,EAAGiyE,GAC3BA,EAAK96D,WAEHk7D,IAAgBJ,EAAK56D,aAAcg7D,GAAiB,GACxDxB,EAAW/oC,EAAU,MAEvB3xB,OAAQ,WACN87D,EAAK76D,eACL66D,EAAK/6D,YACLlX,EAAY,KAAM,KAAM,EAAGiyE,GAC3BA,EAAK96D,UACL86D,EAAK56D,eAIT,SAASf,EAAMy1D,EAAQC,GACjB0G,EAAa3G,EAAQC,IAAMiG,EAAK37D,MAAMy1D,EAAQC,GAGpD,SAAS2G,EAAU5G,EAAQC,GACzB76C,EAAK7a,MAAMy1D,EAAQC,GAGrB,SAAS90D,IACP05D,EAAKt6D,MAAQq8D,EACbxhD,EAAKja,YAGP,SAASC,IACPy5D,EAAKt6D,MAAQA,EACb6a,EAAKha,UAGP,SAASm7D,EAAUvG,EAAQC,GACzBnkC,EAAKtrC,KAAK,CAACwvE,EAAQC,IACnBoG,EAAS97D,MAAMy1D,EAAQC,GAGzB,SAASuG,IACPH,EAASl7D,YACT2wB,EAAO,GAGT,SAAS2qC,IACPF,EAAUzqC,EAAK,GAAG,GAAIA,EAAK,GAAG,IAC9BuqC,EAASj7D,UAET,IAEI/f,EAA4BI,EAC5Bs5E,EACAx6D,EAJAs8D,EAAQR,EAASQ,QACjBC,EAAeV,EAAW74C,SACvBzgC,EAAIg6E,EAAa33E,OAQxB,GAJA2sC,EAAK/f,MACLggB,EAAQvrC,KAAKsrC,GACbA,EAAO,KAEFhvC,EAGL,GAAY,EAAR+5E,GAEF,IAAKp7E,GADLs5E,EAAU+B,EAAa,IACN33E,OAAS,GAAK,EAAG,CAGhC,IAFKm3E,IAAgBJ,EAAK76D,eAAgBi7D,GAAiB,GAC3DJ,EAAK/6D,YACA9f,EAAI,EAAGA,EAAII,IAAKJ,EAAG66E,EAAK37D,OAAOA,EAAQw6D,EAAQ15E,IAAI,GAAIkf,EAAM,IAClE27D,EAAK96D,gBAOLte,EAAI,GAAa,EAAR+5E,GAAWC,EAAat2E,KAAKs2E,EAAa/qD,MAAMgK,OAAO+gD,EAAax8C,UAEjFw6C,EAASt0E,KAAKs2E,EAAahrE,OAAOirE,KAGpC,OAAOlC,IAIX,SAASkC,GAAahC,GACpB,OAAOA,EAAQ51E,OAAS,EAK1B,SAAS,GAAoBqD,EAAGD,GAC9B,QAASC,EAAIA,EAAE9D,GAAG,GAAK,EAAI8D,EAAE,GAAK,IAAS,IAAU,IAASA,EAAE,MACvDD,EAAIA,EAAE7D,GAAG,GAAK,EAAI6D,EAAE,GAAK,IAAS,IAAU,IAASA,EAAE,IC9HnD,WACb,WAAa,OAAO,KAStB,SAA8BsX,GAC5B,IAGIg9D,EAHAlF,EAAU7tE,IACV0xE,EAAO1xE,IACPkzE,EAAQlzE,IAGZ,MAAO,CACLqX,UAAW,WACTtB,EAAOsB,YACP07D,EAAQ,GAEVt8D,MAAO,SAASq3D,EAASkE,GACvB,IAAImB,EAAQrF,EAAU,EAAI,KAAM,IAC5BlQ,EAAQ,YAAIkQ,EAAUD,GACtB,YAAIjQ,EAAQ,KAAM,KACpB7nD,EAAOU,MAAMo3D,EAAS6D,GAAQA,EAAOM,GAAQ,EAAI,EAAI,KAAU,KAC/Dj8D,EAAOU,MAAMy8D,EAAOxB,GACpB37D,EAAOuB,UACPvB,EAAOsB,YACPtB,EAAOU,MAAM08D,EAAOzB,GACpB37D,EAAOU,MAAMq3D,EAAS4D,GACtBqB,EAAQ,GACCG,IAAUC,GAASvV,GAAS,MACjC,YAAIiQ,EAAUqF,GAAS,MAASrF,GAAWqF,EAAQ,KACnD,YAAIpF,EAAUqF,GAAS,MAASrF,GAAWqF,EAAQ,KACvDzB,EAoBR,SAAmC7D,EAAS6D,EAAM5D,EAASkE,GACzD,IAAIJ,EACAE,EACAsB,EAAoB,YAAIvF,EAAUC,GACtC,OAAO,YAAIsF,GAAqB,IAC1B,aAAM,YAAI1B,IAASI,EAAU,YAAIE,IAAS,YAAIlE,GAC1C,YAAIkE,IAASJ,EAAU,YAAIF,IAAS,YAAI7D,KACvC+D,EAAUE,EAAUsB,KACxB1B,EAAOM,GAAQ,EA5BTqB,CAA0BxF,EAAS6D,EAAM5D,EAASkE,GACzDj8D,EAAOU,MAAMy8D,EAAOxB,GACpB37D,EAAOuB,UACPvB,EAAOsB,YACPtB,EAAOU,MAAM08D,EAAOzB,GACpBqB,EAAQ,GAEVh9D,EAAOU,MAAMo3D,EAAUC,EAAS4D,EAAOM,GACvCkB,EAAQC,GAEV77D,QAAS,WACPvB,EAAOuB,UACPu2D,EAAU6D,EAAO1xE,KAEnB+yE,MAAO,WACL,OAAO,EAAIA,OAgBjB,SAAqCj4B,EAAMw4B,EAAIhD,EAAWv6D,GACxD,IAAIo2D,EACJ,GAAY,MAARrxB,EACFqxB,EAAMmE,EAAY,IAClBv6D,EAAOU,OAAO,IAAI01D,GAClBp2D,EAAOU,MAAM,EAAG01D,GAChBp2D,EAAOU,MAAM,IAAI01D,GACjBp2D,EAAOU,MAAM,IAAI,GACjBV,EAAOU,MAAM,KAAK01D,GAClBp2D,EAAOU,MAAM,GAAI01D,GACjBp2D,EAAOU,OAAO,KAAK01D,GACnBp2D,EAAOU,OAAO,IAAI,GAClBV,EAAOU,OAAO,IAAI01D,QACb,GAAI,YAAIrxB,EAAK,GAAKw4B,EAAG,IAAM,IAAS,CACzC,IAAIpH,EAASpxB,EAAK,GAAKw4B,EAAG,GAAK,KAAM,IACrCnH,EAAMmE,EAAYpE,EAAS,EAC3Bn2D,EAAOU,OAAOy1D,EAAQC,GACtBp2D,EAAOU,MAAM,EAAG01D,GAChBp2D,EAAOU,MAAMy1D,EAAQC,QAErBp2D,EAAOU,MAAM68D,EAAG,GAAIA,EAAG,MAlFzB,EAAE,KAAK,MCDM,mBACb,IAAIC,EAAK,YAAIpyC,GACTy8B,EAAQ,EAAI,IACZ4V,EAAcD,EAAK,EACnBE,EAAgB,YAAIF,GAAM,IAM9B,SAASG,EAAQxH,EAAQC,GACvB,OAAO,YAAID,GAAU,YAAIC,GAAOoH,EAuFlC,SAASp5C,EAAUz7B,EAAGD,EAAGk1E,GACvB,IAKIC,EAAK,CAAC,EAAG,EAAG,GACZC,EAAKjH,EANA,EAAUluE,GACV,EAAUD,IAMfq1E,EAAOnH,EAAakH,EAAIA,GACxBE,EAAOF,EAAG,GACVG,EAAcF,EAAOC,EAAOA,EAGhC,IAAKC,EAAa,OAAQL,GAAOj1E,EAEjC,IAAIk+C,EAAM22B,EAAKO,EAAOE,EAClBC,GAAMV,EAAKQ,EAAOC,EAClBE,EAAQtH,EAAegH,EAAIC,GAC3B1hD,EAAI26C,EAAe8G,EAAIh3B,GAE3BiwB,EAAoB16C,EADZ26C,EAAe+G,EAAII,IAI3B,IAAI5yE,EAAI6yE,EACJnoE,EAAI4gE,EAAax6C,EAAG9wB,GACpB8yE,EAAKxH,EAAatrE,EAAGA,GACrBkkB,EAAKxZ,EAAIA,EAAIooE,GAAMxH,EAAax6C,EAAGA,GAAK,GAE5C,KAAI5M,EAAK,GAAT,CAEA,IAAI9sB,EAAI,YAAK8sB,GACT3Y,EAAIkgE,EAAezrE,IAAK0K,EAAItT,GAAK07E,GAIrC,GAHAtH,EAAoBjgE,EAAGulB,GACvBvlB,EAAI,EAAUA,IAET+mE,EAAK,OAAO/mE,EAGjB,IAIIxF,EAJAymE,EAAUnvE,EAAE,GACZovE,EAAUrvE,EAAE,GACZizE,EAAOhzE,EAAE,GACTszE,EAAOvzE,EAAE,GAGTqvE,EAAUD,IAASzmE,EAAIymE,EAASA,EAAUC,EAASA,EAAU1mE,GAEjE,IAAIw2D,EAAQkQ,EAAUD,EAClBuG,EAAQ,YAAIxW,EAAQ,KAAM,IAM9B,IAHKwW,GAASpC,EAAON,IAAMtqE,EAAIsqE,EAAMA,EAAOM,EAAMA,EAAO5qE,GAF1CgtE,GAASxW,EAAQ,IAM1BwW,EACE1C,EAAOM,EAAO,EAAIplE,EAAE,IAAM,YAAIA,EAAE,GAAKihE,GAAW,IAAU6D,EAAOM,GACjEN,GAAQ9kE,EAAE,IAAMA,EAAE,IAAMolE,EAC1BpU,EAAQ,KAAMiQ,GAAWjhE,EAAE,IAAMA,EAAE,IAAMkhE,GAAU,CACvD,IAAIuG,EAAKvH,EAAezrE,IAAK0K,EAAItT,GAAK07E,GAEtC,OADAtH,EAAoBwH,EAAIliD,GACjB,CAACvlB,EAAG,EAAUynE,MAMzB,SAASxjB,EAAKqb,EAAQC,GACpB,IAAI9zE,EAAIm7E,EAAcryC,EAAS,IAAKA,EAChC0vB,EAAO,EAKX,OAJIqb,GAAU7zE,EAAGw4D,GAAQ,EAChBqb,EAAS7zE,IAAGw4D,GAAQ,GACzBsb,GAAO9zE,EAAGw4D,GAAQ,EACbsb,EAAM9zE,IAAGw4D,GAAQ,GACnBA,EAGT,OAAO,GAAK6iB,GA5JZ,SAAkB39D,GAChB,IAAI07D,EACA90B,EACA23B,EACAC,EACAxB,EACJ,MAAO,CACL17D,UAAW,WACTk9D,EAAMD,GAAK,EACXvB,EAAQ,GAEVt8D,MAAO,SAASy1D,EAAQC,GACtB,IACIqI,EADAzC,EAAS,CAAC7F,EAAQC,GAElBhlE,EAAIusE,EAAQxH,EAAQC,GACpBv0E,EAAI47E,EACArsE,EAAI,EAAI0pD,EAAKqb,EAAQC,GACrBhlE,EAAI0pD,EAAKqb,GAAUA,EAAS,EAAI,KAAM,KAAKC,GAAO,EAY1D,IAXKsF,IAAW8C,EAAMD,EAAKntE,IAAI4O,EAAOsB,YAGlClQ,IAAMmtE,MACRE,EAASr6C,EAAUs3C,EAAQM,KACZb,GAAWO,EAAQ+C,IAAWtD,GAAWa,EAAQyC,MAC9DzC,EAAO,IAAM,IACbA,EAAO,IAAM,IACb5qE,EAAIusE,EAAQ3B,EAAO,GAAIA,EAAO,KAG9B5qE,IAAMmtE,EACRvB,EAAQ,EACJ5rE,GAEF4O,EAAOsB,YACPm9D,EAASr6C,EAAU43C,EAAQN,GAC3B17D,EAAOU,MAAM+9D,EAAO,GAAIA,EAAO,MAG/BA,EAASr6C,EAAUs3C,EAAQM,GAC3Bh8D,EAAOU,MAAM+9D,EAAO,GAAIA,EAAO,IAC/Bz+D,EAAOuB,WAETm6D,EAAS+C,OACJ,GAAIf,GAAiBhC,GAAU+B,EAAcrsE,EAAG,CACrD,IAAI1O,EAGEb,EAAI+kD,KAAQlkD,EAAI0hC,EAAU43C,EAAQN,GAAQ,MAC9CsB,EAAQ,EACJS,GACFz9D,EAAOsB,YACPtB,EAAOU,MAAMhe,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3Bsd,EAAOU,MAAMhe,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3Bsd,EAAOuB,YAEPvB,EAAOU,MAAMhe,EAAE,GAAG,GAAIA,EAAE,GAAG,IAC3Bsd,EAAOuB,UACPvB,EAAOsB,YACPtB,EAAOU,MAAMhe,EAAE,GAAG,GAAIA,EAAE,GAAG,OAI7B0O,GAAOsqE,GAAWP,GAAWO,EAAQM,IACvCh8D,EAAOU,MAAMs7D,EAAO,GAAIA,EAAO,IAEjCN,EAASM,EAAQuC,EAAKntE,EAAGw1C,EAAK/kD,GAEhC0f,QAAS,WACHg9D,GAAIv+D,EAAOuB,UACfm6D,EAAS,MAIXsB,MAAO,WACL,OAAOA,GAAUwB,GAAOD,IAAO,OAtFrC,SAAqBx5B,EAAMw4B,EAAIhD,EAAWv6D,GACxCs6D,GAAat6D,EAAQorB,EAAQy8B,EAAO0S,EAAWx1B,EAAMw4B,KAuKXE,EAAc,CAAC,GAAIryC,GAAU,EAAE,IAAIA,EAAS,OCzK3E,SAASszC,GAAczuE,EAAIw2B,EAAIv2B,EAAIw2B,GAEhD,SAASi3C,EAAQ94E,EAAGwG,GAClB,OAAO4E,GAAMpL,GAAKA,GAAKqL,GAAMu2B,GAAMp7B,GAAKA,GAAKq7B,EAG/C,SAASt8B,EAAY26C,EAAMw4B,EAAIhD,EAAWv6D,GACxC,IAAIrX,EAAI,EAAGqgC,EAAK,EAChB,GAAY,MAAR+b,IACIp8C,EAAIg2E,EAAO55B,EAAMw1B,OAAiBvxC,EAAK21C,EAAOpB,EAAIhD,KACnDqE,EAAa75B,EAAMw4B,GAAM,EAAIhD,EAAY,EAC9C,GAAGv6D,EAAOU,MAAY,IAAN/X,GAAiB,IAANA,EAAUsH,EAAKC,EAAIvH,EAAI,EAAI+9B,EAAKD,UACnD99B,GAAKA,EAAI4xE,EAAY,GAAK,KAAOvxC,QAEzChpB,EAAOU,MAAM68D,EAAG,GAAIA,EAAG,IAI3B,SAASoB,EAAOr7E,EAAGi3E,GACjB,OAAO,YAAIj3E,EAAE,GAAK2M,GAAM,IAAUsqE,EAAY,EAAI,EAAI,EAChD,YAAIj3E,EAAE,GAAK4M,GAAM,IAAUqqE,EAAY,EAAI,EAAI,EAC/C,YAAIj3E,EAAE,GAAKmjC,GAAM,IAAU8zC,EAAY,EAAI,EAAI,EAC/CA,EAAY,EAAI,EAAI,EAG5B,SAASa,EAAoBzyE,EAAGD,GAC9B,OAAOk2E,EAAaj2E,EAAE9D,EAAG6D,EAAE7D,GAG7B,SAAS+5E,EAAaj2E,EAAGD,GACvB,IAAIm2E,EAAKF,EAAOh2E,EAAG,GACfm2E,EAAKH,EAAOj2E,EAAG,GACnB,OAAOm2E,IAAOC,EAAKD,EAAKC,EACX,IAAPD,EAAWn2E,EAAE,GAAKC,EAAE,GACb,IAAPk2E,EAAWl2E,EAAE,GAAKD,EAAE,GACb,IAAPm2E,EAAWl2E,EAAE,GAAKD,EAAE,GACpBA,EAAE,GAAKC,EAAE,GAGjB,OAAO,SAASqX,GACd,IAEIi7D,EACA/oC,EACAD,EACA8sC,EAAKC,EAAKC,EACVC,EAAIC,EAAIC,EACRC,EACArC,EARAsC,EAAet/D,EACfu/D,EAAe,KASfC,EAAa,CACf9+D,MAAOA,EACPY,UAgDF,WACEk+D,EAAW9+D,MAAQ++D,EACfvtC,GAASA,EAAQvrC,KAAKsrC,EAAO,IACjCotC,GAAQ,EACRD,GAAK,EACLF,EAAKC,EAAKl1E,KApDVsX,QA0DF,WACM05D,IACFwE,EAAUV,EAAKC,GACXC,GAAOG,GAAIG,EAAa5E,SAC5BM,EAASt0E,KAAK44E,EAAa77C,WAE7B87C,EAAW9+D,MAAQA,EACf0+D,GAAIE,EAAa/9D,WAhErBC,aAuBF,WACE89D,EAAeC,EAActE,EAAW,GAAI/oC,EAAU,GAAI8qC,GAAQ,GAvBlEv7D,WA0BF,WACE,IAAI45D,EApBN,WAGE,IAFA,IAAII,EAAU,EAELj6E,EAAI,EAAGyB,EAAIivC,EAAQ5sC,OAAQ9D,EAAIyB,IAAKzB,EAC3C,IAAK,IAAgEunC,EAAIC,EAAhEiJ,EAAOC,EAAQ1wC,GAAIkJ,EAAI,EAAG9I,EAAIqwC,EAAK3sC,OAAQob,EAAQuxB,EAAK,GAAYytC,EAAKh/D,EAAM,GAAIi/D,EAAKj/D,EAAM,GAAIhW,EAAI9I,IAAK8I,EAClHq+B,EAAK22C,EAAI12C,EAAK22C,EAAIj/D,EAAQuxB,EAAKvnC,GAAIg1E,EAAKh/D,EAAM,GAAIi/D,EAAKj/D,EAAM,GACzDsoB,GAAMtC,EAAUi5C,EAAKj5C,IAAOg5C,EAAK32C,IAAOrC,EAAKsC,IAAO22C,EAAK32C,IAAO/4B,EAAK84B,MAAO0yC,EACrEkE,GAAMj5C,IAAOg5C,EAAK32C,IAAOrC,EAAKsC,IAAO22C,EAAK32C,IAAO/4B,EAAK84B,MAAO0yC,EAI5E,OAAOA,EASWmE,GACdC,EAAc7C,GAAS3B,EACvBsC,GAAW1C,EAAW,aAAMA,IAAW31E,QACvCu6E,GAAelC,KACjB39D,EAAOwB,eACHq+D,IACF7/D,EAAOsB,YACPlX,EAAY,KAAM,KAAM,EAAG4V,GAC3BA,EAAOuB,WAELo8D,GACF,GAAW1C,EAAUG,EAAqBC,EAAajxE,EAAa4V,GAEtEA,EAAOyB,cAET69D,EAAet/D,EAAQi7D,EAAW/oC,EAAUD,EAAO,OAvCrD,SAASvxB,EAAM7b,EAAGwG,GACZsyE,EAAQ94E,EAAGwG,IAAIi0E,EAAa5+D,MAAM7b,EAAGwG,GA8D3C,SAASo0E,EAAU56E,EAAGwG,GACpB,IAAI+F,EAAIusE,EAAQ94E,EAAGwG,GAEnB,GADI6mC,GAASD,EAAKtrC,KAAK,CAAC9B,EAAGwG,IACvBg0E,EACFN,EAAMl6E,EAAGm6E,EAAM3zE,EAAG4zE,EAAM7tE,EACxBiuE,GAAQ,EACJjuE,IACFkuE,EAAah+D,YACbg+D,EAAa5+D,MAAM7b,EAAGwG,SAGxB,GAAI+F,GAAKguE,EAAIE,EAAa5+D,MAAM7b,EAAGwG,OAC9B,CACH,IAAI1C,EAAI,CAACu2E,EAAKt7E,KAAKuB,KA3IA,IA2IavB,KAAKwB,IA3IjC,IA2I8C85E,IAAMC,EAAKv7E,KAAKuB,KA3I/C,IA2I4DvB,KAAKwB,IA3IhF,IA2I6F+5E,KAC7Fz2E,EAAI,CAAC7D,EAAIjB,KAAKuB,KA5IC,IA4IYvB,KAAKwB,IA5IhC,IA4I6CP,IAAKwG,EAAIzH,KAAKuB,KA5I5C,IA4IyDvB,KAAKwB,IA5I7E,IA4I0FiG,MClJzF,sBACb,IAQI/I,EARAynC,EAAKphC,EAAE,GACPqhC,EAAKrhC,EAAE,GAGPiV,EAAK,EACLC,EAAK,EACLiqB,EAJKp/B,EAAE,GAIGqhC,EACVhC,EAJKr/B,EAAE,GAIGshC,EAId,GADA1nC,EAAI2N,EAAK85B,EACJjC,KAAMxlC,EAAI,GAAf,CAEA,GADAA,GAAKwlC,EACDA,EAAK,EAAG,CACV,GAAIxlC,EAAIsb,EAAI,OACRtb,EAAIub,IAAIA,EAAKvb,QACZ,GAAIwlC,EAAK,EAAG,CACjB,GAAIxlC,EAAIub,EAAI,OACRvb,EAAIsb,IAAIA,EAAKtb,GAInB,GADAA,EAAI4N,EAAK65B,EACJjC,KAAMxlC,EAAI,GAAf,CAEA,GADAA,GAAKwlC,EACDA,EAAK,EAAG,CACV,GAAIxlC,EAAIub,EAAI,OACRvb,EAAIsb,IAAIA,EAAKtb,QACZ,GAAIwlC,EAAK,EAAG,CACjB,GAAIxlC,EAAIsb,EAAI,OACRtb,EAAIub,IAAIA,EAAKvb,GAInB,GADAA,EAAImkC,EAAKuD,EACJjC,KAAMzlC,EAAI,GAAf,CAEA,GADAA,GAAKylC,EACDA,EAAK,EAAG,CACV,GAAIzlC,EAAIsb,EAAI,OACRtb,EAAIub,IAAIA,EAAKvb,QACZ,GAAIylC,EAAK,EAAG,CACjB,GAAIzlC,EAAIub,EAAI,OACRvb,EAAIsb,IAAIA,EAAKtb,GAInB,GADAA,EAAIokC,EAAKsD,EACJjC,KAAMzlC,EAAI,GAAf,CAEA,GADAA,GAAKylC,EACDA,EAAK,EAAG,CACV,GAAIzlC,EAAIub,EAAI,OACRvb,EAAIsb,IAAIA,EAAKtb,QACZ,GAAIylC,EAAK,EAAG,CACjB,GAAIzlC,EAAIsb,EAAI,OACRtb,EAAIub,IAAIA,EAAKvb,GAKnB,OAFIsb,EAAK,IAAGjV,EAAE,GAAKohC,EAAKnsB,EAAKkqB,EAAIn/B,EAAE,GAAKqhC,EAAKpsB,EAAKmqB,GAC9ClqB,EAAK,IAAGnV,EAAE,GAAKqhC,EAAKlsB,EAAKiqB,EAAIp/B,EAAE,GAAKshC,EAAKnsB,EAAKkqB,IAC3C,MD0FK,CAASp/B,EAAGD,EAAGuH,EAAIw2B,EAAIv2B,EAAIw2B,GAQpBt1B,IACTkuE,EAAah+D,YACbg+D,EAAa5+D,MAAM7b,EAAGwG,GACtB2xE,GAAQ,IAVHoC,IACHE,EAAah+D,YACbg+D,EAAa5+D,MAAM/X,EAAE,GAAIA,EAAE,KAE7B22E,EAAa5+D,MAAMhY,EAAE,GAAIA,EAAE,IACtB0I,GAAGkuE,EAAa/9D,UACrBy7D,GAAQ,GAQdkC,EAAKr6E,EAAGs6E,EAAK9zE,EAAG+zE,EAAKhuE,EAGvB,OAAOouE,GEnKI,ICIX,GACA,GACA,GDNW,cACb,IAIIxmC,EACA8mC,EACA9E,EANA/qE,EAAK,EACLw2B,EAAK,EACLv2B,EAAK,IACLw2B,EAAK,IAKT,OAAOs0C,EAAO,CACZh7D,OAAQ,SAASA,GACf,OAAOg5B,GAAS8mC,IAAgB9/D,EAASg5B,EAAQA,EAAQ0lC,GAAczuE,EAAIw2B,EAAIv2B,EAAIw2B,EAA1Bg4C,CAA8BoB,EAAc9/D,IAEvGyiC,OAAQ,SAASj7C,GACf,OAAO1B,UAAUR,QAAU2K,GAAMzI,EAAE,GAAG,GAAIi/B,GAAMj/B,EAAE,GAAG,GAAI0I,GAAM1I,EAAE,GAAG,GAAIk/B,GAAMl/B,EAAE,GAAG,GAAIwxC,EAAQ8mC,EAAc,KAAM9E,GAAQ,CAAC,CAAC/qE,EAAIw2B,GAAK,CAACv2B,EAAIw2B,OCX7Iq5C,GAAY,OAAAryD,EAAA,KAKZsyD,GAAe,CACjBz/D,OAAQV,EAAA,EACRa,MAAOb,EAAA,EACPyB,UAMF,WACE0+D,GAAat/D,MAAQu/D,GACrBD,GAAaz+D,QAAU2+D,IAPvB3+D,QAAS1B,EAAA,EACT2B,aAAc3B,EAAA,EACd4B,WAAY5B,EAAA,GAQd,SAASqgE,KACPF,GAAat/D,MAAQs/D,GAAaz+D,QAAU1B,EAAA,EAG9C,SAASogE,GAAiB9J,EAAQC,GAChCD,GAAU,IAASC,GAAO,IAC1B,GAAUD,EAAQ,GAAU,YAAIC,GAAM,GAAU,YAAIA,GACpD4J,GAAat/D,MAAQy/D,GAGvB,SAASA,GAAYhK,EAAQC,GAC3BD,GAAU,IAASC,GAAO,IAC1B,IAAIK,EAAS,YAAIL,GACbI,EAAS,YAAIJ,GACbvO,EAAQ,YAAIsO,EAAS,IACrBiK,EAAW,YAAIvY,GAEfhjE,EAAI2xE,EADO,YAAI3O,GAEfx8D,EAAI,GAAUorE,EAAS,GAAUD,EAAS4J,EAC1C/uE,EAAI,GAAUolE,EAAS,GAAUD,EAAS4J,EAC9CL,GAAU74E,IAAI,YAAM,YAAKrC,EAAIA,EAAIwG,EAAIA,GAAIgG,IACzC,GAAU8kE,EAAQ,GAAUM,EAAQ,GAAUD,EAGjC,mBAGb,OAFAuJ,GAAUvyD,QACV,YAAOtqB,EAAQ88E,KACPD,ICjDN,GAAc,CAAC,KAAM,MACrB,GAAS,CAAC1zE,KAAM,aAAcoU,YAAa,IAEhC,iBAGb,OAFA,GAAY,GAAK9X,EACjB,GAAY,GAAKD,EACV,GAAO,KCJZ23E,GAAqB,CACvBlgE,QAAS,SAASjd,EAAQwd,GACxB,OAAO4/D,GAAiBp9E,EAAO6c,SAAUW,IAE3CN,kBAAmB,SAASld,EAAQwd,GAElC,IADA,IAAIL,EAAWnd,EAAOmd,SAAU7e,GAAK,EAAGyB,EAAIod,EAAS/a,SAC5C9D,EAAIyB,GAAG,GAAIq9E,GAAiBjgE,EAAS7e,GAAGue,SAAUW,GAAQ,OAAO,EAC1E,OAAO,IAIP6/D,GAAuB,CACzBjgE,OAAQ,WACN,OAAO,GAETE,MAAO,SAAStd,EAAQwd,GACtB,OAAO8/D,GAAct9E,EAAOud,YAAaC,IAE3CC,WAAY,SAASzd,EAAQwd,GAE3B,IADA,IAAID,EAAcvd,EAAOud,YAAajf,GAAK,EAAGyB,EAAIwd,EAAYnb,SACrD9D,EAAIyB,GAAG,GAAIu9E,GAAc//D,EAAYjf,GAAIkf,GAAQ,OAAO,EACjE,OAAO,GAETE,WAAY,SAAS1d,EAAQwd,GAC3B,OAAO+/D,GAAav9E,EAAOud,YAAaC,IAE1CI,gBAAiB,SAAS5d,EAAQwd,GAEhC,IADA,IAAID,EAAcvd,EAAOud,YAAajf,GAAK,EAAGyB,EAAIwd,EAAYnb,SACrD9D,EAAIyB,GAAG,GAAIw9E,GAAahgE,EAAYjf,GAAIkf,GAAQ,OAAO,EAChE,OAAO,GAETK,QAAS,SAAS7d,EAAQwd,GACxB,OAAOggE,GAAgBx9E,EAAOud,YAAaC,IAE7CO,aAAc,SAAS/d,EAAQwd,GAE7B,IADA,IAAID,EAAcvd,EAAOud,YAAajf,GAAK,EAAGyB,EAAIwd,EAAYnb,SACrD9D,EAAIyB,GAAG,GAAIy9E,GAAgBjgE,EAAYjf,GAAIkf,GAAQ,OAAO,EACnE,OAAO,GAETQ,mBAAoB,SAAShe,EAAQwd,GAEnC,IADA,IAAIS,EAAaje,EAAOie,WAAY3f,GAAK,EAAGyB,EAAIke,EAAW7b,SAClD9D,EAAIyB,GAAG,GAAIq9E,GAAiBn/D,EAAW3f,GAAIkf,GAAQ,OAAO,EACnE,OAAO,IAIX,SAAS4/D,GAAiBvgE,EAAUW,GAClC,SAAOX,IAAYwgE,GAAqBl9E,eAAe0c,EAAS1T,QAC1Dk0E,GAAqBxgE,EAAS1T,MAAM0T,EAAUW,GAItD,SAAS8/D,GAAc//D,EAAaC,GAClC,OAAwC,IAAjCigE,GAASlgE,EAAaC,GAG/B,SAAS+/D,GAAahgE,EAAaC,GAEjC,IADA,IAAIkgE,EAAIC,EAAIC,EACHt/E,EAAI,EAAGyB,EAAIwd,EAAYnb,OAAQ9D,EAAIyB,EAAGzB,IAAK,CAElD,GAAW,KADXq/E,EAAKF,GAASlgE,EAAYjf,GAAIkf,IAChB,OAAO,EACrB,GAAIlf,EAAI,IACNs/E,EAAKH,GAASlgE,EAAYjf,GAAIif,EAAYjf,EAAI,KAEvC,GACLo/E,GAAME,GACND,GAAMC,IACLF,EAAKC,EAAKC,IAAO,EAAIl9E,KAAKc,KAAKk8E,EAAKC,GAAMC,EAAI,IAAM,IAAWA,EAEhE,OAAO,EAEXF,EAAKC,EAEP,OAAO,EAGT,SAASH,GAAgBjgE,EAAaC,GACpC,QAASm8D,GAAgBp8D,EAAYxa,IAAI86E,IAAcC,GAAatgE,IAGtE,SAASqgE,GAAY9uC,GACnB,OAAOA,EAAOA,EAAKhsC,IAAI+6E,KAAoB9uD,MAAO+f,EAGpD,SAAS+uC,GAAatgE,GACpB,MAAO,CAACA,EAAM,GAAK,IAASA,EAAM,GAAK,KAG1B,qBACb,OAAQxd,GAAUm9E,GAAmBh9E,eAAeH,EAAOmJ,MACrDg0E,GAAmBn9E,EAAOmJ,MAC1Bi0E,IAAkBp9E,EAAQwd,IC5FlC,SAASugE,GAAWx6C,EAAIC,EAAIqB,GAC1B,IAAI18B,EAAI,aAAMo7B,EAAIC,EAAK,IAASqB,GAAI7L,OAAOwK,GAC3C,OAAO,SAAS7hC,GAAK,OAAOwG,EAAEpF,KAAI,SAASoF,GAAK,MAAO,CAACxG,EAAGwG,OAG7D,SAAS61E,GAAWjxE,EAAIC,EAAI43B,GAC1B,IAAIjjC,EAAI,aAAMoL,EAAIC,EAAK,IAAS43B,GAAI5L,OAAOhsB,GAC3C,OAAO,SAAS7E,GAAK,OAAOxG,EAAEoB,KAAI,SAASpB,GAAK,MAAO,CAACA,EAAGwG,OAG9C,SAAS,KACtB,IAAI6E,EAAID,EAAIkxE,EAAIC,EACZ16C,EAAID,EAAI46C,EAAIC,EAEZz8E,EAAGwG,EAAGiR,EAAG2vC,EADTnkB,EAAK,GAAIC,EAAKD,EAAIy5C,EAAK,GAAIC,EAAK,IAEhCr1E,EAAY,IAEhB,SAASs1E,IACP,MAAO,CAACp1E,KAAM,kBAAmBoU,YAAaysD,KAGhD,SAASA,IACP,OAAO,aAAM,YAAKkU,EAAKG,GAAMA,EAAIJ,EAAII,GAAIt7E,IAAIqW,GACxC4f,OAAO,aAAM,YAAKolD,EAAKE,GAAMA,EAAIH,EAAIG,GAAIv7E,IAAIgmD,IAC7C/vB,OAAO,aAAM,YAAKjsB,EAAK63B,GAAMA,EAAI53B,EAAI43B,GAAI71B,QAAO,SAASpN,GAAK,OAAO,YAAIA,EAAI08E,GAAM,OAAYt7E,IAAIpB,IACnGq3B,OAAO,aAAM,YAAKuK,EAAKsB,GAAMA,EAAIrB,EAAIqB,GAAI91B,QAAO,SAAS5G,GAAK,OAAO,YAAIA,EAAIm2E,GAAM,OAAYv7E,IAAIoF,IAqE1G,OAlEAo2E,EAAUvU,MAAQ,WAChB,OAAOA,IAAQjnE,KAAI,SAASwa,GAAe,MAAO,CAACpU,KAAM,aAAcoU,YAAaA,OAGtFghE,EAAUC,QAAU,WAClB,MAAO,CACLr1E,KAAM,UACNoU,YAAa,CACXnE,EAAE8kE,GAAIllD,OACN+vB,EAAEo1B,GAAI57E,MAAM,GACZ6W,EAAE6kE,GAAI94E,UAAU5C,MAAM,GACtBwmD,EAAEq1B,GAAIj5E,UAAU5C,MAAM,OAK5Bg8E,EAAUh/B,OAAS,SAASj7C,GAC1B,OAAK1B,UAAUR,OACRm8E,EAAUE,YAAYn6E,GAAGo6E,YAAYp6E,GADdi6E,EAAUG,eAI1CH,EAAUE,YAAc,SAASn6E,GAC/B,OAAK1B,UAAUR,QACf87E,GAAM55E,EAAE,GAAG,GAAI25E,GAAM35E,EAAE,GAAG,GAC1B85E,GAAM95E,EAAE,GAAG,GAAI65E,GAAM75E,EAAE,GAAG,GACtB45E,EAAKD,IAAI35E,EAAI45E,EAAIA,EAAKD,EAAIA,EAAK35E,GAC/B85E,EAAKD,IAAI75E,EAAI85E,EAAIA,EAAKD,EAAIA,EAAK75E,GAC5Bi6E,EAAUt1E,UAAUA,IALG,CAAC,CAACi1E,EAAIE,GAAK,CAACH,EAAIE,KAQhDI,EAAUG,YAAc,SAASp6E,GAC/B,OAAK1B,UAAUR,QACf2K,GAAMzI,EAAE,GAAG,GAAI0I,GAAM1I,EAAE,GAAG,GAC1Bi/B,GAAMj/B,EAAE,GAAG,GAAIk/B,GAAMl/B,EAAE,GAAG,GACtByI,EAAKC,IAAI1I,EAAIyI,EAAIA,EAAKC,EAAIA,EAAK1I,GAC/Bi/B,EAAKC,IAAIl/B,EAAIi/B,EAAIA,EAAKC,EAAIA,EAAKl/B,GAC5Bi6E,EAAUt1E,UAAUA,IALG,CAAC,CAAC8D,EAAIw2B,GAAK,CAACv2B,EAAIw2B,KAQhD+6C,EAAU75E,KAAO,SAASJ,GACxB,OAAK1B,UAAUR,OACRm8E,EAAUI,UAAUr6E,GAAGs6E,UAAUt6E,GADVi6E,EAAUK,aAI1CL,EAAUI,UAAY,SAASr6E,GAC7B,OAAK1B,UAAUR,QACfi8E,GAAM/5E,EAAE,GAAIg6E,GAAMh6E,EAAE,GACbi6E,GAFuB,CAACF,EAAIC,IAKrCC,EAAUK,UAAY,SAASt6E,GAC7B,OAAK1B,UAAUR,QACfwiC,GAAMtgC,EAAE,GAAIugC,GAAMvgC,EAAE,GACbi6E,GAFuB,CAAC35C,EAAIC,IAKrC05C,EAAUt1E,UAAY,SAAS3E,GAC7B,OAAK1B,UAAUR,QACf6G,GAAa3E,EACb3C,EAAIo8E,GAAWx6C,EAAIC,EAAI,IACvBr7B,EAAI61E,GAAWjxE,EAAIC,EAAI/D,GACvBmQ,EAAI2kE,GAAWK,EAAID,EAAI,IACvBp1B,EAAIi1B,GAAWE,EAAID,EAAIh1E,GAChBs1E,GANuBt1E,GASzBs1E,EACFE,YAAY,CAAC,EAAE,KAAM,GAAK,KAAU,CAAC,IAAK,GAAK,OAC/CC,YAAY,CAAC,EAAE,KAAM,GAAK,KAAU,CAAC,IAAK,GAAK,OAG/C,SAASG,KACd,OAAO,OCrGM,qBACb,IAAI9xE,EAAKtH,EAAE,GAAK,IACZ89B,EAAK99B,EAAE,GAAK,IACZuH,EAAKxH,EAAE,GAAK,IACZg+B,EAAKh+B,EAAE,GAAK,IACZw/B,EAAM,YAAIzB,GACVu7C,EAAM,YAAIv7C,GACV2B,EAAM,YAAI1B,GACVu7C,EAAM,YAAIv7C,GACVw7C,EAAMh6C,EAAM,YAAIj4B,GAChBkyE,EAAMj6C,EAAM,YAAIj4B,GAChBmyE,EAAMh6C,EAAM,YAAIl4B,GAChBmyE,EAAMj6C,EAAM,YAAIl4B,GAChBpO,EAAI,EAAI,YAAK,YAAK,YAAS4kC,EAAKD,GAAMyB,EAAME,EAAM,YAASl4B,EAAKD,KAChE5G,EAAI,YAAIvH,GAERsI,EAActI,EAAI,SAASY,GAC7B,IAAI25B,EAAI,YAAI35B,GAAKZ,GAAKuH,EAClB+yB,EAAI,YAAIt6B,EAAIY,GAAK2G,EACjBxE,EAAIu3B,EAAI8lD,EAAM7lD,EAAI+lD,EAClB/2E,EAAI+wB,EAAI+lD,EAAM9lD,EAAIgmD,EAClBhxE,EAAI+qB,EAAI4lD,EAAM3lD,EAAI4lD,EACtB,MAAO,CACL,YAAM52E,EAAGxG,GAAK,IACd,YAAMwM,EAAG,YAAKxM,EAAIA,EAAIwG,EAAIA,IAAM,MAEhC,WACF,MAAO,CAAC4E,EAAK,IAASw2B,EAAK,MAK7B,OAFAr8B,EAAYu2E,SAAW7+E,EAEhBsI,G,kBClCM,eACb,MAAO,CACL4V,OAAQlV,GAAYw3E,KAIjB,SAASx3E,GAAYw3E,GAC1B,OAAO,SAAStiE,GACd,IAAIzc,EAAI,IAAIg/E,GACZ,IAAK,IAAIx/E,KAAOu/E,EAAS/+E,EAAER,GAAOu/E,EAAQv/E,GAE1C,OADAQ,EAAEyc,OAASA,EACJzc,GAIX,SAASg/E,MAETA,GAAgBn/E,UAAY,CAC1BkD,YAAai8E,GACb7hE,MAAO,SAAS7b,EAAGwG,GAAKtF,KAAKia,OAAOU,MAAM7b,EAAGwG,IAC7CkV,OAAQ,WAAaxa,KAAKia,OAAOO,UACjCe,UAAW,WAAavb,KAAKia,OAAOsB,aACpCC,QAAS,WAAaxb,KAAKia,OAAOuB,WAClCC,aAAc,WAAazb,KAAKia,OAAOwB,gBACvCC,WAAY,WAAa1b,KAAKia,OAAOyB,e,aCrBvC,SAAS+gE,GAAI1hB,EAAY2hB,EAAWv/E,GAClC,IAAI83E,EAAOla,EAAW4hB,YAAc5hB,EAAW4hB,aAM/C,OALA5hB,EAAWv5D,MAAM,KAAKgrB,UAAU,CAAC,EAAG,IACxB,MAARyoD,GAAcla,EAAW4hB,WAAW,MACxC,YAAUx/E,EAAQ49D,EAAW9gD,OAAO,OACpCyiE,EAAU,KAAa/+C,UACX,MAARs3C,GAAcla,EAAW4hB,WAAW1H,GACjCla,EAGF,SAAS6hB,GAAU7hB,EAAYre,EAAQv/C,GAC5C,OAAOs/E,GAAI1hB,GAAY,SAASp4D,GAC9B,IAAIsN,EAAIysC,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC7B51B,EAAI41B,EAAO,GAAG,GAAKA,EAAO,GAAG,GAC7Bp5C,EAAIzF,KAAKwB,IAAI4Q,GAAKtN,EAAE,GAAG,GAAKA,EAAE,GAAG,IAAKmkB,GAAKnkB,EAAE,GAAG,GAAKA,EAAE,GAAG,KAC1D7D,GAAK49C,EAAO,GAAG,IAAMzsC,EAAI3M,GAAKX,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACpD2C,GAAKo3C,EAAO,GAAG,IAAM51B,EAAIxjB,GAAKX,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACxDo4D,EAAWv5D,MAAM,IAAM8B,GAAGkpB,UAAU,CAAC1tB,EAAGwG,MACvCnI,GAGE,SAAS0/E,GAAQ9hB,EAAYh6D,EAAM5D,GACxC,OAAOy/E,GAAU7hB,EAAY,CAAC,CAAC,EAAG,GAAIh6D,GAAO5D,GAGxC,SAAS2/E,GAAS/hB,EAAY70D,EAAO/I,GAC1C,OAAOs/E,GAAI1hB,GAAY,SAASp4D,GAC9B,IAAIsN,GAAK/J,EACL5C,EAAI2M,GAAKtN,EAAE,GAAG,GAAKA,EAAE,GAAG,IACxB7D,GAAKmR,EAAI3M,GAAKX,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACpC2C,GAAKhC,EAAIX,EAAE,GAAG,GAClBo4D,EAAWv5D,MAAM,IAAM8B,GAAGkpB,UAAU,CAAC1tB,EAAGwG,MACvCnI,GAGE,SAAS4/E,GAAUhiB,EAAY/mB,EAAQ72C,GAC5C,OAAOs/E,GAAI1hB,GAAY,SAASp4D,GAC9B,IAAImkB,GAAKktB,EACL1wC,EAAIwjB,GAAKnkB,EAAE,GAAG,GAAKA,EAAE,GAAG,IACxB7D,GAAKwE,EAAIX,EAAE,GAAG,GACd2C,GAAKwhB,EAAIxjB,GAAKX,EAAE,GAAG,GAAKA,EAAE,GAAG,KAAO,EACxCo4D,EAAWv5D,MAAM,IAAM8B,GAAGkpB,UAAU,CAAC1tB,EAAGwG,MACvCnI,GCzCL,IACI6/E,GAAiB,YAAI,GAAK,KAEf,iBACb,OAAQC,EAYV,SAAkB7qB,EAAS6qB,GAEzB,SAASC,EAAehzE,EAAIw2B,EAAIqxC,EAAS/uC,EAAI22C,EAAI94B,EAAI12C,EAAIw2B,EAAIqxC,EAAS/uC,EAAI22C,EAAI94B,EAAIq8B,EAAOljE,GACvF,IAAI8nB,EAAK53B,EAAKD,EACV83B,EAAKrB,EAAKD,EACVuB,EAAKF,EAAKA,EAAKC,EAAKA,EACxB,GAAIC,EAAK,EAAIg7C,GAAUE,IAAS,CAC9B,IAAIv6E,EAAIogC,EAAKC,EACTtgC,EAAIg3E,EAAKC,EACT99E,EAAI+kD,EAAKC,EACTjlD,EAAI,YAAK+G,EAAIA,EAAID,EAAIA,EAAI7G,EAAIA,GAC7BshF,EAAO,YAAKthF,GAAKD,GACjBwhF,EAAU,YAAI,YAAIvhF,GAAK,GAAK,KAAW,YAAIi2E,EAAUC,GAAW,KAAWD,EAAUC,GAAW,EAAI,YAAMrvE,EAAGC,GAC7GrF,EAAI60D,EAAQirB,EAASD,GACrBx8C,EAAKrjC,EAAE,GACPsjC,EAAKtjC,EAAE,GACP+/E,EAAM18C,EAAK12B,EACXqzE,EAAM18C,EAAKH,EACX88C,EAAKx7C,EAAKs7C,EAAMv7C,EAAKw7C,GACrBC,EAAKA,EAAKv7C,EAAKg7C,GACZ,aAAKl7C,EAAKu7C,EAAMt7C,EAAKu7C,GAAOt7C,EAAK,IAAO,IACxCe,EAAKC,EAAK02C,EAAKC,EAAK/4B,EAAKC,EAAKk8B,MACnCE,EAAehzE,EAAIw2B,EAAIqxC,EAAS/uC,EAAI22C,EAAI94B,EAAIjgB,EAAIC,EAAIw8C,EAASz6E,GAAK/G,EAAG8G,GAAK9G,EAAGC,EAAGqhF,EAAOljE,GACvFA,EAAOU,MAAMimB,EAAIC,GACjBq8C,EAAet8C,EAAIC,EAAIw8C,EAASz6E,EAAGD,EAAG7G,EAAGqO,EAAIw2B,EAAIqxC,EAAS/uC,EAAI22C,EAAI94B,EAAIq8B,EAAOljE,KAInF,OAAO,SAASA,GACd,IAAIwjE,EAAU57C,EAAKC,EAAKuB,EAAKq6C,EAAKC,EAC9B5L,EAAS7nE,EAAIw2B,EAAIsC,EAAI22C,EAAI94B,EAEzB+8B,EAAiB,CACnBjjE,MAAOA,EACPY,UAAWA,EACXC,QAASA,EACTC,aAAc,WAAaxB,EAAOwB,eAAgBmiE,EAAeriE,UAAYq7D,GAC7El7D,WAAY,WAAazB,EAAOyB,aAAckiE,EAAeriE,UAAYA,IAG3E,SAASZ,EAAM7b,EAAGwG,GAChBxG,EAAIszD,EAAQtzD,EAAGwG,GACf2U,EAAOU,MAAM7b,EAAE,GAAIA,EAAE,IAGvB,SAASyc,IACPrR,EAAKhG,IACL05E,EAAejjE,MAAQ++D,EACvBz/D,EAAOsB,YAGT,SAASm+D,EAAUtJ,EAAQC,GACzB,IAAIv0E,EAAI,EAAU,CAACs0E,EAAQC,IAAO9yE,EAAI60D,EAAQge,EAAQC,GACtD6M,EAAehzE,EAAIw2B,EAAIqxC,EAAS/uC,EAAI22C,EAAI94B,EAAI32C,EAAK3M,EAAE,GAAImjC,EAAKnjC,EAAE,GAAIw0E,EAAU3B,EAAQptC,EAAKlnC,EAAE,GAAI69E,EAAK79E,EAAE,GAAI+kD,EAAK/kD,EAAE,GArExG,GAqEsHme,GAC/HA,EAAOU,MAAMzQ,EAAIw2B,GAGnB,SAASllB,IACPoiE,EAAejjE,MAAQA,EACvBV,EAAOuB,UAGT,SAASo7D,IACPr7D,IACAqiE,EAAejjE,MAAQkjE,EACvBD,EAAepiE,QAAUq7D,EAG3B,SAASgH,EAAUzN,EAAQC,GACzBqJ,EAAU+D,EAAWrN,EAAQC,GAAMxuC,EAAM33B,EAAI43B,EAAMpB,EAAI2C,EAAML,EAAI06C,EAAM/D,EAAIgE,EAAM98B,EACjF+8B,EAAejjE,MAAQ++D,EAGzB,SAAS7C,IACPqG,EAAehzE,EAAIw2B,EAAIqxC,EAAS/uC,EAAI22C,EAAI94B,EAAIhf,EAAKC,EAAK27C,EAAUp6C,EAAKq6C,EAAKC,EA1FjE,GA0FgF1jE,GACzF2jE,EAAepiE,QAAUA,EACzBA,IAGF,OAAOoiE,GA3FQ,CAASxrB,EAAS6qB,GAGrC,SAAsB7qB,GACpB,OAAOrtD,GAAY,CACjB4V,MAAO,SAAS7b,EAAGwG,GACjBxG,EAAIszD,EAAQtzD,EAAGwG,GACftF,KAAKia,OAAOU,MAAM7b,EAAE,GAAIA,EAAE,OAPeg/E,CAAa1rB,ICG5D,IAAI2rB,GAAmBh5E,GAAY,CACjC4V,MAAO,SAAS7b,EAAGwG,GACjBtF,KAAKia,OAAOU,MAAM7b,EAAI,IAASwG,EAAI,QAavC,SAAS04E,GAAe16E,EAAGy+B,EAAIC,GAC7B,SAASh9B,EAAUlG,EAAGwG,GACpB,MAAO,CAACy8B,EAAKz+B,EAAIxE,EAAGkjC,EAAK1+B,EAAIgC,GAK/B,OAHAN,EAAUK,OAAS,SAASvG,EAAGwG,GAC7B,MAAO,EAAExG,EAAIijC,GAAMz+B,GAAI0+B,EAAK18B,GAAKhC,IAE5B0B,EAGT,SAASi5E,GAAqB36E,EAAGy+B,EAAIC,EAAI4G,GACvC,IAAIs1C,EAAW,YAAIt1C,GACfu1C,EAAW,YAAIv1C,GACfhmC,EAAIs7E,EAAW56E,EACfX,EAAIw7E,EAAW76E,EACf64B,EAAK+hD,EAAW56E,EAChBy0D,EAAKomB,EAAW76E,EAChB86E,GAAMD,EAAWn8C,EAAKk8C,EAAWn8C,GAAMz+B,EACvCqsC,GAAMwuC,EAAWp8C,EAAKm8C,EAAWl8C,GAAM1+B,EAC3C,SAAS0B,EAAUlG,EAAGwG,GACpB,MAAO,CAAC1C,EAAI9D,EAAI6D,EAAI2C,EAAIy8B,EAAIC,EAAKr/B,EAAI7D,EAAI8D,EAAI0C,GAK/C,OAHAN,EAAUK,OAAS,SAASvG,EAAGwG,GAC7B,MAAO,CAAC62B,EAAKr9B,EAAIi5D,EAAKzyD,EAAI84E,EAAIzuC,EAAKooB,EAAKj5D,EAAIq9B,EAAK72B,IAE5CN,EAGM,SAAS,GAAWotD,GACjC,OAAOisB,IAAkB,WAAa,OAAOjsB,IAAtCisB,GAGF,SAASA,GAAkBC,GAChC,IAAIlsB,EAI+CzmC,EAGpC+U,EAAIv2B,EAAIw2B,EAEnB49C,EACAC,EACAC,EACAxrC,EACA8mC,EAZAz2E,EAAI,IACJxE,EAAI,IAAKwG,EAAI,IACb8qE,EAAS,EAAGC,EAAM,EAClBsD,EAAc,EAAGC,EAAW,EAAGC,EAAa,EAC5CjrC,EAAQ,EACR81C,EAAQ,KAAMC,EAAU,GACxBz0E,EAAK,KAAkB00E,EAAW56E,GAAA,EAClCi5E,EAAS,GAOb,SAASliB,EAAWpgD,GAClB,OAAO8jE,EAAuB9jE,EAAM,GAAK,IAASA,EAAM,GAAK,KAG/D,SAAStV,EAAOsV,GAEd,OADAA,EAAQ8jE,EAAuBp5E,OAAOsV,EAAM,GAAIA,EAAM,MACtC,CAACA,EAAM,GAAK,IAASA,EAAM,GAAK,KA+DlD,SAASkkE,IACP,IAAI5qD,EAASgqD,GAAqB36E,EAAG,EAAG,EAAGslC,GAAOjnC,MAAM,KAAMywD,EAAQge,EAAQC,IAC1ErrE,GAAa4jC,EAAQq1C,GAAuBD,IAAgB16E,EAAGxE,EAAIm1B,EAAO,GAAI3uB,EAAI2uB,EAAO,GAAI2U,GAKjG,OAJAjd,EAAS+nD,GAAcC,EAAaC,EAAUC,GAC9C2K,EAAmBhL,GAAQphB,EAASptD,GACpCy5E,EAAyBjL,GAAQ7nD,EAAQ6yD,GACzCD,EAAkBO,GAASN,EAAkBvB,GACtCx1D,IAGT,SAASA,IAEP,OADAwrB,EAAQ8mC,EAAc,KACfhf,EAGT,OA3EAA,EAAW9gD,OAAS,SAASA,GAC3B,OAAOg5B,GAAS8mC,IAAgB9/D,EAASg5B,EAAQA,EAAQ8qC,GAnE7D,SAAyBpyD,GACvB,OAAO5mB,GAAY,CACjB4V,MAAO,SAAS7b,EAAGwG,GACjB,IAAI/I,EAAIovB,EAAO7sB,EAAGwG,GAClB,OAAOtF,KAAKia,OAAOU,MAAMpe,EAAE,GAAIA,EAAE,OA+DuCwiF,CAAgBpzD,EAAhBozD,CAAwBJ,EAAQJ,EAAgBK,EAAS7E,EAAc9/D,QAGnJ8gD,EAAW4jB,QAAU,SAASl9E,GAC5B,OAAO1B,UAAUR,QAAUo/E,EAAUl9E,EAAGi9E,OAAQ38E,EAAW0lB,KAAWk3D,GAGxE5jB,EAAW6jB,SAAW,SAASn9E,GAC7B,OAAO1B,UAAUR,QAAUq/E,EAAWn9E,EAAGyI,EAAKw2B,EAAKv2B,EAAKw2B,EAAK,KAAMlZ,KAAWm3D,GAGhF7jB,EAAWikB,UAAY,SAASv9E,GAC9B,OAAO1B,UAAUR,QAAUo/E,GAAWl9E,EAAI,GAAWi9E,EAAQj9E,EAAI,MAAYi9E,EAAQ,KAAM,IAAmBj3D,KAAWi3D,EAAQ,KAGnI3jB,EAAW4hB,WAAa,SAASl7E,GAC/B,OAAO1B,UAAUR,QAAUq/E,EAAgB,MAALn9E,GAAayI,EAAKw2B,EAAKv2B,EAAKw2B,EAAK,KAAM38B,GAAA,GAAY20E,GAAczuE,GAAMzI,EAAE,GAAG,GAAIi/B,GAAMj/B,EAAE,GAAG,GAAI0I,GAAM1I,EAAE,GAAG,GAAIk/B,GAAMl/B,EAAE,GAAG,IAAKgmB,KAAiB,MAANvd,EAAa,KAAO,CAAC,CAACA,EAAIw2B,GAAK,CAACv2B,EAAIw2B,KAGrNo6B,EAAWv5D,MAAQ,SAASC,GAC1B,OAAO1B,UAAUR,QAAU+D,GAAK7B,EAAGo9E,KAAcv7E,GAGnDy3D,EAAWvuC,UAAY,SAAS/qB,GAC9B,OAAO1B,UAAUR,QAAUT,GAAK2C,EAAE,GAAI6D,GAAK7D,EAAE,GAAIo9E,KAAc,CAAC//E,EAAGwG,IAGrEy1D,EAAW9mC,OAAS,SAASxyB,GAC3B,OAAO1B,UAAUR,QAAU6wE,EAAS3uE,EAAE,GAAK,IAAM,IAAS4uE,EAAM5uE,EAAE,GAAK,IAAM,IAASo9E,KAAc,CAACzO,EAAS,IAASC,EAAM,MAG/HtV,EAAWpvC,OAAS,SAASlqB,GAC3B,OAAO1B,UAAUR,QAAUo0E,EAAclyE,EAAE,GAAK,IAAM,IAASmyE,EAAWnyE,EAAE,GAAK,IAAM,IAASoyE,EAAapyE,EAAElC,OAAS,EAAIkC,EAAE,GAAK,IAAM,IAAU,EAAGo9E,KAAc,CAAClL,EAAc,IAASC,EAAW,IAASC,EAAa,MAG/N9Y,EAAW31B,MAAQ,SAAS3jC,GAC1B,OAAO1B,UAAUR,QAAUqpC,EAAQnnC,EAAI,IAAM,IAASo9E,KAAcj2C,EAAQ,KAG9EmyB,EAAW30D,UAAY,SAAS3E,GAC9B,OAAO1B,UAAUR,QAAUg/E,EAAkBO,GAASN,EAAkBvB,EAASx7E,EAAIA,GAAIgmB,KAAW,YAAKw1D,IAG3GliB,EAAW6hB,UAAY,SAASlgC,EAAQv/C,GACtC,OAAOy/E,GAAU7hB,EAAYre,EAAQv/C,IAGvC49D,EAAW8hB,QAAU,SAAS97E,EAAM5D,GAClC,OAAO0/E,GAAQ9hB,EAAYh6D,EAAM5D,IAGnC49D,EAAW+hB,SAAW,SAAS52E,EAAO/I,GACpC,OAAO2/E,GAAS/hB,EAAY70D,EAAO/I,IAGrC49D,EAAWgiB,UAAY,SAAS/oC,EAAQ72C,GACtC,OAAO4/E,GAAUhiB,EAAY/mB,EAAQ72C,IAkBhC,WAGL,OAFAi1D,EAAUksB,EAAU38E,MAAM3B,KAAMD,WAChCg7D,EAAW11D,OAAS+sD,EAAQ/sD,QAAUA,EAC/Bw5E,KC9JJ,SAASI,GAAgBX,GAC9B,IAAI1I,EAAO,EACPM,EAAO,IAAK,EACZr6E,EAAIwiF,GAAkBC,GACtB/gF,EAAI1B,EAAE+5E,EAAMM,GAMhB,OAJA34E,EAAE2hF,UAAY,SAASz9E,GACrB,OAAO1B,UAAUR,OAAS1D,EAAE+5E,EAAOn0E,EAAE,GAAK,IAASy0E,EAAOz0E,EAAE,GAAK,KAAW,CAACm0E,EAAO,IAASM,EAAO,MAG/F34E,ECTF,SAAS4hF,GAAkBz+C,EAAIC,GACpC,IAAIs7C,EAAM,YAAIv7C,GAAKxjC,GAAK++E,EAAM,YAAIt7C,IAAO,EAGzC,GAAI,YAAIzjC,GAAK,IAAS,OCNjB,SAAiC04E,GACtC,IAAIE,EAAU,YAAIF,GAElB,SAAStB,EAAQlE,EAAQC,GACvB,MAAO,CAACD,EAAS0F,EAAS,YAAIzF,GAAOyF,GAOvC,OAJAxB,EAAQjvE,OAAS,SAASvG,EAAGwG,GAC3B,MAAO,CAACxG,EAAIg3E,EAAS,YAAKxwE,EAAIwwE,KAGzBxB,EDLsB8K,CAAwB1+C,GAErD,IAAI5kC,EAAI,EAAImgF,GAAO,EAAI/+E,EAAI++E,GAAMz3E,EAAK,YAAK1I,GAAKoB,EAEhD,SAASk1D,EAAQtzD,EAAGwG,GAClB,IAAI/I,EAAI,YAAKT,EAAI,EAAIoB,EAAI,YAAIoI,IAAMpI,EACnC,MAAO,CAACX,EAAI,YAAIuC,GAAK5B,GAAIsH,EAAKjI,EAAI,YAAIuC,IAQxC,OALAszD,EAAQ/sD,OAAS,SAASvG,EAAGwG,GAC3B,IAAI+5E,EAAM76E,EAAKc,EACf,MAAO,CAAC,YAAMxG,EAAG,YAAIugF,IAAQniF,EAAI,YAAKmiF,GAAM,aAAMvjF,GAAKgD,EAAIA,EAAIugF,EAAMA,GAAOniF,EAAIA,IAAM,EAAIA,MAGrFk1D,EAGM,kBACb,OAAO6sB,GAAgBE,IAClB39E,MAAM,SACNyyB,OAAO,CAAC,EAAG,WE1BH,cACb,OAAOqrD,KACFJ,UAAU,CAAC,KAAM,OACjB19E,MAAM,MACNgrB,UAAU,CAAC,IAAK,MAChBb,OAAO,CAAC,GAAI,IACZsI,OAAO,EAAE,GAAK,QCgBN,kBACb,IAAIgf,EACA8mC,EACoBwF,EAC+DC,EACDC,EAClF9kE,EAHA+kE,EAAUC,KACVC,EAASN,KAAiB3zD,OAAO,CAAC,IAAK,IAAIsI,OAAO,EAAE,EAAG,OAAOirD,UAAU,CAAC,GAAI,KAC7EW,EAASP,KAAiB3zD,OAAO,CAAC,IAAK,IAAIsI,OAAO,EAAE,EAAG,OAAOirD,UAAU,CAAC,EAAG,KACrEY,EAAc,CAACnlE,MAAO,SAAS7b,EAAGwG,GAAKqV,EAAQ,CAAC7b,EAAGwG,KAE9D,SAASy6E,EAAUrlE,GACjB,IAAI5b,EAAI4b,EAAY,GAAIpV,EAAIoV,EAAY,GACxC,OAAOC,EAAQ,KACV4kE,EAAa5kE,MAAM7b,EAAGwG,GAAIqV,IACvB6kE,EAAY7kE,MAAM7b,EAAGwG,GAAIqV,KACzB8kE,EAAY9kE,MAAM7b,EAAGwG,GAAIqV,GAmEnC,SAAS8M,IAEP,OADAwrB,EAAQ8mC,EAAc,KACfgG,EAGT,OArEAA,EAAU16E,OAAS,SAASqV,GAC1B,IAAIpX,EAAIo8E,EAAQl+E,QACZ7E,EAAI+iF,EAAQlzD,YACZ1tB,GAAK4b,EAAY,GAAK/d,EAAE,IAAM2G,EAC9BgC,GAAKoV,EAAY,GAAK/d,EAAE,IAAM2G,EAClC,OAAQgC,GAAK,KAASA,EAAI,MAASxG,IAAM,MAASA,GAAK,KAAQ8gF,EACzDt6E,GAAK,MAASA,EAAI,MAASxG,IAAM,MAASA,GAAK,KAAQ+gF,EACvDH,GAASr6E,OAAOqV,IAGxBqlE,EAAU9lE,OAAS,SAASA,GAC1B,OAAOg5B,GAAS8mC,IAAgB9/D,EAASg5B,GA5C1B+sC,EA4CoD,CAACN,EAAQzlE,OAAO8/D,EAAc9/D,GAAS2lE,EAAO3lE,OAAOA,GAAS4lE,EAAO5lE,OAAOA,IA3C7I/c,EAAI8iF,EAAQzgF,OA2CmC0zC,EA1C5C,CACLt4B,MAAO,SAAS7b,EAAGwG,GAAiB,IAAZ,IAAI7J,GAAK,IAAYA,EAAIyB,GAAG8iF,EAAQvkF,GAAGkf,MAAM7b,EAAGwG,IACxEkV,OAAQ,WAAyB,IAAZ,IAAI/e,GAAK,IAAYA,EAAIyB,GAAG8iF,EAAQvkF,GAAG+e,UAC5De,UAAW,WAAyB,IAAZ,IAAI9f,GAAK,IAAYA,EAAIyB,GAAG8iF,EAAQvkF,GAAG8f,aAC/DC,QAAS,WAAyB,IAAZ,IAAI/f,GAAK,IAAYA,EAAIyB,GAAG8iF,EAAQvkF,GAAG+f,WAC7DC,aAAc,WAAyB,IAAZ,IAAIhgB,GAAK,IAAYA,EAAIyB,GAAG8iF,EAAQvkF,GAAGggB,gBAClEC,WAAY,WAAyB,IAAZ,IAAIjgB,GAAK,IAAYA,EAAIyB,GAAG8iF,EAAQvkF,GAAGigB,gBARpE,IAAmBskE,EACb9iF,GA8CJ6iF,EAAU35E,UAAY,SAAS3E,GAC7B,OAAK1B,UAAUR,QACfmgF,EAAQt5E,UAAU3E,GAAIm+E,EAAOx5E,UAAU3E,GAAIo+E,EAAOz5E,UAAU3E,GACrDgmB,KAFuBi4D,EAAQt5E,aAKxC25E,EAAUv+E,MAAQ,SAASC,GACzB,OAAK1B,UAAUR,QACfmgF,EAAQl+E,MAAMC,GAAIm+E,EAAOp+E,MAAU,IAAJC,GAAWo+E,EAAOr+E,MAAMC,GAChDs+E,EAAUvzD,UAAUkzD,EAAQlzD,cAFLkzD,EAAQl+E,SAKxCu+E,EAAUvzD,UAAY,SAAS/qB,GAC7B,IAAK1B,UAAUR,OAAQ,OAAOmgF,EAAQlzD,YACtC,IAAIlpB,EAAIo8E,EAAQl+E,QAAS1C,GAAK2C,EAAE,GAAI6D,GAAK7D,EAAE,GAiB3C,OAfA89E,EAAeG,EACVlzD,UAAU/qB,GACVk7E,WAAW,CAAC,CAAC79E,EAAI,KAAQwE,EAAGgC,EAAI,KAAQhC,GAAI,CAACxE,EAAI,KAAQwE,EAAGgC,EAAI,KAAQhC,KACxE2W,OAAO6lE,GAEZN,EAAcI,EACTpzD,UAAU,CAAC1tB,EAAI,KAAQwE,EAAGgC,EAAI,KAAQhC,IACtCq5E,WAAW,CAAC,CAAC79E,EAAI,KAAQwE,EAAI,IAASgC,EAAI,IAAQhC,EAAI,KAAU,CAACxE,EAAI,KAAQwE,EAAI,IAASgC,EAAI,KAAQhC,EAAI,OAC1G2W,OAAO6lE,GAEZL,EAAcI,EACTrzD,UAAU,CAAC1tB,EAAI,KAAQwE,EAAGgC,EAAI,KAAQhC,IACtCq5E,WAAW,CAAC,CAAC79E,EAAI,KAAQwE,EAAI,IAASgC,EAAI,KAAQhC,EAAI,KAAU,CAACxE,EAAI,KAAQwE,EAAI,IAASgC,EAAI,KAAQhC,EAAI,OAC1G2W,OAAO6lE,GAELr4D,KAGTs4D,EAAUnD,UAAY,SAASlgC,EAAQv/C,GACrC,OAAOy/E,GAAUmD,EAAWrjC,EAAQv/C,IAGtC4iF,EAAUlD,QAAU,SAAS97E,EAAM5D,GACjC,OAAO0/E,GAAQkD,EAAWh/E,EAAM5D,IAGlC4iF,EAAUjD,SAAW,SAAS52E,EAAO/I,GACnC,OAAO2/E,GAASiD,EAAW75E,EAAO/I,IAGpC4iF,EAAUhD,UAAY,SAAS/oC,EAAQ72C,GACrC,OAAO4/E,GAAUgD,EAAW/rC,EAAQ72C,IAQ/B4iF,EAAUv+E,MAAM,OC3GlB,SAASy+E,GAAaz+E,GAC3B,OAAO,SAAS1C,EAAGwG,GACjB,IAAIo9B,EAAK,YAAI5jC,GACT6jC,EAAK,YAAIr9B,GACThC,EAAI9B,EAAMkhC,EAAKC,GACnB,MAAO,CACLr/B,EAAIq/B,EAAK,YAAI7jC,GACbwE,EAAI,YAAIgC,KAKP,SAAS46E,GAAgB96C,GAC9B,OAAO,SAAStmC,EAAGwG,GACjB,IAAIgG,EAAI,YAAKxM,EAAIA,EAAIwG,EAAIA,GACrBxJ,EAAIspC,EAAM95B,GACV60E,EAAK,YAAIrkF,GACT4kD,EAAK,YAAI5kD,GACb,MAAO,CACL,YAAMgD,EAAIqhF,EAAI70E,EAAIo1C,GAClB,YAAKp1C,GAAKhG,EAAI66E,EAAK70E,KClBlB,IAAI80E,GAAwBH,IAAa,SAASI,GACvD,OAAO,YAAK,GAAK,EAAIA,OAGvBD,GAAsB/6E,OAAS66E,IAAgB,SAAS50E,GACtD,OAAO,EAAI,YAAKA,EAAI,MAGP,kBACb,OAAO,GAAW80E,IACb5+E,MAAM,QACNw9E,UAAU,UCXNsB,GAA0BL,IAAa,SAASnkF,GACzD,OAAQA,EAAI,YAAKA,KAAOA,EAAI,YAAIA,MAGlCwkF,GAAwBj7E,OAAS66E,IAAgB,SAAS50E,GACxD,OAAOA,KAGM,kBACb,OAAO,GAAWg1E,IACb9+E,MAAM,SACNw9E,UAAU,UCXV,SAASuB,GAAYnQ,EAAQC,GAClC,MAAO,CAACD,EAAQ,YAAI,aAAK,IAASC,GAAO,KAG3CkQ,GAAYl7E,OAAS,SAASvG,EAAGwG,GAC/B,MAAO,CAACxG,EAAG,EAAI,YAAK,YAAIwG,IAAM,MAGjB,kBACb,OAAOk7E,GAAmBD,IACrB/+E,MAAM,IAAM,MAGZ,SAASg/E,GAAmBpuB,GACjC,IAKe1xB,EAAIv2B,EAAIw2B,EALnB9kC,EAAI,GAAWu2D,GACfn+B,EAASp4B,EAAEo4B,OACXzyB,EAAQ3F,EAAE2F,MACVgrB,EAAY3wB,EAAE2wB,UACdmwD,EAAa9gF,EAAE8gF,WACfzyE,EAAK,KAkBT,SAASu2E,IACP,IAAIn9E,EAAI,IAAK9B,IACT7E,EAAId,EAAE,GAASA,EAAE8vB,UAAUtmB,OAAO,CAAC,EAAG,KAC1C,OAAOs3E,EAAiB,MAANzyE,EACZ,CAAC,CAACvN,EAAE,GAAK2G,EAAG3G,EAAE,GAAK2G,GAAI,CAAC3G,EAAE,GAAK2G,EAAG3G,EAAE,GAAK2G,IAAM8uD,IAAYmuB,GAC3D,CAAC,CAAC1iF,KAAKuB,IAAIzC,EAAE,GAAK2G,EAAG4G,GAAKw2B,GAAK,CAAC7iC,KAAKwB,IAAI1C,EAAE,GAAK2G,EAAG6G,GAAKw2B,IACxD,CAAC,CAACz2B,EAAIrM,KAAKuB,IAAIzC,EAAE,GAAK2G,EAAGo9B,IAAM,CAACv2B,EAAItM,KAAKwB,IAAI1C,EAAE,GAAK2G,EAAGq9B,MAG/D,OAzBA9kC,EAAE2F,MAAQ,SAASC,GACjB,OAAO1B,UAAUR,QAAUiC,EAAMC,GAAIg/E,KAAYj/E,KAGnD3F,EAAE2wB,UAAY,SAAS/qB,GACrB,OAAO1B,UAAUR,QAAUitB,EAAU/qB,GAAIg/E,KAAYj0D,KAGvD3wB,EAAEo4B,OAAS,SAASxyB,GAClB,OAAO1B,UAAUR,QAAU00B,EAAOxyB,GAAIg/E,KAAYxsD,KAGpDp4B,EAAE8gF,WAAa,SAASl7E,GACtB,OAAO1B,UAAUR,QAAgB,MAALkC,EAAYyI,EAAKw2B,EAAKv2B,EAAKw2B,EAAK,MAAQz2B,GAAMzI,EAAE,GAAG,GAAIi/B,GAAMj/B,EAAE,GAAG,GAAI0I,GAAM1I,EAAE,GAAG,GAAIk/B,GAAMl/B,EAAE,GAAG,IAAMg/E,KAAkB,MAANv2E,EAAa,KAAO,CAAC,CAACA,EAAIw2B,GAAK,CAACv2B,EAAIw2B,KAY7K8/C,IC9CT,SAASC,GAAKp7E,GACZ,OAAO,aAAK,IAASA,GAAK,GAGrB,SAASq7E,GAAkBjgD,EAAIC,GACpC,IAAIwB,EAAM,YAAIzB,GACVxjC,EAAIwjC,IAAOC,EAAK,YAAID,GAAM,YAAIyB,EAAM,YAAIxB,IAAO,YAAI+/C,GAAK//C,GAAM+/C,GAAKhgD,IACnEvgC,EAAIgiC,EAAM,YAAIu+C,GAAKhgD,GAAKxjC,GAAKA,EAEjC,IAAKA,EAAG,OAAOqjF,GAEf,SAASnuB,EAAQtzD,EAAGwG,GACdnF,EAAI,EAASmF,GAAK,IAAS,MAASA,GAAK,IAAS,KAC3CA,EAAI,IAAS,MAASA,EAAI,IAAS,KAC9C,IAAI/I,EAAI4D,EAAI,YAAIugF,GAAKp7E,GAAIpI,GACzB,MAAO,CAACX,EAAI,YAAIW,EAAI4B,GAAIqB,EAAI5D,EAAI,YAAIW,EAAI4B,IAQ1C,OALAszD,EAAQ/sD,OAAS,SAASvG,EAAGwG,GAC3B,IAAIs7E,EAAKzgF,EAAImF,EAAG/I,EAAI,YAAKW,GAAK,YAAK4B,EAAIA,EAAI8hF,EAAKA,GAChD,MAAO,CAAC,YAAM9hF,EAAG,YAAI8hF,IAAO1jF,EAAI,YAAK0jF,GAAK,EAAI,YAAK,YAAIzgF,EAAI5D,EAAG,EAAIW,IAAM,MAGnEk1D,EAGM,kBACb,OAAO6sB,GAAgB0B,IAClBn/E,MAAM,OACN09E,UAAU,CAAC,GAAI,MC/Bf,SAAS2B,GAAmBzQ,EAAQC,GACzC,MAAO,CAACD,EAAQC,GAGlBwQ,GAAmBx7E,OAASw7E,GAEb,kBACb,OAAO,GAAWA,IACbr/E,MAAM,SCNN,SAASs/E,GAAoBpgD,EAAIC,GACtC,IAAIwB,EAAM,YAAIzB,GACVxjC,EAAIwjC,IAAOC,EAAK,YAAID,IAAOyB,EAAM,YAAIxB,KAAQA,EAAKD,GAClDl5B,EAAI26B,EAAMjlC,EAAIwjC,EAElB,GAAI,YAAIxjC,GAAK,IAAS,OAAO2jF,GAE7B,SAASzuB,EAAQtzD,EAAGwG,GAClB,IAAIy7E,EAAKv5E,EAAIlC,EAAGiwC,EAAKr4C,EAAI4B,EACzB,MAAO,CAACiiF,EAAK,YAAIxrC,GAAK/tC,EAAIu5E,EAAK,YAAIxrC,IAQrC,OALA6c,EAAQ/sD,OAAS,SAASvG,EAAGwG,GAC3B,IAAIy7E,EAAKv5E,EAAIlC,EACb,MAAO,CAAC,YAAMxG,EAAG,YAAIiiF,IAAO7jF,EAAI,YAAK6jF,GAAKv5E,EAAI,YAAKtK,GAAK,YAAK4B,EAAIA,EAAIiiF,EAAKA,KAGrE3uB,EAGM,kBACb,OAAO6sB,GAAgB6B,IAClBt/E,MAAM,SACNyyB,OAAO,CAAC,EAAG,WCxBd+sD,GAAK,SACLC,IAAM,QACNC,GAAK,OACLC,GAAK,QACLryE,GAAI,YAAK,GAAK,EAGX,SAASsyE,GAAchR,EAAQC,GACpC,IAAI30E,EAAI,YAAKoT,GAAI,YAAIuhE,IAAOgR,EAAK3lF,EAAIA,EAAG4lF,EAAKD,EAAKA,EAAKA,EACvD,MAAO,CACLjR,EAAS,YAAI10E,IAAMoT,IAAKkyE,GAAK,EAAIC,GAAKI,EAAKC,GAAM,EAAIJ,GAAK,EAAIC,GAAKE,KACnE3lF,GAAKslF,GAAKC,GAAKI,EAAKC,GAAMJ,GAAKC,GAAKE,KAIxCD,GAAc/7E,OAAS,SAASvG,EAAGwG,GAEjC,IADA,IACgBw8D,EADZpmE,EAAI4J,EAAG+7E,EAAK3lF,EAAIA,EAAG4lF,EAAKD,EAAKA,EAAKA,EAC7B5lF,EAAI,EAAmBA,EAZjB,KAesB6lF,GAAZD,GAAvB3lF,GAAKomE,GAFApmE,GAAKslF,GAAKC,GAAKI,EAAKC,GAAMJ,GAAKC,GAAKE,IAAO/7E,IAC1C07E,GAAK,EAAIC,GAAKI,EAAKC,GAAM,EAAIJ,GAAK,EAAIC,GAAKE,KACjB3lF,GAAa2lF,EAAKA,IAC9C,YAAIvf,GAAS,QAJ+BrmE,GAMlD,MAAO,CACLqT,GAAIhQ,GAAKkiF,GAAK,EAAIC,GAAKI,EAAKC,GAAM,EAAIJ,GAAK,EAAIC,GAAKE,IAAO,YAAI3lF,GAC/D,YAAK,YAAIA,GAAKoT,MAIH,kBACb,OAAO,GAAWsyE,IACb5/E,MAAM,UC9BN,SAAS+/E,GAAYziF,EAAGwG,GAC7B,IAAIq9B,EAAK,YAAIr9B,GAAIhC,EAAI,YAAIxE,GAAK6jC,EAC9B,MAAO,CAACA,EAAK,YAAI7jC,GAAKwE,EAAG,YAAIgC,GAAKhC,GAGpCi+E,GAAYl8E,OAAS66E,GAAgB,KAEtB,kBACb,OAAO,GAAWqB,IACb//E,MAAM,SACNw9E,UAAU,KCTjB,SAAS,GAAel4C,EAAIC,EAAIy6C,EAAIC,GAClC,OAAc,IAAP36C,GAAmB,IAAPC,GAAmB,IAAPy6C,GAAmB,IAAPC,EAAWz9E,GAAA,EAAWe,GAAY,CAC3E4V,MAAO,SAAS7b,EAAGwG,GACjBtF,KAAKia,OAAOU,MAAM7b,EAAIgoC,EAAK06C,EAAIl8E,EAAIyhC,EAAK06C,MAK/B,kBACb,IACe/gD,EAAIv2B,EAAIw2B,EAEnBsS,EACA8mC,EACAhf,EALAz3D,EAAI,EAAGk+E,EAAK,EAAGC,EAAK,EAAGltC,EAAK,EAAGC,EAAK,EAAGxvC,EAAYhB,GAAA,EACnDkG,EAAK,KACL00E,EAAW56E,GAAA,EAKf,SAASyjB,IAEP,OADAwrB,EAAQ8mC,EAAc,KACfhf,EAGT,OAAOA,EAAa,CAClB9gD,OAAQ,SAASA,GACf,OAAOg5B,GAAS8mC,IAAgB9/D,EAASg5B,EAAQA,EAAQjuC,EAAU45E,EAAS7E,EAAc9/D,KAE5F2kE,SAAU,SAASn9E,GACjB,OAAO1B,UAAUR,QAAUq/E,EAAWn9E,EAAGyI,EAAKw2B,EAAKv2B,EAAKw2B,EAAK,KAAMlZ,KAAWm3D,GAEhFjC,WAAY,SAASl7E,GACnB,OAAO1B,UAAUR,QAAUq/E,EAAgB,MAALn9E,GAAayI,EAAKw2B,EAAKv2B,EAAKw2B,EAAK,KAAM38B,GAAA,GAAY20E,GAAczuE,GAAMzI,EAAE,GAAG,GAAIi/B,GAAMj/B,EAAE,GAAG,GAAI0I,GAAM1I,EAAE,GAAG,GAAIk/B,GAAMl/B,EAAE,GAAG,IAAKgmB,KAAiB,MAANvd,EAAa,KAAO,CAAC,CAACA,EAAIw2B,GAAK,CAACv2B,EAAIw2B,KAErNn/B,MAAO,SAASC,GACd,OAAO1B,UAAUR,QAAUyF,EAAY,IAAgB1B,GAAK7B,GAAK8yC,EAAIjxC,EAAIkxC,EAAIgtC,EAAIC,GAAKh6D,KAAWnkB,GAEnGkpB,UAAW,SAAS/qB,GAClB,OAAO1B,UAAUR,QAAUyF,EAAY,GAAe1B,EAAIixC,EAAIjxC,EAAIkxC,EAAIgtC,GAAM//E,EAAE,GAAIggF,GAAMhgF,EAAE,IAAKgmB,KAAW,CAAC+5D,EAAIC,IAEjHC,SAAU,SAASjgF,GACjB,OAAO1B,UAAUR,QAAUyF,EAAY,GAAe1B,GAAKixC,EAAK9yC,GAAK,EAAI,GAAI6B,EAAIkxC,EAAIgtC,EAAIC,GAAKh6D,KAAW8sB,EAAK,GAEhHotC,SAAU,SAASlgF,GACjB,OAAO1B,UAAUR,QAAUyF,EAAY,GAAe1B,EAAIixC,EAAIjxC,GAAKkxC,EAAK/yC,GAAK,EAAI,GAAI+/E,EAAIC,GAAKh6D,KAAW+sB,EAAK,GAEhHooC,UAAW,SAASlgC,EAAQv/C,GAC1B,OAAOy/E,GAAU7hB,EAAYre,EAAQv/C,IAEvC0/E,QAAS,SAAS97E,EAAM5D,GACtB,OAAO0/E,GAAQ9hB,EAAYh6D,EAAM5D,IAEnC2/E,SAAU,SAAS52E,EAAO/I,GACxB,OAAO2/E,GAAS/hB,EAAY70D,EAAO/I,IAErC4/E,UAAW,SAAS/oC,EAAQ72C,GAC1B,OAAO4/E,GAAUhiB,EAAY/mB,EAAQ72C,MCvDpC,SAASykF,GAAiBxR,EAAQC,GACvC,IAAI+M,EAAO/M,EAAMA,EAAKwR,EAAOzE,EAAOA,EACpC,MAAO,CACLhN,GAAU,MAAS,QAAWgN,EAAOyE,GAAoBA,GAAQ,QAAWzE,EAAO,QAAWyE,GAAhD,UAC9CxR,GAAO,SAAW+M,GAAQ,QAAWyE,GAAoB,QAAWzE,EAAtB,QAA6B,QAAWyE,MAI1FD,GAAiBv8E,OAAS,SAASvG,EAAGwG,GACpC,IAAqBw8D,EAAjBuO,EAAM/qE,EAAG7J,EAAI,GACjB,EAAG,CACD,IAAI2hF,EAAO/M,EAAMA,EAAKwR,EAAOzE,EAAOA,EACpC/M,GAAOvO,GAASuO,GAAO,SAAW+M,GAAQ,QAAWyE,GAAoB,QAAWzE,EAAtB,QAA6B,QAAWyE,KAAUv8E,IAC3G,SAAW83E,GAAQ,QAAeyE,GAAwB,QAAezE,EAA/B,QAAsC,QAAW,GAAKyE,WAC9F,YAAI/f,GAAS,OAAarmE,EAAI,GACvC,MAAO,CACLqD,GAAK,OAAUs+E,EAAO/M,EAAMA,IAAoB+M,GAAoBA,EAAOA,EAAOA,GAAQ,QAAW,QAAWA,GAAvD,SAApB,UACrC/M,IAIW,kBACb,OAAO,GAAWuR,IACbpgF,MAAM,UCtBN,SAASsgF,GAAgBhjF,EAAGwG,GACjC,MAAO,CAAC,YAAIA,GAAK,YAAIxG,GAAI,YAAIwG,IAG/Bw8E,GAAgBz8E,OAAS66E,GAAgB,KAE1B,kBACb,OAAO,GAAW4B,IACbtgF,MAAM,OACNw9E,UAAU,GAAK,MCTf,SAAS+C,GAAiBjjF,EAAGwG,GAClC,IAAIq9B,EAAK,YAAIr9B,GAAIhC,EAAI,EAAI,YAAIxE,GAAK6jC,EAClC,MAAO,CAACA,EAAK,YAAI7jC,GAAKwE,EAAG,YAAIgC,GAAKhC,GAGpCy+E,GAAiB18E,OAAS66E,IAAgB,SAAS50E,GACjD,OAAO,EAAI,YAAKA,MAGH,kBACb,OAAO,GAAWy2E,IACbvgF,MAAM,KACNw9E,UAAU,MCbV,SAASgD,GAAsB5R,EAAQC,GAC5C,MAAO,CAAC,YAAI,aAAK,IAASA,GAAO,KAAMD,GAGzC4R,GAAsB38E,OAAS,SAASvG,EAAGwG,GACzC,MAAO,EAAEA,EAAG,EAAI,YAAK,YAAIxG,IAAM,MAGlB,kBACb,IAAIjD,EAAI2kF,GAAmBwB,IACvB/tD,EAASp4B,EAAEo4B,OACXtI,EAAS9vB,EAAE8vB,OAUf,OARA9vB,EAAEo4B,OAAS,SAASxyB,GAClB,OAAO1B,UAAUR,OAAS00B,EAAO,EAAExyB,EAAE,GAAIA,EAAE,KAAsB,EAAdA,EAAIwyB,KAAa,IAAKxyB,EAAE,KAG7E5F,EAAE8vB,OAAS,SAASlqB,GAClB,OAAO1B,UAAUR,OAASosB,EAAO,CAAClqB,EAAE,GAAIA,EAAE,GAAIA,EAAElC,OAAS,EAAIkC,EAAE,GAAK,GAAK,KAAsB,EAAdA,EAAIkqB,KAAa,GAAIlqB,EAAE,GAAIA,EAAE,GAAK,KAG9GkqB,EAAO,CAAC,EAAG,EAAG,KAChBnqB,MAAM,W,6FCnBE,iBACb,IAAMqzC,iBACN,IAAMotC,4BCLO,cACb,IAAI/d,EAAOvS,EAAKjlC,SAASE,gBACrB2D,EAAY,YAAOohC,GAAM/mC,GAAG,iBAAkBs3D,GAAS,GACvD,kBAAmBhe,EACrB3zC,EAAU3F,GAAG,mBAAoBs3D,GAAS,IAE1Che,EAAKie,WAAaje,EAAKp3C,MAAMs1D,cAC7Ble,EAAKp3C,MAAMs1D,cAAgB,SAIxB,SAASC,EAAQ1wB,EAAM2wB,GAC5B,IAAIpe,EAAOvS,EAAKjlC,SAASE,gBACrB2D,EAAY,YAAOohC,GAAM/mC,GAAG,iBAAkB,MAC9C03D,IACF/xD,EAAU3F,GAAG,aAAcs3D,GAAS,GACpCr5D,YAAW,WAAa0H,EAAU3F,GAAG,aAAc,QAAU,IAE3D,kBAAmBs5C,EACrB3zC,EAAU3F,GAAG,mBAAoB,OAEjCs5C,EAAKp3C,MAAMs1D,cAAgBle,EAAKie,kBACzBje,EAAKie,YCzBhB,IAAII,EAAM1kF,KAAK2kF,MAKf,SAASxrD,EAAKl4B,GACZ,QAASA,EAAIjB,KAAKJ,IAAIqB,IAAM,EAAIA,GAAK,EAaxB,oBACb,IAKIrD,EACAsT,EANA0zE,EAAM5+C,EAAG,GAAI6+C,EAAM7+C,EAAG,GAAI8+C,EAAK9+C,EAAG,GAClC++C,EAAM9+C,EAAG,GAAI++C,EAAM/+C,EAAG,GAAIg/C,EAAKh/C,EAAG,GAClC/B,EAAK6gD,EAAMH,EACXzgD,EAAK6gD,EAAMH,EACXzgD,EAAKF,EAAKA,EAAKC,EAAKA,EAKxB,GAAIC,EA1BS,MA2BXlzB,EAAIlR,KAAKY,IAAIqkF,EAAKH,GAAMJ,EACxB9mF,EAAI,SAASkB,GACX,MAAO,CACL8lF,EAAM9lF,EAAIolC,EACV2gD,EAAM/lF,EAAIqlC,EACV2gD,EAAK9kF,KAAKJ,IAAI8kF,EAAM5lF,EAAIoS,SAMzB,CACH,IAAIxK,EAAK1G,KAAKkB,KAAKkjC,GACf03C,GAAMmJ,EAAKA,EAAKH,EAAKA,EAzClB,EAyC8B1gD,IAAO,EAAI0gD,EA1CzC,EA0CqDp+E,GACxDq1E,GAAMkJ,EAAKA,EAAKH,EAAKA,EA1ClB,EA0C8B1gD,IAAO,EAAI6gD,EA3CzC,EA2CqDv+E,GACxDC,EAAK3G,KAAKY,IAAIZ,KAAKkB,KAAK46E,EAAKA,EAAK,GAAKA,GACvCl1E,EAAK5G,KAAKY,IAAIZ,KAAKkB,KAAK66E,EAAKA,EAAK,GAAKA,GAC3C7qE,GAAKtK,EAAKD,GAAM+9E,EAChB9mF,EAAI,SAASkB,GACX,IApCQmC,EAoCJtB,EAAIb,EAAIoS,EACRg0E,EAAS/rD,EAAKxyB,GACde,EAAIo9E,GAlDH,EAkDgBp+E,IAAOw+E,GAtCpBjkF,EAsCkCyjF,EAAM/kF,EAAIgH,IArC/C1F,EAAIjB,KAAKJ,IAAI,EAAIqB,IAAM,IAAMA,EAAI,IAL5C,SAAcA,GACZ,QAASA,EAAIjB,KAAKJ,IAAIqB,IAAM,EAAIA,GAAK,EAyCyBm4B,CAAKzyB,IAC/D,MAAO,CACLi+E,EAAMl9E,EAAIw8B,EACV2gD,EAAMn9E,EAAIy8B,EACV2gD,EAAKI,EAAS/rD,EAAKurD,EAAM/kF,EAAIgH,KAOnC,OAFA/I,EAAEsvB,SAAe,IAAJhc,EAENtT,GC5DM,aAEb,IADA,IAAqBmJ,EAAjB2wE,EAAU,IACP3wE,EAAS2wE,EAAQtG,aAAasG,EAAU3wE,EAC/C,OAAO2wE,GCLM,gBACb,IAAIxhC,EAAMzpB,EAAK04D,iBAAmB14D,EAElC,GAAIypB,EAAIkvC,eAAgB,CACtB,IAAItoE,EAAQo5B,EAAIkvC,iBAGhB,OAFAtoE,EAAM7b,EAAIq0B,EAAM2hB,QAASn6B,EAAMrV,EAAI6tB,EAAM4hB,QAElC,EADPp6B,EAAQA,EAAMuoE,gBAAgB54D,EAAK64D,eAAeC,YACpCtkF,EAAG6b,EAAMrV,GAGzB,IAAI0hC,EAAO1c,EAAK6qB,wBAChB,MAAO,CAAChiB,EAAM2hB,QAAU9N,EAAKzuB,KAAO+R,EAAK+4D,WAAYlwD,EAAM4hB,QAAU/N,EAAKwE,IAAMlhB,EAAKg5D,YCRxE,cACb,IAAInwD,EAAQ87C,IAEZ,OADI97C,EAAMowD,iBAAgBpwD,EAAQA,EAAMowD,eAAe,IAChD,EAAMj5D,EAAM6I,ICHN,kBACTpzB,UAAUR,OAAS,IAAGikF,EAAaC,EAASA,EAAUxU,IAAcsU,gBAExE,IAAK,IAA6CG,EAAzCjoF,EAAI,EAAGyB,EAAIumF,EAAUA,EAAQlkF,OAAS,EAAU9D,EAAIyB,IAAKzB,EAChE,IAAKioF,EAAQD,EAAQhoF,IAAI+nF,aAAeA,EACtC,OAAO,EAAMl5D,EAAMo5D,GAIvB,OAAO,M,QCZM,cACb,OAAO,WACL,OAAO5kF,ICFI,SAAS6kF,EAAU9+E,EAAQyB,EAAMtB,GAC9ChF,KAAK6E,OAASA,EACd7E,KAAKsG,KAAOA,EACZtG,KAAKgF,UAAYA,ECHZ,SAAS4+E,EAAUtgF,EAAGxE,EAAGwG,GAC9BtF,KAAKsD,EAAIA,EACTtD,KAAKlB,EAAIA,EACTkB,KAAKsF,EAAIA,EAGXs+E,EAAUvmF,UAAY,CACpBkD,YAAaqjF,EACbpiF,MAAO,SAAS8B,GACd,OAAa,IAANA,EAAUtD,KAAO,IAAI4jF,EAAU5jF,KAAKsD,EAAIA,EAAGtD,KAAKlB,EAAGkB,KAAKsF,IAEjEknB,UAAW,SAAS1tB,EAAGwG,GACrB,OAAa,IAANxG,EAAgB,IAANwG,EAAUtF,KAAO,IAAI4jF,EAAU5jF,KAAKsD,EAAGtD,KAAKlB,EAAIkB,KAAKsD,EAAIxE,EAAGkB,KAAKsF,EAAItF,KAAKsD,EAAIgC,IAEjG3D,MAAO,SAASgZ,GACd,MAAO,CAACA,EAAM,GAAK3a,KAAKsD,EAAItD,KAAKlB,EAAG6b,EAAM,GAAK3a,KAAKsD,EAAItD,KAAKsF,IAE/Du+E,OAAQ,SAAS/kF,GACf,OAAOA,EAAIkB,KAAKsD,EAAItD,KAAKlB,GAE3BglF,OAAQ,SAASx+E,GACf,OAAOA,EAAItF,KAAKsD,EAAItD,KAAKsF,GAE3BD,OAAQ,SAASmrC,GACf,MAAO,EAAEA,EAAS,GAAKxwC,KAAKlB,GAAKkB,KAAKsD,GAAIktC,EAAS,GAAKxwC,KAAKsF,GAAKtF,KAAKsD,IAEzEygF,QAAS,SAASjlF,GAChB,OAAQA,EAAIkB,KAAKlB,GAAKkB,KAAKsD,GAE7B0gF,QAAS,SAAS1+E,GAChB,OAAQA,EAAItF,KAAKsF,GAAKtF,KAAKsD,GAE7B2gF,SAAU,SAASnlF,GACjB,OAAOA,EAAE4C,OAAO7B,OAAOf,EAAEgB,QAAQI,IAAIF,KAAK+jF,QAAS/jF,MAAME,IAAIpB,EAAEuG,OAAQvG,KAEzEolF,SAAU,SAAS5+E,GACjB,OAAOA,EAAE5D,OAAO7B,OAAOyF,EAAExF,QAAQI,IAAIF,KAAKgkF,QAAShkF,MAAME,IAAIoF,EAAED,OAAQC,KAEzEzB,SAAU,WACR,MAAO,aAAe7D,KAAKlB,EAAI,IAAMkB,KAAKsF,EAAI,WAAatF,KAAKsD,EAAI,MAIjE,IAAIU,EAAW,IAAI4/E,EAAU,EAAG,EAAG,GCzCnC,SAAS,IACd,IAAM3B,2BD0Cc2B,EAAUvmF,UCvCjB,iBACb,IAAMw3C,iBACN,IAAMotC,4BCGR,SAASkC,IACP,OAAQ,IAAMC,UAAY,IAAMC,OAGlC,SAASC,IACP,IAAI96E,EAAIxJ,KACR,OAAIwJ,aAAa+6E,YACf/6E,EAAIA,EAAEw5E,iBAAmBx5E,GACnBg7E,aAAa,WAEV,CAAC,EADRh7E,EAAIA,EAAEm7C,QAAQn3B,SACH1uB,EAAG0K,EAAElE,GAAI,CAACkE,EAAE1K,EAAI0K,EAAEtD,MAAOsD,EAAElE,EAAIkE,EAAEwqC,SAEvC,CAAC,CAAC,EAAG,GAAI,CAACxqC,EAAEtD,MAAMsnB,QAAQ9wB,MAAO8M,EAAEwqC,OAAOxmB,QAAQ9wB,QAEpD,CAAC,CAAC,EAAG,GAAI,CAAC8M,EAAEugD,YAAavgD,EAAEwgD,eAGpC,SAASy6B,IACP,OAAOzkF,KAAK0kF,QAAU1gF,EAGxB,SAAS2gF,IACP,OAAQ,IAAM1iB,QAA8B,IAApB,IAAM2iB,UAAkB,IAAO,IAAMA,UAAY,EAAI,MAG/E,SAASC,IACP,OAAOC,UAAUC,gBAAmB,iBAAkB/kF,KAGxD,SAASglF,EAAiBhgF,EAAW03C,EAAQuoC,GAC3C,IAAI3iD,EAAMt9B,EAAU++E,QAAQrnC,EAAO,GAAG,IAAMuoC,EAAgB,GAAG,GAC3DziD,EAAMx9B,EAAU++E,QAAQrnC,EAAO,GAAG,IAAMuoC,EAAgB,GAAG,GAC3D1iD,EAAMv9B,EAAUg/E,QAAQtnC,EAAO,GAAG,IAAMuoC,EAAgB,GAAG,GAC3DxiD,EAAMz9B,EAAUg/E,QAAQtnC,EAAO,GAAG,IAAMuoC,EAAgB,GAAG,GAC/D,OAAOjgF,EAAUwnB,UACfgW,EAAMF,GAAOA,EAAME,GAAO,EAAI3kC,KAAKwB,IAAI,EAAGijC,IAAQzkC,KAAKuB,IAAI,EAAGojC,GAC9DC,EAAMF,GAAOA,EAAME,GAAO,EAAI5kC,KAAKwB,IAAI,EAAGkjC,IAAQ1kC,KAAKuB,IAAI,EAAGqjC,IAInD,iBACb,IAUIyiD,EACAC,EAXAj5E,EAASi4E,EACTznC,EAAS4nC,EACTc,EAAYJ,EACZK,EAAaV,EACbW,EAAYT,EACZtpB,EAAc,CAAC,EAAGjyD,KAClB27E,EAAkB,CAAC,EAAE37E,KAAWA,KAAW,CAACA,IAAUA,MACtDyhB,EAAW,IACX1mB,EAAc,EACdkhF,EAAY,OAAAp7D,EAAA,GAAS,QAAS,OAAQ,OAKtCq7D,EAAiB,EAErB,SAASpqB,EAAK7qC,GACZA,EACKnzB,SAAS,SAAUqnF,GACnB75D,GAAG,aAAc66D,GACjB76D,GAAG,iBAAkB86D,GACrB96D,GAAG,gBAAiB+6D,GACtBz5E,OAAOo5E,GACL16D,GAAG,kBAAmBg7D,GACtBh7D,GAAG,iBAAkBi7D,GACrBj7D,GAAG,iCAAkCk7D,GACrCh5D,MAAM,eAAgB,QACtBA,MAAM,8BAA+B,iBA0D5C,SAAStrB,EAAMwD,EAAW1B,GAExB,OADAA,EAAIzF,KAAKuB,IAAIm8D,EAAY,GAAI19D,KAAKwB,IAAIk8D,EAAY,GAAIj4D,OACzC0B,EAAU1B,EAAI0B,EAAY,IAAI4+E,EAAUtgF,EAAG0B,EAAUlG,EAAGkG,EAAUM,GAGjF,SAASknB,EAAUxnB,EAAW6+B,EAAIC,GAChC,IAAIhlC,EAAI+kC,EAAG,GAAKC,EAAG,GAAK9+B,EAAU1B,EAAGgC,EAAIu+B,EAAG,GAAKC,EAAG,GAAK9+B,EAAU1B,EACnE,OAAOxE,IAAMkG,EAAUlG,GAAKwG,IAAMN,EAAUM,EAAIN,EAAY,IAAI4+E,EAAU5+E,EAAU1B,EAAGxE,EAAGwG,GAG5F,SAASg/B,EAASoY,GAChB,MAAO,GAAGA,EAAO,GAAG,KAAMA,EAAO,GAAG,IAAM,IAAKA,EAAO,GAAG,KAAMA,EAAO,GAAG,IAAM,GAGjF,SAASvxB,EAAS8C,EAAYjpB,EAAW2V,GACvCsT,EACKrD,GAAG,cAAc,WAAam7D,EAAQ/lF,KAAMD,WAAWwC,WACvDqoB,GAAG,2BAA2B,WAAam7D,EAAQ/lF,KAAMD,WAAWoM,SACpEue,MAAM,QAAQ,WACb,IAAIgJ,EAAO1zB,KACPgvE,EAAOjvE,UACPyH,EAAIu+E,EAAQryD,EAAMs7C,GAClBxlE,EAAIkzC,EAAO/6C,MAAM+xB,EAAMs7C,GACvBzxE,EAAa,MAATod,EAAgB2pB,EAAS96B,GAAsB,mBAAVmR,EAAuBA,EAAMhZ,MAAM+xB,EAAMs7C,GAAQr0D,EAC1F1K,EAAIpS,KAAKuB,IAAIoK,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAIA,EAAE,GAAG,GAAKA,EAAE,GAAG,IAC/C5G,EAAI8wB,EAAKgxD,OACT/hF,EAAyB,mBAAdqC,EAA2BA,EAAUrD,MAAM+xB,EAAMs7C,GAAQhqE,EACpEvJ,EAAI4I,EAAYzB,EAAEyC,OAAO9H,GAAG44B,OAAOlmB,EAAIrN,EAAEU,GAAIX,EAAE0C,OAAO9H,GAAG44B,OAAOlmB,EAAItN,EAAEW,IAC1E,OAAO,SAAS3G,GACd,GAAU,IAANA,EAASA,EAAIgG,MACZ,CAAE,IAAIjH,EAAID,EAAEkB,GAAI2G,EAAI2M,EAAIvU,EAAE,GAAIiB,EAAI,IAAIinF,EAAUtgF,EAAG/F,EAAE,GAAK7B,EAAE,GAAK4H,EAAG/F,EAAE,GAAK7B,EAAE,GAAK4H,GACvFkE,EAAE4zD,KAAK,KAAMz+D,OAKvB,SAASopF,EAAQryD,EAAMs7C,EAAMiI,GAC3B,OAASA,GAASvjD,EAAKsyD,WAAc,IAAIC,EAAQvyD,EAAMs7C,GAGzD,SAASiX,EAAQvyD,EAAMs7C,GACrBhvE,KAAK0zB,KAAOA,EACZ1zB,KAAKgvE,KAAOA,EACZhvE,KAAKwrB,OAAS,EACdxrB,KAAK08C,OAASA,EAAO/6C,MAAM+xB,EAAMs7C,GACjChvE,KAAKkmF,KAAO,EA+Bd,SAAST,IACP,GAAKv5E,EAAOvK,MAAM3B,KAAMD,WAAxB,CACA,IAAIyH,EAAIu+E,EAAQ/lF,KAAMD,WAClBpD,EAAIqD,KAAK0kF,OACTphF,EAAIzF,KAAKuB,IAAIm8D,EAAY,GAAI19D,KAAKwB,IAAIk8D,EAAY,GAAI5+D,EAAE2G,EAAIzF,KAAKc,IAAI,EAAG0mF,EAAW1jF,MAAM3B,KAAMD,cAC/FxC,EAAI4oF,EAAMnmF,MAId,GAAIwH,EAAE4+E,MACA5+E,EAAE2+E,MAAM,GAAG,KAAO5oF,EAAE,IAAMiK,EAAE2+E,MAAM,GAAG,KAAO5oF,EAAE,KAChDiK,EAAE2+E,MAAM,GAAKxpF,EAAE0I,OAAOmC,EAAE2+E,MAAM,GAAK5oF,IAErCssB,aAAariB,EAAE4+E,WAIZ,IAAIzpF,EAAE2G,IAAMA,EAAG,OAIlBkE,EAAE2+E,MAAQ,CAAC5oF,EAAGZ,EAAE0I,OAAO9H,IACvB,YAAUyC,MACVwH,EAAEjF,QAGJ,IACAiF,EAAE4+E,MAAQv9D,WAAWw9D,EA/KN,KAgLf7+E,EAAE4zD,KAAK,QAASgqB,EAAU54D,EAAUhrB,EAAM7E,EAAG2G,GAAIkE,EAAE2+E,MAAM,GAAI3+E,EAAE2+E,MAAM,IAAK3+E,EAAEk1C,OAAQuoC,IAEpF,SAASoB,IACP7+E,EAAE4+E,MAAQ,KACV5+E,EAAE2E,OAIN,SAASu5E,IACP,IAAIP,GAAgBj5E,EAAOvK,MAAM3B,KAAMD,WAAvC,CACA,IAAIyH,EAAIu+E,EAAQ/lF,KAAMD,WAAW,GAC7BsL,EAAI,YAAO,IAAMsmD,MAAM/mC,GAAG,iBAAkB07D,GAAY,GAAM17D,GAAG,eAAgB27D,GAAY,GAC7FhpF,EAAI4oF,EAAMnmF,MACVkK,EAAK,IAAM4qC,QACXpU,EAAK,IAAMqU,QAEf,EAAY,IAAM4c,MAClB,IACAnqD,EAAE2+E,MAAQ,CAAC5oF,EAAGyC,KAAK0kF,OAAOr/E,OAAO9H,IACjC,YAAUyC,MACVwH,EAAEjF,QAEF,SAAS+jF,IAEP,GADA,KACK9+E,EAAEg/E,MAAO,CACZ,IAAIzkD,EAAK,IAAM+S,QAAU5qC,EAAI83B,EAAK,IAAM+S,QAAUrU,EAClDl5B,EAAEg/E,MAAQzkD,EAAKA,EAAKC,EAAKA,EAAKwjD,EAEhCh+E,EAAE4zD,KAAK,QAASgqB,EAAU54D,EAAUhlB,EAAEksB,KAAKgxD,OAAQl9E,EAAE2+E,MAAM,GAAKA,EAAM3+E,EAAEksB,MAAOlsB,EAAE2+E,MAAM,IAAK3+E,EAAEk1C,OAAQuoC,IAGxG,SAASsB,IACPl7E,EAAEuf,GAAG,8BAA+B,MACpC,EAAW,IAAM+mC,KAAMnqD,EAAEg/E,OACzB,IACAh/E,EAAE2E,OAIN,SAASw5E,IACP,GAAKz5E,EAAOvK,MAAM3B,KAAMD,WAAxB,CACA,IAAI8X,EAAK7X,KAAK0kF,OACV7gD,EAAKsiD,EAAMnmF,MACX8jC,EAAKjsB,EAAGxS,OAAOw+B,GACf4iD,EAAK5uE,EAAGvU,GAAK,IAAMojF,SAAW,GAAM,GACpC5uE,EAAKstE,EAAU54D,EAAUhrB,EAAMqW,EAAI4uE,GAAK5iD,EAAIC,GAAK4Y,EAAO/6C,MAAM3B,KAAMD,WAAYklF,GAEpF,IACIl6D,EAAW,EAAG,YAAO/qB,MAAMiuB,aAAalD,SAASA,GAAUnvB,KAAKuvB,EAAUrT,EAAI+rB,GAC7E,YAAO7jC,MAAMpE,KAAKw/D,EAAKp2D,UAAW8S,IAGzC,SAAS8tE,IACP,GAAK15E,EAAOvK,MAAM3B,KAAMD,WAAxB,CACA,IAGI4mF,EAASlrF,EAAGkB,EAAGY,EAHfkmF,EAAU,IAAMA,QAChBvmF,EAAIumF,EAAQlkF,OACZiI,EAAIu+E,EAAQ/lF,KAAMD,UAAW,IAAMwjF,eAAehkF,SAAWrC,GAIjE,IADA,IACKzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBkB,EAAI8mF,EAAQhoF,GACZ8B,EAAI,CADYA,EAAI,EAAMyC,KAAMyjF,EAAS9mF,EAAE6mF,YACnCxjF,KAAK0kF,OAAOr/E,OAAO9H,GAAIZ,EAAE6mF,YAC5Bh8E,EAAEo/E,OACGp/E,EAAEq/E,QAAUr/E,EAAEo/E,OAAO,KAAOrpF,EAAE,KAAIiK,EAAEq/E,OAAStpF,EAAGiK,EAAE0+E,KAAO,IADpD1+E,EAAEo/E,OAASrpF,EAAGopF,GAAU,EAAMn/E,EAAE0+E,KAAO,IAAMhB,GAI1DA,IAAeA,EAAgBr7D,aAAaq7D,IAE5CyB,IACEn/E,EAAE0+E,KAAO,IAAGhB,EAAgBr8D,YAAW,WAAaq8D,EAAgB,OAvP3D,MAwPb,YAAUllF,MACVwH,EAAEjF,UAIN,SAASsjF,IACP,GAAK7lF,KAAKgmF,UAAV,CACA,IAEwBvqF,EAAGkB,EAAGY,EAAG7B,EAF7B8L,EAAIu+E,EAAQ/lF,KAAMD,WAClB0jF,EAAU,IAAMF,eAChBrmF,EAAIumF,EAAQlkF,OAKhB,IAHA,IACI2lF,IAAeA,EAAgBr7D,aAAaq7D,IAChD19E,EAAE0+E,KAAO,EACJzqF,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBkB,EAAI8mF,EAAQhoF,GAAI8B,EAAI,EAAMyC,KAAMyjF,EAAS9mF,EAAE6mF,YACvCh8E,EAAEo/E,QAAUp/E,EAAEo/E,OAAO,KAAOjqF,EAAE6mF,WAAYh8E,EAAEo/E,OAAO,GAAKrpF,EACnDiK,EAAEq/E,QAAUr/E,EAAEq/E,OAAO,KAAOlqF,EAAE6mF,aAAYh8E,EAAEq/E,OAAO,GAAKtpF,GAGnE,GADAZ,EAAI6K,EAAEksB,KAAKgxD,OACPl9E,EAAEq/E,OAAQ,CACZ,IAAIhjD,EAAKr8B,EAAEo/E,OAAO,GAAIE,EAAKt/E,EAAEo/E,OAAO,GAChC9iD,EAAKt8B,EAAEq/E,OAAO,GAAIE,EAAKv/E,EAAEq/E,OAAO,GAChCn6C,GAAMA,EAAK5I,EAAG,GAAKD,EAAG,IAAM6I,GAAMA,EAAK5I,EAAG,GAAKD,EAAG,IAAM6I,EACxDs6C,GAAMA,EAAKD,EAAG,GAAKD,EAAG,IAAME,GAAMA,EAAKD,EAAG,GAAKD,EAAG,IAAME,EAC5DrqF,EAAI6E,EAAM7E,EAAGkB,KAAKkB,KAAK2tC,EAAKs6C,IAC5BzpF,EAAI,EAAEsmC,EAAG,GAAKC,EAAG,IAAM,GAAID,EAAG,GAAKC,EAAG,IAAM,GAC5CpoC,EAAI,EAAEorF,EAAG,GAAKC,EAAG,IAAM,GAAID,EAAG,GAAKC,EAAG,IAAM,OAEzC,KAAIv/E,EAAEo/E,OACN,OADcrpF,EAAIiK,EAAEo/E,OAAO,GAAIlrF,EAAI8L,EAAEo/E,OAAO,GAEjDp/E,EAAE4zD,KAAK,QAASgqB,EAAU54D,EAAU7vB,EAAGY,EAAG7B,GAAI8L,EAAEk1C,OAAQuoC,KAG1D,SAASa,IACP,GAAK9lF,KAAKgmF,UAAV,CACA,IAEwBvqF,EAAGkB,EAFvB6K,EAAIu+E,EAAQ/lF,KAAMD,WAClB0jF,EAAU,IAAMF,eAChBrmF,EAAIumF,EAAQlkF,OAKhB,IAHA,IACI4lF,GAAat7D,aAAas7D,GAC9BA,EAAct8D,YAAW,WAAas8D,EAAc,OAlSrC,KAmSV1pF,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBkB,EAAI8mF,EAAQhoF,GACR+L,EAAEo/E,QAAUp/E,EAAEo/E,OAAO,KAAOjqF,EAAE6mF,kBAAmBh8E,EAAEo/E,OAC9Cp/E,EAAEq/E,QAAUr/E,EAAEq/E,OAAO,KAAOlqF,EAAE6mF,mBAAmBh8E,EAAEq/E,OAG9D,GADIr/E,EAAEq/E,SAAWr/E,EAAEo/E,SAAQp/E,EAAEo/E,OAASp/E,EAAEq/E,cAAer/E,EAAEq/E,QACrDr/E,EAAEo/E,OAAQp/E,EAAEo/E,OAAO,GAAK5mF,KAAK0kF,OAAOr/E,OAAOmC,EAAEo/E,OAAO,SAItD,GAFAp/E,EAAE2E,MAEa,IAAX3E,EAAE0+E,KAAY,CAChB,IAAI3oF,EAAI,YAAOyC,MAAM4qB,GAAG,iBACpBrtB,GAAGA,EAAEoE,MAAM3B,KAAMD,aAkD3B,OA/UAq7D,EAAKp2D,UAAY,SAASyqE,EAAYzqE,EAAW2V,GAC/C,IAAI4V,EAAYk/C,EAAWl/C,UAAYk/C,EAAWl/C,YAAck/C,EAChEl/C,EAAUnzB,SAAS,SAAUqnF,GACzBhV,IAAel/C,EACjBpF,EAASskD,EAAYzqE,EAAW2V,GAEhC4V,EAAUwD,YAAY3zB,MAAK,WACzB2lF,EAAQ/lF,KAAMD,WACTwC,QACA64D,KAAK,KAA2B,mBAAdp2D,EAA2BA,EAAUrD,MAAM3B,KAAMD,WAAaiF,GAChFmH,UAKXivD,EAAK6rB,QAAU,SAAS12D,EAAWjtB,EAAG/F,GACpC69D,EAAK8rB,QAAQ32D,GAAW,WACtB,IAAI42D,EAAKnnF,KAAK0kF,OAAOphF,EACjBmjF,EAAkB,mBAANnjF,EAAmBA,EAAE3B,MAAM3B,KAAMD,WAAauD,EAC9D,OAAO6jF,EAAKV,IACXlpF,IAGL69D,EAAK8rB,QAAU,SAAS32D,EAAWjtB,EAAG/F,GACpC69D,EAAKp2D,UAAUurB,GAAW,WACxB,IAAI/mB,EAAIkzC,EAAO/6C,MAAM3B,KAAMD,WACvB8X,EAAK7X,KAAK0kF,OACV7gD,EAAU,MAALtmC,EAAY+mC,EAAS96B,GAAkB,mBAANjM,EAAmBA,EAAEoE,MAAM3B,KAAMD,WAAaxC,EACpFumC,EAAKjsB,EAAGxS,OAAOw+B,GACf4iD,EAAkB,mBAANnjF,EAAmBA,EAAE3B,MAAM3B,KAAMD,WAAauD,EAC9D,OAAO8hF,EAAU54D,EAAUhrB,EAAMqW,EAAI4uE,GAAK5iD,EAAIC,GAAKt6B,EAAGy7E,KACrD1nF,IAGL69D,EAAKgsB,YAAc,SAAS72D,EAAWzxB,EAAGwG,GACxC81D,EAAKp2D,UAAUurB,GAAW,WACxB,OAAO60D,EAAUplF,KAAK0kF,OAAOl4D,UACd,mBAAN1tB,EAAmBA,EAAE6C,MAAM3B,KAAMD,WAAajB,EACxC,mBAANwG,EAAmBA,EAAE3D,MAAM3B,KAAMD,WAAauF,GACpDo3C,EAAO/6C,MAAM3B,KAAMD,WAAYklF,OAItC7pB,EAAKisB,YAAc,SAAS92D,EAAWzxB,EAAGwG,EAAG/H,GAC3C69D,EAAKp2D,UAAUurB,GAAW,WACxB,IAAI/mB,EAAIkzC,EAAO/6C,MAAM3B,KAAMD,WACvBpD,EAAIqD,KAAK0kF,OACT7gD,EAAU,MAALtmC,EAAY+mC,EAAS96B,GAAkB,mBAANjM,EAAmBA,EAAEoE,MAAM3B,KAAMD,WAAaxC,EACxF,OAAO6nF,EAAUphF,EAASwoB,UAAUqX,EAAG,GAAIA,EAAG,IAAIriC,MAAM7E,EAAE2G,GAAGkpB,UAC9C,mBAAN1tB,GAAoBA,EAAE6C,MAAM3B,KAAMD,YAAcjB,EAC1C,mBAANwG,GAAoBA,EAAE3D,MAAM3B,KAAMD,YAAcuF,GACtDkE,EAAGy7E,KACL1nF,IAmDL0oF,EAAQ5oF,UAAY,CAClBkF,MAAO,WAKL,OAJsB,KAAhBvC,KAAKwrB,SACTxrB,KAAK0zB,KAAKsyD,UAAYhmF,KACtBA,KAAKsnF,KAAK,UAELtnF,MAETo7D,KAAM,SAASp+D,EAAKgI,GAMlB,OALIhF,KAAKmmF,OAAiB,UAARnpF,IAAiBgD,KAAKmmF,MAAM,GAAKnhF,EAAUK,OAAOrF,KAAKmmF,MAAM,KAC3EnmF,KAAK4mF,QAAkB,UAAR5pF,IAAiBgD,KAAK4mF,OAAO,GAAK5hF,EAAUK,OAAOrF,KAAK4mF,OAAO,KAC9E5mF,KAAK6mF,QAAkB,UAAR7pF,IAAiBgD,KAAK6mF,OAAO,GAAK7hF,EAAUK,OAAOrF,KAAK6mF,OAAO,KAClF7mF,KAAK0zB,KAAKgxD,OAAS1/E,EACnBhF,KAAKsnF,KAAK,QACHtnF,MAETmM,IAAK,WAKH,OAJsB,KAAhBnM,KAAKwrB,gBACFxrB,KAAK0zB,KAAKsyD,UACjBhmF,KAAKsnF,KAAK,QAELtnF,MAETsnF,KAAM,SAAShhF,GACb,YAAY,IAAIq9E,EAAUvoB,EAAM90D,EAAMtG,KAAK0zB,KAAKgxD,QAASa,EAAU5jF,MAAO4jF,EAAW,CAACj/E,EAAMtG,KAAK0zB,KAAM1zB,KAAKgvE,SAmKhH5T,EAAKiqB,WAAa,SAAS5jF,GACzB,OAAO1B,UAAUR,QAAU8lF,EAA0B,mBAAN5jF,EAAmBA,EAAI8B,GAAU9B,GAAI25D,GAAQiqB,GAG9FjqB,EAAKlvD,OAAS,SAASzK,GACrB,OAAO1B,UAAUR,QAAU2M,EAAsB,mBAANzK,EAAmBA,EAAI8B,IAAW9B,GAAI25D,GAAQlvD,GAG3FkvD,EAAKkqB,UAAY,SAAS7jF,GACxB,OAAO1B,UAAUR,QAAU+lF,EAAyB,mBAAN7jF,EAAmBA,EAAI8B,IAAW9B,GAAI25D,GAAQkqB,GAG9FlqB,EAAK1e,OAAS,SAASj7C,GACrB,OAAO1B,UAAUR,QAAUm9C,EAAsB,mBAANj7C,EAAmBA,EAAI8B,EAAS,CAAC,EAAE9B,EAAE,GAAG,IAAKA,EAAE,GAAG,IAAK,EAAEA,EAAE,GAAG,IAAKA,EAAE,GAAG,MAAO25D,GAAQ1e,GAGpI0e,EAAKG,YAAc,SAAS95D,GAC1B,OAAO1B,UAAUR,QAAUg8D,EAAY,IAAM95D,EAAE,GAAI85D,EAAY,IAAM95D,EAAE,GAAI25D,GAAQ,CAACG,EAAY,GAAIA,EAAY,KAGlHH,EAAK6pB,gBAAkB,SAASxjF,GAC9B,OAAO1B,UAAUR,QAAU0lF,EAAgB,GAAG,IAAMxjF,EAAE,GAAG,GAAIwjF,EAAgB,GAAG,IAAMxjF,EAAE,GAAG,GAAIwjF,EAAgB,GAAG,IAAMxjF,EAAE,GAAG,GAAIwjF,EAAgB,GAAG,IAAMxjF,EAAE,GAAG,GAAI25D,GAAQ,CAAC,CAAC6pB,EAAgB,GAAG,GAAIA,EAAgB,GAAG,IAAK,CAACA,EAAgB,GAAG,GAAIA,EAAgB,GAAG,MAGzQ7pB,EAAKgqB,UAAY,SAAS3jF,GACxB,OAAO1B,UAAUR,QAAU6lF,EAAY3jF,EAAG25D,GAAQgqB,GAGpDhqB,EAAKrwC,SAAW,SAAStpB,GACvB,OAAO1B,UAAUR,QAAUwrB,GAAYtpB,EAAG25D,GAAQrwC,GAGpDqwC,EAAK/2D,YAAc,SAAS5C,GAC1B,OAAO1B,UAAUR,QAAU8E,EAAc5C,EAAG25D,GAAQ/2D,GAGtD+2D,EAAKxwC,GAAK,WACR,IAAIluB,EAAQ6oF,EAAU36D,GAAGjpB,MAAM4jF,EAAWxlF,WAC1C,OAAOrD,IAAU6oF,EAAYnqB,EAAO1+D,GAGtC0+D,EAAKmsB,cAAgB,SAAS9lF,GAC5B,OAAO1B,UAAUR,QAAUimF,GAAkB/jF,GAAKA,GAAKA,EAAG25D,GAAQv9D,KAAKkB,KAAKymF,IAGvEpqB,I,gBCjaT5/D,EAAOD,QAAU,EAAQ,K,6HCAV,cACb,OAAO,IAAIkE,MAAM4xC,EAAO9xC,SCMnB,SAASioF,EAAUz/D,EAAQoyC,GAChCn6D,KAAK4tE,cAAgB7lD,EAAO6lD,cAC5B5tE,KAAKynF,aAAe1/D,EAAO0/D,aAC3BznF,KAAKkpB,MAAQ,KACblpB,KAAK0nF,QAAU3/D,EACf/nB,KAAK6qB,SAAWsvC,EAGlBqtB,EAAUnqF,UAAY,CACpBkD,YAAainF,EACbx6D,YAAa,SAASgF,GAAS,OAAOhyB,KAAK0nF,QAAQC,aAAa31D,EAAOhyB,KAAKkpB,QAC5Ey+D,aAAc,SAAS31D,EAAOy3C,GAAQ,OAAOzpE,KAAK0nF,QAAQC,aAAa31D,EAAOy3C,IAC9ExM,cAAe,SAASvrC,GAAY,OAAO1xB,KAAK0nF,QAAQzqB,cAAcvrC,IACtEk2D,iBAAkB,SAASl2D,GAAY,OAAO1xB,KAAK0nF,QAAQE,iBAAiBl2D,KCd9E,SAASm2D,EAAU9/D,EAAQ5gB,EAAOmuB,EAAO+b,EAAQjc,EAAMH,GASrD,IARA,IACI3K,EADA7uB,EAAI,EAEJqsF,EAAc3gF,EAAM5H,OACpBwoF,EAAa9yD,EAAK11B,OAKf9D,EAAIssF,IAActsF,GACnB6uB,EAAOnjB,EAAM1L,KACf6uB,EAAKO,SAAWoK,EAAKx5B,GACrB41C,EAAO51C,GAAK6uB,GAEZgL,EAAM75B,GAAK,IAAI+rF,EAAUz/D,EAAQkN,EAAKx5B,IAK1C,KAAOA,EAAIqsF,IAAersF,GACpB6uB,EAAOnjB,EAAM1L,MACf25B,EAAK35B,GAAK6uB,GAKhB,SAAS09D,EAAQjgE,EAAQ5gB,EAAOmuB,EAAO+b,EAAQjc,EAAMH,EAAMj4B,GACzD,IAAIvB,EACA6uB,EAKA29D,EAJAC,EAAiB,GACjBJ,EAAc3gF,EAAM5H,OACpBwoF,EAAa9yD,EAAK11B,OAClB4oF,EAAY,IAAI1oF,MAAMqoF,GAK1B,IAAKrsF,EAAI,EAAGA,EAAIqsF,IAAersF,GACzB6uB,EAAOnjB,EAAM1L,MACf0sF,EAAU1sF,GAAKwsF,EAzCL,IAyC4BjrF,EAAIpB,KAAK0uB,EAAMA,EAAKO,SAAUpvB,EAAG0L,GACnE8gF,KAAYC,EACd9yD,EAAK35B,GAAK6uB,EAEV49D,EAAeD,GAAY39D,GAQjC,IAAK7uB,EAAI,EAAGA,EAAIssF,IAActsF,GAExB6uB,EAAO49D,EADXD,EAtDY,IAsDWjrF,EAAIpB,KAAKmsB,EAAQkN,EAAKx5B,GAAIA,EAAGw5B,MAElDoc,EAAO51C,GAAK6uB,EACZA,EAAKO,SAAWoK,EAAKx5B,GACrBysF,EAAeD,GAAY,MAE3B3yD,EAAM75B,GAAK,IAAI+rF,EAAUz/D,EAAQkN,EAAKx5B,IAK1C,IAAKA,EAAI,EAAGA,EAAIqsF,IAAersF,GACxB6uB,EAAOnjB,EAAM1L,KAAQysF,EAAeC,EAAU1sF,MAAQ6uB,IACzD8K,EAAK35B,GAAK6uB,GClDhB,SAASjS,EAAUzV,EAAGD,GACpB,OAAOC,EAAID,GAAK,EAAIC,EAAID,EAAI,EAAIC,GAAKD,EAAI,EAAIuB,ICtBhC,I,QCEf,SAASiqB,EAAWnyB,GAClB,OAAO,WACLgE,KAAKouB,gBAAgBpyB,IAIzB,SAASqyB,EAAaC,GACpB,OAAO,WACLtuB,KAAKuuB,kBAAkBD,EAASE,MAAOF,EAASG,QAIpD,SAASC,EAAa1yB,EAAMU,GAC1B,OAAO,WACLsD,KAAKutB,aAAavxB,EAAMU,IAI5B,SAASuyB,EAAeX,EAAU5xB,GAChC,OAAO,WACLsD,KAAKwvB,eAAelB,EAASE,MAAOF,EAASG,MAAO/xB,IAIxD,SAASyyB,EAAanzB,EAAMU,GAC1B,OAAO,WACL,IAAI2O,EAAI3O,EAAMiF,MAAM3B,KAAMD,WACjB,MAALsL,EAAWrL,KAAKouB,gBAAgBpyB,GAC/BgE,KAAKutB,aAAavxB,EAAMqP,IAIjC,SAASgkB,EAAef,EAAU5xB,GAChC,OAAO,WACL,IAAI2O,EAAI3O,EAAMiF,MAAM3B,KAAMD,WACjB,MAALsL,EAAWrL,KAAKuuB,kBAAkBD,EAASE,MAAOF,EAASG,OAC1DzuB,KAAKwvB,eAAelB,EAASE,MAAOF,EAASG,MAAOpjB,IAI9C,I,QC1Cf,SAAS+8E,EAAepsF,GACtB,OAAO,kBACEgE,KAAKhE,IAIhB,SAASqsF,EAAiBrsF,EAAMU,GAC9B,OAAO,WACLsD,KAAKhE,GAAQU,GAIjB,SAAS4rF,EAAiBtsF,EAAMU,GAC9B,OAAO,WACL,IAAI2O,EAAI3O,EAAMiF,MAAM3B,KAAMD,WACjB,MAALsL,SAAkBrL,KAAKhE,GACtBgE,KAAKhE,GAAQqP,GChBtB,SAASk9E,EAAW74E,GAClB,OAAOA,EAAOrJ,OAAO8mB,MAAM,SAG7B,SAASq7D,EAAUl+D,GACjB,OAAOA,EAAKk+D,WAAa,IAAIC,EAAUn+D,GAGzC,SAASm+D,EAAUn+D,GACjBtqB,KAAK0oF,MAAQp+D,EACbtqB,KAAK2oF,OAASJ,EAAWj+D,EAAK0E,aAAa,UAAY,IAuBzD,SAAS45D,EAAWt+D,EAAMza,GAExB,IADA,IAAIg5E,EAAOL,EAAUl+D,GAAO7uB,GAAK,EAAGyB,EAAI2S,EAAMtQ,SACrC9D,EAAIyB,GAAG2rF,EAAK1nF,IAAI0O,EAAMpU,IAGjC,SAASqtF,EAAcx+D,EAAMza,GAE3B,IADA,IAAIg5E,EAAOL,EAAUl+D,GAAO7uB,GAAK,EAAGyB,EAAI2S,EAAMtQ,SACrC9D,EAAIyB,GAAG2rF,EAAKpoF,OAAOoP,EAAMpU,IAGpC,SAASstF,EAAYl5E,GACnB,OAAO,WACL+4E,EAAW5oF,KAAM6P,IAIrB,SAASm5E,EAAan5E,GACpB,OAAO,WACLi5E,EAAc9oF,KAAM6P,IAIxB,SAASo5E,EAAgBp5E,EAAOnT,GAC9B,OAAO,YACJA,EAAMiF,MAAM3B,KAAMD,WAAa6oF,EAAaE,GAAe9oF,KAAM6P,IA5CtE44E,EAAUprF,UAAY,CACpB8D,IAAK,SAASnF,GACJgE,KAAK2oF,OAAOliF,QAAQzK,GACpB,IACNgE,KAAK2oF,OAAO/nF,KAAK5E,GACjBgE,KAAK0oF,MAAMn7D,aAAa,QAASvtB,KAAK2oF,OAAO9hF,KAAK,QAGtDpG,OAAQ,SAASzE,GACf,IAAIP,EAAIuE,KAAK2oF,OAAOliF,QAAQzK,GACxBP,GAAK,IACPuE,KAAK2oF,OAAO76D,OAAOryB,EAAG,GACtBuE,KAAK0oF,MAAMn7D,aAAa,QAASvtB,KAAK2oF,OAAO9hF,KAAK,QAGtDqiF,SAAU,SAASltF,GACjB,OAAOgE,KAAK2oF,OAAOliF,QAAQzK,IAAS,IC7BxC,SAASmtF,IACPnpF,KAAK+wB,YAAc,GAGrB,SAASyC,EAAa92B,GACpB,OAAO,WACLsD,KAAK+wB,YAAcr0B,GAIvB,SAAS62B,EAAa72B,GACpB,OAAO,WACL,IAAI2O,EAAI3O,EAAMiF,MAAM3B,KAAMD,WAC1BC,KAAK+wB,YAAmB,MAAL1lB,EAAY,GAAKA,GCbxC,SAAS+9E,IACPppF,KAAKqpF,UAAY,GAGnB,SAASC,EAAa5sF,GACpB,OAAO,WACLsD,KAAKqpF,UAAY3sF,GAIrB,SAAS6sF,EAAa7sF,GACpB,OAAO,WACL,IAAI2O,EAAI3O,EAAMiF,MAAM3B,KAAMD,WAC1BC,KAAKqpF,UAAiB,MAALh+E,EAAY,GAAKA,GCbtC,SAAS2xD,IACHh9D,KAAKwpF,aAAaxpF,KAAKyzB,WAAWzG,YAAYhtB,MCDpD,SAASypF,IACHzpF,KAAK0pF,iBAAiB1pF,KAAKyzB,WAAWk0D,aAAa3nF,KAAMA,KAAKyzB,WAAWk2D,YAGhE,I,QCDf,SAASC,EAAe5tF,GACtB,OAAO,WACL,IAAI0wB,EAAW1sB,KAAK4tE,cAChBic,EAAM7pF,KAAKynF,aACf,OAAOoC,IAAQ,KAASn9D,EAASE,gBAAgB66D,eAAiB,IAC5D/6D,EAASC,cAAc3wB,GACvB0wB,EAASY,gBAAgBu8D,EAAK7tF,IAIxC,SAAS8tF,EAAax7D,GACpB,OAAO,WACL,OAAOtuB,KAAK4tE,cAActgD,gBAAgBgB,EAASE,MAAOF,EAASG,QAIxD,kBACb,IAAIH,EAAW,OAAAyE,EAAA,GAAU/2B,GACzB,OAAQsyB,EAASG,MACXq7D,EACAF,GAAgBt7D,ICpBxB,SAASy7D,IACP,OAAO,KCJT,SAAStpF,IACP,IAAIsnB,EAAS/nB,KAAKyzB,WACd1L,GAAQA,EAAOmF,YAAYltB,MCFjC,SAASgqF,IACP,IAAIC,EAAQjqF,KAAKkqF,WAAU,GAAQniE,EAAS/nB,KAAKyzB,WACjD,OAAO1L,EAASA,EAAO4/D,aAAasC,EAAOjqF,KAAKwpF,aAAeS,EAGjE,SAASE,IACP,IAAIF,EAAQjqF,KAAKkqF,WAAU,GAAOniE,EAAS/nB,KAAKyzB,WAChD,OAAO1L,EAASA,EAAO4/D,aAAasC,EAAOjqF,KAAKwpF,aAAeS,EAGlD,I,gBCRf,SAASG,EAAc9/D,EAAMhkB,EAAM+jF,GACjC,IAAI1hE,EAAS,YAAY2B,GACrB6I,EAAQxK,EAAO2hE,YAEE,mBAAVn3D,EACTA,EAAQ,IAAIA,EAAM7sB,EAAM+jF,IAExBl3D,EAAQxK,EAAO+D,SAAS69D,YAAY,SAChCF,GAAQl3D,EAAMq3D,UAAUlkF,EAAM+jF,EAAOI,QAASJ,EAAOK,YAAav3D,EAAMw3D,OAASN,EAAOM,QACvFx3D,EAAMq3D,UAAUlkF,GAAM,GAAO,IAGpCgkB,EAAK8/D,cAAcj3D,GAGrB,SAASy3D,EAAiBtkF,EAAM+jF,GAC9B,OAAO,WACL,OAAOD,EAAcpqF,KAAMsG,EAAM+jF,IAIrC,SAASQ,EAAiBvkF,EAAM+jF,GAC9B,OAAO,WACL,OAAOD,EAAcpqF,KAAMsG,EAAM+jF,EAAO1oF,MAAM3B,KAAMD,aAIzC,ICGJmkE,EAAO,CAAC,MAEZ,SAAS5zC,EAAUY,EAAQC,GAChCnxB,KAAKoxB,QAAUF,EACflxB,KAAKqxB,SAAWF,EAGlB,SAAS,IACP,OAAO,IAAIb,EAAU,CAAC,CAAC5D,SAASE,kBAAmBs3C,GAGrD5zC,EAAUjzB,UAAY,EAAUA,UAAY,CAC1CkD,YAAa+vB,EACbmB,OC1Ca,YACS,mBAAXA,IAAuBA,EAAS,OAAAC,EAAA,GAASD,IAEpD,IAAK,IAAIP,EAASlxB,KAAKoxB,QAASv1B,EAAIq1B,EAAO3xB,OAAQoyB,EAAY,IAAIlyB,MAAM5D,GAAI8I,EAAI,EAAGA,EAAI9I,IAAK8I,EAC3F,IAAK,IAAiF2lB,EAAMsH,EAAnFzqB,EAAQ+pB,EAAOvsB,GAAIzH,EAAIiK,EAAM5H,OAAQsyB,EAAWF,EAAUhtB,GAAK,IAAIlF,MAAMvC,GAAmBzB,EAAI,EAAGA,EAAIyB,IAAKzB,GAC9G6uB,EAAOnjB,EAAM1L,MAAQm2B,EAAUH,EAAO71B,KAAK0uB,EAAMA,EAAKO,SAAUpvB,EAAG0L,MAClE,aAAcmjB,IAAMsH,EAAQ/G,SAAWP,EAAKO,UAChDgH,EAASp2B,GAAKm2B,GAKpB,OAAO,IAAItB,EAAUqB,EAAW3xB,KAAKqxB,WD+BrCS,UE3Ca,YACS,mBAAXL,IAAuBA,EAAS,OAAAM,EAAA,GAAYN,IAEvD,IAAK,IAAIP,EAASlxB,KAAKoxB,QAASv1B,EAAIq1B,EAAO3xB,OAAQoyB,EAAY,GAAIR,EAAU,GAAIxsB,EAAI,EAAGA,EAAI9I,IAAK8I,EAC/F,IAAK,IAAyC2lB,EAArCnjB,EAAQ+pB,EAAOvsB,GAAIzH,EAAIiK,EAAM5H,OAAc9D,EAAI,EAAGA,EAAIyB,IAAKzB,GAC9D6uB,EAAOnjB,EAAM1L,MACfk2B,EAAU/wB,KAAK6wB,EAAO71B,KAAK0uB,EAAMA,EAAKO,SAAUpvB,EAAG0L,IACnDgqB,EAAQvwB,KAAK0pB,IAKnB,OAAO,IAAIgG,EAAUqB,EAAWR,IFgChCjlB,OG5Ca,YACQ,mBAAVvG,IAAsBA,EAAQ,OAAAwsB,EAAA,GAAQxsB,IAEjD,IAAK,IAAIurB,EAASlxB,KAAKoxB,QAASv1B,EAAIq1B,EAAO3xB,OAAQoyB,EAAY,IAAIlyB,MAAM5D,GAAI8I,EAAI,EAAGA,EAAI9I,IAAK8I,EAC3F,IAAK,IAAuE2lB,EAAnEnjB,EAAQ+pB,EAAOvsB,GAAIzH,EAAIiK,EAAM5H,OAAQsyB,EAAWF,EAAUhtB,GAAK,GAAUlJ,EAAI,EAAGA,EAAIyB,IAAKzB,GAC3F6uB,EAAOnjB,EAAM1L,KAAOkK,EAAM/J,KAAK0uB,EAAMA,EAAKO,SAAUpvB,EAAG0L,IAC1D0qB,EAASjxB,KAAK0pB,GAKpB,OAAO,IAAIgG,EAAUqB,EAAW3xB,KAAKqxB,WHkCrC4D,Kf4Ba,cACb,IAAKv4B,EAGH,OAFAu4B,EAAO,IAAIx1B,MAAMO,KAAKe,QAAS4D,GAAK,EACpC3E,KAAKI,MAAK,SAASrE,GAAKk5B,IAAOtwB,GAAK5I,KAC7Bk5B,EAGT,ImBnFa,EnBmFTh4B,EAAOD,EAAMgrF,EAAUH,EACvB12D,EAAUnxB,KAAKqxB,SACfH,EAASlxB,KAAKoxB,QAEG,mBAAV10B,ImBvFE,EnBuFqCA,EAAjBA,EmBtF1B,WACL,OAAOoC,InBuFT,IAAK,IAAIjD,EAAIq1B,EAAO3xB,OAAQ8xC,EAAS,IAAI5xC,MAAM5D,GAAIy5B,EAAQ,IAAI71B,MAAM5D,GAAIu5B,EAAO,IAAI31B,MAAM5D,GAAI8I,EAAI,EAAGA,EAAI9I,IAAK8I,EAAG,CAC/G,IAAIojB,EAASoJ,EAAQxsB,GACjBwC,EAAQ+pB,EAAOvsB,GACfmjF,EAAc3gF,EAAM5H,OACpB01B,EAAOv4B,EAAMd,KAAKmsB,EAAQA,GAAUA,EAAO8C,SAAUlmB,EAAGwsB,GACxD42D,EAAa9yD,EAAK11B,OAClBurF,EAAax1D,EAAM3wB,GAAK,IAAIlF,MAAMsoF,GAClCgD,EAAc15C,EAAO1sC,GAAK,IAAIlF,MAAMsoF,GAGxC9qF,EAAK8qB,EAAQ5gB,EAAO2jF,EAAYC,EAFhB31D,EAAKzwB,GAAK,IAAIlF,MAAMqoF,GAEoB7yD,EAAMj4B,GAK9D,IAAK,IAAoBiP,EAAUw9D,EAA1BtgE,EAAK,EAAGD,EAAK,EAAmBC,EAAK4+E,IAAc5+E,EAC1D,GAAI8C,EAAW6+E,EAAW3hF,GAAK,CAE7B,IADIA,GAAMD,IAAIA,EAAKC,EAAK,KACfsgE,EAAOshB,EAAY7hF,OAAUA,EAAK6+E,IAC3C97E,EAASid,MAAQugD,GAAQ,MAQ/B,OAHAp4B,EAAS,IAAI/gB,EAAU+gB,EAAQlgB,IACxB65D,OAAS11D,EAChB+b,EAAO45C,MAAQ71D,EACRic,GenEP/b,MhB9Ca,WACb,OAAO,IAAIhF,EAAUtwB,KAAKgrF,QAAUhrF,KAAKoxB,QAAQlxB,IAAIgrF,GAASlrF,KAAKqxB,WgB8CnE+D,KK/Ca,WACb,OAAO,IAAI9E,EAAUtwB,KAAKirF,OAASjrF,KAAKoxB,QAAQlxB,IAAIgrF,GAASlrF,KAAKqxB,WL+ClExqB,KMnDa,gBACb,IAAIyuB,EAAQt1B,KAAKs1B,QAAS+b,EAASrxC,KAAMo1B,EAAOp1B,KAAKo1B,OAIrD,OAHAE,EAA2B,mBAAZ61D,EAAyBA,EAAQ71D,GAASA,EAAMC,OAAO41D,EAAU,IAChE,MAAZC,IAAkB/5C,EAAS+5C,EAAS/5C,IAC1B,MAAVg6C,EAAgBj2D,EAAK30B,SAAe4qF,EAAOj2D,GACxCE,GAAS+b,EAAS/b,EAAMlD,MAAMif,GAAQnc,QAAUmc,GN+CvDjf,MOlDa,YAEb,IAAK,IAAIC,EAAUryB,KAAKoxB,QAASkB,EAAU/B,EAAUa,QAASmB,EAAKF,EAAQ9yB,OAAQ2nB,EAAKoL,EAAQ/yB,OAAQ1D,EAAIgC,KAAKwB,IAAIkzB,EAAIrL,GAAKsL,EAAS,IAAI/yB,MAAM8yB,GAAK5tB,EAAI,EAAGA,EAAI9I,IAAK8I,EACpK,IAAK,IAAmG2lB,EAA/FmI,EAASJ,EAAQ1tB,GAAI+tB,EAASJ,EAAQ3tB,GAAIzH,EAAIu1B,EAAOlzB,OAAQ6yB,EAAQI,EAAO7tB,GAAK,IAAIlF,MAAMvC,GAAUzB,EAAI,EAAGA,EAAIyB,IAAKzB,GACxH6uB,EAAOmI,EAAOh3B,IAAMi3B,EAAOj3B,MAC7B22B,EAAM32B,GAAK6uB,GAKjB,KAAO3lB,EAAI4tB,IAAM5tB,EACf6tB,EAAO7tB,GAAK0tB,EAAQ1tB,GAGtB,OAAO,IAAI2rB,EAAUkC,EAAQxyB,KAAKqxB,WPqClC6D,MQrDa,WAEb,IAAK,IAAIhE,EAASlxB,KAAKoxB,QAASzsB,GAAK,EAAG9I,EAAIq1B,EAAO3xB,SAAUoF,EAAI9I,GAC/D,IAAK,IAA8DyuB,EAA1DnjB,EAAQ+pB,EAAOvsB,GAAIlJ,EAAI0L,EAAM5H,OAAS,EAAGkqE,EAAOtiE,EAAM1L,KAAYA,GAAK,IAC1E6uB,EAAOnjB,EAAM1L,MACXguE,GAA6C,EAArCn/C,EAAK8jD,wBAAwB3E,IAAWA,EAAKh2C,WAAWk0D,aAAar9D,EAAMm/C,GACvFA,EAAOn/C,GAKb,OAAOtqB,MR2CP08B,KdpDa,YAGb,SAAS4uD,EAAY1oF,EAAGD,GACtB,OAAOC,GAAKD,EAAIyV,EAAQxV,EAAEioB,SAAUloB,EAAEkoB,WAAajoB,GAAKD,EAHrDyV,IAASA,EAAUC,GAMxB,IAAK,IAAI6Y,EAASlxB,KAAKoxB,QAASv1B,EAAIq1B,EAAO3xB,OAAQgsF,EAAa,IAAI9rF,MAAM5D,GAAI8I,EAAI,EAAGA,EAAI9I,IAAK8I,EAAG,CAC/F,IAAK,IAAmF2lB,EAA/EnjB,EAAQ+pB,EAAOvsB,GAAIzH,EAAIiK,EAAM5H,OAAQisF,EAAYD,EAAW5mF,GAAK,IAAIlF,MAAMvC,GAAUzB,EAAI,EAAGA,EAAIyB,IAAKzB,GACxG6uB,EAAOnjB,EAAM1L,MACf+vF,EAAU/vF,GAAK6uB,GAGnBkhE,EAAU9uD,KAAK4uD,GAGjB,OAAO,IAAIh7D,EAAUi7D,EAAYvrF,KAAKqxB,UAAU6D,ScqChDt5B,KbvDa,WACb,IAAIwtB,EAAWrpB,UAAU,GAGzB,OAFAA,UAAU,GAAKC,KACfopB,EAASznB,MAAM,KAAM5B,WACdC,MaoDP6yB,MSxDa,WACb,IAAIA,EAAQ,IAAIpzB,MAAMO,KAAKe,QAAStF,GAAK,EAEzC,OADAuE,KAAKI,MAAK,WAAayyB,IAAQp3B,GAAKuE,QAC7B6yB,GTsDPvI,KUzDa,WAEb,IAAK,IAAI4G,EAASlxB,KAAKoxB,QAASzsB,EAAI,EAAG9I,EAAIq1B,EAAO3xB,OAAQoF,EAAI9I,IAAK8I,EACjE,IAAK,IAAIwC,EAAQ+pB,EAAOvsB,GAAIlJ,EAAI,EAAGyB,EAAIiK,EAAM5H,OAAQ9D,EAAIyB,IAAKzB,EAAG,CAC/D,IAAI6uB,EAAOnjB,EAAM1L,GACjB,GAAI6uB,EAAM,OAAOA,EAIrB,OAAO,MViDPvpB,KW1Da,WACb,IAAIA,EAAO,EAEX,OADAf,KAAKI,MAAK,aAAeW,KAClBA,GXwDPC,MY3Da,WACb,OAAQhB,KAAKsqB,QZ2DblqB,Ka5Da,YAEb,IAAK,IAAI8wB,EAASlxB,KAAKoxB,QAASzsB,EAAI,EAAG9I,EAAIq1B,EAAO3xB,OAAQoF,EAAI9I,IAAK8I,EACjE,IAAK,IAAgD2lB,EAA5CnjB,EAAQ+pB,EAAOvsB,GAAIlJ,EAAI,EAAGyB,EAAIiK,EAAM5H,OAAc9D,EAAIyB,IAAKzB,GAC9D6uB,EAAOnjB,EAAM1L,KAAI2tB,EAASxtB,KAAK0uB,EAAMA,EAAKO,SAAUpvB,EAAG0L,GAI/D,OAAOnH,MbqDP8yB,KZnBa,cACb,IAAIxE,EAAW,OAAAyE,EAAA,GAAU/2B,GAEzB,GAAI+D,UAAUR,OAAS,EAAG,CACxB,IAAI+qB,EAAOtqB,KAAKsqB,OAChB,OAAOgE,EAASG,MACVnE,EAAK4E,eAAeZ,EAASE,MAAOF,EAASG,OAC7CnE,EAAK0E,aAAaV,GAG1B,OAAOtuB,KAAKI,MAAe,MAAT1D,EACX4xB,EAASG,MAAQJ,EAAeF,EAAgC,mBAAVzxB,EACtD4xB,EAASG,MAAQY,EAAiBF,EAClCb,EAASG,MAAQQ,EAAiBP,GAAgBJ,EAAU5xB,KYOnEowB,MAAO,IACP1vB,SX3Ca,cACb,OAAO2C,UAAUR,OAAS,EACpBS,KAAKI,MAAe,MAAT1D,EACP0rF,EAAkC,mBAAV1rF,EACxB4rF,EACAD,GAAkBrsF,EAAMU,IAC5BsD,KAAKsqB,OAAOtuB,IWsClByvF,QVHa,cACb,IAAI57E,EAAQ04E,EAAWvsF,EAAO,IAE9B,GAAI+D,UAAUR,OAAS,EAAG,CAExB,IADA,IAAIspF,EAAOL,EAAUxoF,KAAKsqB,QAAS7uB,GAAK,EAAGyB,EAAI2S,EAAMtQ,SAC5C9D,EAAIyB,GAAG,IAAK2rF,EAAKK,SAASr5E,EAAMpU,IAAK,OAAO,EACrD,OAAO,EAGT,OAAOuE,KAAKI,MAAuB,mBAAV1D,EACnBusF,EAAkBvsF,EAClBqsF,EACAC,GAAcn5E,EAAOnT,KUR3B42B,KThDa,YACb,OAAOvzB,UAAUR,OACXS,KAAKI,KAAc,MAAT1D,EACNysF,GAA+B,mBAAVzsF,EACrB62B,EACAC,GAAc92B,IAClBsD,KAAKsqB,OAAOyG,aS2ClBsrC,KRjDa,YACb,OAAOt8D,UAAUR,OACXS,KAAKI,KAAc,MAAT1D,EACN0sF,GAA+B,mBAAV1sF,EACrB6sF,EACAD,GAAc5sF,IAClBsD,KAAKsqB,OAAO++D,WQ4ClBrsB,MP/Da,WACb,OAAOh9D,KAAKI,KAAK48D,IO+DjBysB,MNhEa,WACb,OAAOzpF,KAAKI,KAAKqpF,IMgEjBl0D,OcnEa,YACb,IAAIx4B,EAAyB,mBAATf,EAAsBA,EAAO0vF,EAAQ1vF,GACzD,OAAOgE,KAAKyxB,QAAO,WACjB,OAAOzxB,KAAKgtB,YAAYjwB,EAAO4E,MAAM3B,KAAMD,gBdiE7C01B,OJ/Da,cACb,IAAI14B,EAAyB,mBAATf,EAAsBA,EAAO0vF,EAAQ1vF,GACrDy1B,EAAmB,MAAVk6D,EAAiB5B,EAAiC,mBAAX4B,EAAwBA,EAAS,OAAAj6D,EAAA,GAASi6D,GAC9F,OAAO3rF,KAAKyxB,QAAO,WACjB,OAAOzxB,KAAK2nF,aAAa5qF,EAAO4E,MAAM3B,KAAMD,WAAY0xB,EAAO9vB,MAAM3B,KAAMD,YAAc,UI4D3FU,OHlEa,WACb,OAAOT,KAAKI,KAAKK,IGkEjBwpF,MF9Da,YACb,OAAOjqF,KAAKyxB,OAAOm6D,EAAOzB,EAAsBH,IE8DhD7vB,MezEa,YACb,OAAOp6D,UAAUR,OACXS,KAAK5C,SAAS,WAAYV,GAC1BsD,KAAKsqB,OAAOO,UfuElBD,GAAI,IACJT,SD9Ca,cACb,OAAOnqB,KAAKI,MAAwB,mBAAXiqF,EACnBQ,EACAD,GAAkBtkF,EAAM+jF,MC8CjB,O,6BgB9EA,SAASwB,EAAQC,EAAW9vF,EAAMsK,EAAM2uB,GAEnD,IAAI4b,EAAW7wC,gBAAgB6rF,EAAW7rF,KAAO,GAC7CowC,EAAM07C,EAEV,SAASC,EAAet1C,GACpB,IAAIu1C,EAAK,GAIT,OAHAv1C,EAAa5c,SAAQ,SAASj3B,GAC1BopF,EAAKA,EAAG71D,OAAOvzB,MAEZopF,EAgBX,SAASC,IACL,IAcI19C,EAdAjoC,EAAOtG,KAAKsG,KACZkqC,EAAWxwC,KAAKwwC,SAChBzvC,EAAOf,KAAKe,KACZk0B,EAAOj1B,KAAKi1B,KAEbx1B,MAAMa,QAAQ20B,KACEA,EAAK/oB,QAAO,SAASnQ,GAAG,OAAO0D,MAAMa,QAAQvE,QAExDk5B,EAAO82D,EAAe92D,KAGlB,SAAR3uB,GAA2B,OAARA,GAAmB7G,MAAMa,QAAQ20B,IAAUnyB,YAAYC,OAAOkyB,KACjFA,EAAO,CAACA,IAGW,OAAnB3uB,EAAK5G,MAAM,EAAE,IAAuB,SAAR4G,GAC5BioC,EAAM,IAAIrW,aAAajD,GACvBmb,EAAI,UAAYrvC,EAAO,MAAMyvC,EAAUjC,IACd,QAAnBjoC,EAAK5G,MAAM,EAAE,IAAwB,OAAR4G,GACnCioC,EAAM,IAAIzW,WAAW7C,GACrBmb,EAAI,UAAYrvC,EAAO,MAAMyvC,EAAUjC,IACd,OAAnBjoC,EAAK5G,MAAM,EAAE,IACnB6uC,EAAM,IAAIrW,aAAajD,GACvBmb,EAAI,gBAAkBrvC,EAAO,MAAMyvC,GAAU,EAAOjC,IACtC,aAARjoC,GACH2uB,EAAK33B,eAAe,iBAAwC,WAArB23B,EAAKi3D,eAC3C97C,EAAI+7C,cAAc/7C,EAAIg8C,SAAWn3D,EAAK3zB,OACtC8uC,EAAIi8C,YAAYj8C,EAAIk8C,WAAYr3D,EAAKs3D,KACrCn8C,EAAIo8C,UAAUh8C,EAAUvb,EAAK3zB,QA0DzC,OArDAuvC,EAAQ9zC,OAAS,SAASf,EAAMsK,EAAM2uB,GAE/Bx1B,MAAMa,QAAQ20B,KACEA,EAAK/oB,QAAO,SAASnQ,GAAG,OAAO0D,MAAMa,QAAQvE,MAChDwD,OAAS,IACjB01B,EAAO82D,EAAe92D,KA4C9B,OAxCA4b,EAAQ70C,GAAQ,CACZsK,KAAMA,EACNtK,KAAMA,EACNi5B,KAAMA,EACNub,SAAU,KACVzvC,KAAMqlB,SAAS9f,EAAK5G,MAAM,EAAE,KAAO0mB,SAAS9f,EAAK5G,MAAM,EAAE,KAAO,GAGpEmxC,EAAQ70C,GAAMgqC,KAAO,SAASkT,GAK1B,YAJwB,IAAdl5C,KAAKi1B,MAAsC,OAAdj1B,KAAKi1B,OACxCj1B,KAAKwwC,SAAWJ,EAAIq8C,mBAAmBvzC,EAASl5C,KAAKhE,MACrDiwF,EAAWrwF,KAAKoE,OAEbA,MAGX6wC,EAAQ70C,GAAMU,MAAQ,SAASi4D,GAC5B30D,KAAKi1B,KAzEZ,SAAkBA,GACd,OAAGx1B,MAAMa,QAAQ20B,IACEA,EAAK/oB,QAAO,SAASnQ,GAAG,OAAO0D,MAAMa,QAAQvE,MAChDwD,OAAS,EACXwsF,EAAe92D,GAKlBA,EAgEIy3D,CAAS/3B,IAGxB9jB,EAAQ70C,GAAM+0D,KAAO,SAAS97B,GAE1B,OADAj1B,KAAKi1B,KAAOA,EACLj1B,MAGX6wC,EAAQ70C,GAAMqpE,OAAS,WACnB,IAAIA,EAAS,WAAarlE,KAAKsG,KAAO,IAAMtG,KAAKhE,KAC7CugC,EAAM,EAUV,MARgB,aAAbv8B,KAAKsG,OACJi2B,EAAMv8B,KAAKi1B,KAAK11B,OAASS,KAAKe,MAI/Bw7B,EAAM,GAAa,QAARj2B,IACV++D,GAAU,IAAM9oC,EAAM,KAEnB8oC,EAAS,OAGbx0B,EAAQ70C,IAIZ60C,ECjHI,SAAS87C,EAAUb,GAE9B,IAAI57C,EAAalwC,gBAAgB2sF,EAAa3sF,KAAO,GACjDowC,EAAM07C,EACNc,EAAc,EAElB,SAASr/D,EAAavxB,EAAMi5B,IACrBx1B,MAAMa,QAAQ20B,IAASnyB,YAAYC,OAAOkyB,MACrCnyB,YAAYC,OAAOkyB,KACnBA,EAAO,IAAIiD,aAAajD,IAE5Bib,EAAUl0C,GAAMi5B,KAAOA,EACvBmb,EAAIy8C,WAAWz8C,EAAI08C,aAAc58C,EAAUl0C,GAAMuwF,KACjDn8C,EAAI28C,WAAW38C,EAAI08C,aAAc73D,EAAMmb,EAAI48C,cA+CnD,OA5CA98C,EAAUnzC,OAAS,SAASf,EAAMsK,EAAM2uB,GAyCpC,OAxCAib,EAAUl0C,GAAQ,CACdA,KAAMA,EACNsK,KAAMA,GAAQ,QACd2uB,KAAM,KACNub,SAAUo8C,IACVL,IAAKn8C,EAAI68C,eACTlsF,KAAMqlB,SAAS9f,EAAK5G,MAAM,EAAE,KAAO,GAG3B,OAATu1B,GAAiBA,EAAK11B,QAAQguB,EAAavxB,EAAMi5B,GAEpDib,EAAUl0C,GAAMgqC,KAAO,SAASkT,GAK5B,OAJA9I,EAAIy8C,WAAWz8C,EAAI08C,aAAc9sF,KAAKusF,KACtCvsF,KAAKwwC,SAAWJ,EAAI88C,kBAAkBh0C,EAASl5C,KAAKhE,MACpDo0C,EAAI+8C,oBAAoBntF,KAAKwwC,SAAUxwC,KAAKe,KAAMqvC,EAAIyM,OAAO,EAAO,EAAG,GACvEzM,EAAIg9C,wBAAwBptF,KAAKwwC,UAC1BxwC,MAGXkwC,EAAUl0C,GAAM+0D,KAAO,SAASs8B,GAE5B,OADA9/D,EAAavtB,KAAKhE,KAAMqxF,GACjBrtF,MAGXkwC,EAAUl0C,GAAMqpE,OAAS,WACrB,MAAO,aAAerlE,KAAKsG,KAAO,IAAMtG,KAAKhE,KAAO,OAGxDk0C,EAAUl0C,GAAMq1C,OAAS,SAASrlC,EAAQipB,GAClCnyB,YAAYC,OAAOkyB,KACnBA,EAAO,IAAIiD,aAAajD,IAE5Bmb,EAAIy8C,WAAWz8C,EAAI08C,aAAc9sF,KAAKusF,KACtCn8C,EAAIk9C,cAAcl9C,EAAI08C,aAAc9gF,EAAQipB,IAGhDib,EAAUl0C,GAAMuxF,OAAS,WACrBn9C,EAAIo9C,aAAaxtF,KAAKusF,MAGnBr8C,EAAUl0C,IAGdk0C,EC1DI,SAASu9C,EAAQ3B,GAE5B,IAAI96C,EAAWhxC,gBAAgBytF,EAAWztF,KAAO,GAC7CowC,EAAM07C,EACN4B,EAAY,EAEhB,SAASC,EAAW3xF,EAAM4xF,GACtB,IAAItnF,EAAO8pC,EAAIY,EAAQh1C,GAAMsK,KAAKW,eAC9B4B,EAASunC,EAAIY,EAAQh1C,GAAMqmD,QAAQp7C,eACnCf,EAAQ8qC,EAAQh1C,GAAMsnD,IAAI,GAC1BtP,EAAShD,EAAQh1C,GAAMsnD,IAAI,GAE/BtS,EAAQh1C,GAAMi5B,KAAO24D,EAErBx9C,EAAIi8C,YAAYj8C,EAAIk8C,WAAYt7C,EAAQh1C,GAAMuwF,KAC9Cn8C,EAAIy9C,WAAWz9C,EAAIk8C,WAAY,EAAGzjF,EAAQ3C,EAAO8tC,EAAQ,EAAGnrC,EAAQvC,EAAMsnF,GAC1Ex9C,EAAI09C,cAAc19C,EAAIk8C,WAAYl8C,EAAI29C,mBAAoB39C,EAAI49C,SAC9D59C,EAAI09C,cAAc19C,EAAIk8C,WAAYl8C,EAAI69C,mBAAoB79C,EAAI49C,SAC9D59C,EAAI09C,cAAc19C,EAAIk8C,WAAYl8C,EAAI89C,eAAgB99C,EAAI+9C,eAC1D/9C,EAAI09C,cAAc19C,EAAIk8C,WAAYl8C,EAAIg+C,eAAgBh+C,EAAI+9C,eAC1D/9C,EAAIi8C,YAAYj8C,EAAIk8C,WAAY,MA6GpC,OAjFAt7C,EAAQj0C,OAAS,SAASf,EAAMsK,EAAMg9C,EAAKjB,EAASptB,EAAMo5D,GACtD,IAAIC,EAAYt9C,EAAQ1zC,eAAetB,GAASg1C,EAAQh1C,GAAMsF,MAAQosF,IA6EtE,OA5EA18C,EAAQh1C,GAAQ,CACZA,KAAMA,EACNsF,MAAOgtF,EACPhoF,KAAMA,GAAQ,QACdg9C,IAAKA,GAAO,CAAC,IAAK,KAClBjB,QAASA,GAAW,QACpBptB,KAAM,KACNub,SAAU,KACV69C,QAASA,GAAW,KACpB9B,IAAKn8C,EAAIm+C,iBAIbZ,EAAW3xF,EAAMi5B,GAEa,OAA1B+b,EAAQh1C,GAAMqyF,QACdr9C,EAAQh1C,GAAMqyF,QAAUxC,EAAQz7C,GAAKrzC,OAAOf,EAAM,YAAag1C,EAAQh1C,IAEvEg1C,EAAQh1C,GAAMqyF,QAAQp5D,KAAO+b,EAAQh1C,GAGzCg1C,EAAQh1C,GAAMgqC,KAAO,SAASkT,GAW1B,OAVkB,OAAdl5C,KAAKi1B,YAK4B,IAAtBj1B,KAAKquF,QAAY,MAA0C,OAAtBruF,KAAKquF,QAAQp5D,OACzDj1B,KAAKquF,QAAQp5D,KAAO+b,EAAQh1C,IAEhCgE,KAAKquF,QAAQroD,KAAKkT,IAEfl5C,MAGXgxC,EAAQh1C,GAAM+0D,KAAO,SAAS68B,GAE1B,OADAD,EAAW3tF,KAAKhE,KAAM4xF,GACf5tF,MAGXgxC,EAAQh1C,GAAMwyF,YAAc,WACxBp+C,EAAIi8C,YAAYj8C,EAAIk8C,WAAYtsF,KAAKusF,KACrCn8C,EAAIq+C,eACAr+C,EAAIk8C,WACJ,EACAl8C,EAAIsD,KACJ,EACA,EACA1zC,KAAKsjD,IAAI,GACTtjD,KAAKsjD,IAAI,GACT,GAEJlT,EAAIi8C,YAAYj8C,EAAIk8C,WAAY,OAGpCt7C,EAAQh1C,GAAMq1C,OAAS,SAASu8C,EAAS5hF,EAAQs3C,GAE7C,OApFR,SAAuBtnD,EAAM4xF,EAAS5hF,EAAS,CAAC,EAAG,GAAIs3C,EAAM,CAACtS,EAAQh1C,GAAMsnD,IAAI,GAAItS,EAAQh1C,GAAMsnD,IAAI,KAClG,IAAIh9C,EAAO8pC,EAAIY,EAAQh1C,GAAMsK,KAAKW,eAC9B4B,EAASunC,EAAIY,EAAQh1C,GAAMqmD,QAAQp7C,eACnCf,EAAQo9C,EAAI,GACZtP,EAASsP,EAAI,GAEjBlT,EAAIi8C,YAAYj8C,EAAIk8C,WAAYt7C,EAAQh1C,GAAMuwF,KAC9Cn8C,EAAIs+C,cAAct+C,EAAIk8C,WAAY,EAAGtgF,EAAO,GAAIA,EAAO,GAAI9F,EAAO8tC,EAAQnrC,EAAQvC,EAAMsnF,GACxFx9C,EAAIi8C,YAAYj8C,EAAIk8C,WAAY,MA2E5BqC,CAAc3uF,KAAKhE,KAAM4xF,EAAS5hF,EAAQs3C,GACnCtjD,MAGXgxC,EAAQh1C,GAAMouD,OAAS,SAAS9G,EAAKruB,GACjCj1B,KAAKsjD,IAAMA,EACXqqC,EAAW3tF,KAAKhE,KAAMi5B,IAG1B+b,EAAQh1C,GAAMuxF,OAAS,WACnBzB,EAAU8C,cAAc5uF,KAAKusF,MAGjCv7C,EAAQh1C,GAAMqpE,OAAS,WACnB,OAAIrlE,KAAKhE,MAAQgE,KAAKquF,QAAQryF,KACnB,qBAAuBgE,KAAKquF,QAAQryF,KAAO,MAE3C,IAGRg1C,EAAQh1C,IAGZg1C,ECnII,SAAS69C,EAAQ/C,GAE5B,IAAI/6C,EAAW/wC,gBAAgB6uF,EAAW7uF,KAAO,GAsBjD,OAnBA+wC,EAAQh0C,OAAS,SAASf,EAAMsK,EAAMvF,GAgBlC,OAfAgwC,EAAQ/0C,GAAQ,CACZA,KAAMA,EACNsK,KAAMA,GAAQ,QACdvF,KAAMA,GAAQ,GAGlBgwC,EAAQ/0C,GAAMgqC,KAAO,aAErB+K,EAAQ/0C,GAAMqpE,OAAS,WACnB,IAAIA,EAAS,WAAarlE,KAAKsG,KAAO,IAAMtG,KAAKhE,KAGjD,OAFGgE,KAAKe,KAAO,IACXskE,GAAU,IAAMrlE,KAAKe,KAAO,KACzBskE,EAAS,OAGbt0B,EAAQ/0C,IAGZ+0C,ECxBI,SAAS+9C,IAEpB,IAAIv9C,EAAcvxC,gBAAgB8uF,EAAc9uF,KAAO,GA0BvD,OAxBAuxC,EAAWx0C,OAAS,SAASf,EAAMsK,EAAMwnC,GAqBrC,OApBAyD,EAAWv1C,GAAQ,CACfA,KAAMA,EACNsK,KAAMA,GAAQ,QACdwnC,GAAIA,EACJo+C,aAAc,cAGlB36C,EAAWv1C,GAAMgqC,KAAO,SAASkT,GAC7B,OAAOl5C,MAGXuxC,EAAWv1C,GAAM+0D,KAAO,SAASjjB,GAE7B,OADAyD,EAAWv1C,GAAM8xC,GAAKA,EACf9tC,MAGXuxC,EAAWv1C,GAAMqpE,OAAS,WACtB,OAAOrlE,KAAK8tC,GAAGjqC,YAGZ0tC,EAAWv1C,IAGfu1C,ECtBI,SAASw9C,EAASjD,GAC7B,IAAIkD,EAAYhvF,gBAAgB+uF,EAAY/uF,KAAO,GAC/CivF,EAAe,GAEnBD,EAASn+C,QAAU,IAAIg7C,EAAQC,GAC/BkD,EAAS9+C,UAAY,IAAIy8C,EAAUb,GACnCkD,EAASh+C,QAAU,IAAIy8C,EAAQ3B,GAC/BkD,EAASj+C,QAAU,IAAI89C,EAAQ/C,GAC/BkD,EAASz9C,WAAa,IAAIu9C,EAE1B,IAAII,EAAgB,CAAC,UAAW,YAAa,UAAW,UAAW,cAoCnE,OAlCAF,EAASjwB,SAAW,SAASz4D,EAAM00B,GAC/B,IAAqC,IAAjCk0D,EAAczoF,QAAQH,GACtB,MAAMT,MAAM,iCAAmCS,GAEnD,IAAI4sC,EAAM87C,EAAS1oF,GAAMvJ,OAAO4E,MAAM,KAAMlC,MAAMpC,UAAUqC,MAAM9D,KAAKmE,UAAW,IAalF,OAZAmzC,EAAIg5C,aAAe5lF,EACnB2oF,EAAa/7C,EAAIl3C,MAAQk3C,EACpB+7C,EAAa3xF,eAAe41C,EAAIl3C,OACjCG,OAAOC,eAAe6yF,EAAc/7C,EAAIl3C,KAAM,CAC1CM,IAAK,WACD,OAAO2yF,EAAa/7C,EAAIl3C,OAE5BqE,IAAK,SAAS40B,GACVg6D,EAAa/7C,EAAIl3C,MAAM+0D,KAAK97B,MAIjCie,GAGX87C,EAAShpD,KAAO,SAASkT,EAASi2C,IACL1vF,MAAMa,QAAQ6uF,GAAcA,EAAYhzF,OAAOwE,KAAKsuF,IAC3Dp1D,SAAQ,SAASu1D,GAC3BH,EAAa3xF,eAAe8xF,IAC5BH,EAAaG,GAAcppD,KAAKkT,OAI5C81C,EAAS1yF,IAAM,SAASN,GACpB,OAAOizF,EAAajzF,IAGxBgzF,EAASjyF,OAASiyF,EAASjwB,SAEpBiwB,ECpDI,SAASK,EAAOvD,EAAWwD,GAEtC,IAAIn2C,EAAUn5C,gBAAgBqvF,EAAUrvF,KAAO,GAC3CowC,EAAM07C,EACNkD,EAAWM,EACXC,EAAan/C,EAAIo/C,OAAS,GAE9Br2C,EAAOC,OAAS,GAChBD,EAAOG,SAAW,GAElB,IAAIm2C,EAAa,CACbr2C,OAAQhJ,EAAIs/C,cACZp2C,SAAUlJ,EAAIu/C,iBAIlB,SAASC,EAAOC,EAAY7zF,EAAM8xC,GAE9B,IAAIgiD,EAAOD,EAAa,IACpB7zF,EAAO,IAwCf,SAA4BmpD,GAExB,IAAI4qC,EAAW5zF,OAAOwE,KAAK4uF,GAC3B,GAAGQ,EAASxwF,OAAS,EAAE,CACnB,IAAIkG,EAAK,IAAIqK,OAAO,UAAUigF,EAASlpF,KAAK,KAAK,OAAO,KACxDs+C,EAAMA,EAAIp9C,QAAQtC,GAAI,SAASstD,GAC3B,OAAOw8B,EAAWx8B,EAAQrzD,MAAM,EAAEqzD,EAAQxzD,OAAO,OAWzD,OAAO4lD,EAzDU6qC,CAAmBliD,EAAGjqC,YAClCkE,QACG,oDACA,SAASkoF,EAAMj0F,EAAMk+B,EAAOx9B,GAOxB,OALGA,EACS,CAACw9B,EAAMzxB,cAAezM,EAAM,IAAKU,GAEjC,CAACw9B,EAAMzxB,cAAezM,IAErB6K,KAAK,QAGzBkB,QAAQ,qBAAsB,YAC9BA,QAAQ,eAAgB,UAExBA,QAAQ,SAAU,IAClBA,QAAQ,0BAA2B,YAGxC,GAAW,QAAR/L,EACC8zF,EAAOA,EAAK/nF,QAAQ,yCAA0C,OAAS,SACpE,CACH,IAAIinE,EAAO8gB,EAAKnqF,MAAM,qCAAqC,GACvDuqF,EAAWlhB,EAAKrpE,MAAM,eACvBuqF,EACClhB,EAAOkhB,EAAS,GAAG/iE,MAAM,KACpBjtB,IAAInE,GAAGA,EAAEoxB,MAAM,MACfjtB,IAAInE,GAAIA,EAAE,GAAGgM,QAAQ,WAAY,IAAM,IAAMhM,EAAE,IAC/C8K,KAAK,MACI,IAARmoE,IACNA,EAAOA,EAAKjnE,QAAQ,iBAAkB,QAG1C+nF,EAAOA,EAAK/nF,QAAQ,0CAA2C,IAAMinE,EAAK,KAAO,KAErF,OAAO8gB,EAwEX,SAASK,EAAaC,GAClB,IAAIC,EAAYD,EAASzqF,MAAM,gBAc/B,OAbiB,OAAd0qF,IACCA,EAAYA,EAAUnwF,KAAI,SAASnE,GAC/B,OAAOA,EAAE2D,MAAM,OAGP,MAAb2wF,GAAqBA,EAAU9wF,QAC9B8wF,EAAUx2D,SAAQ,SAASy2D,GACvB,IAAIC,EAAOvB,EAAS1yF,IAAIg0F,GACrBC,GAA6B,cAArBA,EAAKrE,eACZmE,EAAYA,EAAUl6D,OAAOg6D,EAAaI,EAAKziD,GAAGjqC,iBAIvDwsF,GAAa,GAGxB,SAASG,EAAWC,GAChB,IAAIv9C,EAAM87C,EAAS1yF,IAAIm0F,GACvB,QAAkB,IAARv9C,EACN,MAAM,IAAIrtC,MAAM,wBAA0B4qF,EAAM,mBACpD,MAAuB,cAApBv9C,EAAIg5C,aACI0D,EAAO18C,EAAI5sC,KAAM4sC,EAAIl3C,KAAMk3C,EAAIpF,IAE/BoF,EAAImyB,SAGnB,SAASqrB,EAAWC,GAChB,IAAI9gF,EAAQ,GAKZ,OAJA8gF,EAAK92D,SAAQ,SAAS99B,EAAGN,GACrBoU,EAAM9T,GAAKN,KAGRU,OAAOwE,KAAKkP,GA0EvB,OAvEAspC,EAAOp8C,OAAS,SAAS67B,EAAKkV,GAC1B,IAAI+F,EAASjb,GAAO,GAChB58B,EAAO63C,EAAO73C,MAAQ,UACtBsK,EAAOutC,EAAOvtC,MAAQ,SACtBqqF,EAAO98C,EAAO+8C,SAAW/8C,EAAO88C,MAAQ,GACxCvqF,EAAYytC,EAAOztC,WAAa,SAChCyqF,EAAQh9C,EAAOg9C,QAAS,EACxBv4B,EAAOzkB,EAAOykB,MAAQxqB,GAAM,aAE5BgjD,EAAe,aAAe1qF,EAAY,aAE3B,IAAhBuqF,EAAKpxF,SAAcoxF,EAAOD,EA1EjC,SAAiB5iD,GACb,IAAI6iD,EAAO,GACPI,EAAajjD,EAAGjqC,WAChBmtF,EAAaD,EAAWprF,MAAM,4BAC9BqpE,EAAuB,OAAfgiB,GAAuBA,EAAWzxF,OAAUyxF,EAAW,GAAK,GAGrEhiB,EAAKzvE,SACJoxF,EAAO3hB,EAAK7hD,MAAM,KAAKjtB,KAAI,SAAS04B,GAChC,OAAOA,EAAI7wB,QAAQ,aAAc,IAAI1B,UACtC6F,QAAO,SAAS0sB,GACf,OAAOA,MAIf,IAAIy3D,EAAYF,EAAaY,GAQ7B,OAPGV,EAAU9wF,SACToxF,EAAOA,EAAKx6D,OAAOk6D,EAClBnkF,QAAO,SAASnQ,GACb,OAA4B,IAArB40F,EAAKlqF,QAAQ1K,QAIrB40F,EAmDiCM,CAAQ34B,KAGhD,IAAI+3B,EAAY,GAehB,GAbAM,EAAK92D,SAAQ,SAAS42D,GAClB,IAAIv9C,EAAM87C,EAAS1yF,IAAIm0F,GACvB,QAAiB,IAAPv9C,EAEN,MADApY,QAAQr8B,IAAIgyF,GACN5qF,MAAO,wCAA0C4qF,EAAIz0F,MAExC,cAApBk3C,EAAIg5C,eAEHmE,EAAaF,EAAaj9C,EAAIpF,GAAGjqC,gBAKtCwsF,EAAU9wF,OAAQ,CACjB,IAAI2xF,EAAUb,EAAUl6D,OAAOw6D,GAC/BA,EAAOD,EAAWQ,GAGtB,GAAGzxF,MAAMa,QAAQqwF,GAAM,CACnBA,EAAKzkF,QAAO,SAASnQ,GACjB,OAA2C,IAApCq0C,EAAI+gD,gBAAgB1qF,QAAQ1K,MAEtC89B,SAAQ,SAAS42D,GACdK,GAAgBN,EAAWC,MAEvBE,EAAKzkF,QAAO,SAASnQ,GACzB,OAA2C,IAApCq0C,EAAI+gD,gBAAgB1qF,QAAQ1K,MAEtCuG,UACAu3B,SAAQ,SAAS42D,GACdK,GAAgBN,EAAWC,UAKT,iBAAV,IACZ31D,QAAQr8B,IAAIkyF,GACZx0F,OAAOwE,KAAKgwF,GAAM92D,SAAQ,SAASqyD,GAC/ByE,EAAKzE,GAAcryD,SAAQ,SAAS42D,GAChCK,GAAgBN,EAAWC,UAKvCK,GAAgBlB,EAAO,OAAQ,OAAQt3B,GACpCu4B,GACC/1D,QAAQr8B,IAAIqyF,GAChB,IAAIM,EApJR,SAAiB3B,EAAYqB,GACzB,GAAIrB,IAAer/C,EAAIs/C,eAAiBD,IAAer/C,EAAIu/C,gBACvD,KAAM,6BAEV,IAAIyB,EAAUhhD,EAAIihD,aAAa5B,GAM/B,GALAr/C,EAAI0gD,aAAaM,EAASN,GAC1B1gD,EAAIkhD,cAAcF,IAGHhhD,EAAImhD,mBAAmBH,EAAShhD,EAAIohD,gBACpC,CACX,IAAIC,EAAYrhD,EAAIshD,iBAAiBN,GAErC,MADAt2D,QAAQr8B,IAAIqyF,EAAe,2DACrB,IAAIjrF,MAAM,2BAA6BurF,EAAU,KAAOK,GAMlE,OAAOL,EAiIO59B,CAAQi8B,EAAWnpF,GAAOwqF,GAKxC,OAJAM,EAAQO,YAAclC,EAAWnpF,GACjC8qF,EAAQT,KAAOA,EACfS,EAAQxsF,OAASksF,EACjB33C,EAAO7yC,GAAMtK,GAAQo1F,EACdA,GAGJj4C,ECzOI,SAASy4C,EAAQ9F,EAAWqD,GAEvC,IAAIj2C,EACA9I,EAAM07C,EACN+F,EAAK,GACLt+B,EAAU,GACVu+B,EAAU,IAAIzC,EAAOvD,EAAWqD,GA6EpC,OA3EA0C,EAAG90F,OAAS,SAASf,EAAM+gD,EAAIC,GACvBhhD,EAAOA,GAAQ,UACf+gD,EAAKA,GAAM,UACXC,EAAKA,GAAM,UAFf,IAGI2zC,EAAO,GAeX,GAbIp9B,EAAQj2D,eAAetB,IACvB61F,EAAGtE,OAAOvxF,GAGdu3D,EAAQv3D,GAAQo0C,EAAIgjB,gBAEpBG,EAAQv3D,GAAM+gD,GAAmB,iBAANA,EAAkBA,EAAK+0C,EAAQ14C,OAAO2D,GACjEwW,EAAQv3D,GAAMghD,GAAmB,iBAANA,EAAkBA,EAAK80C,EAAQx4C,SAAS0D,GAEnE5M,EAAI2hD,aAAax+B,EAAQv3D,GAAOu3D,EAAQv3D,GAAM+gD,IAC9C3M,EAAI2hD,aAAax+B,EAAQv3D,GAAOu3D,EAAQv3D,GAAMghD,IAC9C5M,EAAI4hD,YAAYz+B,EAAQv3D,KACXo0C,EAAI6hD,oBAAoB1+B,EAAQv3D,GAAOo0C,EAAI8hD,aAGpD,KAAO,4BADS9hD,EAAI+hD,kBAAkB5+B,EAAQv3D,IAUlD,OAHA20F,GADAA,EAAOA,EAAKx6D,OAAOo9B,EAAQv3D,GAAM+gD,GAAG4zC,OACxBx6D,OAAOo9B,EAAQv3D,GAAMghD,GAAG2zC,MACpCp9B,EAAQv3D,GAAM20F,KAAOA,EAEdp9B,EAAQv3D,IAGnB61F,EAAGhkD,IAAMgkD,EAAG34C,QAAU,SAASl9C,EAAM+gD,EAAIC,GACrC,OAAIuW,EAAQj2D,eAAetB,IACvBk9C,EAAUqa,EAAQv3D,GAClBo0C,EAAIgiD,WAAWl5C,GACfi2C,EAAUnpD,KAAKkT,EAASA,EAAQy3C,MACzBz3C,GAEA24C,EAAG90F,OAAOf,EAAM+gD,EAAIC,IAInC60C,EAAGtE,OAAS,SAASvxF,GACbu3D,EAAQj2D,eAAetB,KACvBo0C,EAAIiiD,aAAa9+B,EAAQv3D,GAAOu3D,EAAQv3D,GAAM+gD,IAC9C3M,EAAIiiD,aAAa9+B,EAAQv3D,GAAOu3D,EAAQv3D,GAAMghD,IAC9C5M,EAAIkiD,cAAc/+B,EAAQv3D,WACnBu3D,EAAQv3D,KAIvB61F,EAAG14C,OAAS,SAASvgB,EAAKkV,GACtB,IAAIhV,EAAUF,EAEd,OADAk5D,EAAQ/0F,OAAO+7B,EAASgV,GACjB+jD,GAGXA,EAAG14C,OAAOC,OAAS,SAAStL,GACxB,IAAIhV,EAAU,CACVxyB,KAAM,UAGV,OADIwnC,EAAG9xC,OAAM88B,EAAQ98B,KAAO8xC,EAAG9xC,MACxB81F,EAAQ/0F,OAAO+7B,EAASgV,IAGnC+jD,EAAG14C,OAAOG,SAAW,SAASxL,GAC1B,IAAIhV,EAAU,CACVxyB,KAAM,YAGV,OADIwnC,EAAG9xC,OAAM88B,EAAQ98B,KAAO8xC,EAAG9xC,MACxB81F,EAAQ/0F,OAAO+7B,EAASgV,IAG5B+jD,ECnFI,SAASU,EAAYzG,GAEhC,IAAI76C,EAAejxC,gBAAgBuyF,EAAevyF,KAAO,GACrDowC,EAAM07C,EAgEV,OA9DA76C,EAAYl0C,OAAS,SAASf,EAAMsK,EAAMg9C,EAAKtS,GAY3C,GAVAC,EAAYj1C,GAAQ,CAChBuwF,IAAKn8C,EAAIoiD,oBACTx2F,KAAMA,EACNsK,KAAMA,GAAQ,QACdJ,MAAOo9C,EAAI,IAAM,KACjBtP,OAAQsP,EAAI,IAAM,KAClBtS,QAASA,GAAW,KACpByhD,aAAcriD,EAAIsiD,sBAGY,OAA9BzhD,EAAYj1C,GAAMg1C,QAAkB,CACpC,IAAIzC,EAAe,SAARjoC,EACP,IAAI4xB,aAAaorB,EAAI,GAAKA,EAAI,GAAK,GACnC,IAAI/P,WAAW+P,EAAI,GAAKA,EAAI,GAAK,GACrCrS,EAAYj1C,GAAMg1C,QAAUy8C,EAAQr9C,GAAKrzC,OAAOf,EAAMsK,EAAMg9C,EAAK,OAAQ/U,GAG7E,IAAIkkD,EAAexhD,EAAYj1C,GAAMy2F,aAwCrC,OAvCAriD,EAAIoD,gBAAgBpD,EAAImL,YAAatK,EAAYj1C,GAAMuwF,KACvDn8C,EAAIuiD,iBAAiBviD,EAAIwiD,aAAcH,GACvCriD,EAAIyiD,oBACAziD,EAAIwiD,aACJxiD,EAAI0iD,kBACJ7hD,EAAYj1C,GAAMkK,MAClB+qC,EAAYj1C,GAAMg4C,QAEtB5D,EAAI2iD,qBACA3iD,EAAImL,YACJnL,EAAI4iD,kBACJ5iD,EAAIk8C,WACJr7C,EAAYj1C,GAAMg1C,QAAQu7C,IAC1B,GAEJn8C,EAAI6iD,wBACA7iD,EAAImL,YACJnL,EAAI8iD,iBACJ9iD,EAAIwiD,aACJH,GAEJriD,EAAIuiD,iBAAiBviD,EAAIwiD,aAAc,MACvCxiD,EAAIoD,gBAAgBpD,EAAImL,YAAa,MAErCtK,EAAYj1C,GAAMw+C,WAAa,SAAStB,GACpC9I,EAAI+7C,cAAc/7C,EAAIg8C,SAAWpsF,KAAKgxC,QAAQ1vC,OAC9C8uC,EAAIi8C,YAAYj8C,EAAIk8C,WAAYtsF,KAAKgxC,QAAQu7C,KAC7CvsF,KAAKgxC,QAAQR,SAAWJ,EAAIq8C,mBAAmBvzC,EAASl5C,KAAKgxC,QAAQh1C,MACrEo0C,EAAIo8C,UAAUxsF,KAAKgxC,QAAQR,SAAUxwC,KAAKgxC,QAAQ1vC,QAGtD2vC,EAAYj1C,GAAMuxF,OAAS,WACvBn9C,EAAIuiD,iBAAiBtgD,GAAGugD,aAAc,MACtCxiD,EAAIoD,gBAAgBnB,GAAGkJ,YAAa,MACpCnL,EAAI+iD,mBAAmBnzF,KAAKyyF,cAC5BriD,EAAIw+C,cAAc5uF,KAAKgxC,QAAQu7C,KAC/Bn8C,EAAIgjD,kBAAkBpzF,KAAKusF,MAGxBt7C,EAAYj1C,IAGhBi1C,EChEI,SAASoiD,EAAOz6D,GAE3B,IAAI06D,EAAUtzF,gBAAgBqzF,EAAUrzF,KAAO,GAC3C84B,EAAUF,GAAO,GACjBkb,EAAYhb,EAAQgb,WAAa,KACjCwW,EAASxxB,EAAQwxB,QAAU59B,SAASC,cAAc,UAClD0tB,EAAWvhB,EAAQuhB,UAAY,CAAC,EAAG,GACnCn0C,EAAQ4yB,EAAQ5yB,OAASm0C,EAAS,IAAM,KACxCrG,EAASlb,EAAQkb,QAAUqG,EAAS,IAAM,KAC1C33C,EAAUo2B,EAAQp2B,SAAW,CACzB6V,KAAM,EACNX,MAAO,EACP4zB,IAAK,EACLC,OAAQ,GAEZ2E,EAAMtX,EAAQnE,SAAWmE,EAAQsX,KAAO,KAExC8I,EAAU,KACVq6C,EAASz6D,EAAQG,YAAc,GACdH,EAAQ06D,eAGP,iBAAZ,IACgBlpC,EAAL,KAAbA,EAAO,GAAoB59B,SAASq4B,eAAe0uC,OAAOhsF,UAAU,IAC1DilB,SAASq4B,eAAe0uC,SAEtC3/C,IACAA,EAAkC,iBAAf,EAA2BpnB,SAASq4B,eAAejR,GAAaA,EACrE,OAAV5tC,IAAgBA,EAAQ4tC,EAAUiW,aACvB,OAAX/V,IAAiBA,EAASF,EAAUkW,eAI5CM,EAAOpkD,MAAQA,EACfokD,EAAOtW,OAASA,EAChBsW,EAAOx9B,MAAMiI,SAAW,WACxBu1B,EAAOx9B,MAAM4mE,WAAahxF,EAAQ6V,KAAO,KACzC+xC,EAAOx9B,MAAM6mE,UAAYjxF,EAAQ8oC,IAAM,KAE3B,OAAR4E,IACAA,EA6BJ,SAAoBka,GAGhB,IAFA,IAAIz6C,EAAQ,CAAC,QAAS,sBAClBwiC,EAAK,KACA52C,EAAI,EAAGA,EAAIoU,EAAMtQ,SAAU9D,EAAG,CACnC,IACI42C,EAAKiY,EAAOc,WAAWv7C,EAAMpU,GAAI83F,GACnC,MAAO/pF,IACT,GAAI6oC,EAAI,MAEZ,OAAOA,EAtCDuhD,CAAWtpC,IACrBgpC,EAAOljD,IAAMA,EACbkjD,EAAOhpC,OAASA,EAEhBla,EAAIo/C,MAAQ12D,EAAQ+6D,KAAO/6D,EAAQg7D,MAAQh7D,EAAQi7D,YAAc,GACjE3jD,EAAI+gD,gBAAkB,GAEtB,IAAIhC,EAAY,IAAIJ,EAAS3+C,GACzB4jD,EAAe,IAAIzB,EAAYniD,GAC/B6jD,EAAiB,IAAIrC,EAAexhD,EAAK++C,GAGzC+E,GAFU,IAAI7E,EAAOj/C,EAAK++C,GAEf/+C,EAAI+jD,aAAa,qBA6BhC,SAASC,EAAgBhjC,GAChB3xD,MAAMa,QAAQ8wD,KAAaA,EAAa,CAACA,IAC9CA,EAAWv3B,SAAQ,SAASw6D,GACxB,IAAIC,EAAWlkD,EAAI+jD,aAAaE,GACf,OAAbC,GACAn4F,OAAOwE,KAAK2zF,GAAUz6D,SAAQ,SAAS06D,GAC9BlkD,IAAI/yC,eAAei3F,KACpBnkD,EAAIC,IAAIkkD,GAAMD,EAASC,UAsM3C,OAzOIL,IACA9jD,EAAI8K,QAAUg5C,EAASh5C,QACvB9K,EAAI6K,QAAUi5C,EAASj5C,SAG3B7K,EAAIC,IAAMD,EAAI+jD,aAAa,0BAC3BC,EAAgB,CACZ,oBACA,6BAKAtgD,GACAA,EAAU9mB,YAAYs9B,GA4B1BgpC,EAAOc,gBAAkBA,EASzBd,EAAOpjD,UAAY,SAASl0C,EAAMsK,EAAM2uB,GAUpC,OATAk6D,EAAUpwB,SAAS,YAAa/iE,EAAMsK,EAAM2uB,GAC5C94B,OAAOC,eAAek3F,EAAOpjD,UAAWl0C,EAAM,CAC1CM,IAAK,WACD,OAAO6yF,EAAUj/C,UAAUl0C,IAE/BqE,IAAK,SAAS40B,GACVk6D,EAAUj/C,UAAUl0C,GAAM+0D,KAAK97B,MAGhCq+D,GAEXA,EAAOvwD,OAASuwD,EAAOpjD,UASvBojD,EAAOziD,QAAU,SAAS70C,EAAMsK,EAAM2uB,GAclC,OAbAk6D,EAAUpwB,SAAS,UAAW/iE,EAAMsK,EAAM2uB,GACrCq+D,EAAOziD,QAAQvzC,eAAetB,IAC/BG,OAAOC,eAAek3F,EAAOziD,QAAS70C,EAAM,CACxCM,IAAK,WACD,OAAO6yF,EAAUt+C,QAAQ70C,IAE7BqE,IAAK,SAAS40B,GACVk6D,EAAUt+C,QAAQ70C,GAAM+0D,KAAK97B,GACzBmb,EAAIokD,UAAUt7C,IACdi2C,EAAUt+C,QAAQ70C,GAAMgqC,KAAKkT,MAItCo6C,GAGXA,EAAOziD,QAAQ4jD,UAAY,SAASC,GAChC,IAAI1I,EAAK,GAIT,OAHA0I,EAAI76D,SAAQ,SAASj3B,GACjBopF,EAAKA,EAAG71D,OAAOvzB,MAEZopF,GAaXsH,EAAOtiD,QAAU,SAASh1C,EAAMsK,EAAM2uB,EAAMquB,EAAKjB,EAASgsC,GAUtD,OATAc,EAAUpwB,SAAS,UAAW/iE,EAAMsK,EAAMg9C,EAAKjB,EAASptB,EAAMo5D,GAC9DlyF,OAAOC,eAAek3F,EAAOtiD,QAASh1C,EAAM,CACxCM,IAAK,WACD,OAAO6yF,EAAUn+C,QAAQh1C,IAE7BqE,IAAK,SAAS40B,GACVk6D,EAAUn+C,QAAQh1C,GAAM+0D,KAAK97B,MAG9Bq+D,GAGXA,EAAOtiD,QAAQK,OAAS,SAASr1C,EAAMi5B,EAAMjpB,EAAQs3C,GACjD6rC,EAAUn+C,QAAQh1C,GAAMq1C,OAAOpc,EAAMjpB,EAAQs3C,IAUjDgwC,EAAOviD,QAAU,SAAS/0C,EAAMsK,EAAMvF,GAElC,OADAouF,EAAUpwB,SAAS,UAAW/iE,EAAMsK,EAAMvF,GACnCuyF,GAWXA,EAAOriD,YAAc,SAASj1C,EAAMsK,EAAMg9C,EAAKtS,GACvCA,EAAUA,GAAWm+C,EAAUpwB,SAAS,UAAW/iE,EAAMsK,EAAMg9C,EAAK,OAAQ,MAUhF,OARA0wC,EAAaj3F,OAAOf,EAAMsK,EAAMg9C,EAAKtS,GAChCsiD,EAAOriD,YAAY3zC,eAAetB,IACnCG,OAAOC,eAAek3F,EAAOriD,YAAaj1C,EAAM,CAC5CM,IAAK,WACD,OAAO03F,EAAah4F,MAIzBs3F,GAGXA,EAAOriD,YAAYuJ,WAAa,SAASx+C,GACrCg4F,EAAah4F,GAAMw+C,WAAWtB,IAGlCo6C,EAAO9/C,gBAAkB,SAASmhD,GAC1BX,EAAa12F,eAAeq3F,GAC5BvkD,EAAIoD,gBAAgBpD,EAAImL,YAAay4C,EAAaW,GAAQpI,KAE1Dn8C,EAAIoD,gBAAgBpD,EAAImL,YAAa,OAI7C+3C,EAAO/hD,WAAa,SAASv1C,EAAMsK,EAAMwnC,GAGrC,OAFAsC,EAAI+gD,gBAAgBvwF,KAAK5E,GACzBmzF,EAAUpwB,SAAS,aAAc/iE,EAAMsK,EAAMwnC,GACtCwlD,GAGXA,EAAOpiD,UAAY,SAAS0jD,GAmBxB,OAlBAz4F,OAAOwE,KAAKi0F,GAAe/6D,SAAQ,SAAS78B,GAExC,GADAozC,EAAIo/C,MAAMxyF,GAAO43F,EAAc53F,GAC3ByC,MAAMa,QAAQ8vC,EAAIo/C,MAAMxyF,IAAO,CAC/B,IAAIvB,EAAI,EACRU,OAAOC,eAAeg0C,EAAIo/C,MAAOxyF,EAAK,CAClCV,IAAK,WACD,OAAOs4F,EAAc53F,GAAKvB,MAE9B4E,IAAK,SAASw0F,GACVp5F,EAAI,EACJ20C,EAAIo/C,MAAMxyF,GAAO63F,UAGtB,GAA6B,iBAAnBzkD,EAAIo/C,MAAMxyF,GAAmB,CAC1C,IAAI83F,EAAW34F,OAAOwE,KAAKyvC,EAAIo/C,MAAMxyF,IACrC+3F,KAAKlkD,QAAQ,OAAO7zC,EAAK,QAAS83F,EAAS50F,IAAInE,GAAGq0C,EAAIo/C,MAAMxyF,GAAKjB,SAGlEu3F,GAGXA,EAAOS,WAAaT,EAAOpiD,UAE3BoiD,EAAOn6C,OAAS86C,EAAe96C,OAE/Bm6C,EAAOp6C,QAAU,SAASl9C,EAAM+gD,EAAIC,GAEhC,OADA9D,EAAU+6C,EAAe/6C,QAAQl9C,EAAM+gD,EAAIC,GACpC5M,GAGXkjD,EAAOlgC,cAAgB,SAASp3D,EAAM+gD,EAAIC,GAEtC,OADA9D,EAAU+6C,EAAel3F,OAAOf,EAAM+gD,EAAIC,GACnC5M,GAGXkjD,EAAO0B,IAAM,SAASh5F,EAAMg/B,GACxB,IAAI+hB,EAAKu2C,EAAOn6C,OAAOC,OAAOpe,EAAM+hB,IAChCC,EAAKs2C,EAAOn6C,OAAOG,SAASte,EAAMgiB,IAC7BhiB,EAAMiW,YAEfqiD,EAAOp6C,QAAQl9C,EAAM+gD,EAAIC,GAEzB,IAAItW,EAAO1L,EAAM2vB,QAAU3vB,EAAM0L,KAEjC,OAAO,SAASsoC,GACZ,IAAI38B,EAAKihD,EAAOp6C,QAAQl9C,GACxB,OAAO0qC,EAAK9qC,KAAKy2C,EAAI28B,KAI7BskB,EAAO2B,UAAY,WACf,MAAO,CAAC3qC,EAAOpkD,MAAOokD,EAAOtW,SAGjCs/C,EAAOnE,UAAYA,EAEZmE,E,8GCnSJ,SAAS4B,EAAMp9E,EAAI0gE,EAAI2c,EAAIC,EAAIC,GACpC,IAAI5rE,EAAK3R,EAAKA,EAAIw9E,EAAK7rE,EAAK3R,EAC5B,QAAS,EAAI,EAAIA,EAAK,EAAI2R,EAAK6rE,GAAM9c,GAC9B,EAAI,EAAI/uD,EAAK,EAAI6rE,GAAMH,GACvB,EAAI,EAAIr9E,EAAK,EAAI2R,EAAK,EAAI6rE,GAAMF,EACjCE,EAAKD,GAAM,EAGJ,I,QCHA,kBACb,IAAI5xF,EAAQ,YAAM6B,GAElB,SAAS5B,EAAInB,EAAO4J,GAClB,IAAI5P,EAAIkH,GAAOlB,EAAQ,YAASA,IAAQhG,GAAI4P,EAAM,YAASA,IAAM5P,GAC7DiL,EAAI/D,EAAMlB,EAAMiF,EAAG2E,EAAI3E,GACvB7E,EAAIc,EAAMlB,EAAMI,EAAGwJ,EAAIxJ,GACvB+jB,EAAU,YAAQnkB,EAAMmkB,QAASva,EAAIua,SACzC,OAAO,SAAS/pB,GAKd,OAJA4F,EAAMhG,EAAIA,EAAEI,GACZ4F,EAAMiF,EAAIA,EAAE7K,GACZ4F,EAAMI,EAAIA,EAAEhG,GACZ4F,EAAMmkB,QAAUA,EAAQ/pB,GACjB4F,EAAQ,IAMnB,OAFAmB,EAAIkY,MAAQ25E,EAEL7xF,EAnBM,CAoBZ,GAEH,SAAS8xF,EAAUl7B,GACjB,OAAO,SAAS96D,GACd,IAII/D,EAAGgI,EAJHvG,EAAIsC,EAAOD,OACXhD,EAAI,IAAIkD,MAAMvC,GACdsK,EAAI,IAAI/H,MAAMvC,GACdyF,EAAI,IAAIlD,MAAMvC,GAElB,IAAKzB,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBgI,EAAQ,YAASjE,EAAO/D,IACxBc,EAAEd,GAAKgI,EAAMlH,GAAK,EAClBiL,EAAE/L,GAAKgI,EAAM+D,GAAK,EAClB7E,EAAElH,GAAKgI,EAAMd,GAAK,EAMpB,OAJApG,EAAI+9D,EAAO/9D,GACXiL,EAAI8yD,EAAO9yD,GACX7E,EAAI23D,EAAO33D,GACXc,EAAMijB,QAAU,EACT,SAAS/pB,GAId,OAHA8G,EAAMlH,EAAIA,EAAEI,GACZ8G,EAAM+D,EAAIA,EAAE7K,GACZ8G,EAAMd,EAAIA,EAAEhG,GACL8G,EAAQ,KAKd,IAAIgyF,EAAWD,GD7CP,YACb,IAAIt4F,EAAI2D,EAAOtB,OAAS,EACxB,OAAO,SAAS5C,GACd,IAAIlB,EAAIkB,GAAK,EAAKA,EAAI,EAAKA,GAAK,GAAKA,EAAI,EAAGO,EAAI,GAAKW,KAAKa,MAAM/B,EAAIO,GAChEi4F,EAAKt0F,EAAOpF,GACZ25F,EAAKv0F,EAAOpF,EAAI,GAChB+8E,EAAK/8E,EAAI,EAAIoF,EAAOpF,EAAI,GAAK,EAAI05F,EAAKC,EACtCC,EAAK55F,EAAIyB,EAAI,EAAI2D,EAAOpF,EAAI,GAAK,EAAI25F,EAAKD,EAC9C,OAAOD,GAAOv4F,EAAIlB,EAAIyB,GAAKA,EAAGs7E,EAAI2c,EAAIC,EAAIC,OCsClBG,GCpDb,YACb,IAAIt4F,EAAI2D,EAAOtB,OACf,OAAO,SAAS5C,GACd,IAAIlB,EAAIoC,KAAKa,QAAQ/B,GAAK,GAAK,IAAMA,EAAIA,GAAKO,GAC1Cs7E,EAAK33E,GAAQpF,EAAIyB,EAAI,GAAKA,GAC1Bi4F,EAAKt0F,EAAOpF,EAAIyB,GAChBk4F,EAAKv0F,GAAQpF,EAAI,GAAKyB,GACtBm4F,EAAKx0F,GAAQpF,EAAI,GAAKyB,GAC1B,OAAOg4F,GAAOv4F,EAAIlB,EAAIyB,GAAKA,EAAGs7E,EAAI2c,EAAIC,EAAIC,Q,6BCV9C,oDAGW11F,EAAS,IAAIF,MAAM,GAAG02B,OAC/B,qBACA,2BACA,iCACA,uCACA,6CACA,mDACA,0DACAj2B,IAAI,KAES,gBAAKP,I,iBCbpB,oBAIQ,WAAe,aAOvB,IAAI+1F,EAAmC,mBAAZ/hE,QAGvBgiE,EAA+B,iBAATlrE,KAAoBA,KAAO05C,EAEjDyxB,EAAiC,oBAAXp5F,OACtBq5F,EAA2B,oBAAR51F,IACnB61F,EAA2B,oBAAR70F,IACnB80F,EAAmC,oBAAZC,QACvBC,EAAmC,oBAAZC,QACvBC,EAAqC,oBAAbnzF,SACxBozF,EAAuBR,QAA2C,IAApBp5F,OAAO65F,SACrDC,EAA0BV,QAA8C,IAAvBp5F,OAAOC,YACxD85F,EAAmBT,GAA8C,mBAA1B70F,IAAI5D,UAAUyD,QACrD01F,EAAmBX,GAA8C,mBAA1B51F,IAAI5C,UAAUyD,QACrD21F,EAAuBF,GAAoBp6F,OAAOu6F,gBAAe,IAAIz1F,KAAMH,WAC3E61F,EAAuBH,GAAoBr6F,OAAOu6F,gBAAe,IAAIz2F,KAAMa,WAC3E81F,EAAsBR,GAAoE,mBAArC32F,MAAMpC,UAAUb,OAAO65F,UAC5EQ,EAAyBD,GAAuBz6F,OAAOu6F,eAAe,GAAGl6F,OAAO65F,aAChFS,EAAuBV,GAAqE,mBAAtCnuF,OAAO5K,UAAUb,OAAO65F,UAC9EU,EAA0BD,GAAwB36F,OAAOu6F,eAAe,GAAGl6F,OAAO65F,aAkWtF,OArVA,SAAoBrgE,GAelB,IAAIghE,SAAmBhhE,EACvB,GAAkB,WAAdghE,EACF,OAAOA,EAST,GAAY,OAARhhE,EACF,MAAO,OAmBT,GAAIA,IAAQ2/D,EACV,MAAO,SAST,GACEl2F,MAAMa,QAAQ01B,MACe,IAA5BsgE,KAAuC95F,OAAOC,eAAeu5B,IAE9D,MAAO,QAKT,GAAsB,iBAAXrN,QAAkC,OAAXA,OAAiB,CAQjD,GAA+B,iBAApBA,OAAO6nB,UAAyBxa,IAAQrN,OAAO6nB,SACxD,MAAO,WAsBT,GAA+B,iBAApB7nB,OAAO+D,UAAyBsJ,IAAQrN,OAAO+D,SACxD,MAAO,WAGT,GAAgC,iBAArB/D,OAAOm8D,UAAwB,CAOxC,GAA0C,iBAA/Bn8D,OAAOm8D,UAAUmS,WACxBjhE,IAAQrN,OAAOm8D,UAAUmS,UAC3B,MAAO,gBAST,GAAwC,iBAA7BtuE,OAAOm8D,UAAUoS,SACxBlhE,IAAQrN,OAAOm8D,UAAUoS,QAC3B,MAAO,cAIX,IAAmC,mBAAvBvuE,OAAOwuE,aACe,iBAAvBxuE,OAAOwuE,cACdnhE,aAAerN,OAAOwuE,YAAa,CAOrC,GAAoB,eAAhBnhE,EAAIohE,QACN,MAAO,mBAeT,GAAoB,OAAhBphE,EAAIohE,QACN,MAAO,2BAeT,GAAoB,OAAhBphE,EAAIohE,QACN,MAAO,8BA2Bb,IAAIC,EAAaf,GAA2BtgE,EAAIx5B,OAAOC,aACvD,GAAyB,iBAAd46F,EACT,OAAOA,EAGT,IAAIC,EAAen7F,OAAOu6F,eAAe1gE,GASzC,OAAIshE,IAAiBxnF,OAAOzS,UACnB,SASLi6F,IAAiBl0F,KAAK/F,UACjB,OAYLq4F,GAAiB4B,IAAiB3jE,QAAQt2B,UACrC,UASLy4F,GAAawB,IAAiBr2F,IAAI5D,UAC7B,MASLw4F,GAAayB,IAAiBr3F,IAAI5C,UAC7B,MASL44F,GAAiBqB,IAAiBpB,QAAQ74F,UACrC,UASL04F,GAAiBuB,IAAiBtB,QAAQ34F,UACrC,UASL84F,GAAkBmB,IAAiBt0F,SAAS3F,UACvC,WASLw4F,GAAayB,IAAiBX,EACzB,eASLb,GAAawB,IAAiBb,EACzB,eASLG,GAAuBU,IAAiBT,EACnC,iBASLC,GAAwBQ,IAAiBP,EACpC,kBASY,OAAjBO,EACK,SAGFn7F,OACJkB,UACAwG,SACAjI,KAAKo6B,GACLt2B,MA9VyB,GACC,KAhCiClE,EAAOD,QAAUysB,M,kCCEjF,IAAIuvE,EAAU,EAAQ,IAClB7rB,EAAgB,EAAQ,IACxB8rB,EAA0B,EAAQ,KAClCzpD,EAAS,EAAQ,IAErBvyC,EAAOD,QAiBP,SAAiBy6B,EAAKyhE,EAAYta,EAAO39E,GAMvC,OAAOk4F,EALG,CACRD,WAAYA,EACZE,KAAM,GACNC,QAAS,SAAUzyC,GAAO,OAAOA,IAEXnvB,OAAuB,IAAVmnD,EAAwB,EAAIA,IAgBnE,SAASua,EAAYtnD,EAAK1zC,EAAOm7F,GAG/B,GAAIn7F,GAAkC,mBAAlBA,EAAMo7F,SAEtBp7F,EAAMo7F,UAAYv8F,EAAQu8F,WAExBp7F,EAAM6D,aAAe7D,EAAM6D,YAAYlD,YAAcX,GAAQ,CACjE,IAAIq7F,EAAMr7F,EAAMo7F,QAAQD,EAAcznD,GAItC,MAHmB,iBAAR2nD,IACTA,EAAML,EAAYtnD,EAAK2nD,EAAKF,IAEvBE,EAIT,IA5B2B56F,EA4BvBwvD,EAuIN,SAAyBvc,EAAK1zC,GAC5B,cAAeA,GACb,IAAK,YACH,OAAO0zC,EAAIwnD,QAAQ,YAAa,aAElC,IAAK,SACH,IAAII,EAAS,IAAOpiC,KAAKC,UAAUn5D,GAAOqL,QAAQ,SAAU,IAClBA,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAAO,IACjE,OAAOqoC,EAAIwnD,QAAQI,EAAQ,UAE7B,IAAK,SACH,OAAc,IAAVt7F,GAAgB,EAAEA,IAAY4M,IACzB8mC,EAAIwnD,QAAQ,KAAM,UAEpBxnD,EAAIwnD,QAAQ,GAAKl7F,EAAO,UAEjC,IAAK,UACH,OAAO0zC,EAAIwnD,QAAQ,GAAKl7F,EAAO,WAEjC,IAAK,SACH,OAAO0zC,EAAIwnD,QAAQl7F,EAAMmH,WAAY,UAGzC,GAAc,OAAVnH,EACF,OAAO0zC,EAAIwnD,QAAQ,OAAQ,QAhKbK,CAAgB7nD,EAAK1zC,GACrC,GAAIiwD,EACF,OAAOA,EAIT,GAlC2BxvD,EAkCVT,EAjCU,iBAAhBy6F,YACFh6F,aAAkBg6F,YAElBh6F,GACa,iBAAXA,GACP,aAAcA,GACM,IAApBA,EAAO+6F,UACoB,iBAApB/6F,EAAOg7F,SA0BO,CACvB,GAAI,cAAez7F,EACjB,OAAOA,EAAM07F,UAKb,IACE,GAAI1rE,SAAS2rE,WAEX,OADoB,IAAI/sC,eACHC,kBAAkB7uD,GAKvC,IACIo3C,EAAYpnB,SAASY,gBADhB,+BACoC,KAE7CwmB,EAAU9mB,YAAYtwB,EAAMwtF,WAAU,IACtC,IAAI7tB,EAAOvoB,EAAUu1C,UAClBthF,QAAQ,KAAM,IAAMrL,EAAM2sF,UAAY,KAEzC,OADAv1C,EAAUu1C,UAAY,GACfhtB,EAET,MAAOmE,KASb,IAGIxkE,EAAMs8F,EAHNC,EAAcf,EAAwB96F,GACtCiE,EAAOyvC,EAAIqnD,WAAa/rB,EAAchvE,GAAS67F,EAOnD,GAAoB,IAAhB53F,EAAKpB,QAAiBi5F,EAAQ97F,KACb,IAAhBiE,EAAKpB,QAA4B,UAAZoB,EAAK,IACV,IAAhBA,EAAKpB,QAA4B,gBAAZoB,EAAK,IAAoC,UAAZA,EAAK,IACrD,CACL,GAAqB,mBAAVjE,EAGT,OADA47F,GADAt8F,EAAOu7F,EAAQ76F,IACK,KAAOV,EAAO,GAC3Bo0C,EAAIwnD,QAAQ,YAAcU,EAAa,IAAK,WAErD,GAAIG,EAAS/7F,GACX,OAAO0zC,EAAIwnD,QAAQ9nF,OAAOzS,UAAUwG,SAASjI,KAAKc,GAAQ,UAE5D,GAAIg8F,EAAOh8F,GACT,OAAO0zC,EAAIwnD,QAAQx0F,KAAK/F,UAAUs7F,YAAY/8F,KAAKc,GAAQ,QAE7D,GAAI87F,EAAQ97F,GACV,OAAOk8F,EAAYl8F,GAIvB,IA4NoBi8D,EAxKhBxzD,EApDA4F,EAAO,GACP6O,GAAQ,EACRi/E,GAAa,EACbC,EAAS,CAAC,IAAK,KA+BnB,GA6LsB,iBAHFngC,EAvNHj8D,IA0NiB,aAAa8L,KAAKuwF,EAAepgC,MAzNjEkgC,GAAa,EACbC,EAAS,CAAC,IAAK,MA2NnB,SAAiBngC,GACf,OAAOl5D,MAAMa,QAAQq4D,IACC,iBAAPA,GAA0C,mBAAvBogC,EAAepgC,GAzN7Cr4D,CAAQ5D,KACVkd,GAAQ,EACRk/E,EAAS,CAAC,IAAK,MAII,mBAAVp8F,IAGTqO,EAAO,cADPutF,GADAt8F,EAAOu7F,EAAQ76F,IACK,KAAOV,EAAO,IACC,KAIjCy8F,EAAS/7F,KACXqO,EAAO,IAAM+E,OAAOzS,UAAUwG,SAASjI,KAAKc,IAI1Cg8F,EAAOh8F,KACTqO,EAAO,IAAM3H,KAAK/F,UAAUs7F,YAAY/8F,KAAKc,IAI3C87F,EAAQ97F,GACV,OAAOk8F,EAAYl8F,GAGrB,GAAoB,IAAhBiE,EAAKpB,UAAkBqa,GAAyB,GAAhBld,EAAM6C,QACxC,OAAOu5F,EAAO,GAAK/tF,EAAO+tF,EAAO,GAGnC,GAAIjB,EAAe,EACjB,OAAIY,EAAS/7F,GACJ0zC,EAAIwnD,QAAQ9nF,OAAOzS,UAAUwG,SAASjI,KAAKc,GAAQ,UAEnD0zC,EAAIwnD,QAAQ,WAAY,WAOnC,GAHAxnD,EAAIunD,KAAK/2F,KAAKlE,GAGVkd,EACFzU,EA+CJ,SAAqBirC,EAAK1zC,EAAOm7F,EAAcU,EAAa53F,GAE1D,IADA,IAAIwE,EAAS,GACJ1J,EAAI,EAAGC,EAAIgB,EAAM6C,OAAQ9D,EAAIC,IAAKD,EACrCU,OAAOkB,UAAUC,eAAe1B,KAAKc,EAAOuL,OAAOxM,IACrD0J,EAAOvE,KAAKo4F,EAAe5oD,EAAK1zC,EAAOm7F,EAAcU,EACjDtwF,OAAOxM,IAAI,IAEf0J,EAAOvE,KAAK,IAUhB,OANAD,EAAKk5B,SAAQ,SAAS78B,GACfA,EAAI2I,MAAM,UACbR,EAAOvE,KAAKo4F,EAAe5oD,EAAK1zC,EAAOm7F,EAAcU,EACjDv7F,GAAK,OAGNmI,EAhEI8zF,CAAY7oD,EAAK1zC,EAAOm7F,EAAcU,EAAa53F,OACvD,IAAIk4F,EACT,OAiEJ,SAA0Bn8F,GAGxB,IAFA,IAAIyoD,EAAM,KAED1pD,EAAI,EAAGA,EAAIiB,EAAM6C,SAAU9D,EAAG,CACrC,GAAI0pD,EAAI5lD,QAAUwuC,EAAOq1B,kBAAoB,EAAG,CAC9Cje,GAAO,MACP,MAEFA,GAAOzoD,EAAMjB,GAAK,MAKS,KAH7B0pD,GAAO,MAGC1+C,QAAQ,UACd0+C,EAAMA,EAAIp9C,QAAQ,OAAQ,OAG5B,OAAOo9C,EAlFE+zC,CAAiBx8F,GAExByI,EAASxE,EAAKT,KAAI,SAASlD,GACzB,OAAOg8F,EAAe5oD,EAAK1zC,EAAOm7F,EAAcU,EAAav7F,EAAK4c,MAMtE,OAFAw2B,EAAIunD,KAAKxrE,MA4IX,SAA8BhnB,EAAQ4F,EAAM+tF,GAK1C,GAJa3zF,EAAOy4B,QAAO,SAASu7D,EAAMC,GACxC,OAAOD,EAAOC,EAAI75F,OAAS,IAC1B,GAEU,GACX,OAAOu5F,EAAO,IACG,KAAT/tF,EAAc,GAAKA,EAAO,OAC3B,IACA5F,EAAO0B,KAAK,SACZ,IACAiyF,EAAO,GAGhB,OAAOA,EAAO,GAAK/tF,EAAO,IAAM5F,EAAO0B,KAAK,MAAQ,IAAMiyF,EAAO,GAxJ1DO,CAAqBl0F,EAAQ4F,EAAM+tF,GAgC5C,SAASF,EAAYl8F,GACnB,MAAO,IAAMmJ,MAAMxI,UAAUwG,SAASjI,KAAKc,GAAS,IA2CtD,SAASs8F,EAAe5oD,EAAK1zC,EAAOm7F,EAAcU,EAAav7F,EAAK4c,GAClE,IAAI5d,EAEAmpD,EADAm0C,EAAiBn9F,OAAOmvE,yBAAyB5uE,EAAOM,GAyC5D,GAtCIs8F,IACEA,EAAeh9F,IAEf6oD,EADEm0C,EAAej5F,IACX+vC,EAAIwnD,QAAQ,kBAAmB,WAE/BxnD,EAAIwnD,QAAQ,WAAY,WAG5B0B,EAAej5F,MACjB8kD,EAAM/U,EAAIwnD,QAAQ,WAAY,aAIhCW,EAAY9xF,QAAQzJ,GAAO,IAC7BhB,EAAO,IAAMgB,EAAM,KAEhBmoD,IACC/U,EAAIunD,KAAKlxF,QAAQ/J,EAAMM,IAAQ,GAE/BmoD,EAAMuyC,EAAYtnD,EAAK1zC,EAAMM,GADV,OAAjB66F,EACiC,KAEAA,EAAe,IAE5CpxF,QAAQ,OAAS,IAErB0+C,EADEvrC,EACIurC,EAAIh4B,MAAM,MAAMjtB,KAAI,SAASs1B,GACjC,MAAO,KAAOA,KACb3uB,KAAK,MAAM0nD,OAAO,GAEf,KAAOpJ,EAAIh4B,MAAM,MAAMjtB,KAAI,SAASs1B,GACxC,MAAO,MAAQA,KACd3uB,KAAK,OAIZs+C,EAAM/U,EAAIwnD,QAAQ,aAAc,iBAGhB,IAAT57F,EAAsB,CAC/B,GAAI4d,GAAS5c,EAAI2I,MAAM,SACrB,OAAOw/C,GAETnpD,EAAO45D,KAAKC,UAAU,GAAK74D,IAClB2I,MAAM,iCACb3J,EAAOA,EAAKuyD,OAAO,EAAGvyD,EAAKuD,OAAS,GACpCvD,EAAOo0C,EAAIwnD,QAAQ57F,EAAM,UAEzBA,EAAOA,EAAK+L,QAAQ,KAAM,OACdA,QAAQ,OAAQ,KAChBA,QAAQ,WAAY,KAChC/L,EAAOo0C,EAAIwnD,QAAQ57F,EAAM,WAI7B,OAAOA,EAAO,KAAOmpD,EA+BvB,SAASszC,EAAShzF,GAChB,MAAqB,iBAAPA,GAA0C,oBAAvBszF,EAAetzF,GAGlD,SAASizF,EAAO38F,GACd,MAAoB,iBAANA,GAAwC,kBAAtBg9F,EAAeh9F,GAGjD,SAASy8F,EAAQhvF,GACf,MAAoB,iBAANA,GAAwC,mBAAtBuvF,EAAevvF,GAGjD,SAASuvF,EAAe78F,GACtB,OAAOC,OAAOkB,UAAUwG,SAASjI,KAAKM,K,6BCtXxC,YAEA,IAAIq9F,EAAa,CAAC,cAAe,eAAgB,QAAS,WAAY,SAAU,aAC5EC,EAAQ,CAAC,QAAS,QAAS,QAAS,SAEpC9qD,EAAY,CACZ,CAAC1yC,KAAM,YAAak+B,MAAO,MAAOizB,KAAM,UAAW9tD,IAAK,EAAGD,IAAK,IAChE,CAACpD,KAAM,aAAck+B,MAAO,SAAUr5B,OAAQ,CAAC,IAAK,MACpD,CAAC7E,KAAM,aAAck+B,MAAO,QAASizB,KAAM,SAAU9tD,IAAK,EAAGD,IAAK,GAAIylE,KAAM,EAAG5lC,IAAK,GACpF,CAACjjC,KAAM,YAAak+B,MAAO,MAAOizB,KAAM,SAAU9tD,IAAK,GAAID,IAAK,GAAIylE,KAAM,GAAI5lC,IAAK,IACnF,CAACjjC,KAAM,aAAck+B,MAAO,SAAUr5B,OAAQ24F,GAC9C,CAACx9F,KAAM,eAAgBk+B,MAAO,SAAUr5B,OAAQ,CAAC,UAAW,cAC5D,CAAC7E,KAAM,YAAak+B,MAAO,SAAUr5B,OAAQ04F,GAC7C,CAACv9F,KAAM,eAAgBk+B,MAAO,MAAOizB,KAAM,SAAU9tD,IAAK,IAAKD,IAAK,IAAKylE,KAAM,IAAK5lC,IAAK,IACzF,CAACjjC,KAAM,eAAgBk+B,MAAO,QAASizB,KAAM,SAAU9tD,IAAK,GAAID,IAAK,IAAKylE,KAAM,IAAK5lC,IAAK,IAC1F,CAACjjC,KAAM,gBAAiBk+B,MAAO,QAASizB,KAAM,SAAU9tD,IAAK,EAAGD,IAAK,IAAKylE,KAAM,GAAI5lC,IAAK,IACzF,CAACjjC,KAAM,YAAak+B,MAAO,MAAOizB,KAAM,SAAU9tD,IAAK,GAAID,IAAK,GAAIylE,KAAM,GAAI5lC,IAAK,IACnF,CAACjjC,KAAM,aAAck+B,MAAO,SAAUr5B,OAAQ24F,GAC9C,CAACx9F,KAAM,YAAak+B,MAAO,SAAUr5B,OAAQ04F,IAG7CpgE,EAAS,GACb,IAAI,IAAI+wB,KAAQxb,EACZvV,EAAO+wB,EAAKluD,MAAQkuD,EAAKhwB,MAG7B,SAASmqC,EAAOzrC,GACZ,IAAIoW,EAAYznC,OAAOwnC,UAAUnW,GAAQA,EAAMA,EAAI73B,KAC/Ci6B,EAAQpC,EAAIoC,OAAS0T,EAGzB,MAAO,CAAEzZ,KADY,UADV2D,EAAItyB,MAAQ,QACQ,YAAY,CAAC00B,MAAOA,EAAOj6B,KAAMiuC,IAAY,YAAa,CAAChU,MAAOA,EAAOj6B,KAAMiuC,IAC/F7V,UAGnBkrC,EAAOlrC,OAASA,EAED,O,6BCpCf,YAEe,wBACbsgE,EAAY,IAAG,OACf5jE,EAAS,EAAC,SACVzrB,EAAW,EAAC,MACZ4wB,EAAK,MACL2tB,EAAQ,CAACj0C,KAAM,YAAamhB,OAAQ,SAEpC,IACIZ,EAAO,IAAIx1B,MADHg6F,EAAY5jE,GAExB,IAAI,IAAIp6B,EAAI,EAAGA,EAAIg+F,EAAWh+F,IAC5B,IAAI,IAAIkJ,EAAI,EAAGA,EAAIkxB,EAAQlxB,IAAK,CAC9B,IAAI+0F,EAAS,GACbA,EAAO/wC,EAAMj0C,MAAQjZ,EAAI2O,EACzBsvF,EAAO/wC,EAAM9yB,QAAUlxB,EACvB,IAAI,IAAIulD,KAAQlvB,EACZ,GAAGkvB,EAAK5sD,eAAe,UAAU,CAC7B,IAAI43D,EAAM9uC,SAAUvoB,KAAKoE,MAAOpE,KAAKinE,UAAY5a,EAAKrpD,OAAOtB,OAAS,KACtEm6F,EAAOxvC,EAAKluD,MAAQkuD,EAAKrpD,OAAOq0D,OAC7B,CACH,IAAIx4D,EAAQ,YAAcwtD,GAC1BwvC,EAAOxvC,EAAKluD,MAAuB,SAAdkuD,EAAKhwB,MAAoBI,WAAW59B,GAASmB,KAAKoE,MAAMvF,GAGrFu4B,EAAKx5B,EAAIo6B,EAASlxB,GAAK+0F,EAI3B,IAAIvgE,EAAS,GACbA,EAAOwvB,EAAMj0C,MAAQ,MACrBykB,EAAOwvB,EAAM9yB,QAAU,QACvB,IAAI,IAAIq0B,KAAQlvB,EACZ7B,EAAO+wB,EAAKluD,MAAQkuD,EAAKhwB,MAG7B,MAAO,CACLjF,OACAkE,Y,eCtCJ39B,EAAOD,QAAU,SAASo+F,GACzB,IAAKA,EAAeC,gBAAiB,CACpC,IAAIp+F,EAASW,OAAOY,OAAO48F,GAEtBn+F,EAAOy2B,WAAUz2B,EAAOy2B,SAAW,IACxC91B,OAAOC,eAAeZ,EAAQ,SAAU,CACvCa,YAAY,EACZC,IAAK,WACJ,OAAOd,EAAOE,KAGhBS,OAAOC,eAAeZ,EAAQ,KAAM,CACnCa,YAAY,EACZC,IAAK,WACJ,OAAOd,EAAOC,KAGhBU,OAAOC,eAAeZ,EAAQ,UAAW,CACxCa,YAAY,IAEbb,EAAOo+F,gBAAkB,EAE1B,OAAOp+F,I,6BCtBR,mCAKA,SAASq+F,EAAW99F,EAAGiB,GACrB,OAAOjB,EAAEiB,GAGI,eACb,IAAI2D,EAAO,YAAS,IAChBu0B,EAAQ,IACRlpB,EAAS,IACTtP,EAAQm9F,EAEZ,SAAS3/B,EAAMjlC,GACb,IACIx5B,EAIAq+F,EALAC,EAAKp5F,EAAKgB,MAAM3B,KAAMD,WAEtBlE,EAAIo5B,EAAK11B,OACTrC,EAAI68F,EAAGx6F,OACPy6F,EAAK,IAAIv6F,MAAMvC,GAGnB,IAAKzB,EAAI,EAAGA,EAAIyB,IAAKzB,EAAG,CACtB,IAAK,IAAkDw+F,EAA9CC,EAAKH,EAAGt+F,GAAIsvC,EAAKivD,EAAGv+F,GAAK,IAAIgE,MAAM5D,GAAI8I,EAAI,EAAQA,EAAI9I,IAAK8I,EACnEomC,EAAGpmC,GAAKs1F,EAAM,CAAC,GAAIv9F,EAAMu4B,EAAKtwB,GAAIu1F,EAAIv1F,EAAGswB,IACzCglE,EAAIhlE,KAAOA,EAAKtwB,GAElBomC,EAAG/tC,IAAMk9F,EAGX,IAAKz+F,EAAI,EAAGq+F,EAAK5kE,EAAM8kE,GAAKv+F,EAAIyB,IAAKzB,EACnCu+F,EAAGF,EAAGr+F,IAAI6F,MAAQ7F,EAIpB,OADAuQ,EAAOguF,EAAIF,GACJE,EAmBT,OAhBA9/B,EAAMv5D,KAAO,SAASc,GACpB,OAAO1B,UAAUR,QAAUoB,EAAoB,mBAANc,EAAmBA,EAAI,YAAS,IAAM7F,KAAK6F,IAAKy4D,GAASv5D,GAGpGu5D,EAAMx9D,MAAQ,SAAS+E,GACrB,OAAO1B,UAAUR,QAAU7C,EAAqB,mBAAN+E,EAAmBA,EAAI,aAAUA,GAAIy4D,GAASx9D,GAG1Fw9D,EAAMhlC,MAAQ,SAASzzB,GACrB,OAAO1B,UAAUR,QAAU21B,EAAa,MAALzzB,EAAY,IAAyB,mBAANA,EAAmBA,EAAI,YAAS,IAAM7F,KAAK6F,IAAKy4D,GAAShlC,GAG7HglC,EAAMluD,OAAS,SAASvK,GACtB,OAAO1B,UAAUR,QAAUyM,EAAc,MAALvK,EAAY,IAAaA,EAAGy4D,GAASluD,GAGpEkuD,I,6BCvDT,WAEe,gBAAO,iE;;;;;;;;;;;;;;ACatB,SAASigC,IACP,IAAI/jC,EAAW,GAAG12D,MAAM9D,KAAKmE,WAE7B,SAASq6F,EAAclnD,EAAKld,GAC1B75B,OAAOwE,KAAKq1B,GAAK6D,SAAQ,SAAU78B,IAC3Bo5D,EAAS3vD,QAAQzJ,KAAMk2C,EAAIl2C,GAAOg5B,EAAIh5B,OAIhD,OAAO,WAKL,IAJA,IAAIgyE,EAAO,GAAGtvE,MAAM9D,KAAKmE,WACrBtE,EAAI,EACJy3C,EAAM,GAEHz3C,EAAIuzE,EAAKzvE,OAAQ9D,IACtB2+F,EAAalnD,EAAK87B,EAAKvzE,IAGzB,OAAOy3C,GAqBX,SAASvF,EAAgB0sD,EAASC,EAAQC,GACxC,IACIv/D,EADSm/D,EAAQ,OAAQ,UAAW,QAAS,cAAe,SACpDryE,CAAOwyE,GAAU,IAO7B,IAAK,IAAIt9F,KAJTgD,KAAKq6F,QAAUA,GAAW,6BAC1Br6F,KAAKmjE,UAAW,EAGAnoC,EACdh7B,KAAKhD,GAAOg+B,EAAMh+B,GAKpB,GADAu9F,EAAMA,GAAO5sD,EACT9nC,MAAM20F,kBACR30F,MAAM20F,kBAAkBx6F,KAAMu6F,QAE9B,IACE,MAAM,IAAI10F,MACV,MAAM2D,GACNxJ,KAAKk6D,MAAQ1wD,EAAE0wD;;;;;;;AAlCrB1+D,EAAOD,QAAUoyC,EA2CjBA,EAAetwC,UAAYlB,OAAOY,OAAO8I,MAAMxI;;;;AAM/CswC,EAAetwC,UAAUrB,KAAO;;;;AAMhC2xC,EAAetwC,UAAUkD,YAAcotC,EASvCA,EAAetwC,UAAUo9F,OAAS,SAAUvgC,GAC1C,IACIl/B,EADSm/D,EAAQ,cAAe,SAAU,QAClCryE,CAAO,CAAE9rB,KAAMgE,KAAKhE,MAAQgE,MAOxC,OAJI,IAAUk6D,GAASl6D,KAAKk6D,QAC1Bl/B,EAAMk/B,MAAQl6D,KAAKk6D,OAGdl/B,I;;;;;;ACjGTx/B,EAAOD,QAAU,SAAmBy6B,EAAKg5C,GACvC,OAAOA,EAAKzvE,OAAS,EAAIyvE,EAAK,GAAKh5C,EAAI0kE,O;;;;;;;;;ACRzC,IAAI5C,EAAU,EAAQ,IAClB/pD,EAAS,EAAQ,IAerBvyC,EAAOD,QAAU,SAAoBy6B,GACnC,IAAImvB,EAAM2yC,EAAQ9hE,GACd1vB,EAAOnK,OAAOkB,UAAUwG,SAASjI,KAAKo6B,GAE1C,GAAI+X,EAAOq1B,mBAAqBje,EAAI5lD,QAAUwuC,EAAOq1B,kBAAmB,CACtE,GAAa,sBAAT98D,EACF,OAAQ0vB,EAAIh6B,MAAqB,KAAbg6B,EAAIh6B,KAEpB,cAAgBg6B,EAAIh6B,KAAO,IAD3B,aAEC,GAAa,mBAATsK,EACT,MAAO,WAAa0vB,EAAIz2B,OAAS,MAC5B,GAAa,oBAAT+G,EAA4B,CACrC,IAAI3F,EAAOxE,OAAOwE,KAAKq1B,GAIvB,MAAO,cAHIr1B,EAAKpB,OAAS,EACnBoB,EAAKmtB,OAAO,EAAG,GAAGjnB,KAAK,MAAQ,QAC/BlG,EAAKkG,KAAK,OACa,MAE7B,OAAOs+C,EAGT,OAAOA,I,6BC1BX,IAAIthD,EAAWmvD,SAAS31D,UAAUwG,SAC9B82F,EAAoB,2DAqBxBn/F,EAAOD,QApBP,SAAqBq/F,GACnB,GAAqB,mBAAVA,EACT,OAAO,KAGT,IAAI5+F,EAAO,GACX,QAAuC,IAA5Bg3D,SAAS31D,UAAUrB,WAA8C,IAAf4+F,EAAM5+F,KAAsB,CAEvF,IAAI2J,EAAQ9B,EAASjI,KAAKg/F,GAAOj1F,MAAMg1F,GACnCh1F,IACF3J,EAAO2J,EAAM,SAIf3J,EAAO4+F,EAAM5+F,KAGf,OAAOA,I;;;;;;ACrBTR,EAAOD,QAAU,SAAuB4B,GACtC,IAAIwgC,EAASxhC,OAAO0+F,oBAAoB19F,GAExC,SAASutD,EAAYttD,IACe,IAA9BugC,EAAOl3B,QAAQrJ,IACjBugC,EAAO/8B,KAAKxD,GAKhB,IADA,IAAI8D,EAAQ/E,OAAOu6F,eAAev5F,GACjB,OAAV+D,GACL/E,OAAO0+F,oBAAoB35F,GAAO24B,QAAQ6wB,GAC1CxpD,EAAQ/E,OAAOu6F,eAAex1F,GAGhC,OAAOy8B,I;;;;;;ACdTniC,EAAOD,QAAU,SAAyCy6B,GACxD,MAA4C,mBAAjC75B,OAAO2+F,sBAA6C,GAExD3+F,OAAO2+F,sBAAsB9kE,GAAK9pB,QAAO,SAAU6uF,GACxD,OAAO5+F,OAAOmvE,yBAAyBt1C,EAAK+kE,GAAK1+F,gB,iCClBjDwlC,EACAC,EACA53B,EACAw2B,E,qCALAmvC,EAAU,OAAAloD,EAAA,KACVioD,EAAc,OAAAjoD,EAAA,KAMdmoD,EAAa,CACfn1D,MAAOb,EAAA,EACPyB,UAAWzB,EAAA,EACX0B,QAAS1B,EAAA,EACT2B,aAAc,WACZq0D,EAAWv0D,UAAYw0D,EACvBD,EAAWt0D,QAAUw0D,GAEvBt0D,WAAY,WACVo0D,EAAWv0D,UAAYu0D,EAAWt0D,QAAUs0D,EAAWn1D,MAAQb,EAAA,EAC/D+1D,EAAQ1uE,IAAI,YAAIyuE,IAChBA,EAAYnoD,SAEdkW,OAAQ,WACN,IAAIk8B,EAAOgW,EAAU,EAErB,OADAA,EAAQpoD,QACDoyC,IAIX,SAASkW,IACPD,EAAWn1D,MAAQu1D,EAGrB,SAASA,EAAepxE,EAAGwG,GACzBwqE,EAAWn1D,MAAQw1D,EACnBtuC,EAAM33B,EAAKpL,EAAGgjC,EAAMpB,EAAKp7B,EAG3B,SAAS6qE,EAAUrxE,EAAGwG,GACpBsqE,EAAYzuE,IAAIu/B,EAAK5hC,EAAIoL,EAAK5E,GAC9B4E,EAAKpL,EAAG4hC,EAAKp7B,EAGf,SAAS0qE,IACPG,EAAUtuC,EAAKC,GAGF,ICpCX,EACA,EACA,EACA,EDiCW,I,QC7CXu5C,EAAK,EACLE,EAAK,EACLlJ,EAAK,EACL+I,EAAK,EACLE,EAAK,EACLhJ,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EAMLG,EAAiB,CACnBj4D,MAAOk4D,EACPt3D,UAAWu3D,EACXt3D,QAASu3D,EACTt3D,aAAc,WACZm3D,EAAer3D,UAAYy3D,EAC3BJ,EAAep3D,QAAUy3D,GAE3Bv3D,WAAY,WACVk3D,EAAej4D,MAAQk4D,EACvBD,EAAer3D,UAAYu3D,EAC3BF,EAAep3D,QAAUu3D,GAE3Bp1C,OAAQ,WACN,IAAI2G,EAAWmuC,EAAK,CAACF,EAAKE,EAAID,EAAKC,GAC7BH,EAAK,CAAC8I,EAAK9I,EAAIgJ,EAAKhJ,GACpBD,EAAK,CAACgJ,EAAKhJ,EAAIkJ,EAAKlJ,GACpB,CAACnuE,IAAKA,KAIZ,OAHAm3E,EAAKE,EAAKlJ,EACV+I,EAAKE,EAAKhJ,EACVC,EAAKC,EAAKC,EAAK,EACRnuC,IAIX,SAASuuC,EAAc/zE,EAAGwG,GACxB+1E,GAAMv8E,EACNy8E,GAAMj2E,IACJ+sE,EAGJ,SAASS,IACPF,EAAej4D,MAAQqgF,EAGzB,SAASA,EAAuBl8F,EAAGwG,GACjCstE,EAAej4D,MAAQsgF,EACvBpoB,EAAc,EAAK/zE,EAAG,EAAKwG,GAG7B,SAAS21F,EAAkBn8F,EAAGwG,GAC5B,IAAIy8B,EAAKjjC,EAAI,EAAIkjC,EAAK18B,EAAI,EAAIgG,EAAI,YAAKy2B,EAAKA,EAAKC,EAAKA,GACtDo5C,GAAM9vE,GAAK,EAAKxM,GAAK,EACrBw8E,GAAMhwE,GAAK,EAAKhG,GAAK,EACrBgtE,GAAMhnE,EACNunE,EAAc,EAAK/zE,EAAG,EAAKwG,GAG7B,SAASytE,IACPH,EAAej4D,MAAQk4D,EAGzB,SAASG,IACPJ,EAAej4D,MAAQugF,EAGzB,SAASjoB,IACPkoB,EAAkB,EAAK,GAGzB,SAASD,EAAuBp8F,EAAGwG,GACjCstE,EAAej4D,MAAQwgF,EACvBtoB,EAAc,EAAM,EAAK/zE,EAAG,EAAM,EAAKwG,GAGzC,SAAS61F,EAAkBr8F,EAAGwG,GAC5B,IAAIy8B,EAAKjjC,EAAI,EACTkjC,EAAK18B,EAAI,EACTgG,EAAI,YAAKy2B,EAAKA,EAAKC,EAAKA,GAE5Bo5C,GAAM9vE,GAAK,EAAKxM,GAAK,EACrBw8E,GAAMhwE,GAAK,EAAKhG,GAAK,EACrBgtE,GAAMhnE,EAGNinE,IADAjnE,EAAI,EAAKxM,EAAI,EAAKwG,IACP,EAAKxG,GAChB0zE,GAAMlnE,GAAK,EAAKhG,GAChBmtE,GAAU,EAAJnnE,EACNunE,EAAc,EAAK/zE,EAAG,EAAKwG,GAGd,IAAAg/B,EAAA,EChGA,SAAS82D,EAAYzmE,GAClC30B,KAAK28B,SAAWhI,EAGlBymE,EAAY/9F,UAAY,CACtBg+F,QAAS,IACT5+B,YAAa,SAASh7D,GACpB,OAAOzB,KAAKq7F,QAAU55F,EAAGzB,MAE3Byb,aAAc,WACZzb,KAAKm9B,MAAQ,GAEfzhB,WAAY,WACV1b,KAAKm9B,MAAQj5B,KAEfqX,UAAW,WACTvb,KAAKq9B,OAAS,GAEhB7hB,QAAS,WACY,IAAfxb,KAAKm9B,OAAan9B,KAAK28B,SAASY,YACpCv9B,KAAKq9B,OAASn5B,KAEhByW,MAAO,SAAS7b,EAAGwG,GACjB,OAAQtF,KAAKq9B,QACX,KAAK,EACHr9B,KAAK28B,SAASa,OAAO1+B,EAAGwG,GACxBtF,KAAKq9B,OAAS,EACd,MAEF,KAAK,EACHr9B,KAAK28B,SAASW,OAAOx+B,EAAGwG,GACxB,MAEF,QACEtF,KAAK28B,SAASa,OAAO1+B,EAAIkB,KAAKq7F,QAAS/1F,GACvCtF,KAAK28B,SAASmG,IAAIhkC,EAAGwG,EAAGtF,KAAKq7F,QAAS,EAAG,OAK/C19D,OAAQ7jB,EAAA,GCvCV,IACIwhF,EACA,EACA,EACA,EACA,EALAthB,EAAY,OAAAryD,EAAA,KAOZsyD,EAAe,CACjBt/D,MAAOb,EAAA,EACPyB,UAAW,WACT0+D,EAAat/D,MAAQu/D,GAEvB1+D,QAAS,WACH8/E,GAAYlhB,GAAY,EAAK,GACjCH,EAAat/D,MAAQb,EAAA,GAEvB2B,aAAc,WACZ6/E,GAAa,GAEf5/E,WAAY,WACV4/E,EAAa,MAEf39D,OAAQ,WACN,IAAIp+B,GAAUy6E,EAEd,OADAA,EAAUvyD,QACHloB,IAIX,SAAS26E,EAAiBp7E,EAAGwG,GAC3B20E,EAAat/D,MAAQy/D,GACrB,EAAM,EAAKt7E,EAAG,EAAM,EAAKwG,EAG3B,SAAS80E,GAAYt7E,EAAGwG,GACtB,GAAMxG,EAAG,GAAMwG,EACf00E,EAAU74E,IAAI,YAAK,EAAK,EAAK,EAAK,IAClC,EAAKrC,EAAG,EAAKwG,EAGA,SC5CA,SAASi2F,KACtBv7F,KAAKw7F,QAAU,GAoDjB,SAASr0D,GAAO9B,GACd,MAAO,MAAQA,EACT,IAAMA,EAAS,IAAMA,EAAS,aAAe,EAAIA,EACjD,IAAMA,EAAS,IAAMA,EAAS,YAAc,EAAIA,EAChD,IArDRk2D,GAAWl+F,UAAY,CACrBg+F,QAAS,IACTI,QAASt0D,GAAO,KAChBs1B,YAAa,SAASh7D,GAEpB,OADKA,GAAKA,KAAOzB,KAAKq7F,UAASr7F,KAAKq7F,QAAU55F,EAAGzB,KAAKy7F,QAAU,MACzDz7F,MAETyb,aAAc,WACZzb,KAAKm9B,MAAQ,GAEfzhB,WAAY,WACV1b,KAAKm9B,MAAQj5B,KAEfqX,UAAW,WACTvb,KAAKq9B,OAAS,GAEhB7hB,QAAS,WACY,IAAfxb,KAAKm9B,OAAan9B,KAAKw7F,QAAQ56F,KAAK,KACxCZ,KAAKq9B,OAASn5B,KAEhByW,MAAO,SAAS7b,EAAGwG,GACjB,OAAQtF,KAAKq9B,QACX,KAAK,EACHr9B,KAAKw7F,QAAQ56F,KAAK,IAAK9B,EAAG,IAAKwG,GAC/BtF,KAAKq9B,OAAS,EACd,MAEF,KAAK,EACHr9B,KAAKw7F,QAAQ56F,KAAK,IAAK9B,EAAG,IAAKwG,GAC/B,MAEF,QACsB,MAAhBtF,KAAKy7F,UAAiBz7F,KAAKy7F,QAAUt0D,GAAOnnC,KAAKq7F,UACrDr7F,KAAKw7F,QAAQ56F,KAAK,IAAK9B,EAAG,IAAKwG,EAAGtF,KAAKy7F,WAK7C99D,OAAQ,WACN,GAAI39B,KAAKw7F,QAAQj8F,OAAQ,CACvB,IAAIo+B,EAAS39B,KAAKw7F,QAAQ30F,KAAK,IAE/B,OADA7G,KAAKw7F,QAAU,GACR79D,EAEP,OAAO,OCvCE,kBACb,IACI+9D,EACAC,EAFAl/B,EAAc,IAIlB,SAASznC,EAAK73B,GAKZ,OAJIA,IACyB,mBAAhBs/D,GAA4Bk/B,EAAcl/B,aAAaA,EAAY96D,MAAM3B,KAAMD,YAC1F,OAAAka,EAAA,GAAO9c,EAAQu+F,EAAiBC,KAE3BA,EAAch+D,SAwCvB,OArCA3I,EAAK6kC,KAAO,SAAS18D,GAEnB,OADA,OAAA8c,EAAA,GAAO9c,EAAQu+F,EAAiB,IACzB,EAAS/9D,UAGlB3I,EAAK4mE,QAAU,SAASz+F,GAEtB,OADA,OAAA8c,EAAA,GAAO9c,EAAQu+F,EAAiB,KACzB,GAAY/9D,UAGrB3I,EAAKivC,OAAS,SAAS9mE,GAErB,OADA,OAAA8c,EAAA,GAAO9c,EAAQu+F,EAAiB,MACzB,IAAW/9D,UAGpB3I,EAAKsP,SAAW,SAASnnC,GAEvB,OADA,OAAA8c,EAAA,GAAO9c,EAAQu+F,EAAiB,IACzB,EAAa/9D,UAGtB3I,EAAK+lC,WAAa,SAASt5D,GACzB,OAAO1B,UAAUR,QAAUm8F,EAAwB,MAALj6F,GAAas5D,EAAa,KAAM/2D,EAAA,IAAa+2D,EAAat5D,GAAGwY,OAAQ+a,GAAQ+lC,GAG7H/lC,EAAKL,QAAU,SAASlzB,GACtB,OAAK1B,UAAUR,QACfo8F,EAAqB,MAALl6F,GAAakzB,EAAU,KAAM,IAAI4mE,IAAc,IAAIH,EAAYzmE,EAAUlzB,GAC9D,mBAAhBg7D,GAA4Bk/B,EAAcl/B,YAAYA,GAC1DznC,GAHuBL,GAMhCK,EAAKynC,YAAc,SAASh7D,GAC1B,OAAK1B,UAAUR,QACfk9D,EAA2B,mBAANh7D,EAAmBA,GAAKk6F,EAAcl/B,aAAah7D,IAAKA,GACtEuzB,GAFuBynC,GAKzBznC,EAAK+lC,WAAWA,GAAYpmC,QAAQA,K,8BC3D7C,2BAE0B,iBAARlK,MAAoBA,KAAKA,OAASA,MAAQA,MAChC,iBAAV05C,GAAsBA,EAAOA,SAAWA,GAAUA,QACzD,GAENmvB,OAAS,IAEC,MAAM,EAEc93F,EAAOD,UACtCC,EAAOD,QAAU,O,wDCXrB,YAEIsgG,EAAM,8CACNC,EAAM,IAAIhsF,OAAO+rF,EAAIj3F,OAAQ,KAclB,kBACb,IACIm3F,EACAC,EACAC,EAHAlkC,EAAK8jC,EAAIK,UAAYJ,EAAII,UAAY,EAIrCzgG,GAAK,EACL+B,EAAI,GACJsT,EAAI,GAMR,IAHAlO,GAAQ,GAAID,GAAQ,IAGZo5F,EAAKF,EAAIj2F,KAAKhD,MACdo5F,EAAKF,EAAIl2F,KAAKjD,MACfs5F,EAAKD,EAAG16F,OAASy2D,IACpBkkC,EAAKt5F,EAAEjD,MAAMq4D,EAAIkkC,GACbz+F,EAAE/B,GAAI+B,EAAE/B,IAAMwgG,EACbz+F,IAAI/B,GAAKwgG,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxBx+F,EAAE/B,GAAI+B,EAAE/B,IAAMugG,EACbx+F,IAAI/B,GAAKugG,GAEdx+F,IAAI/B,GAAK,KACTqV,EAAElQ,KAAK,CAACnF,EAAGA,EAAGqD,EAAG,YAAOi9F,EAAIC,MAE9BjkC,EAAK+jC,EAAII,UAYX,OARInkC,EAAKp1D,EAAEpD,SACT08F,EAAKt5F,EAAEjD,MAAMq4D,GACTv6D,EAAE/B,GAAI+B,EAAE/B,IAAMwgG,EACbz+F,IAAI/B,GAAKwgG,GAKTz+F,EAAE+B,OAAS,EAAKuR,EAAE,GA7C3B,SAAanO,GACX,OAAO,SAAShG,GACd,OAAOgG,EAAEhG,GAAK,IA4CVw/F,CAAIrrF,EAAE,GAAGhS,GApDjB,SAAc6D,GACZ,OAAO,WACL,OAAOA,GAmDHsD,CAAKtD,IACJA,EAAImO,EAAEvR,OAAQ,SAAS5C,GACtB,IAAK,IAAWT,EAAPT,EAAI,EAAMA,EAAIkH,IAAKlH,EAAG+B,GAAGtB,EAAI4U,EAAErV,IAAIA,GAAKS,EAAE4C,EAAEnC,GACrD,OAAOa,EAAEqJ,KAAK,Q,6BC7DT,gBACb,OAAO,WACL,OAAO7G,KAAK8qE,QAAQp5C,M,6BCFxB,SAAS1wB,IACP,MAAO,GAGM,gBACb,OAAmB,MAAZ0wB,EAAmB1wB,EAAQ,WAChC,OAAOhB,KAAK4nF,iBAAiBl2D,M,6BCNjC,8CAEA,SAASlB,EAAYx0B,GACnB,OAAO,WACLgE,KAAK8sB,MAAM2D,eAAez0B,IAI9B,SAASq3B,EAAcr3B,EAAMU,EAAOi0B,GAClC,OAAO,WACL3wB,KAAK8sB,MAAM8D,YAAY50B,EAAMU,EAAOi0B,IAIxC,SAASsC,EAAcj3B,EAAMU,EAAOi0B,GAClC,OAAO,WACL,IAAItlB,EAAI3O,EAAMiF,MAAM3B,KAAMD,WACjB,MAALsL,EAAWrL,KAAK8sB,MAAM2D,eAAez0B,GACpCgE,KAAK8sB,MAAM8D,YAAY50B,EAAMqP,EAAGslB,IAalC,SAASyrE,EAAW9xE,EAAMtuB,GAC/B,OAAOsuB,EAAKwC,MAAMG,iBAAiBjxB,IAC5B,YAAYsuB,GAAMyC,iBAAiBzC,EAAM,MAAM2C,iBAAiBjxB,GAX1D,oBACb,OAAO+D,UAAUR,OAAS,EACpBS,KAAKI,MAAe,MAAT1D,EACL8zB,EAA+B,mBAAV9zB,EACrBu2B,EACAI,GAAer3B,EAAMU,EAAmB,MAAZi0B,EAAmB,GAAKA,IAC1DyrE,EAAWp8F,KAAKsqB,OAAQtuB,K,6t3GC5BhC,IASIqgG,EAPI7gG,EAAOD,SAurBd,SAAS8gG,EAAOx+F,GAEjB,IAAIy+F,EAAaD,EAAME,MAAMD,WAG7B,SAASE,EAAO55F,EAAGD,GAAK,OAAOC,EAAID,EAEnC,SAASsyE,EAAKr8C,EAAKv5B,EAAKD,GACtB,OAAOvB,EAAKuB,IAAIC,EAAKxB,EAAKwB,IAAIu5B,EAAKx5B,IAKrCi9F,EAAM33D,IAAM,SAAa+3D,GAGvB,IAFA,IAAI/3D,EAAM,EACNjpC,EAAIghG,EAAIl9F,SACH9D,GAAK,GACZipC,GAAO+3D,EAAIhhG,GACb,OAAOipC,GAKT23D,EAAMK,QAAU,SAAiBD,GAG/B,IAFA,IAAI/3D,EAAM,EACNjpC,EAAIghG,EAAIl9F,SACH9D,GAAK,GACZipC,GAAO+3D,EAAIhhG,GAAKghG,EAAIhhG,GACtB,OAAOipC,GAKT23D,EAAMM,SAAW,SAAkBF,GAKjC,IAJA,IAGIG,EAHA/3B,EAAOw3B,EAAMx3B,KAAK43B,GAClB/3D,EAAM,EACNjpC,EAAIghG,EAAIl9F,SAEH9D,GAAK,GAEZipC,IADAk4D,EAAMH,EAAIhhG,GAAKopE,GACF+3B,EAEf,OAAOl4D,GAIT23D,EAAMQ,OAAS,SAAgBJ,GAG7B,IAFA,IAAI/3D,EAAM,EACNjpC,EAAIghG,EAAIl9F,SACH9D,GAAK,GACZipC,GAAO+3D,EAAIhhG,GACb,OAAOipC,GAIT23D,EAAMS,QAAU,SAAiBL,GAG/B,IAFA,IAAIM,EAAO,EACPthG,EAAIghG,EAAIl9F,SACH9D,GAAK,GACZshG,GAAQN,EAAIhhG,GACd,OAAOshG,GAKTV,EAAMh9F,IAAM,SAAao9F,GAGvB,IAFA,IAAIO,EAAMP,EAAI,GACVhhG,EAAI,IACCA,EAAIghG,EAAIl9F,QACXk9F,EAAIhhG,GAAKuhG,IACXA,EAAMP,EAAIhhG,IACd,OAAOuhG,GAKTX,EAAMj9F,IAAM,SAAaq9F,GAGvB,IAFA,IAAIQ,EAAOR,EAAI,GACXhhG,EAAI,IACCA,EAAIghG,EAAIl9F,QACXk9F,EAAIhhG,GAAKwhG,IACXA,EAAOR,EAAIhhG,IACf,OAAOwhG,GAKTZ,EAAM/9D,OAAS,SAAgBm+D,GAE7B,IADA,IAAIzkC,EAAO,GAAIklC,EAAO,GACdzhG,EAAI,EAAGA,EAAIghG,EAAIl9F,OAAQ9D,IACxBu8D,EAAKykC,EAAIhhG,MACZu8D,EAAKykC,EAAIhhG,KAAM,EACfyhG,EAAKt8F,KAAK67F,EAAIhhG,KAGlB,OAAOyhG,GAKTb,EAAMx3B,KAAO,SAAc43B,GACzB,OAAOJ,EAAM33D,IAAI+3D,GAAOA,EAAIl9F,QAK9B88F,EAAMc,UAAY,SAAmBV,GACnC,OAAOJ,EAAMM,SAASF,GAAOA,EAAIl9F,QAKnC88F,EAAMe,QAAU,SAAiBX,GAC/B,OAAO5+F,EAAKc,IAAI09F,EAAMS,QAAQL,GAAM,EAAIA,EAAIl9F,SAK9C88F,EAAMgB,OAAS,SAAgBZ,GAC7B,IAAIa,EAASb,EAAIl9F,OACb29F,EAAOT,EAAI/8F,QAAQg9B,KAAK8/D,GAE5B,OAAkB,EAATc,EAELJ,EAAMI,EAAS,EAAK,IADnBJ,EAAMI,EAAS,EAAK,GAAMJ,EAAMI,EAAS,IAAO,GAMvDjB,EAAMkB,OAAS,SAAgBd,GAC7B,OAAOJ,EAAMmB,UAAUf,GAAK,SAAU75F,EAAGD,GAAK,OAAOC,EAAID,MAK3D05F,EAAMoB,QAAU,SAAiBhB,GAC/B,OAAOJ,EAAMmB,UAAUf,GAAK,SAAU75F,EAAGD,GAAK,OAAOC,EAAID,MAK3D05F,EAAMl+D,KAAO,SAAcs+D,GACzB,IAEIhhG,EAFAiiG,EAAQ,GACRC,EAASlB,EAAIl9F,OAEjB,IAAK9D,EAAI,EAAGA,EAAIkiG,EAAQliG,IACtBiiG,EAAM98F,KAAK67F,EAAIhhG,GAAKghG,EAAIhhG,EAAI,IAC9B,OAAOiiG,GAKTrB,EAAMuB,KAAO,SAAUnB,GAKrB,IAJA,IAGI9nC,EAHA2oC,EAASb,EAAIl9F,OACbk1D,EAASgoC,EAAI/8F,QAAQg9B,KAAK8/D,GAC1BqB,EAAQ,IAAIp+F,MAAM69F,GAEb7hG,EAAI,EAAGA,EAAI6hG,EAAQ7hG,IAAK,CAC/B,IAAI69E,EAAQ7kB,EAAOhuD,QAAQg2F,EAAIhhG,IAC3B81D,EAAOkD,EAAOqpC,YAAYrB,EAAIhhG,IAEhCk5D,EADE2kB,IAAU/nB,EACN+nB,GAECA,EAAQ/nB,GAAQ,EAEzBssC,EAAMpiG,GAAKk5D,EAAM,EAEnB,OAAOkpC,GAOTxB,EAAMz/F,KAAO,SAAc6/F,GACzB,IAMIhhG,EANAkiG,EAASlB,EAAIl9F,OACb29F,EAAOT,EAAI/8F,QAAQg9B,KAAK8/D,GACxB/yF,EAAQ,EACRs0F,EAAW,EACXC,EAAc,EACdC,EAAW,GAGf,IAAKxiG,EAAI,EAAGA,EAAIkiG,EAAQliG,IAClByhG,EAAKzhG,KAAOyhG,EAAKzhG,EAAI,GACvBgO,KAEIA,EAAQs0F,GACVE,EAAW,CAACf,EAAKzhG,IACjBsiG,EAAWt0F,EACXu0F,EAAc,GAGPv0F,IAAUs0F,IACjBE,EAASr9F,KAAKs8F,EAAKzhG,IACnBuiG,KAGFv0F,EAAQ,GAIZ,OAAuB,IAAhBu0F,EAAoBC,EAAS,GAAKA,GAK3C5B,EAAMv8F,MAAQ,SAAe28F,GAC3B,OAAOJ,EAAMj9F,IAAIq9F,GAAOJ,EAAMh9F,IAAIo9F,IAKpCJ,EAAMr9D,SAAW,SAAkBy9D,EAAKnuD,GACtC,OAAO+tD,EAAMM,SAASF,IAAQA,EAAIl9F,QAAU+uC,EAAO,EAAI,KAIzD+tD,EAAM6B,eAAiB,SAAwBzB,GAG7C,OAFeA,EAAI7+D,QAAO,SAAUh7B,EAAGu7F,GAAU,OAAOv7F,EAAIy5F,EAAMM,SAASwB,KAAY,IAC3E1B,EAAI7+D,QAAO,SAAUh7B,EAAGu7F,GAAU,OAAOv7F,EAAIu7F,EAAQ5+F,SAAU,GAChDk9F,EAAIl9F,SAIjC88F,EAAM+B,UAAY,SAAU3B,GAI1B,IAHA,IAAI53B,EAAOw3B,EAAMx3B,KAAK43B,GAClBa,EAASb,EAAIl9F,OACb8+F,EAAM,IAAI5+F,MAAM69F,GACX7hG,EAAI,EAAGA,EAAI6hG,EAAQ7hG,IAC1B4iG,EAAI5iG,GAAKghG,EAAIhhG,GAAKopE,EAEpB,OAAOw5B,GAKThC,EAAMiC,MAAQ,SAAe7B,EAAKnuD,GAChC,OAAOzwC,EAAKkB,KAAKs9F,EAAMr9D,SAASy9D,EAAKnuD,KAIvC+tD,EAAMkC,YAAc,SAAqB9B,GACvC,OAAO5+F,EAAKkB,KAAKs9F,EAAM6B,eAAezB,KAIxCJ,EAAMmC,QAAU,SAAiB/B,GAG/B,IAFA,IAAI53B,EAAOw3B,EAAMx3B,KAAK43B,GAClB75F,EAAI,GACCnH,EAAIghG,EAAIl9F,OAAS,EAAG9D,GAAK,EAAGA,IACnCmH,EAAEhC,KAAK/C,EAAKO,IAAIq+F,EAAIhhG,GAAKopE,IAE3B,OAAOw3B,EAAMx3B,KAAKjiE,IAKpBy5F,EAAMoC,OAAS,SAAgBhC,GAG7B,IAFA,IAAIY,EAAShB,EAAMgB,OAAOZ,GACtB75F,EAAI,GACCnH,EAAIghG,EAAIl9F,OAAS,EAAG9D,GAAK,EAAGA,IACnCmH,EAAEhC,KAAK/C,EAAKO,IAAIq+F,EAAIhhG,GAAK4hG,IAE3B,OAAOhB,EAAMgB,OAAOz6F,IAKtBy5F,EAAMqC,SAAW,SAAkBjC,GACjC,OAAOJ,EAAMiC,MAAM7B,GAAOJ,EAAMx3B,KAAK43B,IAKvCJ,EAAMsC,UAAY,SAAmBlC,GACnC,IAAIa,EAASb,EAAIl9F,OACb29F,EAAOT,EAAI/8F,QAAQg9B,KAAK8/D,GAC5B,MAAO,CACLU,EAAMr/F,EAAKoE,MAAM,EAAW,GAAK,GACjCi7F,EAAMr/F,EAAKoE,MAAM,EAAW,GAAK,GACjCi7F,EAAMr/F,EAAKoE,MAAiB,EAAX,EAAe,GAAK,KAOzCo6F,EAAMuC,UAAY,SAAmBnC,EAAKoC,EAAgBC,EAAQC,GAChE,IAGItjG,EAAG8B,EAAMyhG,EAAO17F,EAAGsY,EAHnBqjF,EAAcxC,EAAI/8F,QAAQg9B,KAAK8/D,GAC/B0C,EAAe,CAACL,EAAet/F,QAC/BrC,EAAIu/F,EAAIl9F,OAQZ,SALsB,IAAXu/F,IACTA,EAAS,EAAI,QACM,IAAVC,IACTA,EAAQ,EAAI,GAETtjG,EAAI,EAAGA,EAAIojG,EAAet/F,OAAQ9D,IAGrCujG,EAAQ9hG,GAFRK,EAAIshG,EAAepjG,KACfqjG,EAASvhG,GAAK,EAAIuhG,EAASC,IAE/Bz7F,EAAIzF,EAAKa,MAAMu2E,EAAK+pB,EAAO,EAAG9hG,EAAI,IAClC0e,EAAQq5D,EAAK+pB,EAAQ17F,EAAG,EAAG,GAC3B47F,EAAazjG,IAAM,EAAImgB,GAASqjF,EAAY37F,EAAI,GAAKsY,EAAQqjF,EAAY37F,GAG3E,OAAO47F,GAKT7C,EAAM8C,WAAa,SAAoB1C,EAAKn5F,EAAG87F,GAC7C,IAAIlC,EAAOT,EAAI/8F,QAAQg9B,KAAK8/D,GACxB6C,EAAY/7F,GAAK45F,EAAK39F,QAAU6/F,EAAY,GAAK,KAAOA,EAAY,EAAI,GACxE99F,EAAQ8kB,SAASi5E,GACjBC,EAAOD,EAAY/9F,EACvB,OAAIA,EAAQ,EAAI47F,EAAK39F,OACZ29F,EAAK57F,EAAQ,GAAKg+F,GAAQpC,EAAK57F,GAAS47F,EAAK57F,EAAQ,IAErD47F,EAAK57F,EAAQ,IAOxB+6F,EAAMkD,kBAAoB,SAA2B9C,EAAK+C,EAAOC,GAC/D,IAGI/iG,EAAOjB,EAHPikG,EAAU,EACVnjE,EAAMkgE,EAAIl9F,OACVogG,GAAS,EAMb,IAHa,WAATF,IACFE,GAAS,GAENlkG,EAAI,EAAGA,EAAI8gC,EAAK9gC,IACnBiB,EAAQ+/F,EAAIhhG,IACPkkG,GAAUjjG,EAAQ8iG,IACjBG,GAAUjjG,GAAS8iG,IACvBE,IAIJ,OAAOA,EAAUnjE,GAKnB8/D,EAAM79D,UAAY,SAAmBi+D,EAAKmD,GACxCA,EAASA,GAAU,EACnB,IAIInkG,EAJA69E,EAAQ+iB,EAAMh9F,IAAIo9F,GAClBoD,GAAYxD,EAAMj9F,IAAIq9F,GAAOnjB,GAASsmB,EACtCrjE,EAAMkgE,EAAIl9F,OACVq/B,EAAO,GAGX,IAAKnjC,EAAI,EAAGA,EAAImkG,EAAQnkG,IACtBmjC,EAAKnjC,GAAK,EACZ,IAAKA,EAAI,EAAGA,EAAI8gC,EAAK9gC,IACnBmjC,EAAK/gC,EAAKwB,IAAIxB,EAAKa,OAAQ+9F,EAAIhhG,GAAK69E,GAASumB,GAAYD,EAAS,KAAO,EAE3E,OAAOhhE,GAKTy9D,EAAMyD,WAAa,SAAoBC,EAAMC,GAC3C,IAIIvkG,EAJA8J,EAAI82F,EAAMx3B,KAAKk7B,GACf10F,EAAIgxF,EAAMx3B,KAAKm7B,GACfC,EAAUF,EAAKxgG,OACf2gG,EAAS,IAAIzgG,MAAMwgG,GAGvB,IAAKxkG,EAAI,EAAGA,EAAIwkG,EAASxkG,IACvBykG,EAAOzkG,IAAMskG,EAAKtkG,GAAK8J,IAAMy6F,EAAKvkG,GAAK4P,GAEzC,OAAOgxF,EAAM33D,IAAIw7D,IAAWD,EAAU,IAKxC5D,EAAM8D,UAAY,SAAmBJ,EAAMC,GACzC,OAAO3D,EAAMyD,WAAWC,EAAMC,GAC1B3D,EAAMiC,MAAMyB,EAAM,GAClB1D,EAAMiC,MAAM0B,EAAM,IAIxB3D,EAAM+D,cAAiB,SAAUL,EAAMC,GAIrC,OAHAD,EAAO1D,EAAMuB,KAAKmC,GAClBC,EAAO3D,EAAMuB,KAAKoC,GAEX3D,EAAM8D,UAAUJ,EAAMC,IAK/B3D,EAAMgE,WAAa,SAAoB5D,EAAKv/F,GAM1C,IALA,IAAIojG,EAAKjE,EAAMx3B,KAAK43B,GAChB8D,EAAQlE,EAAMiC,MAAM7B,GACpBlgE,EAAMkgE,EAAIl9F,OACVihG,EAAU,EAEL/kG,EAAI,EAAGA,EAAI8gC,EAAK9gC,IACvB+kG,GAAW3iG,EAAKc,KAAK89F,EAAIhhG,GAAK6kG,GAAMC,EAAOrjG,GAE7C,OAAOsjG,EAAU/D,EAAIl9F,QAIvB88F,EAAMoE,SAAW,SAAkBhE,GACjC,OAAOJ,EAAMgE,WAAW5D,EAAK,IAI/BJ,EAAMqE,SAAW,SAAkBjE,GACjC,OAAOJ,EAAMgE,WAAW5D,EAAK,GAAK,GAIpC,IAAIkE,EAAStE,EAAMh/F,WAQnB,SAAUujG,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAG/CF,EAAOE,GAAY,SAASC,EAAUC,GACpC,IAAItE,EAAM,GACNhhG,EAAI,EACJulG,EAAUhhG,KAOd,GALIs8F,EAAWwE,KACbC,EAAOD,EACPA,GAAW,GAGTC,EAIF,OAHAl4E,YAAW,WACTk4E,EAAKnlG,KAAKolG,EAASL,EAAOE,GAAUjlG,KAAKolG,EAASF,OAE7C9gG,KAGT,GAAIA,KAAKT,OAAS,EAAG,CAEnB,IADAyhG,GAAuB,IAAbF,EAAoB9gG,KAAOA,KAAKihG,YACnCxlG,EAAIulG,EAAQzhG,OAAQ9D,IACzBghG,EAAIhhG,GAAK4gG,EAAMwE,GAAUG,EAAQvlG,IACnC,OAAOghG,EAGT,OAAOJ,EAAMwE,GAAU7gG,KAAK,GAAI8gG,IA3BG,CA6BpCF,EAAMnlG,IA9BX,CA+BG,iBAAmB0xB,MAAM,MAI5B,SAAUyzE,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAG/CF,EAAOE,GAAY,SAASC,EAAUC,GACpC,IAAItE,EAAM,GACNhhG,EAAI,EACJulG,EAAUhhG,KAOd,GALIs8F,EAAWwE,KACbC,EAAOD,EACPA,GAAW,GAGTC,EAIF,OAHAl4E,YAAW,WACTk4E,EAAKnlG,KAAKolG,EAASL,EAAOE,GAAUjlG,KAAKolG,EAASF,OAE7C9gG,KAGT,GAAIA,KAAKT,OAAS,EAAG,CAGnB,IAFiB,WAAbshG,IACFG,GAAuB,IAAbF,EAAoB9gG,KAAOA,KAAKihG,aACrCxlG,EAAIulG,EAAQzhG,OAAQ9D,IACzBghG,EAAIhhG,GAAK4gG,EAAMwE,GAAUG,EAAQvlG,IACnC,OAAoB,IAAbqlG,EACDzE,EAAMwE,GAAUxE,EAAME,MAAM2E,SAASzE,IACrCA,EAGR,OAAOJ,EAAMwE,GAAU7gG,KAAK,GAAI8gG,IA9BG,CAgCpCF,EAAMnlG,IAjCX,CAkCG,+LAE0D0xB,MAAM,MAKnE,SAAUyzE,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAC/CF,EAAOE,GAAY,WACjB,IAIIM,EAJA1E,EAAM,GACNhhG,EAAI,EACJulG,EAAUhhG,KACVgvE,EAAOvvE,MAAMpC,UAAUqC,MAAM9D,KAAKmE,WAKtC,GAAIu8F,EAAWttB,EAAKA,EAAKzvE,OAAS,IAAK,CACrC4hG,EAAmBnyB,EAAKA,EAAKzvE,OAAS,GACtC,IAAI6hG,EAAapyB,EAAKtvE,MAAM,EAAGsvE,EAAKzvE,OAAS,GAM7C,OAJAspB,YAAW,WACTs4E,EAAiBvlG,KAAKolG,EACAL,EAAOE,GAAUl/F,MAAMq/F,EAASI,OAEjDphG,KAIPmhG,OAAmBp/F,EACnB,IAAIs/F,EAAkB,SAAyB17B,GAC7C,OAAO02B,EAAMwE,GAAUl/F,MAAMq/F,EAAS,CAACr7B,GAAQxvC,OAAO64C,KAK1D,GAAIhvE,KAAKT,OAAS,EAAG,CAEnB,IADAyhG,EAAUA,EAAQC,YACXxlG,EAAIulG,EAAQzhG,OAAQ9D,IACzBghG,EAAIhhG,GAAK4lG,EAAgBL,EAAQvlG,IACnC,OAAOghG,EAIT,OAAO4E,EAAgBrhG,KAAK,KArCO,CAuCpC4gG,EAAMnlG,IAxCX,CAyCG,8BAA8B0xB,MAAM,MAniBvC,CAhrBIkvE,EAAS,SAASx+F,EAAMkE,GAE5B+4B,QAAQ27B,KAAK,iFACb37B,QAAQ27B,KAAK,mEAGb,IAAItgC,EAAS12B,MAAMpC,UAAU84B,OACzBz2B,EAAQD,MAAMpC,UAAUqC,MACxBmE,EAAW1H,OAAOkB,UAAUwG,SAIhC,SAASy9F,EAAQpkG,EAAGrB,GAClB,IAAI84D,EAAMz3D,EAAIrB,EAAIqB,EAAIrB,EACtB,OAAOgC,EAAKc,IAAI,GACA,MAAQd,EAAKY,IAAMk2D,EAAM,EAAKA,GAAOA,GAAQ92D,EAAK0jG,SAIpE,IAAIjhG,EAAUb,MAAMa,SAAW,SAAiBs4B,GAC9C,MAA8B,mBAAvB/0B,EAASjI,KAAKg9B,IAIvB,SAAS0jE,EAAW1jE,GAClB,MAA8B,sBAAvB/0B,EAASjI,KAAKg9B,GAIvB,SAAS4oE,EAAS5oE,GAChB,MAAsB,iBAARA,GAAoBA,GAAQA,EAW5C,SAASyjE,IACP,OAAO,IAAIA,EAAMoF,MAAM1hG,WAoRzB,SAAS2hG,IAAY,OAAO,EAW5B,SAASC,IAAW,OAAO,EAmB3B,SAASC,EAASnmG,EAAGkJ,GAAK,OAAOlJ,IAAMkJ,EAAI,EAAI,EA7S/C03F,EAAMvuD,GAAKuuD,EAAMh/F,UAKjBg/F,EAAMoF,MAAQ,SAAezyB,GAE3B,GAAI1uE,EAAQ0uE,EAAK,IAEf,GAAI1uE,EAAQ0uE,EAAK,GAAG,IAAK,CAEnBstB,EAAWttB,EAAK,MAClBA,EAAK,GAAKqtB,EAAMn8F,IAAI8uE,EAAK,GAAIA,EAAK,KAEpC,IAAK,IAAIvzE,EAAI,EAAGA,EAAIuzE,EAAK,GAAGzvE,OAAQ9D,IAClCuE,KAAKvE,GAAKuzE,EAAK,GAAGvzE,GACpBuE,KAAKT,OAASyvE,EAAK,GAAGzvE,YAItBS,KAAK,GAAKs8F,EAAWttB,EAAK,IAAMqtB,EAAMn8F,IAAI8uE,EAAK,GAAIA,EAAK,IAAMA,EAAK,GACnEhvE,KAAKT,OAAS,OAIX,GAAIiiG,EAASxyB,EAAK,IACvBhvE,KAAK,GAAKq8F,EAAMx+D,IAAIl8B,MAAM,KAAMqtE,GAChChvE,KAAKT,OAAS,MAGT,IAAIyvE,EAAK,aAAcqtB,EAE5B,OAAOA,EAAMrtB,EAAK,GAAG9I,WAMrBlmE,KAAK,GAAK,GACVA,KAAKT,OAAS,EAGhB,OAAOS,MAETq8F,EAAMoF,MAAMpkG,UAAYg/F,EAAMh/F,UAC9Bg/F,EAAMoF,MAAMlhG,YAAc87F,EAK1BA,EAAME,MAAQ,CACZ+E,QAASA,EACThhG,QAASA,EACTg8F,WAAYA,EACZkF,SAAUA,EACVN,SAnEF,SAAkBzE,GAChB,OAAOtmE,EAAOx0B,MAAM,GAAI86F,KAsE1BJ,EAAMwF,WAAahkG,EAAKinE,OACxBu3B,EAAMyF,UAAY,SAAmBh0D,GACnC,GAAkB,mBAAPA,EACT,MAAM,IAAI9jB,UAAU,wBACtBqyE,EAAMwF,WAAa/zD,GAMrBuuD,EAAMv0E,OAAS,SAAgBkO,GAC7B,IAAIv6B,EAAGkJ,EAEP,GAAyB,IAArB5E,UAAUR,OAAc,CAC1B,IAAKoF,KAAKqxB,EACRqmE,EAAM13F,GAAKqxB,EAAIrxB,GACjB,OAAO3E,KAGT,IAAKvE,EAAI,EAAGA,EAAIsE,UAAUR,OAAQ9D,IAChC,IAAKkJ,KAAK5E,UAAUtE,GAClBu6B,EAAIrxB,GAAK5E,UAAUtE,GAAGkJ,GAG1B,OAAOqxB,GAKTqmE,EAAMrgE,KAAO,SAAcygE,GACzB,OAAOA,EAAIl9F,QAAU,GAKvB88F,EAAM0F,KAAO,SAActF,GACzB,OAAOA,EAAI,GAAGl9F,QAAU,GAK1B88F,EAAM2F,WAAa,SAAoBvF,GACrC,MAAO,CACLzgE,KAAMqgE,EAAMrgE,KAAKygE,GACjBsF,KAAM1F,EAAM0F,KAAKtF,KAMrBJ,EAAM1hE,IAAM,SAAa8hE,EAAKn7F,GAC5B,OAAIhB,EAAQgB,GACHA,EAAMpB,KAAI,SAASzE,GACxB,OAAO4gG,EAAM1hE,IAAI8hE,EAAKhhG,MAGnBghG,EAAIn7F,IAMb+6F,EAAM4F,KAAO,SAAcxF,EAAKhhG,GAC9B,OAAO4gG,EAAM1hE,IAAI8hE,EAAKhhG,IAMxB4gG,EAAM1gE,IAAM,SAAa8gE,EAAKn7F,GAC5B,GAAIhB,EAAQgB,GAAQ,CAClB,IAAI4gG,EAAS7F,EAAM8F,OAAO1F,EAAIl9F,QAAQW,KAAI,WACxC,OAAO,IAAIT,MAAM6B,EAAM/B,WAOzB,OALA+B,EAAMu4B,SAAQ,SAASuoE,EAAK3mG,GAC1B4gG,EAAM8F,OAAO1F,EAAIl9F,QAAQs6B,SAAQ,SAASl1B,GACxCu9F,EAAOv9F,GAAGlJ,GAAKghG,EAAI93F,GAAGy9F,SAGnBF,EAGT,IADA,IAAIvsC,EAAS,IAAIl2D,MAAMg9F,EAAIl9F,QAClB9D,EAAI,EAAGA,EAAIghG,EAAIl9F,OAAQ9D,IAC9Bk6D,EAAOl6D,GAAK,CAACghG,EAAIhhG,GAAG6F,IACtB,OAAOq0D,GAMT0mC,EAAMgG,KAAO,SAAc5F,EAAKhhG,GAC9B,OAAO4gG,EAAM1gE,IAAI8gE,EAAKhhG,GAAGyE,KAAI,SAAS0C,GAAI,OAAOA,EAAE,OAKrDy5F,EAAMiG,KAAO,SAAc7F,GAGzB,IAFA,IAAI8F,EAAOlG,EAAMrgE,KAAKygE,GAClBvpD,EAAM,IAAIzzC,MAAM8iG,GACX5nE,EAAM,EAAGA,EAAM4nE,EAAM5nE,IAC5BuY,EAAIvY,GAAO,CAAC8hE,EAAI9hE,GAAKA,IACvB,OAAOuY,GAKTmpD,EAAMmG,SAAW,SAAkB/F,GAGjC,IAFA,IAAI8F,EAAOlG,EAAMrgE,KAAKygE,GAAO,EACzBvpD,EAAM,IAAIzzC,MAAM8iG,GACX9mG,EAAI,EAAG8mG,GAAQ,EAAGA,IAAQ9mG,IACjCy3C,EAAIz3C,GAAK,CAACghG,EAAIhhG,GAAG8mG,IACnB,OAAOrvD,GAITmpD,EAAM4E,UAAY,SAAmBxE,GACnC,IACIgG,EAAQzmE,EAAM+lE,EAAMp9F,EAAGlJ,EADvBu6B,EAAM,GAUV,IANK11B,EAAQm8F,EAAI,MACfA,EAAM,CAACA,IAETzgE,EAAOygE,EAAIl9F,OACXwiG,EAAOtF,EAAI,GAAGl9F,OAET9D,EAAI,EAAGA,EAAIsmG,EAAMtmG,IAAK,CAEzB,IADAgnG,EAAS,IAAIhjG,MAAMu8B,GACdr3B,EAAI,EAAGA,EAAIq3B,EAAMr3B,IACpB89F,EAAO99F,GAAK83F,EAAI93F,GAAGlJ,GACrBu6B,EAAIp1B,KAAK6hG,GAIX,OAAsB,IAAfzsE,EAAIz2B,OAAey2B,EAAI,GAAKA,GAMrCqmE,EAAMn8F,IAAM,SAAau8F,EAAKsE,EAAM2B,GAClC,IAAI/nE,EAAK4nE,EAAMI,EAAMzvD,EAAKvX,EAS1B,IAPKr7B,EAAQm8F,EAAI,MACfA,EAAM,CAACA,IAET8F,EAAO9F,EAAIl9F,OACXojG,EAAOlG,EAAI,GAAGl9F,OACd2zC,EAAMwvD,EAAUjG,EAAM,IAAIh9F,MAAM8iG,GAE3B5nE,EAAM,EAAGA,EAAM4nE,EAAM5nE,IAIxB,IAFKuY,EAAIvY,KACPuY,EAAIvY,GAAO,IAAIl7B,MAAMkjG,IAClBhnE,EAAM,EAAGA,EAAMgnE,EAAMhnE,IACxBuX,EAAIvY,GAAKgB,GAAOolE,EAAKtE,EAAI9hE,GAAKgB,GAAMhB,EAAKgB,GAG7C,OAAsB,IAAfuX,EAAI3zC,OAAe2zC,EAAI,GAAKA,GAKrCmpD,EAAMmB,UAAY,SAAmBf,EAAKsE,EAAM2B,GAC9C,IAAI/nE,EAAK4nE,EAAMI,EAAMzvD,EAAKvX,EAS1B,IAPKr7B,EAAQm8F,EAAI,MACfA,EAAM,CAACA,IAET8F,EAAO9F,EAAIl9F,OACXojG,EAAOlG,EAAI,GAAGl9F,OACd2zC,EAAMwvD,EAAUjG,EAAM,IAAIh9F,MAAM8iG,GAE3B5nE,EAAM,EAAGA,EAAM4nE,EAAM5nE,IAMxB,IAJKuY,EAAIvY,KACPuY,EAAIvY,GAAO,IAAIl7B,MAAMkjG,IACnBA,EAAO,IACTzvD,EAAIvY,GAAK,GAAK8hE,EAAI9hE,GAAK,IACpBgB,EAAM,EAAGA,EAAMgnE,EAAMhnE,IACxBuX,EAAIvY,GAAKgB,GAAOolE,EAAK7tD,EAAIvY,GAAKgB,EAAI,GAAI8gE,EAAI9hE,GAAKgB,IAEnD,OAAsB,IAAfuX,EAAI3zC,OAAe2zC,EAAI,GAAKA,GAKrCmpD,EAAMuG,MAAQ,SAAenG,EAAKsE,GAChC,OAAO1E,EAAMn8F,IAAIu8F,EAAKsE,GAAM,IAK9B1E,EAAMt/F,OAAS,SAAiBi/B,EAAM+lE,EAAMhB,GAC1C,IACItlG,EAAGkJ,EADHuuC,EAAM,IAAIzzC,MAAMu8B,GAQpB,IALIsgE,EAAWyF,KACbhB,EAAOgB,EACPA,EAAO/lE,GAGJvgC,EAAI,EAAGA,EAAIugC,EAAMvgC,IAEpB,IADAy3C,EAAIz3C,GAAK,IAAIgE,MAAMsiG,GACdp9F,EAAI,EAAGA,EAAIo9F,EAAMp9F,IACpBuuC,EAAIz3C,GAAGkJ,GAAKo8F,EAAKtlG,EAAGkJ,GAGxB,OAAOuuC,GAQTmpD,EAAMwG,MAAQ,SAAe7mE,EAAM+lE,GAGjC,OAFKP,EAASO,KACZA,EAAO/lE,GACFqgE,EAAMt/F,OAAOi/B,EAAM+lE,EAAML,IAQlCrF,EAAMyG,KAAO,SAAc9mE,EAAM+lE,GAG/B,OAFKP,EAASO,KACZA,EAAO/lE,GACFqgE,EAAMt/F,OAAOi/B,EAAM+lE,EAAMJ,IAKlCtF,EAAMz3B,KAAO,SAAc5oC,EAAM+lE,GAG/B,OAFKP,EAASO,KACZA,EAAO/lE,GACFqgE,EAAMt/F,OAAOi/B,EAAM+lE,EAAM1F,EAAMwF,aAQxCxF,EAAMr4F,SAAW,SAAkBg4B,EAAM+lE,GAGvC,OAFKP,EAASO,KACZA,EAAO/lE,GACFqgE,EAAMt/F,OAAOi/B,EAAM+lE,EAAMH,IAKlCvF,EAAM0G,UAAY,SAAmBtG,GACnC,IACI9hE,EAAKgB,EADL56B,EAAO07F,EAAIl9F,OAGf,GAAIk9F,EAAIl9F,SAAWk9F,EAAI,GAAGl9F,OACxB,OAAO,EAET,IAAKo7B,EAAM,EAAGA,EAAM55B,EAAM45B,IACxB,IAAKgB,EAAM,EAAGA,EAAM56B,EAAM46B,IACxB,GAAI8gE,EAAI9gE,GAAKhB,KAAS8hE,EAAI9hE,GAAKgB,GAC7B,OAAO,EAGb,OAAO,GAKT0gE,EAAM37F,MAAQ,SAAe+7F,GAC3B,OAAOJ,EAAMuG,MAAMnG,EAAKiF,IAK1BrF,EAAMx+D,IAAM,SAAax+B,EAAKD,EAAKG,EAAQwhG,GACpCzE,EAAWyE,KACdA,GAAO,GAET,IAIIiC,EAJAvG,EAAM,GACNwG,EAAQ3B,EAAQjiG,EAAKD,GACrByC,GAAQzC,EAAM6jG,EAAQ5jG,EAAM4jG,KAAW1jG,EAAS,GAAK0jG,GACrD1tB,EAAUl2E,EAKd,IAAK2jG,EAAM,EACNztB,GAAWn2E,GAAO4jG,EAAMzjG,EACjBg2E,GAAWl2E,EAAM4jG,EAAQphG,EAAOohG,IAAvCD,GAAsDC,EACzDxG,EAAI77F,KAAMmgG,EAAOA,EAAKxrB,EAASytB,GAAOztB,GAGxC,OAAOknB,GAOTJ,EAAM8F,OAAS,SAAgB5/F,EAAO4J,EAAKtK,GACzC,IACIpG,EADAynG,EAAK,GAOT,GALArhG,EAAOA,GAAQ,OA5ZL,IA6ZNsK,IACFA,EAAM5J,EACNA,EAAQ,GAENA,IAAU4J,GAAgB,IAATtK,EACnB,MAAO,GAET,GAAIU,EAAQ4J,GAAOtK,EAAO,EACxB,MAAO,GAET,GAAIU,EAAQ4J,GAAOtK,EAAO,EACxB,MAAO,GAET,GAAIA,EAAO,EACT,IAAKpG,EAAI8G,EAAO9G,EAAI0Q,EAAK1Q,GAAKoG,EAC5BqhG,EAAGtiG,KAAKnF,QAGV,IAAKA,EAAI8G,EAAO9G,EAAI0Q,EAAK1Q,GAAKoG,EAC5BqhG,EAAGtiG,KAAKnF,GAGZ,OAAOynG,GAQT7G,EAAM38F,MAAS,WACb,SAASyjG,EAAOta,EAAMtmF,EAAO4J,EAAKtK,GAEhC,IAAIpG,EACAynG,EAAK,GACL3jG,EAASspF,EAAKtpF,OAClB,QAjcQ,IAicJgD,QAjcI,IAicmB4J,QAjcnB,IAicwCtK,EAC9C,OAAOw6F,EAAM36F,KAAKmnF,GAQpB,GADAhnF,EAAOA,GAAQ,GAFfU,GAFAA,EAAQA,GAAS,IAEA,EAAIA,EAAQhD,EAASgD,MACtC4J,GAFAA,EAAMA,GAAO08E,EAAKtpF,SAEL,EAAI4M,EAAM5M,EAAS4M,IAEF,IAATtK,EACnB,MAAO,GAET,GAAIU,EAAQ4J,GAAOtK,EAAO,EACxB,MAAO,GAET,GAAIU,EAAQ4J,GAAOtK,EAAO,EACxB,MAAO,GAET,GAAIA,EAAO,EACT,IAAKpG,EAAI8G,EAAO9G,EAAI0Q,EAAK1Q,GAAKoG,EAC5BqhG,EAAGtiG,KAAKioF,EAAKptF,SAGf,IAAKA,EAAI8G,EAAO9G,EAAI0Q,EAAI1Q,GAAKoG,EAC3BqhG,EAAGtiG,KAAKioF,EAAKptF,IAGjB,OAAOynG,EA4BT,OAzBA,SAAera,EAAMua,GACnB,IAAIC,EAAUC,EAEd,OAAI9B,GADJ4B,EAAUA,GAAW,IACAzoE,KACf6mE,EAAS4B,EAAQznE,KACZktD,EAAKua,EAAQzoE,KAAKyoE,EAAQznE,KAG5BwnE,EAFG9G,EAAM4F,KAAKpZ,EAAMua,EAAQzoE,MACnC0oE,EAAWD,EAAQznE,KAAO,IACEp5B,MAAO8gG,EAASl3F,IAAKk3F,EAASxhG,MAGxD2/F,EAAS4B,EAAQznE,KAGZwnE,EAFG9G,EAAMgG,KAAKxZ,EAAMua,EAAQznE,MACnC2nE,EAAWF,EAAQzoE,KAAO,IACEp4B,MAAO+gG,EAASn3F,IAAKm3F,EAASzhG,OAG5DyhG,EAAWF,EAAQzoE,KAAO,GAC1B0oE,EAAWD,EAAQznE,KAAO,GACfwnE,EAAOta,EAAMya,EAAS/gG,MAAO+gG,EAASn3F,IAAKm3F,EAASzhG,MACnD3B,KAAI,SAASy6B,GACvB,OAAOwoE,EAAOxoE,EAAK0oE,EAAS9gG,MAAO8gG,EAASl3F,IAAKk3F,EAASxhG,WAzDlD,GAoEdw6F,EAAMkH,YAAc,SAAqBltE,EAAG+sE,EAAS9sE,GACnD,IAAIktE,EAAIC,EACR,GAAIjC,EAAS4B,EAAQzoE,KAAM,CACzB,GAAI6mE,EAAS4B,EAAQznE,KACnB,OAAOtF,EAAE+sE,EAAQzoE,KAAKyoE,EAAQznE,KAAOrF,EACvC8sE,EAAQznE,IAAMynE,EAAQznE,KAAO,GAC7BynE,EAAQznE,IAAIp5B,MAAQ6gG,EAAQznE,IAAIp5B,OAAS,EACzC6gG,EAAQznE,IAAIxvB,IAAMi3F,EAAQznE,IAAIxvB,KAAOkqB,EAAE,GAAG92B,OAC1C6jG,EAAQznE,IAAI95B,KAAOuhG,EAAQznE,IAAI95B,MAAQ,EACvC2hG,EAAKnH,EAAM8F,OAAOiB,EAAQznE,IAAIp5B,MACR1E,EAAKwB,IAAIg3B,EAAE92B,OAAQ6jG,EAAQznE,IAAIxvB,KAC/Bi3F,EAAQznE,IAAI95B,MAClC,IAAIhG,EAAIunG,EAAQzoE,IAIhB,OAHA6oE,EAAG3pE,SAAQ,SAAS38B,EAAGzB,GACrB46B,EAAEx6B,GAAGqB,GAAKo5B,EAAE76B,MAEP46B,EAGT,GAAImrE,EAAS4B,EAAQznE,KAAM,CACzBynE,EAAQzoE,IAAMyoE,EAAQzoE,KAAO,GAC7ByoE,EAAQzoE,IAAIp4B,MAAQ6gG,EAAQzoE,IAAIp4B,OAAS,EACzC6gG,EAAQzoE,IAAIxuB,IAAMi3F,EAAQzoE,IAAIxuB,KAAOkqB,EAAE92B,OACvC6jG,EAAQzoE,IAAI94B,KAAOuhG,EAAQzoE,IAAI94B,MAAQ,EACvC4hG,EAAKpH,EAAM8F,OAAOiB,EAAQzoE,IAAIp4B,MACR1E,EAAKwB,IAAIg3B,EAAE,GAAG92B,OAAQ6jG,EAAQzoE,IAAIxuB,KAClCi3F,EAAQzoE,IAAI94B,MAClC,IAAI3E,EAAIkmG,EAAQznE,IAIhB,OAHA8nE,EAAG5pE,SAAQ,SAASh+B,EAAG8I,GACrB0xB,EAAEx6B,GAAGqB,GAAKo5B,EAAE3xB,MAEP0xB,EAuBT,YArjBU,IAiiBNC,EAAE,GAAG/2B,SACP+2B,EAAI,CAACA,IAEP8sE,EAAQzoE,IAAIp4B,MAAQ6gG,EAAQzoE,IAAIp4B,OAAS,EACzC6gG,EAAQzoE,IAAIxuB,IAAMi3F,EAAQzoE,IAAIxuB,KAAOkqB,EAAE92B,OACvC6jG,EAAQzoE,IAAI94B,KAAOuhG,EAAQzoE,IAAI94B,MAAQ,EACvCuhG,EAAQznE,IAAIp5B,MAAQ6gG,EAAQznE,IAAIp5B,OAAS,EACzC6gG,EAAQznE,IAAIxvB,IAAMi3F,EAAQznE,IAAIxvB,KAAOkqB,EAAE,GAAG92B,OAC1C6jG,EAAQznE,IAAI95B,KAAOuhG,EAAQznE,IAAI95B,MAAQ,EACvC4hG,EAAKpH,EAAM8F,OAAOiB,EAAQzoE,IAAIp4B,MACR1E,EAAKwB,IAAIg3B,EAAE92B,OAAQ6jG,EAAQzoE,IAAIxuB,KAC/Bi3F,EAAQzoE,IAAI94B,MAClC2hG,EAAKnH,EAAM8F,OAAOiB,EAAQznE,IAAIp5B,MACR1E,EAAKwB,IAAIg3B,EAAE,GAAG92B,OAAQ6jG,EAAQznE,IAAIxvB,KAClCi3F,EAAQznE,IAAI95B,MAClC4hG,EAAG5pE,SAAQ,SAASh+B,EAAGJ,GACrB+nG,EAAG3pE,SAAQ,SAAS38B,EAAGyH,GACrB0xB,EAAEx6B,GAAGqB,GAAKo5B,EAAE76B,GAAGkJ,SAGZ0xB,GAMTgmE,EAAMqH,SAAW,SAAkBC,GACjC,IAAIC,EAAMvH,EAAMwG,MAAMc,EAAUpkG,OAAQokG,EAAUpkG,QAIlD,OAHAokG,EAAU9pE,SAAQ,SAASl9B,EAAGlB,GAC5BmoG,EAAInoG,GAAGA,GAAKkB,KAEPinG,GAKTvH,EAAM36F,KAAO,SAAc20B,GACzB,OAAOA,EAAEn2B,KAAI,SAASy6B,GACpB,OAAI6mE,EAAS7mE,GACJA,EACFA,EAAIz6B,KAAI,SAASvD,GACtB,OAAOA,SAWb,IAAIgkG,EAAStE,EAAMh/F,UAwFnB,OArFAsjG,EAAOphG,OAAS,EAKhBohG,EAAO//F,KAAOnB,MAAMpC,UAAUuD,KAC9B+/F,EAAOjkE,KAAOj9B,MAAMpC,UAAUq/B,KAC9BikE,EAAO7yE,OAASruB,MAAMpC,UAAUywB,OAChC6yE,EAAOjhG,MAAQD,MAAMpC,UAAUqC,MAI/BihG,EAAOz6B,QAAU,WACf,OAAOlmE,KAAKT,OAAS,EAAIG,EAAM9D,KAAKoE,MAAQN,EAAM9D,KAAKoE,MAAM,IAK/D2gG,EAAOzgG,IAAM,SAAa6gG,EAAM2B,GAC9B,OAAOrG,EAAMA,EAAMn8F,IAAIF,KAAM+gG,EAAM2B,KAKrC/B,EAAOnD,UAAY,SAAmBuD,EAAM2B,GAC1C,OAAOrG,EAAMA,EAAMmB,UAAUx9F,KAAM+gG,EAAM2B,KAK3C/B,EAAOiC,MAAQ,SAAe7B,GAE5B,OADA1E,EAAMuG,MAAM5iG,KAAM+gG,GACX/gG,MAKT,SAAU4gG,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAC/CF,EAAOE,GAAY,SAASE,GAC1B,IACAz5B,EADI78C,EAAOzqB,KAGX,OAAI+gG,GACFl4E,YAAW,WACTk4E,EAAKnlG,KAAK6uB,EAAMk2E,EAAOE,GAAUjlG,KAAK6uB,OAEjCzqB,OAETsnE,EAAU+0B,EAAMwE,GAAU7gG,MACnBM,EAAQgnE,GAAW+0B,EAAM/0B,GAAWA,IAZR,CAcpCs5B,EAAMnlG,IAfX,CAgBG,+DAA+D0xB,MAAM,MAIxE,SAAUyzE,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAC/CF,EAAOE,GAAY,SAASv/F,EAAOy/F,GACjC,IAAIt2E,EAAOzqB,KAEX,OAAI+gG,GACFl4E,YAAW,WACTk4E,EAAKnlG,KAAK6uB,EAAMk2E,EAAOE,GAAUjlG,KAAK6uB,EAAMnpB,OAEvCtB,MAEFq8F,EAAMA,EAAMwE,GAAU7gG,KAAMsB,KAVA,CAYpCs/F,EAAMnlG,IAbX,CAcG,UAAU0xB,MAAM,MAInB,SAAUyzE,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAC/CF,EAAOE,GAAY,WACjB,OAAOxE,EAAMA,EAAMwE,GAAUl/F,MAAM,KAAM5B,aAFN,CAIpC6gG,EAAMnlG,IALX,CAMG,kCAAkC0xB,MAAM,MAIpCkvE,EA7qBK,CA+qBVx+F,MAsiBOA,MAER,SAASw+F,EAAOx+F,GAGjBw+F,EAAMwH,QAAU,SAAiB/kG,GAC/B,IAMIglG,EAAIx+F,EAAGs3F,EANPj4F,EAAI,EACJo/F,EAAM,CACR,mBAAoB,kBAAmB,mBACtC,kBAAmB,qBAAwB,mBAE1CC,EAAM,kBAIV,IAFApH,GAAOt3F,EAAIw+F,EAAKhlG,GAAK,IACrB89F,IAAQkH,EAAK,IAAOjmG,EAAKY,IAAIm+F,GACtBj4F,EAAI,EAAGA,IACZq/F,GAAOD,EAAIp/F,KAAOW,EACpB,OAAOzH,EAAKY,IAAI,mBAAqBulG,EAAMF,GAAMlH,GAKnDP,EAAM4H,QAAU,SAAiBnlG,GAC/B,IAYIrD,EAAG6P,EAAGivD,EAAIrnB,EAZV31C,EAAI,EAAE,kBAAmB,mBAAoB,mBACxC,kBAAmB,mBAAoB,oBACtC,mBAAoB,mBAE1BuT,EAAI,EAAE,iBAAkB,oBAAqB,oBACvC,kBAAmB,kBAAoB,mBACvC,mBAAoB,mBAC1BozF,GAAO,EACPhnG,EAAI,EACJinG,EAAO,EACPC,EAAO,EACP9+F,EAAIxG,EAER,GAAIwG,GAAK,EAAG,CAEV,KADA4tC,EAAM5tC,EAAI,EAAI,QAKZ,OAAOgE,IAHP46F,GAAc,EAAJ5+F,GAAc,EAAL,GAAUzH,EAAKC,GAAKD,EAAKe,IAAIf,EAAKC,GAAKo1C,GAC1D5tC,EAAI,EAAIA,EAWZ,IANAi1D,EAAKj1D,EAEHgG,EADEhG,EAAI,EACFA,KAECA,GAAKpI,GAAS,EAAJoI,GAAS,GAAK,EAE1B7J,EAAI,EAAGA,EAAI,IAAKA,EACnB2oG,GAAQA,EAAO7mG,EAAE9B,IAAM6P,EACvB64F,EAAOA,EAAO74F,EAAIwF,EAAErV,GAGtB,GADAy3C,EAAMkxD,EAAOD,EAAO,EAChB5pC,EAAKj1D,EACP4tC,GAAOqnB,OACF,GAAIA,EAAKj1D,EACd,IAAK7J,EAAI,EAAGA,EAAIyB,IAAKzB,EACnBy3C,GAAO5tC,EACPA,IAMJ,OAHI4+F,IACFhxD,EAAMgxD,EAAOhxD,GAERA,GAMTmpD,EAAMgI,OAAS,SAAgBzhG,EAAG9D,GAChC,OAAOu9F,EAAMiI,YAAY1hG,EAAG9D,GAAKu9F,EAAM4H,QAAQrhG,IAKjDy5F,EAAMiI,YAAc,SAAqB1hG,EAAG9D,GAC1C,IAWIylG,EAXAC,EAAMnI,EAAMwH,QAAQjhG,GACpB6gC,EAAK7gC,EACL8hC,EAAM,EAAI9hC,EACV6hG,EAAM//D,EACN/hC,EAAI7D,EAAI,EAAI8D,EACZ9G,EAAI,EAAI,MACRC,EAAI,EAAI4G,EACRmkB,EAAI/qB,EACJN,EAAI,EAEJipG,KAA4C,IAAjC7mG,EAAKY,IAAKmE,GAAK,EAAKA,EAAI,EAAIA,GAAe,GAAJA,EAAU,IAGhE,GAAI9D,EAAI,GAAK8D,GAAK,EAChB,OAAOsB,IACF,GAAIpF,EAAI8D,EAAI,EAAG,CACpB,KAAOnH,GAAKipG,EAAOjpG,IACjBipC,GAAO+/D,GAAO3lG,IAAM2kC,EAEtB,OAAQiB,EAAM7mC,EAAKJ,KAAKqB,EAAI8D,EAAI/E,EAAKY,IAAIK,GAAK,GAGhD,KAAOrD,GAAKipG,EAAOjpG,IAMjBqrB,IADA/qB,EAAI,GAFJA,GAFAwoG,GAAM9oG,GAAKA,EAAImH,IAEN7G,GADT4G,GAAK,MAEL7G,EAAI6G,EAAI4hG,EAAKzoG,GAKf,OAAQ,EAAIgrB,EAAIjpB,EAAKJ,KAAKqB,EAAI8D,EAAI/E,EAAKY,IAAIK,GAAK,IAIlDu9F,EAAMsI,YAAc,SAAqBznG,GACvC,OAAOA,EAAI,EAAIgH,IAAMm4F,EAAMwH,QAAQ3mG,EAAI,IAIzCm/F,EAAMuI,UAAY,SAAmB1nG,GACnC,OAAOA,EAAI,EAAIgH,IAAMm4F,EAAM4H,QAAQ/mG,EAAI,IAIzCm/F,EAAMwI,YAAc,SAAqB3nG,EAAGrB,GAE1C,OAAQqB,EAAI,KAAOrB,EAAI,IACjBgC,EAAKJ,IAAI4+F,EAAMyI,cAAc5nG,EAAGrB,IAC/BwgG,EAAMuI,UAAU1nG,GAAKm/F,EAAMuI,UAAU/oG,GAAMwgG,EAAMuI,UAAU1nG,EAAIrB,IAIxEwgG,EAAMyI,cAAgB,SAAuB5nG,EAAGrB,GAC9C,OAAOwgG,EAAMsI,YAAYznG,GAAKm/F,EAAMsI,YAAY9oG,GAAKwgG,EAAMsI,YAAYznG,EAAIrB,IAK7EwgG,EAAM0I,YAAc,SAAqB7nG,EAAGrB,GAC1C,OAAOwgG,EAAMuI,UAAU1nG,GAAKm/F,EAAMuI,UAAU1nG,EAAIrB,IAKlDwgG,EAAM2I,OAAS,SAAgBlmG,EAAGwG,GAEhC,KAAIxG,GAAK,GAAKwG,GAAK,GAGnB,OAAQxG,EAAIwG,EAAI,IACVzH,EAAKJ,IAAI4+F,EAAM4I,OAAOnmG,EAAGwG,IACzB+2F,EAAM4H,QAAQnlG,GAAKu9F,EAAM4H,QAAQ3+F,GAAK+2F,EAAM4H,QAAQnlG,EAAIwG,IAKhE+2F,EAAM4I,OAAS,SAAgBnmG,EAAGwG,GAChC,OAAO+2F,EAAMwH,QAAQ/kG,GAAKu9F,EAAMwH,QAAQv+F,GAAK+2F,EAAMwH,QAAQ/kG,EAAIwG,IAMjE+2F,EAAM6I,OAAS,SAAgBpmG,EAAG8D,EAAGD,GACnC,IAOIwkB,EAAIg+E,EAAIV,EAAK39E,EANbjrB,EAAI,EACJupG,EAAMxiG,EAAID,EACV0iG,EAAMziG,EAAI,EACV0iG,EAAM1iG,EAAI,EACV9G,EAAI,EACJC,EAAI,EAAIqpG,EAAMtmG,EAAIumG,EAStB,IALIxnG,EAAKO,IAAIrC,GAVD,QAWVA,EAXU,OAaZ+qB,EADA/qB,EAAI,EAAIA,EAGDF,GAAK,MAIVE,EAAI,GAFJopG,EAAKtpG,GAAK8G,EAAI9G,GAAKiD,IAAMwmG,GADzBn+E,EAAK,EAAItrB,KAC6B+G,EAAIukB,KAE7BprB,EACT8B,EAAKO,IAAIrC,GApBH,QAqBRA,EArBQ,OAsBVD,EAAI,EAAIqpG,EAAKrpG,EACT+B,EAAKO,IAAItC,GAvBH,QAwBRA,EAxBQ,OA0BVgrB,IADA/qB,EAAI,EAAIA,GACCD,EAGTC,EAAI,GAFJopG,IAAOviG,EAAI/G,IAAMupG,EAAMvpG,GAAKiD,IAAM8D,EAAIukB,IAAOk+E,EAAMl+E,KAEtCprB,EACT8B,EAAKO,IAAIrC,GA9BH,QA+BRA,EA/BQ,OAgCVD,EAAI,EAAIqpG,EAAKrpG,EACT+B,EAAKO,IAAItC,GAjCH,QAkCRA,EAlCQ,OAqCVgrB,GADA29E,GADA1oG,EAAI,EAAIA,GACED,IAEN+B,EAAKO,IAAIqmG,EAAM,GAAO,OAvBX5oG,KA2BjB,OAAOirB,GAKTu1E,EAAMkJ,UAAY,SAAmBhoG,EAAGqF,GACtC,IAII9D,EAAQnC,EAAG4I,EAAGwkE,EAAIy7B,EAAMC,EAJxB9gG,EAAI,EACJs+B,EAAKrgC,EAAI,EAET8iG,EAAMrJ,EAAMwH,QAAQjhG,GAGxB,GAAIrF,GAAK,EACP,OAAOM,EAAKuB,IAAI,IAAKwD,EAAI,IAAM/E,EAAKkB,KAAK6D,IAC3C,GAAIrF,GAAK,EACP,OAAO,EAmBT,IAlBIqF,EAAI,GACN4iG,EAAO3nG,EAAKY,IAAIwkC,GAChBwiE,EAAO5nG,EAAKJ,IAAIwlC,GAAMuiE,EAAO,GAAKE,GAClC37B,EAAMxsE,EAAI,GAAOA,EAAI,EAAIA,EAEzBuB,GAAK,QAAc,QADnBnC,EAAIkB,EAAKkB,MAAM,EAAIlB,EAAKY,IAAIsrE,OACG,EAAIptE,GAAK,OAAc,OAAJA,IAAgBA,EAC9DY,EAAI,KACNuB,GAAKA,GACPA,EAAIjB,EAAKuB,IAAI,KACAwD,EAAI/E,EAAKc,IAAI,EAAI,GAAK,EAAIiE,GAAK9D,GAAK,EAAIjB,EAAKkB,KAAK6D,IAAK,KAIlE9D,EADEvB,GADJZ,EAAI,EAAIiG,GAAK,KAAY,IAAJA,IAEf/E,EAAKc,IAAIpB,EAAIZ,EAAG,EAAIiG,GAEpB,EAAI/E,EAAKY,IAAI,GAAKlB,EAAIZ,IAAM,EAAIA,IAGlCgI,EAAI,GAAIA,IAAK,CACjB,GAAI7F,GAAK,EACP,OAAO,EAUT,IAHAA,GAAMnC,GADN4I,GALM82F,EAAMiI,YAAY1hG,EAAG9D,GAAKvB,IAE9BZ,EADEiG,EAAI,EACF6iG,EAAO5nG,EAAKJ,MAAMqB,EAAImkC,GAAMA,GAAMplC,EAAKY,IAAIK,GAAK0mG,IAEhD3nG,EAAKJ,KAAKqB,EAAImkC,EAAKplC,EAAKY,IAAIK,GAAK4mG,MAExB,EAAI,GAAM7nG,EAAKwB,IAAI,EAAGkG,IAAM3C,EAAI,GAAK9D,EAAI,OAC/C,IACPA,EAAI,IAAOA,EAAInC,IACbkB,EAAKO,IAAIzB,GAtCL,KAsCgBmC,EACtB,MAGJ,OAAOA,GAKTu9F,EAAMsJ,IAAM,SAAa7mG,GACvB,IAcInC,EAAG8kF,EAAImb,EAAK1pD,EAdZ6wD,EAAM,EAAE,mBAAoB,kBAAuB,qBAC3C,oBAAuB,oBAAqB,oBAC7C,oBAAqB,oBAAqB,kBAC1C,iBAAmB,iBAAkB,gBACrC,eAAgB,gBAAiB,gBAChC,eAAgB,aAAe,aAC/B,YAAc,WAAa,YAC3B,WAAa,QAAU,UACvB,UAAY,OAAS,SACrB,QACRp/F,EAAIo/F,EAAIxkG,OAAS,EACjBqmG,GAAQ,EACR7pG,EAAI,EACJ8pG,EAAK,EAWT,IARI/mG,EAAI,IACNA,GAAKA,EACL8mG,GAAQ,GAIVnkB,EAAK,GADL9kF,EAAI,GAAK,EAAImC,IACA,EAEP6F,EAAI,EAAGA,IACXi4F,EAAM7gG,EACNA,EAAI0lF,EAAK1lF,EAAI8pG,EAAK9B,EAAIp/F,GACtBkhG,EAAKjJ,EAIP,OADA1pD,EAAMv2C,EAAIkB,EAAKJ,KAAKqB,EAAIA,EAAI,IAAOilG,EAAI,GAAKtiB,EAAK1lF,GAAK8pG,GAC/CD,EAAQ1yD,EAAM,EAAI,EAAIA,GAK/BmpD,EAAMyJ,KAAO,SAAchnG,GACzB,OAAO,EAAIu9F,EAAMsJ,IAAI7mG,IAKvBu9F,EAAM0J,QAAU,SAAiBxoG,GAC/B,IACIuB,EAAG0hE,EAAK7jE,EAAGotE,EADXplE,EAAI,EAER,GAAIpH,GAAK,EACP,OAAQ,IACV,GAAIA,GAAK,EACP,OAAO,IAKT,IAJAwsE,EAAMxsE,EAAI,EAAKA,EAAI,EAAIA,EAEvBuB,GAAK,SAAY,QAAc,QAD/BnC,EAAIkB,EAAKkB,MAAM,EAAIlB,EAAKY,IAAIsrE,EAAK,OAEhB,EAAIptE,GAAK,OAAc,OAAJA,IAAgBA,GAC7CgI,EAAI,EAAGA,IAEZ7F,IADA0hE,EAAM67B,EAAMyJ,KAAKhnG,GAAKirE,IACV,mBAAsBlsE,EAAKJ,KAAKqB,EAAIA,GAAKA,EAAI0hE,GAE3D,OAAQjjE,EAAI,EAAKuB,GAAKA,GAKxBu9F,EAAM2J,SAAW,SAAkBzoG,EAAGqF,EAAGD,GACvC,IAIIsjG,EAAKC,EAAKn8B,EAAIptE,EAAG4I,EAAQzG,EAAGm4D,EAAInwC,EAAG7W,EAAGw1F,EAHtCxiE,EAAKrgC,EAAI,EACTg3E,EAAKj3E,EAAI,EACTgC,EAAI,EAER,GAAIpH,GAAK,EACP,OAAO,EACT,GAAIA,GAAK,EACP,OAAO,EAwBT,IAvBIqF,GAAK,GAAKD,GAAK,GACjBonE,EAAMxsE,EAAI,GAAOA,EAAI,EAAIA,EAEzBuB,GAAK,QAAc,QADnBnC,EAAIkB,EAAKkB,MAAM,EAAIlB,EAAKY,IAAIsrE,OACG,EAAIptE,GAAI,OAAc,OAAJA,IAAgBA,EAC7DY,EAAI,KACNuB,GAAKA,GACPm4D,GAAMn4D,EAAIA,EAAI,GAAK,EACnBgoB,EAAI,GAAK,GAAK,EAAIlkB,EAAI,GAAM,GAAK,EAAID,EAAI,IACzCsN,EAAKnR,EAAIjB,EAAKkB,KAAKk4D,EAAKnwC,GAAKA,GAAM,GAAK,EAAInkB,EAAI,GAAK,GAAK,EAAIC,EAAI,KAC7Dq0D,EAAK,EAAI,EAAI,GAAK,EAAInwC,IAC3BhoB,EAAI8D,GAAKA,EAAID,EAAI9E,EAAKJ,IAAI,EAAIwS,MAE9Bg2F,EAAMpoG,EAAKY,IAAImE,GAAKA,EAAID,IACxBujG,EAAMroG,EAAKY,IAAIkE,GAAKC,EAAID,IAKtB7D,EADEvB,GAHJZ,EAAIkB,EAAKJ,IAAImF,EAAIqjG,GAAOrjG,IAExBqN,EAAItT,GADJ4I,EAAI1H,EAAKJ,IAAIkF,EAAIujG,GAAOvjG,IAGlB9E,EAAKc,IAAIiE,EAAIqN,EAAI1S,EAAG,EAAIqF,GAExB,EAAI/E,EAAKc,IAAIgE,EAAIsN,GAAK,EAAI1S,GAAI,EAAIoF,IAE1C8iG,GAAQpJ,EAAMwH,QAAQjhG,GAAKy5F,EAAMwH,QAAQlhG,GAAK05F,EAAMwH,QAAQjhG,EAAID,GAC1DgC,EAAI,GAAIA,IAAK,CACjB,GAAU,IAAN7F,GAAiB,IAANA,EACb,OAAOA,EAST,IALAA,GAAMnC,GADN4I,GAFM82F,EAAM8J,MAAMrnG,EAAG8D,EAAGD,GAAKpF,IAC7BZ,EAAIkB,EAAKJ,IAAIwlC,EAAKplC,EAAKY,IAAIK,GAAK86E,EAAK/7E,EAAKY,IAAI,EAAIK,GAAK2mG,MAExC,EAAI,GAAM5nG,EAAKwB,IAAI,EAAGkG,GAAK09B,EAAKnkC,EAAI86E,GAAM,EAAI96E,QACpD,IACPA,EAAI,IAAOA,EAAInC,IACbmC,GAAK,IACPA,EAAI,IAAOA,EAAInC,EAAI,IACjBkB,EAAKO,IAAIzB,GA3CL,KA2CgBmC,GAAK6F,EAAI,EAC/B,MAEJ,OAAO7F,GAKTu9F,EAAM8J,MAAQ,SAAernG,EAAG8D,EAAGD,GAEjC,IAAIyjG,EAAY,IAANtnG,GAAiB,IAANA,EAAY,EAC/BjB,EAAKJ,IAAI4+F,EAAMwH,QAAQjhG,EAAID,GAAK05F,EAAMwH,QAAQjhG,GACrCy5F,EAAMwH,QAAQlhG,GAAKC,EAAI/E,EAAKY,IAAIK,GAAK6D,EACrC9E,EAAKY,IAAI,EAAIK,IACxB,QAAIA,EAAI,GAAKA,EAAI,KAEbA,GAAK8D,EAAI,IAAMA,EAAID,EAAI,GAElByjG,EAAK/J,EAAM6I,OAAOpmG,EAAG8D,EAAGD,GAAKC,EAE/B,EAAIwjG,EAAK/J,EAAM6I,OAAO,EAAIpmG,EAAG6D,EAAGC,GAAKD,IAM9C05F,EAAMgK,MAAQ,SAAenpG,EAAGrB,GAC9B,IAAI0J,EAAG8F,EAAGvM,EAAGwG,EAAGwL,EAGhB,GAFKjV,IACHA,EAAIqB,GACFA,EACF,OAAOm/F,EAAMt/F,OAAOG,EAAGrB,GAAG,WAAa,OAAOwgG,EAAMgK,WACtD,GACE9gG,EAAI82F,EAAMwF,aACVx2F,EAAI,QAAUgxF,EAAMwF,aAAe,IAGnC/wF,GAFAhS,EAAIyG,EAAI,SAEAzG,GADRwG,EAAIzH,EAAKO,IAAIiN,GAAK,UACD,KAAU/F,EAAI,OAAUxG,SAClCgS,EAAI,SAAYA,EAAI,QAAWzF,EAAIA,GAAK,EAAIxN,EAAKY,IAAI8G,GAAKA,EAAIA,IACvE,OAAO8F,EAAI9F,GAKb82F,EAAMiK,MAAQ,SAAeC,EAAOrpG,EAAGrB,GACrC,IACIonC,EAAIujE,EAAIjhG,EAAG8F,EAAGvM,EAAG8kG,EADjB6C,EAAQF,EAMZ,GAJK1qG,IACHA,EAAIqB,GACDqpG,IACHA,EAAQ,GACNrpG,EAGF,OAFA0mG,EAAMvH,EAAMwG,MAAM3lG,EAAErB,IAChB+mG,OAAM,WAAa,OAAOvG,EAAMiK,MAAMC,MACnC3C,EAEL2C,EAAQ,IACVA,GAAS,GACXtjE,EAAKsjE,EAAQ,EAAI,EACjBC,EAAK,EAAI3oG,EAAKkB,KAAK,EAAIkkC,GACvB,EAAG,CACD,GAEE53B,EAAI,EAAIm7F,GADR1nG,EAAIu9F,EAAMgK,eAEJh7F,GAAK,GACbA,GAAIA,EAAIA,EACR9F,EAAI82F,EAAMwF,mBACJt8F,EAAI,EAAI,KAAQ1H,EAAKc,IAAIG,EAAG,IAC5BjB,EAAKY,IAAI8G,GAAK,GAAMzG,EAAEA,EAAImkC,GAAM,EAAI53B,EAAIxN,EAAKY,IAAI4M,KAEzD,GAAIk7F,GAASE,EACX,OAAOxjE,EAAK53B,EAEd,GACE9F,EAAI82F,EAAMwF,mBACE,IAANt8F,GACR,OAAO1H,EAAKc,IAAI4G,EAAG,EAAIkhG,GAASxjE,EAAK53B,GAKvC,SAAUu1F,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAC/CxE,EAAMvuD,GAAG+yD,GAAY,WACnB,OAAOxE,EACHA,EAAMn8F,IAAIF,MAAM,SAAStD,GAAS,OAAO2/F,EAAMwE,GAAUnkG,QAH1B,CAKpCkkG,EAAMnlG,IANX,CAOG,wCAAwC0xB,MAAM,MAGjD,SAAUyzE,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAK,SAAUolG,GAC/CxE,EAAMvuD,GAAG+yD,GAAY,WACnB,OAAOxE,EAAMA,EAAMwE,GAAUl/F,MAAM,KAAM5B,aAFN,CAIpC6gG,EAAMnlG,IALX,CAMG,QAAQ0xB,MAAM,MAhdjB,CAkdEkvE,EAAOx+F,MACR,SAASw+F,EAAOx+F,GAutBjB,SAAS6oG,EAAO5nG,EAAG8D,EAAGD,EAAGgkG,GASvB,IARA,IAMIC,EANA5jE,EAAK,EACL22C,EAAK,EACL12C,EAAK,EACL22C,EAAK,EACLitB,EAAK,EACLL,EAAK,EAGF3oG,EAAKO,KAAK6kC,EAAKujE,GAAMvjE,GAAM0jE,GAChCH,EAAKvjE,EAGL02C,EAAKC,GAFLgtB,IAAOhkG,EAAIikG,IAAOjkG,EAAID,EAAIkkG,GAAM/nG,GAAK8D,EAAI,EAAIikG,IAAOjkG,EAAI,EAAIikG,EAAK,IAElDltB,EAGf12C,GAJAD,EAAKC,EAAK2jE,EAAK5jE,IAGf4jE,GADAC,GAAU,IACClkG,EAAIkkG,GAAM/nG,GAAK8D,EAAI,EAAIikG,EAAK,IAAMjkG,EAAI,EAAIikG,IACtC5jE,EAEfD,GADA42C,EAAKD,EAAKitB,EAAKhtB,EAEfD,GAAUC,EACV32C,GAAU22C,EACVA,EAAK,EAGP,OAAO32C,EAAKrgC,EAicd,SAASkkG,EAAW72F,EAAG82F,EAAIrmD,GACzB,IAUIsmD,EAAO,CACT,kBACA,kBACA,kBACA,kBACA,kBACA,mBAEEC,EAAO,CACT,mBACA,mBACA,mBACA,mBACA,kBACA,oBAGEC,EAAW,GAAJj3F,EAKX,GAAIi3F,GA1BO,EA2BT,OAAO,EAKT,IAUIC,EAVAC,EAAO,EAAI/K,EAAM3qB,OAAO21B,IAAIH,EAAM,EAAG,EAAG,EAAG,GAAK,EAGlDE,EADEA,GAAQvpG,EAAKJ,KApCP,GAoCgBijD,GACjB7iD,EAAKc,IAAIyoG,EAAM1mD,GAEf,EA2BT,IARA,IAAI4mD,EAAMJ,EACNK,GAzDO,EAyDML,IAbfC,EADEl3F,EA1CO,EACE,EACA,GAuDTu3F,EAAMF,EAAMC,EACZE,EAAS,EAITC,EAAMhnD,EAAK,EACNinD,EAAK,EAAGA,GAAMR,EAAOQ,IAAM,CAQlC,IAPA,IAAIC,EAAQ,EACRhlG,EAAI,IAAO4kG,EAAMF,GAIjB3kG,EAAI,IAAO6kG,EAAMF,GAEZO,EAAK,EAAGA,GA9ER,GA8EoBA,IAAM,CACjC,IAAIljG,EASAmjG,EAAKllG,EADDD,GAtFA,EA+EIklG,EAELb,GADLriG,EAjFK,GAiFOkjG,EAAM,GACN,IAGNb,GADNriG,EAAIkjG,GACS,IAQXE,EAAQD,EAAKA,EACjB,GAAIC,EAzFC,GA0FH,MAEF,IAMIC,EANQ,EAAI3L,EAAM3qB,OAAO21B,IAAIS,EAAI,EAAG,EAAG,EAAG,GAMxB,GALV,EAAIzL,EAAM3qB,OAAO21B,IAAIS,EAAI73F,EAAG,EAAG,EAAG,GAKP,GACnC+3F,GAAUnqG,EAAKJ,KArGd,GAqGuBiqG,KAE1BE,GADAI,EAAUf,EAAKtiG,EAAE,GAAK9G,EAAKJ,KAAM,GAAMsqG,GAAWlqG,EAAKc,IAAIqpG,EAAQN,IAKvED,GADAG,GAAY,EAAMjlG,EAAK+9C,EAAM7iD,EAAKkB,KAAK,EAAIlB,EAAKC,IAEhDwpG,EAAME,EACNA,GAAOD,EAKT,OADAH,GAAQK,IACI5pG,EAAKJ,KAlHR,GAkHiBspG,GACjB,GAETK,EAAOvpG,EAAKc,IAAIyoG,EAAML,KACV,EACH,EACFK,GAzyCT,SAAUve,GACR,IAAK,IAAIptF,EAAI,EAAGA,EAAIotF,EAAKtpF,OAAQ9D,KAAK,SAAUslG,GAE9C1E,EAAM0E,GAAQ,SAASn+F,EAAGD,EAAG7G,GAC3B,OAAMkE,gBAAgBD,UAAUkoG,QAEhCjoG,KAAKkoG,GAAKtlG,EACV5C,KAAKmoG,GAAKxlG,EACV3C,KAAKooG,GAAKtsG,EACHkE,MAJE,IAAID,UAAUkoG,OAAOrlG,EAAGD,EAAG7G,IAOtCugG,EAAMvuD,GAAGizD,GAAQ,SAASn+F,EAAGD,EAAG7G,GAC9B,IAAIusG,EAAUhM,EAAM0E,GAAMn+F,EAAGD,EAAG7G,GAEhC,OADAusG,EAAQpzE,KAAOj1B,KACRqoG,GAGThM,EAAM0E,GAAM1jG,UAAU08D,OAAS,SAAS0iC,GACtC,IAAI75F,EAAI5C,KAAKkoG,GACTvlG,EAAI3C,KAAKmoG,GACTrsG,EAAIkE,KAAKooG,GACb,OAAI3L,EACKJ,EAAMuG,MAAMnG,GAAK,WACtB,OAAOJ,EAAM0E,GAAMhnC,OAAOn3D,EAAGD,EAAG7G,MAG3BugG,EAAM0E,GAAMhnC,OAAOn3D,EAAGD,EAAG7G,IAGpC,SAAUwsG,GACR,IAAK,IAAI7sG,EAAI,EAAGA,EAAI6sG,EAAK/oG,OAAQ9D,KAAK,SAAU8sG,GAC9ClM,EAAM0E,GAAM1jG,UAAUkrG,GAAU,SAASzpG,GACvC,IAAI8D,EAAI5C,KAAKkoG,GACTvlG,EAAI3C,KAAKmoG,GACTrsG,EAAIkE,KAAKooG,GAGb,OAFKtpG,GAAW,IAANA,IACRA,EAAIkB,KAAKi1B,MACM,iBAANn2B,EACFu9F,EAAMvuD,GAAG5tC,IAAItE,KAAKkD,GAAG,SAASA,GACnC,OAAOu9F,EAAM0E,GAAMwH,GAAQzpG,EAAG8D,EAAGD,EAAG7G,MAGjCugG,EAAM0E,GAAMwH,GAAQzpG,EAAG8D,EAAGD,EAAG7G,IAZF,CAcnCwsG,EAAK7sG,IAfV,CAgBG,cAAc0xB,MAAM,MAEvB,SAAUm7E,GACR,IAAK,IAAI7sG,EAAI,EAAGA,EAAI6sG,EAAK/oG,OAAQ9D,KAAK,SAAU8sG,GAC9ClM,EAAM0E,GAAM1jG,UAAUkrG,GAAU,WAC9B,OAAOlM,EAAM0E,GAAMwH,GAAQvoG,KAAKkoG,GAAIloG,KAAKmoG,GAAInoG,KAAKooG,KAFhB,CAInCE,EAAK7sG,IALV,CAMG,4BAA4B0xB,MAAM,MArDD,CAsDnC07D,EAAKptF,IAvDV,CAwDG,sMAID0xB,MAAM,MAKRkvE,EAAMv0E,OAAOu0E,EAAMp0D,KAAM,CACvBugE,IAAK,SAAa1pG,EAAG8pC,EAAOX,GAE1B,OAAInpC,EAAI,GAAKA,EAAI,EACR,EAEI,GAAT8pC,GAAsB,GAARX,EACT,EAELW,EAAQ,KAAOX,EAAO,IAChBpqC,EAAKc,IAAIG,EAAG8pC,EAAQ,GAAK/qC,EAAKc,IAAI,EAAIG,EAAGmpC,EAAO,GACpDo0D,EAAM2I,OAAOp8D,EAAOX,GAEjBpqC,EAAKJ,KAAKmrC,EAAQ,GAAK/qC,EAAKY,IAAIK,IACtBmpC,EAAO,GAAKpqC,EAAKY,IAAI,EAAIK,GAC1Bu9F,EAAM4I,OAAOr8D,EAAOX,KAIxCo/D,IAAK,SAAavoG,EAAG8pC,EAAOX,GAC1B,OAAQnpC,EAAI,GAAKA,EAAI,EAAe,GAATA,EAAI,GAASu9F,EAAM8J,MAAMrnG,EAAG8pC,EAAOX,IAGhEwgE,IAAK,SAAa3pG,EAAG8pC,EAAOX,GAC1B,OAAOo0D,EAAM2J,SAASlnG,EAAG8pC,EAAOX,IAGlC48B,KAAM,SAAcj8B,EAAOX,GACzB,OAAOW,GAASA,EAAQX,IAG1Bo1D,OAAQ,SAAgBz0D,EAAOX,GAC7B,OAAOo0D,EAAM2J,SAAS,GAAKp9D,EAAOX,IAGpCrrC,KAAM,SAAcgsC,EAAOX,GACzB,OAAQW,EAAQ,IAAQA,EAAQX,EAAO,IAIzC8xB,OAAQ,SAAgBnxB,EAAOX,GAC7B,IAAI1iC,EAAI82F,EAAMiK,MAAM19D,GACpB,OAAOrjC,GAAKA,EAAI82F,EAAMiK,MAAMr+D,KAG9BjJ,SAAU,SAAkB4J,EAAOX,GACjC,OAAQW,EAAQX,GAASpqC,EAAKc,IAAIiqC,EAAQX,EAAM,IAAMW,EAAQX,EAAO,OAKzEo0D,EAAMv0E,OAAOu0E,EAAMqM,SAAU,CAI3BF,IAAK,SAAa1pG,EAAG6pG,EAAKC,GACxB,IAAIrrG,EAEJ,OAAIuB,EAAI,EACC,EAEL6pG,GAAO,EACC,IAAN7pG,GAAW6pG,EAAM,EACZr/F,IAEC,IAANxK,GAAmB,IAAR6pG,EACN,EAED,EAAItM,EAAM2I,OAAO2D,EAAM,EAAGC,EAAM,GAChC/qG,EAAKc,IAAIgqG,EAAMC,EAAKD,EAAM,GAC1B9qG,EAAKc,IAAIG,EAAI6pG,EAAI,EAAK,GACtB9qG,EAAKc,IAAK,EAAKgqG,EAAMC,EAAO9pG,IAAM6pG,EAAMC,GAAO,IAGzDrrG,EAAKorG,EAAM7pG,GAAM8pG,EAAM9pG,EAAI6pG,GAEvBA,GADAC,GAAOA,EAAM9pG,EAAI6pG,IACP,EACHtM,EAAMwM,SAASL,KAAKG,EAAM,GAAK,GAAIA,EAAMC,EAAM,GAAK,EAAGrrG,KAGpE8pG,IAAK,SAAavoG,EAAG6pG,EAAKC,GACxB,OAAI9pG,EAAI,EACC,EACFu9F,EAAM8J,MAAOwC,EAAM7pG,GAAM6pG,EAAM7pG,EAAI8pG,GAAMD,EAAM,EAAGC,EAAM,IAGjEH,IAAK,SAAa3pG,EAAG6pG,EAAKC,GACxB,OAAOA,GAAOD,GAAO,EAAItM,EAAM2J,SAASlnG,EAAG6pG,EAAM,EAAGC,EAAM,GAAK,KAGjE/jC,KAAM,SAAc8jC,EAAKC,GACvB,OAAQA,EAAM,EAAKA,GAAOA,EAAM,QAAK7mG,GAGvCnF,KAAM,SAAc+rG,EAAKC,GACvB,OAAQD,EAAM,EAAMC,GAAOD,EAAM,IAAOA,GAAOC,EAAM,SAAM7mG,GAI7Dg4D,OAAQ,SAAgB4uC,EAAKC,GAG3B,OAFgC,EAAvBvM,EAAMiK,MAAMqC,EAAM,GAEdA,GADmB,EAAvBtM,EAAMiK,MAAMsC,EAAM,GACDA,IAG5B5pE,SAAU,SAAkB2pE,EAAKC,GAC/B,KAAIA,GAAO,GAEX,OAAO,EAAIA,EAAMA,GAAOD,EAAMC,EAAM,IAC/BD,GAAOC,EAAM,IAAMA,EAAM,IAAMA,EAAM,OAM9CvM,EAAMv0E,OAAOu0E,EAAMyM,OAAQ,CACzBN,IAAK,SAAa1pG,EAAG2vB,EAAOjtB,GAC1B,OAAIA,EAAQ,EAAY,EAEhBA,GAAS3D,EAAKc,IAAIG,EAAI2vB,EAAO,GAAK5wB,EAAKc,IAAI6C,EAAO,IAAO3D,EAAKC,IAGxEupG,IAAK,SAAavoG,EAAG2vB,EAAOjtB,GAC1B,OAAO3D,EAAKQ,MAAMS,EAAI2vB,GAASjtB,GAAS3D,EAAKC,GAAK,IAGpD2qG,IAAK,SAASlrG,EAAGkxB,EAAOjtB,GACtB,OAAOitB,EAAQjtB,EAAQ3D,EAAKmB,IAAInB,EAAKC,IAAMP,EAAI,MAGjD8/F,OAAQ,SAAgB5uE,GACtB,OAAOA,GAGT7xB,KAAM,SAAc6xB,GAClB,OAAOA,GAGTsrC,OAAQ,SAAgBtrC,EAAOjtB,GAC7B,OAAO66F,EAAMgK,QACTxoG,EAAKkB,KAAK,GAAK,EAAIs9F,EAAMiK,MAAM,MAAS9kG,EAAQitB,KAOxD4tE,EAAMv0E,OAAOu0E,EAAM0M,UAAW,CAC5BP,IAAK,SAAa1pG,EAAGkqG,GACnB,OAAIlqG,EAAI,EACC,EACK,IAANA,GAAmB,IAARkqG,EAAa,GAC5BnrG,EAAKJ,KAAKurG,EAAM,EAAI,GAAKnrG,EAAKY,IAAIK,GAAKA,EAAI,EAAKkqG,EAAM,EAC7CnrG,EAAKY,IAAI,GAAK49F,EAAMwH,QAAQmF,EAAM,KAGjD3B,IAAK,SAAavoG,EAAGkqG,GACnB,OAAIlqG,EAAI,EACC,EACFu9F,EAAMiI,YAAY0E,EAAM,EAAGlqG,EAAI,IAGxC2pG,IAAK,SAASlrG,EAAGyrG,GACf,OAAO,EAAI3M,EAAMkJ,UAAUhoG,EAAG,GAAMyrG,IAGtCnkC,KAAO,SAASmkC,GACd,OAAOA,GAIT3L,OAAQ,SAAgB2L,GACtB,OAAOA,EAAMnrG,EAAKc,IAAI,EAAK,GAAK,EAAIqqG,GAAO,IAG7CpsG,KAAM,SAAcosG,GAClB,OAAQA,EAAM,EAAI,EAAKA,EAAM,EAAI,GAGnCjvC,OAAQ,SAAgBivC,GACtB,OAA8B,EAAvB3M,EAAMiK,MAAM0C,EAAM,IAG3BhqE,SAAU,SAAkBgqE,GAC1B,OAAO,EAAIA,KAOf3M,EAAMv0E,OAAOu0E,EAAMvgF,YAAa,CAC9B0sF,IAAK,SAAa1pG,EAAGmqG,GACnB,OAAOnqG,EAAI,EAAI,EAAImqG,EAAOprG,EAAKJ,KAAKwrG,EAAOnqG,IAG7CuoG,IAAK,SAAavoG,EAAGmqG,GACnB,OAAOnqG,EAAI,EAAI,EAAI,EAAIjB,EAAKJ,KAAKwrG,EAAOnqG,IAG1C2pG,IAAK,SAASlrG,EAAG0rG,GACf,OAAQprG,EAAKY,IAAI,EAAIlB,GAAK0rG,GAG5BpkC,KAAO,SAASokC,GACd,OAAO,EAAIA,GAGb5L,OAAQ,SAAU4L,GAChB,OAAQ,EAAIA,EAAQprG,EAAKY,IAAI,IAG/B7B,KAAM,WACJ,OAAO,GAGTm9D,OAAQ,SAAgBkvC,GACtB,OAAQ,EAAIA,EAAOprG,EAAKY,IAAI49F,EAAMwF,eAGpC7iE,SAAW,SAASiqE,GAClB,OAAOprG,EAAKc,IAAIsqG,GAAO,MAO3B5M,EAAMv0E,OAAOu0E,EAAMzgF,MAAO,CACxB4sF,IAAK,SAAa1pG,EAAGynG,EAAO/kG,GAC1B,OAAI1C,EAAI,EACC,EACK,IAANA,GAAqB,IAAVynG,EAAe,EAAI/kG,EAC9B3D,EAAKJ,KAAK8oG,EAAQ,GAAK1oG,EAAKY,IAAIK,GAAKA,EAAI0C,EACjC66F,EAAMwH,QAAQ0C,GAASA,EAAQ1oG,EAAKY,IAAI+C,KAG1D6lG,IAAK,SAAavoG,EAAGynG,EAAO/kG,GAC1B,OAAI1C,EAAI,EACC,EACFu9F,EAAMiI,YAAYiC,EAAOznG,EAAI0C,IAGtCinG,IAAK,SAASlrG,EAAGgpG,EAAO/kG,GACtB,OAAO66F,EAAMkJ,UAAUhoG,EAAGgpG,GAAS/kG,GAGrCqjE,KAAO,SAAS0hC,EAAO/kG,GACrB,OAAO+kG,EAAQ/kG,GAGjB5E,KAAM,SAAc2pG,EAAO/kG,GACzB,GAAG+kG,EAAQ,EAAG,OAAQA,EAAQ,GAAK/kG,GAIrCu4D,OAAQ,SAAgBwsC,EAAO/kG,GAC7B,OAAO66F,EAAMiK,MAAMC,GAAS/kG,GAG9Bw9B,SAAU,SAAkBunE,EAAO/kG,GACjC,OAAO+kG,EAAQ/kG,EAAQA,KAK3B66F,EAAMv0E,OAAOu0E,EAAM6M,SAAU,CAC3BV,IAAK,SAAa1pG,EAAGynG,EAAO/kG,GAC1B,OAAI1C,GAAK,EACA,EACFjB,EAAKJ,MAAM8oG,EAAQ,GAAK1oG,EAAKY,IAAIK,GAAK0C,EAAQ1C,EACrCu9F,EAAMwH,QAAQ0C,GAASA,EAAQ1oG,EAAKY,IAAI+C,KAG1D6lG,IAAK,SAAavoG,EAAGynG,EAAO/kG,GAC1B,OAAI1C,GAAK,EACA,EACF,EAAIu9F,EAAMiI,YAAYiC,EAAO/kG,EAAQ1C,IAG9C2pG,IAAK,SAASlrG,EAAGgpG,EAAO/kG,GACtB,OAAOA,EAAQ66F,EAAMkJ,UAAU,EAAIhoG,EAAGgpG,IAGxC1hC,KAAO,SAAS0hC,EAAO/kG,GACrB,OAAQ+kG,EAAQ,EAAK/kG,GAAS+kG,EAAQ,QAAKxkG,GAG7CnF,KAAM,SAAc2pG,EAAO/kG,GACzB,OAAOA,GAAS+kG,EAAQ,IAG1BxsC,OAAQ,SAAgBwsC,EAAO/kG,GAC7B,OAAOA,EAAQ66F,EAAMiK,MAAMC,IAG7BvnE,SAAU,SAAkBunE,EAAO/kG,GACjC,KAAI+kG,GAAS,GAEb,OAAO/kG,EAAQA,IAAU+kG,EAAQ,IAAMA,EAAQ,IAAMA,EAAQ,OAMjElK,EAAMv0E,OAAOu0E,EAAM8M,YAAa,CAC9BX,IAAK,SAAa1pG,EAAG8pC,EAAOX,GAC1B,OAAU,IAANnpC,GAAqB,IAAV8pC,EACNX,EACM,IAANnpC,GAAoB,IAATmpC,EACXW,EACF/qC,EAAKJ,IAAII,EAAKY,IAAImqC,GAAS/qC,EAAKY,IAAIwpC,IAASW,EAAQ,GAC5C/qC,EAAKY,IAAIK,IAAMmpC,EAAO,GACtBpqC,EAAKY,IAAI,EAAIZ,EAAKc,IAAIG,EAAG8pC,MAG3Cy+D,IAAK,SAAavoG,EAAG8pC,EAAOX,GAC1B,OAAInpC,EAAI,EACC,EACAA,EAAI,EACJ,EACD,EAAIjB,EAAKc,IAAI,EAAId,EAAKc,IAAIG,EAAG8pC,GAAQX,IAG/CwgE,IAAK,SAAalrG,EAAGqrC,EAAOX,GAC1B,OAAOpqC,EAAKc,IAAI,EAAId,EAAKc,IAAI,EAAIpB,EAAG,EAAI0qC,GAAO,EAAIW,IAGrDi8B,KAAO,SAASj8B,EAAOX,GACrB,OAAQA,EAAOo0D,EAAM4H,QAAQ,EAAI,EAAIr7D,GAC7ByzD,EAAM4H,QAAQh8D,GAAUo0D,EAAM4H,QAAQ,EAAI,EAAIr7D,EAAQX,IAGhEo1D,OAAQ,SAAgBz0D,EAAOX,GAC7B,OAAOpqC,EAAKc,IAAI,EAAId,EAAKc,IAAI,GAAI,EAAIspC,GAAO,EAAIW,IAGlDhsC,KAAM,SAAcgsC,EAAOX,GACzB,GAAMW,GAAS,GAAKX,GAAQ,GAAgB,IAAVW,GAAwB,IAATX,EAEjD,OAAOpqC,EAAKc,KAAKiqC,EAAQ,IAAMA,EAAQX,EAAO,GAAI,EAAIW,IAGxD5J,SAAU,WACR,MAAM,IAAIn5B,MAAM,mCAQpBw2F,EAAMv0E,OAAOu0E,EAAM+M,UAAW,CAC5BZ,IAAK,SAAa1pG,EAAGwhG,EAAIC,GACvB,OAAIzhG,GAAK,EACA,EACFjB,EAAKJ,KAAKI,EAAKY,IAAIK,GAAK,GAAMjB,EAAKY,IAAI,EAAIZ,EAAKC,IACvCD,EAAKY,IAAI8hG,GAAS1iG,EAAKc,IAAId,EAAKY,IAAIK,GAAKwhG,EAAI,IAC5C,EAAIC,EAAQA,KAG/B8G,IAAK,SAAavoG,EAAGwhG,EAAIC,GACvB,OAAIzhG,EAAI,EACC,EACF,GACF,GAAMu9F,EAAMsJ,KAAK9nG,EAAKY,IAAIK,GAAKwhG,GAAMziG,EAAKkB,KAAK,EAAIwhG,EAAQA,KAGlEkI,IAAK,SAASlrG,EAAG+iG,EAAIC,GACnB,OAAO1iG,EAAKJ,KAAK,mBAAsB8iG,EAAQlE,EAAM0J,QAAQ,EAAIxoG,GAAK+iG,IAGxEz7B,KAAM,SAAcy7B,EAAIC,GACtB,OAAO1iG,EAAKJ,IAAI6iG,EAAKC,EAAQA,EAAQ,IAGvClD,OAAQ,SAAgBiD,GACtB,OAAOziG,EAAKJ,IAAI6iG,IAGlB1jG,KAAM,SAAc0jG,EAAIC,GACtB,OAAO1iG,EAAKJ,IAAI6iG,EAAKC,EAAQA,IAG/BxmC,OAAQ,SAAgBumC,EAAIC,GAC1B,OAAO1iG,EAAKJ,IAAI4+F,EAAMgK,QAAU9F,EAAQD,IAG1CthE,SAAU,SAAkBshE,EAAIC,GAC9B,OAAQ1iG,EAAKJ,IAAI8iG,EAAQA,GAAS,GAAK1iG,EAAKJ,IAAI,EAAI6iG,EAAKC,EAAQA,MAOrElE,EAAMv0E,OAAOu0E,EAAMgN,YAAa,CAC9Bb,IAAK,SAAa1pG,EAAGkqG,EAAKM,GAExB,OAAIzrG,EAAKO,IAAIkrG,GADH,MAEDjN,EAAMkN,SAASf,IAAI1pG,EAAGkqG,GAE3BnrG,EAAKO,IAAIU,GAJH,MAKDjB,EAAKJ,IAAI4+F,EAAMwH,SAASmF,EAAM,GAAK,GAAKM,EAAMA,EAAM,EAC3C,GAAMzrG,EAAKY,IAAIZ,EAAKC,GAAKkrG,GAAO3M,EAAMwH,QAAQmF,EAAM,IAI/DA,EAAMlqG,GACRu9F,EAAMgN,YAAYhC,IAAIvoG,EAAIjB,EAAKkB,KAAK,EAAI,EAAIiqG,GAAMA,EAAI,EAAGM,GACzDjN,EAAMgN,YAAYhC,IAAIvoG,EAAGkqG,EAAKM,KAGrCjC,IAAK,SAAavoG,EAAGkqG,EAAKM,GAIxB,GAAIzrG,EAAKO,IAAIkrG,GAHH,MAIR,OAAOjN,EAAMkN,SAASlC,IAAIvoG,EAAGkqG,GAG/B,IAAIQ,GAAO,EACP1qG,EAAI,IACN0qG,GAAO,EACPF,GAAOA,GAYT,IATA,IAAIG,EAAOpN,EAAM3qB,OAAO21B,KAAKiC,EAAK,EAAG,GACjC5sG,EAdM,MAcQ,EAEdgtG,EAAYhtG,EACZ4I,EAAIxG,EAAIA,GAAKA,EAAIA,EAAIkqG,GACrBrkG,EAAI,EACJpH,EAAIM,EAAKJ,KAAK6rG,EAAMA,EAAM,GAC1Bx4F,EAAIjT,EAAKJ,KAAK6rG,EAAMA,EAAM,EAAI,GAAMzrG,EAAKY,IAAI,GAChC49F,EAAMwH,QAAQ,MAAUyF,EAClC3kG,EArBc,KAqBQ+kG,EAtBnB,OAsBsChtG,EAtBtC,OAuBRgtG,EAAYhtG,EACRiI,EAAI,IACNpH,GAAM+rG,EAAMA,GAAQ,EAAI3kG,GACxBmM,GAAMw4F,EAAMA,GAAQ,GAAK3kG,EAAI,MAI/B8kG,GAAQ,IAFR/sG,EAAQa,EAAI8+F,EAAMp0D,KAAKo/D,IAAI/hG,EAAGX,EAAI,GAAKqkG,EAAM,GACzCl4F,EAAIurF,EAAMp0D,KAAKo/D,IAAI/hG,EAAGX,EAAE,EAAGqkG,EAAI,IAEnCrkG,IAGF,OAAO6kG,EAAQ,EAAIC,EAAQA,KAM/BpN,EAAMv0E,OAAOu0E,EAAM3qB,OAAQ,CACzB82B,IAAK,SAAa1pG,EAAG+lE,EAAM5lC,GACzB,OAAOphC,EAAKJ,KAAK,GAAMI,EAAKY,IAAI,EAAIZ,EAAKC,IACzBD,EAAKY,IAAIwgC,GAAOphC,EAAKc,IAAIG,EAAI+lE,EAAM,IAAM,EAAI5lC,EAAMA,KAGrEooE,IAAK,SAAavoG,EAAG+lE,EAAM5lC,GACzB,MAAO,IAAO,EAAIo9D,EAAMsJ,KAAK7mG,EAAI+lE,GAAQhnE,EAAKkB,KAAK,EAAIkgC,EAAMA,MAG/DwpE,IAAK,SAASlrG,EAAGsnE,EAAM5lC,GACrB,OAAQ,mBAAsBA,EAAMo9D,EAAM0J,QAAQ,EAAIxoG,GAAKsnE,GAG7DA,KAAO,SAASA,GACd,OAAOA,GAGTw4B,OAAQ,SAAgBx4B,GACtB,OAAOA,GAGTjoE,KAAM,SAAUioE,GACd,OAAOA,GAGT9K,OAAQ,SAAgB8K,EAAM5lC,GAC5B,OAAOo9D,EAAMgK,QAAUpnE,EAAM4lC,GAG/B7lC,SAAW,SAAS6lC,EAAM5lC,GACxB,OAAOA,EAAMA,KAOjBo9D,EAAMv0E,OAAOu0E,EAAMsN,OAAQ,CACzBnB,IAAK,SAAa1pG,EAAG0C,EAAO+kG,GAC1B,OAAIznG,EAAI0C,EACC,EACD+kG,EAAQ1oG,EAAKc,IAAI6C,EAAO+kG,GAAU1oG,EAAKc,IAAIG,EAAGynG,EAAQ,IAGhEc,IAAK,SAAavoG,EAAG0C,EAAO+kG,GAC1B,OAAIznG,EAAI0C,EACC,EACF,EAAI3D,EAAKc,IAAI6C,EAAQ1C,EAAGynG,IAGjCkC,IAAK,SAAalrG,EAAGiE,EAAO+kG,GAC1B,OAAO/kG,EAAQ3D,EAAKc,IAAI,EAAIpB,EAAG,EAAIgpG,IAGrC1hC,KAAM,SAAcrjE,EAAO+kG,GACzB,KAAIA,GAAS,GAEb,OAAQA,EAAQ1oG,EAAKc,IAAI6C,EAAO+kG,IAAWA,EAAQ,IAGrDlJ,OAAQ,SAAgB77F,EAAO+kG,GAC7B,OAAO/kG,GAAS+kG,EAAQ1oG,EAAK2kF,QAG/B5lF,KAAM,SAAc4E,GAClB,OAAOA,GAGTw9B,SAAW,SAASx9B,EAAO+kG,GACzB,KAAIA,GAAS,GAEb,OAAQ/kG,EAAMA,EAAQ+kG,GAAU1oG,EAAKc,IAAI4nG,EAAQ,EAAG,IAAMA,EAAQ,OAOtElK,EAAMv0E,OAAOu0E,EAAMkN,SAAU,CAC3Bf,IAAK,SAAa1pG,EAAGkqG,GAEnB,OADAA,EAAMA,EAAM,MAAQ,MAAQA,EACpB,GAAGnrG,EAAKkB,KAAKiqG,GAAO3M,EAAM2I,OAAO,GAAKgE,EAAI,IAC9CnrG,EAAKc,IAAI,EAAMG,EAAIA,EAAKkqG,IAASA,EAAM,GAAK,IAGlD3B,IAAK,SAAavoG,EAAGkqG,GACnB,IAAIY,EAAOZ,EAAM,EACjB,OAAO3M,EAAM8J,OAAOrnG,EAAIjB,EAAKkB,KAAKD,EAAIA,EAAIkqG,KACtB,EAAInrG,EAAKkB,KAAKD,EAAIA,EAAIkqG,IAAOY,EAAMA,IAGzDnB,IAAK,SAASlrG,EAAGyrG,GACf,IAAIlqG,EAAIu9F,EAAM2J,SAAS,EAAInoG,EAAKwB,IAAI9B,EAAG,EAAIA,GAAI,GAAMyrG,EAAK,IAE1D,OADAlqG,EAAIjB,EAAKkB,KAAKiqG,GAAO,EAAIlqG,GAAKA,GACtBvB,EAAI,GAAOuB,GAAKA,GAG1B+lE,KAAM,SAAcmkC,GAClB,OAAQA,EAAM,EAAK,OAAIjnG,GAGzBs7F,OAAQ,WACN,OAAO,GAGTzgG,KAAM,WACJ,OAAO,GAGTm9D,OAAQ,SAAgBivC,GACtB,OAAO3M,EAAMgK,QAAUxoG,EAAKkB,KAAKiqG,GAAO,EAAI3M,EAAMiK,MAAM0C,EAAM,MAGhEhqE,SAAU,SAAkBgqE,GAC1B,OAAQA,EAAO,EAAKA,GAAOA,EAAM,GAAMA,EAAM,EAAK1/F,SAAWvH,KAOjEs6F,EAAMv0E,OAAOu0E,EAAMwN,QAAS,CAC1BrB,IAAK,SAAa1pG,EAAG0C,EAAO+kG,GAC1B,OAAIznG,EAAI,GAAK0C,EAAQ,GAAK+kG,EAAQ,EACzB,EACDA,EAAQ/kG,EAAS3D,EAAKc,IAAKG,EAAI0C,EAAS+kG,EAAQ,GACpD1oG,EAAKJ,KAAMI,EAAKc,IAAKG,EAAI0C,EAAQ+kG,KAGvCc,IAAK,SAAavoG,EAAG0C,EAAO+kG,GAC1B,OAAOznG,EAAI,EAAI,EAAI,EAAIjB,EAAKJ,KAAKI,EAAKc,IAAKG,EAAI0C,EAAQ+kG,KAGzDkC,IAAK,SAASlrG,EAAGiE,EAAO+kG,GACtB,OAAO/kG,EAAQ3D,EAAKc,KAAKd,EAAKY,IAAI,EAAIlB,GAAI,EAAIgpG,IAGhD1hC,KAAO,SAASrjE,EAAO+kG,GACrB,OAAO/kG,EAAQ66F,EAAM4H,QAAQ,EAAI,EAAIsC,IAGvClJ,OAAQ,SAAgB77F,EAAO+kG,GAC7B,OAAO/kG,EAAQ3D,EAAKc,IAAId,EAAKY,IAAI,GAAI,EAAI8nG,IAG3C3pG,KAAM,SAAc4E,EAAO+kG,GACzB,OAAIA,GAAS,EACJ,EACF/kG,EAAQ3D,EAAKc,KAAK4nG,EAAQ,GAAKA,EAAO,EAAIA,IAGnDxsC,OAAQ,SAAgBv4D,EAAO+kG,GAC7B,OAAO/kG,EAAQ3D,EAAKc,KAAKd,EAAKY,IAAI49F,EAAMwF,cAAe,EAAI0E,IAG7DvnE,SAAU,SAAkBx9B,EAAO+kG,GACjC,OAAO/kG,EAAQA,EAAQ66F,EAAM4H,QAAQ,EAAI,EAAIsC,GACzC1oG,EAAKc,IAAI09F,EAAMwN,QAAQhlC,KAAKrjE,EAAO+kG,GAAQ,MAOnDlK,EAAMv0E,OAAOu0E,EAAMxrD,QAAS,CAC1B23D,IAAK,SAAa1pG,EAAG8D,EAAGD,GACtB,OAAQ7D,EAAI8D,GAAK9D,EAAI6D,EAAK,EAAI,GAAKA,EAAIC,IAGzCykG,IAAK,SAAavoG,EAAG8D,EAAGD,GACtB,OAAI7D,EAAI8D,EACC,EACA9D,EAAI6D,GACH7D,EAAI8D,IAAMD,EAAIC,GACjB,GAGT6lG,IAAK,SAASlrG,EAAGqF,EAAGD,GAClB,OAAOC,EAAKrF,GAAKoF,EAAIC,IAGvBiiE,KAAM,SAAcjiE,EAAGD,GACrB,MAAO,IAAOC,EAAID,IAGpB06F,OAAQ,SAAgBz6F,EAAGD,GACzB,OAAO05F,EAAMx3B,KAAKjiE,EAAGD,IAGvB/F,KAAM,WACJ,MAAM,IAAIiJ,MAAM,gCAGlBk0D,OAAQ,SAAgBn3D,EAAGD,GACzB,OAAQC,EAAI,EAAID,EAAI,GAAMA,EAAI,EAAIC,EAAI,IAAM,EAAIy5F,EAAMwF,aAAe,IAGvE7iE,SAAU,SAAkBp8B,EAAGD,GAC7B,OAAO9E,EAAKc,IAAIgE,EAAIC,EAAG,GAAK,MAmChCy5F,EAAMv0E,OAAOu0E,EAAMwM,SAAU,CAC3BL,IAAK,SAAallG,EAAGpG,EAAGK,GACtB,OAAc,IAANA,GAAiB,IAANA,EACfL,EAAIK,IAAO+F,EAAI,EAAI,EACrB+4F,EAAMwI,YAAY3nG,EAAGoG,GAAKzF,EAAKc,IAAIpB,EAAG+F,GAAKzF,EAAKc,IAAI,EAAIpB,EAAGL,EAAIoG,IAGnE+jG,IAAK,SAAavoG,EAAG5B,EAAGK,GACtB,IAAIusG,EAGJ,GAAIhrG,EAAI,EACN,OAAO,EACT,GAAIA,GAAK5B,EACP,OAAO,EACT,GAAIK,EAAI,GAAKA,EAAI,GAAKL,GAAK,EACzB,OAAOgH,IAGT,IAAIoH,EAAI/N,EACJqF,GAFJ9D,EAAIjB,EAAKa,MAAMI,IAEH,EACR6D,EAAIzF,EAAI4B,EACRtB,EAAIoF,EAAID,EACRyjG,EAAKvoG,EAAKJ,IAAI4+F,EAAMwH,QAAQrmG,GAAK6+F,EAAMwH,QAAQlhG,GACjC05F,EAAMwH,QAAQjhG,GAAKA,EAAI/E,EAAKY,IAAI6M,GAAK3I,EAAI9E,EAAKY,IAAI,EAAI6M,IAOxE,OAJEw+F,EADEx+F,GAAK1I,EAAI,IAAMpF,EAAI,GACX4oG,EAAKM,EAAOp7F,EAAG1I,EAAGD,EAlBpB,OAoBE,EAAIyjG,EAAKM,EAAO,EAAIp7F,EAAG3I,EAAGC,EApB5B,OAsBH/E,EAAKoE,MAAuB,EAtBzB,OAsBS,EAAI6nG,KAAyB,EAtBtC,UA6BdzN,EAAMv0E,OAAOu0E,EAAM0N,OAAQ,CACzBvB,IAAK,SAAallG,EAAG/G,EAAGgB,GACtB,OAAI+F,IAAMA,IAAM,IAEZA,EAAI,EACC,EACF+4F,EAAMwI,YAAYvhG,EAAI/G,EAAI,EAAGA,EAAI,GACpCsB,EAAKc,IAAI,EAAIpB,EAAG+F,GAAKzF,EAAKc,IAAIpB,EAAGhB,KAGvC8qG,IAAK,SAAavoG,EAAGvC,EAAGgB,GACtB,IAAImnC,EAAM,EACVphC,EAAI,EACJ,GAAIxE,EAAI,EAAG,OAAO,EAClB,KAAOwE,GAAKxE,EAAGwE,IACbohC,GAAO23D,EAAM0N,OAAOvB,IAAIllG,EAAG/G,EAAGgB,GAEhC,OAAOmnC,KAOX23D,EAAMv0E,OAAOu0E,EAAM2N,QAAS,CAC1BxB,IAAK,SAAallG,EAAG2mG,EAAGpuG,EAAGqB,GAUzB,GAAGoG,GAAMA,EAAI,EACX,OAAO,EACF,GAAGA,EAAI,GAAKA,EAAIzH,GAAKouG,EAAI/sG,GAE9B,OAAO,EACF,GAAGoG,EAAIpG,GAAKoG,EAAIzH,EAErB,OAAO,EACF,GAAQ,EAAJA,EAAQouG,EAGjB,OAAO,EAAJ/sG,EAAQ+sG,EAGF5N,EAAM2N,QAAQxB,IAAIyB,EAAIpuG,EAAIqB,EAAIoG,EAAG2mG,EAAGA,EAAIpuG,EAAGouG,EAAI/sG,GAI/Cm/F,EAAM2N,QAAQxB,IAAItrG,EAAIoG,EAAG2mG,EAAGA,EAAIpuG,EAAGqB,GAGvC,GAAO,EAAJA,EAAQ+sG,EAGhB,OAAO5N,EAAM2N,QAAQxB,IAAI3sG,EAAIyH,EAAG2mG,EAAGpuG,EAAGouG,EAAI/sG,GAErC,GAAGrB,EAAIqB,EAGZ,OAAOm/F,EAAM2N,QAAQxB,IAAIllG,EAAG2mG,EAAG/sG,EAAGrB,GAkBlC,IALA,IAAIquG,EAAY,EAGZC,EAAc,EAEV1uG,EAAI,EAAGA,EAAI6H,EAAG7H,IAAK,CAGzB,KAAMyuG,EAAY,GAAKC,EAAcjtG,GAInCgtG,GAAa,EAAKruG,GAAKouG,EAAIE,GAG3BA,IAKFD,IAAchtG,EAAIzB,IAAMI,EAAIJ,KAAOA,EAAI,IAAMwuG,EAAIpuG,EAAIqB,EAAIzB,EAAI,IAG/D,KAAM0uG,EAAcjtG,EAAGitG,IAErBD,GAAa,EAAKruG,GAAKouG,EAAIE,GAI7B,OAAOtsG,EAAKwB,IAAI,EAAGxB,EAAKuB,IAAI,EAAG8qG,KAInC7C,IAAK,SAAavoG,EAAGmrG,EAAGpuG,EAAGqB,GAYzB,GAAG4B,EAAI,GAAKA,EAAIjD,GAAKouG,EAAI/sG,GAEvB,OAAO,EACF,GAAG4B,GAAK5B,GAAK4B,GAAKjD,EAEvB,OAAO,EACF,GAAQ,EAAJA,EAAQouG,EAGjB,OAAO,EAAJ/sG,EAAQ+sG,EAGF5N,EAAM2N,QAAQ3C,IAAI4C,EAAIpuG,EAAIqB,EAAI4B,EAAGmrG,EAAGA,EAAIpuG,EAAGouG,EAAI/sG,GAI/C,EAAIm/F,EAAM2N,QAAQ3C,IAAInqG,EAAI4B,EAAI,EAAGmrG,EAAGA,EAAIpuG,EAAGqB,GAG/C,GAAO,EAAJA,EAAQ+sG,EAGhB,OAAO,EAAI5N,EAAM2N,QAAQ3C,IAAIxrG,EAAIiD,EAAI,EAAGmrG,EAAGpuG,EAAGouG,EAAI/sG,GAE7C,GAAGrB,EAAIqB,EAGZ,OAAOm/F,EAAM2N,QAAQ3C,IAAIvoG,EAAGmrG,EAAG/sG,EAAGrB,GAqBlC,IATA,IAAIuuG,EAAY,EAIZF,EAAY,EAGZC,EAAc,EAEV1uG,EAAI,EAAGA,EAAIqD,EAAGrD,IAAK,CAGzB,KAAM2uG,EAAY,GAAKD,EAAcjtG,GAAG,CAItC,IAAIo/B,EAAS,EAAKzgC,GAAKouG,EAAIE,GAE3BD,GAAa5tE,EACb8tE,GAAa9tE,EAGb6tE,IAQFC,GAHAF,IAAchtG,EAAIzB,IAAMI,EAAIJ,KAAOA,EAAI,IAAMwuG,EAAIpuG,EAAIqB,EAAIzB,EAAI,IAM/D,KAAM0uG,EAAcjtG,EAAGitG,IAErBC,GAAa,EAAKvuG,GAAKouG,EAAIE,GAI7B,OAAOtsG,EAAKwB,IAAI,EAAGxB,EAAKuB,IAAI,EAAGgrG,OAQrC/N,EAAMv0E,OAAOu0E,EAAMgO,QAAS,CAC1B7B,IAAK,SAAallG,EAAG5H,GACnB,OAAIA,EAAI,GAAM4H,EAAI,GAAO,GAAKA,EAAI,EACzB,EAGFzF,EAAKc,IAAIjD,EAAG4H,GAAKzF,EAAKJ,KAAK/B,GAAK2gG,EAAMuI,UAAUthG,IAGzD+jG,IAAK,SAAavoG,EAAGpD,GACnB,IAAI4uG,EAAS,GACbhnG,EAAI,EACJ,GAAIxE,EAAI,EAAG,OAAO,EAClB,KAAOwE,GAAKxE,EAAGwE,IACbgnG,EAAO1pG,KAAKy7F,EAAMgO,QAAQ7B,IAAIllG,EAAG5H,IAEnC,OAAO2gG,EAAM33D,IAAI4lE,IAGnBzlC,KAAO,SAASnpE,GACd,OAAOA,GAGTsjC,SAAW,SAAStjC,GAClB,OAAOA,GAGTq+D,OAAQ,SAAgBr+D,GACtB,IAAI6B,EAAI,EAAG+F,EAAI,EAAG0L,EAAInR,EAAKJ,KAAK/B,GAChC,GACE4H,IACA/F,GAAK8+F,EAAMwF,mBACJtkG,EAAIyR,GACb,OAAO1L,EAAI,KAKf+4F,EAAMv0E,OAAOu0E,EAAMkO,WAAY,CAC7B/B,IAAK,SAAa1pG,EAAG8D,EAAGD,EAAG7G,GACzB,OAAI6G,GAAKC,GAAK9G,EAAI8G,GAAK9G,EAAI6G,EAClBuB,IAEHpF,EAAI8D,GAAK9D,EAAI6D,EACR,EACE7D,EAAIhD,EACH,GAAKgD,EAAI8D,KAAQD,EAAIC,IAAM9G,EAAI8G,IAChC9D,IAAMhD,EACL,GAAK6G,EAAIC,GAET,GAAKD,EAAI7D,KAAQ6D,EAAIC,IAAMD,EAAI7G,KAK/CurG,IAAK,SAAavoG,EAAG8D,EAAGD,EAAG7G,GACzB,OAAI6G,GAAKC,GAAK9G,EAAI8G,GAAK9G,EAAI6G,EAClBuB,IACLpF,GAAK8D,EACA,EACA9D,GAAK6D,EACL,EACL7D,GAAKhD,EACA+B,EAAKc,IAAIG,EAAI8D,EAAG,KAAOD,EAAIC,IAAM9G,EAAI8G,IAErC,EAAI/E,EAAKc,IAAIgE,EAAI7D,EAAG,KAAO6D,EAAIC,IAAMD,EAAI7G,KAGpD2sG,IAAK,SAAalrG,EAAGqF,EAAGD,EAAG7G,GACzB,OAAI6G,GAAKC,GAAK9G,EAAI8G,GAAK9G,EAAI6G,EAClBuB,IAEH3G,IAAOzB,EAAI8G,IAAMD,EAAIC,GAChBA,GAAKD,EAAIC,GAAK/E,EAAKkB,KAAKxB,IAAMzB,EAAI8G,IAAMD,EAAIC,KAE5CA,GAAKD,EAAIC,IAAM,EAAI/E,EAAKkB,MAAM,EAAIxB,IAAM,GAAMzB,EAAI8G,IAAMD,EAAIC,OAKzEiiE,KAAM,SAAcjiE,EAAGD,EAAG7G,GACxB,OAAQ8G,EAAID,EAAI7G,GAAK,GAGvBuhG,OAAQ,SAAgBz6F,EAAGD,EAAG7G,GAC5B,OAAIA,IAAM8G,EAAID,GAAK,EACVA,EAAI9E,EAAKkB,MAAM4D,EAAIC,IAAMD,EAAI7G,IAAM+B,EAAKkB,KAAK,GAC3CjD,GAAK8G,EAAID,GAAK,EAChBC,EAAI/E,EAAKkB,MAAM4D,EAAIC,IAAM9G,EAAI8G,IAAM/E,EAAKkB,KAAK,QAD/C,GAKTnC,KAAM,SAAcgG,EAAGD,EAAG7G,GACxB,OAAOA,GAGTi+D,OAAQ,SAAgBn3D,EAAGD,EAAG7G,GAC5B,IAAIyJ,EAAI82F,EAAMwF,aACd,OAAIt8F,GAAMzJ,EAAI8G,IAAMD,EAAIC,GACfA,EAAI/E,EAAKkB,KAAKwG,GAAK5C,EAAIC,IAAM9G,EAAI8G,IACnCD,EAAI9E,EAAKkB,MAAM,EAAIwG,IAAM5C,EAAIC,IAAMD,EAAI7G,KAGhDkjC,SAAU,SAAkBp8B,EAAGD,EAAG7G,GAChC,OAAQ8G,EAAIA,EAAID,EAAIA,EAAI7G,EAAIA,EAAI8G,EAAID,EAAIC,EAAI9G,EAAI6G,EAAI7G,GAAK,MAM7DugG,EAAMv0E,OAAOu0E,EAAMmO,QAAS,CAC1BhC,IAAK,SAAa1pG,EAAG8D,EAAGD,GACtB,OAAIA,GAAKC,EAAUsB,IAEXpF,GAAK8D,GAAK9D,GAAK6D,EAAK,EACzB,EAAI9E,EAAKC,GACRD,EAAKc,IAAId,EAAKc,IAAIgE,EAAIC,EAAG,GACf/E,EAAKc,IAAI,EAAIG,EAAI8D,EAAID,EAAG,IAAK,KAG7C0kG,IAAK,SAAavoG,EAAG8D,EAAGD,GACtB,OAAI7D,EAAI8D,EACC,EACA9D,EAAI6D,EACH,EAAI9E,EAAKC,GAAMD,EAAKqB,KAAKrB,EAAKkB,MAAMD,EAAI8D,IAAID,EAAIC,KACnD,GAGT6lG,IAAK,SAASlrG,EAAGqF,EAAGD,GAClB,OAAOC,GAAK,GAAM,GAAM/E,EAAKU,IAAIV,EAAKC,GAAKP,KAAOoF,EAAIC,IAGxDiiE,KAAM,SAAcjiE,EAAGD,GACrB,OAAIA,GAAKC,EAAUsB,KACXtB,EAAID,GAAK,GAGnB06F,OAAQ,SAAgBz6F,EAAGD,GACzB,OAAIA,GAAKC,EAAUsB,KACXtB,EAAID,GAAK,GAGnB/F,KAAM,WACJ,MAAM,IAAIiJ,MAAM,gCAGlBk0D,OAAQ,SAAgBn3D,EAAGD,GACzB,OAASC,EAAID,GAAK,GAAOA,EAAIC,GAAK,EAChC/E,EAAKe,IAAI,EAAIf,EAAKC,GAAKu+F,EAAMxrD,QAAQkpB,OAAO,EAAG,KAGnD/6B,SAAU,SAAkBp8B,EAAGD,GAC7B,OAAIA,GAAKC,EAAUsB,IACZrG,EAAKc,IAAIgE,EAAIC,EAAG,GAAK,KAOhCy5F,EAAMv0E,OAAOu0E,EAAMoO,QAAS,CAC1BjC,IAAK,SAAa1pG,EAAGwhG,EAAI39F,GACvB,OAAQA,GAAK,EAAK,EAAK9E,EAAKJ,KAAKI,EAAKO,IAAIU,EAAIwhG,GAAM39F,IAAO,EAAIA,IAGjE0kG,IAAK,SAAavoG,EAAGwhG,EAAI39F,GACvB,OAAIA,GAAK,EAAY,EAElB7D,EAAIwhG,EACE,GAAMziG,EAAKJ,KAAKqB,EAAIwhG,GAAM39F,GAE1B,EAAI,GAAM9E,EAAKJ,MAAOqB,EAAIwhG,GAAM39F,IAI3CkiE,KAAM,SAASy7B,GACb,OAAOA,GAGTjD,OAAQ,SAASiD,GACf,OAAOA,GAGT1jG,KAAM,SAAS0jG,GACb,OAAOA,GAGTthE,SAAU,SAASshE,EAAI39F,GACrB,OAAO,EAAIA,EAAIA,GAGjBo3D,OAAQ,SAAgBumC,EAAI39F,GAC1B,IAlCiB7D,EAkCbyG,EAAI82F,EAAMwF,aAAe,GAE7B,OAAOvB,EAAM39F,IApCI7D,EAoCYyG,GApCI1H,EAAKO,IAAIU,IAoCRjB,EAAKY,IAAI,EAAK,EAAIZ,EAAKO,IAAImH,OA+JjE82F,EAAMv0E,OAAOu0E,EAAMqO,MAAO,CACxBrD,IAAK,SAAav2F,EAAG65F,EAAQC,GAE3B,IACIlqD,EAAKiqD,EAeLE,EAAQ,CACV,kBACA,kBACA,kBACA,iBACA,kBACA,mBACA,kBACA,oBAEEC,EAAQ,CACV,oBACA,oBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBAGF,GAAIh6F,GAAK,EACP,OAAO,EAKT,GAAI85F,EAAK,GAAelqD,EAAK,EAAG,OAAOx8C,IAEvC,IAAKqD,OAAOmD,SAASoG,GACnB,OAAO,EAET,GAAI85F,EArCQ,KAsCV,OAAO9D,EAAWh2F,EAjDX,EAiDkB4vC,GAI3B,IASIqqD,EATAC,EAAU,GAALJ,EACLK,EAASD,EAAKntG,EAAKY,IAAImsG,GAAQA,EAAK/sG,EAAKY,IAAI,GAAO49F,EAAMwH,QAAQmH,GAClEE,EAAMF,EAAK,EAMXG,EAAW,IAALP,EAEYG,EAAbH,GAvDG,IAIA,EAoDHA,GAvDG,IAIA,GAoDHA,GAvDG,IAIA,IACA,KAqDZK,GAAQptG,EAAKY,IAAIssG,GAMjB,IAFA,IAAIK,EAAM,EAED3vG,EAAI,EAAGA,GAAK,GAAIA,IAAK,CAQ5B,IAPA,IAAI4vG,EAAQ,EAKRC,GAAQ,EAAI7vG,EAAI,GAAKsvG,EAEhBlD,EAAK,EAAGA,GA/EP,GA+EoBA,IAAM,CAClC,IAAIljG,EAAGmT,EA/EE,EAgFI+vF,GACXljG,EAAIkjG,EAjFG,EAiFW,EAClB/vF,EAAMmzF,EAAQC,EAAMrtG,EAAKY,IAAI6sG,EAAQT,EAAMlmG,GAAKomG,IACvCF,EAAMlmG,GAAKomG,EAAQO,GAAQH,IAEpCxmG,EAAIkjG,EAAK,EACT/vF,EAAMmzF,EAAQC,EAAMrtG,EAAKY,IAAI6sG,EAAQT,EAAMlmG,GAAKomG,IACvCF,EAAMlmG,GAAKomG,EAAQO,GAAQH,GAKlCrzF,IA1FG,KAqGLuzF,GAFWvE,EArGJ,EA6FMe,EACJ/2F,EAAIjT,EAAKkB,KAAkC,IAA3B8rG,EAAMlmG,GAAKomG,EAAQO,IAEnCx6F,EAAIjT,EAAKkB,KAAqC,KAA5B8rG,EAAMlmG,GAAKomG,EAASO,IApG5C,EAyG6B5qD,GACXoqD,EAAMnmG,GAAM9G,EAAKJ,IAAIqa,IAU9C,GAAIrc,EAAIsvG,GAAQ,GAAOM,GA7Gd,MA8GP,MAKFD,GAAOC,EAGT,GAAIA,EAtHO,MAuHT,MAAM,IAAIxlG,MAAM,gCAIlB,OAFIulG,EAAM,IACRA,EAAM,GACDA,GAGT3C,IAAK,SAASlrG,EAAGotG,EAAQC,GASvB,GAAIA,EAAK,GANAD,EAMoB,EAAG,OAAOzmG,IAEvC,GAAI3G,EAAI,GAAKA,EAAI,EAAG,OAAO2G,IAC3B,GAAU,IAAN3G,EAAS,OAAO,EACpB,GAAU,IAANA,EAAS,OAAO+L,IAIpB,IAWIa,EAXAD,EArLR,SAAmB3M,EAAGzB,EAAGuP,GACvB,IAiBIkgG,EAAK,GAAM,GAAMhuG,EACjBg9D,EAAK18D,EAAKkB,KAAKlB,EAAKY,IAAI,GAAO8sG,EAAKA,KACpC5uG,EAAI49D,OAXE,iBAWQA,EAbR,eAawBA,EAfxB,eAemCA,EAjBnC,GAiB8CA,EAnB/C,mBASA,eAWCA,EAbD,cAaiBA,EAfjB,eAe4BA,EAjB5B,eAiBuCA,EAnBvC,eAoBLlvD,EANO,MAMG1O,IAAMA,EAAIA,EAAIA,EAAIA,GAAK0O,EAAI,GACzC,IAAIyF,EAZK,MACA,MAWSnU,EAElB,OADI0O,EARO,MAQGyF,IAXL,MAWgBzF,EAVhB,MAUyB1O,EAAI0O,GAC/B1O,GAAKmU,EAAIjT,EAAKY,IAAI3C,EAAI,GAVpB,QAsKE0vG,CAAUjuG,EAdVotG,EAciBC,GAItBa,EAAQpP,EAAMqO,MAAMrD,IAAIn9F,EAAIygG,EAAQC,GAAMrtG,EAS5C4M,EADEshG,EAAQ,EACL5tG,EAAKuB,IAAI,EAAK8K,EAAK,GAEnBA,EAAK,EAMZ,IALA,IAIIkhG,EAJAM,EAAQrP,EAAMqO,MAAMrD,IAAIl9F,EAAIwgG,EAAQC,GAAMrtG,EAKtCouG,EAAO,EAAGA,EAhCJ,GAgCoBA,IAoBhC,GAnBAP,EAAMjhG,EAAOuhG,GAASvhG,EAAKD,IAAQwhG,EAAQD,GAC3CA,EAAQC,EAIRxhG,EAAKC,EACDihG,EAAM,IACRA,EAAM,EACNM,GAASnuG,GAIXmuG,EAAQrP,EAAMqO,MAAMrD,IAAI+D,EAAKT,EAAQC,GAAMrtG,EAC3C4M,EAAKihG,EAKMvtG,EAAKO,IAAI+L,EAAKD,GApDjB,KAsDN,OAAOkhG,EAGX,MAAM,IAAIvlG,MAAM,mCAjhDpB,CAqhDEw2F,EAAOx+F,MAIR,SAASw+F,EAAOx+F,GAEjB,IA6iBQ6mC,EACA5kC,EA9iBJc,EAAOnB,MAAMpC,UAAUuD,KACvBN,EAAU+7F,EAAME,MAAMj8F,QAE1B,SAASsrG,EAAShzE,GAChB,OAAOt4B,EAAQs4B,IAAQA,aAAeyjE,EAGxCA,EAAMv0E,OAAO,CAGX3mB,IAAK,SAAas7F,EAAK7jE,GAErB,OAAIgzE,EAAShzE,IACNgzE,EAAShzE,EAAI,MAAKA,EAAM,CAAEA,IACxByjE,EAAMn8F,IAAIu8F,GAAK,SAAS//F,EAAOi+B,EAAKgB,GACzC,OAAOj/B,EAAQk8B,EAAI+B,GAAKgB,OAGrB0gE,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOA,EAAQk8B,MAIzDizE,SAAU,SAAkBpP,EAAK7jE,GAE/B,OAAIgzE,EAAShzE,IACNgzE,EAAShzE,EAAI,MAAKA,EAAM,CAAEA,IACxByjE,EAAMn8F,IAAIu8F,GAAK,SAAS//F,EAAOi+B,EAAKgB,GACzC,OAAOj/B,EAAQk8B,EAAI+B,GAAKgB,IAAQ,MAG7B0gE,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOA,EAAQk8B,MAIzDkzE,OAAQ,SAAgBrP,EAAK7jE,GAC3B,OAAIgzE,EAAShzE,IACNgzE,EAAShzE,EAAI,MAAKA,EAAM,CAAEA,IACxByjE,EAAM0P,SAAStP,EAAKJ,EAAMoM,IAAI7vE,KAEhCyjE,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOA,EAAQk8B,MAIzDmzE,SAAU,SAAkBtP,EAAK7jE,GAC/B,IAAI+B,EAAKgB,EAAKqwE,EAAUtnE,EAAK69D,EAAMI,EAAMzvD,EAAK+4D,EAE9C,QAAmBlqG,IAAf06F,EAAIl9F,aAAuCwC,IAAf62B,EAAIr5B,OAClC,OAAOk9F,EAAM7jE,EAMf,GAJA2pE,EAAO9F,EAAIl9F,OACXojG,EAAOlG,EAAI,GAAGl9F,OACd2zC,EAAMmpD,EAAMwG,MAAMN,EAAMyJ,EAAYJ,EAAShzE,GAAQA,EAAI,GAAGr5B,OAASojG,GACrEsJ,EAAU,EACNL,EAAShzE,GAAM,CACjB,KAAOqzE,EAAUD,EAAUC,IACzB,IAAKtxE,EAAM,EAAGA,EAAM4nE,EAAM5nE,IAAO,CAE/B,IADA+J,EAAM,EACD/I,EAAM,EAAGA,EAAMgnE,EAAMhnE,IAC1B+I,GAAO+3D,EAAI9hE,GAAKgB,GAAO/C,EAAI+C,GAAKswE,GAChC/4D,EAAIvY,GAAKsxE,GAAWvnE,EAGxB,OAAiB,IAAT69D,GAA0B,IAAZ0J,EAAiB/4D,EAAI,GAAG,GAAKA,EAErD,OAAOmpD,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOA,EAAQk8B,MAQzDszE,MAAM,SAAe71E,EAAGC,GACtB,OAAO+lE,EAAM0P,SAAS11E,EAAEn2B,KAAI,SAASvD,GAAI,MAAO,CAACA,MAAO,CAAC25B,KAK3D61E,IAAK,SAAa1P,EAAK7jE,GAChBgzE,EAASnP,EAAI,MAAKA,EAAM,CAAEA,IAC1BmP,EAAShzE,EAAI,MAAKA,EAAM,CAAEA,IAS/B,IAPA,IAMA8L,EAAK/I,EANDpjB,EAA0B,IAAlBkkF,EAAI,GAAGl9F,QAA+B,IAAfk9F,EAAIl9F,OAAgB88F,EAAM4E,UAAUxE,GAAOA,EAC9E7kF,EAA2B,IAAlBghB,EAAI,GAAGr5B,QAA+B,IAAfq5B,EAAIr5B,OAAgB88F,EAAM4E,UAAUroE,GAAOA,EAC3Esa,EAAM,GACNvY,EAAM,EACN4nE,EAAOhqF,EAAKhZ,OACZojG,EAAOpqF,EAAK,GAAGhZ,OAERo7B,EAAM4nE,EAAM5nE,IAAO,CAGxB,IAFAuY,EAAIvY,GAAO,GACX+J,EAAM,EACD/I,EAAM,EAAGA,EAAMgnE,EAAMhnE,IAC1B+I,GAAOnsB,EAAKoiB,GAAKgB,GAAO/jB,EAAM+iB,GAAKgB,GACnCuX,EAAIvY,GAAO+J,EAEb,OAAuB,IAAfwO,EAAI3zC,OAAgB2zC,EAAI,GAAKA,GAIvCv0C,IAAK,SAAa89F,EAAK7jE,GACrB,OAAOyjE,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOmB,EAAKc,IAAIjC,EAAOk8B,OAIjEn7B,IAAK,SAAag/F,GAChB,OAAOJ,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOmB,EAAKJ,IAAIf,OAI1D+B,IAAK,SAAag+F,GAChB,OAAOJ,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOmB,EAAKY,IAAI/B,OAI1D0B,IAAK,SAAaq+F,GAChB,OAAOJ,EAAMn8F,IAAIu8F,GAAK,SAAS//F,GAAS,OAAOmB,EAAKO,IAAI1B,OAK1D0vG,KAAM,SAAc3P,EAAKl/F,GACvB,IAAI8uG,EAAQ,EACZ5wG,EAAI,EAMJ,IAJIqI,MAAMvG,KAAIA,EAAI,GAEdquG,EAASnP,EAAI,MAAKA,EAAMA,EAAI,IAEzBhhG,EAAIghG,EAAIl9F,OAAQ9D,IACrB4wG,GAASxuG,EAAKc,IAAId,EAAKO,IAAIq+F,EAAIhhG,IAAK8B,GAEtC,OAAOM,EAAKc,IAAI0tG,EAAO,EAAI9uG,IAK7B6nC,MAAO,SAAeq3D,EAAK7jE,GACzB,OAAO/6B,EAAKoB,KAAKo9F,EAAM8P,IAAI1P,EAAK7jE,IAAQyjE,EAAM+P,KAAK3P,GAAOJ,EAAM+P,KAAKxzE,MAKvE0zE,IAAK,SAAa1pG,EAAGD,GACnB,IACIlH,EADA8wG,EAAS,GAEb,IAAK9wG,EAAI,EAAGA,EAAImH,EAAErD,OAAQ9D,IACxB8wG,EAAO3rG,KAAKgC,EAAEnH,GAAGiE,SAEnB,IAAKjE,EAAI,EAAGA,EAAI8wG,EAAOhtG,OAAQ9D,IAC7BmF,EAAKe,MAAM4qG,EAAO9wG,GAAIkH,EAAElH,IAE1B,OAAO8wG,GAMT9D,IAAK,SAAa7lG,GAUhB,IATA,IAMI+B,EANAq3B,EAAOp5B,EAAErD,OACTwiG,EAAOn/F,EAAE,GAAGrD,OACZoD,EAAI05F,EAAMr4F,SAASg4B,EAAM+lE,GACzBjmG,EAAIugG,EAAMmQ,aAAa5pG,EAAGD,GAC1Bg7B,EAAS,GACTliC,EAAI,EAIDA,EAAIugC,EAAMvgC,IAEf,IADAkiC,EAAOliC,GAAK,GACPkJ,EAAIo9F,EAAMp9F,EAAI7I,EAAE,GAAGyD,OAAQoF,IAC9Bg5B,EAAOliC,GAAGkJ,EAAIo9F,GAAQjmG,EAAEL,GAAGkJ,GAE/B,OAAOg5B,GAIT8uE,IAAK,SAAa7pG,GAChB,IASA+B,EATI+nG,EAAO9pG,EAAErD,OACbotG,EAAe,EAAPD,EACRpE,EAAO,IAAI7oG,MAAMktG,GACjBC,EAAWF,EAAO,EAClBG,EAAWF,EAAQ,EACnBG,EAAOF,EAAWF,EAAO,EACzBK,EAAOF,EACPpxG,EAAI,EACJkiC,EAAS,EAGT,GAAa,IAAT+uE,EACF,OAAO9pG,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAAKA,EAAE,GAAG,GAE5C,KAAOnH,EAAIkxG,EAAOlxG,IAChB6sG,EAAK7sG,GAAK,EAEZ,IAAKA,EAAI,EAAGA,EAAIixG,EAAMjxG,IAAK,CACzB,IAAKkJ,EAAI,EAAGA,EAAI+nG,EAAM/nG,IACpB2jG,EAAMwE,EAAO,EAAKA,EAAOJ,EAAOI,IAAUlqG,EAAEnH,GAAGkJ,GAC/C2jG,EAAMyE,EAAOL,EAAQK,EAAOL,EAAOK,IAAUnqG,EAAEnH,GAAGkJ,GAClDmoG,IACAC,IAEFD,IAASF,EAAWF,EAAO,EAC3BK,IAASF,EAEX,IAAKpxG,EAAI,EAAGA,EAAIixG,EAAMjxG,IACpBkiC,GAAU2qE,EAAK7sG,GAEjB,KAAOA,EAAIkxG,EAAOlxG,IAChBkiC,GAAU2qE,EAAK7sG,GAEjB,OAAOkiC,GAGTqvE,kBAAmB,SAA2BpqG,EAAGD,GAC/C,IAOAsqG,EAAMC,EAAOxlF,EAAMpkB,EAPf7H,EAAI,EACRkJ,EAAI,EACJzH,EAAI0F,EAAErD,OACN1D,EAAI+G,EAAE,GAAGrD,OACT+8B,EAAS,EACToI,EAAM,EACN5lC,EAAI,GAIJ,IADAmuG,GADArqG,EAAIy5F,EAAMiQ,IAAI1pG,EAAGD,IACR,GAAGpD,OACR9D,EAAI,EAAGA,EAAIyB,EAAGzB,IAAK,CAGrB,IAFAyxG,EAAQtqG,EAAEnH,GAAGA,GACbkJ,EAAIlJ,EACC6H,EAAI7H,EAAI,EAAG6H,EAAIzH,EAAGyH,IACjB4pG,EAAQrvG,EAAKO,IAAIwE,EAAEU,GAAG7H,MACxByxG,EAAQtqG,EAAEU,GAAG7H,GACbkJ,EAAIrB,GAGR,GAAIqB,GAAKlJ,EACP,IAAI6H,EAAI,EAAGA,EAAI2pG,EAAM3pG,IACnBokB,EAAO9kB,EAAEnH,GAAG6H,GACZV,EAAEnH,GAAG6H,GAAKV,EAAE+B,GAAGrB,GACfV,EAAE+B,GAAGrB,GAAKokB,EAGd,IAAK/iB,EAAIlJ,EAAI,EAAGkJ,EAAIzH,EAAGyH,IAErB,IADA23B,EAAS15B,EAAE+B,GAAGlJ,GAAKmH,EAAEnH,GAAGA,GACpB6H,EAAI7H,EAAG6H,EAAI2pG,EAAM3pG,IACnBV,EAAE+B,GAAGrB,GAAKV,EAAE+B,GAAGrB,GAAKg5B,EAAS15B,EAAEnH,GAAG6H,GAIxC,IAAK7H,EAAIyB,EAAI,EAAGzB,GAAK,EAAGA,IAAK,CAE3B,IADAipC,EAAM,EACD//B,EAAIlJ,EAAI,EAAGkJ,GAAIzH,EAAI,EAAGyH,IACzB+/B,GAAY5lC,EAAE6F,GAAK/B,EAAEnH,GAAGkJ,GAE1B7F,EAAErD,IAAKmH,EAAEnH,GAAGwxG,EAAO,GAAKvoE,GAAO9hC,EAAEnH,GAAGA,GAEtC,OAAOqD,GAGT0tG,aAAc,SAAsB5pG,EAAGD,GACrC,IAII7D,EAAGwG,EAAGu7B,EAJNhlC,EAAIwgG,EAAMiQ,IAAI1pG,EAAGD,GACjBmkB,EAAIjrB,EAAE0D,OACN0Q,EAAIpU,EAAE,GAAG0D,OACTzD,EAAI,EAGR,IAAKwJ,EAAI,EAAGA,EAAIwhB,EAAGxhB,IAAK,CACtB,IAAI6nG,EAAS7nG,EACb,IAAKu7B,EAAKv7B,EAAE,EAAGu7B,EAAK/Z,EAAG+Z,IACjBhjC,EAAKO,IAAIvC,EAAEglC,GAAIv7B,IAAMzH,EAAKO,IAAIvC,EAAEsxG,GAAQ7nG,MAC1C6nG,EAAStsE,GAEb,IAAI+7D,EAAM/gG,EAAEyJ,GAGZ,IAFAzJ,EAAEyJ,GAAKzJ,EAAEsxG,GACTtxG,EAAEsxG,GAAUvQ,EACP/7D,EAAKv7B,EAAE,EAAGu7B,EAAK/Z,EAAG+Z,IAErB,IADA/kC,EAAID,EAAEglC,GAAIv7B,GAAKzJ,EAAEyJ,GAAGA,GACfxG,EAAIwG,EAAGxG,EAAImR,EAAGnR,IACjBjD,EAAEglC,GAAI/hC,IAAMjD,EAAEyJ,GAAGxG,GAAKhD,EAK5B,IAAKwJ,EAAIwhB,EAAE,EAAGxhB,GAAK,EAAGA,IAAK,CAEzB,IADAxJ,EAAID,EAAEyJ,GAAGA,GACJu7B,EAAK,EAAGA,EAAKv7B,EAAGu7B,IACnB,IAAK/hC,EAAImR,EAAE,EAAGnR,EAAIwG,EAAE,EAAGxG,IACrBjD,EAAEglC,GAAI/hC,IAAMjD,EAAEyJ,GAAGxG,GAAKjD,EAAEglC,GAAIv7B,GAAKxJ,EAIrC,IADAD,EAAEyJ,GAAGA,IAAMxJ,EACNgD,EAAIgoB,EAAGhoB,EAAImR,EAAGnR,IACjBjD,EAAEyJ,GAAGxG,IAAMhD,EAGf,OAAOD,GAaTuxG,YAAa,SAAqB/2E,EAAG1zB,GACnC,IAEI2kD,EAFAvmD,EAAOs1B,EAAE,GAAG92B,OACZT,EAAIu9F,EAAMwG,MAAM,EAAG9hG,GAAM,GAEzBssG,GAAc,EAclB,OAZmBtrG,MAAfY,EAAE,GAAGpD,SACPoD,EAAIA,EAAEzC,KAAI,SAASzE,GAAI,OAAOA,EAAE,MAChC4xG,GAAc,GAGhBhR,EAAM8F,OAAOphG,EAAO,GAAI,GAAI,GAAG84B,SAAQ,SAASp+B,GAC9C6rD,EAAQ+0C,EAAM8F,OAAO1mG,EAAI,EAAGsF,GAAMb,KAAI,SAASyE,GAC7C,OAAO7F,EAAE6F,GAAK0xB,EAAE56B,GAAGkJ,MAErB7F,EAAErD,IAAMkH,EAAElH,GAAK4gG,EAAM33D,IAAI4iB,IAAUjxB,EAAE56B,GAAGA,MAGtC4xG,EACKvuG,EAAEoB,KAAI,SAASzE,GAAI,MAAO,CAACA,MAC7BqD,GAGTwuG,aAAc,SAAsBj3E,EAAG1zB,GAErC,IAEI2kD,EAFAvmD,EAAOs1B,EAAE,GAAG92B,OACZT,EAAIu9F,EAAMwG,MAAM,EAAG9hG,GAAM,GAGzBssG,GAAY,EAahB,OAZmBtrG,MAAfY,EAAE,GAAGpD,SACPoD,EAAIA,EAAEzC,KAAI,SAASzE,GAAI,OAAOA,EAAE,MAChC4xG,GAAc,GAGhBhR,EAAM8F,OAAOphG,GAAM84B,SAAQ,SAASp+B,GAClC6rD,EAAQ+0C,EAAM8F,OAAO1mG,GAAGyE,KAAI,SAASyE,GACnC,OAAO0xB,EAAE56B,GAAGkJ,GAAK7F,EAAE6F,MAErB7F,EAAErD,IAAMkH,EAAElH,GAAK4gG,EAAM33D,IAAI4iB,IAAUjxB,EAAE56B,GAAGA,MAGtC4xG,EACKvuG,EAAEoB,KAAI,SAASzE,GAAI,MAAO,CAACA,MAC7BqD,GAQTyuG,GAAI,SAAYl3E,GACd,IAIIixB,EAJAvmD,EAAOs1B,EAAE92B,OAETyP,EAAIqtF,EAAMr4F,SAASjD,GACnBysG,EAAInR,EAAMwG,MAAMxsE,EAAE92B,OAAQ82B,EAAE,GAAG92B,QAmBnC,OAjBA88F,EAAM8F,OAAOphG,GAAM84B,SAAQ,SAASl9B,GAClC6wG,EAAE,GAAG7wG,GAAK05B,EAAE,GAAG15B,MAEjB0/F,EAAM8F,OAAO,EAAGphG,GAAM84B,SAAQ,SAASn+B,GACrC2gG,EAAM8F,OAAOzmG,GAAGm+B,SAAQ,SAASp+B,GAC/B6rD,EAAQ+0C,EAAM8F,OAAO1mG,GAAGyE,KAAI,SAAS2nG,GACnC,OAAO74F,EAAEtT,GAAGmsG,GAAM2F,EAAE3F,GAAIpsG,MAE1BuT,EAAEtT,GAAGD,IAAM46B,EAAE36B,GAAGD,GAAK4gG,EAAM33D,IAAI4iB,IAAUkmD,EAAE/xG,GAAGA,MAEhD4gG,EAAM8F,OAAOzmG,EAAGqF,GAAM84B,SAAQ,SAASl1B,GACrC2iD,EAAQ+0C,EAAM8F,OAAOzmG,GAAGwE,KAAI,SAAS2nG,GACnC,OAAO74F,EAAEtT,GAAGmsG,GAAM2F,EAAE3F,GAAIljG,MAE1B6oG,EAAE9xG,GAAGiJ,GAAK0xB,EAAEixB,EAAM/nD,QAAQoF,GAAK03F,EAAM33D,IAAI4iB,SAGtC,CAACt4C,EAAGw+F,IAMbC,SAAU,SAAkBp3E,GAC1B,IAEIixB,EAFAvmD,EAAOs1B,EAAE92B,OACTmuG,EAAIrR,EAAMwG,MAAMxsE,EAAE92B,OAAQ82B,EAAE,GAAG92B,QAcnC,OAZA88F,EAAM8F,OAAOphG,GAAM84B,SAAQ,SAASp+B,GAClC6rD,EAAQ+0C,EAAM8F,OAAO1mG,GAAGyE,KAAI,SAASvD,GACnC,OAAOkB,EAAKc,IAAI+uG,EAAEjyG,GAAGkB,GAAG,MAE1B+wG,EAAEjyG,GAAGA,GAAKoC,EAAKkB,KAAKs3B,EAAE56B,GAAGA,GAAK4gG,EAAM33D,IAAI4iB,IACxC+0C,EAAM8F,OAAO1mG,EAAI,EAAGsF,GAAM84B,SAAQ,SAASl1B,GACzC2iD,EAAQ+0C,EAAM8F,OAAO1mG,GAAGyE,KAAI,SAASvD,GACnC,OAAO+wG,EAAEjyG,GAAGkB,GAAK+wG,EAAE/oG,GAAGhI,MAExB+wG,EAAE/oG,GAAGlJ,IAAM46B,EAAE56B,GAAGkJ,GAAK03F,EAAM33D,IAAI4iB,IAAUomD,EAAEjyG,GAAGA,SAG3CiyG,GAITC,aAAc,SAAsB/qG,EAAGD,EAAG7D,EAAGvC,GAQ3C,IAPA,IAMIqxG,EAAI9xG,EAAGgrB,EAAG+mF,EANVpyG,EAAI,EACJkJ,EAAI,EACJzH,EAAI0F,EAAErD,OACN7D,EAAI,GACJ6J,EAAI,GACJxJ,EAAI,GAEDN,EAAIyB,EAAGzB,IAIZ,IAHAC,EAAED,GAAK,GACP8J,EAAE9J,GAAK,GACPM,EAAEN,GAAK,GACFkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,EAAIkJ,GACNjJ,EAAED,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfY,EAAE9J,GAAGkJ,GAAK5I,EAAEN,GAAGkJ,GAAK,GACXlJ,EAAIkJ,GACbY,EAAE9J,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfjJ,EAAED,GAAGkJ,GAAK5I,EAAEN,GAAGkJ,GAAK,IAEpB5I,EAAEN,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfjJ,EAAED,GAAGkJ,GAAKY,EAAE9J,GAAGkJ,GAAK,GAS1B,IALAmiB,EAAIu1E,EAAM0P,SAAS1P,EAAM0P,SAAS1P,EAAMoM,IAAI1sG,GAAIsgG,EAAMl7F,IAAIzF,EAAG6J,KAAM,GACnEzJ,EAAIugG,EAAM0P,SAAS1P,EAAMoM,IAAI1sG,GAAI4G,GACjCirG,EAAK9uG,EACL+uG,EAAKxR,EAAMl7F,IAAIk7F,EAAM0P,SAASjlF,EAAGhoB,GAAIhD,GACrCL,EAAI,EACGoC,EAAKO,IAAIi+F,EAAM+P,KAAK/P,EAAMwP,SAASgC,EAAGD,KAAQrxG,GACnDqxG,EAAKC,EACLA,EAAKxR,EAAMl7F,IAAIk7F,EAAM0P,SAASjlF,EAAG8mF,GAAK9xG,GACtCL,IAEF,OAAOoyG,GAGTC,aAAc,SAAsBlrG,EAAGD,EAAG7D,EAAGvC,GAO3C,IANA,IAKIoI,EAAGipG,EAAI9xG,EAAGgrB,EAAG+mF,EALbpyG,EAAI,EACJyB,EAAI0F,EAAErD,OACN7D,EAAI,GACJ6J,EAAI,GACJxJ,EAAI,GAEDN,EAAIyB,EAAGzB,IAIZ,IAHAC,EAAED,GAAK,GACP8J,EAAE9J,GAAK,GACPM,EAAEN,GAAK,GACFkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,EAAIkJ,GACNjJ,EAAED,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfY,EAAE9J,GAAGkJ,GAAK5I,EAAEN,GAAGkJ,GAAK,GACXlJ,EAAIkJ,GACbY,EAAE9J,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfjJ,EAAED,GAAGkJ,GAAK5I,EAAEN,GAAGkJ,GAAK,IAEpB5I,EAAEN,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfjJ,EAAED,GAAGkJ,GAAKY,EAAE9J,GAAGkJ,GAAK,GAS1B,IALAmiB,EAAIu1E,EAAM0P,SAAS1P,EAAM0P,SAAS1P,EAAMoM,IAAIpM,EAAMl7F,IAAIpF,EAAGL,IAAK6J,IAAK,GACnEzJ,EAAIugG,EAAM0P,SAAS1P,EAAMoM,IAAIpM,EAAMl7F,IAAIpF,EAAGL,IAAKiH,GAC/CirG,EAAK9uG,EACL+uG,EAAKxR,EAAMl7F,IAAIk7F,EAAM0P,SAASjlF,EAAGhoB,GAAIhD,GACrCL,EAAI,EACGoC,EAAKO,IAAIi+F,EAAM+P,KAAK/P,EAAMwP,SAASgC,EAAID,KAAQrxG,GACpDqxG,EAAKC,EACLA,EAAKxR,EAAMl7F,IAAIk7F,EAAM0P,SAASjlF,EAAG8mF,GAAK9xG,GACtCL,GAAQ,EAEV,OAAOoyG,GAGTE,IAAK,SAAanrG,EAAGD,EAAG7D,EAAGvC,EAAG0T,GAO5B,IANA,IAKItL,EAAGipG,EAAI9xG,EAAGgrB,EAAG+mF,EALbpyG,EAAI,EACJyB,EAAI0F,EAAErD,OACN7D,EAAI,GACJ6J,EAAI,GACJxJ,EAAI,GAEDN,EAAIyB,EAAGzB,IAIZ,IAHAC,EAAED,GAAK,GACP8J,EAAE9J,GAAK,GACPM,EAAEN,GAAK,GACFkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,EAAIkJ,GACNjJ,EAAED,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfY,EAAE9J,GAAGkJ,GAAK5I,EAAEN,GAAGkJ,GAAK,GACXlJ,EAAIkJ,GACbY,EAAE9J,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfjJ,EAAED,GAAGkJ,GAAK5I,EAAEN,GAAGkJ,GAAK,IAEpB5I,EAAEN,GAAGkJ,GAAK/B,EAAEnH,GAAGkJ,GACfjJ,EAAED,GAAGkJ,GAAKY,EAAE9J,GAAGkJ,GAAK,GAY1B,IARAmiB,EAAIu1E,EAAM0P,SAAS1P,EAAMoM,IAAIpM,EAAMl7F,IAAIpF,EAAGsgG,EAAM0P,SAASrwG,EAAGuU,KACzCosF,EAAMwP,SAASxP,EAAM0P,SAAShwG,EAAG,EAAIkU,GACtBosF,EAAM0P,SAASxmG,EAAG0K,KACpDnU,EAAIugG,EAAM0P,SAAS1P,EAAM0P,SAAS1P,EAAMoM,IAAIpM,EAAMl7F,IAAIpF,EAClDsgG,EAAM0P,SAASrwG,EAAGuU,KAAMtN,GAAIsN,GAChC29F,EAAK9uG,EACL+uG,EAAKxR,EAAMl7F,IAAIk7F,EAAM0P,SAASjlF,EAAGhoB,GAAIhD,GACrCL,EAAI,EACGoC,EAAKO,IAAIi+F,EAAM+P,KAAK/P,EAAMwP,SAASgC,EAAID,KAAQrxG,GACpDqxG,EAAKC,EACLA,EAAKxR,EAAMl7F,IAAIk7F,EAAM0P,SAASjlF,EAAG8mF,GAAK9xG,GACtCL,IAEF,OAAOoyG,GAGTG,YAAa,SAAqBprG,GAOhC,IANA,IAKIgmC,EAAOrsC,EAAG+G,EAAGqB,EALb9I,EAAI+G,EAAErD,OACNrC,EAAI0F,EAAE,GAAGrD,OACT9D,EAAI,EACJwU,EAAI,GACJ1S,EAAI,GAED9B,EAAII,EAAI,EAAGJ,IAAK,CAErB,IADAmtC,EAAQ,EACHjkC,EAAIlJ,EAAI,EAAGkJ,EAAIzH,EAAGyH,IACvBikC,GAAUhmC,EAAE+B,GAAGlJ,GAAKmH,EAAE+B,GAAGlJ,GAMzB,IAJAmtC,GADUhmC,EAAEnH,EAAI,GAAGA,GAAK,GAAM,EAAI,GACjBoC,EAAKkB,KAAK6pC,GAC3BrsC,EAAIsB,EAAKkB,MAAQ6pC,EAAQA,EAAShmC,EAAEnH,EAAI,GAAGA,GAAKmtC,GAAS,IACzD34B,EAAIosF,EAAMwG,MAAMhnG,EAAG,IACjBJ,EAAI,GAAG,IAAMmH,EAAEnH,EAAI,GAAGA,GAAKmtC,IAAU,EAAIrsC,GACtC+G,EAAI7H,EAAI,EAAG6H,EAAIzH,EAAGyH,IAAK2M,EAAE3M,GAAG,GAAKV,EAAEU,GAAG7H,IAAM,EAAIc,GACrDgB,EAAI8+F,EAAMwP,SAASxP,EAAMr4F,SAASnI,EAAGqB,GACjCm/F,EAAM0P,SAAS1P,EAAM0P,SAAS97F,EAAGosF,EAAM4E,UAAUhxF,IAAK,IAC1DrN,EAAIy5F,EAAM0P,SAASxuG,EAAG8+F,EAAM0P,SAASnpG,EAAGrF,IAE1C,OAAOqF,GAMTqrG,IAOMvpE,EAAQ23D,EAAM33D,IACd5kC,EAAQu8F,EAAM8F,OAElB,SAAarjG,GAIX,IAMIrD,EAAEkJ,EAAErB,EANJpG,EAAI4B,EAAES,OACNhC,EAAIuB,EAAE,GAAGS,OAEThD,EAAI8/F,EAAMwG,MAAMtlG,EAAGA,GAIvB,IAHAuB,EAAIu9F,EAAM36F,KAAK5C,GAGX6F,EAAI,EAAGA,EAAIpH,EAAGoH,IAAI,CAIpB,IAHApI,EAAEoI,GAAGA,GAAK9G,EAAKkB,KAAK2lC,EAAI5kC,EAAM5C,GAAGgD,KAAI,SAASzE,GAC5C,OAAOqD,EAAErD,GAAGkJ,GAAK7F,EAAErD,GAAGkJ,QAEpBlJ,EAAI,EAAGA,EAAIyB,EAAGzB,IAChBqD,EAAErD,GAAGkJ,GAAK7F,EAAErD,GAAGkJ,GAAKpI,EAAEoI,GAAGA,GAE3B,IAAIrB,EAAIqB,EAAE,EAAGrB,EAAI/F,EAAG+F,IAIlB,IAHA/G,EAAEoI,GAAGrB,GAAKohC,EAAI5kC,EAAM5C,GAAGgD,KAAI,SAASzE,GAClC,OAAOqD,EAAErD,GAAGkJ,GAAK7F,EAAErD,GAAG6H,OAEpB7H,EAAI,EAAGA,EAAIyB,EAAGzB,IAChBqD,EAAErD,GAAG6H,GAAKxE,EAAErD,GAAG6H,GAAKxE,EAAErD,GAAGkJ,GAAGpI,EAAEoI,GAAGrB,GAIvC,MAAO,CAACxE,EAAGvC,KAMf2xG,MA0BE,SAAkB73E,EAAG1zB,GACnB,IAAIwrG,GAAa,OACGpsG,IAAhBY,EAAE,GAAGpD,SAEPoD,EAAIA,EAAEzC,KAAI,SAASpB,GAAI,MAAO,CAACA,MAC/BqvG,GAAa,GAEf,IAAIF,EAAK5R,EAAM4R,GAAG53E,GACd5kB,EAAIw8F,EAAG,GACPT,EAAIS,EAAG,GACPG,EAAQ/3E,EAAE,GAAG92B,OACb8uG,EAAKhS,EAAM38F,MAAM+R,EAAE,CAACkqB,IAAI,CAACxvB,IAAIiiG,KAE7BE,EAnCN,SAAaj4E,GAEX,IAAIt1B,GADJs1B,EAAIgmE,EAAM36F,KAAK20B,IACF92B,OACTgvG,EAAIlS,EAAMr4F,SAASjD,GAgBvB,OAfAs7F,EAAM8F,OAAOphG,EAAO,GAAI,GAAI,GAAG84B,SAAQ,SAASp+B,GAC9C4gG,EAAMkH,YACFgL,EAAG,CAAE5zE,IAAKl/B,GAAK4gG,EAAMyP,OAAOzP,EAAM38F,MAAM6uG,EAAG,CAAE5zE,IAAKl/B,IAAM46B,EAAE56B,GAAGA,KACjE4gG,EAAMkH,YACFltE,EAAG,CAAEsE,IAAKl/B,GAAK4gG,EAAMyP,OAAOzP,EAAM38F,MAAM22B,EAAG,CAAEsE,IAAKl/B,IAAM46B,EAAE56B,GAAGA,KACjE4gG,EAAM8F,OAAO1mG,GAAGo+B,SAAQ,SAASl1B,GAC/B,IAAI7I,EAAIugG,EAAM0P,SAAS11E,EAAE1xB,GAAGlJ,IAAK,GAC7B+yG,EAAKnS,EAAM38F,MAAM22B,EAAG,CAAEsE,IAAKh2B,IAC3B8pG,EAAMpS,EAAM0P,SAAS1P,EAAM38F,MAAM22B,EAAG,CAAEsE,IAAKl/B,IAAMK,GACrDugG,EAAMkH,YAAYltE,EAAG,CAAEsE,IAAKh2B,GAAK03F,EAAMl7F,IAAIqtG,EAAIC,IAC/C,IAAIC,EAAKrS,EAAM38F,MAAM6uG,EAAG,CAAE5zE,IAAKh2B,IAC3BgqG,EAAMtS,EAAM0P,SAAS1P,EAAM38F,MAAM6uG,EAAG,CAAE5zE,IAAKl/B,IAAMK,GACrDugG,EAAMkH,YAAYgL,EAAG,CAAE5zE,IAAKh2B,GAAK03F,EAAMl7F,IAAIutG,EAAIC,UAG5CJ,EAgBEK,CADAvS,EAAM38F,MAAM8tG,EAAE,CAAC7yE,IAAI,CAACxuB,IAAIiiG,MAE7BS,EAAKxS,EAAM4E,UAAUoN,QAELtsG,IAAjB8sG,EAAG,GAAGtvG,SACPsvG,EAAK,CAACA,IAGR,IAAI/vG,EAAIu9F,EAAM0P,SAAS1P,EAAM0P,SAASuC,EAAIO,GAAKlsG,GAO/C,YALgBZ,IAAbjD,EAAES,SACHT,EAAI,CAAC,CAACA,KAIJqvG,EACKrvG,EAAEoB,KAAI,SAASzE,GAAI,OAAOA,EAAE,MAC9BqD,GAMXgwG,OAAQ,SAAgBlsG,GAOtB,IANA,IAIOnH,EAAGkJ,EAAGpH,EAAGuT,EAAGi+F,EAAOrwB,EAAOlhF,EAJ7B6zD,EAAY,EACZn0D,EAAI0F,EAAErD,OACNiK,EAAI6yF,EAAMr4F,SAAS9G,EAAGA,GACtB8xG,EAAK,GAGY,IAAd39C,GAAiB,CAItB,IAHA09C,EAAQnsG,EAAE,GAAG,GACbrF,EAAI,EACJuT,EAAI,EACCrV,EAAI,EAAGA,EAAIyB,EAAGzB,IACjB,IAAKkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,GAAKkJ,GACHoqG,EAAQlxG,EAAKO,IAAIwE,EAAEnH,GAAGkJ,MACxBoqG,EAAQlxG,EAAKO,IAAIwE,EAAEnH,GAAGkJ,IACtBpH,EAAI9B,EACJqV,EAAInM,GAmBZ,IAbE+5E,EADE97E,EAAErF,GAAGA,KAAOqF,EAAEkO,GAAGA,GACVlO,EAAErF,GAAGuT,GAAK,EAAKjT,EAAKC,GAAK,GAAKD,EAAKC,GAAK,EAEzCD,EAAKQ,KAAK,EAAIuE,EAAErF,GAAGuT,IAAMlO,EAAErF,GAAGA,GAAKqF,EAAEkO,GAAGA,KAAO,GACzDtT,EAAI6+F,EAAMr4F,SAAS9G,EAAGA,IACpBK,GAAGA,GAAKM,EAAKU,IAAImgF,GACnBlhF,EAAED,GAAGuT,IAAMjT,EAAKe,IAAI8/E,GACpBlhF,EAAEsT,GAAGvT,GAAKM,EAAKe,IAAI8/E,GACnBlhF,EAAEsT,GAAGA,GAAKjT,EAAKU,IAAImgF,GAEnBl1E,EAAI6yF,EAAM0P,SAASviG,EAAGhM,GAEtBoF,EADIy5F,EAAM0P,SAAS1P,EAAM0P,SAAS1P,EAAMoM,IAAIjrG,GAAIoF,GAAIpF,GAEpD6zD,EAAY,EACP51D,EAAI,EAAGA,EAAIyB,EAAGzB,IACjB,IAAKkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,GAAKkJ,GAAK9G,EAAKO,IAAIwE,EAAEnH,GAAGkJ,IAAM,OAChC0sD,EAAY,GAKpB,IAAK51D,EAAI,EAAGA,EAAIyB,EAAGzB,IAAKuzG,EAAGpuG,KAAKgC,EAAEnH,GAAGA,IAErC,MAAO,CAAC+N,EAAGwlG,IAGbC,WAAY,SAAoB9uG,EAAG2mB,EAAGvpB,EAAG2xG,EAAKC,EAAKj6E,GACjD,IAAIuxD,EAAI2oB,EAAUC,EAClB,GAAc,IAAVn6E,EACF,KAAOg6E,GAAO3xG,GAIZ4xG,KAHA1oB,EAAK3/D,EAAI3mB,EAAE+uG,EAAKC,KAChBC,EAAKtoF,EAAI3mB,EAAE+uG,EAAMpoF,EAAGqoF,EAAM1oB,KACD,EAEzByoB,GAAYpoF,EAGhB,GAAc,IAAVoO,EACF,KAAOg6E,GAAO3xG,GAMZ4xG,KALA1oB,EAAK3/D,EAAI3mB,EAAE+uG,EAAKC,IAIG,GAHnBC,EAAKtoF,EAAI3mB,EAAE+uG,EAAMpoF,EAAI,EAAGqoF,EAAM1oB,EAAK,IAGP,GAF5B4oB,EAAKvoF,EAAI3mB,EAAE+uG,EAAMpoF,EAAI,EAAGqoF,EAAMC,EAAK,IAC9BtoF,EAAI3mB,EAAE+uG,EAAKpoF,EAAGqoF,EAAME,IACkB,EAE3CH,GAAYpoF,EAGhB,OAAOqoF,GAGTG,QAAS,SAAiBnvG,EAAGyC,EAAGD,EAAGuyB,GAOjC,IANA,IAKIr5B,EAAGonC,EAAIt+B,EAAGrB,EAAGirG,EALb9yG,EAAI,EACJqrB,GAAKnkB,EAAIC,GAAK,EACd9D,EAAI,GACJ6qC,EAAK,GACLniC,EAAI,GAED/L,EAAIy5B,EAAQ,GAAG,CAEpB,IADAq5E,EAAIpuG,EAAEyC,GACD+B,EAAI/B,EAAGU,EAAI,EAAGqB,GAAKhC,EAAGgC,GAAQmiB,EAAGxjB,IAAKxE,EAAEwE,GAAKqB,EAElD,IADA9I,EAAIiD,EAAES,OACDoF,EAAI,EAAGA,EAAI9I,EAAI,EAAG8I,IACrB4pG,IAAQ5pG,EAAI,GAAO,EAAK,EAAI,GAAKxE,EAAErB,EAAE6F,IAEvC4pG,EAAKznF,EAAI,GAAMynF,EAAIpuG,EAAEwC,IACrB6E,EAAE/L,GAAK8yG,EACPznF,GAAK,EACLrrB,IAIF,IAFAwnC,EAAKz7B,EAAEjI,OACP1D,EAAI,EACU,IAAPonC,GAAU,CACf,IAAKt+B,EAAI,EAAGA,EAAIs+B,EAAK,EAAGt+B,IACxBglC,EAAGhlC,IAAO9G,EAAKc,IAAI,EAAG9C,GAAM2L,EAAE7C,EAAI,GAAK6C,EAAE7C,KAAO9G,EAAKc,IAAI,EAAG9C,GAAK,GACjEonC,EAAK0G,EAAGpqC,OACRiI,EAAImiC,EACJA,EAAK,GACL9tC,IAEF,OAAO2L,GAGT+nG,WAAY,SAAoBh5F,EAAGpW,EAAGrB,EAAGgoB,GACvC,SAAS4wB,EAAInhC,EAAGzX,GAId,IAHA,IAEIvB,EAFA9B,EAAI,EACJyB,EAAIqZ,EAAEhX,OAEH9D,EAAIyB,EAAGzB,IACR8a,EAAE9a,KAAOqD,IAAGvB,EAAI9B,GACtB,OAAO8B,EAOT,IALA,IAIIojC,EAAIE,EAAIhlC,EAAG+G,EAAG+B,EAJd6qG,EAAQ3xG,EAAKO,IAAIU,EAAIyX,EAAEmhC,EAAInhC,EAAGzX,GAAK,IACnCrD,EAAI,EACJ+L,EAAI,GACJmiC,EAAK,GAEF7iB,GAAK0oF,GACV7uE,EAAK+W,EAAInhC,EAAGzX,EAAIgoB,GAChB+Z,EAAK6W,EAAInhC,EAAGzX,GACZ0I,EAAE/L,IAAM0E,EAAEwgC,GAAM,EAAIxgC,EAAE0gC,GAAM1gC,EAAE,EAAI0gC,EAAKF,KAAQ7Z,EAAIA,GACnDA,GAAK,EACLrrB,IAIF,IAFAmH,EAAI4E,EAAEjI,OACN1D,EAAI,EACQ,GAAL+G,GAAQ,CACb,IAAK+B,EAAI,EAAGA,EAAI/B,EAAI,EAAG+B,IACrBglC,EAAGhlC,IAAO9G,EAAKc,IAAI,EAAG9C,GAAM2L,EAAE7C,EAAI,GAAK6C,EAAE7C,KAAO9G,EAAKc,IAAI,EAAG9C,GAAK,GACnE+G,EAAI+mC,EAAGpqC,OACPiI,EAAImiC,EACJA,EAAK,GACL9tC,IAEF,OAAO2L,GAGTioG,QAAS,SAAiBtvG,EAAGyC,EAAGD,EAAGzF,GAQjC,IAPA,IAMIrB,EANAirB,GAAKnkB,EAAIC,GAAK1F,EACdqxG,EAAIpuG,EAAEyC,GACN9D,EAAI,GACJ6F,EAAI/B,EACJU,EAAI,EACJ7H,EAAI,EAEDkJ,GAAKhC,EAAGgC,GAAQmiB,EAAGxjB,IACxBxE,EAAEwE,GAAKqB,EAET,IADA9I,EAAIiD,EAAES,OACC9D,EAAII,EAAI,EAAGJ,IAChB8yG,IAAO9yG,EAAI,GAAM,EAAK,EAAI,GAAK0E,EAAErB,EAAErD,IAErC,OAAQqrB,EAAI,GAAMynF,EAAIpuG,EAAEwC,KAG1B+sG,QAAS,SAAiBn5F,EAAGo5F,EAAGC,EAAIlzG,GASlC,IARA,IAOIiI,EAPAzH,EAAIqZ,EAAEhX,OACNhC,EAAI,EACJ9B,EAAI,EACJC,EAAI,GACJsrF,EAAK,GACL3wD,EAAI,GACJC,EAAI,GAED76B,EAAIyB,EAAGzB,IAAK,CAEjB,IADAC,EAAED,GAAK,EACFkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,GAAKkJ,IAAGjJ,EAAED,KAAOiB,EAAQ6Z,EAAE5R,KAAO4R,EAAE9a,GAAK8a,EAAE5R,KAGjD,IADAqiF,EAAGvrF,GAAK,EACHkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IACblJ,GAAKkJ,IAAGqiF,EAAGvrF,IAAM,GAAK8a,EAAG9a,GAAK8a,EAAE5R,KAEtC0xB,EAAE56B,IAAM,EAAI,GAAKiB,EAAQ6Z,EAAE9a,IAAMurF,EAAGvrF,KAAOC,EAAED,GAAKC,EAAED,IACpD66B,EAAE76B,IAAMiB,EAAQ6Z,EAAE9a,KAAOC,EAAED,GAAKC,EAAED,IAClC8B,GAAM84B,EAAE56B,GAAKk0G,EAAEl0G,GAAK66B,EAAE76B,GAAKm0G,EAAGn0G,GAEhC,OAAO8B,GAGTsyG,SAAU,SAAkBt5F,EAAGo5F,EAAGjzG,GAKhC,IAJA,IAEIiI,EAAGjJ,EAFH6B,EAAI,EACJ9B,EAAI,EAEJyB,EAAIqZ,EAAEhX,OACH9D,EAAIyB,EAAGzB,IAAK,CAEjB,IADAC,EAAIi0G,EAAEl0G,GACDkJ,EAAI,EAAGA,EAAIzH,EAAGyH,IAEblJ,GAAKkJ,IAAGjJ,IAAMgB,EAAQ6Z,EAAE5R,KAAO4R,EAAE9a,GAAK8a,EAAE5R,KAG9CpH,GAAK7B,EAEP,OAAO6B,GAGTuyG,aAAc,SAAsBv5F,EAAGo5F,EAAGjzG,GAUxC,IATA,IACWiI,EAIP7I,EALAoB,EAAIqZ,EAAEhX,OACN9D,EAAI,EACJ46B,EAAI,GACJC,EAAI,GACJsS,EAAQ,GAER9hB,EAAI,GACJnkB,EAAI,GACJ5G,EAAI,GACDN,EAAIyB,EAAI,EAAGzB,IAChBqrB,EAAErrB,GAAK8a,EAAE9a,EAAI,GAAK8a,EAAE9a,GAEtB,IADAmtC,EAAM,GAAK,EACNntC,EAAI,EAAGA,EAAIyB,EAAI,EAAGzB,IACrBmtC,EAAMntC,GAAM,EAAIqrB,EAAErrB,IAAOk0G,EAAEl0G,EAAI,GAAKk0G,EAAEl0G,IACjC,EAAIqrB,EAAErrB,EAAE,IAAOk0G,EAAEl0G,GAAKk0G,EAAEl0G,EAAE,IAEjC,IAAKA,EAAI,EAAGA,EAAIyB,EAAI,EAAGzB,IACrB46B,EAAE56B,GAAK,GACP66B,EAAE76B,GAAK,GACP46B,EAAE56B,GAAGA,EAAE,GAAKqrB,EAAErrB,EAAE,GAChB46B,EAAE56B,GAAGA,GAAK,GAAKqrB,EAAErrB,EAAI,GAAKqrB,EAAErrB,IAC5B46B,EAAE56B,GAAGA,EAAE,GAAKqrB,EAAErrB,GACd66B,EAAE76B,GAAG,GAAKmtC,EAAMntC,GAGlB,IADAK,EAAIugG,EAAM0P,SAAS1P,EAAMoM,IAAIpyE,GAAIC,GAC5B3xB,EAAI,EAAGA,EAAIzH,EAAI,EAAGyH,IACrBhC,EAAEgC,IAAMgrG,EAAEhrG,EAAI,GAAKgrG,EAAEhrG,IAAMmiB,EAAEniB,GAAKmiB,EAAEniB,IAAM7I,EAAE6I,EAAI,GAAG,GAAK,EAAI7I,EAAE6I,GAAG,IAAM,EACvE5I,EAAE4I,IAAM7I,EAAE6I,EAAI,GAAG,GAAK7I,EAAE6I,GAAG,KAAO,EAAImiB,EAAEniB,IAE1C,IAAKA,EAAI,EAAGA,EAAIzH,KACVqZ,EAAE5R,GAAKjI,GADMiI,KAInB,OAAOgrG,EADPhrG,GAAK,IACUjI,EAAQ6Z,EAAE5R,IAAMhC,EAAEgC,GAAK03F,EAAM0T,GAAGrzG,EAAM6Z,EAAE5R,IACnD7I,EAAE6I,IAAMjI,EAAQ6Z,EAAE5R,IAAM03F,EAAM0T,GAAGrzG,EAAQ6Z,EAAE5R,IAAM5I,EAAE4I,IAGzDqrG,iBAAkB,WAChB,MAAM,IAAInqG,MAAM,yCAGlBoqG,IAAK,SAAa15F,GAChB,IAGI5R,EAAGurG,EAGHvyE,EAGAwyE,EAGA7/F,EAZAzU,EAAI0a,EAAEhX,OACNrC,EAAIqZ,EAAE,GAAGhX,OACT9D,EAAI,EAEJ8J,EAAI,GACJixB,EAAI,GAEJ45E,EAAQ,GACRlqD,EAAI,GAEJ5vB,EAAI,GACJC,EAAI,GAEJ85E,EAAK,GACT,IAAK50G,EAAI,EAAGA,EAAII,EAAGJ,IACjB8J,EAAE9J,GAAK4gG,EAAM33D,IAAInuB,EAAE9a,IAAMyB,EAE3B,IAAKzB,EAAI,EAAGA,EAAIyB,EAAGzB,IAEjB,IADA66B,EAAE76B,GAAK,GACHkJ,EAAI,EAAGA,EAAI9I,EAAG8I,IAChB2xB,EAAE76B,GAAGkJ,GAAK4R,EAAE5R,GAAGlJ,GAAK8J,EAAEZ,GAI1B,IADA2xB,EAAI+lE,EAAM4E,UAAU3qE,GACf76B,EAAI,EAAGA,EAAII,EAAGJ,IAEjB,IADA86B,EAAE96B,GAAK,GACFkJ,EAAI,EAAGA,EAAI9I,EAAG8I,IACjB4xB,EAAE96B,GAAGkJ,GAAM03F,EAAM8P,IAAI,CAAC71E,EAAE76B,IAAK,CAAC66B,EAAE3xB,MAASzH,EAAI,GAOjD,IAHAoT,GADAqtB,EAAS0+D,EAAMyS,OAAOv4E,IACX,GACXC,EAAImH,EAAO,GACX0yE,EAAKhU,EAAM4E,UAAU3wF,GAChB7U,EAAI,EAAGA,EAAI+6B,EAAEj3B,OAAQ9D,IACxB,IAAKkJ,EAAIlJ,EAAGkJ,EAAI6xB,EAAEj3B,OAAQoF,IACrB6xB,EAAE/6B,GAAK+6B,EAAE7xB,KACVurG,EAAQ15E,EAAE/6B,GACV+6B,EAAE/6B,GAAK+6B,EAAE7xB,GACT6xB,EAAE7xB,GAAKurG,EACPE,EAAQC,EAAG50G,GACX40G,EAAG50G,GAAK40G,EAAG1rG,GACX0rG,EAAG1rG,GAAKyrG,GAKd,IADAD,EAAK9T,EAAM4E,UAAU3qE,GAChB76B,EAAI,EAAGA,EAAII,EAAGJ,IAEjB,IADAyqD,EAAEzqD,GAAK,GACFkJ,EAAI,EAAGA,EAAIwrG,EAAG5wG,OAAQoF,IACzBuhD,EAAEzqD,GAAGkJ,GAAK03F,EAAM8P,IAAI,CAACkE,EAAG50G,IAAK,CAAC00G,EAAGxrG,KAGrC,MAAO,CAAC4R,EAAGigB,EAAG65E,EAAInqD,MAKrB,SAAS06C,GACR,IAAK,IAAInlG,EAAI,EAAGA,EAAImlG,EAAMrhG,OAAQ9D,KAAM,SAASolG,GAC/CxE,EAAMvuD,GAAG+yD,GAAY,SAASjoE,EAAKmoE,GACjC,IAAIC,EAAUhhG,KAEd,OAAI+gG,GACFl4E,YAAW,WACTk4E,EAAKnlG,KAAKolG,EAAS3E,EAAMvuD,GAAG+yD,GAAUjlG,KAAKolG,EAASpoE,MACnD,IACI54B,MAEiC,iBAA/Bq8F,EAAMwE,GAAU7gG,KAAM44B,GACxByjE,EAAMwE,GAAU7gG,KAAM44B,GAEtByjE,EAAMA,EAAMwE,GAAU7gG,KAAM44B,KAbF,CAerCgoE,EAAMnlG,IAhBV,CAiBE,8DAA8D0xB,MAAM,MA78BtE,CA+8BEkvE,EAAOx+F,MACR,SAASw+F,EAAOx+F,GAEjB,IAAI6B,EAAQ,GAAGA,MACX8hG,EAAWnF,EAAME,MAAMiF,SACvBlhG,EAAU+7F,EAAME,MAAMj8F,QAwT1B,SAASgwG,EAAwBxsE,EAAIg0C,EAAIzxC,EAAI0xC,GAC3C,GAAIj0C,EAAK,GAAKuC,EAAK,GAAKvC,GAAM,GAAKuC,GAAM,EACvC,MAAM,IAAIxgC,MAAM,wDAElB,IAAI0qG,GAAUzsE,EAAKg0C,EAAKzxC,EAAK0xC,IAAOD,EAAKC,GAEzC,OAAQj0C,EAAKuC,GADJxoC,EAAKkB,KAAKwxG,GAAU,EAAIA,IAAY,EAAEz4B,EAAO,EAAEC,IAzT1DskB,EAAMv0E,OAAO,CAIX0oF,OAAQ,WACN,IAAIxhC,EAAOtvE,EAAM9D,KAAKmE,WACtB,OAAIyhG,EAASxyB,EAAK,KACRA,EAAK,GAAKA,EAAK,IAAMA,EAAK,IAE5BA,EAAK,GAAKqtB,EAAMx3B,KAAKmK,EAAK,KAAOqtB,EAAMiC,MAAMtvB,EAAK,GAAIA,EAAK,KAOrEyhC,MAAO,WACL,IACInlG,EADA0jE,EAAOtvE,EAAM9D,KAAKmE,WAEtB,OAAIO,EAAQ0uE,EAAK,KAEf1jE,EAAI+wF,EAAMmU,OAAOxhC,EAAK,GAAGA,EAAK,GAAGA,EAAK,IAClB,IAAZA,EAAK,GACVqtB,EAAM3qB,OAAO21B,KAAKxpG,EAAKO,IAAIkN,GAAI,EAAG,GACG,EAArC+wF,EAAM3qB,OAAO21B,KAAKxpG,EAAKO,IAAIkN,GAAI,EAAG,IAEjC0jE,EAAKzvE,OAAS,GAEhB+L,EAAI+wF,EAAMmU,OAAOxhC,EAAK,GAAGA,EAAK,GAAGA,EAAK,IAClB,IAAZA,EAAK,GACVqtB,EAAM3qB,OAAO21B,KAAKxpG,EAAKO,IAAIkN,GAAG,EAAE,GACI,EAApC+wF,EAAM3qB,OAAO21B,KAAKxpG,EAAKO,IAAIkN,GAAG,EAAE,KAGnCA,EAAI0jE,EAAK,GACW,IAAZA,EAAK,GACVqtB,EAAM3qB,OAAO21B,KAAKxpG,EAAKO,IAAIkN,GAAG,EAAE,GACG,EAAnC+wF,EAAM3qB,OAAO21B,KAAKxpG,EAAKO,IAAIkN,GAAG,EAAE,OAM3C+wF,EAAMv0E,OAAOu0E,EAAMvuD,GAAI,CACrB0iE,OAAQ,SAAgB9zG,EAAO4xC,GAC7B,OAAQ5xC,EAAQsD,KAAK6kE,QAAU7kE,KAAKs+F,MAAMhwD,IAG5CmiE,MAAO,SAAe/zG,EAAOg0G,EAAOpiE,GAClC,IAAIkiE,EAAS3yG,EAAKO,IAAI4B,KAAKwwG,OAAO9zG,EAAO4xC,IACzC,OAAkB,IAAVoiE,EACLrU,EAAM3qB,OAAO21B,KAAKmJ,EAAQ,EAAG,GACK,EAAlCnU,EAAM3qB,OAAO21B,KAAKmJ,EAAQ,EAAG,MAKpCnU,EAAMv0E,OAAO,CAIX6oF,OAAQ,WACN,IAAI3hC,EAAOtvE,EAAM9D,KAAKmE,WACtB,OAAwB,IAAhBivE,EAAKzvE,QACTyvE,EAAK,GAAKA,EAAK,KAAOA,EAAK,GAAKnxE,EAAKkB,KAAKiwE,EAAK,MAC/CA,EAAK,GAAKqtB,EAAMx3B,KAAKmK,EAAK,MAC1BqtB,EAAMiC,MAAMtvB,EAAK,IAAI,GAAQnxE,EAAKkB,KAAKiwE,EAAK,GAAGzvE,UAOrDqxG,MAAO,WACL,IACID,EADA3hC,EAAOtvE,EAAM9D,KAAKmE,WAEtB,OAAoB,IAAhBivE,EAAKzvE,QACPoxG,EAAS9yG,EAAKO,IAAIi+F,EAAMsU,OAAO3hC,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,KAC3C,IAAZA,EAAK,GACVqtB,EAAMkN,SAASlC,KAAKsJ,EAAQ3hC,EAAK,GAAG,GACG,EAAvCqtB,EAAMkN,SAASlC,KAAKsJ,EAAQ3hC,EAAK,GAAG,IAErCwyB,EAASxyB,EAAK,KAChB2hC,EAAS9yG,EAAKO,IAAI4wE,EAAK,IACJ,GAAXA,EAAK,GACVqtB,EAAMkN,SAASlC,KAAKsJ,EAAQ3hC,EAAK,GAAG,GACK,EAAzCqtB,EAAMkN,SAASlC,KAAKsJ,EAAQ3hC,EAAK,GAAG,KAEzC2hC,EAAS9yG,EAAKO,IAAIi+F,EAAMsU,OAAO3hC,EAAK,GAAIA,EAAK,KAC1B,GAAXA,EAAK,GACVqtB,EAAMkN,SAASlC,KAAKsJ,EAAQ3hC,EAAK,GAAGzvE,OAAO,GACK,EAAhD88F,EAAMkN,SAASlC,KAAKsJ,EAAQ3hC,EAAK,GAAGzvE,OAAO,OAIlD88F,EAAMv0E,OAAOu0E,EAAMvuD,GAAI,CACrB6iE,OAAQ,SAAgBj0G,GACtB,OAAQA,EAAQsD,KAAK6kE,SAAW7kE,KAAKs+F,OAAM,GAAQzgG,EAAKkB,KAAKiB,KAAK+hG,UAGpE6O,MAAO,SAAel0G,EAAOg0G,GAC3B,OAAkB,IAAVA,EACL,EAAIrU,EAAMkN,SAASlC,IAAIxpG,EAAKO,IAAI4B,KAAK2wG,OAAOj0G,IAASsD,KAAK+hG,OAAO,GACA,EAAjE1F,EAAMkN,SAASlC,KAAKxpG,EAAKO,IAAI4B,KAAK2wG,OAAOj0G,IAASsD,KAAK+hG,OAAO,MAKrE1F,EAAMv0E,OAAO,CAKX+oF,YAAa,WACX,IACAC,EAAQ/2C,EAAQg3C,EAAUC,EAAcC,EAASC,EAAUz1G,EAAGkJ,EAD1DqqE,EAAOtvE,EAAM9D,KAAKmE,WAEtB,GAAoB,IAAhBivE,EAAKzvE,OAAc,CAErB,IADA0xG,EAAU,IAAIxxG,MAAMuvE,EAAK,GAAGzvE,QACvB9D,EAAI,EAAGA,EAAIuzE,EAAK,GAAGzvE,OAAQ9D,IAC9Bw1G,EAAQx1G,GAAKuzE,EAAK,GAAGvzE,GAEvBuzE,EAAOiiC,EAIT,IADAl3C,EAAS,IAAIt6D,MACRhE,EAAI,EAAGA,EAAIuzE,EAAKzvE,OAAQ9D,IAC3Bs+D,EAASA,EAAO5jC,OAAO64C,EAAKvzE,IAK9B,IAHAs1G,EAAW1U,EAAMx3B,KAAK9K,GAEtB+2C,EAAS,EACJr1G,EAAI,EAAGA,EAAIuzE,EAAKzvE,OAAQ9D,IAC3Bq1G,GAAkB9hC,EAAKvzE,GAAG8D,OAAS1B,EAAKc,IAAI09F,EAAMx3B,KAAKmK,EAAKvzE,IAAMs1G,EAAU,GAK9E,IAHAD,GAAW9hC,EAAKzvE,OAAS,EAEzB2xG,EAAW,EACNz1G,EAAI,EAAGA,EAAIuzE,EAAKzvE,OAAQ9D,IAE3B,IADAu1G,EAAe3U,EAAMx3B,KAAKmK,EAAKvzE,IAC1BkJ,EAAI,EAAGA,EAAIqqE,EAAKvzE,GAAG8D,OAAQoF,IAC9BusG,GAAYrzG,EAAKc,IAAIqwE,EAAKvzE,GAAGkJ,GAAKqsG,EAAc,GAIpD,OAAOF,GADPI,GAAan3C,EAAOx6D,OAASyvE,EAAKzvE,SAOpC4xG,WAAY,WACV,IACAxI,EAAKC,EAAK1rG,EAAGzB,EADTuzE,EAAOtvE,EAAM9D,KAAKmE,WAEtB,GAAIyhG,EAASxyB,EAAK,IAChB,OAAO,EAAIqtB,EAAMqM,SAASrB,IAAIr4B,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAEvD,IAAI6hC,EAAcxU,EAAMwU,YAAY7hC,GAGpC,IAFA25B,EAAM35B,EAAKzvE,OAAS,EACpBrC,EAAI,EACCzB,EAAI,EAAGA,EAAIuzE,EAAKzvE,OAAQ9D,IAC3ByB,GAAQ8xE,EAAKvzE,GAAG8D,OAGlB,OADAqpG,EAAM1rG,EAAIyrG,EAAM,EACT,EAAItM,EAAMqM,SAASrB,IAAIwJ,EAAalI,EAAKC,IAGlDwI,MAAO,SAAeC,EAAQ1I,EAAKC,GACjC,OAAO,EAAIvM,EAAMqM,SAASrB,IAAIgK,EAAQ1I,EAAKC,MAI/CvM,EAAMv0E,OAAOu0E,EAAMvuD,GAAI,CACrB+iE,YAAa,WACX,OAAOxU,EAAMwU,YAAY7wG,KAAKkmE,YAGhCorC,UAAW,WACT,IACI71G,EADAyB,EAAI,EAER,IAAKzB,EAAI,EAAGA,EAAIuE,KAAKT,OAAQ9D,IAC3ByB,GAAQ8C,KAAKvE,GAAG8D,OAElB,OAAO88F,EAAM+U,MAAMpxG,KAAK6wG,cAAe7wG,KAAKT,OAAS,EAAGrC,EAAI8C,KAAKT,WAKrE88F,EAAMv0E,OAAO,CAIXypF,OAAQ,WACN,IACIC,EAAOC,EAAO35B,EAAIC,EAAI25B,EADtB1iC,EAAOtvE,EAAM9D,KAAKmE,WAetB,OAbIyhG,EAASxyB,EAAK,KACdwiC,EAAQxiC,EAAK,GACbyiC,EAAQziC,EAAK,GACb8I,EAAK9I,EAAK,GACV+I,EAAK/I,EAAK,GACV0iC,EAAK1iC,EAAK,KAEVwiC,EAAQnV,EAAMx3B,KAAKmK,EAAK,IACxByiC,EAAQpV,EAAMx3B,KAAKmK,EAAK,IACxB8I,EAAK9I,EAAK,GAAGzvE,OACbw4E,EAAK/I,EAAK,GAAGzvE,OACbmyG,EAAK1iC,EAAK,IAEPnxE,EAAKO,IAAIozG,EAAQC,IAAUC,EAAK7zG,EAAKkB,MAAM,EAAI+4E,EAAK,EAAIC,GAAM,KAOvE45B,MAAO,WACL,IAEIJ,EAFAviC,EAAOtvE,EAAM9D,KAAKmE,WAGF,IAAhBivE,EAAKzvE,QACPgyG,EAASviC,EAAK,GACdA,EAAOA,EAAKtvE,MAAM,IACO,IAAhBsvE,EAAKzvE,QACdgyG,EAASlV,EAAMkV,OAAOviC,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC/DA,EAAOA,EAAKtvE,MAAM,KAElB6xG,EAASlV,EAAMkV,OAAOviC,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAC7CA,EAAOA,EAAKtvE,MAAM,IAGpB,IAAIxC,EAAI8xE,EAAK,GACT1rE,EAAI0rE,EAAK,GAEb,OAAO,EAAIqtB,EAAMqO,MAAMrD,IAAIkK,EAAQjuG,EAAGpG,EAAIoG,IAG5CsuG,SAAU,SAAkB/3F,GAM1B,IALA,IAAI63F,EAAKrV,EAAMkC,YAAY1kF,GACvBg4F,EAAQh4F,EAAO3Z,KAAI,SAAUu8F,GAAM,OAAOJ,EAAMx3B,KAAK43B,MACrDv/F,EAAI2c,EAAO+jB,QAAO,SAAU1gC,EAAGu/F,GAAM,OAAOv/F,EAAIu/F,EAAIl9F,SAAU,GAE9D+nE,EAAU,GACL7rE,EAAI,EAAGA,EAAIoe,EAAOta,SAAU9D,EACjC,IAAK,IAAIkJ,EAAIlJ,EAAI,EAAGkJ,EAAIkV,EAAOta,SAAUoF,EAAG,CACxC,IAAIpH,EAAI8+F,EAAMsV,MAAME,EAAMp2G,GAAIo2G,EAAMltG,GAAIkV,EAAOpe,GAAG8D,OAAQsa,EAAOlV,GAAGpF,OAAQmyG,EAAIx0G,EAAG2c,EAAOta,QAC1F+nE,EAAQ1mE,KAAK,CAAC,CAACnF,EAAGkJ,GAAIpH,IAI9B,OAAO+pE,KAKX+0B,EAAMv0E,OAAO,CAIXgqF,SAAU,WACR,IAEAC,EAFI/iC,EAAOtvE,EAAM9D,KAAKmE,WACtBqrG,EAAM,IAAI3rG,MAAM,GAWhB,OAREsyG,EADkB,IAAhB/iC,EAAKzvE,OACE1B,EAAKO,IAAIi+F,EAAM3qB,OAAO+2B,IAAIz5B,EAAK,GAAK,EAAG,EAAG,GACjCA,EAAK,GAAKnxE,EAAKkB,KAAKiwE,EAAK,KAElCnxE,EAAKO,IAAIi+F,EAAM3qB,OAAO+2B,IAAIz5B,EAAK,GAAK,EAAG,EAAG,GACjCqtB,EAAMiC,MAAMtvB,EAAK,IAAMnxE,EAAKkB,KAAKiwE,EAAK,GAAGzvE,SAE7D6rG,EAAI,GAAKp8B,EAAK,GAAK+iC,EACnB3G,EAAI,GAAKp8B,EAAK,GAAK+iC,EACZ3G,GAMT4G,IAAK,WACH,IAEAD,EAFI/iC,EAAOtvE,EAAM9D,KAAKmE,WACtBqrG,EAAM,IAAI3rG,MAAM,GAWhB,OAREsyG,EADkB,IAAhB/iC,EAAKzvE,OACE1B,EAAKO,IAAIi+F,EAAMkN,SAASd,IAAIz5B,EAAK,GAAK,EAAGA,EAAK,GAAK,GAC1CA,EAAK,GAAKnxE,EAAKkB,KAAKiwE,EAAK,KAElCnxE,EAAKO,IAAIi+F,EAAMkN,SAASd,IAAIz5B,EAAK,GAAK,EAAGA,EAAK,GAAGzvE,OAAS,GACjD88F,EAAMiC,MAAMtvB,EAAK,IAAI,GAAQnxE,EAAKkB,KAAKiwE,EAAK,GAAGzvE,SAEnE6rG,EAAI,GAAKp8B,EAAK,GAAK+iC,EACnB3G,EAAI,GAAKp8B,EAAK,GAAK+iC,EACZ3G,GAGT6G,YAAa,SAAqBC,EAAQtpE,GACxC,OAAOspE,EAAStpE,KAIpByzD,EAAMv0E,OAAOu0E,EAAMvuD,GAAI,CACrBgkE,SAAU,SAAkBp1G,EAAOksC,GACjC,OAAOyzD,EAAMyV,SAASp1G,EAAOksC,EAAO5oC,KAAKkmE,YAG3C8rC,IAAK,SAAat1G,EAAOksC,GACvB,OAAOyzD,EAAM2V,IAAIt1G,EAAOksC,EAAO5oC,KAAKkmE,cAexCm2B,EAAMv0E,OAAOu0E,EAAMvuD,GAAI,CACrBqkE,gCAAiC,SAAyCruE,EAAIg0C,EAAIzxC,EAAI0xC,GACpF,IAAIzsE,EAAIglG,EAAwBxsE,EAAIg0C,EAAIzxC,EAAI0xC,GAC5C,OAAOskB,EAAMoU,MAAMnlG,EAAG,IAGxB8mG,gCAAiC,SAAyCtuE,EAAIg0C,EAAIzxC,EAAI0xC,GACpF,IAAIzsE,EAAIglG,EAAwBxsE,EAAIg0C,EAAIzxC,EAAI0xC,GAC5C,OAAOskB,EAAMoU,MAAMnlG,EAAG,MA9U1B,CAkVE+wF,EAAOx+F,MACTw+F,EAAMgW,OAAS,WAgBb,SAASC,EAAIC,EAAOC,GAClB,IAAIC,EAAOF,EAAMhzG,OACbmzG,EAAWF,EAAK,GAAGjzG,OAAS,EAC5BozG,EAAWF,EAAKC,EAAW,EAC3BE,EAAOvW,EAAM6R,MAAMsE,EAAMD,GACzBM,EACAxW,EAAM0P,SAASyG,EAAMI,EAAK1yG,KAAI,SAASpB,GAAK,MAAO,CAACA,OAC/CoB,KAAI,SAAS3C,GAAK,OAAOA,EAAE,MAChCu1G,EAAQzW,EAAMwP,SAAS0G,EAAOM,GAC9BE,EAAO1W,EAAMx3B,KAAK0tC,GAKlBS,EAAM3W,EAAM33D,IAAImuE,EAAQ3yG,KAAI,SAASC,GACvC,OAAOtC,KAAKc,IAAIwB,EAAI4yG,EAAM,OAExBE,EAAM5W,EAAM33D,IAAI6tE,EAAMryG,KAAI,SAASoF,EAAG7J,GACxC,OAAOoC,KAAKc,IAAI2G,EAAIutG,EAAQp3G,GAAI,OAE9By3G,EAAMF,EAAMC,EAEhB,MAAO,CACHT,KAAKA,EACLD,MAAMA,EACNE,KAAKA,EACLC,SAASA,EACTC,SAASA,EACTC,KAAKA,EACLC,QAAQA,EACRC,MAAMA,EACNC,KAAKA,EACLG,IAAIA,EACJF,IAAIA,EACJC,IAAIA,EACJE,GAdMH,EAAME,GAoBlB,SAASE,EAAOC,GACd,IAzDmBb,EACfc,EAwDAC,GAzDef,EAyDYa,EAAMb,KAxDjCc,EAAYd,EAAK,GAAGjzG,OACR88F,EAAM8F,OAAOmR,GAAWpzG,KAAI,SAASszG,GACnD,IAAIC,EACApX,EAAM8F,OAAOmR,GAAWpnG,QAAO,SAASzQ,GAAG,OAAOA,IAAI+3G,KAC1D,OAAOlB,EAAIjW,EAAM1gE,IAAI62E,EAAMgB,GAAatzG,KAAI,SAASpB,GAAI,OAAOA,EAAE,MACvDu9F,EAAM1gE,IAAI62E,EAAMiB,QAqDzBC,EAAW71G,KAAKkB,KAAKs0G,EAAMJ,IAAOI,EAAc,UAChDM,EAAYJ,EAAarzG,KAAI,SAASutD,GACxC,IAAIylD,EAAMzlD,EAAIylD,IACVC,EAAK1lD,EAAI0lD,GACb,OAAOO,EAAW71G,KAAKkB,KAAKm0G,GAAO,EAAIC,OAErCS,EAAaP,EAAMT,KAAK1yG,KAAI,SAAS0yG,EAAMn3G,GAC7C,OAAQm3G,EAAO,GAAKe,EAAUl4G,MAE5Bo4G,EAASD,EAAW1zG,KAAI,SAASvD,GACnC,IAAIm3G,EAAUzX,EAAMkN,SAASlC,IAAI1qG,EAAG02G,EAAMV,UAC1C,OAAiD,GAAzCmB,EAAU,GAAM,EAAIA,EAAUA,MAEpCh4G,EAAIugG,EAAMkN,SAASd,IAAI,KAAO4K,EAAMV,UACpCoB,EAAaV,EAAMT,KAAK1yG,KAAI,SAAS0yG,EAAMn3G,GAC7C,IAAIM,EAAID,EAAI63G,EAAUl4G,GACtB,MAAO,CAACm3G,EAAO72G,EAAG62G,EAAO72G,MAE3B,MAAO,CACHi4G,GAAIL,EACJh3G,EAAGi3G,EACHr2G,EAAGs2G,EACHH,SAAUA,EACVK,WAAYA,GA4BlB,MAAO,CAAEzB,IAdT,SAAkBC,EAAOC,GACvB,IAAIa,EAAQf,EAAIC,EAAMC,GAClB5B,EAAQwC,EAAOC,GACfjC,EAbN,SAAgBiC,GACd,IAEoBv0G,EAAGg5E,EAAIC,EAFvBk8B,EACCZ,EAAMF,GAAKE,EAAMX,WAAc,EAAIW,EAAMF,IAAME,EAAMV,UAK1D,MAAO,CAAEsB,YAAaA,EAAa/B,OADtB,GAHOpzG,EAGEm1G,EAHCn8B,EAGYu7B,EAAMX,SAHd36B,EAGwBs7B,EAAMV,SAFhDtW,EAAMp0D,KAAKo/D,IAAIvoG,GAAKi5E,EAAKD,EAAKh5E,GAAIg5E,EAAK,EAAGC,EAAK,KAS5Cm8B,CAAOb,GAGfc,EACA,GAAK,EAAId,EAAMF,MAAQE,EAAMZ,KAAO,GAAMY,EAAc,UAI5D,OAHAA,EAAM12G,EAAIi0G,EACVyC,EAAMlzG,EAAIixG,EACViC,EAAMc,UAAYA,EACXd,IA5GI,GA4HfhX,EAAMv0E,OAAO,CACXssF,aAAc,WAMZ,IADA,IAAIC,EAAa,IAAI50G,MAAMM,UAAUR,QAC7B9D,EAAE,EAAEA,EAAEsE,UAAUR,OAAO9D,IAAI,CACjC,IAAIme,EAAQ,CAAC,GACby6F,EAAW54G,GAAIme,EAAMuc,OAAOp2B,UAAUtE,IAExC,OAAO4gG,EAAMgY,IAIfC,cAAe,WAIb,IADA,IAAID,EAAa,IAAI50G,MAAMM,UAAU,GAAGR,QAChC9D,EAAE,EAAEA,EAAEsE,UAAU,GAAGR,OAAO9D,IAAI,CACpC,IAAIme,EAAQ,CAAC,GACby6F,EAAW54G,GAAIme,EAAMuc,OAAOp2B,UAAU,GAAGtE,IAE3C,OAAO4gG,EAAMgY,IAIfE,cAAe,SAAuBC,GAGpC,IADA,IAAIC,EAAO,IAAIh1G,MAAM+0G,EAAKj1G,QAClB9D,EAAE,EAAEA,EAAE+4G,EAAKj1G,OAAO9D,IACxBg5G,EAAKh5G,GAAK+4G,EAAK/4G,GAEjB,OAAO4gG,EAAMiY,cAAcG,IAI7BC,aAAc,SAAsB96F,GAClC,OAAOyiF,EAAMziF,GAAOqnF,aAGtB0T,cAAe,SAAuBH,GACpC,OAAOA,EAAKvT,aAGd2T,WAAY,SAAoBv+E,EAAEC,GAChC,IAAI76B,EAAGkJ,EAAGrB,EAAGq6B,EAAQ+G,EACrB,GAAIrO,EAAE0rE,QAAUzrE,EAAE0F,OAAQ,CACxB,GAAG1F,EAAE0F,OAAO,EAAE,CAEZ,IADA2B,EAAS,GACJliC,EAAI,EAAGA,EAAI46B,EAAE2F,OAAQvgC,IAExB,IADAkiC,EAAOliC,GAAK,GACPkJ,EAAI,EAAGA,EAAI2xB,EAAEyrE,OAAQp9F,IAAK,CAE7B,IADA+/B,EAAM,EACDphC,EAAI,EAAGA,EAAI+yB,EAAE0rE,OAAQz+F,IACxBohC,GAAOrO,EAAE6vC,UAAUzqE,GAAG6H,GAAKgzB,EAAE4vC,UAAU5iE,GAAGqB,GAE5Cg5B,EAAOliC,GAAGkJ,GAAK+/B,EAGnB,OAAO23D,EAAM1+D,GAGf,IADAA,EAAS,GACJliC,EAAI,EAAGA,EAAI46B,EAAE2F,OAAQvgC,IAExB,IADAkiC,EAAOliC,GAAK,GACPkJ,EAAI,EAAGA,EAAI2xB,EAAEyrE,OAAQp9F,IAAK,CAE7B,IADA+/B,EAAM,EACDphC,EAAI,EAAGA,EAAI+yB,EAAE0rE,OAAQz+F,IACxBohC,GAAOrO,EAAE6vC,UAAUzqE,GAAG6H,GAAKgzB,EAAE4vC,UAAUvhE,GAEzCg5B,EAAOliC,GAAGkJ,GAAK+/B,EAGnB,OAAO23D,EAAM1+D,KAMjBk3E,QAAS,SAAiBC,EAAMC,GAG9B,IAAIC,EAAW3Y,EAAM4Y,YAAYH,GAE7BI,EAAUJ,EAAM7T,YAChBx3B,EAAO4yB,EAAMuY,WAAWvY,EAAM2Y,GAAUE,GAC5C,OAAO7Y,EAAMuY,WAAWnrC,EAAKsrC,IAI/BI,SAAU,SAAkBL,EAAMC,EAAMrE,GACtC,IAAIzoE,EAAOo0D,EAAMwY,QAAQC,EAAMC,GAE3BvhD,EAAU,CACd,MAAgB,IACZ4hD,EAAW/Y,EAAM+Y,SAASN,EAAO7sE,GACrCurB,EAAQ6hD,KAAOD,EACf,IAAIE,EAAWP,EAAMlwC,OACrBrR,EAAQ+hD,MAAMC,UAAYnZ,EAAMmZ,UAAUT,EAAOK,GAEjD5hD,EAAQ+hD,MAAME,IAAMpZ,EAAMoZ,IAAIL,EAAUE,GACxC9hD,EAAQ+hD,MAAMG,IAAMliD,EAAQ+hD,MAAME,KAAOX,EAAM,GAAGv1G,OAAS,GAE3Di0D,EAAQ+hD,MAAMI,IAAMtZ,EAAMsZ,IAAIZ,EAAOK,GACrC5hD,EAAQ+hD,MAAMK,IACVpiD,EAAQ+hD,MAAMI,KAAOZ,EAAMx1G,QAAUu1G,EAAM,GAAGv1G,OAAS,GAAK,GAEhEi0D,EAAQ+hD,MAAMM,IAAMxZ,EAAMwZ,IAAId,EAAOO,GACrC9hD,EAAQ+hD,MAAMO,IAAMtiD,EAAQ+hD,MAAMM,KAAOd,EAAMx1G,OAAS,GAExDi0D,EAAQ+hD,MAAMQ,GAAK,EAAKviD,EAAQ+hD,MAAMI,IAAMniD,EAAQ+hD,MAAMM,IACtDriD,EAAQ+hD,MAAMQ,GAAK,IAAGviD,EAAQ+hD,MAAMQ,GAAK,GAE7CviD,EAAQ+hD,MAAMS,OAASxiD,EAAQ+hD,MAAMG,IAAMliD,EAAQ+hD,MAAMK,IACzDpiD,EAAQ+hD,MAAMrD,OACV7V,EAAM8U,WAAW39C,EAAQ+hD,MAAMS,OACdlB,EAAM,GAAGv1G,OAAS,EAClBw1G,EAAMx1G,QAAUu1G,EAAM,GAAGv1G,OAAS,GAAK,GAE5Di0D,EAAQ+hD,MAAMU,KAAOp4G,KAAKkB,KAAKy0D,EAAQ+hD,MAAMK,KAE7CpiD,EAAQ+hD,MAAMW,MAAQ,EAAK1iD,EAAQ+hD,MAAMK,IAAMpiD,EAAQ+hD,MAAMO,IACzDtiD,EAAQ+hD,MAAMW,MAAQ,IAAG1iD,EAAQ+hD,MAAMW,MAAQ,GAEnD1iD,EAAQj4B,MAAQ,IAAI97B,MAAMq1G,EAAM,GAAGv1G,QAInC,IAHA,IACI42G,EAAK5+E,EAAIg0E,EADT6K,EAAQ/Z,EAAM4Y,YAAYH,GAGtBr5G,EAAE,EAAGA,EAAEwsC,EAAK1oC,OAAO9D,IACzB06G,EAAIt4G,KAAKkB,KAAKy0D,EAAQ+hD,MAAMK,IAAM/3G,KAAKO,IAAIg4G,EAAM36G,GAAGA,KACpD87B,EAAI15B,KAAKO,IAAI6pC,EAAKxsC,GAAK06G,GACvB5K,EAAIlP,EAAMuU,MAAMr5E,EAAIw9E,EAAMx1G,OAASu1G,EAAM,GAAGv1G,OAAS,EAAGmxG,GAExDl9C,EAAQj4B,MAAM9/B,GAAG,CAACwsC,EAAKxsC,GAAI06G,EAAK5+E,EAAIg0E,GAItC,OADA/3C,EAAQqhD,QAAU5sE,EACXurB,GAGT6iD,SAAU,SAAkBvB,GAC1B,OAAOzY,EAAMuY,WAAWE,EAAM7T,YAAY6T,IAI5CG,YAAa,SAAqBH,GAChC,IAAIwB,EAAQja,EAAMuY,WAAWE,EAAM7T,YAAY6T,GAE/C,OADezY,EAAMoM,IAAI6N,IAI3BlB,SAAU,SAAkBN,EAAO7sE,GACjC,IAAIotE,EAAOhZ,EAAMuY,WAAWE,EAAO7sE,GACnC,OAAO,IAAIo0D,EAAMgZ,IAGnBG,UAAW,SAAmBT,EAAOK,GACnC,OAAO/Y,EAAMka,eAAexB,EAAOK,IAGrCK,IAAK,SAAaL,EAAUE,GAE1B,IADA,IAAIG,EAAM,EACFh6G,EAAI,EAAGA,EAAI25G,EAAS71G,OAAQ9D,IAClCg6G,GAAO53G,KAAKc,IAAIy2G,EAAS35G,GAAK65G,EAAU,GAE1C,OAAOG,GAGTE,IAAK,SAAaZ,EAAOK,GAEvB,IADA,IAAIO,EAAM,EACFl6G,EAAI,EAAGA,EAAIs5G,EAAMx1G,OAAQ9D,IAC/Bk6G,GAAO93G,KAAKc,IAAIo2G,EAAMt5G,GAAK25G,EAAS35G,GAAI,GAE1C,OAAOk6G,GAGTE,IAAK,SAAad,EAAOO,GAEvB,IADA,IAAIO,EAAM,EACFp6G,EAAI,EAAGA,EAAIs5G,EAAMx1G,OAAQ9D,IAC/Bo6G,GAAOh4G,KAAKc,IAAIo2G,EAAMt5G,GAAK65G,EAAU,GAEvC,OAAOO,GAGTU,eAAgB,SAAwBlgF,EAAEC,GAExC,IADA,IAAI80E,EAAM,IAAI3rG,MAAM42B,EAAE92B,QACd9D,EAAE,EAAEA,EAAE46B,EAAE92B,OAAO9D,IAAI,CACzB2vG,EAAI3vG,GAAK,IAAIgE,MAAM42B,EAAE56B,GAAG8D,QACxB,IAAI,IAAIoF,EAAE,EAAEA,EAAE0xB,EAAE56B,GAAG8D,OAAOoF,IACxBymG,EAAI3vG,GAAGkJ,GAAG0xB,EAAE56B,GAAGkJ,GAAG2xB,EAAE76B,GAAGkJ,GAG3B,OAAO03F,EAAM+O,MAIf/O,EAAMA,MAAQA,EAEPA,I,0u3GCjzJT,IAAIz+F,EAAKC,KAAKC,GACVG,EAAM,EAAIL,EAEV44G,EAAav4G,EADH,KAGd,SAASw4G,IACPz2G,KAAK68B,IAAM78B,KAAK+8B,IAChB/8B,KAAK88B,IAAM98B,KAAKg9B,IAAM,KACtBh9B,KAAKyB,EAAI,GAGX,SAASuzB,IACP,OAAO,IAAIyhF,EAGbA,EAAKp5G,UAAY23B,EAAK33B,UAAY,CAChCkD,YAAak2G,EACbj5E,OAAQ,SAAS1+B,EAAGwG,GAClBtF,KAAKyB,GAAK,KAAOzB,KAAK68B,IAAM78B,KAAK88B,KAAOh+B,GAAK,KAAOkB,KAAK+8B,IAAM/8B,KAAKg9B,KAAO13B,IAE7Ei4B,UAAW,WACQ,OAAbv9B,KAAK88B,MACP98B,KAAK88B,IAAM98B,KAAK68B,IAAK78B,KAAKg9B,IAAMh9B,KAAK+8B,IACrC/8B,KAAKyB,GAAK,MAGd67B,OAAQ,SAASx+B,EAAGwG,GAClBtF,KAAKyB,GAAK,KAAOzB,KAAK88B,KAAOh+B,GAAK,KAAOkB,KAAKg9B,KAAO13B,IAEvDoxG,iBAAkB,SAASvsG,EAAIw2B,EAAI7hC,EAAGwG,GACpCtF,KAAKyB,GAAK,MAAQ0I,EAAM,MAAQw2B,EAAM,KAAO3gC,KAAK88B,KAAOh+B,GAAK,KAAOkB,KAAKg9B,KAAO13B,IAEnFs3B,cAAe,SAASzyB,EAAIw2B,EAAIC,EAAIC,EAAI/hC,EAAGwG,GACzCtF,KAAKyB,GAAK,MAAQ0I,EAAM,MAAQw2B,EAAM,MAAQC,EAAM,MAAQC,EAAM,KAAO7gC,KAAK88B,KAAOh+B,GAAK,KAAOkB,KAAKg9B,KAAO13B,IAE/GqxG,MAAO,SAASxsG,EAAIw2B,EAAIC,EAAIC,EAAItkC,GAC9B4N,GAAMA,EAAIw2B,GAAMA,EAAIC,GAAMA,EAAIC,GAAMA,EAAItkC,GAAKA,EAC7C,IAAI2N,EAAKlK,KAAK88B,IACV4D,EAAK1gC,KAAKg9B,IACV45E,EAAMh2E,EAAKz2B,EACX0sG,EAAMh2E,EAAKF,EACXY,EAAMr3B,EAAKC,EACXq3B,EAAMd,EAAKC,EACXm2E,EAAQv1E,EAAMA,EAAMC,EAAMA,EAG9B,GAAIjlC,EAAI,EAAG,MAAM,IAAIsJ,MAAM,oBAAsBtJ,GAGjD,GAAiB,OAAbyD,KAAK88B,IACP98B,KAAKyB,GAAK,KAAOzB,KAAK88B,IAAM3yB,GAAM,KAAOnK,KAAKg9B,IAAM2D,QAIjD,GAAMm2E,EApDD,KAyDL,GAAMj5G,KAAKO,IAAIojC,EAAMo1E,EAAMC,EAAMt1E,GAzD5B,MAyDgDhlC,EAKrD,CACH,IAAIw6G,EAAMn2E,EAAK12B,EACX8sG,EAAMn2E,EAAKH,EACXu2E,EAAQL,EAAMA,EAAMC,EAAMA,EAC1BK,EAAQH,EAAMA,EAAMC,EAAMA,EAC1BG,EAAMt5G,KAAKkB,KAAKk4G,GAChBG,EAAMv5G,KAAKkB,KAAK+3G,GAChBp7G,EAAIa,EAAIsB,KAAKmB,KAAKpB,EAAKC,KAAKoB,MAAMg4G,EAAQH,EAAQI,IAAU,EAAIC,EAAMC,KAAS,GAC/EC,EAAM37G,EAAI07G,EACVE,EAAM57G,EAAIy7G,EAGVt5G,KAAKO,IAAIi5G,EAAM,GA1EX,OA2ENr3G,KAAKyB,GAAK,KAAO0I,EAAKktG,EAAM91E,GAAO,KAAOZ,EAAK02E,EAAM71E,IAGvDxhC,KAAKyB,GAAK,IAAMlF,EAAI,IAAMA,EAAI,WAAailC,EAAMu1E,EAAMx1E,EAAMy1E,GAAQ,KAAOh3G,KAAK88B,IAAM3yB,EAAKmtG,EAAMV,GAAO,KAAO52G,KAAKg9B,IAAM2D,EAAK22E,EAAMT,QApBtI72G,KAAKyB,GAAK,KAAOzB,KAAK88B,IAAM3yB,GAAM,KAAOnK,KAAKg9B,IAAM2D,UAuBxDmC,IAAK,SAAShkC,EAAGwG,EAAG/I,EAAGymC,EAAIC,EAAIs0E,GAC7Bz4G,GAAKA,EAAGwG,GAAKA,EAAWiyG,IAAQA,EAChC,IAAIx1E,GADYxlC,GAAKA,GACRsB,KAAKU,IAAIykC,GAClBhB,EAAKzlC,EAAIsB,KAAKe,IAAIokC,GAClB94B,EAAKpL,EAAIijC,EACTrB,EAAKp7B,EAAI08B,EACTV,EAAK,EAAIi2E,EACTr0E,EAAKq0E,EAAMv0E,EAAKC,EAAKA,EAAKD,EAG9B,GAAIzmC,EAAI,EAAG,MAAM,IAAIsJ,MAAM,oBAAsBtJ,GAGhC,OAAbyD,KAAK88B,IACP98B,KAAKyB,GAAK,IAAMyI,EAAK,IAAMw2B,GAIpB7iC,KAAKO,IAAI4B,KAAK88B,IAAM5yB,GAnGnB,MAmGoCrM,KAAKO,IAAI4B,KAAKg9B,IAAM0D,GAnGxD,QAoGR1gC,KAAKyB,GAAK,IAAMyI,EAAK,IAAMw2B,GAIxBnkC,IAGD2mC,EAAK,IAAGA,EAAKA,EAAKjlC,EAAMA,GAGxBilC,EAAKszE,EACPx2G,KAAKyB,GAAK,IAAMlF,EAAI,IAAMA,EAAI,QAAU+kC,EAAK,KAAOxiC,EAAIijC,GAAM,KAAOz8B,EAAI08B,GAAM,IAAMzlC,EAAI,IAAMA,EAAI,QAAU+kC,EAAK,KAAOthC,KAAK88B,IAAM5yB,GAAM,KAAOlK,KAAKg9B,IAAM0D,GAIrJwC,EAnHC,OAoHRljC,KAAKyB,GAAK,IAAMlF,EAAI,IAAMA,EAAI,SAAW2mC,GAAMtlC,GAAO,IAAM0jC,EAAK,KAAOthC,KAAK88B,IAAMh+B,EAAIvC,EAAIsB,KAAKU,IAAI0kC,IAAO,KAAOjjC,KAAKg9B,IAAM13B,EAAI/I,EAAIsB,KAAKe,IAAIqkC,OAGlJ+D,KAAM,SAASloC,EAAGwG,EAAG2K,EAAG6W,GACtB9mB,KAAKyB,GAAK,KAAOzB,KAAK68B,IAAM78B,KAAK88B,KAAOh+B,GAAK,KAAOkB,KAAK+8B,IAAM/8B,KAAKg9B,KAAO13B,GAAK,MAAQ2K,EAAK,MAAQ6W,EAAK,KAAQ7W,EAAK,KAEzHpM,SAAU,WACR,OAAO7D,KAAKyB,IAID,O;;;;;;;;;ACvHf,IAAI+1G,EAAU,EAAQ;;;GAMtBj8G,EAAQiN,KAAO,EAAQ;;;;AAMvBjN,EAAQ+K,KAAO,EAAQ;;;;AAKvB/K,EAAQk8G,YAAc,EAAQ;;;;AAM9Bl8G,EAAQm8G,WAAa,EAAQ;;;;AAM7Bn8G,EAAQo8G,UAAY,EAAQ;;;;AAM5Bp8G,EAAQu8F,QAAU,EAAQ;;;;AAM1Bv8F,EAAQq8G,WAAa,EAAQ;;;;AAM7Br8G,EAAQ+yC,KAAO,EAAQ;;;;AAMvB/yC,EAAQs8G,cAAgB,EAAQ;;;;AAMhCt8G,EAAQu8G,IAAM,EAAQ;;;;AAMtBv8G,EAAQw8G,YAAcP,EAAQO;;;;AAM9Bx8G,EAAQy8G,YAAcR,EAAQQ;;;;AAM9Bz8G,EAAQg8F,QAAU,EAAQ;;;;AAM1Bh8F,EAAQmvD,YAAc,EAAQ;;;;AAM9BnvD,EAAQ08G,UAAY,EAAQ;;;;AAM5B18G,EAAQ28G,kBAAoB,EAAQ;;;;AAMpC38G,EAAQ48G,gBAAkB,EAAQ;;;;AAMlC58G,EAAQ68G,mBAAqB,EAAQ;;;;AAMrC78G,EAAQ88G,yBAA2B,EAAQ;;;;AAM3C98G,EAAQ+8G,iBAAmB,EAAQ;;;;AAMnC/8G,EAAQg9G,gCAAkC,EAAQ;;;;AAMlDh9G,EAAQi9G,2BAA6B,EAAQ;;;;AAM7Cj9G,EAAQk9G,WAAa,EAAQ;;;;AAM7Bl9G,EAAQm9G,QAAU,EAAQ;;;;AAM1Bn9G,EAAQo9G,eAAiB,EAAQ;;;;AAMjCp9G,EAAQowE,eAAiB,EAAQ;;;;AAMjCpwE,EAAQuI,MAAQ,EAAQ,M,6BC7HxB,SAASk0G,EAAYhiF,EAAKh6B,GACxB,OAAI,MAAOg6B,GAKJh6B,KAAQG,OAAO65B,GAsBxB,SAAS4iF,EAAU5jF,GAGjB,OAFUA,EAAKjtB,QAAQ,aAAc,QACrBpC,MAAM,mBACTzF,KAAI,SAAoBxD,GACnC,IACIm8G,EADS,cACKjzG,KAAKlJ,GAQvB,OANIm8G,EACO,CAAEp9G,EAAG6+B,WAAWu+E,EAAK,KAErB,CAAEt7G,EAAGb,EAAMqL,QAAQ,eAAgB,UAsBlD,SAAS+wG,EAAqB9iF,EAAK+iF,EAAQC,GACzC,IAAIC,EAAiBjjF,EACjBkd,EAAM,KACV8lE,OAAkC,IAAdA,EAA4BD,EAAOx5G,OAASy5G,EAEhE,IAAK,IAAIv9G,EAAI,EAAGA,EAAIu9G,EAAWv9G,IAAK,CAClC,IAAIy9G,EAAOH,EAAOt9G,GACdw9G,IAEAA,OADoB,IAAXC,EAAK37G,EACG07G,EAAeC,EAAKz9G,GAEpBw9G,EAAeC,EAAK37G,GAGnC9B,IAAOu9G,EAAY,IACrB9lE,EAAM+lE,IAKZ,OAAO/lE,EAuET,SAAS6kE,EAAY/hF,EAAKhB,GACxB,IAAI+jF,EAASH,EAAU5jF,GACnBu8B,EAAOwnD,EAAOA,EAAOx5G,OAAS,GAC9B+7B,EAAO,CACTvT,OAAQgxF,EAAOx5G,OAAS,EAAIu5G,EAAqB9iF,EAAK+iF,EAAQA,EAAOx5G,OAAS,GAAKy2B,EACnFh6B,KAAMu1D,EAAKh0D,GAAKg0D,EAAK91D,EACrBiB,MAAOo8G,EAAqB9iF,EAAK+iF,IAInC,OAFAz9E,EAAK69E,OAASnB,EAAY18E,EAAKvT,OAAQuT,EAAKt/B,MAErCs/B,EA8ET9/B,EAAOD,QAAU,CACfy8G,YAAaA,EACbD,YAAaA,EACbqB,aA/CF,SAAsBpjF,EAAKhB,GAEzB,OADW+iF,EAAY/hF,EAAKhB,GAChBt4B,OA8CZ28G,aAVF,SAAsBrjF,EAAKhB,EAAM2/B,GAG/B,OA3IF,SAA8B3+B,EAAK2+B,EAAKokD,GAKtC,IAJA,IAAIO,EAAUtjF,EACVgjF,EAAYD,EAAOx5G,OACnB25G,EAAO,KAEFz9G,EAAI,EAAGA,EAAIu9G,EAAWv9G,IAAK,CAClC,IAAI89G,EAAW,KACXC,EAAU,KAId,GAHAN,EAAOH,EAAOt9G,GAGVA,IAAOu9G,EAAY,EAGrBM,EAFAC,OAA6B,IAAXL,EAAK37G,EAAoB27G,EAAKz9G,EAAIy9G,EAAK37G,GAErCo3D,OACf,QAAsB,IAAXukD,EAAK37G,GAAqB+7G,EAAQJ,EAAK37G,GACvD+7G,EAAUA,EAAQJ,EAAK37G,QAClB,QAAsB,IAAX27G,EAAKz9G,GAAqB69G,EAAQJ,EAAKz9G,GACvD69G,EAAUA,EAAQJ,EAAKz9G,OAClB,CAEL,IAAIguE,EAAOsvC,EAAOt9G,EAAI,GAEtB89G,OAA6B,IAAXL,EAAK37G,EAAoB27G,EAAKz9G,EAAIy9G,EAAK37G,EAEzDi8G,OAA4B,IAAX/vC,EAAKlsE,EAAoB,GAAK,GAC/C+7G,EAAQC,GAAYC,EACpBF,EAAUA,EAAQC,KA+GtBE,CAAqBzjF,EAAK2+B,EADbikD,EAAU5jF,IAEhBgB,K;;;;;;;;;AChRT,IAAIsY,EAAO,EAAQ,IAanB9yC,EAAOD,QAAU,SAAcy6B,EAAKg5C,GAClC,IAAI0qC,EAASprE,EAAKtY,EAAK,UACnBi6D,EAAOjhB,EAAK,GAChB,OAAO0qC,GAAUzpB,EAAOA,I;;;;;;ACN1B,IAAItiD,EAAiB,EAAQ,IACzBW,EAAO,EAAQ,IACfhoC,EAAO,EAAQ,IAEnB9K,EAAOD,QAAU,SAAqBy6B,EAAKgD,GACzC,IAAI2gF,EAAUrrE,EAAKtY,EAAK,WACpB4jF,EAAOtrE,EAAKtY,EAAK,QAErB2jF,EAAUA,EAAUA,EAAU,KAAO,GAErC3jF,EAAMsY,EAAKtY,EAAK,WAChBgD,EAAQA,EAAM94B,KAAI,SAAUvD,GAAK,OAAOA,EAAE8L,kBACpCi0B,OAGN,IAAIyoB,EAAMnsB,EAAM94B,KAAI,SAAUvD,EAAG2E,GAC/B,IAAIu4G,GAAO,CAAE,IAAK,IAAK,IAAK,IAAK,KAAMpzG,QAAQ9J,EAAEwZ,OAAO,IAAM,KAAO,IAErE,OADS6iB,EAAMz5B,OAAS,GAAK+B,IAAU03B,EAAMz5B,OAAS,EAAI,MAAQ,IACtDs6G,EAAM,IAAMl9G,KACvBkK,KAAK,MAEJizG,EAAUxzG,EAAK0vB,GAAKvtB,cAExB,IAAKuwB,EAAM+gF,MAAK,SAAUC,GAAY,OAAOF,IAAYE,KACvD,MAAM,IAAIrsE,EACRgsE,EAAU,yBAA2Bx0D,EAAM,SAAW20D,EAAU,cAChE/3G,EACA63G,K;;;;;;;;;ACrCN,IAAItrE,EAAO,EAAQ,IACfqpE,EAAY,EAAQ,IACpBC,EAAa,EAAQ,IAqBzBp8G,EAAOD,QAAU,SAAoBy6B,EAAKg5C,GACxC,IAAI0qC,EAASprE,EAAKtY,EAAK,UACnB2+B,EAAMrmB,EAAKtY,EAAK,UAChBgkF,EAAWhrC,EAAK,GAChBirC,EAAStC,EAAU3hF,EAAKg5C,GACxBkrC,EAAMR,EAAS1qC,EAAK,GAAKA,EAAK,GAC9B2qC,EAAUrrE,EAAKtY,EAAK,WASxB,MAPkB,mBAARkkF,IAAoBA,EAAMA,KAEpCA,GADAA,EAAMA,GAAO,IAEVnyG,QAAQ,cAAc,WAAc,OAAO6vG,EAAWjjD,MACtD5sD,QAAQ,aAAa,WAAc,OAAO6vG,EAAWqC,MACrDlyG,QAAQ,aAAa,WAAc,OAAO6vG,EAAWoC,MAEjDL,EAAUA,EAAU,KAAOO,EAAMA,I;;;;;;AC7B1C1+G,EAAOD,QAAU,SAAiC4B,GAChD,IAAIwgC,EAAS,GACb,IAAK,IAAI3hC,KAAQmB,EACfwgC,EAAO/8B,KAAK5E,GAEd,OAAO2hC,I;;;;;GChBT,IAAIr3B,EAAO,EAAQ,IACnB,SAAS6zG,IACPn6G,KAAKo6G,KAAO,kBAAoBv8G,KAAKinE,SAAW1hE,KAAKqlB,MAGvD0xF,EAAQ98G,UAAY,CAClBf,IAAK,SAAgBU,GACnB,OAAOA,EAAIgD,KAAKo6G,OAElB/5G,IAAK,SAAgBrD,EAAKN,GACpBP,OAAOk+G,aAAar9G,IACtBb,OAAOC,eAAeY,EAAKgD,KAAKo6G,KAAM,CACpC19G,MAAOA,EACP+uE,cAAc,MAMtB,IAAI6uC,EAAgC,mBAAZtkB,QAAyBA,QAAUmkB;;;;;;;;EAS3D,SAASI,EAAeC,EAAiBC,EAAkBC,GAEzD,IAAKA,GAAcC,EAAYH,IAAoBG,EAAYF,GAC7D,OAAO,KAET,IAAIG,EAAcF,EAAWp+G,IAAIk+G,GACjC,GAAII,EAAa,CACf,IAAIj9E,EAASi9E,EAAYt+G,IAAIm+G,GAC7B,GAAsB,kBAAX98E,EACT,OAAOA,EAGX,OAAO;;;;;;;;EAWT,SAASk9E,EAAWL,EAAiBC,EAAkBC,EAAY/8E,GAEjE,GAAK+8E,IAAcC,EAAYH,KAAoBG,EAAYF,GAA/D,CAGA,IAAIG,EAAcF,EAAWp+G,IAAIk+G,GAC7BI,EACFA,EAAYv6G,IAAIo6G,EAAkB98E,KAElCi9E,EAAc,IAAIN,GACNj6G,IAAIo6G,EAAkB98E,GAClC+8E,EAAWr6G,IAAIm6G,EAAiBI;;;GAuBpC,SAASE,EAAUN,EAAiBC,EAAkB3hF,GAEpD,GAAIA,GAAWA,EAAQiiF,WACrB,OAAOC,EAAmBR,EAAiBC,EAAkB3hF,GAG/D,IAAImiF,EAAeC,EAAYV,EAAiBC,GAChD,OAAqB,OAAjBQ,EACKA,EAIFD,EAAmBR,EAAiBC,EAAkB3hF,GAS/D,SAASoiF,EAAYV,EAAiBC,GAEpC,OAAID,IAAoBC,EAEK,IAApBD,GAAyB,EAAIA,GAAoB,EAAIC,EAK5DD,GAAoBA,GACpBC,GAAqBA,IAOnBE,EAAYH,KAAoBG,EAAYF,IAIzC;;;;;;;;;;;;EAeT,SAASO,EAAmBR,EAAiBC,EAAkB3hF,IAC7DA,EAAUA,GAAW,IACbqiF,SAA8B,IAApBriF,EAAQqiF,UAA4BriF,EAAQqiF,SAAW,IAAIb,GAC7E,IAAIS,EAAajiF,GAAWA,EAAQiiF,WAGhCK,EAAoBb,EAAeC,EAAiBC,EAAkB3hF,EAAQqiF,SAClF,GAA0B,OAAtBC,EACF,OAAOA,EAET,IAAIC,EAAqBd,EAAeE,EAAkBD,EAAiB1hF,EAAQqiF,SACnF,GAA2B,OAAvBE,EACF,OAAOA,EAIT,GAAIN,EAAY,CACd,IAAIO,EAAmBP,EAAWP,EAAiBC,GAEnD,IAAyB,IAArBa,IAAmD,IAArBA,EAEhC,OADAT,EAAWL,EAAiBC,EAAkB3hF,EAAQqiF,QAASG,GACxDA,EAIT,IAAIL,EAAeC,EAAYV,EAAiBC,GAChD,GAAqB,OAAjBQ,EAEF,OAAOA,EAIX,IAAIM,EAAej1G,EAAKk0G,GACxB,GAAIe,IAAiBj1G,EAAKm0G,GAExB,OADAI,EAAWL,EAAiBC,EAAkB3hF,EAAQqiF,SAAS,IACxD,EAITN,EAAWL,EAAiBC,EAAkB3hF,EAAQqiF,SAAS,GAE/D,IAAIx9E,EAKN,SAAkC68E,EAAiBC,EAAkBc,EAAcziF,GACjF,OAAQyiF,GACN,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,OAEH,OAAOT,EAAUN,EAAgB52G,UAAW62G,EAAiB72G,WAC/D,IAAK,UACL,IAAK,SACL,IAAK,WACL,IAAK,UACL,IAAK,UACL,IAAK,QACH,OAAO42G,IAAoBC,EAC7B,IAAK,YACL,IAAK,YACL,IAAK,aACL,IAAK,oBACL,IAAK,aACL,IAAK,cACL,IAAK,aACL,IAAK,cACL,IAAK,eACL,IAAK,eACL,IAAK,QACH,OAAOe,EAAchB,EAAiBC,EAAkB3hF,GAC1D,IAAK;;;;;;;;AACH,OAwBN,SAAqB0hF,EAAiBC,GACpC,OAAOD,EAAgB32G,aAAe42G,EAAiB52G;;;;;;;;GAzB5C43G,CAAYjB,EAAiBC,GACtC,IAAK;;;;;;;;;AACH,OAyFN,SAAwBD,EAAiBC,EAAkB3hF,GACzD,OAAO0iF,EAAcE,EAAoBlB,GAAkBkB,EAAoBjB,GAAmB3hF;;;;;;GA1FvF6iF,CAAenB,EAAiBC,EAAkB3hF,GAC3D,IAAK,WACH,OAAO0iF,EAAc,IAAIjoE,WAAWinE,EAAgBz3E,QAAS,IAAIwQ,WAAWknE,EAAiB13E,QAASjK,GACxG,IAAK,cACH,OAAO0iF,EAAc,IAAIjoE,WAAWinE,GAAkB,IAAIjnE,WAAWknE,GAAmB3hF,GAC1F,IAAK,MAEL,IAAK,MACH,OAAO8iF,EAAapB,EAAiBC,EAAkB3hF,GACzD;;;;;;;;;;AACE,OAiLN,SAAqB0hF,EAAiBC,EAAkB3hF,GACtD,IAAI+iF,EAAeC,EAAkBtB,GACjCuB,EAAgBD,EAAkBrB,GACtC,GAAIoB,EAAat8G,QAAUs8G,EAAat8G,SAAWw8G,EAAcx8G,OAG/D,OAFAs8G,EAAan/E,OACbq/E,EAAcr/E,QACqC,IAA/C8+E,EAAcK,EAAcE;;;;;;;;;;;AA7BpC,SAAmBvB,EAAiBC,EAAkB95G,EAAMm4B,GAC1D,IAAIv5B,EAASoB,EAAKpB,OAClB,GAAe,IAAXA,EACF,OAAO,EAET,IAAK,IAAI9D,EAAI,EAAGA,EAAI8D,EAAQ9D,GAAK,EAC/B,IAAgF,IAA5Eq/G,EAAUN,EAAgB75G,EAAKlF,IAAKg/G,EAAiB95G,EAAKlF,IAAKq9B,GACjE,OAAO,EAGX,OAAO,EAsBEkjF,CAAUxB,EAAiBC,EAAkBoB,EAAc/iF,GAGpE,IAAImjF,EAAkBC,EAAmB1B,GACrC2B,EAAmBD,EAAmBzB,GAC1C,GAAIwB,EAAgB18G,QAAU08G,EAAgB18G,SAAW48G,EAAiB58G,OAGxE,OAFA08G,EAAgBv/E,OAChBy/E,EAAiBz/E,OACV8+E,EAAcS,EAAiBE,EAAkBrjF,GAG1D,GAA4B,IAAxB+iF,EAAat8G,QACc,IAA3B08G,EAAgB18G,QACS,IAAzBw8G,EAAcx8G,QACc,IAA5B48G,EAAiB58G,OACnB,OAAO,EAGT,OAAO;;;;;;;;;GA5MI68G,CAAY5B,EAAiBC,EAAkB3hF,IA7C7CujF,CAAyB7B,EAAiBC,EAAkBc,EAAcziF,GAEvF,OADA+hF,EAAWL,EAAiBC,EAAkB3hF,EAAQqiF,QAASx9E,GACxDA,EAoET,SAASi+E,EAAapB,EAAiBC,EAAkB3hF,GAEvD,GAAI0hF,EAAgBz5G,OAAS05G,EAAiB15G,KAC5C,OAAO,EAET,GAA6B,IAAzBy5G,EAAgBz5G,KAClB,OAAO,EAET,IAAIu7G,EAAgB,GAChBC,EAAiB,GAOrB,OANA/B,EAAgB3gF,SAAQ,SAAuB78B,EAAKN,GAClD4/G,EAAc17G,KAAK,CAAE5D,EAAKN,OAE5B+9G,EAAiB5gF,SAAQ,SAAuB78B,EAAKN,GACnD6/G,EAAe37G,KAAK,CAAE5D,EAAKN,OAEtB8+G,EAAcc,EAAc5/E,OAAQ6/E,EAAe7/E,OAAQ5D;;;;;;;;GAYpE,SAAS0iF,EAAchB,EAAiBC,EAAkB3hF,GACxD,IAAIv5B,EAASi7G,EAAgBj7G,OAC7B,GAAIA,IAAWk7G,EAAiBl7G,OAC9B,OAAO,EAET,GAAe,IAAXA,EACF,OAAO,EAGT,IADA,IAAI+B,GAAS,IACJA,EAAQ/B,GACf,IAA4E,IAAxEu7G,EAAUN,EAAgBl5G,GAAQm5G,EAAiBn5G,GAAQw3B,GAC7D,OAAO,EAGX,OAAO;;;;;;;;AAoCT,SAASojF,EAAmBr3G,GAC1B,GAfF,SAA6BA,GAC3B,MAAyB,oBAAXrI,QACM,iBAAXqI,QACoB,IAApBrI,OAAO65F,UACqB,mBAA5BxxF,EAAOrI,OAAO65F,UAWnBmmB,CAAoB33G,GACtB,IACE,OAAO62G,EAAoB72G,EAAOrI,OAAO65F,aACzC,MAAOomB,GACP,MAAO,GAGX,MAAO;;;;;;GAST,SAASf,EAAoBgB,GAG3B,IAFA,IAAIC,EAAkBD,EAAUjzC,OAC5BmzC,EAAc,CAAED,EAAgBjgH,QACJ,IAAzBigH,EAAgBhzC,MACrBgzC,EAAkBD,EAAUjzC,OAC5BmzC,EAAYh8G,KAAK+7G,EAAgBjgH,OAEnC,OAAOkgH;;;;;;GAST,SAASd,EAAkBj3G,GACzB,IAAIlE,EAAO,GACX,IAAK,IAAI3D,KAAO6H,EACdlE,EAAKC,KAAK5D,GAEZ,OAAO2D,EA2ET,SAASg6G,EAAYj+G,GACnB,OAAiB,OAAVA,GAAmC,iBAAVA,EAvXlClB,EAAOD,QAAUu/G,EACjBt/G,EAAOD,QAAQ++G,WAAaA,G;;;;;;ACzE5B,IAAIuC,EAAO,EAAQ,IACfvuE,EAAO,EAAQ,IACfq9B,EAAiB,EAAQ,IACzBksC,EAAgB,EAAQ,IA4B5Br8G,EAAOD,QAAU,SAAqB60C,EAAKp0C,EAAMC,GAC/CA,OAAoB8F,IAAX9F,EAAuB,aAAiBA,EAEjDE,OAAOC,eAAeg0C,EAAKp0C,EACzB,CAAEM,IAAK,SAASwgH,IAgBPnxC,KAAqBr9B,EAAKtuC,KAAM,aACnCsuC,EAAKtuC,KAAM,OAAQ88G,GAGrB,IAAIn/E,EAAS1hC,EAAOL,KAAKoE,MACzB,QAAe+B,IAAX47B,EACF,OAAOA,EAET,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,GAETtxC,cAAc,M;;;;;;AC/DpB,IAAIktC,EAAiB,EAAQ,IACzBkE,EAAO,EAAQ,IACfvuE,EAAO,EAAQ,IACfoqE,EAAU,EAAQ,IAClBb,EAAgB,EAAQ,IA4B5Br8G,EAAOD,QAAU,SAAmB60C,EAAKp0C,EAAMujE,GAC7C,IAAI09C,EAAgB,WAab3uE,EAAKtuC,KAAM,aACdsuC,EAAKtuC,KAAM,OAAQi9G,GAGrB,IAAIt/E,EAAS4hC,EAAO59D,MAAM3B,KAAMD,WAChC,QAAegC,IAAX47B,EACF,OAAOA,EAET,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,GAGTpE,EAAesE,EAAejhH,GAAM,GACpCo0C,EAAIp0C,GAAQ08G,EAAQuE,EAAejhH,K;;;;;;AC5DrC,IAAI6gH,EAAO,EAAQ,IACfvuE,EAAO,EAAQ,IACfq9B,EAAiB,EAAQ,IACzBksC,EAAgB,EAAQ,IAoC5Br8G,EAAOD,QAAU,SAA2B60C,EAAKp0C,EAAMC,GACrD,IAAIihH,EAAO/gH,OAAOmvE,yBAAyBl7B,EAAKp0C,GAC5C6uD,EAAS,aAETqyD,GAAQ,mBAAsBA,EAAK5gH,MACrCuuD,EAASqyD,EAAK5gH,KAEhBH,OAAOC,eAAeg0C,EAAKp0C,EACzB,CAAEM,IAAK,SAAS6gH,IAgBPxxC,KAAqBr9B,EAAKtuC,KAAM,aACnCsuC,EAAKtuC,KAAM,OAAQm9G,GAMrB,IAAIC,EAAe9uE,EAAKtuC,KAAM,YAC9BsuC,EAAKtuC,KAAM,YAAY,GACvB,IAAI29B,EAAS1hC,EAAO4uD,GAAQjvD,KAAKoE,MAGjC,GAFAsuC,EAAKtuC,KAAM,WAAYo9G,QAERr7G,IAAX47B,EACF,OAAOA,EAGT,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,GAETtxC,cAAc,M;;;;;;ACnFpB,IAAIktC,EAAiB,EAAQ,IACzBkE,EAAO,EAAQ,IACfvuE,EAAO,EAAQ,IACfoqE,EAAU,EAAQ,IAClBb,EAAgB,EAAQ,IAoC5Br8G,EAAOD,QAAU,SAAyB60C,EAAKp0C,EAAMujE,GACnD,IAAI89C,EAAUjtE,EAAIp0C,GACd6uD,EAAS,WACT,MAAM,IAAIhlD,MAAM7J,EAAO,uBAGvBqhH,GAAW,mBAAsBA,IACnCxyD,EAASwyD,GAEX,IAAIC,EAA2B,WAaxBhvE,EAAKtuC,KAAM,aACdsuC,EAAKtuC,KAAM,OAAQs9G,GAMrB,IAAIF,EAAe9uE,EAAKtuC,KAAM,YAC9BsuC,EAAKtuC,KAAM,YAAY,GACvB,IAAI29B,EAAS4hC,EAAO1U,GAAQlpD,MAAM3B,KAAMD,WAGxC,GAFAuuC,EAAKtuC,KAAM,WAAYo9G,QAERr7G,IAAX47B,EACF,OAAOA,EAGT,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,GAGTpE,EAAe2E,EAA0BthH,GAAM,GAC/Co0C,EAAIp0C,GAAQ08G,EAAQ4E,EAA0BthH,K;;;;;;;;;AChFhD,IAAI28G,EAAiB,EAAQ,IACzBkE,EAAO,EAAQ,IACfvuE,EAAO,EAAQ,IACfoqE,EAAU,EAAQ,IAClBb,EAAgB,EAAQ,IAOxB0F,EAAmD,mBAA1BphH,OAAOqhH,eAIhCC,EAAS,aACTC,EAAevhH,OAAO0+F,oBAAoB4iB,GAAQvxG,QAAO,SAASlQ,GACpE,IAAI2hH,EAAWxhH,OAAOmvE,yBAAyBmyC,EAAQzhH,GAMvD,MAAwB,iBAAb2hH,IAGHA,EAASlyC,gBAIf7vE,EAAQo3D,SAAS31D,UAAUzB,KAC3B+F,EAAQqxD,SAAS31D,UAAUsE,MA+B/BnG,EAAOD,QAAU,SAA4B60C,EAAKp0C,EAAMujE,EAAQq+C,GAC9B,mBAArBA,IACTA,EAAmB,cAGrB,IAAIC,EAAoB,CACpBt+C,OAAQA,EACRq+C,iBAAkBA,GAIjBxtE,EAAI0tE,YACP1tE,EAAI0tE,UAAY,IAElB1tE,EAAI0tE,UAAU9hH,GAAQ6hH,EAEtB1hH,OAAOC,eAAeg0C,EAAKp0C,EACzB,CAAEM,IAAK,WACHuhH,EAAkBD,iBAAiBhiH,KAAKoE,MAExC,IAAI+9G,EAAyB,WAgBtBzvE,EAAKtuC,KAAM,aACdsuC,EAAKtuC,KAAM,OAAQ+9G,GAGrB,IAAIpgF,EAASkgF,EAAkBt+C,OAAO59D,MAAM3B,KAAMD,WAClD,QAAegC,IAAX47B,EACF,OAAOA,EAGT,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,GAMT,GAHApE,EAAeoF,EAAwB/hH,GAAM,GAGzCuhH,EAAiB,CAEnB,IAAIlgH,EAAYlB,OAAOY,OAAOiD,MAE9B3C,EAAUzB,KAAOA,EACjByB,EAAUsE,MAAQA,EAClBxF,OAAOqhH,eAAeO,EAAwB1gH,OAG3C,CACiBlB,OAAO0+F,oBAAoBzqD,GACjCvW,SAAQ,SAAUmkF,GAC9B,IAA4C,IAAxCN,EAAaj3G,QAAQu3G,GAAzB,CAIA,IAAIC,EAAK9hH,OAAOmvE,yBAAyBl7B,EAAK4tE,GAC9C7hH,OAAOC,eAAe2hH,EAAwBC,EAAcC,OAKhE,OADApG,EAAc73G,KAAM+9G,GACbrF,EAAQqF,IAEjBtyC,cAAc,M;;;;;;AC/IpB,IAAIoxC,EAAO,EAAQ,IACfhF,EAAgB,EAAQ,IAmC5Br8G,EAAOD,QAAU,SAAkC60C,EAAKp0C,EAAMujE,EAAQq+C,GACpE,IAAIC,EAAoBztE,EAAI0tE,UAAU9hH,GAElCkiH,EAAoBL,EAAkBD,iBAC1CC,EAAkBD,iBAAmB,WACnC,IAAIjgF,EAASigF,EAAiBM,GAAmBtiH,KAAKoE,MACtD,QAAe+B,IAAX47B,EACF,OAAOA,EAGT,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,GAGT,IAAIM,EAAUQ,EAAkBt+C,OAChCs+C,EAAkBt+C,OAAS,WACzB,IAAI5hC,EAAS4hC,EAAO89C,GAAS17G,MAAM3B,KAAMD,WACzC,QAAegC,IAAX47B,EACF,OAAOA,EAGT,IAAIo/E,EAAe,IAAIF,EAAKG,UAE5B,OADAnF,EAAc73G,KAAM+8G,GACbA,K;;;;;;;;;ACxDX,IAAIjlB,EAAU,EAAQ,IAkBtBt8F,EAAOD,QAAU,SAA0BqH,EAAGD,GAC5C,OAAOm1F,EAAQl1F,GAAKk1F,EAAQn1F,IAAM,EAAI,I;;;;;;;;;ACnBxC,IAAI41G,EAAkC,EAAQ,IAgB9C/8G,EAAOD,QAAU,SAAoCy6B,GACnD,OAAO75B,OAAOwE,KAAKq1B,GAAKG,OAAOoiF,EAAgCviF,M,6BCwEjE,IAAI2kE,EAAoB,yDACxB,SAASwjB,EAAgBC,GACvB,IAAIpiH,EAAO,GACX,QAAkC,IAAvBoiH,EAAcpiH,KAAsB,CAE7C,IAAI2J,EAAQsC,OAAOm2G,GAAez4G,MAAMg1F,GACpCh1F,IACF3J,EAAO2J,EAAM,SAGf3J,EAAOoiH,EAAcpiH,KAGvB,OAAOA,EAqDTR,EAAOD,QAAU,CACf8iH,mBAxIF,SAA4BC,EAAQC,GAClC,OAAOA,aAAqB14G,OAASy4G,IAAWC,GAwIhDC,sBArHF,SAA+BF,EAAQC,GACrC,OAAIA,aAAqB14G,MAEhBy4G,EAAO/9G,cAAgBg+G,EAAUh+G,aAAe+9G,aAAkBC,EAAUh+G,aAC1Eg+G,EAAUlhH,qBAAqBwI,OAAS04G,IAAc14G,SAExDy4G,EAAO/9G,cAAgBg+G,GAAaD,aAAkBC,IAgH/DE,kBA5FF,SAA2BH,EAAQI,GACjC,IAAIC,EAAqC,iBAAXL,EAAsBA,EAASA,EAAOjkB,QACpE,OAAIqkB,aAAsB5uG,OACjB4uG,EAAWl2G,KAAKm2G,GACQ,iBAAfD,IACiC,IAA1CC,EAAiBl4G,QAAQi4G,IAwFlChH,WAfF,SAAoB6G,GAClB,IAAIrE,EAAM,GAOV,OANIqE,GAAaA,EAAUlkB,QACzB6f,EAAMqE,EAAUlkB,QACc,iBAAdkkB,IAChBrE,EAAMqE,GAGDrE,GAQP0E,mBA5CF,SAA4BL,GAC1B,IAAIM,EAAkBN,EAWtB,OAVIA,aAAqB14G,MACvBg5G,EAAkBV,EAAgBI,EAAUh+G,aACd,mBAAdg+G,IAIhBM,EAAkBV,EAAgBI,GAAWl4G,QACzC83G,EAAgB,IAAII,IAGnBM,K,cCjHTrjH,EAAOD,QAAUgM,OAAOzD;;;;;;AAPxB,SAAepH,GAGb,OAAOA,GAAUA,I;;;;;;;ACdnB,IAAIqxC,EAAS,EAAQ,IAErBvyC,EAAOD,QAAU,SAAUujH,EAAOlxE;;;;AAKhC,IAAID,EAAiBmxE,EAAMnxE,eACvBW,EAAOV,EAAKU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8ChB,SAAS0uE,EAAWhnF,EAAKkkF,EAAKN,EAAMmF,GAMlC,OALAzwE,EAAKtuC,KAAM,OAAQ45G,GAAQoD,GAC3B1uE,EAAKtuC,KAAM,WAAY++G,GACvBzwE,EAAKtuC,KAAM,SAAUg2B,GACrBsY,EAAKtuC,KAAM,UAAWk6G,GAEftsE,EAAK8qE,QAAQ14G,MA9CtB8+G,EAAM9B,UAAYA,EAiDlB7gH,OAAOC,eAAe4gH,EAAW,eAAgB,CAC/C1gH,IAAK,WAEH,OADAw+B,QAAQ27B,KAAK,+EACN1oB,EAAOm1B,cAEhB7iE,IAAK,SAAS3D,GACZo+B,QAAQ27B,KAAK,+EACb1oB,EAAOm1B,aAAexmE,KAI1BP,OAAOC,eAAe4gH,EAAW,WAAY,CAC3C1gH,IAAK,WAEH,OADAw+B,QAAQ27B,KAAK,uEACN1oB,EAAOo1B,UAEhB9iE,IAAK,SAAS3D,GACZo+B,QAAQ27B,KAAK,uEACb1oB,EAAOo1B,SAAWzmE,KAItBsgH,EAAUtyD,YAAc,SAAU1uD,EAAM8xC,GACtCF,EAAK8c,YAAY1qD,KAAK3C,UAAWrB,EAAM8xC,IAGzCkvE,EAAU/E,UAAY,SAAUj8G,EAAM8xC,GACpCF,EAAKqqE,UAAUj4G,KAAK3C,UAAWrB,EAAM8xC,IAGvCkvE,EAAU5E,mBAAqB,SAAUp8G,EAAM8xC,EAAI8vE,GACjDhwE,EAAKwqE,mBAAmBp4G,KAAK3C,UAAWrB,EAAM8xC,EAAI8vE,IAGpDZ,EAAU9E,kBAAoB,SAAUl8G,EAAM8xC,GAC5CF,EAAKsqE,kBAAkBl4G,KAAK3C,UAAWrB,EAAM8xC,IAG/CkvE,EAAU7E,gBAAkB,SAAUn8G,EAAM8xC,GAC1CF,EAAKuqE,gBAAgBn4G,KAAK3C,UAAWrB,EAAM8xC,IAG7CkvE,EAAU3E,yBAA2B,SAAUr8G,EAAM8xC,EAAI8vE,GACvDhwE,EAAKyqE,yBAAyBr4G,KAAK3C,UAAWrB,EAAM8xC,EAAI8vE,IAkB1DZ,EAAU3/G,UAAU+wC,OAAS,SAAU6hD,EAAMiqB,EAAK8E,EAAWhF,EAAUiF,EAAS97C,GAC9E,IAAI+7C,EAAKtxE,EAAKplC,KAAKxI,KAAMD,WAKzB,IAJI,IAAUojE,IAAUA,GAAW,QAC/BphE,IAAci4G,QAAYj4G,IAAck9G,IAAS97C,GAAW,IAC5D,IAASp1B,EAAOo1B,WAAUA,GAAW,IAEpC+7C,EAAI,CACPhF,EAAMtsE,EAAK8pE,WAAW13G,KAAMD,WAC5B,IAAIk6G,EAASrsE,EAAK+pE,UAAU33G,KAAMD,WAClC,MAAM,IAAI4tC,EAAeusE,EAAK,CAC1BD,OAAQA,EACRD,SAAUA,EACV72C,SAAUA,GACVp1B,EAAmB,aAAI/tC,KAAKouC,OAASE,EAAKtuC,KAAM;;;;;;;;AAYxD7D,OAAOC,eAAe4gH,EAAU3/G,UAAW,OACzC,CAAEf,IAAK,WACH,OAAOgyC,EAAKtuC,KAAM,WAEpBK,IAAK,SAAUs0D,GACbrmB,EAAKtuC,KAAM,SAAU20D,Q;;;;;;;AC1J7Bn5D,EAAOD,QAAU,SAAUshH,EAAMp7G,GAC/B,IAAIu7G,EAAYH,EAAKG,UACjBrvE,EAAiBkvE,EAAKlvE,eACtBW,EAAO7sC,EAAE6sC,KAiSb,SAASi2D,EAAIj+F,EAAM4zG,GACbA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B5zG,EAAOA,EAAKmC,cACZ,IAAIutB,EAAMsY,EAAKtuC,KAAM,UACjBm/G,GAAW,CAAE,IAAK,IAAK,IAAK,IAAK,KAAM14G,QAAQH,EAAK6P,OAAO,IAAM,MAAQ,KAE7EnW,KAAKouC,OACD9nC,IAAS7E,EAAE6E,KAAK0vB,GAAKvtB,cACrB,0BAA4B02G,EAAU74G,EACtC,8BAAgC64G,EAAU74G,GA0JhD,SAAS84G,EAAcx8G,EAAGD,GACxB,OAAQlB,EAAEqC,MAAMlB,IAAMnB,EAAEqC,MAAMnB,IAAOC,IAAMD,EAG7C,SAAS08G,IACP/wE,EAAKtuC,KAAM,YAAY,GAGzB,SAASs/G,EAAS3qD,EAAKulD,GACjBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAE/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACjB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtBkxG,EAAUrrE,EAAKtuC,KAAM,WACrB05G,EAASprE,EAAKtuC,KAAM,UACpB45G,EAAOtrE,EAAKtuC,KAAM,QAClBu/G,EAASjxE,EAAKtuC,KAAM,QACpBw/G,EAAaD,EAAS,QAAU,GAEpC5F,EAAUA,EAAUA,EAAU,KAAO,GAErC,IAAI8F,GAAW,EAEf,OAAQ3F,GACN,IAAK,SACH2F,GAAiC,IAAtBzpF,EAAIvvB,QAAQkuD,GACvB,MAEF,IAAK,UACH,GAAI4qD,EACF,MAAM,IAAI5xE,EACRgsE,EAAU,gDACV53G,EACA63G,GAIJ6F,EAAWzpF,EAAIx1B,IAAIm0D,GACnB,MAEF,IAAK,MACH,IAAI+qD,EAAQH,EAAS99G,EAAEq2G,IAAMsH,EAC7BppF,EAAI6D,SAAQ,SAAU6+B,GACpB+mD,EAAWA,GAAYC,EAAMhnD,EAAM/D,MAErC,MAEF,IAAK,MACC4qD,EACFvpF,EAAI6D,SAAQ,SAAU6+B,GACpB+mD,EAAWA,GAAYh+G,EAAEq2G,IAAIp/C,EAAM/D,MAGrC8qD,EAAWzpF,EAAIx1B,IAAIm0D,GAErB,MAEF,IAAK,QAED8qD,EADEF,EACSvpF,EAAI+jF,MAAK,SAAUrhD,GAC5B,OAAOj3D,EAAEq2G,IAAIp/C,EAAM/D,OAGY,IAAtB3+B,EAAIvvB,QAAQkuD,GAEzB,MAEF,QAIE,GAAIA,IAAQx4D,OAAOw4D,GACjB,MAAM,IAAIhnB,EACRgsE,0FAC6CG,EAAU,cACvD/3G,EACA63G,GAIJ,IAAI5+E,EAAQ7+B,OAAOwE,KAAKg0D,GACpBgrD,EAAW,KACXC,EAAU,EA2Bd,GAzBA5kF,EAAMnB,SAAQ,SAAUqwB,GACtB,IAAI21D,EAAgB,IAAI7C,EAAUhnF,GAIlC,GAHAv0B,EAAEo2G,cAAc73G,KAAM6/G,GAAe,GACrCvxE,EAAKuxE,EAAe,YAAY,GAE3BnG,GAA2B,IAAjB1+E,EAAMz7B,OAKrB,IACEsgH,EAAcziH,SAAS8sD,EAAMyK,EAAIzK,IACjC,MAAOsW,GACP,IAAK/+D,EAAEg3G,WAAW+F,sBAAsBh+C,EAAK7yB,GAC3C,MAAM6yB,EAES,OAAbm/C,IAAmBA,EAAWn/C,GAClCo/C,SAXAC,EAAcziH,SAAS8sD,EAAMyK,EAAIzK,MAalClqD,MAMC05G,GAAU1+E,EAAMz7B,OAAS,GAAKqgH,IAAY5kF,EAAMz7B,OAClD,MAAMogH,EAER,OAIJ3/G,KAAKouC,OACHqxE,EACE,uBAAyBD,EAAa,WAAa/9G,EAAEq2F,QAAQnjC,GAC7D,2BAA6B6qD,EAAa,WAAa/9G,EAAEq2F,QAAQnjC,IAyXvE,SAASmrD,IACP,IAAI9pF,EAAMsY,EAAKtuC,KAAM,UACjBsG,EAAO7E,EAAE6E,KAAK0vB,GAClBh2B,KAAKouC,OACD,cAAgB9nC,EAChB,4CAA8CA,EAC9C,wCAoDN,SAASy5G,EAAaprD,EAAKulD,GACrBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACrB,GAAIsuC,EAAKtuC,KAAM,QAAS,CACtB,IAAIggH,EAAe1xE,EAAKtuC,KAAM,YAC9BsuC,EAAKtuC,KAAM,YAAY,GACvBA,KAAK83G,IAAInjD,GACTrmB,EAAKtuC,KAAM,WAAYggH,QAEvBhgH,KAAKouC,OACDumB,IAAQ3+B,EACR,mCACA,uCACA2+B,EACA30D,KAAK06F,MACL,GAkDR,SAASulB,EAAUjqF,EAAKkkF,GAClBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/Bl6G,KAAKouC,OACD3sC,EAAEq2G,IAAI9hF,EAAKsY,EAAKtuC,KAAM,WACtB,0CACA,8CACAg2B,EACAh2B,KAAK06F,MACL,GAkDN,SAASwlB,EAAahjH,EAAGg9G,GACnBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAOIiG,EAPAnqF,EAAMsY,EAAKtuC,KAAM,UACjBogH,EAAW9xE,EAAKtuC,KAAM,YACtB25G,EAAUrrE,EAAKtuC,KAAM,WACrBqgH,EAAa,EAAY1G,EAAU,KAAO,GAC1CC,EAAOtrE,EAAKtuC,KAAM,QAClB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtB63G,EAAQ7+G,EAAE6E,KAAKpJ,GAAGuL,cAElB83G,GAAc,EAMlB,GAJIH,GAAwB,QAAZtG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS,UAGtDgjH,GAAyB,SAAZtG,GAAgC,SAAVwG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZtG,EAEvC,GAAKsG,GAAyB,SAAZtG,GAAkC,WAAZA,EAI7CyG,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZvG,EAAwB,IAAM9jF,EAAM,IAAMA,GACN,iCAHpDmqF,EAAeE,EAAY,8CAF3BF,EAAeE,EAAY,uCAU7B,GAAIE,EACF,MAAM,IAAI5yE,EAAewyE,OAAcp+G,EAAW63G,GAGpD,GAAIwG,EAAU,CACZ,IACIK,EADAjB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbiB,EAAazqF,EAAIj1B,MAEjB0/G,EAAazqF,EAAIz2B,OAEnBS,KAAKouC,OACDqyE,EAAavjH,EACb,8BAAgCsiH,EAAa,+BAC7C,kCAAoCA,EAAa,gBACjDtiH,EACAujH,QAGJzgH,KAAKouC,OACDpY,EAAM94B,EACN,sCACA,wCACAA,GAmDR,SAASwjH,EAAaxjH,EAAGg9G,GACnBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAOIiG,EAPAnqF,EAAMsY,EAAKtuC,KAAM,UACjBogH,EAAW9xE,EAAKtuC,KAAM,YACtB25G,EAAUrrE,EAAKtuC,KAAM,WACrBqgH,EAAa,EAAY1G,EAAU,KAAO,GAC1CC,EAAOtrE,EAAKtuC,KAAM,QAClB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtB63G,EAAQ7+G,EAAE6E,KAAKpJ,GAAGuL,cAElB83G,GAAc,EAMlB,GAJIH,GAAwB,QAAZtG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS,UAGtDgjH,GAAyB,SAAZtG,GAAgC,SAAVwG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZtG,EAEvC,GAAKsG,GAAyB,SAAZtG,GAAkC,WAAZA,EAI7CyG,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZvG,EAAwB,IAAM9jF,EAAM,IAAMA,GACN,iCAHpDmqF,EAAeE,EAAY,8CAF3BF,EAAeE,EAAY,uCAU7B,GAAIE,EACF,MAAM,IAAI5yE,EAAewyE,OAAcp+G,EAAW63G,GAGpD,GAAIwG,EAAU,CACZ,IACIK,EADAjB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbiB,EAAazqF,EAAIj1B,MAEjB0/G,EAAazqF,EAAIz2B,OAEnBS,KAAKouC,OACDqyE,GAAcvjH,EACd,8BAAgCsiH,EAAa,kCAC7C,8BAAgCA,EAAa,gBAC7CtiH,EACAujH,QAGJzgH,KAAKouC,OACDpY,GAAO94B,EACP,yCACA,sCACAA,GAmDR,SAASyjH,EAAazjH,EAAGg9G,GACnBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAOIiG,EAPAnqF,EAAMsY,EAAKtuC,KAAM,UACjBogH,EAAW9xE,EAAKtuC,KAAM,YACtB25G,EAAUrrE,EAAKtuC,KAAM,WACrBqgH,EAAa,EAAY1G,EAAU,KAAO,GAC1CC,EAAOtrE,EAAKtuC,KAAM,QAClB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtB63G,EAAQ7+G,EAAE6E,KAAKpJ,GAAGuL,cAElB83G,GAAc,EAMlB,GAJIH,GAAwB,QAAZtG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS,UAGtDgjH,GAAyB,SAAZtG,GAAgC,SAAVwG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZtG,EAEvC,GAAKsG,GAAyB,SAAZtG,GAAkC,WAAZA,EAI7CyG,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZvG,EAAwB,IAAM9jF,EAAM,IAAMA,GACN,iCAHpDmqF,EAAeE,EAAY,8CAF3BF,EAAeE,EAAY,uCAU7B,GAAIE,EACF,MAAM,IAAI5yE,EAAewyE,OAAcp+G,EAAW63G,GAGpD,GAAIwG,EAAU,CACZ,IACIK,EADAjB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbiB,EAAazqF,EAAIj1B,MAEjB0/G,EAAazqF,EAAIz2B,OAEnBS,KAAKouC,OACDqyE,EAAavjH,EACb,8BAAgCsiH,EAAa,+BAC7C,kCAAoCA,EAAa,gBACjDtiH,EACAujH,QAGJzgH,KAAKouC,OACDpY,EAAM94B,EACN,sCACA,yCACAA,GAmDR,SAAS0jH,EAAY1jH,EAAGg9G,GAClBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAOIiG,EAPAnqF,EAAMsY,EAAKtuC,KAAM,UACjBogH,EAAW9xE,EAAKtuC,KAAM,YACtB25G,EAAUrrE,EAAKtuC,KAAM,WACrBqgH,EAAa,EAAY1G,EAAU,KAAO,GAC1CC,EAAOtrE,EAAKtuC,KAAM,QAClB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtB63G,EAAQ7+G,EAAE6E,KAAKpJ,GAAGuL,cAElB83G,GAAc,EAMlB,GAJIH,GAAwB,QAAZtG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS,UAGtDgjH,GAAyB,SAAZtG,GAAgC,SAAVwG,EAEjC,GAAc,WAAVA,IAAuBF,GAAwB,WAAZtG,EAEvC,GAAKsG,GAAyB,SAAZtG,GAAkC,WAAZA,EAI7CyG,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZvG,EAAwB,IAAM9jF,EAAM,IAAMA,GACN,iCAHpDmqF,EAAeE,EAAY,6CAF3BF,EAAeE,EAAY,sCAU7B,GAAIE,EACF,MAAM,IAAI5yE,EAAewyE,OAAcp+G,EAAW63G,GAGpD,GAAIwG,EAAU,CACZ,IACIK,EADAjB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbiB,EAAazqF,EAAIj1B,MAEjB0/G,EAAazqF,EAAIz2B,OAEnBS,KAAKouC,OACDqyE,GAAcvjH,EACd,8BAAgCsiH,EAAa,iCAC7C,8BAAgCA,EAAa,gBAC7CtiH,EACAujH,QAGJzgH,KAAKouC,OACDpY,GAAO94B,EACP,wCACA,sCACAA,GAoJR,SAAS2jH,EAAkBtgH,EAAa25G,GAClCA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAE/B,IAAIr1G,EAASypC,EAAKtuC,KAAM,UACpB45G,EAAOtrE,EAAKtuC,KAAM,QAClB25G,EAAUrrE,EAAKtuC,KAAM,WAEzB,IACE,IAAI8gH,EAAej8G,aAAkBtE,EACrC,MAAOigE,GACP,GAAIA,aAAex2C,UAEjB,MAAM,IAAI2jB,GADVgsE,EAAUA,EAAUA,EAAU,KAAO,IAEzB,oDACNl4G,EAAE6E,KAAK/F,GAAe,mBAC1BwB,EACA63G,GAGJ,MAAMp5C,EAGR,IAAIxkE,EAAOyF,EAAE81F,QAAQh3F,GACR,OAATvE,IACFA,EAAO,0BAGTgE,KAAKouC,OACD0yE,EACA,yCAA2C9kH,EAC3C,6CAA+CA,GAuHrD,SAAS+kH,EAAgB/kH,EAAM24D,EAAKulD,GAC9BA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAE/B,IAAI8G,EAAW1yE,EAAKtuC,KAAM,UACtBihH,EAAQ3yE,EAAKtuC,KAAM,OACnB25G,EAAUrrE,EAAKtuC,KAAM,WACrBg2B,EAAMsY,EAAKtuC,KAAM,UACjB45G,EAAOtrE,EAAKtuC,KAAM,QAClBkhH,SAAkBllH,EAItB,GAFA29G,EAAUA,EAAUA,EAAU,KAAO,GAEjCqH,GACF,GAAiB,WAAbE,EACF,MAAM,IAAIvzE,EACRgsE,EAAU,0EACV53G,EACA63G,QAIJ,GAAiB,WAAbsH,GAAsC,WAAbA,GAAsC,WAAbA,EACpD,MAAM,IAAIvzE,EACRgsE,EAAU,oEACV53G,EACA63G,GAKN,GAAIoH,GAAYC,EACd,MAAM,IAAItzE,EACRgsE,EAAU,wDACV53G,EACA63G,GAIJ,GAAI5jF,QACF,MAAM,IAAI2X,EACRgsE,EAAU,2CACV53G,EACA63G,GAIJ,IAWI5B,EAXAuH,EAASjxE,EAAKtuC,KAAM,QACpB05G,EAASprE,EAAKtuC,KAAM,UACpBmhH,EAAWH,EAAWv/G,EAAEs2G,YAAY/hF,EAAKh6B,GAAQ,KACjDU,EAAQskH,EAAWG,EAASzkH,MAAQs5B,EAAIh6B,GAExCwjH,EAAa,GACbD,IAAQC,GAAc,SACtByB,IAAOzB,GAAc,QACrBwB,IAAUxB,GAAc,WAC5BA,GAAc,YAGHxH,EAAPiJ,EAAqB9kH,OAAOkB,UAAUC,eAAe1B,KAAKo6B,EAAKh6B,GAC1DglH,EAAwBG,EAAShI,OACvB13G,EAAEu2G,YAAYhiF,EAAKh6B,GAOjC09G,GAA+B,IAArB35G,UAAUR,QACvBS,KAAKouC,OACD4pE,EACA,4BAA8BwH,EAAa/9G,EAAEq2F,QAAQ97F,GACrD,gCAAkCwjH,EAAa/9G,EAAEq2F,QAAQ97F,IAG3D+D,UAAUR,OAAS,GACrBS,KAAKouC,OACD4pE,IAAgBuH,EAAS99G,EAAEq2G,IAAInjD,EAAKj4D,GAASi4D,IAAQj4D,GACrD,4BAA8B8iH,EAAa/9G,EAAEq2F,QAAQ97F,GAAQ,6BAC7D,gCAAkCwjH,EAAa/9G,EAAEq2F,QAAQ97F,GAAQ,aACjE24D,EACAj4D,GAIN4xC,EAAKtuC,KAAM,SAAUtD,GAKvB,SAAS0kH,EAAmBplH,EAAMU,EAAOw9G,GACvC5rE,EAAKtuC,KAAM,OAAO,GAClB+gH,EAAep/G,MAAM3B,KAAMD,WA6H7B,SAASshH,EAA6BrlH,EAAMwjH,EAAYtF,GAC5B,iBAAfsF,IACTtF,EAAMsF,EACNA,EAAa,MAEXtF,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACjBshH,EAAmBnlH,OAAOmvE,yBAAyBnvE,OAAO65B,GAAMh6B,GAChEslH,GAAoB9B,EACtBx/G,KAAKouC,OACD3sC,EAAEq2G,IAAI0H,EAAY8B,GAClB,4CAA8C7/G,EAAEq2F,QAAQ97F,GAAQ,wBAA0ByF,EAAEq2F,QAAQ0nB,GAAc,SAAW/9G,EAAEq2F,QAAQwpB,GACvI,4CAA8C7/G,EAAEq2F,QAAQ97F,GAAQ,4BAA8ByF,EAAEq2F,QAAQ0nB,GACxGA,EACA8B,GACA,GAGJthH,KAAKouC,OACDkzE,EACA,2DAA6D7/G,EAAEq2F,QAAQ97F,GACvE,+DAAiEyF,EAAEq2F,QAAQ97F,IAGjFsyC,EAAKtuC,KAAM,SAAUshH,GAgEvB,SAASC,IACPjzE,EAAKtuC,KAAM,YAAY,GAGzB,SAASwhH,EAActkH,EAAGg9G,GACpBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAKIuG,EALAzqF,EAAMsY,EAAKtuC,KAAM,UACjB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtBkxG,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QAClBw/G,EAAa,SAGjB,OAAQ1F,GACN,IAAK,MACL,IAAK,MACH0F,EAAa,OACbiB,EAAazqF,EAAIj1B,KACjB,MACF,QACE,IAAIi8G,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS,UACzDqjH,EAAazqF,EAAIz2B,OAGrBS,KAAKouC,OACDqyE,GAAcvjH,EACd,8BAAgCsiH,EAAa,4BAC7C,kCAAoCA,EAAa,aACjDtiH,EACAujH,GAkCN,SAASgB,EAAYh8G,EAAIy0G,GACnBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACrBA,KAAKouC,OACD3oC,EAAGG,KAAKowB,GACR,6BAA+BvwB,EAC/B,iCAAmCA,GAsJzC,SAASi8G,EAAY/gH,GACnB,IAKIwkD,EAEA80D,EAPAjkF,EAAMsY,EAAKtuC,KAAM,UACjB85G,EAAUr4G,EAAE6E,KAAK0vB,GACjB2rF,EAAWlgH,EAAE6E,KAAK3F,GAClBi5G,EAAOtrE,EAAKtuC,KAAM,QAClBu/G,EAASjxE,EAAKtuC,KAAM,QAEpB4hH,EAAU,GAEV1C,GAAK,EACLvF,EAAUrrE,EAAKtuC,KAAM,WAGrB6hH,GADJlI,EAAUA,EAAUA,EAAU,KAAO,IACR,mIAE7B,GAAgB,QAAZG,GAAiC,QAAZA,EACvB8H,EAAUrC,EAAS,UAAY,GAC/BtF,EAAS,GAGTjkF,EAAI6D,SAAQ,SAAU86B,EAAK33D,GAAOi9G,EAAOr5G,KAAK5D,MAE7B,UAAb2kH,IACFhhH,EAAOlB,MAAMpC,UAAUqC,MAAM9D,KAAKmE,gBAE/B,CAGL,OAFAk6G,EAASx4G,EAAE+2G,2BAA2BxiF,GAE9B2rF,GACN,IAAK,QACH,GAAI5hH,UAAUR,OAAS,EACrB,MAAM,IAAIouC,EAAek0E,OAAc9/G,EAAW63G,GAEpD,MACF,IAAK,SACH,GAAI75G,UAAUR,OAAS,EACrB,MAAM,IAAIouC,EAAek0E,OAAc9/G,EAAW63G,GAEpDj5G,EAAOxE,OAAOwE,KAAKA,GACnB,MACF,QACEA,EAAOlB,MAAMpC,UAAUqC,MAAM9D,KAAKmE,WAItCY,EAAOA,EAAKT,KAAI,SAAUy0D,GACxB,MAAsB,iBAARA,EAAmBA,EAAM1sD,OAAO0sD,MAIlD,IAAKh0D,EAAKpB,OACR,MAAM,IAAIouC,EAAegsE,EAAU,qBAAiB53G,EAAW63G,GAGjE,IAAIr9E,EAAM57B,EAAKpB,OACXuiH,EAAMxzE,EAAKtuC,KAAM,OACjBqtE,EAAM/+B,EAAKtuC,KAAM,OACjBg6G,EAAWr5G,EAqCf,GAnCKmhH,GAAQz0C,IACXA,GAAM,GAIJy0C,IACF5C,EAAKlF,EAASD,MAAK,SAASgI,GAC1B,OAAO9H,EAAOF,MAAK,SAASiI,GAC1B,OAAIzC,EACK99G,EAAEq2G,IAAIiK,EAAaC,GAEnBD,IAAgBC,SAO3B30C,IACF6xC,EAAKlF,EAAS5tG,OAAM,SAAS21G,GAC3B,OAAO9H,EAAOF,MAAK,SAASiI,GAC1B,OAAIzC,EACK99G,EAAEq2G,IAAIiK,EAAaC,GAEnBD,IAAgBC,QAKxB1zE,EAAKtuC,KAAM,cACdk/G,EAAKA,GAAMv+G,EAAKpB,QAAU06G,EAAO16G,SAKjCg9B,EAAM,EAAG,CAIX,IAAIg1B,GAHJ5wD,EAAOA,EAAKT,KAAI,SAASlD,GACvB,OAAOyE,EAAEq2F,QAAQ96F,OAEHmvB,MACZkhD,IACFloB,EAAMxkD,EAAKkG,KAAK,MAAQ,SAAW0qD,GAEjCuwD,IACF38D,EAAMxkD,EAAKkG,KAAK,MAAQ,QAAU0qD,QAGpCpM,EAAM1jD,EAAEq2F,QAAQn3F,EAAK,IAIvBwkD,GAAO5oB,EAAM,EAAI,QAAU,QAAU4oB,EAGrCA,GAAO7W,EAAKtuC,KAAM,YAAc,WAAa,SAAWmlD,EAGxDnlD,KAAKouC,OACD8wE,EACA,uBAAyB0C,EAAUz8D,EACnC,2BAA6By8D,EAAUz8D,EACvC60D,EAASt6G,MAAM,GAAGg9B,KAAKj7B,EAAE62G,kBACzB2B,EAAOv9E,KAAKj7B,EAAE62G,mBACd,GA4KN,SAAS2J,EAAc1D,EAAW2D,EAAehI,GAC3CA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAWIiI,EAXAnsF,EAAMsY,EAAKtuC,KAAM,UACjB45G,EAAOtrE,EAAKtuC,KAAM,QAClB25G,EAAUrrE,EAAKtuC,KAAM,WACrB05G,EAASprE,EAAKtuC,KAAM,YAAa,EACrC,IAAIg9G,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,aAEzC27G,aAAqBzuG,QAA+B,iBAAdyuG,KACxC2D,EAAgB3D,EAChBA,EAAY,MAId,IACEvoF,IACA,MAAOwqC,GACP2hD,EAAY3hD,EAKd,IAAI6hD,OAAoCtgH,IAAdw8G,QAA6Cx8G,IAAlBmgH,EAIjDI,EAAoBC,QAAQhE,GAAa2D,GACzCM,GAAgB,EAChBC,GAAoB,EAGxB,GAAIJ,IAAwBA,IAAwB3I,EAAQ,CAE1D,IAAIgJ,EAAkB,WAClBnE,aAAqB14G,MACvB68G,EAAkB,SACTnE,IACTmE,EAAkBjhH,EAAEg3G,WAAWmG,mBAAmBL,IAGpDv+G,KAAKouC,OACD+zE,EACA,6BAA+BO,EAC/B,+DACAnE,GAAaA,EAAU16G,WACtBs+G,aAAqBt8G,MACpBs8G,EAAUt+G,WAAmC,iBAAds+G,EAAyBA,EAAYA,GAC5C1gH,EAAEg3G,WAAWmG,mBAAmBuD,IAIhE,GAAI5D,GAAa4D,EAAW,CAE1B,GAAI5D,aAAqB14G,MACIpE,EAAEg3G,WAAW4F,mBAAmB8D,EAAW5D,KAEzC7E,IAGvB4I,GAAqB5I,EACvB8I,GAAgB,EAEhBxiH,KAAKouC,OACDsrE,EACA,yDACA,wCAA0CyI,IAAczI,EAAS,yBAA2B,IAC5F6E,EAAU16G,WACVs+G,EAAUt+G,aAMUpC,EAAEg3G,WAAW+F,sBAAsB2D,EAAW5D,KAC5C7E,IAC1B4I,GAAqB5I,EACrB8I,GAAgB,EAElBxiH,KAAKouC,OACDsrE,EACA,yDACA,wCAA0CyI,EAAY,yBAA2B,IAChF5D,aAAqB14G,MAAQ04G,EAAU16G,WAAa06G,GAAa98G,EAAEg3G,WAAWmG,mBAAmBL,GACjG4D,aAAqBt8G,MAAQs8G,EAAUt+G,WAAas+G,GAAa1gH,EAAEg3G,WAAWmG,mBAAmBuD,KAM5G,GAAIA,SAAaD,EAAuD,CAEtE,IAAIS,EAAc,YACdT,aAAyBpyG,SAC3B6yG,EAAc,YAGUlhH,EAAEg3G,WAAWgG,kBAAkB0D,EAAWD,KACxCxI,IACtB4I,GAAqB5I,EACrB+I,GAAoB,EAEtBziH,KAAKouC,OACHsrE,EACE,mCAAqCiJ,EAAc,yBACnD,uCAAyCA,EAAc,UACtDT,EACAzgH,EAAEg3G,WAAWf,WAAWyK,KAO/BK,GAAiBC,GACnBziH,KAAKouC,OACHsrE,EACE,yDACA,wCAA0CyI,EAAY,yBAA2B,IAChF5D,aAAqB14G,MAAQ04G,EAAU16G,WAAa06G,GAAa98G,EAAEg3G,WAAWmG,mBAAmBL,GACjG4D,aAAqBt8G,MAAQs8G,EAAUt+G,WAAas+G,GAAa1gH,EAAEg3G,WAAWmG,mBAAmBuD,IAIxG7zE,EAAKtuC,KAAM,SAAUmiH,GAwEvB,SAASS,EAAWrjD,EAAQ26C,GACtBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACjB6iH,EAASv0E,EAAKtuC,KAAM,UACpB20B,EAAW,mBAAsBqB,GAAQ6sF,EAEvC7sF,EAAIupC,GADJvpC,EAAI34B,UAAUkiE,GAGpBv/D,KAAKouC,OACD,mBAAsBzZ,EACtB,kCAAoClzB,EAAEq2F,QAAQv4B,GAC9C,sCAAwC99D,EAAEq2F,QAAQv4B,IAqExD,SAASujD,EAAS3wF,EAAS+nF,GACrBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IACIv8E,EAASxL,EADHmc,EAAKtuC,KAAM,WAErBA,KAAKouC,OACDzQ,EACA,+BAAiCl8B,EAAEm2G,WAAWzlF,GAC9C,kCAAoC1wB,EAAEm2G,WAAWzlF,IACjDmc,EAAKtuC,KAAM,UACX29B,GA6CN,SAAS6mC,EAAQw1C,EAAUl4C,EAAOo4C,GAC5BA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACjB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QAGtB,GADA,IAAIg9G,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,UACrB,iBAAbo3G,GAA0C,iBAAVl4C,EAEzC,MAAM,IAAIn0B,GADVgsE,EAAUA,EAAUA,EAAU,KAAO,IAEvB,iEACV53G,EACA63G,GAIN55G,KAAKouC,OACDvwC,KAAKO,IAAI43B,EAAMgkF,IAAal4C,EAC5B,mCAAqCk4C,EAAW,QAAUl4C,EAC1D,uCAAyCk4C,EAAW,QAAUl4C,GA4RpE,SAASihD,EAAe/tC,EAAS9qB,EAAMgwD,GACjCA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAKI8I,EALAl1E,EAAKQ,EAAKtuC,KAAM,UAChB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QACtB,IAAIg9G,EAAUlvE,EAAI6rE,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,YAGvCsnD,GAIH,IAAI8yD,EAAUhoC,EAAS2kC,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS8sD,GAC7D84D,EAAUhuC,EAAQ9qB,KAJlB,IAAI8yD,EAAUhoC,EAAS2kC,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,YACjDogH,EAAUhuC,KAMZlnC,IAEA,IAAIm1E,EAAQ/4D,QAAsC8qB,IAAYA,EAAQ9qB,GAClEg5D,EAASh5D,QAAsC84D,EAAU,IAAM94D,EAGnE5b,EAAKtuC,KAAM,cAAekjH,GAC1B50E,EAAKtuC,KAAM,oBAAqBgjH,GAChC10E,EAAKtuC,KAAM,kBAAmBijH,GAC9B30E,EAAKtuC,KAAM,gBAAiB,UAC5BsuC,EAAKtuC,KAAM,YAAaijH,IAAUD,GAElChjH,KAAKouC,OACH40E,IAAYC,EACV,YAAcC,EAAS,aACvB,YAAcA,EAAS,kBAsF7B,SAASC,EAAiBnuC,EAAS9qB,EAAMgwD,GACnCA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAKI8I,EALAl1E,EAAKQ,EAAKtuC,KAAM,UAChB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QACtB,IAAIg9G,EAAUlvE,EAAI6rE,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,YAGvCsnD,GAIH,IAAI8yD,EAAUhoC,EAAS2kC,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS8sD,GAC7D84D,EAAUhuC,EAAQ9qB,KAJlB,IAAI8yD,EAAUhoC,EAAS2kC,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,YACjDogH,EAAUhuC,KAOZ,IAAIgoC,EAAUgG,EAASrJ,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,UAEjDkrC,IAEA,IAAIm1E,EAAQ/4D,QAAsC8qB,IAAYA,EAAQ9qB,GAClEg5D,EAASh5D,QAAsC84D,EAAU,IAAM94D,EAEnE5b,EAAKtuC,KAAM,cAAekjH,GAC1B50E,EAAKtuC,KAAM,oBAAqBgjH,GAChC10E,EAAKtuC,KAAM,kBAAmBijH,GAC9B30E,EAAKtuC,KAAM,gBAAiB,YAC5BsuC,EAAKtuC,KAAM,YAAaijH,EAAQD,GAEhChjH,KAAKouC,OACH60E,EAAQD,EAAU,EAChB,YAAcE,EAAS,eACvB,YAAcA,EAAS,oBAsF7B,SAASE,EAAiBpuC,EAAS9qB,EAAMgwD,GACnCA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAKI8I,EALAl1E,EAAKQ,EAAKtuC,KAAM,UAChB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QACtB,IAAIg9G,EAAUlvE,EAAI6rE,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,YAGvCsnD,GAIH,IAAI8yD,EAAUhoC,EAAS2kC,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS8sD,GAC7D84D,EAAUhuC,EAAQ9qB,KAJlB,IAAI8yD,EAAUhoC,EAAS2kC,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,YACjDogH,EAAUhuC,KAOZ,IAAIgoC,EAAUgG,EAASrJ,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,UAEjDkrC,IAEA,IAAIm1E,EAAQ/4D,QAAsC8qB,IAAYA,EAAQ9qB,GAClEg5D,EAASh5D,QAAsC84D,EAAU,IAAM94D,EAEnE5b,EAAKtuC,KAAM,cAAekjH,GAC1B50E,EAAKtuC,KAAM,oBAAqBgjH,GAChC10E,EAAKtuC,KAAM,kBAAmBijH,GAC9B30E,EAAKtuC,KAAM,gBAAiB,YAC5BsuC,EAAKtuC,KAAM,YAAagjH,EAAUC,GAElCjjH,KAAKouC,OACH60E,EAAQD,EAAU,EAChB,YAAcE,EAAS,eACvB,YAAcA,EAAS,oBAj5G7B,CAAE,KAAM,KAAM,OAAQ,KACpB,MAAO,MAAO,OAAQ,OACtB,OAAQ,QAAS,KAAM,KACvB,OAAQ,MAAO,OAAQ,SAAUrpF,SAAQ,SAAUwpF,GACnDrG,EAAUtyD,YAAY24D,MA0BxBrG,EAAUtyD,YAAY,OAAO,WAC3Bpc,EAAKtuC,KAAM,UAAU,MAwCvBg9G,EAAUtyD,YAAY,QAAQ,WAC5Bpc,EAAKtuC,KAAM,QAAQ,MAyBrBg9G,EAAUtyD,YAAY,UAAU,WAC9Bpc,EAAKtuC,KAAM,UAAU,MAyBvBg9G,EAAUtyD,YAAY,OAAO,WAC3Bpc,EAAKtuC,KAAM,OAAO,MAuBpBg9G,EAAUtyD,YAAY,WAAW,WAC/Bpc,EAAKtuC,KAAM,WAAW,MAmBxBg9G,EAAUtyD,YAAY,OAAO,WAC3Bpc,EAAKtuC,KAAM,OAAO,GAClBsuC,EAAKtuC,KAAM,OAAO,MAuBpBg9G,EAAUtyD,YAAY,OAAO,WAC3Bpc,EAAKtuC,KAAM,OAAO,GAClBsuC,EAAKtuC,KAAM,OAAO,MA4EpBg9G,EAAU5E,mBAAmB,KAAM7T,GACnCyY,EAAU5E,mBAAmB,IAAK7T,GA+QlCyY,EAAU5E,mBAAmB,UAAWkH,EAASD,GACjDrC,EAAU5E,mBAAmB,UAAWkH,EAASD,GACjDrC,EAAU5E,mBAAmB,WAAYkH,EAASD,GAClDrC,EAAU5E,mBAAmB,WAAYkH,EAASD,GAsClDrC,EAAUtyD,YAAY,MAAM,WAC1B1qD,KAAKouC,OACDE,EAAKtuC,KAAM,UACX,gCACA,mCA6BNg9G,EAAUtyD,YAAY,QAAQ,WAC5B1qD,KAAKouC,QACD,IAASE,EAAKtuC,KAAM,UACpB,8BACA,gCACAsuC,EAAKtuC,KAAM,cA8BjBg9G,EAAUtyD,YAAY,SAAS,WAC7B1qD,KAAKouC,QACD,IAAUE,EAAKtuC,KAAM,UACrB,+BACA,gCACAsuC,EAAKtuC,KAAM,cA2BjBg9G,EAAUtyD,YAAY,QAAQ,WAC5B1qD,KAAKouC,OACD,OAASE,EAAKtuC,KAAM,UACpB,8BACA,sCA2BNg9G,EAAUtyD,YAAY,aAAa,WACjC1qD,KAAKouC,YACDrsC,IAAcusC,EAAKtuC,KAAM,UACzB,mCACA,2CA2BNg9G,EAAUtyD,YAAY,OAAO,WAC3B1qD,KAAKouC,OACD3sC,EAAEqC,MAAMwqC,EAAKtuC,KAAM,WACjB,6BACA,qCAkCRg9G,EAAUtyD,YAAY,SAAS,WAC7B,IAAIiK,EAAMrmB,EAAKtuC,KAAM,UACrBA,KAAKouC,OACDumB,QACA,4BACA,oCAqDNqoD,EAAUtyD,YAAY,SAAS,WAC7B,IAGI+1D,EAHA9rD,EAAMrmB,EAAKtuC,KAAM,UACjB45G,EAAOtrE,EAAKtuC,KAAM,QAClB25G,EAAUrrE,EAAKtuC,KAAM,WAKzB,OAFA25G,EAAUA,EAAUA,EAAU,KAAO,GAE7Bl4G,EAAE6E,KAAKquD,GAAKlsD,eAClB,IAAK,QACL,IAAK,SACHg4G,EAAa9rD,EAAIp1D,OACjB,MACF,IAAK,MACL,IAAK,MACHkhH,EAAa9rD,EAAI5zD,KACjB,MACF,IAAK,UACL,IAAK,UACH,MAAM,IAAI4sC,EACRgsE,EAAU,2CACV53G,EACA63G,GAEJ,IAAK,WACH,IAAIM,EAAMP,EAAU,gCAAkCl4G,EAAE81F,QAAQ5iC,GAChE,MAAM,IAAIhnB,EAAeusE,EAAI7zG,YAAQtE,EAAW63G,GAClD,QACE,GAAIjlD,IAAQx4D,OAAOw4D,GACjB,MAAM,IAAIhnB,EACRgsE,EAAU,0CAA4Cl4G,EAAEq2F,QAAQnjC,QAChE5yD,EACA63G,GAGJ6G,EAAatkH,OAAOwE,KAAKg0D,GAAKp1D,OAGlCS,KAAKouC,OACD,IAAMqyE,EACN,+BACA,uCA4CNzD,EAAUtyD,YAAY,YAAao1D,GACnC9C,EAAUtyD,YAAY,YAAao1D,GAmEnC9C,EAAU/E,UAAU,QAAS8H,GAC7B/C,EAAU/E,UAAU,SAAU8H,GAC9B/C,EAAU/E,UAAU,KAAM8H,GAuD1B/C,EAAU/E,UAAU,MAAOgI,GAC3BjD,EAAU/E,UAAU,OAAQgI,GAsG5BjD,EAAU/E,UAAU,QAASiI,GAC7BlD,EAAU/E,UAAU,KAAMiI,GAC1BlD,EAAU/E,UAAU,cAAeiI,GAqGnClD,EAAU/E,UAAU,QAASyI,GAC7B1D,EAAU/E,UAAU,MAAOyI,GAsG3B1D,EAAU/E,UAAU,QAAS0I,GAC7B3D,EAAU/E,UAAU,KAAM0I,GAC1B3D,EAAU/E,UAAU,WAAY0I,GAqGhC3D,EAAU/E,UAAU,OAAQ2I,GAC5B5D,EAAU/E,UAAU,MAAO2I,GA6C3B5D,EAAU/E,UAAU,UAAU,SAAU11G,EAAO+gH,EAAQpJ,GACjDA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAQIiG,EARAnqF,EAAMsY,EAAKtuC,KAAM,UACjBogH,EAAW9xE,EAAKtuC,KAAM,YACtB25G,EAAUrrE,EAAKtuC,KAAM,WACrBqgH,EAAa,EAAY1G,EAAU,KAAO,GAC1CC,EAAOtrE,EAAKtuC,KAAM,QAClB85G,EAAUr4G,EAAE6E,KAAK0vB,GAAKvtB,cACtB86G,EAAY9hH,EAAE6E,KAAK/D,GAAOkG,cAC1B+6G,EAAa/hH,EAAE6E,KAAKg9G,GAAQ76G,cAE5B83G,GAAc,EACdzgH,EAAuB,SAAdyjH,GAAuC,SAAfC,EAC7BjhH,EAAMo2F,cAAgB,KAAO2qB,EAAO3qB,cACpCp2F,EAAQ,KAAO+gH,EAMvB,GAJIlD,GAAwB,QAAZtG,GAAiC,QAAZA,GACnC,IAAIkD,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGgpC,KAAKpjH,SAAS,UAGtDgjH,GAAyB,SAAZtG,GAAqC,SAAdyJ,GAAuC,SAAfC,EAE1D,GAAmB,WAAdD,GAAyC,WAAfC,IAA6BpD,GAAwB,WAAZtG,EAExE,GAAKsG,GAAyB,SAAZtG,GAAkC,WAAZA,EAI7CyG,GAAc,MAJsD,CAEpEJ,EAAeE,EAAY,aADC,WAAZvG,EAAwB,IAAM9jF,EAAM,IAAMA,GACN,iCAHpDmqF,EAAeE,EAAY,+CAF3BF,EAAeE,EAAY,wCAU7B,GAAIE,EACF,MAAM,IAAI5yE,EAAewyE,OAAcp+G,EAAW63G,GAGpD,GAAIwG,EAAU,CACZ,IACIK,EADAjB,EAAa,SAED,QAAZ1F,GAAiC,QAAZA,GACvB0F,EAAa,OACbiB,EAAazqF,EAAIj1B,MAEjB0/G,EAAazqF,EAAIz2B,OAEnBS,KAAKouC,OACDqyE,GAAcl+G,GAASk+G,GAAc6C,EACrC,8BAAgC9D,EAAa,WAAa1/G,EAC1D,kCAAoC0/G,EAAa,WAAa1/G,QAGlEE,KAAKouC,OACDpY,GAAOzzB,GAASyzB,GAAOstF,EACvB,iCAAmCxjH,EACnC,qCAAuCA,MA8E/Ck9G,EAAU/E,UAAU,aAAc4I,GAClC7D,EAAU/E,UAAU,aAAc4I,GAyMlC7D,EAAU/E,UAAU,WAAY8I,GAOhC/D,EAAU/E,UAAU,cAAemJ,GACnCpE,EAAU/E,UAAU,kBAAmBmJ,GAoJvCpE,EAAU/E,UAAU,wBAAyBoJ,GAC7CrE,EAAU/E,UAAU,4BAA6BoJ,GA6FjDrE,EAAU5E,mBAAmB,SAAUoJ,EAAcD,GACrDvE,EAAU5E,mBAAmB,WAAYoJ,EAAcD,GAuCvDvE,EAAU/E,UAAU,QAASwJ,GAC7BzE,EAAU/E,UAAU,UAAWwJ,GA2B/BzE,EAAU/E,UAAU,UAAU,SAAU9yD,EAAK+0D,GACvCA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACjB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QACtB,IAAIg9G,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMwI,GAAGx/G,EAAE,UAE7C5C,KAAKouC,QACApY,EAAIvvB,QAAQ0+C,GACb,+BAAiC1jD,EAAEq2F,QAAQ3yC,GAC3C,mCAAqC1jD,EAAEq2F,QAAQ3yC,OA0OrD63D,EAAU/E,UAAU,OAAQyJ,GAC5B1E,EAAU/E,UAAU,MAAOyJ,GAqS3B1E,EAAU/E,UAAU,QAASgK,GAC7BjF,EAAU/E,UAAU,SAAUgK,GAC9BjF,EAAU/E,UAAU,QAASgK,GAkF7BjF,EAAU/E,UAAU,YAAa2K,GACjC5F,EAAU/E,UAAU,aAAc2K,GAsBlC5F,EAAUtyD,YAAY,UAAU,WAC9Bpc,EAAKtuC,KAAM,UAAU,MAsDvBg9G,EAAU/E,UAAU,UAAW6K,GAC/B9F,EAAU/E,UAAU,YAAa6K,GA+DjC9F,EAAU/E,UAAU,UAAWzzC,GAC/Bw4C,EAAU/E,UAAU,gBAAiBzzC,GAoGrCw4C,EAAU/E,UAAU,WAAW,SAAUwL,EAAQvJ,GAC3CA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UACjB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QAEtB,IAAIg9G,EAAUhnF,EAAK2jF,EAASC,GAAM,GAAMpiC,GAAGksC,GAAGnf,GAAG,SACjD,IAAIyY,EAAUyG,EAAQ9J,EAASC,GAAM,GAAMpiC,GAAGksC,GAAGnf,GAAG,SAEpD,IAGIvvB,EAAS2uC,EAASC,EAHlB16B,EAAW56C,EAAKtuC,KAAM,YACtB6jH,EAAUv1E,EAAKtuC,KAAM,WAIrBkpF,GAEFy6B,EAAU,2BADV3uC,EAAU6uC,EAAU,sBAAwB,cACI,aAChDD,EAAgB,8BAAgC5uC,EAAU,eAG1D2uC,EAAU,sCADV3uC,EAAU6uC,EAAU,kBAAoB,WACmB,aAC3DD,EAAgB,yCAA2C5uC,EAAU,cAGvE,IAAI8uC,EAAMx1E,EAAKtuC,KAAM,QAAUyB,EAAEq2G,SAAM/1G,EAEvC/B,KAAKouC,OA3HP,SAAoBq1E,EAAQM,EAAUD,EAAK56B,EAAU26B,GACnD,IAAK36B,EAAU,CACb,GAAIu6B,EAAOlkH,SAAWwkH,EAASxkH,OAAQ,OAAO,EAC9CwkH,EAAWA,EAASrkH,QAGtB,OAAO+jH,EAAOr3G,OAAM,SAASm4C,EAAMy/D,GACjC,GAAIH,EAAS,OAAOC,EAAMA,EAAIv/D,EAAMw/D,EAASC,IAAQz/D,IAASw/D,EAASC,GAEvE,IAAKF,EAAK,CACR,IAAIG,EAAWF,EAASt9G,QAAQ89C,GAChC,OAAkB,IAAd0/D,IAGC/6B,GAAU66B,EAASj2F,OAAOm2F,EAAU,IAClC,GAGT,OAAOF,EAAShK,MAAK,SAASmK,EAAOD,GACnC,QAAKH,EAAIv/D,EAAM2/D,KAGVh7B,GAAU66B,EAASj2F,OAAOm2F,EAAU,IAClC,SAqGPE,CAAWV,EAAQztF,EAAK8tF,EAAK56B,EAAU26B,GACvCF,EACAC,EACAH,EACAztF,GACA,MAkDNgnF,EAAU/E,UAAU,SAhBpB,SAAgBpvB,EAAMqxB,GAChBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAC/B,IAAIF,EAAW1rE,EAAKtuC,KAAM,UACtB25G,EAAUrrE,EAAKtuC,KAAM,WACrB45G,EAAOtrE,EAAKtuC,KAAM,QACtB,IAAIg9G,EAAUn0B,EAAM8wB,EAASC,GAAM,GAAMpiC,GAAGksC,GAAGnf,GAAG,SAElDvkG,KAAKouC,OACDy6C,EAAKpiF,QAAQuzG,IAAa,EAC1B,uCACA,2CACAnxB,EACAmxB,MAwINgD,EAAU/E,UAAU,SAAU8K,GAC9B/F,EAAU/E,UAAU,UAAW8K,GAsH/B/F,EAAU/E,UAAU,WAAYkL,GAChCnG,EAAU/E,UAAU,YAAakL,GAsHjCnG,EAAU/E,UAAU,WAAYmL,GAChCpG,EAAU/E,UAAU,YAAamL,GA2FjCpG,EAAU/E,UAAU,MAvBpB,SAAqBn2C,EAAOo4C,GACtBA,GAAK5rE,EAAKtuC,KAAM,UAAWk6G,GAE/B,IAMIkK,EANAlB,EAAS50E,EAAKtuC,KAAM,eACpBgjH,EAAU10E,EAAKtuC,KAAM,qBACrBijH,EAAQ30E,EAAKtuC,KAAM,mBACnBqkH,EAAW/1E,EAAKtuC,KAAM,iBACtBskH,EAAYh2E,EAAKtuC,KAAM,aAIzBokH,EADe,WAAbC,EACWxmH,KAAKO,IAAI6kH,EAAQD,KAAanlH,KAAKO,IAAI0jE,GAEvCwiD,IAAczmH,KAAKO,IAAI0jE,GAGtC9hE,KAAKouC,OACHg2E,EACE,YAAclB,EAAS,OAASmB,EAAW,OAASviD,EACpD,YAAcohD,EAAS,WAAamB,EAAW,OAASviD,MAkC9Dk7C,EAAUtyD,YAAY,cAAc,WAClC,IAAI10B,EAAMsY,EAAKtuC,KAAM,UAOjBq6G,EAAerkF,IAAQ75B,OAAO65B,IAAQ75B,OAAOk+G,aAAarkF,GAE9Dh2B,KAAKouC,OACHisE,EACE,oCACA,4CAgCN2C,EAAUtyD,YAAY,UAAU,WAC9B,IAAI10B,EAAMsY,EAAKtuC,KAAM,UAOjBukH,EAAWvuF,IAAQ75B,OAAO65B,IAAO75B,OAAOooH,SAASvuF,GAErDh2B,KAAKouC,OACHm2E,EACE,gCACA,wCA6BNvH,EAAUtyD,YAAY,UAAU,WAC9B,IAAI10B,EAAMsY,EAAKtuC,KAAM,UAOjBwkH,EAAWxuF,IAAQ75B,OAAO65B,IAAO75B,OAAOqoH,SAASxuF,GAErDh2B,KAAKouC,OACHo2E,EACE,gCACA,wCAqDNxH,EAAUtyD,YAAY,UAAU,SAASwvD,GACvC,IAAIlkF,EAAMsY,EAAKtuC,KAAM,UAErBA,KAAKouC,OACc,iBAARpY,GAAoBtrB,SAASsrB,GACpC,yCACA,mD;;;;;;ACltHRx6B,EAAOD,QAAU,SAAUshH,EAAMjvE,GAC/BivE,EAAK3uE,OAAS,SAAUymB,EAAK0lC,GAC3B,OAAO,IAAIwiB,EAAKG,UAAUroD,EAAK0lC,IAyBjCwiB,EAAK3uE,OAAOu2E,KAAO,SAAUxK,EAAQD,EAAU3f,EAASqqB,GAOtD,MANI3kH,UAAUR,OAAS,IACnB86F,EAAU4f,EACVA,OAASl4G,GAGbs4F,EAAUA,GAAW,gBACf,IAAIwiB,EAAKlvE,eAAe0sD,EAAS,CACnC4f,OAAQA,EACRD,SAAUA,EACV0K,SAAUA,GACX7H,EAAK3uE,OAAOu2E,S;;;;;;ACtCnBjpH,EAAOD,QAAU,SAAUshH,EAAMjvE,GAC/B,IAAIovE,EAAYH,EAAKG,UAErB,SAAS2H,IA0BPxoH,OAAOC,eAAeD,OAAOkB,UAAW,SAAU,CAChDgD,IAhBF,SAAsB3D,GAOpBP,OAAOC,eAAe4D,KAAM,SAAU,CACpCtD,MAAOA,EACPL,YAAY,EACZovE,cAAc,EACdm5C,UAAU,KAMVtoH,IA1BJ,SAASuoH,IACP,OAAI7kH,gBAAgBiI,QACbjI,gBAAgBuH,QAChBvH,gBAAgBuiH,SACE,mBAAX/lH,QAAyBwD,gBAAgBxD,OAC9C,IAAIwgH,EAAUh9G,KAAK4D,UAAW,KAAMihH,GAEtC,IAAI7H,EAAUh9G,KAAM,KAAM6kH,IAoB/Bp5C,cAAc,IAGlB,IAAIt9B,EAAS,CAyBb,KAAc,SAAU8rE,EAAQD,EAAU3f,EAASqqB,GAOjD,MANI3kH,UAAUR,OAAS,IACnB86F,EAAU4f,EACVA,OAASl4G,GAGbs4F,EAAUA,GAAW,gBACf,IAAIwiB,EAAKlvE,eAAe0sD,EAAS,CACnC4f,OAAQA,EACRD,SAAUA,EACV0K,SAAUA,GACXv2E,EAAOs2E,OAkBZ,MAAe,SAAUj3D,EAAMs3D,EAAM5K,GACnC,IAAI8C,EAAUxvD,EAAM0sD,GAAK1iC,GAAGjT,MAAMugD,IA2BpC,MAAe,SAAUh3E,EAAIi3E,EAAMC,EAAM9K,GACvC,IAAI8C,EAAUlvE,EAAIosE,GAAK1iC,GAAGytC,MAAMF,EAAMC,IAiBxC,MAAe,SAAUrwD,EAAKulD,GAC5B,IAAI8C,EAAUroD,EAAKulD,GAAK1iC,GAAG0tC,OAI7B,IAAa,IAkEb,OAjDA/2E,EAAOg3E,IAAI5gD,MAAQ,SAAU/W,EAAMs3D,EAAM5K,GACvC,IAAI8C,EAAUxvD,EAAM0sD,GAAK1iC,GAAG2tC,IAAI5gD,MAAMugD,IAuBxC32E,EAAOg3E,IAAIF,MAAQ,SAAUn3E,EAAIi3E,EAAMC,EAAM9K,GAC3C,IAAI8C,EAAUlvE,EAAIosE,GAAK1iC,GAAG2tC,IAAIF,MAAMF,EAAMC,IAiB5C72E,EAAOg3E,IAAID,MAAQ,SAAUvwD,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,GAAK1iC,GAAG2tC,IAAID,OAGjC/2E,EAAc,MAAIA,EAAc,MAChCA,EAAOg3E,IAAW,MAAIh3E,EAAOg3E,IAAW,MAEjCh3E,EAGT0uE,EAAK1uE,OAASw2E,EACd9H,EAAKuI,OAAST,I;;;;;;AClNhBnpH,EAAOD,QAAU,SAAUshH,EAAMjvE;;;;AAK/B,IAAIovE,EAAYH,EAAKG,UACjB1uE,EAAOV,EAAKU,KAqBZF,EAASyuE,EAAKzuE,OAAS,SAAUi3E,EAASC,GACjC,IAAItI,EAAU,KAAM,KAAMH,EAAKzuE,QAAQ,GAC7CA,OACDi3E,EACAC,EACA;;;KA0BNl3E,EAAOq2E,KAAO,SAAUxK,EAAQD,EAAU3f,EAASqqB,GASjD,MARI3kH,UAAUR,OAAS,IAGnB86F,EAAU4f,EACVA,OAASl4G,GAGbs4F,EAAUA,GAAW,gBACf,IAAIwiB,EAAKlvE,eAAe0sD,EAAS,CACnC4f,OAAQA,EACRD,SAAUA,EACV0K,SAAUA,GACXt2E,EAAOq2E,OAmBZr2E,EAAOm3E,KAAO,SAAU5wD,EAAKulD,GAC3B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOm3E,MAAM,GAAMnD,GAAGlD,IAmBhD9wE,EAAOo3E,QAAU,SAAU7wD,EAAKulD,GAC9B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOo3E,SAAS,GAAMpD,GAAG+C,IAAIjG,IAkBvD9wE,EAAOm2B,MAAQ,SAAUlS,EAAK50D,EAAKy8G,GACjC,IAAI1xG,EAAO,IAAIw0G,EAAU3qD,EAAK6nD,EAAK9rE,EAAOm2B,OAAO,GAEjD/7D,EAAK4lC,OACD3wC,GAAO6wC,EAAK9lC,EAAM,UAClB,mCACA,uCACA/K,EACA40D,GACA,IAmBNjkB,EAAOq3E,SAAW,SAAUpzD,EAAK50D,EAAKy8G,GACpC,IAAI1xG,EAAO,IAAIw0G,EAAU3qD,EAAK6nD,EAAK9rE,EAAOq3E,UAAU,GAEpDj9G,EAAK4lC,OACD3wC,GAAO6wC,EAAK9lC,EAAM,UAClB,uCACA,mCACA/K,EACA40D,GACA,IAmBNjkB,EAAOs3E,YAAc,SAAUrzD,EAAK50D,EAAKy8G,GACvC,IAAI8C,EAAU3qD,EAAK6nD,EAAK9rE,EAAOs3E,aAAa,GAAMluC,GAAGjT,MAAM9mE,IAkB7D2wC,EAAOu3E,eAAiB,SAAUtzD,EAAK50D,EAAKy8G,GAC1C,IAAI8C,EAAU3qD,EAAK6nD,EAAK9rE,EAAOu3E,gBAAgB,GAAMnuC,GAAG2tC,IAAI5gD,MAAM9mE,IAmBpE2wC,EAAO0sE,UAAY1sE,EAAOw3E,gBAAkB,SAAUvzD,EAAK50D,EAAKy8G,GAC9D,IAAI8C,EAAU3qD,EAAK6nD,EAAK9rE,EAAO0sE,WAAW,GAAMtjC,GAAGsgC,IAAIr6G,IAkBzD2wC,EAAOy3E,aAAe,SAAUxzD,EAAK50D,EAAKy8G,GACxC,IAAI8C,EAAU3qD,EAAK6nD,EAAK9rE,EAAOy3E,cAAc,GAAMruC,GAAG2tC,IAAIrN,IAAIr6G,IAkBhE2wC,EAAO03E,QAAU,SAAUnxD,EAAKoxD,EAAK7L,GACnC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO03E,SAAS,GAAMtuC,GAAGksC,GAAGsC,MAAMD,IAmB5D33E,EAAO63E,UAAY,SAAUtxD,EAAKuxD,EAAOhM,GACvC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO63E,WAAW,GAAMzuC,GAAGksC,GAAGyC,MAAMD,IAkB9D93E,EAAOg4E,QAAU,SAAUzxD,EAAK0xD,EAAKnM,GACnC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOg4E,SAAS,GAAM5uC,GAAGksC,GAAG4C,MAAMD,IAmB5Dj4E,EAAOm4E,SAAW,SAAU5xD,EAAK6xD,EAAOtM,GACtC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOm4E,UAAU,GAAM/uC,GAAGksC,GAAG+C,KAAKD,IAkB5Dp4E,EAAOs4E,OAAS,SAAU/xD,EAAKulD,GAC7B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOs4E,QAAQ,GAAMtE,GAAS,MAkBxDh0E,EAAOu4E,UAAY,SAAUhyD,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOu4E,WAAW,GAAMnvC,GAAG2tC,IAAI5gD,OAAM,IAkB/Dn2B,EAAOw4E,QAAU,SAAUjyD,EAAKulD,GAC9B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOw4E,SAAS,GAAMxE,GAAU,OAkB1Dh0E,EAAOy4E,WAAa,SAAUlyD,EAAKulD,GACjC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOy4E,YAAY,GAAMrvC,GAAG2tC,IAAI5gD,OAAM,IAiBhEn2B,EAAO04E,OAAS,SAAUnyD,EAAKulD,GAC7B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO04E,QAAQ,GAAMtvC,GAAGjT,MAAM,OAkBxDn2B,EAAO24E,UAAY,SAAUpyD,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO24E,WAAW,GAAMvvC,GAAG2tC,IAAI5gD,MAAM,OAiB/Dn2B,EAAOtqC,MAAQ,SAAU6wD,EAAKulD,GAC5B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOtqC,OAAO,GAAM0zE,GAAGksC,GAAGx/G,KAgBpDkqC,EAAO44E,SAAW,SAAUryD,EAAKulD,GAC/B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO44E,UAAU,GAAM7B,IAAI3tC,GAAGksC,GAAGx/G,KAmB3DkqC,EAAO+qE,OAAS,SAAUxkD,EAAKulD,GAC7B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO+qE,QAAQ,GAAM3hC,GAAG0tC,OAqBlD92E,EAAO64E,UAAY,SAAUtyD,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO64E,WAAW,GAAMzvC,GAAG2tC,IAAID,OAkBzD92E,EAAO84E,YAAc,SAAUvyD,EAAKulD,GAClC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO84E,aAAa,GAAM1vC,GAAGjT,WAAMxiE,IAkB7DqsC,EAAO+4E,UAAY,SAAUxyD,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO+4E,WAAW,GAAM3vC,GAAG2tC,IAAI5gD,WAAMxiE,IAkB/DqsC,EAAOkuD,WAAa,SAAU3nC,EAAKulD,GACjC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOkuD,YAAY,GAAM9kB,GAAGksC,GAAG9gH,EAAE,aAkB3DwrC,EAAOg5E,cAAgB,SAAUzyD,EAAKulD,GACpC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOg5E,eAAe,GAAM5vC,GAAG2tC,IAAIzB,GAAG9gH,EAAE,aAmBlEwrC,EAAO8hD,SAAW,SAAUv7B,EAAKulD,GAC/B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO8hD,UAAU,GAAM1Y,GAAGksC,GAAG9gH,EAAE,WAmBzDwrC,EAAOi5E,YAAc,SAAU1yD,EAAKulD,GAClC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOi5E,aAAa,GAAM7vC,GAAG2tC,IAAIzB,GAAG9gH,EAAE,WAkBhEwrC,EAAO9tC,QAAU,SAAUq0D,EAAKulD,GAC9B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO9tC,SAAS,GAAMk3E,GAAGksC,GAAGnf,GAAG,UAkBzDn2D,EAAOk5E,WAAa,SAAU3yD,EAAKulD,GACjC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOk5E,YAAY,GAAM9vC,GAAG2tC,IAAIzB,GAAGnf,GAAG,UAkBhEn2D,EAAOm5E,SAAW,SAAU5yD,EAAKulD,GAC/B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOm5E,UAAU,GAAM/vC,GAAGksC,GAAG9gH,EAAE,WAkBzDwrC,EAAOo5E,YAAc,SAAU7yD,EAAKulD,GAClC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOo5E,aAAa,GAAMhwC,GAAG2tC,IAAIzB,GAAG9gH,EAAE,WAkBhEwrC,EAAOozD,SAAW,SAAU7sC,EAAKulD,GAC/B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOozD,UAAU,GAAMhqB,GAAGksC,GAAG9gH,EAAE,WAkBzDwrC,EAAOq5E,YAAc,SAAU9yD,EAAKulD,GAClC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOq5E,aAAa,GAAMjwC,GAAG2tC,IAAIzB,GAAG9gH,EAAE,WAoBhEwrC,EAAO1jC,SAAW,SAAUiqD,EAAKulD,GAC/B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO1jC,UAAU,GAAM8sE,GAAGksC,GAAGgE,QAqBvDt5E,EAAOu5E,UAAY,SAAUhzD,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOu5E,WAAW,GAAMnwC,GAAGksC,GAAG9gH,EAAE,YAqB1DwrC,EAAOw5E,aAAe,SAAUjzD,EAAKulD,GACnC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOw5E,cAAc,GAAMpwC,GAAG2tC,IAAIzB,GAAG9gH,EAAE,YAwBjEwrC,EAAOy5E,OAAS,SAAUlzD,EAAKruD,EAAM4zG,GACnC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAOy5E,QAAQ,GAAMrwC,GAAGksC,GAAG9gH,EAAE0D,IAmBvD8nC,EAAO05E,UAAY,SAAUnzD,EAAKruD,EAAM4zG,GACtC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO05E,WAAW,GAAMtwC,GAAG2tC,IAAIzB,GAAG9gH,EAAE0D,IAqB9D8nC,EAAO25E,WAAa,SAAUpzD,EAAKruD,EAAM4zG,GACvC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO25E,YAAY,GAAMvwC,GAAGksC,GAAGqE,WAAWzhH,IAqBpE8nC,EAAO45E,cAAgB,SAAUrzD,EAAKruD,EAAM4zG,GAC1C,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO45E,eAAe,GAC3CxwC,GAAG2tC,IAAIzB,GAAGqE,WAAWzhH,IAkC1B8nC,EAAOkxE,QAAU,SAAU7hH,EAAKwqH,EAAK/N,GACnC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOkxE,SAAS,GAAMA,QAAQ2I,IAmCxD75E,EAAO85E,WAAa,SAAUzqH,EAAKwqH,EAAK/N,GACtC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAO85E,YAAY,GAAM/C,IAAI7F,QAAQ2I,IAwB/D75E,EAAO+5E,YAAc,SAAU1qH,EAAKwqH,EAAK/N,GACvC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAO+5E,aAAa,GAAMv8B,KAAK0zB,QAAQ2I,IAwBjE75E,EAAOg6E,eAAiB,SAAU3qH,EAAKwqH,EAAK/N,GAC1C,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOg6E,gBAAgB,GAAMjD,IAAIv5B,KAAK0zB,QAAQ2I,IAwBxE75E,EAAOi6E,cAAgB,SAAU5qH,EAAKwqH,EAAK/N,GACzC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOi6E,eAAe,GAAMC,OAAOhJ,QAAQ2I,IAwBrE75E,EAAOm6E,iBAAmB,SAAU9qH,EAAKwqH,EAAK/N,GAC5C,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOm6E,kBAAkB,GAC9CpD,IAAImD,OAAOhJ,QAAQ2I,IAwBxB75E,EAAOo6E,kBAAoB,SAAS/qH,EAAKwqH,EAAK/N,GAC5C,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOo6E,mBAAmB,GAC/C58B,KAAK08B,OAAOhJ,QAAQ2I,IAwBzB75E,EAAOq6E,qBAAuB,SAAShrH,EAAKwqH,EAAK/N,GAC/C,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOq6E,sBAAsB,GAClDtD,IAAIv5B,KAAK08B,OAAOhJ,QAAQ2I,IAoB7B75E,EAAOs6E,WAAa,SAASjrH,EAAKwqH,EAAK/N,GACrC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOs6E,YAAY,GAAMC,IAAIrJ,QAAQ2I,IAsB/D75E,EAAOw6E,cAAgB,SAASnrH,EAAKwqH,EAAK/N,GACxC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOw6E,eAAe,GAAMzD,IAAIwD,IAAIrJ,QAAQ2I,IAoBtE75E,EAAOy6E,eAAiB,SAASprH,EAAKwqH,EAAK/N,GACzC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOy6E,gBAAgB,GAC5Cj9B,KAAK+8B,IAAIrJ,QAAQ2I,IAoBtB75E,EAAO06E,kBAAoB,SAASrrH,EAAKwqH,EAAK/N,GAC5C,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAO06E,mBAAmB,GAC/C3D,IAAIv5B,KAAK+8B,IAAIrJ,QAAQ2I,IAkB1B75E,EAAOzoC,MAAQ,SAAUlI,EAAKgI,EAAIy0G,GAChC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAOzoC,OAAO,GAAM6xE,GAAG7xE,MAAMF,IAkBvD2oC,EAAO26E,SAAW,SAAUtrH,EAAKgI,EAAIy0G,GACnC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAO26E,UAAU,GAAMvxC,GAAG2tC,IAAIx/G,MAAMF,IAoB9D2oC,EAAOhxC,SAAW,SAAU44B,EAAKk0B,EAAMgwD,GACrC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOhxC,UAAU,GAAMo6E,GAAGgpC,KAAKpjH,SAAS8sD,IAmBlE9b,EAAO46E,YAAc,SAAUhzF,EAAKk0B,EAAMgwD,GACxC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO46E,aAAa,GACzCxxC,GAAG2tC,IAAI3E,KAAKpjH,SAAS8sD,IAqB1B9b,EAAO66E,YAAc,SAAUjzF,EAAKk0B,EAAMyK,EAAKulD,GAC7C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO66E,aAAa,GACzCzxC,GAAGgpC,KAAKpjH,SAAS8sD,EAAMyK,IAsB5BvmB,EAAO86E,eAAiB,SAAUlzF,EAAKk0B,EAAMyK,EAAKulD,GAChD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO86E,gBAAgB,GAC5C1xC,GAAG2tC,IAAI3E,KAAKpjH,SAAS8sD,EAAMyK,IAoBhCvmB,EAAO+6E,gBAAkB,SAAUnzF,EAAKk0B,EAAMyK,EAAKulD,GACjD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO+6E,iBAAiB,GAC7C3xC,GAAGgpC,KAAK50B,KAAKxuF,SAAS8sD,EAAMyK,IAsBjCvmB,EAAOg7E,mBAAqB,SAAUpzF,EAAKk0B,EAAMyK,EAAKulD,GACpD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOg7E,oBAAoB,GAChD5xC,GAAG2tC,IAAI3E,KAAK50B,KAAKxuF,SAAS8sD,EAAMyK,IAkBrCvmB,EAAOi7E,YAAc,SAAUrzF,EAAKk0B,EAAMgwD,GACxC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOi7E,aAAa,GACzC7xC,GAAGgpC,KAAKmI,IAAIvrH,SAAS8sD,IAmB1B9b,EAAOk7E,eAAiB,SAAUtzF,EAAKk0B,EAAMgwD,GAC3C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOk7E,gBAAgB,GAC5C9xC,GAAG2tC,IAAI3E,KAAKmI,IAAIvrH,SAAS8sD,IAoB9B9b,EAAOm7E,eAAiB,SAAUvzF,EAAKk0B,EAAMxtD,EAAOw9G,GAClD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOm7E,gBAAgB,GAC5C/xC,GAAGgpC,KAAKmI,IAAIvrH,SAAS8sD,EAAMxtD,IAqBhC0xC,EAAOo7E,kBAAoB,SAAUxzF,EAAKk0B,EAAMxtD,EAAOw9G,GACrD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOo7E,mBAAmB,GAC/ChyC,GAAG2tC,IAAI3E,KAAKmI,IAAIvrH,SAAS8sD,EAAMxtD,IAoBpC0xC,EAAOq7E,mBAAqB,SAAUzzF,EAAKk0B,EAAMxtD,EAAOw9G,GACtD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOq7E,oBAAoB,GAChDjyC,GAAGgpC,KAAK50B,KAAK+8B,IAAIvrH,SAAS8sD,EAAMxtD,IAuBrC0xC,EAAOs7E,sBAAwB,SAAU1zF,EAAKk0B,EAAMxtD,EAAOw9G,GACzD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOs7E,uBAAuB,GACnDlyC,GAAG2tC,IAAI3E,KAAK50B,KAAK+8B,IAAIvrH,SAAS8sD,EAAMxtD,IAoBzC0xC,EAAOu7E,eAAiB,SAAU3zF,EAAKk0B,EAAMgwD,GAC3C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOu7E,gBAAgB,GAC5CnyC,GAAGgpC,KAAK8H,OAAOlrH,SAAS8sD,IAoB7B9b,EAAOw7E,kBAAoB,SAAU5zF,EAAKk0B,EAAMgwD,GAC9C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOw7E,mBAAmB,GAC/CpyC,GAAG2tC,IAAI3E,KAAK8H,OAAOlrH,SAAS8sD,IAqBjC9b,EAAOy7E,kBAAoB,SAAU7zF,EAAKk0B,EAAMyK,EAAKulD,GACnD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOy7E,mBAAmB,GAC/CryC,GAAGgpC,KAAK8H,OAAOlrH,SAAS8sD,EAAMyK,IAsBnCvmB,EAAO07E,qBAAuB,SAAU9zF,EAAKk0B,EAAMyK,EAAKulD,GACtD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO07E,sBAAsB,GAClDtyC,GAAG2tC,IAAI3E,KAAK8H,OAAOlrH,SAAS8sD,EAAMyK,IAqBvCvmB,EAAO27E,sBAAwB,SAAU/zF,EAAKk0B,EAAMyK,EAAKulD,GACvD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO27E,uBAAuB,GACnDvyC,GAAGgpC,KAAK50B,KAAK08B,OAAOlrH,SAAS8sD,EAAMyK,IAuBxCvmB,EAAO47E,yBAA2B,SAAUh0F,EAAKk0B,EAAMyK,EAAKulD,GAC1D,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO47E,0BAA0B,GACtDxyC,GAAG2tC,IAAI3E,KAAK50B,KAAK08B,OAAOlrH,SAAS8sD,EAAMyK,IAqB5CvmB,EAAO67E,SAAW,SAAUxsH,EAAK8+B,EAAK29E,GACpC,IAAI8C,EAAUv/G,EAAKy8G,EAAK9rE,EAAO67E,UAAU,GAAMzyC,GAAGgpC,KAAKyJ,SAAS1tF,IAuBlE6R,EAAO87E,WAAa,SAAUl0F,EAAKr1B,EAAMu5G,GACvC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO87E,YAAY,GAAM1yC,GAAGgpC,KAAKsB,IAAInhH,KAAKA,IAuBpEytC,EAAOq2B,WAAa,SAAUzuC,EAAKr1B,EAAMu5G,GACvC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOq2B,YAAY,GAAM+S,GAAGgpC,KAAKnzC,IAAI1sE,KAAKA,IA2BpEytC,EAAO+7E,gBAAkB,SAAUn0F,EAAKr1B,EAAMu5G,GAC5C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO+7E,iBAAiB,GAC7C3yC,GAAG4yC,QAAQ/8C,IAAI1sE,KAAKA,IAuBzBytC,EAAOi8E,mBAAqB,SAAUr0F,EAAKr1B,EAAMu5G,GAC/C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOi8E,oBAAoB,GAChD7yC,GAAG2tC,IAAI3E,KAAKsB,IAAInhH,KAAKA,IAuB1BytC,EAAOk8E,mBAAqB,SAAUt0F,EAAKr1B,EAAMu5G,GAC/C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOk8E,oBAAoB,GAChD9yC,GAAG2tC,IAAI3E,KAAKnzC,IAAI1sE,KAAKA,IA2B1BytC,EAAOm8E,eAAiB,SAAUv0F,EAAKr1B,EAAMu5G,GAC3C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOm8E,gBAAgB,GAC5C/yC,GAAGgpC,KAAKsB,IAAIl2B,KAAKjrF,KAAKA,IAyB3BytC,EAAOo8E,eAAiB,SAAUx0F,EAAKr1B,EAAMu5G,GAC3C,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOo8E,gBAAgB,GAC5ChzC,GAAGgpC,KAAKnzC,IAAIue,KAAKjrF,KAAKA,IAyB3BytC,EAAOq8E,oBAAsB,SAAUz0F,EAAKr1B,EAAMu5G,GAChD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOq8E,qBAAqB,GACjDjzC,GAAG4yC,QAAQ/8C,IAAIue,KAAKjrF,KAAKA,IAyB9BytC,EAAOs8E,uBAAyB,SAAU10F,EAAKr1B,EAAMu5G,GACnD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOs8E,wBAAwB,GACpDlzC,GAAG2tC,IAAI3E,KAAKsB,IAAIl2B,KAAKjrF,KAAKA,IAyB/BytC,EAAOu8E,uBAAyB,SAAU30F,EAAKr1B,EAAMu5G,GACnD,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOu8E,wBAAwB,GACpDnzC,GAAG2tC,IAAI3E,KAAKnzC,IAAIue,KAAKjrF,KAAKA,IAkC/BytC,EAAOw8E,OAAS,SAAU98E,EAAIywE,EAAW2D,EAAehI,IAClD,iBAAoBqE,GAAaA,aAAqBzuG,UACxDoyG,EAAgB3D,EAChBA,EAAY,MAGd,IAAIsM,EAAY,IAAI7N,EAAUlvE,EAAIosE,EAAK9rE,EAAOw8E,QAAQ,GACnDpzC,GAAGszC,MAAMvM,EAAW2D,GACvB,OAAO5zE,EAAKu8E,EAAW,WAgCzBz8E,EAAO28E,aAAe,SAAUj9E,EAAIywE,EAAW2D,EAAehI,IACxD,iBAAoBqE,GAAaA,aAAqBzuG,UACxDoyG,EAAgB3D,EAChBA,EAAY,MAGd,IAAIvB,EAAUlvE,EAAIosE,EAAK9rE,EAAO28E,cAAc,GACzCvzC,GAAG2tC,IAAI2F,MAAMvM,EAAW2D,IAoB7B9zE,EAAOs2E,SAAW,SAAU/vD,EAAK+vD,EAAUI,EAAM5K,GAC/C,IAAIgF,EACJ,OAAOwF,GACL,IAAK,KACHxF,EAAKvqD,GAAOmwD,EACZ,MACF,IAAK,MACH5F,EAAKvqD,IAAQmwD,EACb,MACF,IAAK,IACH5F,EAAKvqD,EAAMmwD,EACX,MACF,IAAK,KACH5F,EAAKvqD,GAAOmwD,EACZ,MACF,IAAK,IACH5F,EAAKvqD,EAAMmwD,EACX,MACF,IAAK,KACH5F,EAAKvqD,GAAOmwD,EACZ,MACF,IAAK,KACH5F,EAAKvqD,GAAOmwD,EACZ,MACF,IAAK,MACH5F,EAAKvqD,IAAQmwD,EACb,MACF,QAEE,MADA5K,EAAMA,EAAMA,EAAM,KAAOA,EACnB,IAAI2C,EAAKlvE,eACbusE,EAAM,qBAAuBwK,EAAW,SACxC3iH,EACAqsC,EAAOs2E,UAGb,IAAIl8G,EAAO,IAAIw0G,EAAUkC,EAAIhF,EAAK9rE,EAAOs2E,UAAU,GACnDl8G,EAAK4lC,QACD,IAASE,EAAK9lC,EAAM,UACpB,YAAcolC,EAAKkqD,QAAQnjC,GAAO,UAAY+vD,EAAW,IAAM92E,EAAKkqD,QAAQgtB,GAC5E,YAAcl3E,EAAKkqD,QAAQnjC,GAAO,cAAgB+vD,EAAW,IAAM92E,EAAKkqD,QAAQgtB,KAmBtF12E,EAAOo2B,QAAU,SAAUnS,EAAK50D,EAAKqkE,EAAOo4C,GAC1C,IAAI8C,EAAU3qD,EAAK6nD,EAAK9rE,EAAOo2B,SAAS,GAAMgT,GAAGksC,GAAGl/C,QAAQ/mE,EAAKqkE,IAmBnE1zB,EAAO48E,cAAgB,SAAU34D,EAAK50D,EAAKqkE,EAAOo4C,GAChD,IAAI8C,EAAU3qD,EAAK6nD,EAAK9rE,EAAO48E,eAAe,GAC3CxzC,GAAGksC,GAAGsH,cAAcvtH,EAAKqkE,IAmB9B1zB,EAAO68E,YAAc,SAAUC,EAAMC,EAAMjR,GACzC,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAO68E,aAAa,GAC1CzzC,GAAGgpC,KAAK4K,KAAKC,QAAQF,IAmB1B/8E,EAAOk9E,eAAiB,SAAUJ,EAAMC,EAAMjR,GAC5C,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOk9E,gBAAgB,GAC7C9zC,GAAG2tC,IAAI3E,KAAK4K,KAAKC,QAAQF,IAmB9B/8E,EAAOm9E,gBAAkB,SAAUL,EAAMC,EAAMjR,GAC7C,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOm9E,iBAAiB,GAC9C/zC,GAAGgpC,KAAK4K,KAAKx/B,KAAKy/B,QAAQF,IAmB/B/8E,EAAOo9E,mBAAqB,SAAUN,EAAMC,EAAMjR,GAChD,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOo9E,oBAAoB,GACjDh0C,GAAG2tC,IAAI3E,KAAK4K,KAAKx/B,KAAKy/B,QAAQF,IAmBnC/8E,EAAOq9E,mBAAqB,SAAUP,EAAMC,EAAMjR,GAChD,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOq9E,oBAAoB,GACjDj0C,GAAGgpC,KAAK4K,KAAKvH,QAAQwH,QAAQF,IAmBlC/8E,EAAOs9E,sBAAwB,SAAUR,EAAMC,EAAMjR,GACnD,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOs9E,uBAAuB,GACpDl0C,GAAG2tC,IAAI3E,KAAK4K,KAAKvH,QAAQwH,QAAQF,IAmBtC/8E,EAAOu9E,uBAAyB,SAAUT,EAAMC,EAAMjR,GACpD,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOu9E,wBAAwB,GACrDn0C,GAAGgpC,KAAK4K,KAAKx/B,KAAKi4B,QAAQwH,QAAQF,IAoBvC/8E,EAAOw9E,0BAA4B,SAAUV,EAAMC,EAAMjR,GACvD,IAAI8C,EAAUkO,EAAMhR,EAAK9rE,EAAOw9E,2BAA2B,GACxDp0C,GAAG2tC,IAAI3E,KAAK4K,KAAKx/B,KAAKi4B,QAAQwH,QAAQF,IAmB3C/8E,EAAOy9E,eAAiB,SAAU9H,EAAUN,EAAQvJ,GAClD,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAOy9E,gBAAgB,GACjDr0C,GAAG8nC,QAAQ+L,QAAQ5H,IAmBxBr1E,EAAO09E,kBAAoB,SAAU/H,EAAUN,EAAQvJ,GACrD,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAO09E,mBAAmB,GACpDt0C,GAAG2tC,IAAI7F,QAAQ+L,QAAQ5H,IAmB5Br1E,EAAO29E,mBAAqB,SAAUhI,EAAUN,EAAQvJ,GACtD,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAO29E,oBAAoB,GACrDv0C,GAAG8nC,QAAQ1zB,KAAKy/B,QAAQ5H,IAmB7Br1E,EAAO49E,sBAAwB,SAAUjI,EAAUN,EAAQvJ,GACzD,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAO49E,uBAAuB,GACxDx0C,GAAG2tC,IAAI7F,QAAQ1zB,KAAKy/B,QAAQ5H,IAoBjCr1E,EAAO69E,sBAAwB,SAAUlI,EAAUN,EAAQvJ,GACzD,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAO69E,uBAAuB,GACxDz0C,GAAG8nC,QAAQuE,QAAQwH,QAAQ5H,IAqBhCr1E,EAAO89E,yBAA2B,SAAUnI,EAAUN,EAAQvJ,GAC5D,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAO89E,0BAA0B,GAC3D10C,GAAG2tC,IAAI7F,QAAQuE,QAAQwH,QAAQ5H,IAoBpCr1E,EAAO+9E,0BAA4B,SAAUpI,EAAUN,EAAQvJ,GAC7D,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAO+9E,2BAA2B,GAC5D30C,GAAG8nC,QAAQ1zB,KAAKi4B,QAAQwH,QAAQ5H,IAsBrCr1E,EAAOg+E,6BAA+B,SAAUrI,EAAUN,EAAQvJ,GAChE,IAAI8C,EAAU+G,EAAU7J,EAAK9rE,EAAOg+E,8BAA8B,GAC/D50C,GAAG2tC,IAAI7F,QAAQ1zB,KAAKi4B,QAAQwH,QAAQ5H,IAkBzCr1E,EAAOi+E,MAAQ,SAAUC,EAAQzjC,EAAMqxB,GACrC,IAAI8C,EAAUsP,EAAQpS,EAAK9rE,EAAOi+E,OAAO,GAAM70C,GAAGksC,GAAG2I,MAAMxjC,IAqB7Dz6C,EAAOm+E,QAAU,SAAUz+E,EAAI9X,EAAKk0B,EAAMgwD,GACf,IAArBn6G,UAAUR,QAA+B,mBAARy2B,IACnCkkF,EAAMhwD,EACNA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOm+E,SAAS,GAAM/0C,GAAGu6B,OAAO/7E,EAAKk0B,IAsB9D9b,EAAOo+E,UAAY,SAAU1+E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACjD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOo+E,WAAW,GACtCh1C,GAAGu6B,OAAO/7E,EAAKk0B,GAAM/lB,GAAG29B,IAqB7B1zB,EAAOs+E,cAAgB,SAAU5+E,EAAI9X,EAAKk0B,EAAMgwD,GAM9C,OALyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,IACnCkkF,EAAMhwD,EACNA,EAAO,MAGF,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOs+E,eAAe,GACjDl1C,GAAG2tC,IAAIpT,OAAO/7E,EAAKk0B,IAsBxB9b,EAAOu+E,gBAAkB,SAAU7+E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACvD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOu+E,iBAAiB,GAC5Cn1C,GAAGu6B,OAAO/7E,EAAKk0B,GAAM0iE,IAAIzH,IAAIhhF,GAAG29B,IAqBrC1zB,EAAOy+E,UAAY,SAAU/+E,EAAI9X,EAAKk0B,EAAMgwD,GAM1C,OALyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,IACnCkkF,EAAMhwD,EACNA,EAAO,MAGF,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOy+E,WAAW,GAC7Cr1C,GAAGs1C,SAAS92F,EAAKk0B,IAsBtB9b,EAAO2+E,YAAc,SAAUj/E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACnD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAO2+E,aAAa,GACxCv1C,GAAGs1C,SAAS92F,EAAKk0B,GAAM/lB,GAAG29B,IAqB/B1zB,EAAO4+E,gBAAkB,SAAUl/E,EAAI9X,EAAKk0B,EAAMgwD,GAMhD,OALyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,IACnCkkF,EAAMhwD,EACNA,EAAO,MAGF,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAO4+E,iBAAiB,GACnDx1C,GAAG2tC,IAAI2H,SAAS92F,EAAKk0B,IAsB1B9b,EAAO6+E,kBAAoB,SAAUn/E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACzD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAO6+E,mBAAmB,GAC9Cz1C,GAAGs1C,SAAS92F,EAAKk0B,GAAM0iE,IAAIzH,IAAIhhF,GAAG29B,IAqBvC1zB,EAAO8+E,UAAY,SAAUp/E,EAAI9X,EAAKk0B,EAAMgwD,GAM1C,OALyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,IACnCkkF,EAAMhwD,EACNA,EAAO,MAGF,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAO8+E,WAAW,GAC7C11C,GAAG21C,SAASn3F,EAAKk0B,IAsBtB9b,EAAOg/E,YAAc,SAAUt/E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACnD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOg/E,aAAa,GACxC51C,GAAG21C,SAASn3F,EAAKk0B,GAAM/lB,GAAG29B,IAqB/B1zB,EAAOi/E,gBAAkB,SAAUv/E,EAAI9X,EAAKk0B,EAAMgwD,GAMhD,OALyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,IACnCkkF,EAAMhwD,EACNA,EAAO,MAGF,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOi/E,iBAAiB,GACnD71C,GAAG2tC,IAAIgI,SAASn3F,EAAKk0B,IAsB1B9b,EAAOk/E,kBAAoB,SAAUx/E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACzD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,OAAO,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOk/E,mBAAmB,GACrD91C,GAAG2tC,IAAIgI,SAASn3F,EAAKk0B,GAAM/lB,GAAG29B,IAsBnC1zB,EAAOm/E,kBAAoB,SAAUz/E,EAAI9X,EAAKk0B,EAAM4X,EAAOo4C,GACzD,GAAyB,IAArBn6G,UAAUR,QAA+B,mBAARy2B,EAAoB,CACvD,IAAIy2F,EAAS3qD,EACbA,EAAQ5X,EACRgwD,EAAMuS,OACwB,IAArB1sH,UAAUR,SACnBuiE,EAAQ5X,EACRA,EAAO,MAGT,IAAI8yD,EAAUlvE,EAAIosE,EAAK9rE,EAAOm/E,mBAAmB,GAC9C/1C,GAAG21C,SAASn3F,EAAKk0B,GAAM0iE,IAAIzH,IAAIhhF,GAAG29B;;;;;;;;;;;;;;;MAmBvC1zB,EAAOo/E,QAAU,SAAU74D,GACzB,GAAIA,EACF,MAAK,GAmBTvmB,EAAOisE,aAAe,SAAUrkF,EAAKkkF,GACnC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOisE,cAAc,GAAM7iC,GAAGksC,GAAG+J,YAwB3Dr/E,EAAOs/E,gBAAkB,SAAU13F,EAAKkkF,GACtC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOs/E,iBAAiB,GAAMl2C,GAAG2tC,IAAIzB,GAAG+J,YAuBlEr/E,EAAOm2E,SAAW,SAAUvuF,EAAKkkF,GAC/B,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOm2E,UAAU,GAAM/sC,GAAGksC,GAAGiK,QAkBvDv/E,EAAOw/E,YAAc,SAAU53F,EAAKkkF,GAClC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOw/E,aAAa,GAAMp2C,GAAG2tC,IAAIzB,GAAGiK,QAoB9Dv/E,EAAOo2E,SAAW,SAAUxuF,EAAKkkF,GAC/B,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAOo2E,UAAU,GAAMhtC,GAAGksC,GAAGmK,QAkBvDz/E,EAAO0/E,YAAc,SAAU93F,EAAKkkF,GAClC,IAAI8C,EAAUhnF,EAAKkkF,EAAK9rE,EAAO0/E,aAAa,GAAMt2C,GAAG2tC,IAAIzB,GAAGmK,QAyB9Dz/E,EAAO2/E,QAAU,SAASp5D,EAAKulD,GAC7B,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO2/E,SAAS,GAAMv2C,GAAGksC,GAAG1iH,OAyBtDotC,EAAO4/E,WAAa,SAASr5D,EAAKulD,GAChC,IAAI8C,EAAUroD,EAAKulD,EAAK9rE,EAAO4/E,YAAY,GAAMx2C,GAAG2tC,IAAIzB,GAAG1iH;;;;AAO7D,SAAUitH,EAAMjyH,EAAMkyH,GAEpB,OADA9/E,EAAO8/E,GAAM9/E,EAAOpyC,GACbiyH,EAFT,CAIC,OAAQ,KAJT,CAKC,UAAW,QALZ,CAMC,SAAU,QANX,CAOC,SAAU,QAPX,CAQC,eAAgB,aARjB,CASC,kBAAmB,gBATpB,CAUC,WAAY,SAVb,CAWC,cAAe,YAXhB,CAYC,WAAY,SAZb,CAaC,cAAe,YAbhB,CAcC,UAAW,QAdZ,CAeC,aAAc,c,+BCviGjB,IAAIn0G,EAAO,CAACpd,MAAO,cAEnB,SAASytB,IACP,IAAK,IAAyCxtB,EAArClB,EAAI,EAAGyB,EAAI6C,UAAUR,OAAQkC,EAAI,GAAOhG,EAAIyB,IAAKzB,EAAG,CAC3D,KAAMkB,EAAIoD,UAAUtE,GAAK,KAAQkB,KAAK8E,GAAM,QAAQ+G,KAAK7L,GAAI,MAAM,IAAIkJ,MAAM,iBAAmBlJ,GAChG8E,EAAE9E,GAAK,GAET,OAAO,IAAIwxH,EAAS1sH,GAGtB,SAAS0sH,EAAS1sH,GAChBzB,KAAKyB,EAAIA,EAGX,SAAS8sE,EAAeC,EAAWx1C,GACjC,OAAOw1C,EAAUnoE,OAAO8mB,MAAM,SAASjtB,KAAI,SAASvD,GAClD,IAAIX,EAAO,GAAIP,EAAIkB,EAAE8J,QAAQ,KAE7B,GADIhL,GAAK,IAAGO,EAAOW,EAAE+C,MAAMjE,EAAI,GAAIkB,EAAIA,EAAE+C,MAAM,EAAGjE,IAC9CkB,IAAMq8B,EAAM17B,eAAeX,GAAI,MAAM,IAAIkJ,MAAM,iBAAmBlJ,GACtE,MAAO,CAAC2J,KAAM3J,EAAGX,KAAMA,MA6C3B,SAASM,EAAIgK,EAAMtK,GACjB,IAAK,IAA4BF,EAAxBL,EAAI,EAAGyB,EAAIoJ,EAAK/G,OAAW9D,EAAIyB,IAAKzB,EAC3C,IAAKK,EAAIwK,EAAK7K,IAAIO,OAASA,EACzB,OAAOF,EAAEY,MAKf,SAAS2D,EAAIiG,EAAMtK,EAAMotB,GACvB,IAAK,IAAI3tB,EAAI,EAAGyB,EAAIoJ,EAAK/G,OAAQ9D,EAAIyB,IAAKzB,EACxC,GAAI6K,EAAK7K,GAAGO,OAASA,EAAM,CACzBsK,EAAK7K,GAAKqe,EAAMxT,EAAOA,EAAK5G,MAAM,EAAGjE,GAAG06B,OAAO7vB,EAAK5G,MAAMjE,EAAI,IAC9D,MAIJ,OADgB,MAAZ2tB,GAAkB9iB,EAAK1F,KAAK,CAAC5E,KAAMA,EAAMU,MAAO0sB,IAC7C9iB,EAzDT6nH,EAAS9wH,UAAY8sB,EAAS9sB,UAAY,CACxCkD,YAAa4tH,EACbvjG,GAAI,SAAS8jD,EAAUtlD,GACrB,IAEIzsB,EAFA8E,EAAIzB,KAAKyB,EACTisG,EAAIn/B,EAAeG,EAAW,GAAIjtE,GAElChG,GAAK,EACLyB,EAAIwwG,EAAEnuG,OAGV,KAAIQ,UAAUR,OAAS,GAAvB,CAOA,GAAgB,MAAZ6pB,GAAwC,mBAAbA,EAAyB,MAAM,IAAIvjB,MAAM,qBAAuBujB,GAC/F,OAAS3tB,EAAIyB,GACX,GAAIP,GAAK+xE,EAAWg/B,EAAEjyG,IAAI6K,KAAM7E,EAAE9E,GAAK0D,EAAIoB,EAAE9E,GAAI+xE,EAAS1yE,KAAMotB,QAC3D,GAAgB,MAAZA,EAAkB,IAAKzsB,KAAK8E,EAAGA,EAAE9E,GAAK0D,EAAIoB,EAAE9E,GAAI+xE,EAAS1yE,KAAM,MAG1E,OAAOgE,KAZL,OAASvE,EAAIyB,GAAG,IAAKP,GAAK+xE,EAAWg/B,EAAEjyG,IAAI6K,QAAU3J,EAAIL,EAAImF,EAAE9E,GAAI+xE,EAAS1yE,OAAQ,OAAOW,GAc/F+E,KAAM,WACJ,IAAIA,EAAO,GAAID,EAAIzB,KAAKyB,EACxB,IAAK,IAAI9E,KAAK8E,EAAGC,EAAK/E,GAAK8E,EAAE9E,GAAG+C,QAChC,OAAO,IAAIyuH,EAASzsH,IAEtB9F,KAAM,SAAS0K,EAAMotB,GACnB,IAAKx2B,EAAI6C,UAAUR,OAAS,GAAK,EAAG,IAAK,IAAgCrC,EAAGP,EAA/BqyE,EAAO,IAAIvvE,MAAMvC,GAAIzB,EAAI,EAASA,EAAIyB,IAAKzB,EAAGuzE,EAAKvzE,GAAKsE,UAAUtE,EAAI,GACnH,IAAKuE,KAAKyB,EAAEnE,eAAegJ,GAAO,MAAM,IAAIT,MAAM,iBAAmBS,GACrE,IAAuB7K,EAAI,EAAGyB,GAAzBP,EAAIqD,KAAKyB,EAAE6E,IAAoB/G,OAAQ9D,EAAIyB,IAAKzB,EAAGkB,EAAElB,GAAGiB,MAAMiF,MAAM+xB,EAAMs7C,IAEjFrtE,MAAO,SAAS2E,EAAMotB,EAAMs7C,GAC1B,IAAKhvE,KAAKyB,EAAEnE,eAAegJ,GAAO,MAAM,IAAIT,MAAM,iBAAmBS,GACrE,IAAK,IAAI3J,EAAIqD,KAAKyB,EAAE6E,GAAO7K,EAAI,EAAGyB,EAAIP,EAAE4C,OAAQ9D,EAAIyB,IAAKzB,EAAGkB,EAAElB,GAAGiB,MAAMiF,MAAM+xB,EAAMs7C,KAuBxE,O,6BCnFf,YAEe,gBACb,MAA2B,iBAAbt9C,EACR,IAAI,IAAU,CAAC,CAAChF,SAASuwC,cAAcvrC,KAAa,CAAChF,SAASE,kBAC9D,IAAI,IAAU,CAAC,CAAC8E,IAAY,O,yDCKhC5Z,EAAK,EAAI,GACT2R,EAAK,EAAI3R,EAAKA,EAGlB,SAASs2G,EAAWlyH,GAClB,GAAIA,aAAamyH,EAAK,OAAO,IAAIA,EAAInyH,EAAER,EAAGQ,EAAE0G,EAAG1G,EAAEyG,EAAGzG,EAAEwqB,SACtD,GAAIxqB,aAAaoyH,EAAK,OAAOC,EAAQryH,GAC/BA,aAAa,MAAMA,EAAI,YAAWA,IACxC,IAGuE4C,EAAGwM,EAHtE/O,EAAIiyH,EAAStyH,EAAEK,GACfiL,EAAIgnH,EAAStyH,EAAEsL,GACf7E,EAAI6rH,EAAStyH,EAAEyG,GACf2C,EAAImpH,GAAS,SAAYlyH,EAAI,SAAYiL,EAAI,SAAY7E,GAdtD,GAmBP,OAJIpG,IAAMiL,GAAKA,IAAM7E,EAAG7D,EAAIwM,EAAIhG,GAC9BxG,EAAI2vH,GAAS,SAAYlyH,EAAI,SAAYiL,EAAI,SAAY7E,GAjBpD,QAkBL2I,EAAImjH,GAAS,SAAYlyH,EAAI,SAAYiL,EAAI,SAAY7E,GAhBpD,SAkBA,IAAI0rH,EAAI,IAAM/oH,EAAI,GAAI,KAAOxG,EAAIwG,GAAI,KAAOA,EAAIgG,GAAIpP,EAAEwqB,SAWxD,SAAS2nG,EAAI3yH,EAAGkH,EAAGD,EAAG+jB,GAC3B1mB,KAAKtE,GAAKA,EACVsE,KAAK4C,GAAKA,EACV5C,KAAK2C,GAAKA,EACV3C,KAAK0mB,SAAWA,EA0BlB,SAAS+nG,EAAQ9xH,GACf,OAAOA,EAxDAmb,oBAwDSja,KAAKc,IAAIhC,EAAG,EAAI,GAAKA,EAAI8sB,EA3DlC,EAAI,GA8Db,SAASilG,EAAQ/xH,GACf,OAAOA,EAAImb,EAAKnb,EAAIA,EAAIA,EAAI8sB,GAAM9sB,EA/D3B,EAAI,IAkEb,SAASgyH,EAAS7vH,GAChB,OAAO,KAAOA,GAAK,SAAY,MAAQA,EAAI,MAAQjB,KAAKc,IAAIG,EAAG,EAAI,KAAO,MAG5E,SAAS0vH,EAAS1vH,GAChB,OAAQA,GAAK,MAAQ,OAAUA,EAAI,MAAQjB,KAAKc,KAAKG,EAAI,MAAS,MAAO,KAG3E,SAAS8vH,EAAW1yH,GAClB,GAAIA,aAAaoyH,EAAK,OAAO,IAAIA,EAAIpyH,EAAE4qB,EAAG5qB,EAAEJ,EAAGI,EAAER,EAAGQ,EAAEwqB,SAEtD,GADMxqB,aAAamyH,IAAMnyH,EAAIkyH,EAAWlyH,IAC5B,IAARA,EAAE0G,GAAmB,IAAR1G,EAAEyG,EAAS,OAAO,IAAI2rH,EAAIpqH,IAAK,EAAIhI,EAAER,GAAKQ,EAAER,EAAI,IAAM,EAAIwI,IAAKhI,EAAER,EAAGQ,EAAEwqB,SACvF,IAAII,EAAIjpB,KAAKS,MAAMpC,EAAEyG,EAAGzG,EAAE0G,GAAK,IAC/B,OAAO,IAAI0rH,EAAIxnG,EAAI,EAAIA,EAAI,IAAMA,EAAGjpB,KAAKkB,KAAK7C,EAAE0G,EAAI1G,EAAE0G,EAAI1G,EAAEyG,EAAIzG,EAAEyG,GAAIzG,EAAER,EAAGQ,EAAEwqB,SAOxE,SAASmoG,EAAI/nG,EAAGhrB,EAAGJ,EAAGgrB,GAC3B,OAA4B,IAArB3mB,UAAUR,OAAeqvH,EAAW9nG,GAAK,IAAIwnG,EAAIxnG,EAAGhrB,EAAGJ,EAAc,MAAXgrB,EAAkB,EAAIA,GAGlF,SAAS4nG,EAAIxnG,EAAGhrB,EAAGJ,EAAGgrB,GAC3B1mB,KAAK8mB,GAAKA,EACV9mB,KAAKlE,GAAKA,EACVkE,KAAKtE,GAAKA,EACVsE,KAAK0mB,SAAWA,EAGlB,SAAS6nG,EAAQryH,GACf,GAAI4H,MAAM5H,EAAE4qB,GAAI,OAAO,IAAIunG,EAAInyH,EAAER,EAAG,EAAG,EAAGQ,EAAEwqB,SAC5C,IAAII,EAAI5qB,EAAE4qB,EAAI,IACd,OAAO,IAAIunG,EAAInyH,EAAER,EAAGmC,KAAKU,IAAIuoB,GAAK5qB,EAAEJ,EAAG+B,KAAKe,IAAIkoB,GAAK5qB,EAAEJ,EAAGI,EAAEwqB,SAjE9D,OAAAqQ,EAAA,GAAOs3F,GAXQ,SAAa3yH,EAAGkH,EAAGD,EAAG+jB,GACnC,OAA4B,IAArB3mB,UAAUR,OAAe6uH,EAAW1yH,GAAK,IAAI2yH,EAAI3yH,EAAGkH,EAAGD,EAAc,MAAX+jB,EAAkB,EAAIA,KAUxE,YAAO,IAAO,CAC7BzK,SAAU,SAAS3Y,GACjB,OAAO,IAAI+qH,EAAIruH,KAAKtE,EAzChB,IAyC8B,MAAL4H,EAAY,EAAIA,GAAItD,KAAK4C,EAAG5C,KAAK2C,EAAG3C,KAAK0mB,UAExE1K,OAAQ,SAAS1Y,GACf,OAAO,IAAI+qH,EAAIruH,KAAKtE,EA5ChB,IA4C8B,MAAL4H,EAAY,EAAIA,GAAItD,KAAK4C,EAAG5C,KAAK2C,EAAG3C,KAAK0mB,UAExEhjB,IAAK,WACH,IAAI4B,GAAKtF,KAAKtE,EAAI,IAAM,IACpBoD,EAAIgF,MAAM9D,KAAK4C,GAAK0C,EAAIA,EAAItF,KAAK4C,EAAI,IACrC0I,EAAIxH,MAAM9D,KAAK2C,GAAK2C,EAAIA,EAAItF,KAAK2C,EAAI,IAIzC,OAHA7D,EAjDK,OAiDI4vH,EAAQ5vH,GACjBwG,EAjDK,EAiDIopH,EAAQppH,GACjBgG,EAjDK,OAiDIojH,EAAQpjH,GACV,IAAI,IACTqjH,EAAU,UAAY7vH,EAAI,UAAYwG,EAAI,SAAYgG,GACtDqjH,GAAU,SAAY7vH,EAAI,UAAYwG,EAAI,QAAYgG,GACtDqjH,EAAU,SAAY7vH,EAAI,SAAYwG,EAAI,UAAYgG,GACtDtL,KAAK0mB,aAkDX,OAAAqQ,EAAA,GAAOu3F,EAAKO,EAAK,YAAO,IAAO,CAC7B5yG,SAAU,SAAS3Y,GACjB,OAAO,IAAIgrH,EAAItuH,KAAK8mB,EAAG9mB,KAAKlE,EAAGkE,KAAKtE,EA7GhC,IA6G8C,MAAL4H,EAAY,EAAIA,GAAItD,KAAK0mB,UAExE1K,OAAQ,SAAS1Y,GACf,OAAO,IAAIgrH,EAAItuH,KAAK8mB,EAAG9mB,KAAKlE,EAAGkE,KAAKtE,EAhHhC,IAgH8C,MAAL4H,EAAY,EAAIA,GAAItD,KAAK0mB,UAExEhjB,IAAK,WACH,OAAO6qH,EAAQvuH,MAAM0D,U,YCrHzB,SAAS,EAAIiY,GACX,OAAO,SAASpZ,EAAO4J,GACrB,IAAI2a,EAAInL,GAAKpZ,EAAQ,EAASA,IAAQukB,GAAI3a,EAAM,EAASA,IAAM2a,GAC3DhrB,EAAI,YAAMyG,EAAMzG,EAAGqQ,EAAIrQ,GACvBJ,EAAI,YAAM6G,EAAM7G,EAAGyQ,EAAIzQ,GACvBgrB,EAAU,YAAMnkB,EAAMmkB,QAASva,EAAIua,SACvC,OAAO,SAAS/pB,GAKd,OAJA4F,EAAMukB,EAAIA,EAAEnqB,GACZ4F,EAAMzG,EAAIA,EAAEa,GACZ4F,EAAM7G,EAAIA,EAAEiB,GACZ4F,EAAMmkB,QAAUA,EAAQ/pB,GACjB4F,EAAQ,KAKN,MAAI,KACE,EAAI,M,kDCjBV,WAEb,IAAIusH,EACAC,EAuDJ,SAASC,EAAuBC,GAC9B,IAAIC,EACAC,EACAC,EAEJ,OAAQH,GACN,IAAK,MAIH,OAHAC,EAAc/wE,EAAE,qBAAqBkxE,OAAO,SAAU,OAASlxE,EAAE,qBAAqBkxE,OAAO,SAAU,OACvGF,EAAeG,IAAe,GAAKA,IAAe,GAClDF,EAAWD,EAAeD,EACnBE,EACT,IAAK,OAIH,OAHAF,EAAc/wE,EAAE,sBAAsBkxE,OAAO,SAAU,OAASlxE,EAAE,sBAAsBkxE,OAAO,SAAU,OACzGF,EAAeI,IAAc,GAAKA,IAAc,GAChDH,EAAWD,EAAeD,EACnBE,EACT,IAAK,OAIH,OAHAF,EAAc/wE,EAAE,sBAAsBkxE,OAAO,SAAU,OAASlxE,EAAE,sBAAsBkxE,OAAO,SAAU,OACzGF,EAAeK,IAAc,GAAKA,IAAc,GAChDJ,EAAWD,EAAeD,EACnBE,EACT,IAAK,cAIH,OAHAF,EAAc/wE,EAAE,6BAA6BkxE,OAAO,SAAU,OAASlxE,EAAE,6BAA6BkxE,OAAO,SAAU,OACvHF,EAAeM,IAAiB,GAAKA,IAAiB,GACtDL,EAAWD,EAAeD,EACnBE,EACT,IAAK,SAIH,OAHAF,EAAc/wE,EAAE,wBAAwBkxE,OAAO,SAAU,OAASlxE,EAAE,wBAAwBkxE,OAAO,SAAU,OAC7GF,EAAeO,IAAY,GAAKA,IAAY,GAC5CN,EAAWD,EAAeD,EACnBE,EACT,IAAK,OAIH,OAHAF,EAAc/wE,EAAE,sBAAsBkxE,OAAO,SAAU,OAASlxE,EAAE,sBAAsBkxE,OAAO,SAAU,OACzGF,EAAeQ,IAAU,GAAKA,IAAU,GACxCP,EAAWD,EAAeD,EACnBE,EACT,IAAK,UAIH,OAHAF,EAAc/wE,EAAE,yBAAyBkxE,OAAO,SAAU,OAASlxE,EAAE,yBAAyBkxE,OAAO,SAAU,OAC/GF,EAAeS,IAAa,GAAKA,IAAa,GAC9CR,EAAWD,EAAeD,EACnBE,GAkBb,SAASE,IAIP,MAFgB,CAACnxE,EAAE,qBAAqBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,qBAAqBkxE,OAAO,SAAU,UAAU,IAK3H,SAASE,IAIP,MAFiB,CAACpxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,IAK9H,SAASG,IAIP,MAFiB,CAACrxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,IAK9H,SAASI,IAIP,MAFkB,CAACtxE,EAAE,6BAA6BkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,6BAA6BkxE,OAAO,SAAU,UAAU,IAK7I,SAASK,IAIP,MAFmB,CAACvxE,EAAE,wBAAwBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,wBAAwBkxE,OAAO,SAAU,UAAU,IAKpI,SAASM,IAIP,MAFiB,CAACxxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,IAK9H,SAASO,IAIP,MAFoB,CAACzxE,EAAE,yBAAyBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,yBAAyBkxE,OAAO,SAAU,UAAU,IClKvIlxE,GAAG,WACDA,EAAG,oBAAqBkxE,OAAO,CAC7BvvH,OAAO,EACPT,IAAK,IACLD,IAAK,IACLyB,OAAQ,CAAE,IAAK,KACfgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,aAAcwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC1Ds9C,EAAG,WAAYwW,IAAIm7D,EAAGjvH,OAAQ,IAC9Bs9C,EAAG,WAAYwW,IAAIm7D,EAAGjvH,OAAQ,OAGhCs9C,EAAG,aAAcwW,IAAKxW,EAAG,oBAAqBkxE,OAAQ,SAAU,GAChE,MAAQlxE,EAAG,oBAAqBkxE,OAAQ,SAAU,IAClDlxE,EAAG,WAAYwW,IAAIxW,EAAG,oBAAqBkxE,OAAQ,SAAU,IAC7DlxE,EAAG,WAAYwW,IAAIxW,EAAG,oBAAqBkxE,OAAQ,SAAU,OAG/DlxE,GAAG,WACDA,EAAG,qBAAsBkxE,OAAO,CAC9BvvH,OAAO,EACPT,IAAK,GACLD,IAAK,GACLyB,OAAQ,CAAE,GAAI,IACdgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,cAAewW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC3Ds9C,EAAG,YAAawW,IAAIm7D,EAAGjvH,OAAQ,IAC/Bs9C,EAAG,YAAawW,IAAIm7D,EAAGjvH,OAAQ,OAGjCs9C,EAAG,cAAewW,IAAKxW,EAAG,qBAAsBkxE,OAAQ,SAAU,GAClE,MAAQlxE,EAAG,qBAAsBkxE,OAAQ,SAAU,IACnDlxE,EAAG,YAAawW,IAAIxW,EAAG,qBAAsBkxE,OAAQ,SAAU,IAC/DlxE,EAAG,YAAawW,IAAIxW,EAAG,qBAAsBkxE,OAAQ,SAAU,OAGjElxE,GAAG,WACDA,EAAG,qBAAsBkxE,OAAO,CAC9BvvH,OAAO,EACPT,IAAK,EACLD,IAAK,GACLyB,OAAQ,CAAE,EAAG,IACbgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,cAAewW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC3Ds9C,EAAG,YAAawW,IAAIm7D,EAAGjvH,OAAQ,IAC/Bs9C,EAAG,YAAawW,IAAIm7D,EAAGjvH,OAAQ,OAGjCs9C,EAAG,cAAewW,IAAKxW,EAAG,qBAAsBkxE,OAAQ,SAAU,GAClE,MAAQlxE,EAAG,qBAAsBkxE,OAAQ,SAAU,IACnDlxE,EAAG,YAAawW,IAAIxW,EAAG,qBAAsBkxE,OAAQ,SAAU,IAC/DlxE,EAAG,YAAawW,IAAIxW,EAAG,qBAAsBkxE,OAAQ,SAAU,OAGjElxE,GAAG,WACDA,EAAG,sBAAuBkxE,OAAO,CAC/BvvH,OAAO,EACPT,IAAK,KACLD,IAAK,MACLyB,OAAQ,CAAE,KAAM,OAChBgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,eAAgBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC5Ds9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,IAChCs9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,OAGlCs9C,EAAG,eAAgBwW,IAAKxW,EAAG,sBAAuBkxE,OAAQ,SAAU,GACpE,MAAQlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,IACpDlxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,IACjElxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,OAGnElxE,GAAG,WACDA,EAAG,sBAAuBkxE,OAAO,CAC/BvvH,OAAO,EACPT,KAAM,GACND,IAAK,EACLyB,OAAQ,EAAG,GAAK,GAChBgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,eAAgBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC5Ds9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,IAChCs9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,OAGlCs9C,EAAG,eAAgBwW,IAAKxW,EAAG,sBAAuBkxE,OAAQ,SAAU,GACpE,MAAQlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,IACpDlxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,IACjElxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,OAGnElxE,GAAG,WACDA,EAAG,6BAA8BkxE,OAAO,CACtCvvH,OAAO,EACPT,KAAM,EACND,IAAK,GACLyB,OAAQ,EAAG,EAAG,IACdgB,KAAM,IACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,sBAAuBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IACnEs9C,EAAG,oBAAqBwW,IAAIm7D,EAAGjvH,OAAQ,IACvCs9C,EAAG,oBAAqBwW,IAAIm7D,EAAGjvH,OAAQ,OAGzCs9C,EAAG,sBAAuBwW,IAAKxW,EAAG,6BAA8BkxE,OAAQ,SAAU,GAClF,MAAQlxE,EAAG,6BAA8BkxE,OAAQ,SAAU,IAC3DlxE,EAAG,oBAAqBwW,IAAIxW,EAAG,6BAA8BkxE,OAAQ,SAAU,IAC/ElxE,EAAG,oBAAqBwW,IAAIxW,EAAG,6BAA8BkxE,OAAQ,SAAU,OAGjFlxE,GAAG,WACDA,EAAG,wBAAyBkxE,OAAO,CACjCvvH,OAAO,EACPT,IAAK,GACLD,IAAK,IACLyB,OAAQ,CAAE,GAAK,KACfgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,iBAAkBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC9Ds9C,EAAG,eAAgBwW,IAAIm7D,EAAGjvH,OAAQ,IAClCs9C,EAAG,eAAgBwW,IAAIm7D,EAAGjvH,OAAQ,OAGpCs9C,EAAG,iBAAkBwW,IAAKxW,EAAG,wBAAyBkxE,OAAQ,SAAU,GACxE,MAAQlxE,EAAG,wBAAyBkxE,OAAQ,SAAU,IACtDlxE,EAAG,eAAgBwW,IAAIxW,EAAG,wBAAyBkxE,OAAQ,SAAU,IACrElxE,EAAG,eAAgBwW,IAAIxW,EAAG,wBAAyBkxE,OAAQ,SAAU,OAGvElxE,GAAG,WACDA,EAAG,sBAAuBkxE,OAAO,CAC/BvvH,OAAO,EACPT,IAAK,EACLD,IAAK,EACLyB,OAAQ,CAAE,EAAG,GACbgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,eAAgBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC5Ds9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,IAChCs9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,OAGlCs9C,EAAG,eAAgBwW,IAAKxW,EAAG,sBAAuBkxE,OAAQ,SAAU,GACpE,MAAQlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,IACpDlxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,IACjElxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,OAGnElxE,GAAG,WACDA,EAAG,yBAA0BkxE,OAAO,CAClCvvH,OAAO,EACPT,IAAK,EACLD,IAAK,IACLyB,OAAQ,CAAE,EAAG,KACbgB,KAAM,GACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,kBAAmBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC/Ds9C,EAAG,gBAAiBwW,IAAIm7D,EAAGjvH,OAAQ,IACnCs9C,EAAG,gBAAiBwW,IAAIm7D,EAAGjvH,OAAQ,OAGrCs9C,EAAG,kBAAmBwW,IAAKxW,EAAG,yBAA0BkxE,OAAQ,SAAU,GAC1E,MAAQlxE,EAAG,yBAA0BkxE,OAAQ,SAAU,IACvDlxE,EAAG,gBAAiBwW,IAAIxW,EAAG,yBAA0BkxE,OAAQ,SAAU,IACvElxE,EAAG,gBAAiBwW,IAAIxW,EAAG,yBAA0BkxE,OAAQ,SAAU,OAGzElxE,GAAG,WACDA,EAAG,yBAA0BkxE,OAAO,CAClCvvH,OAAO,EACPT,IAAK,EACLD,IAAK,EACLyB,OAAQ,CAAE,EAAG,GACbgB,KAAM,EACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,kBAAmBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC/Ds9C,EAAG,gBAAiBwW,IAAIm7D,EAAGjvH,OAAQ,IACnCs9C,EAAG,gBAAiBwW,IAAIm7D,EAAGjvH,OAAQ,OAGrCs9C,EAAG,kBAAmBwW,IAAKxW,EAAG,yBAA0BkxE,OAAQ,SAAU,GAC1E,MAAQlxE,EAAG,yBAA0BkxE,OAAQ,SAAU,IACvDlxE,EAAG,gBAAiBwW,IAAIxW,EAAG,yBAA0BkxE,OAAQ,SAAU,IACvElxE,EAAG,gBAAiBwW,IAAIxW,EAAG,yBAA0BkxE,OAAQ,SAAU,OAGzElxE,GAAG,WACDA,EAAG,sBAAuBkxE,OAAO,CAC/BvvH,OAAO,EACPT,IAAK,EACLD,IAAK,EACLyB,OAAQ,CAAE,EAAG,GACbgB,KAAM,EACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,eAAgBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC5Ds9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,IAChCs9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,OAGlCs9C,EAAG,eAAgBwW,IAAKxW,EAAG,sBAAuBkxE,OAAQ,SAAU,GACpE,MAAQlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,IACpDlxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,IACjElxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,OAGnElxE,GAAG,WACDA,EAAG,sBAAuBkxE,OAAO,CAC/BvvH,OAAO,EACPT,IAAK,EACLD,IAAK,GACLyB,OAAQ,CAAE,EAAG,IACbgB,KAAM,EACNguH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,eAAgBwW,IAAKm7D,EAAGjvH,OAAQ,GAAM,MAAQivH,EAAGjvH,OAAQ,IAC5Ds9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,IAChCs9C,EAAG,aAAcwW,IAAIm7D,EAAGjvH,OAAQ,OAGlCs9C,EAAG,eAAgBwW,IAAKxW,EAAG,sBAAuBkxE,OAAQ,SAAU,GACpE,MAAQlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,IACpDlxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,IACjElxE,EAAG,aAAcwW,IAAIxW,EAAG,sBAAuBkxE,OAAQ,SAAU,OAGnElxE,GAAG,WACDA,EAAG,sBAAuBkxE,OAAO,CAC/BvvH,MAAO,MACPT,IAAK,EACL3C,MAAO,IACPmzH,MAAO,SAAU18F,EAAO28F,GACxB3xE,EAAG,4BAA6BwW,IAAKm7D,EAAGpzH,MAAQ,SAGlDyhD,EAAG,4BAA6BwW,IAAKxW,EAAG,sBAAuBkxE,OAAQ,SAAW,SDlOpF3iG,SAASq4B,eAAe,cAAcskC,UAAY,wCAGlD38D,SAASq4B,eAAe,gBAAgBgrE,UAAW,EACnDrjG,SAASq4B,eAAe,eAAegrE,UAAW,EAGlDrjG,SAASq4B,eAAe,6BAA6BgrE,UAAW,EAgBhErjG,SAASioB,iBAAiB,UAAWxhB,IACb,KAAlBA,EAAM68F,SAfZ,WAEE,IAAIC,EAAYtnG,OAAOunG,aAAexjG,SAASE,gBAAgBqjG,UAC3DE,EAAaxnG,OAAOynG,aAAe1jG,SAASE,gBAAgBujG,WAE5DxnG,OAAO0nG,SAAW,WACd1nG,OAAO2nG,SAASH,EAAYF,IAWlCM,KAGJ7jG,SAASioB,iBAAiB,QAASxhB,IACX,KAAlBA,EAAM68F,UAVVrnG,OAAO0nG,SAAW,gBAgNpB,IAQIG,EACA/nD,EAEAgoD,EALAz7B,EAAM,kBANG,CACXlhD,UAAW,SACXuG,SAAU,CAAC,KAAM,MACjB+tB,WAAW,IAOTlrE,EAAI,EAykBRwvB,SAASq4B,eAAe,eAAemD,QAAU,KAC/C,IACE8sC,EAAIvrB,OAEN,MAAMjgE,GACJsxB,QAAQr8B,IAAI+K,KAGhBkjB,SAASq4B,eAAe,gBAAgBmD,QAAU,KAChD,IACE4mE,GAAY,IAAI1rH,MAAOm3B,UACvBO,QAAQr8B,IAAI,6BAA8BqwH,GAC1C95B,EAAIzyF,QAEN,MAAMiH,GACJsxB,QAAQr8B,IAAI+K,KAIhBkjB,SAASq4B,eAAe,cAAc2rE,SAzlBnB97E,IAEjBloB,SAASq4B,eAAe,6BAA6BgrE,UAAW,EAChES,EAAc57E,EAAI/vC,OAAO8rH,MAAM,GAAG5vH,KAClC0vH,EAAU77E,EAAI/vC,OAAO8rH,MAAM,IAslB7BjkG,SAASq4B,eAAe,6BAA6BmD,QAnlB9B,KAGnBugB,EADE/7C,SAASq4B,eAAe,UAAU6rE,QACxB,IACHlkG,SAASq4B,eAAe,UAAU6rE,QAC/B,IACHlkG,SAASq4B,eAAe,WAAW6rE,QAChC,IAEA,KAGd57B,EAAI5vF,MAAM,CACRR,OAAQ6rH,EACRhoD,UAAWA,EACXtvC,OAAQ,CACN03F,aAAc,SACdC,MAAO,MACPC,eAAgB,SAChBC,GAAI,QACJC,IAAK,QACLC,OAAQ,QACRC,KAAM,MACNC,UAAW,MACXC,UAAW,MACXC,UAAW,SACXC,KAAM,QACNC,UAAW,QACXC,UAAW,QACXC,UAAW,SACXC,IAAK,QACLC,SAAU,QACVC,SAAU,QACVC,SAAU,SACVzsF,OAAQ,QACR0sF,YAAa,QACbC,YAAa,QACbC,KAAM,QACNC,UAAW,QACXC,UAAW,QACXC,KAAM,QACNC,UAAW,QACXC,UAAW,QACXC,SAAU,SACVC,OAAQ,MACRC,KAAM,MACNC,KAAM,MACNC,YAAa,MACbC,gBAAiB,YAIrB,IAEIljE,EAAQ,CAEV,CACEllC,GAAI,iBAAkBxe,OAAQ,CAAC,EAAE,GACjCtJ,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAPS,IAOM8tC,OAPN,IAQToU,QAAQ,EACRggB,WAAW,GAGb,CACE59C,GAAI,oBAAqBxe,OAAQ,CAbxB,IAaiC,GAC1CtJ,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,GAETy+C,UAAW,CAACjjD,GAAG,IAEjB,CACEklB,GAAI,mBAAoBxe,OAAQ,CAAC6mH,KAAY,GAC7CnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,IAETy+C,UAAW,CAACjjD,GAAG,IAGjB,CACEklB,GAAI,oBAAqBxe,OAAQ,CAhCxB,IAgCiC,KAC1CtJ,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,IAETy+C,UAAW,CAACjjD,GAAG,IAEjB,CACEklB,GAAI,sBAAuBxe,OAAQ,CAAC6mH,KAAY,KAChDnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,GAETy+C,UAAW,CAACjjD,GAAG,IAGjB,CACEklB,GAAI,kBAAmBxe,OAAQ,CAAC,GAAI6mH,KACpCnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpBuU,UAAW,CAACjjD,GAAG,IAEjB,CACEklB,GAAI,eAAgBxe,OAAQ,CAAC,IAAQ6mH,KACrCnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpBuU,UAAW,CAACjjD,GAAG,IAEjB,CACEklB,GAAI,eAAgBxe,OAAQ,CAAC,KAAU6mH,KACvCnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpBuU,UAAW,CAACjjD,GAAG,IAGjB,CACEklB,GAAI,uBAAwBxe,OAAQ,CAAC,GAAI6mH,MACzCnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,IAETy+C,UAAW,CAACjjD,GAAG,IAEjB,CACEklB,GAAI,uBAAwBxe,OAAQ,CAAC,IAAQ6mH,MAC7CnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,IAETy+C,UAAW,CAACjjD,GAAG,IAEjB,CACEklB,GAAI,2BAA4Bxe,OAAQ,CAAC,KAAU6mH,MACnDnwH,QAAS,CAAC6V,KAAM,GAAIX,MAAO,GAAI4zB,IAAK,GAAIC,OAAQ,IAChDvlC,MAAO,IAAK8tC,OAAQ,IACpB6kB,MAAO,CACL/uD,MAAO,IAETy+C,UAAW,CAACjjD,GAAG,KAnNnB64C,EAAG,oBAAqBkxE,OAAQ,SAAU,YAAY,GACtDlxE,EAAG,qBAAsBkxE,OAAQ,SAAU,YAAY,GACvDlxE,EAAG,qBAAsBkxE,OAAQ,SAAU,YAAY,GACvDlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,YAAY,GACxDlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,YAAY,GACxDlxE,EAAG,6BAA8BkxE,OAAQ,SAAU,YAAY,GAC/DlxE,EAAG,wBAAyBkxE,OAAQ,SAAU,YAAY,GAC1DlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,YAAY,GACxDlxE,EAAG,yBAA0BkxE,OAAQ,SAAU,YAAY,GAC3DlxE,EAAG,yBAA0BkxE,OAAQ,SAAU,YAAY,GAC3DlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,YAAY,GACxDlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,YAAY,GACxDlxE,EAAG,sBAAuBkxE,OAAQ,SAAU,YAAY,GAExD3iG,SAASq4B,eAAe,6BAA6BgrE,UAAW,EAChErjG,SAASq4B,eAAe,cAAcskC,UAAY,iDAClD38D,SAASq4B,eAAe,gBAAgBgrE,UAAW,EAEnDrjG,SAASq4B,eAAe,gBAAgBgrE,UAAW,EACnDrjG,SAASq4B,eAAe,eAAegrE,UAAW,EAsMlD,IAAI+C,EAjTW,CAAC30E,EAAE,oBAAoBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,oBAAoBkxE,OAAO,SAAU,UAAU,IAkTlH0D,EA3SY,CAAC50E,EAAE,qBAAqBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,qBAAqBkxE,OAAO,SAAU,UAAU,IA4SrH2D,EA9WN,SAA2BC,EAASC,GAClC,IAAIC,EAAah1E,EAAE,oBAAoBkxE,OAAO,SAAU,OAASlxE,EAAE,oBAAoBkxE,OAAO,SAAU,OAEpG+D,GADcH,EAAQ,GAAKA,EAAQ,IACXE,EAExBE,EAAcl1E,EAAE,qBAAqBkxE,OAAO,SAAU,OAASlxE,EAAE,qBAAqBkxE,OAAO,SAAU,OAK3G,MAAO,CAAS,KAAR+D,EAAa,EAAY,OAJdF,EAAS,GAAKA,EAAS,IACZG,GAGQ,GAoWxBC,CAAkBR,EAAUC,GAEtCQ,EAAYjE,IACZkE,EAAajE,IACbkE,EAAajE,IACbkE,EAAcjE,IACdkE,EAAejE,IACfkE,EAAajE,IACbkE,EAAgBjE,IAChBkE,EA7PgB,CAAC31E,EAAE,yBAAyBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,yBAAyBkxE,OAAO,SAAU,UAAU,IA8PjI0E,EAvPa,CAAC51E,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,IAwPxH2E,EAjPa,CAAC71E,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,GAAIlxE,EAAE,sBAAsBkxE,OAAO,SAAU,UAAU,IAkPxH4E,EA5OG91E,EAAE,sBAAsBkxE,OAAO,SAAS,IA8O/Cr6B,EAAIrjC,KAAKjC,GACTslC,EAAI9rB,MAAM,CACR,CACEvjE,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAAC,CAACu9D,GAAInzH,KAAKW,KAAKw0H,EAAQ,GAAGiB,IAAc,CAAChD,IAAKpzH,KAAKW,KAAKw0H,EAAQ,GAAGiB,KAC1Et4E,SAAU,CACRu4E,WAAY,CAACxkD,OAAQ,OAGzBzmE,IAAK,kBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAAC09D,KAAMtzH,KAAKW,KAAK,IAAIwwH,EAAuB,UAClDrzE,SAAU,CACRw4E,WAAY,CAACzkD,OAAQ,UAGzBzmE,IAAK,qBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAACy9D,OAAQrzH,KAAKW,KAAK,IAAIwwH,EAAuB,SACpDrzE,SAAU,CACRy4E,UAAW,CAAC1kD,OAAQ,YAGxBzmE,IAAK,oBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAACw+D,KAAMp0H,KAAKW,KAAK,IAAIwwH,EAAuB,UAClDrzE,SAAU,CACR04E,WAAY,CAAC3kD,OAAQ,UAGzBzmE,IAAK,qBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAACpuB,OAAQxnC,KAAKW,KAAK,IAAIwwH,EAAuB,YACpDrzE,SAAU,CACR24E,aAAc,CAAC5kD,OAAQ,YAG3BzmE,IAAK,uBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACT6C,OAAQ,SACRH,SAAU,CACR44E,cAAe,CAAC7kD,OAAQ,YAG5BzmE,IAAK,WAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACT6C,OAAQ,OACRH,SAAU,CACR64E,WAAY,CAAC9kD,OAAQ,UAGzBzmE,IAAK,QAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACT6C,OAAQ,OACRH,SAAU,CACR84E,WAAY,CAAC/kD,OAAQ,UAGzBzmE,IAAK,QAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAAC89D,KAAM1zH,KAAKW,KAAK,IAAIwwH,EAAuB,UAClDrzE,SAAU,CACR+4E,cAAe,CAAChlD,OAAQ,UAG5BzmE,IAAK,wBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAAC2+D,KAAMv0H,KAAKW,KAAK,IAAIwwH,EAAuB,aAClDrzE,SAAU,CACRg5E,cAAe,CAACjlD,OAAQ,UAG5BzmE,IAAK,wBAEP,CACEtD,MAAO,CACLqrH,GAAI8B,EACJ7B,IAAK8B,EACL7B,OAAQqC,EACRpC,KAAMqC,EACNjC,KAAMkC,EACN9B,IAAK+B,EACLruF,OAAQsuF,EACR1B,KAAM2B,EACNxB,KAAMyB,EACNrB,OAAQsB,EACRrB,KAAMsB,EACNrB,KAAMsB,GAER/6E,UAAW,CACTwa,KAAM,CAACk+D,IAAK9zH,KAAKW,KAAK,IAAIwwH,EAAuB,iBACjDrzE,SAAU,CACRi5E,kBAAmB,CAACllD,OAAQ,SAGhCzmE,IAAK,8BAENmgE,SAAS,CACV,CACEjb,UAAW,CACT3jC,GAAI,iBACJwmC,GAAI,iBACJhO,KAAM,OACNv/C,MAAO,CACLqI,MAAO,aACPlF,SAAU,QAEZ9H,EAAG,KACHwG,EAAG,QAGP,CACE6oD,UAAW,CACT3jC,GAAI,oBACJwmC,GAAI,oBACJhO,KAAM,OACNv/C,MAAO,YACP3E,EAAG,OACHwG,EAAG,eAIP,CACE6oD,UAAW,CACT3jC,GAAI,mBACJwmC,GAAI,mBACJhO,KAAM,OACNv/C,MAAO,YACP3E,EAAG,SACHwG,EAAG,cAGP,CACE6oD,UAAW,CACT3jC,GAAI,oBACJwmC,GAAI,oBACJhO,KAAM,OACNv/C,MAAO,YACP3E,EAAG,OACHwG,EAAG,eAGP,CACE6oD,UAAW,CACT3jC,GAAI,sBACJwmC,GAAI,sBACJhO,KAAM,OACNv/C,MAAO,YACP3E,EAAG,SACHwG,EAAG,iBAGP,CACE6oD,UAAW,CACT3jC,GAAI,kBACJwmC,GAAI,UACJhO,KAAM,MACNv/C,MAAO,CACLqI,MAAO,gBACPlF,SAAU,IAEZ9H,EAAG,SACHk1C,OAAQ,kBAGZ,CACEma,UAAW,CACT3jC,GAAI,eACJwmC,GAAI,OACJhO,KAAM,MACNv/C,MAAO,CACLqI,MAAO,aACPlF,SAAU,IAEZ9H,EAAG,OACHk1C,OAAQ,eAGZ,CACEma,UAAW,CACT3jC,GAAI,eACJwmC,GAAI,OACJhO,KAAM,MACNv/C,MAAO,CACLqI,MAAO,aACPlF,SAAU,IAEZ9H,EAAG,OACHk1C,OAAQ,eAGZ,CACEma,UAAW,CACT3jC,GAAI,uBACJwmC,GAAI,uBACJhO,KAAM,OACNv/C,MAAO,YACP3E,EAAG,OACHwG,EAAG,kBAGP,CACE6oD,UAAW,CACT3jC,GAAI,uBACJwmC,GAAI,uBACJhO,KAAM,OACNv/C,MAAO,YACP3E,EAAG,OACHwG,EAAG,kBAGP,CACE6oD,UAAW,CACT3jC,GAAI,2BACJwmC,GAAI,2BACJhO,KAAM,SACNv/C,MAAO,YACP3E,EAAG,MACHwG,EAAG,wBAaRkjE,QAAO,WACN,IAAIY,EAAclsE,EAAIurE,EAAa+nD,EAAe,IAIlD,GAHApnD,EAA6BA,EAAjBA,EAAW,IAAiB,IAAiBA,EACzD18C,SAASq4B,eAAe,SAASskC,UAAY,mBAAqBjgB,EAAStiE,QAAQ,GAAK,KACxF5J,GAAK,EACY,MAAbksE,EAAkB,CACpB2lD,GAAU,IAAI3rH,MAAOm3B,UACrB,IAAIs6F,GAAe9F,EAAQD,GAAW,IAClCgG,EAAS53H,EAAE,EACf49B,QAAQr8B,IAAI,2BAA4BswH,GACxCj0F,QAAQr8B,IAAI,sBAAuBo2H,EAAa,YAChD/5F,QAAQr8B,IAAI,0BAA2Bq2H,EAAQ,YAC/Ch6F,QAAQr8B,IAAI,0BAA2Bq2H,EAAOD,EAAa,aE3zBnE","file":"pv-demo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 126);\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice\";\nimport {copy, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .flag(object, key, [value])\n *\n * Get or set a flag value on an object. If a\n * value is provided it will be set, else it will\n * return the currently set value or `undefined` if\n * the value is not set.\n *\n *     utils.flag(this, 'foo', 'bar'); // setter\n *     utils.flag(this, 'foo'); // getter, returns `bar`\n *\n * @param {Object} object constructed Assertion\n * @param {String} key\n * @param {Mixed} value (optional)\n * @namespace Utils\n * @name flag\n * @api private\n */\n\nmodule.exports = function flag(obj, key, value) {\n  var flags = obj.__flags || (obj.__flags = Object.create(null));\n  if (arguments.length === 3) {\n    flags[key] = value;\n  } else {\n    return flags[key];\n  }\n};\n","import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","const int      = Int32Array;\nconst short    = Int16Array;\nconst float    = Float32Array;\nconst double   = Float64Array;\nconst string   = Uint16Array;\nconst time     = Float32Array;\nconst datetime = Float32Array;\nconst temporal = Float32Array;\nconst integer  = Int32Array;\nconst numeric  = Float32Array;\nconst nominal  = Uint16Array;\n\nexport {\n    int,\n    short,\n    float,\n    double,\n    string,\n    time,\n    datetime,\n    temporal,\n    integer,\n    numeric,\n    nominal\n};\n","import * as ctypes from './ctypes';\r\nimport {unique} from './arrays';\r\n\r\nconst __VERSION__ = 1.0;\r\n\r\nexport default function ColumnStore(arg){\r\n    var cstore     = (this instanceof ColumnStore) ? this : {},\r\n        options    = arg || {},\r\n        columns    = [],                  // column-based binary data\r\n        size       = options.size  || 0,   // max size\r\n        count      = options.count || 0,   // number of entries stored\r\n        types      = options.types || [],  // types of the columns\r\n        attributes = options.attributes || options.keys || options.names || [],  // column attributes\r\n        struct     = options.struct || options.schema || null,\r\n        strValues  = options.strValues || {},  // string values \r\n        strLists   = options.strLists  || {},  // table lookaside buffer\r\n        intervals  = {},\r\n        indexes    = options.indexes || {},\r\n        colStats   = {},\r\n        colAlloc   = {},\r\n        colRead    = {},                  // functions for reading values\r\n        skip       = options.skip  || 0;\r\n\r\n    if(typeof(struct) === 'object') initStruct(struct);\r\n\r\n    function initCStore() {\r\n        if(size && types.length === attributes.length && types.length > 0) {\r\n            attributes.forEach(function(c, i){\r\n                configureColumn(i);\r\n                columns[i] = new colAlloc[c](size);\r\n                if(!columns.hasOwnProperty(c)) {\r\n                    Object.defineProperty(columns, c, {\r\n                        get: function() { return columns[i]; }\r\n                    });\r\n                }\r\n                if(intervals.hasOwnProperty(c)) {\r\n                    cstore.intervalize(c, intervals[c]);\r\n                }\r\n\r\n                // if(strValues[c] && Object.keys(strValues[c]).length > 0) {\r\n                //     strLists[c] = Object.keys(strValues[c]);\r\n                // }\r\n\r\n            });\r\n            columns.attributes = attributes;\r\n            columns.keys = attributes;\r\n            columns.types = types;\r\n            columns.struct = struct;\r\n            columns.strLists = strLists;\r\n            columns.strValues = strValues;\r\n            columns.uniqueValues = indexes;\r\n            columns.size = size;\r\n            columns.get = function(c) {\r\n                var index = attributes.indexOf(c);\r\n                if(index < 0 ) throw new Error(\"Error: No column named \" + c);\r\n                return columns[index];\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    function initStruct(s) {\r\n        struct = s;\r\n        if(Array.isArray(struct)) {\r\n            struct.forEach(function(s){\r\n                attributes.push(s.name);\r\n                types.push(s.type || s.dtype);\r\n            })\r\n        } else {\r\n            for(var k in struct){\r\n                attributes.push(k);\r\n                types.push(struct[k]);\r\n            }\r\n        }\r\n        return struct;\r\n    }\r\n\r\n    function configureColumn(cid) {\r\n        if(typeof(cid) == \"string\") cid = attributes.indexOf(cid);\r\n        var f = attributes[cid];\r\n        colAlloc[f] = ctypes[types[cid]];\r\n        var columnType = types[cid]\r\n        \r\n        if(strValues[f] && Object.keys(strValues[f]).length > 0) {\r\n            strLists[f] = Object.keys(strValues[f]);\r\n        }\r\n\r\n        if(columnType === 'string' || columnType === 'str'){\r\n            if (!strValues.hasOwnProperty(f)) {\r\n                strValues[f] = {};\r\n                strLists[f] = [];\r\n            }\r\n            colRead[f] = function(value) {\r\n                if(!strValues[f].hasOwnProperty(value)){\r\n                    strValues[f][value] = strLists[f].length;\r\n                    strLists[f].push(value);\r\n                }\r\n                return strValues[f][value];\r\n            };\r\n        } else if(['int', 'short', 'integer'].includes(columnType)) {\r\n            colRead[f] = function(value) { return parseInt(value) || 0; };\r\n        } else if(['float', 'double', 'numeric'].includes(columnType)){\r\n            colRead[f] = function(value) { return parseFloat(value) || 0.0; };\r\n        } else if(['date', 'time', 'datetime'].includes(columnType)){\r\n            colRead[f] = function(value) { \r\n                let datetime = new Date(value);\r\n                let ts = datetime.getTime() / 1000 - datetime.getTimezoneOffset() * 60; \r\n                return Math.floor(ts);\r\n            };\r\n        } else {\r\n            throw new Error('Invalid data type (' + columnType + ') for TypedArray data!')\r\n        }\r\n    }\r\n\r\n    cstore.addRows = function(rowArray) {\r\n        if(size === 0) {\r\n            size = rowArray.length;\r\n            initCStore();\r\n        }\r\n        if(count === 0 && skip > 0) {\r\n            for(var j = 0; j<skip; j++)\r\n                rowArray.shift();\r\n        }\r\n        rowArray.forEach(function(row, i){\r\n            row.forEach(function(v,j){\r\n                columns[j][count] = colRead[attributes[j]](v);\r\n            });\r\n            count++;\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    cstore.addObjects = function(objArray) {\r\n        if(count === 0 && skip > 0) {\r\n            for(var j = 0; j<skip; j++)\r\n                objArray.shift();\r\n        }\r\n        objArray.forEach(function(obj, i){\r\n            Object.keys(obj).forEach(function(v,j){\r\n                if(typeof colRead[attributes[j]] !== 'function') {\r\n                    console.log(attributes[j], j, v, obj)\r\n                }\r\n                columns[j][count] = colRead[attributes[j]](obj[v]);\r\n            });\r\n            count++;\r\n        });\r\n        return count;\r\n    }\r\n\r\n    cstore.addColumn = function(arg) {\r\n        var props = arg || {},\r\n            columnData = props.data || props.array,\r\n            columnName = props.name,\r\n            columnType = props.dtype,\r\n            values = props.values || [];\r\n\r\n        var cid = attributes.indexOf(columnName);\r\n        if( cid < 0) {\r\n            attributes.push(columnName);\r\n            types.push(columnType);\r\n            configureColumn(columnName);\r\n            cid = types.length - 1;\r\n            Object.defineProperty(columns, columnName, {\r\n                get: function() { return columns[cid]; }\r\n            });\r\n        }\r\n\r\n        if(columnData instanceof ctypes[types[cid]]) {\r\n            columns[cid] = columnData;\r\n            if(values.length) {\r\n                strLists[columnName] = values;\r\n                strValues[columnName] = {};\r\n                values.forEach(function(value, vi){\r\n                    strValues[columnName][value] = vi;\r\n                })\r\n            }\r\n        } else if(ArrayBuffer.isView(columnData)){\r\n            columns[cid] = new colAlloc[columnName](size);\r\n            for(var di = 0; di < size; di++) {\r\n                columns[cid][di] = colRead[columnName](columnData[di]);\r\n            }\r\n        } else {\r\n            throw new Error(\"Error: Invalid data type for columnArray!\");\r\n        }\r\n        size = count = columnData.length;\r\n    }\r\n\r\n    cstore.metadata = cstore.info = function() {\r\n        return {\r\n            size: size,\r\n            count: count,\r\n            attributes: attributes,\r\n            types: types,\r\n            strLists: strLists,\r\n            strValues: strValues,\r\n            stats: cstore.stats()\r\n        }\r\n    }\r\n\r\n    cstore.columns = function() {\r\n        return columns;\r\n    }\r\n\r\n    cstore.data = function() {\r\n        var data = columns;\r\n        data.stats = cstore.stats();\r\n        data.keys = attributes;\r\n        data.size = size;\r\n        data.strValues = strValues;\r\n        data.strLists = strLists;\r\n        data.dtypes = types;\r\n        data.export = cstore.export;\r\n        data._p4_cstore_version = __VERSION__;\r\n        return data;\r\n    }\r\n\r\n    cstore.stats = function(col){\r\n        var col = col || attributes;\r\n        col.forEach(function(name, c){\r\n            if(!colStats[c]){\r\n                var min, max, avg;\r\n                min = max = avg = columns[c][0];\r\n\r\n                for(var i = 1; i < columns[c].length; i++){\r\n                    var d = columns[c][i];\r\n                    if(d > max) max = d;\r\n                    else if(d < min) min = d;\r\n                    avg = avg - (avg-d) / i;\r\n                }\r\n                if(max == min) max += 0.000001;\r\n                colStats[name] = {min: min, max: max, avg: avg};\r\n            }\r\n        })\r\n        return colStats;\r\n    }\r\n\r\n    cstore.domains = function(col){\r\n        var col = col || attributes,\r\n            domains = [];\r\n\r\n        col.forEach(function(name, c){\r\n            domains[name] = [colStats[name].min, colStats[name].max];\r\n        })\r\n        return domains;\r\n    }\r\n\r\n    cstore.ctypes = function() {\r\n        return ctypes;\r\n    }\r\n\r\n    cstore.size = size;\r\n\r\n    cstore.exportAsJSON = function() {\r\n        var rows = new Array(size);\r\n        for(var ri = 0; ri < size; ri++) {\r\n            var dataFrame = {};\r\n            attributes.forEach(function(attr, ai) {\r\n                if(types[ai] == 'string') {\r\n                    dataFrame[attr] = strLists[attr][columns[ai][ri]];\r\n                } else if(indexes.hasOwnProperty(attr)) {\r\n                    dataFrame[attr] = indexes[attr][columns[ai][ri]];\r\n                } else {\r\n                    dataFrame[attr] = columns[ai][ri];\r\n                }\r\n            })\r\n            rows[ri] = dataFrame;\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    cstore.exportAsRowArray = function() {\r\n        var rows = new Array(size);\r\n        for(var ri = 0; ri < size; ri++) {\r\n            var row = new Array(attributes.length);\r\n            attributes.forEach(function(attr, ai) {\r\n                if(types[ai] == 'string') {\r\n                    row[ai] = strLists[attr][columns[ai][ri]];\r\n                } else if(indexes.hasOwnProperty(attr)) {\r\n                    row[ai] = indexes[attr][columns[ai][ri]];\r\n                } else {\r\n                    row[ai] = columns[ai][ri];\r\n                }\r\n            })\r\n            rows[ri] = row;\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    cstore.export = function(arg) {\r\n        var format = arg || 'json';\r\n        if(format == 'rowArray') {\r\n            return cstore.exportAsRowArray();\r\n        } else {\r\n            return cstore.exportAsJSON();\r\n        }\r\n    }\r\n\r\n    cstore.import = function({\r\n        data,\r\n        schema = null,\r\n        type = 'json'\r\n    }) {\r\n        size = data.length;\r\n        if(typeof(schema == 'object')) initStruct(schema);\r\n        initCStore();\r\n        if(type === 'json') {\r\n            cstore.addObjects(data);\r\n        } else {\r\n            cstore.addRows(data);\r\n        }\r\n        \r\n        return cstore;\r\n    }\r\n\r\n    cstore.scale = function(attr, factor) {\r\n        let len = columns[attr].length;\r\n        for(var i = 0; i < len; i++) {\r\n            columns[attr] *= factor;\r\n        }\r\n        return cstore;\r\n    }\r\n\r\n    cstore.normalize = function(attr) {\r\n        if(!colStats.hasOwnProperty(attr)) {\r\n            cstore.stats();\r\n        }\r\n        let fid = attributes.indexOf(attr);\r\n        let len = columns[attr].length;\r\n        let max = colStats[f].max;\r\n        let min = colStats[f].min;\r\n\r\n        if(types[fid] === 'float') {\r\n            for(var i = 0; i < len; i++) {\r\n                columns[attr][i] = (columns[attr][i] - min) / (max - min);\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    cstore.intervalize = function(attr, interval) {\r\n        intervals[attr] = interval;\r\n        if(!colStats.hasOwnProperty(attr)) {\r\n            cstore.stats([attr]);\r\n        }\r\n        let fid = attributes.indexOf(attr);\r\n        let len = columns[attr].length;\r\n        let min = colStats[f].min;\r\n\r\n        if(types[fid] === 'int' || types[fid] === 'float') {\r\n            for(var i = 0; i < len; i++) {\r\n                columns[attr][i] = (columns[attr][i] - min) / interval;\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    cstore.index = function(attr) {\r\n        let attrId = attributes.indexOf(attr);\r\n        if(attrId === -1) throw Error('Invalid attribute for indexing');\r\n        types[attrId] = 'int';\r\n        indexes[attr] = unique(columns[attr]).sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        let len = columns[attr].length;\r\n        for(var i = 0; i < len; i++) {\r\n            columns[attr][i] = indexes[attr].indexOf(columns[attr][i]); \r\n        }\r\n        \r\n        return cstore;\r\n    }\r\n\r\n    return initCStore();\r\n}\r\n","export default function(x) {\n  return x;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","function _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if (!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\nexport function reduce(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\nexport function avg(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\nexport function normalize(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a) {\n        return (a - min) / range;\n    });\n}\n\nexport function seq(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for (var i = start; i <= end; i += interval)\n        array.push(i);\n\n    return array;\n};\n\n// [\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n//     array[f] = array.reduce(f);\n// });\n\n// export sum = array.reduce(\"+\");\n\nexport function scan(a) {\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\nexport function iscan(a) {\n    return array.scan([0].concat(a));\n};\n\nexport function diff(a, b) {\n    var difference = [];\n    a.forEach(function(d) {\n        if (b.indexOf(d) === -1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\nexport function intersect(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function(e) {\n        if (b.indexOf(e) !== -1) return true;\n    });\n};\n\nexport function unique(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\nexport function lcm(A) {\n    var n = A.length,\n        a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]),\n            c = a;\n        while (a && b) {\n            (a > b) ? a %= b: b %= a;\n        }\n        a = Math.abs(c * A[i]) / (a + b);\n    }\n    return a;\n};\n\nexport function stats(array) {\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\nexport function histogram(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin + 1).fill(0);\n\n    for (var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b / (numBin)), min + range * (b + 1) / (numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for (var i = 0; i < l; i++) {\n        binID = Math.floor((array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin - 1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0, numBin),\n        // ids: ids\n    };\n}\n\nexport function variance(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a) {\n            return Math.pow(a - m, 2)\n        });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\nexport function std(rowArray) {\n    return Math.sqrt(variance(rowArray));\n}\n\nexport function vectorAdd(a, b) {\n    var c = [];\n    a.forEach(function(v, i) {\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nexport function vectorSum(vectors) {\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for (var i = 1; i < numberOfVectors; i++) {\n        result = array.vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b) {\n    var c = [];\n    a.forEach(function(v, i) {\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nexport function vectorAvg(vectors) {\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for (var i = 1; i < numberOfVectors; i++) {\n        result = _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","import curveLinear from \"./linear.js\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport line from \"./line.js\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial.js\";\nimport area from \"./area.js\";\nimport {lineRadial} from \"./lineRadial.js\";\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","export default function() {}\n","import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) > 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = 0, d[1] = dy;\n      }\n    }\n  }\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import appearance from \"./appearance.js\";\nimport {sum} from \"./ascending.js\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none.js\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar used = [];\n\n/*!\n * Chai version\n */\n\nexports.version = '4.2.0';\n\n/*!\n * Assertion Error\n */\n\nexports.AssertionError = require('assertion-error');\n\n/*!\n * Utils for plugins (not exported)\n */\n\nvar util = require('./chai/utils');\n\n/**\n * # .use(function)\n *\n * Provides a way to extend the internals of Chai.\n *\n * @param {Function}\n * @returns {this} for chaining\n * @api public\n */\n\nexports.use = function (fn) {\n  if (!~used.indexOf(fn)) {\n    fn(exports, util);\n    used.push(fn);\n  }\n\n  return exports;\n};\n\n/*!\n * Utility Functions\n */\n\nexports.util = util;\n\n/*!\n * Configuration\n */\n\nvar config = require('./chai/config');\nexports.config = config;\n\n/*!\n * Primary `Assertion` prototype\n */\n\nvar assertion = require('./chai/assertion');\nexports.use(assertion);\n\n/*!\n * Core Assertions\n */\n\nvar core = require('./chai/core/assertions');\nexports.use(core);\n\n/*!\n * Expect interface\n */\n\nvar expect = require('./chai/interface/expect');\nexports.use(expect);\n\n/*!\n * Should interface\n */\n\nvar should = require('./chai/interface/should');\nexports.use(should);\n\n/*!\n * Assert interface\n */\n\nvar assert = require('./chai/interface/assert');\nexports.use(assert);\n","/*!\n * Chai - transferFlags utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .transferFlags(assertion, object, includeAll = true)\n *\n * Transfer all the flags for `assertion` to `object`. If\n * `includeAll` is set to `false`, then the base Chai\n * assertion flags (namely `object`, `ssfi`, `lockSsfi`,\n * and `message`) will not be transferred.\n *\n *\n *     var newAssertion = new Assertion();\n *     utils.transferFlags(assertion, newAssertion);\n *\n *     var anotherAssertion = new Assertion(myObj);\n *     utils.transferFlags(assertion, anotherAssertion, false);\n *\n * @param {Assertion} assertion the assertion to transfer the flags from\n * @param {Object} object the object to transfer the flags to; usually a new assertion\n * @param {Boolean} includeAll\n * @namespace Utils\n * @name transferFlags\n * @api private\n */\n\nmodule.exports = function transferFlags(assertion, object, includeAll) {\n  var flags = assertion.__flags || (assertion.__flags = Object.create(null));\n\n  if (!object.__flags) {\n    object.__flags = Object.create(null);\n  }\n\n  includeAll = arguments.length === 3 ? includeAll : true;\n\n  for (var flag in flags) {\n    if (includeAll ||\n        (flag !== 'object' && flag !== 'ssfi' && flag !== 'lockSsfi' && flag != 'message')) {\n      object.__flags[flag] = flags[flag];\n    }\n  }\n};\n","import * as ctypes from './ctypes';\n\nexport function seq(dtype, start, end, interval) {\n    var step = interval || 1,\n        size = (end - start) / step + 1,\n        buf;\n\n    buf = new ctypes[dtype](size);\n    for (var i = 0; i < size; i++) {\n        buf[i] = start + i * step;\n    }\n    return buf;\n}\n\nexport let seqInt = seq.bind(null, \"int\");\nexport let seqFloat = seq.bind(null, \"float\");\n","import {seqFloat} from './utils';\nimport {unique} from './arrays';\nconst vecId = ['x', 'y', 'z'];\nexport default function($p, dataProps) {\n    let data = dataProps || [];\n    $p.indexes = data.indexes || [];\n    $p.categoryIndex = data.strValues || {};\n    $p.strValues = data.strValues || {};\n    $p.strLists = data.strLists || {};\n    $p.dkeys =  data.keys || [];\n    $p.dtypes =  data.dtypes || data.types || [];\n    $p.intervals =  data.intervals || {};\n    $p.uniqueValues = data.uniqueValues;\n    $p.dataSchema = data.struct || data.schema;\n\n    let dkeys = $p.dkeys;\n    let dtypes = $p.dtypes;\n    let stats =  data.stats || null;\n    \n    if (Number.isInteger(data.size)) {\n        $p.dataSize = data.size;\n    } else if (Array.isArray(data)) {\n        $p.dataSize = Math.max(...data.map(d => d.length));\n    }\n\n    let rowSize = Math.min($p.dataSize, $p.rowSize);\n    let colSize = Math.ceil($p.dataSize / rowSize);\n\n    $p.dataDimension = [rowSize, colSize];\n    $p.resultDimension = [rowSize, colSize];\n    $p.fields = $p.indexes.concat(dkeys.filter(function(k) {\n        return $p.indexes.indexOf(k) === -1;\n    }));\n    $p.fieldWidths = new Array($p.fields.length).concat(new Array($p.deriveMax).fill(1));\n    $p.fieldCount = $p.fields.length - $p.indexes.length;\n   \n    function getDataWidth(fid, range) {\n        var range = Math.abs(range[1] - range[0]);\n        if (dtypes[fid] == \"index\" || dtypes[fid] == \"int\" || dtypes[fid] == \"string\") {\n            return range + 1;\n        } else if (dtypes[fid] == \"histogram\") {\n            return range + 1;\n        } else if ([\"nominal\", \"ordinal\", \"categorical\"].indexOf(dtypes[fid]) > -1) {\n            return data.TLB.length;\n        } else if (dtypes[fid] in [\"float\", \"double\", \"numeric\"]) {\n            return 10;\n        } else {\n            return range + 1;\n        }\n    }\n    $p.fields.forEach(function(field) {\n        var min = stats[field].min,\n            max = stats[field].max,\n            fi = dkeys.indexOf(field);\n        $p.fieldWidths[fi] = getDataWidth(fi, [min, max]);\n    });\n    $p.getDataWidth = getDataWidth;\n    $p.deriveDomains = new Array($p.deriveMax).fill([0, 1]);\n    $p.deriveWidths = new Array($p.deriveMax).fill(1);\n    $p.deriveFieldCount = 0;\n\n    $p.getFieldId = function (fieldName) {\n        let fieldId = $p.fields.indexOf(fieldName);\n        if($p.indexes.length > 0 && fieldId >= $p.indexes.length) {\n            fieldId -= $p.indexes.length; \n        }\n        return fieldId; \n    }\n\n    if ($p.indexes.length === 0) {\n        $p.attribute(\"aDataIdx\", \"float\", seqFloat(0, $p.dataDimension[0] - 1));\n        $p.attribute(\"aDataIdy\", \"float\", seqFloat(0, $p.dataDimension[1] - 1));\n        $p.attribute(\"aDataValx\", \"float\", seqFloat(0, $p.dataDimension[0] - 1));\n        $p.attribute(\"aDataValy\", \"float\", seqFloat(0, $p.dataDimension[1] - 1));\n    } else {\n        $p.indexes.forEach(function(id, i) {\n            let indexAttrData = unique(data[id]).sort( (a, b) => b - a );\n            $p.attribute(\"aDataVal\" + vecId[i], \"float\", new Float32Array(indexAttrData));\n            $p.attribute(\"aDataId\" + vecId[i], \"float\", seqFloat(0, indexAttrData.length - 1));\n            $p.fieldWidths[i] = indexAttrData.length;\n            $p.dataDimension[i] = indexAttrData.length;\n        });\n    }\n\n    $p.attribute(\"aDataItemVal0\", \"float\", null);\n    $p.attribute(\"aDataItemVal1\", \"float\", null);\n    $p.attribute(\"aDataItemId\", \"float\", new Float32Array($p.dataSize).map((d,i)=>i));\n    $p.attribute(\"aDataFieldId\", \"vec2\", new Float32Array($p.fields.length * 2).map((d,i)=>i));\n    $p.attribute(\"aVertexId\", \"float\", [0, 1, 2, 3, 4, 5]);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aVertexId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataFieldId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n\n    $p.attribute(\n        \"_square\",\n        \"vec2\",\n        new Float32Array([\n            -1.0, -1.0, 1.0, -1.0, \n            -1.0, 1.0, -1.0, 1.0,\n            1.0, -1.0, 1.0, 1.0\n        ])\n    );\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 1);\n\n    //TODO: get data statistics using the GPU\n    if(stats !== null) {\n        $p.fieldDomains = $p.fields.map(function(k, i) {\n            return [stats[k].min, stats[k].max];\n        }).concat(new Array($p.deriveMax).fill([0, 1]));\n        $p.uniform(\"uFieldDomains\", \"vec2\",  $p.fieldDomains);\n    } else {\n        $p.uniform(\"uFieldDomains\", \"vec2\",  $p.fields.map(f => [0, 1]));\n    }\n\n    let filterControls = new Array($p.fieldCount).fill(0);\n    //setup all attribute, uniform, texture, varying needed by all the shaders\n    $p.uniform(\"uDataSize\",    \"float\", $p.dataSize);\n    $p.uniform(\"uDataDim\",     \"vec2\",  $p.dataDimension);\n    $p.uniform(\"uResultDim\",   \"vec2\",  $p.dataDimension);\n    $p.uniform(\"uIndexCount\",  \"int\",   $p.indexes.length);\n    $p.uniform(\"uFieldWidths\", \"float\", $p.fieldWidths);\n    $p.uniform(\"uFieldCount\",  \"int\",   $p.fieldCount);\n    $p.uniform(\"uFieldId\",     \"int\",   0);\n    $p.uniform(\"uFilterFlag\",  \"int\",   0);\n    $p.uniform(\"uFilterControls\",\"int\", filterControls)\n    $p.uniform(\"uVisControls\",\"int\", filterControls);\n    $p.uniform(\"uFilterRanges\",\"vec2\", $p.fieldDomains);\n    $p.uniform(\"uVisRanges\",\"vec2\", $p.fieldDomains);\n    // $p.uniform(\"uGroupFields\", \"int\",   [0, -1]);\n    $p.uniform(\"uDataInput\",   \"sampler2D\");\n    $p.uniform(\"uDeriveCount\", \"int\", $p.deriveMax);\n    // $p.uniform(\"uDeriveDomains\", \"vec2\", $p.deriveDomains);\n    // $p.uniform(\"uDeriveWidths\", \"float\", $p.deriveWidths);\n    $p.uniform(\"uFilterLevel\", \"float\", 0.1)\n    $p.uniform('uVisLevel',    \"float\", 0.1)\n\n    $p.varying(\"vResult\", \"float\");\n    $p.varying(\"vDiscardData\", \"float\");\n    $p.texture(\n        \"tData\",\n        \"float\",\n        new Float32Array($p.dataDimension[0] * $p.dataDimension[1] * $p.fieldCount), [$p.dataDimension[0], $p.dataDimension[1] * $p.fieldCount],\n        \"alpha\"\n    );\n    $p.framebuffer(\"fFilterResults\", \"unsigned_byte\", $p.dataDimension);\n    $p.framebuffer(\"fGroupResults\", \"float\", [1024, 1]);\n    $p.framebuffer(\"fDerivedValues\", \"float\", [$p.dataDimension[0], $p.dataDimension[1] * $p.deriveMax]);\n    $p.framebuffer(\"fStats\", \"float\", [2, $p.fieldCount]);\n    $p.parameter({\n        fieldCount: $p.fields.length - $p.indexes.length,\n        indexCount: $p.indexes.length\n    });\n\n    $p.fields.slice($p.indexes.length).forEach(function(attr, ai) {\n        let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n        for (let i = 0, l = data[attr].length; i < l; i++) {\n            buf[i] = data[attr][i];\n        }\n\n        $p.texture.tData.update(\n            buf, [0, $p.dataDimension[1] * ai], $p.dataDimension\n        );\n    });\n\n    // $p.texture.tData.sampler = $p.uniform.uDataInput;\n    $p.uniform.uDataInput = $p.texture.tData;\n\n    function getFieldWidth({fid = 'int'}) {\n        return this.uFieldWidths[fid];\n    }\n\n    function getFieldDomain({fid = 'int'}) {\n        return this.uFieldDomains[fid];\n    }\n\n    function getData({fid = 'int', r = 'float', s = 'float'}) {\n        var t, value;\n        if (fid >= this.uFieldCount + this.uIndexCount) {\n            t = (float(fid - this.uFieldCount - this.uIndexCount) + s) /\n                float(this.uDeriveCount);\n            value = texture2D(this.fDerivedValues, vec2(r, t)).a;\n        } else {\n            if (this.uIndexCount > 0 && fid == 0) value = this.aDataValx;\n            else if (this.uIndexCount > 1 && fid == 1) value = this.aDataValy;\n            else {\n                t = (float(fid - this.uIndexCount) + s) / float(this.uFieldCount);\n                value = texture2D(this.uDataInput, vec2(r, t)).a;\n            }\n        }\n        return value;\n    }\n\n    function getNonIndexedData({fieldId = 'int', addrX = 'float', addrY = 'float'}) {\n        var offsetY, value;\n        if (fieldId >= this.uFieldCount + this.uIndexCount) {\n            offsetY = (float(fieldId - this.uFieldCount - this.uIndexCount) + addrY) /\n                float(this.uDeriveCount);\n            value = texture2D(this.fDerivedValues, vec2(addrX, offsetY)).a;\n        } else {\n            offsetY = (float(fieldId - this.uIndexCount) + addrY) / float(this.uFieldCount);\n            value = texture2D(this.uDataInput, vec2(addrX, offsetY)).a;\n        }\n        return value;\n    }\n\n    $p.subroutine(\"getFieldWidth\", \"float\", getFieldWidth);\n    $p.subroutine(\"getFieldDomain\", \"vec2\", getFieldDomain);\n    $p.subroutine(\"getData\", \"float\", getData);\n    $p.subroutine(\"getNonIndexedData\", \"float\", getNonIndexedData);\n\n    var gl = $p.ctx;\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n}\n","import * as ajax from './ajax';\nimport cstore from '../cstore';\nimport parse from './parse';\n\nconst INPUT_FORMATS = [\n  'json',\n  'csv',\n  'text',\n  'RowArrays',\n  'ColArrays',\n  'cstore'\n];\n\nconst INPUT_METHODS = ['memory', 'http', 'websocket', 'file'];\n\nexport default function input({\n  type = 'cstore',\n  format = 'cstore',\n  method = 'memory',\n  delimiter = ',',\n  size = 0,\n  schema,\n  source,\n  url,\n  onready,\n  uniqueKeys = []\n}) {\n  if(INPUT_FORMATS.indexOf(type) === -1) {\n    throw Error('Invalid input type ', type)\n  }\n\n  if(INPUT_METHODS.indexOf(method) === -1) {\n    throw Error('Unknown method ', method)\n  }\n\n  let cache;\n  function createIndexes() {\n    uniqueKeys.forEach(function(uk){\n      cache.index(uk);\n    })\n  }\n  let dataFormat = format || type;\n  let dataHandlers = {\n    json: function(data) {\n      cache = cstore({schema, size})\n      cache.import({data: (method == 'websocket') ? JSON.parse(data) : data});\n      createIndexes();\n      return cache.data();\n    },\n    csv: function(text) {\n      let data = parse(text, delimiter);\n      // let fields = data.shift();\n      // cache = cstore({keys: fields, types: fields.map(() => 'float')})\n      cache = cstore({schema, size})\n      cache.addRows(data);\n      createIndexes();\n      return cache.data();\n    },\n    cstore: function() {\n      if(Number.isInteger(source.size) && Array.isArray(source.types)) {\n        return source;\n      }\n    }\n  }\n\n  dataHandlers.text = dataHandlers.csv;\n  let response = function(data) {\n    return new Promise(function(resolve, reject) {\n      if(typeof(dataHandlers[dataFormat]) === 'function') {\n        resolve(dataHandlers[dataFormat](data));\n      } else {\n        reject(Error('No handler for data type ', dataFormat));\n      }\n    })\n  }\n\n  if(method === 'http') {\n    let dataSource = url || source;\n    return ajax.get({url: dataSource, dataType: dataFormat}).then(response);\n  } else if (method == 'websocket') {\n    return new Promise(function(resolve, reject) {\n      var socket = new WebSocket(source);\n      socket.onopen = function() {\n        if(typeof(onready) === 'function') onready(socket)\n      }\n      socket.onmessage = function(event) {\n        resolve(dataHandlers[dataFormat](event.data));\n      }\n      socket.onerror = function(err) {\n        reject(err);\n      }\n    });\n  } else {\n    return response(source);\n  }\n}\n","export default function($p) {\n  let output = {};\n  output.result = function({format = 'row', outputTag = 'fGroupResults'}) {\n    let objectArray = new Array();\n    let match = null;\n    if($p.uniform.uFilterFlag.data == 1){\n      match = $p.getMatchBuffer()\n    }\n    // $p.setInput(outputTag)\n    \n    for(let edi = 0; edi < $p.extraDimension; edi++) { \n\n      // if only match is performed and no other write ops, use cache to write source data to framebuffer.\n      if($p.getResultBuffer === undefined) { \n        $p.cache('cachedData')\n      }\n      let buf = $p.getResultBuffer({outputTag, offset: [edi * $p.resultDimension[0], 0]});\n      let res = {};\n      let offset = 0;\n      let rs = 0;\n      if(typeof buf.subarray !== 'function') return buf;\n      if($p.indexes.length > 0) {\n        if ($p.resultDimension[0] > 1) {\n          res[$p.fields[rs]] = $p.attribute.aDataValx.data;\n          rs++;\n        }\n        if ($p.resultDimension[1] > 1) {\n          let bx = $p.attribute.aDataValx.data;\n          let by = $p.attribute.aDataValy.data;\n          let ax = new Array($p.resultDimension[0] * $p.resultDimension[1]);\n          let ay = new Array($p.resultDimension[0] * $p.resultDimension[1]);\n\n          for (let y = 0; y < $p.resultDimension[1]; y++) {\n            for (let x = 0; x < $p.resultDimension[0]; x++) {\n              ax[y * $p.resultDimension[0] + x] = bx[x];\n              ay[y * $p.resultDimension[0] + x] = by[y]\n            }\n          }\n          res[$p.fields[0]] = ax;\n          res[$p.fields[rs]] = ay;\n          rs++;\n        }\n      }\n \n      let arraySize = $p.resultDimension[0] * $p.resultDimension[1];\n      let fields = $p.fields.filter( f => f !== $p.indexes[2]);\n      for (let i = rs; i < fields.length; i++) {\n        res[fields[i]] = buf.subarray(offset, offset + arraySize);\n        offset += arraySize;\n      };\n\n      for (let i = 0; i < arraySize; i++) {\n        if(match !== null && match[i] == 0) continue\n        let obj = (format == 'array') ? new Array(fields.length) : {};\n        if($p.extraDimension > 0 && $p.indexes.length === 3) {\n          let fieldName = $p.indexes[2];\n          obj[fieldName] = ($p.strLists.hasOwnProperty(fieldName)) ?  $p.strLists[fieldName][edi] : edi + 1;\n        } \n        fields.forEach(function(f, fi) {\n          // let kid = $p.dkeys.indexOf(f);\n          // let dtype = $p.dtypes[kid];\n          let key = (format == 'array') ? fi : f;\n\n          if ($p.strLists.hasOwnProperty(f)) {\n            obj[key] = $p.strLists[f][res[f][i]];\n          } else if ($p.intervals.hasOwnProperty(f) && $p.intervals[f].dtype == 'histogram') {\n            obj[key] = $p.intervals[f].min + res[f][i] * $p.intervals[f].interval;\n          } else if ($p.uniqueValues && $p.uniqueValues.hasOwnProperty(f)) {\n            obj[key] = $p.uniqueValues[f][res[f][i]];\n          } else {\n            obj[key] = res[f][i];\n          }\n        });\n        objectArray.push(obj);\n      }\n    }\n    if($p.extraDimension === 1 && objectArray.length > $p.dataSize) {\n      objectArray = objectArray.slice(0, $p.dataSize);\n    }\n    return objectArray;\n  }\n\n  output.toArray = () => output.result({format: 'array'})\n  output.toJson = () => output.result({format: 'json'})\n  output.readPixels = function({\n    offset = [0, 0],\n    resultSize =  $p.dataDimension[0]* $p.dataDimension[1],\n    rowSize = Math.min(resultSize, $p.dataDimension[0]),\n    colSize = Math.ceil(resultSize / $p.dataDimension[0])\n  }) {\n    let result = new Uint8Array(rowSize * colSize * 4);\n    $p.bindFramebuffer(null);\n    $p.ctx.readPixels(offset[0], offset[1], rowSize, colSize, gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result.filter(function(d, i){ return i%4===3;} );\n  }\n  return output;\n}\n","export default function brush(arg){\n\n    var option = arg || {},\n        container = option.container || this.svg[0],\n        width = option.width || this.width,\n        height = option.height || this.height,\n        x = function(s) {return s},\n        y = function(s) {return s},\n        base = option.base || null,\n        selectX = option.x || false,\n        selectY = option.y || false,\n        border = option.border || \"#FFF\",\n        color = option.color || \"#111\",\n        brush = option.brush || function() {},\n        brushstart = option.brushstart || function() {},\n        brushend = option.brushend || function() {};\n\n    if(typeof(selectX) === \"function\") {\n        x = selectX;\n        selectX = true;\n    }\n    if(typeof(selectY) === \"function\") {\n        y = selectY;\n        selectY = true;\n    }\n    if(base === null){\n        base = container.append(\"g\").attr(\"class\", \"selector\");\n    } else {\n        base = container;\n    };\n\n    base.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .attr(\"fill-opacity\", 0)\n        .attr(\"stroke\", \"none\")\n        .css(\"cursor\", \"crosshair\");\n\n    var selector = base.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", 0)\n        .attr(\"height\", 0)\n        .attr(\"fill-opacity\", 0.1)\n        .css(\"fill\", color)\n        .css(\"stroke\", border)\n        .css(\"cursor\", \"move\");\n\n    var sx, sy,\n        dx, dy,\n        bx, by,\n        selection = {},\n        intStart = false,\n        drag = false;\n\n    base.svg.addEventListener(\"mousedown\", function(evt){\n        evt.preventDefault();\n        brushstart.call(this);\n        intStart = true;\n        sx = evt.clientX;\n        sy = evt.clientY;\n\n        var sp = selector.svg.getBoundingClientRect();\n        var box = base.svg.getBoundingClientRect();\n        var x0, y0, nw, nh;\n\n        if(sx>sp.left && sy>sp.top && sx<sp.left+sp.width && sy<sp.top+sp.height) {\n            drag = true;\n            bx = sp.left;\n            by = sp.top;\n        }\n\n        if(!drag){\n            x0 = selectX ? sx - box.left : 0;\n            y0 = selectY ? sy - box.top : 0;\n            selector.attr(\"x\", x0)\n                .attr(\"y\", y0)\n                .attr(\"width\", 0);\n        }\n\n        ondrag = function(evt){\n            if(intStart){\n                dx = evt.clientX - sx;\n                dy = evt.clientY - sy;\n                var selectorBox = selector.svg.getBoundingClientRect();\n                if(drag){\n\n                    var nx = bx + dx-box.left,\n                        ny = by + dy-box.top;\n\n                    if(bx+dx < box.left) nx = 0;\n                    if(bx+dx+selectorBox.width > box.right) nx = width - selectorBox.width ;\n                    if(by+dy < box.top) ny = 0;\n                    if(by+dy+selectorBox.height > box.bottom) ny = height - selectorBox.height;\n                    selector.attr(\"x\", nx).attr(\"y\", ny);\n                } else {\n                    if(evt.clientX < box.left) dx = box.left - sx;\n                    if(evt.clientX > box.right) dx = box.right - sx;\n                    if(evt.clientY > box.bottom) dy = box.bottom - sy;\n                    if(evt.clientY < box.top) dy = box.top - sy;\n\n                    x0 = selectX ? sx + dx - box.left: 0;\n                    y0 = selectY ? sy + dy - box.top : 0;\n                    nw = selectX ? Math.abs(dx) : width;\n                    nh = selectY ? Math.abs(dy) : height;\n\n                    if(dx<0 && dy>=0) selector.attr(\"x\", x0);\n                    if(dy<0 && dx>=0) selector.attr(\"y\", y0);\n                    if(dx<0 && dy<0) selector.attr(\"x\", x0).attr(\"y\", y0);\n                    selector.attr(\"width\", nw).attr(\"height\", nh);\n                }\n                if(selectX) {\n                    selection.x = [ x(selectorBox.left - box.left ), x(selectorBox.right - box.left )];\n                }\n                if(selectY) {\n                    selection.y = [y(selectorBox.top - box.top), y(selectorBox.bottom - box.top)];\n                }\n                brush.call(this, selection);\n            }\n        };\n\n        window.addEventListener(\"mousemove\", ondrag, false);\n        window.addEventListener(\"mouseup\", function(evt){\n            if(intStart){\n                ondrag(evt);\n                intStart = false;\n                if(drag){\n                    drag = false;\n                }\n            }\n            brushend.call(this, selection);\n            window.removeEventListener(\"mousemove\", ondrag, false);\n        }, false);\n    });\n};\n","export default function ($p) {\n\n    let registers = {};\n    let control = {};\n\n    let serializeArray = function(arrayOfArray) {\n        return [].concat.apply([], arrayOfArray);\n    }\n\n    control.register = function(tag) {\n        registers[tag] = {\n            indexes: $p.indexes.slice(),\n            dataSize: $p.dataSize,\n            fields: $p.fields.slice(),\n            fieldCount: $p.fieldCount,\n            dataDim: $p.uniform.uDataDim.data.slice(),\n            fieldWidths: $p.fieldWidths.slice(),\n            fieldDomains: $p.fieldDomains.slice(),\n            deriveCount: $p.deriveCount,\n            filterFlag: $p.uniform.uFilterFlag.data,\n            filterControls: $p.uniform.uFilterControls.data.slice(),\n            dataInput: $p.uniform.uDataInput.data,\n            resultDim: $p.resultDimension.slice(),\n            attribute: {\n                aDataIdx: {\n                    ids: $p.attribute.aDataIdx.data,\n                    value: $p.attribute.aDataValx.data\n                },\n                aDataIdy: {\n                    ids: $p.attribute.aDataIdy.data,\n                    value: $p.attribute.aDataValy.data\n                },\n                aDataFieldId: $p.attribute.aDataFieldId.data,\n                aDataItemId: $p.attribute.aDataItemId.data\n            },\n            extraDim: $p.extraDimension\n        }\n        return control;\n    }\n\n    control.updateRegister = function(tag, props) {\n        if(registers.hasOwnProperty(tag)) {\n            Object.keys(props).forEach(k => {\n                registers[tag][k] = props[k];\n            })\n        }\n        return control;\n    }\n    \n    control.resume = function(tag) {\n        if (!registers.hasOwnProperty(tag))\n            throw new Error('\"' + tag + '\" is not found in regesters.');\n    \n        var reg = registers[tag];\n        //resume CPU registers\n        $p.indexes = reg.indexes;\n        $p.dataSize = reg.dataSize;\n        $p.deriveCount = reg.deriveCount;\n        $p.fieldCount = reg.fieldCount;\n        $p.fields = reg.fields.slice();\n        $p.fieldWidths = reg.fieldWidths.slice();\n        $p.fieldDomains = reg.fieldDomains.slice();\n        $p.dataDimension = reg.dataDim.slice();\n        $p.resultDimension = reg.resultDim.slice();\n        $p.extraDimension = reg.extraDim;\n        //resume GPU Uniforms\n        $p.uniform.uFieldCount.data = $p.fieldCount;\n        $p.uniform.uDataSize.data = $p.dataSize;\n        $p.uniform.uDataDim.data = reg.dataDim;\n        $p.uniform.uIndexCount.data = reg.indexes.length;\n        $p.uniform.uFieldDomains.data = serializeArray(reg.fieldDomains);\n        $p.uniform.uFieldWidths.data = reg.fieldWidths;\n        $p.uniform.uFilterFlag.data = reg.filterFlag;\n        // $p.uniform.uFilterControls.data = reg.filterControls;\n        $p.uniform.uDataInput.data = reg.dataInput;\n    \n        //resume GPU Attribute Buffers\n        $p.attribute['aDataIdx'] = reg.attribute['aDataIdx'].ids;\n        $p.attribute['aDataIdy'] = reg.attribute['aDataIdy'].ids;\n        $p.attribute['aDataValx'] = reg.attribute['aDataIdx'].value;\n        $p.attribute['aDataValy'] = reg.attribute['aDataIdy'].value;\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataIdx'].location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataIdy'].location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataValx'].location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataValy'].location, 1);\n    \n        $p.attribute['aDataFieldId'] = reg.attribute['aDataFieldId'];\n        $p.attribute['aDataItemId'] = reg.attribute['aDataItemId'];\n    \n        return control;\n    }\n\n    // control.head = function() {\n    //     control.resume('__init__');\n    //     return control;\n    // }\n\n    var branchID = 0;\n    control.branch = function(branches) {\n        branches.forEach(function(b){\n            var operations = Object.keys(b).map(function(o) {\n                var obj = {};\n                obj[o] = b[o];\n                return obj;\n            });\n            control.run(operations);\n            control.resume('_branch' + branchID);\n        })\n        branchID++;\n\n        return control;\n    }\n\n    return control;\n}\n","export const Aggregate = {\n  vertexShader() {\n    gl_PointSize = 1.0;\n\n    var i, j;\n    var groupKeyValue;\n\n    i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n    j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n\n    if (this.aDataIdy * this.uDataDim.x + this.aDataIdx >= this.uDataSize) {\n        this.vResult = 0.0;\n    } else {\n        if(this.uAggrOpt != 2.0) {\n            this.vResult = this.getData(this.uFieldId, i, j);\n        } else {\n            this.vResult = 1.0;\n        }\n    }\n\n    if (this.uFilterFlag == 1) {\n        if (texture2D(this.fFilterResults, vec2(i, j)).a < this.uVisLevel - 0.01) {\n            this.vResult = 0.0;\n        }\n    }\n\n    var pos = new Vec2();\n    for (var ii = 0; ii < 2; ii++) {\n        var gid = new Int();\n        gid = this.uGroupFields[ii];\n        if (gid != -1) {\n            if (this.uIndexCount > 0) {\n                if (gid == 0) {\n                    groupKeyValue = i;\n                } else if (gid == 1) {\n                    groupKeyValue = j;\n                }\n            }\n            if (this.uIndexCount == 0 || gid > 1) {\n                var d = new Vec2();\n                var w = this.getFieldWidth(gid);\n                var value = this.getData(gid, i, j);\n\n                d = this.getFieldDomain(gid);\n\n                if(this.uBinCount[ii] > 0) {\n                    value = max(ceil((value - d[0]) / this.uBinIntervals[ii]), 1.0);\n                    groupKeyValue = value / float(this.uBinCount[ii]);\n                } else {\n                    groupKeyValue = (value - d.x) / (d.y - d.x) * w / (w + 1.0);\n                    groupKeyValue += 0.5 / w;\n                }\n            }\n            pos[ii] = groupKeyValue * 2.0 - 1.0;\n        } else {\n            pos[ii] = 0.5;\n        }\n    }\n\n    if(this.uGroupFields[2] != -1) {\n        var keyValue = this.getData(this.uGroupFields[2], i, j);\n        if(keyValue != this.uExtraKeyValue) {\n            this.vResult = 0.0;\n        }\n    }\n\n    gl_Position = vec4(pos, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    if (this.vResult == 0.0) discard;\n    if (this.uAggrOpt == 2.0)\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    else\n        gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n  }\n}\n\nexport const GetStats = {\n  vertexShader() {\n    gl_Position = vec4(this._square, 0, 1);\n  },\n\n  fragmentShader() {\n    var x, y, res;\n    $vec4(value);\n\n    if (this.uAggrOpt > 3.0) {\n        x = (gl_FragCoord.x) / this.uResultDim.x;\n        y = (gl_FragCoord.y) / (this.uResultDim.y * float(this.uFieldCount));\n        value = texture2D(this.uDataInput, vec2(x, y));\n        res = value.a / value.b;\n    } else {\n        res = value.a;\n    }\n    gl_FragColor = vec4(0.0, 0.0, 0.0, res);\n  }\n}\n\nexport const FillValues = {\n  vertexShader() {\n    gl_Position = vec4(this._square, 0, 1);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, this.uFillValue);\n  }\n}\n","import {seqFloat} from '../utils';\nimport {Aggregate, GetStats, FillValues} from '../gljs/Aggregation.gl';\n\nconst VEC_IDS = ['x', 'y', 'z'];\nconst METRICS = ['$min', '$max', '$count', '$sum', '$avg', '$var', '$std'];\n\nexport default function aggregate($p) {\n    let aggregate = {};\n\n    $p.uniform('uFillValue', 'float', 0.0);\n    $p.uniform('uBinIntervals', 'vec2', [0.0, 0.0]);\n    $p.uniform('uBinCount', 'ivec2', [0, 0]);\n    $p.uniform('uAggrOpt', 'float', 2.0);\n    $p.uniform(\"uGroupFields\", \"int\",   [0, -1, -1]);\n    $p.uniform(\"uExtraKeyValue\", \"float\",  0.0);\n    $p.varying(\"vIsFiltered\", \"float\");\n    $p.extraDimension = 1;\n\n    $p.program(\n        'AggregateCompute',\n        $p.shader.vertex(Aggregate.vertexShader),\n        $p.shader.fragment(Aggregate.fragmentShader)\n    );\n\n    $p.program(\n        'GetAggrStats',\n        $p.shader.vertex(GetStats.vertexShader),\n        $p.shader.fragment(GetStats.fragmentShader)\n    );\n    $p.program(\n        'FillValues',\n        $p.shader.vertex(FillValues.vertexShader),\n        $p.shader.fragment(FillValues.fragmentShader)\n    );\n\n    var resultFieldCount,\n        getAvgValues = false,\n        getVarStd = false,\n        resultDomains;\n\n    function compute(opts, groupFieldIds, resultFieldIds, outputTag) {\n        resultFieldCount = resultFieldIds.length;\n        let gl = $p.program('FillValues');\n        $p.bindFramebuffer(outputTag);\n\n        if(!$p._progress) {\n            gl.clearColor(0.0, 0.0, 0.0, 0.0);\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        }\n\n        gl.disable(gl.BLEND);\n        resultFieldIds.forEach(function(f, i) {\n            gl.viewport(0, i * $p.resultDimension[1], $p.resultDimension[0], $p.resultDimension[1]);\n            var opt = METRICS.indexOf(opts[i]);\n            if (opt == 0) {\n                $p.uniform.uFillValue = Math.pow(2, 127);\n                gl.drawArrays(gl.TRIANGLES, 0, 6);\n            } else if(opt == 1) {\n                $p.uniform.uFillValue = -Math.pow(2, 128);\n                gl.drawArrays(gl.TRIANGLES, 0, 6);\n            }\n        });\n\n        gl = $p.program('AggregateCompute');\n      \n        $p.framebuffer.enableRead('fDerivedValues');\n        $p.framebuffer.enableRead('fFilterResults');\n\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n        $p.uniform.uGroupFields = groupFieldIds;\n\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE);\n        gl.blendEquation(gl.FUNC_ADD);\n        $p.uniform.uResultDim = $p.resultDimension;\n\n        let postComputeFieldIds = [];\n        \n        getAvgValues = false;\n        getVarStd = false;\n\n        for (var ii = 0; ii < $p.extraDimension; ii++) {\n            postComputeFieldIds = [];\n            resultFieldIds.forEach(function(f, i) {\n                var opt = METRICS.indexOf(opts[i]);\n                if (opt == -1) throw Error('unknowm operator for aggregation: ' + opts[i]);\n\n                if (opt > 3) {\n                    getAvgValues = true;\n                    $p.bindFramebuffer('fAggrStats');\n                    postComputeFieldIds.push(i);\n                } else {\n                    $p.bindFramebuffer(outputTag);\n                }\n\n                gl.viewport(ii * $p.resultDimension[0], i * $p.resultDimension[1], $p.resultDimension[0], $p.resultDimension[1]);\n                if (opt == 0) {\n                    gl.blendEquation(gl.MIN_EXT);\n                } else if (opt == 1) {\n                    gl.blendEquation(gl.MAX_EXT);\n                } else {\n                    gl.blendEquation(gl.FUNC_ADD);\n                }\n\n                $p.uniform.uFieldId = f;\n                $p.uniform.uAggrOpt = opt;\n                if(groupFieldIds[2] !== -1) {\n                    $p.uniform.uExtraKeyValue = seqFloat($p.fieldDomains[groupFieldIds[2]][0], $p.fieldDomains[groupFieldIds[2]][1])[ii];\n                }\n                \n                gl.ext.drawArraysInstancedANGLE(\n                    gl.POINTS, 0,\n                    $p.dataDimension[0],\n                    $p.dataDimension[1]\n                );\n            });\n        }\n        $p.uniform.uFieldCount.data = resultFieldIds.length;\n        if(getAvgValues) {\n            postCompute(opts, postComputeFieldIds, resultFieldIds, outputTag);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n\n    function postCompute(opts, postComputeFieldIds, resultFieldIds, outputTag) {\n        $p.uniform.uDataInput.data = $p.framebuffer.fAggrStats.texture;\n        var gl = $p.program('GetAggrStats');\n        $p.bindFramebuffer(outputTag);\n        $p.uniform.uResultDim = [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1]];\n        $p.framebuffer.enableRead('fAggrStats');\n        // gl.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n        \n        gl.viewport(0, 0, $p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length);\n        gl.disable(gl.BLEND);\n\n        postComputeFieldIds.forEach(function(f) {\n            $p.uniform.uAggrOpt = METRICS.indexOf(opts[f]);\n            $p.uniform.uFieldId = f;\n            gl.viewport(\n                0, \n                f * $p.resultDimension[1], \n                $p.resultDimension[0] * $p.extraDimension,\n                $p.resultDimension[1]\n            );\n            gl.drawArrays(gl.TRIANGLES, 0, 6);\n        })\n    }\n\n    aggregate.execute = function(spec) {\n        let newFieldSpec = spec.$collect || spec.$reduce || null;\n        let groupFields = spec.$group || spec.group;\n        let groupFieldIds = [-1, -1, -1];\n        let outputTag = spec.out || 'fGroupResults';\n        if (!Array.isArray(groupFields)) groupFields = [groupFields];\n        if (groupFields.length >= 2) {\n            groupFieldIds[0] = $p.fields.indexOf(groupFields[0]);\n            groupFieldIds[1] = $p.fields.indexOf(groupFields[1]);\n            $p.resultDimension = [\n                $p.fieldWidths[groupFieldIds[0]],\n                $p.fieldWidths[groupFieldIds[1]]\n            ];\n            if(groupFields.length === 3) {\n                groupFieldIds[2] = $p.fields.indexOf(groupFields[2]);\n                $p.extraDimension = $p.fieldWidths[groupFieldIds[2]];\n            } else {\n                $p.extraDimension = 1\n            }\n        } else {\n            groupFieldIds[0] = $p.fields.indexOf(groupFields[0]);\n            $p.resultDimension = [$p.fieldWidths[groupFieldIds[0]], 1];\n        }\n\n        // For backward compatibility, allowing new fields specified without using the $collect or $reduce\n        if (newFieldSpec === null) {\n            newFieldSpec = {};\n            Object.keys(spec)\n            .filter(d => d != '$by' && d != '$group')\n            .forEach(function(d) {\n                newFieldSpec[d] = spec[d];\n            });\n        }\n\n        let newFieldNames = Object.keys(newFieldSpec);\n        let resultFields = newFieldNames.map(f => newFieldSpec[f][Object.keys(newFieldSpec[f])[0]]);\n        let resultFieldIds = resultFields.map( f => (f == '*') ? 0 : $p.fields.indexOf(f));\n        let operators = resultFields.map( (f,i) => { \n            return (typeof(newFieldSpec[newFieldNames[i]]) === 'object')\n                ? Object.keys(newFieldSpec[newFieldNames[i]])[0]\n                : newFieldSpec[newFieldNames[i]]\n        });\n        let twoPassFields = operators.filter(opt => METRICS.indexOf(opt) > 2 );\n\n        if (!$p._update && !$p._progress) {\n            $p.framebuffer(\n                outputTag,\n                'float', [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length]\n            );\n\n            if(twoPassFields.length > 0) {\n                $p.framebuffer(\n                    'fAggrStats',\n                    'float', [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length]\n                );\n            }\n        }\n        $p.bindFramebuffer(outputTag);\n\n        compute(operators, groupFieldIds, resultFieldIds, outputTag);\n\n        $p.getResult = aggregate.result;\n        $p.indexes = groupFields;\n        $p.dataDimension = $p.resultDimension;\n        $p.uniform.uDataInput.data = $p.framebuffer[outputTag].texture;\n\n        var oldFieldIds = groupFields.concat(resultFields).map( f => $p.fields.indexOf(f));\n\n        $p.fields = groupFields.concat(newFieldNames);\n        $p.uniform.uDataDim.data = $p.resultDimension;\n        $p.uniform.uIndexCount.data = $p.indexes.length;\n        $p.fieldCount = $p.fields.length - $p.indexes.length;\n        $p.uniform.uFieldCount.data = $p.fieldCount;\n\n        // $p.fieldWidths = $p.fieldWidths.concat($p.deriveWidths);\n        // $p.fieldDomains = $p.fieldDomains.concat($p.deriveDomains);\n       \n        let newFieldDomains = oldFieldIds.map(f => $p.fieldDomains[f]);\n        let newFieldWidths = oldFieldIds.map(f => $p.fieldWidths[f]);\n        \n        oldFieldIds.slice(0, groupFields.length).forEach((fid, fii) => {\n            if($p.uniform.uBinCount.data[fii] > 0) {\n                newFieldDomains[fii] = [0, $p.uniform.uBinCount.data[fii]-1];\n            }\n        })\n        $p.uniform.uBinCount.data = [0,0];\n\n        $p.fieldDomains = newFieldDomains;\n        $p.fieldWidths = newFieldWidths;\n       \n        $p.attribute.aDataItemId = seqFloat(0, $p.resultDimension[0] * $p.resultDimension[1] - 1);\n        $p.dataSize = $p.resultDimension[0] * $p.resultDimension[1];\n        $p.uniform.uDataSize.data = $p.dataSize;\n        $p.uniform.uFieldDomains.data = $p.fieldDomains;\n        $p.uniform.uFieldWidths.data = $p.fieldWidths;\n        $p.uniform.uFilterFlag.data = 0;\n\n        $p.indexes.forEach(function(d, i) {\n            $p.attribute['aDataId' + VEC_IDS[i]] = seqFloat(0, $p.resultDimension[i]-1);\n            var interval = 1;\n            var ifid = $p.fields.indexOf(d);\n            // if ($p.intervals.hasOwnProperty(d)) interval = $p.intervals[d].interval;\n            $p.attribute['aDataVal' + VEC_IDS[i]] = seqFloat(\n                $p.fieldDomains[ifid][0],\n                $p.fieldDomains[ifid][1],\n                interval\n            );\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataId' + VEC_IDS[i]].location, i);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataVal' + VEC_IDS[i]].location, i);\n        });\n        if ($p.indexes.length == 1) {\n            $p.attribute.aDataIdy = new Float32Array(1);\n            $p.attribute.aDataValy = new Float32Array(1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        }\n        if (!$p._update) {\n            let resultFieldIds = resultFields.map( f => (f == '*') ? 0 : $p.fields.indexOf(f));\n            resultDomains = $p.extent(resultFieldIds, $p.dataDimension);\n        }\n        for (var ii = $p.indexes.length; ii < $p.indexes.length + resultFields.length; ii++) {\n            $p.fieldDomains[ii] = resultDomains[ii - $p.indexes.length];\n            $p.fieldWidths[ii] = resultDomains[ii - $p.indexes.length][1] - resultDomains[ii - $p.indexes.length][0];\n        }\n        $p.getResultBuffer = aggregate.result;\n        // console.log(aggregate.result({outputTag}))\n    }\n\n    aggregate.result = function(arg) {\n        let options = arg || {};\n        let outputTag =  arg.outputTag || 'fGroupResults';\n        let offset = options.offset || [0, 0];\n        let resultSize = options.size || $p.resultDimension[0] * $p.resultDimension[1];\n        let rowTotal = Math.min(resultSize, $p.resultDimension[0]);\n        let colTotal = Math.ceil(resultSize / $p.resultDimension[0]);\n        let result = new Float32Array(rowTotal * colTotal * 4 * resultFieldCount);\n        $p.bindFramebuffer(outputTag);\n        let gl = $p.program('AggregateCompute');\n        gl.readPixels(offset[0], offset[1], rowTotal, colTotal * resultFieldCount, gl.RGBA, gl.FLOAT, result);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return result.filter((d, i) => i % 4 === 3);\n    }\n\n    return aggregate;\n}\n","export default function cache($p) {\n    var cache = {},\n        dataDimension = $p.uniform.uDataDim.data,\n        fieldCount =  $p.uniform.uFieldCount.data,\n        cacheTag;\n\n    var vs = $p.shader.vertex(function () {\n         gl_Position = vec4(this._square, 0, 1);\n    });\n\n    var fs = $p.shader.fragment(function () {\n        var x, y;\n\n        x = (gl_FragCoord.x) / this.uDataDim.x;\n        y = (gl_FragCoord.y) / (this.uDataDim.y * float(this.uFieldCount));\n\n        gl_FragColor = texture2D(this.uDataInput, vec2(x, y));\n    });\n\n    $p.program(\"cache\", vs, fs);\n\n    cache.execute = function(tag) {\n        cacheTag = tag;\n        dataDimension = $p.uniform.uDataDim.data;\n        fieldCount = $p.uniform.uFieldCount.data;\n        $p.framebuffer(tag, \"float\", [dataDimension[0], dataDimension[1] * fieldCount]);\n        $p.bindFramebuffer(tag);\n        var gl = $p.program(\"cache\");\n        gl.viewport(0, 0, dataDimension[0], dataDimension[1] * fieldCount);\n        gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n        gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.BLEND);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        $p.framebuffer.enableRead(tag);\n        $p.uniform.uDataInput = $p.framebuffer[tag].texture;\n        $p.getResultBuffer = cache.result;\n    }\n\n    cache.result =  function() {\n        var gl = $p.ctx;\n        $p.bindFramebuffer(cacheTag);\n        dataDimension = $p.uniform.uDataDim.data;\n        var result = new Float32Array(dataDimension[0]*dataDimension[1]*4*fieldCount);\n        gl.readPixels(0, 0, dataDimension[0], dataDimension[1] * fieldCount, gl.RGBA, gl.FLOAT, result);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        result = result.filter(function(d, i){ return i%4===3;} );\n\n        return result;\n    }\n\n    return cache;\n}\n","\n// Calculate the current day of the week as an integer\n//   now - Unix timestamp like that from time(NULL)\n//   tz_offset - Number of hours off from UTC; i.e. PST = -8\n//   Return value: Sunday=0, Monday=1, ... Saturday=6\n// int dayofweek(time_t now, int tz_offset) {\n// \t// Calculate number of seconds since midnight 1 Jan 1970 local time\n// \ttime_t localtime = now + (tz_offset * 60 * 60);\n// \t// Convert to number of days since 1 Jan 1970\n// \tint days_since_epoch = localtime / 86400;\n// \t// 1 Jan 1970 was a Thursday, so add 4 so Sunday is day 0, and mod 7\n// \tint day_of_week = (days_since_epoch + 4) % 7; \n\n// \treturn day_of_week;\n// }\n\n// function getDateTime(s) {\n//   let z = Math.floor(s / 86400) + 719468;\n//   let era = Math.floor(z >= 0 ? z : z - 146096) / 146097;\n//   let doe = Math.floor((z - era * 146097));\n//   let yoe = Math.floor((doe - doe / 1460 + doe / 36524 - doe / 146096) / 365);\n//   let year = Math.floor((yoe) + era * 400);\n//   let doy = Math.floor(doe - (365 * yoe + yoe / 4 - yoe / 100));\n//   let mp = Math.floor(( 5 * doy + 2) / 153);\n//   let day = Math.floor(doy - (153 * mp + 2) / 5 + 1);\n//   let month = Math.floor(mp + (mp < 10 ? 3 : -9));\n//   year += (month <= 2);\n//   return {year, month, day};\n// }\n\nfunction getDateTime(s) {\n  let second = s % 60\n  let minute = Math.floor(s / 60) % 60\n  let hour = Math.floor(s / 3600) % 24\n  let days = Math.floor(s / 3600 / 24) \n  let years = Math.floor(days / 365.25)\n  let year = 1970 + years;\n  let dayOfWeek = (days + 4) % 7\n\n  // let leapDays = 0\n  // for (var i = 1970; i < year; i++) {\n  //   if ((i % 4 === 0 && i % 100 !== 0) || (i % 400 == 0)) {\n  //     leapDays += 1;\n  //   }\n  // }\n  // days = days - (years * 365 + leapDays);\n  days = days - Math.ceil(years * 365.25);\n  let isLeapYear = ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0));\n  let month = 1\n  let daysInMonth\n  while (month <= 12) {\n    \n    if(month === 2) {\n      daysInMonth = 28 + isLeapYear;\n    } else {\n      daysInMonth = 30 + (month + (month < 7)) % 2\n    }\n\n    if (days > daysInMonth) {\n      days -= daysInMonth\n      month += 1\n    } else {\n      break;\n    }\n  }\n\n  return {year, month, days, hour, minute, second, dayOfWeek}\n}\n\n\nexport function getHour({ts = 'float'}) {\n  var hours = floor(ts / 3600.0);\n  return hours - (24.0 * floor(hours / 24.0)) + 1.0;\n}\n\nexport function getYear({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0);\n  var years = floor(days / 365.25);\n  return 1970.0 + years;\n}\n\nexport function floatMod({a = \"float\", b = \"float\"}) {\n  return a - (b * floor(a / b));\n}\n\n// export function getMonth({ts = 'float'}) {\n//   var days = floor(ts / 3600.0 / 24.0);\n//   var years = floor(days / 365.25) + 1970.0;\n//   var months = floor(days / 30.5);\n//   return months - floor(months / 12.0);\n// }\n\nexport function getDayOfWeek({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0) + 4.0;\n  return days - (7.0 * floor(days / 7.0)) + 1.0;\n} \n\nexport function getMonth({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0);\n  var years = floor(days / 365.25);\n  days = days - ceil(years * 365.25);\n  var month = new int();\n  var daysInMonth;\n  var year = 1970.0 + years;\n  var isLeapYear = 0.0;\n  if( (year - (4.0 * floor(year/4.0)) == 0.0 \n    && year - (100.0 * floor(year/100.0)) != 0.0)\n    || (year - (100.0 * floor(year/400.0)) == 0.0)\n  ) {\n    isLeapYear = 1.0;\n  }\n  month = 1;\n  for (var i = 1; i<=12; i++) {\n    if(month == 2) {\n      daysInMonth = 28.0 + isLeapYear;\n    } else if( month == 4 || month == 6 || month == 9 || month == 11) {\n      daysInMonth = 30.0;\n    } else {\n      daysInMonth = 31.0;\n    }\n    if (days > daysInMonth) {\n      days -= daysInMonth;\n      month += 1;\n    }\n  }\n  return float(month);\n}","\nconst smallest = -Math.pow(2, 128);\nexport default function extent($p) {\n\n    var vs = $p.shader.vertex(function() {\n        gl_PointSize = 1.0;\n        var i, j;\n        if (this.aDataIdy * this.uDataDim.x + this.aDataIdx >= this.uDataSize) {\n            this.vDiscardData = 1.0;\n        } else {\n            this.vDiscardData = 0.0;\n            i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n            j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n            this.vResult = this.getData(this.uFieldId, i, j);\n        }\n        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    });\n\n    var fs = $p.shader.fragment(function() {\n        if (this.vDiscardData == 1.0) discard;\n        if (this.vResult >= 0.0) {\n            gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n        } else {\n            gl_FragColor = vec4(-1.0, this.vResult, 0.0, 0.0);\n        }\n    });\n\n    var gl = $p.program(\"stats\", vs, fs);\n\n    return function(fieldIds, dataDimension) {\n        if (!$p._update) {\n            $p.framebuffer(\"fStats\", \"float\", [2, fieldIds.length]);\n        }\n        var gl = $p.program(\"stats\");\n        $p.framebuffer.enableRead(\"fGroupResults\");\n\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n        $p.bindFramebuffer(\"fStats\");\n        gl.clearColor(smallest, smallest, smallest, smallest);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE);\n\n        var extents = new Array(fieldIds.length);\n\n        var idCount = $p.uniform.uIndexCount.data;\n        fieldIds.forEach(function(d, i) {\n            $p.uniform.uFieldId = i + idCount;\n            gl.viewport(0, i, 1, 1);\n            gl.blendEquation(gl.MAX_EXT);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n            // gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, max);\n\n            gl.viewport(1, i, 1, 1);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n            gl.blendEquation(gl.MIN_EXT);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n            // var extent = new Float32Array(8);\n            // gl.readPixels(0, i, 2, 1, gl.RGBA, gl.FLOAT, extent);\n            // console.log(extent);\n            // var ext = extent;\n            // var minValue = (ext[0] > 0) ? ext[1] : ext[7],\n            //     maxValue = (ext[2] > 0) ? ext[3] : ext[5];\n            //  extents[i] = [minValue, maxValue];\n        });\n        var extent = new Float32Array(8 * fieldIds.length);\n       \n        gl.readPixels(0, 0, 2, fieldIds.length, gl.RGBA, gl.FLOAT, extent);\n        fieldIds.forEach(function(d, i) {\n            var ext = extent.slice(i * 8, i * 8 + 8);\n            var minValue = (ext[4] < 0) ? ext[5] : ext[7],\n                maxValue = (ext[2] > 0) ? ext[3] : ext[1];\n            extents[i] = [minValue, maxValue];\n        });\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return extents;\n    }\n}\n","export const IntervalMatch = {\n  vertexShader() {\n    var i, j, k, value;\n    var filter = new Int(0);\n    var sel = new Int(0);\n    var visSelect = new Bool(false);\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n    \n    for(var f = 0; f < $(fieldCount) + $(indexCount); f++) {\n      if(this.uFilterControls[f] == 1 || this.uVisControls[f] == 1) {\n        value = this.getData(f, i, j);\n    \n        if(this.uFilterControls[f] == 1) {\n          if(value < this.uFilterRanges[f].x || value > this.uFilterRanges[f].y) {\n            filter -= 1;\n          }\n        }\n        if(this.uVisControls[f] == 1) {\n          if(value < this.uVisRanges[f].x || value > this.uVisRanges[f].y) {\n            sel -= 1;\n          }\n          visSelect = true;\n        }\n      }\n    }\n    this.vResult = 0.1;\n    if(filter < 0) {\n      this.vResult = 0.0;\n    } else {\n      if(visSelect)\n        this.vResult = (sel < 0) ? 0.1 : 0.2;\n    }\n    var x = i * 2.0 - 1.0;\n    var y = j * 2.0 - 1.0;\n    gl_PointSize = 1.0;\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0., 0., 0., this.vResult);\n  }\n}\n\nexport const DiscreteMatch = {\n  vertexShader() {\n    var i, j, k, value;\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n    this.vResult = this.uFilterLevel - 0.1;\n    value = this.getData(this.uFieldId, i, j);\n    for(var l = 0; l < 100; l++){\n      if(l < this.uSelectCount) {\n        if(value == this.uInSelections[l]) {\n          this.vResult = this.uFilterLevel;\n        }\n      }\n    }\n    var x = i * 2.0 - 1.0;\n    var y = j * 2.0 - 1.0;\n    gl_PointSize = 1.0;\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0., 0., 0., this.vResult);\n  }\n}","import {IntervalMatch, DiscreteMatch} from '../gljs/Match.gl'\n\nexport default function match($p) {\n    const SELECT_MAX = 100;\n    let match = {};\n    let dataDimension = $p.uniform.uDataDim.data;\n    let fieldCount = $p.fields.length;\n    let filterControls = new Array(fieldCount).fill(0);\n    let filterRanges = $p.fieldDomains;\n    let visControls = new Array(fieldCount).fill(0);\n    let visRanges = $p.fieldDomains;\n    let inSelections = new Array(SELECT_MAX);\n    let matchResultBuffer = null;\n\n    $p.uniform('uInSelections', 'float', Float32Array.from(inSelections));\n    $p.uniform('uSelectMax', 'int', SELECT_MAX);\n    $p.uniform('uSelectCount', 'int', 0);\n\n    let rangeMatch = {\n        vs: $p.shader.vertex(IntervalMatch.vertexShader),\n        fs: $p.shader.fragment(IntervalMatch.fragmentShader)\n    };\n\n    let inMatch = {\n        vs: $p.shader.vertex(DiscreteMatch.vertexShader),\n        fs: $p.shader.fragment(DiscreteMatch.fragmentShader)\n    };\n\n    $p.program('IntervalMatch', rangeMatch.vs, rangeMatch.fs);\n    $p.program('DiscreteMatch', inMatch.vs, inMatch.fs);\n\n    match.control = function(ctrl) {\n        filterControls = ctrl;\n    }\n\n    function _execute(spec){\n        var fields = $p.fields;\n        var gl;\n        var matchFields = Object.keys(spec).filter(function(s){\n            return spec[s].hasOwnProperty('$in');\n        })\n        .concat(Object.keys($p.crossfilters).filter(function(s){\n            return $p.crossfilters[s].hasOwnProperty('$in');\n        }))\n\n        $p.bindFramebuffer('fFilterResults');\n       \n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        if(matchFields.length) {\n            gl = $p.program('DiscreteMatch');\n            if($p.deriveCount > 0) {\n                $p.framebuffer.enableRead('fDerivedValues');\n            }\n\n            gl.viewport(0, 0, dataDimension[0], dataDimension[1]);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n            gl.clearColor( 1.0, 1.0, 1.0, 1.0 );\n            gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.enable( gl.BLEND );\n            gl.blendFunc( gl.ONE, gl.ONE );\n            gl.blendEquation(gl.MIN_EXT);\n\n            matchFields.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                var inSelections = (spec.hasOwnProperty(k)) ? spec[k].$in :  $p.crossfilters[k].$in;\n                if($p.strValues.hasOwnProperty(k)) {\n                    inSelections = inSelections\n                        .slice(0, SELECT_MAX)\n                        .map(function(v) { return $p.strValues[k][v]; });\n                } else {\n                    inSelections = inSelections.slice(0, SELECT_MAX);\n                }\n                $p.uniform.uSelectCount = inSelections.length;\n                $p.uniform.uInSelections = Float32Array.from(inSelections);\n                $p.uniform.uFieldId = fieldId;\n\n                gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, $p.dataDimension[0], $p.dataDimension[1]);\n                // filterRanges[fieldId*2] = Math.min.apply(null, spec[k].$in);\n                // filterRanges[fieldId*2+1] = Math.max.apply(null, spec[k].$in);\n                filterRanges[fieldId] = [Math.min.apply(null, inSelections), Math.max.apply(null, inSelections)];\n            })\n        }\n\n        var filterSelections = Object.keys(spec).filter(function(s){\n            return !spec[s].hasOwnProperty('$in');\n        });\n\n        var viewSelections = Object.keys($p.crossfilters).filter(function(s){\n            return !$p.crossfilters[s].hasOwnProperty('$in'); \n        });\n     \n        if(filterSelections.length || viewSelections.length){\n            filterControls = new Array(fieldCount).fill(0);\n\n            filterSelections.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                if(fieldId === -1) {\n                    console.log('Skipped: Matching on invalid data field ' + k);\n                    return;\n                }\n                if(spec[k].length < 2) spec[k][1] = spec[k][0];\n                filterControls[fieldId] = 1;\n                filterRanges[fieldId] = spec[k];\n                // filterRanges[fieldId*2] = spec[k][0];\n                // filterRanges[fieldId*2+1] = spec[k][1];\n            });\n\n            viewSelections.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                if(fieldId === -1) {\n                    console.log('Skipped: Matching on invalid data field ' + k);\n                    return;\n                }\n                if($p.crossfilters[k].length < 2) $p.crossfilters[k][1] = $p.crossfilters[k][0];\n                visControls[fieldId] = 1;\n                visRanges[fieldId] = $p.crossfilters[k];\n            });\n\n            $p.uniform.uFilterControls.data = filterControls;\n            $p.uniform.uFilterRanges.data = filterRanges;\n            $p.uniform.uVisControls.data = visControls;\n            $p.uniform.uVisRanges.data = visRanges;\n\n            if (matchFields.length) {\n                matchResultBuffer= match.result();\n                $p.bindFramebuffer('fFilterResults');\n            }\n\n            gl = $p.program('IntervalMatch');\n            if($p.deriveCount > 0) {\n                $p.framebuffer.enableRead('fDerivedValues');\n            }\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n            gl.disable(gl.BLEND);\n            // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.viewport(0, 0, $p.dataDimension[0], $p.dataDimension[1]);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, $p.dataDimension[0], $p.dataDimension[1]);\n        }\n        $p.ctx.bindFramebuffer($p.ctx.FRAMEBUFFER, null);\n        return filterRanges;\n    }\n\n    match.execute = function(spec, skipUpdateDomain = false) {\n        filterControls = new Array($p.fields.length).fill(0);\n        visControls = new Array($p.fields.length).fill(0);\n        var filterSpec = spec;\n\n        Object.keys($p.crossfilters).forEach(function(k, i) {\n            if($p.strValues.hasOwnProperty(k) && !$p.crossfilters[k].$in) {\n                let filterValues = $p.crossfilters[k];\n                if(filterValues.length > 1) {\n                    let startIndex = $p.strLists[k].indexOf($p.crossfilters[k][0]);\n                    let endIndex = $p.strLists[k].indexOf($p.crossfilters[k][1]);\n                    filterValues = $p.strLists[k].slice(startIndex, endIndex + 1);\n                }\n                $p.crossfilters[k] = {$in: filterValues};\n            }\n        });\n\n        Object.keys(filterSpec).forEach(function(k, i) {\n            if($p.strValues.hasOwnProperty(k) && !spec[k].$in) {\n                spec[k] = {$in: spec[k]};\n            }\n        });\n\n        $p.uniform.uFilterFlag.data = 1;\n        if(!$p._update) {\n           \n            $p.framebuffer('fFilterResults', 'unsigned_byte', $p.dataDimension);\n            filterRanges = $p.fieldDomains.slice();\n            visRanges = $p.fieldDomains.slice();\n        }\n        var newDomains = _execute(spec);\n\n        if(!$p._update){\n            newDomains.forEach(function(domain, fid) {\n                var d = domain;\n                // if($p.dtypes[fid] == 'int') d[1] -= 1;\n                $p.fieldDomains[fid] = d;\n                $p.fieldWidths[fid] = $p.getDataWidth(fid, d);\n            });\n\n            $p.uniform.uFieldDomains.value($p.fieldDomains);\n            $p.uniform.uFieldWidths.data = $p.fieldWidths;\n        }\n        $p.getMatchBuffer = match.result;\n    }\n\n    match.result = function(arg) {\n        var options = arg || {},\n            offset = options.offset || [0, 0],\n            resultSize = options.size || $p.dataDimension[0]* $p.dataDimension[1],\n            rowSize = Math.min(resultSize, $p.dataDimension[0]),\n            colSize = Math.ceil(resultSize/$p.dataDimension[0]);\n\n        $p.bindFramebuffer('fFilterResults');\n\n        var gl = $p.ctx;\n        var bitmap = new Uint8Array(rowSize*colSize*4);\n        gl.readPixels(offset[0], offset[1], rowSize, colSize, gl.RGBA, gl.UNSIGNED_BYTE, bitmap);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        let result = bitmap.filter((d, i) => i % 4 === 3);\n        if(matchResultBuffer !== null) {\n            result = result.map((r,i) => r & matchResultBuffer[i])\n            matchResultBuffer = null\n        }\n        \n        return result;\n    }\n\n    return match;\n}\n","export const gradients = {\n    \"inferno\": [\"#000004\", \"#010005\", \"#010106\", \"#010108\", \"#02010a\", \"#02020c\", \"#02020e\", \"#030210\", \"#040312\", \"#040314\", \"#050417\", \"#060419\", \"#07051b\", \"#08051d\", \"#09061f\", \"#0a0722\", \"#0b0724\", \"#0c0826\", \"#0d0829\", \"#0e092b\", \"#10092d\", \"#110a30\", \"#120a32\", \"#140b34\", \"#150b37\", \"#160b39\", \"#180c3c\", \"#190c3e\", \"#1b0c41\", \"#1c0c43\", \"#1e0c45\", \"#1f0c48\", \"#210c4a\", \"#230c4c\", \"#240c4f\", \"#260c51\", \"#280b53\", \"#290b55\", \"#2b0b57\", \"#2d0b59\", \"#2f0a5b\", \"#310a5c\", \"#320a5e\", \"#340a5f\", \"#360961\", \"#380962\", \"#390963\", \"#3b0964\", \"#3d0965\", \"#3e0966\", \"#400a67\", \"#420a68\", \"#440a68\", \"#450a69\", \"#470b6a\", \"#490b6a\", \"#4a0c6b\", \"#4c0c6b\", \"#4d0d6c\", \"#4f0d6c\", \"#510e6c\", \"#520e6d\", \"#540f6d\", \"#550f6d\", \"#57106e\", \"#59106e\", \"#5a116e\", \"#5c126e\", \"#5d126e\", \"#5f136e\", \"#61136e\", \"#62146e\", \"#64156e\", \"#65156e\", \"#67166e\", \"#69166e\", \"#6a176e\", \"#6c186e\", \"#6d186e\", \"#6f196e\", \"#71196e\", \"#721a6e\", \"#741a6e\", \"#751b6e\", \"#771c6d\", \"#781c6d\", \"#7a1d6d\", \"#7c1d6d\", \"#7d1e6d\", \"#7f1e6c\", \"#801f6c\", \"#82206c\", \"#84206b\", \"#85216b\", \"#87216b\", \"#88226a\", \"#8a226a\", \"#8c2369\", \"#8d2369\", \"#8f2469\", \"#902568\", \"#922568\", \"#932667\", \"#952667\", \"#972766\", \"#982766\", \"#9a2865\", \"#9b2964\", \"#9d2964\", \"#9f2a63\", \"#a02a63\", \"#a22b62\", \"#a32c61\", \"#a52c60\", \"#a62d60\", \"#a82e5f\", \"#a92e5e\", \"#ab2f5e\", \"#ad305d\", \"#ae305c\", \"#b0315b\", \"#b1325a\", \"#b3325a\", \"#b43359\", \"#b63458\", \"#b73557\", \"#b93556\", \"#ba3655\", \"#bc3754\", \"#bd3853\", \"#bf3952\", \"#c03a51\", \"#c13a50\", \"#c33b4f\", \"#c43c4e\", \"#c63d4d\", \"#c73e4c\", \"#c83f4b\", \"#ca404a\", \"#cb4149\", \"#cc4248\", \"#ce4347\", \"#cf4446\", \"#d04545\", \"#d24644\", \"#d34743\", \"#d44842\", \"#d54a41\", \"#d74b3f\", \"#d84c3e\", \"#d94d3d\", \"#da4e3c\", \"#db503b\", \"#dd513a\", \"#de5238\", \"#df5337\", \"#e05536\", \"#e15635\", \"#e25734\", \"#e35933\", \"#e45a31\", \"#e55c30\", \"#e65d2f\", \"#e75e2e\", \"#e8602d\", \"#e9612b\", \"#ea632a\", \"#eb6429\", \"#eb6628\", \"#ec6726\", \"#ed6925\", \"#ee6a24\", \"#ef6c23\", \"#ef6e21\", \"#f06f20\", \"#f1711f\", \"#f1731d\", \"#f2741c\", \"#f3761b\", \"#f37819\", \"#f47918\", \"#f57b17\", \"#f57d15\", \"#f67e14\", \"#f68013\", \"#f78212\", \"#f78410\", \"#f8850f\", \"#f8870e\", \"#f8890c\", \"#f98b0b\", \"#f98c0a\", \"#f98e09\", \"#fa9008\", \"#fa9207\", \"#fa9407\", \"#fb9606\", \"#fb9706\", \"#fb9906\", \"#fb9b06\", \"#fb9d07\", \"#fc9f07\", \"#fca108\", \"#fca309\", \"#fca50a\", \"#fca60c\", \"#fca80d\", \"#fcaa0f\", \"#fcac11\", \"#fcae12\", \"#fcb014\", \"#fcb216\", \"#fcb418\", \"#fbb61a\", \"#fbb81d\", \"#fbba1f\", \"#fbbc21\", \"#fbbe23\", \"#fac026\", \"#fac228\", \"#fac42a\", \"#fac62d\", \"#f9c72f\", \"#f9c932\", \"#f9cb35\", \"#f8cd37\", \"#f8cf3a\", \"#f7d13d\", \"#f7d340\", \"#f6d543\", \"#f6d746\", \"#f5d949\", \"#f5db4c\", \"#f4dd4f\", \"#f4df53\", \"#f4e156\", \"#f3e35a\", \"#f3e55d\", \"#f2e661\", \"#f2e865\", \"#f2ea69\", \"#f1ec6d\", \"#f1ed71\", \"#f1ef75\", \"#f1f179\", \"#f2f27d\", \"#f2f482\", \"#f3f586\", \"#f3f68a\", \"#f4f88e\", \"#f5f992\", \"#f6fa96\", \"#f8fb9a\", \"#f9fc9d\", \"#fafda1\", \"#fcffa4\"],\n    \"magma\": [\"#000004\", \"#010005\", \"#010106\", \"#010108\", \"#020109\", \"#02020b\", \"#02020d\", \"#03030f\", \"#030312\", \"#040414\", \"#050416\", \"#060518\", \"#06051a\", \"#07061c\", \"#08071e\", \"#090720\", \"#0a0822\", \"#0b0924\", \"#0c0926\", \"#0d0a29\", \"#0e0b2b\", \"#100b2d\", \"#110c2f\", \"#120d31\", \"#130d34\", \"#140e36\", \"#150e38\", \"#160f3b\", \"#180f3d\", \"#19103f\", \"#1a1042\", \"#1c1044\", \"#1d1147\", \"#1e1149\", \"#20114b\", \"#21114e\", \"#221150\", \"#241253\", \"#251255\", \"#271258\", \"#29115a\", \"#2a115c\", \"#2c115f\", \"#2d1161\", \"#2f1163\", \"#311165\", \"#331067\", \"#341069\", \"#36106b\", \"#38106c\", \"#390f6e\", \"#3b0f70\", \"#3d0f71\", \"#3f0f72\", \"#400f74\", \"#420f75\", \"#440f76\", \"#451077\", \"#471078\", \"#491078\", \"#4a1079\", \"#4c117a\", \"#4e117b\", \"#4f127b\", \"#51127c\", \"#52137c\", \"#54137d\", \"#56147d\", \"#57157e\", \"#59157e\", \"#5a167e\", \"#5c167f\", \"#5d177f\", \"#5f187f\", \"#601880\", \"#621980\", \"#641a80\", \"#651a80\", \"#671b80\", \"#681c81\", \"#6a1c81\", \"#6b1d81\", \"#6d1d81\", \"#6e1e81\", \"#701f81\", \"#721f81\", \"#732081\", \"#752181\", \"#762181\", \"#782281\", \"#792282\", \"#7b2382\", \"#7c2382\", \"#7e2482\", \"#802582\", \"#812581\", \"#832681\", \"#842681\", \"#862781\", \"#882781\", \"#892881\", \"#8b2981\", \"#8c2981\", \"#8e2a81\", \"#902a81\", \"#912b81\", \"#932b80\", \"#942c80\", \"#962c80\", \"#982d80\", \"#992d80\", \"#9b2e7f\", \"#9c2e7f\", \"#9e2f7f\", \"#a02f7f\", \"#a1307e\", \"#a3307e\", \"#a5317e\", \"#a6317d\", \"#a8327d\", \"#aa337d\", \"#ab337c\", \"#ad347c\", \"#ae347b\", \"#b0357b\", \"#b2357b\", \"#b3367a\", \"#b5367a\", \"#b73779\", \"#b83779\", \"#ba3878\", \"#bc3978\", \"#bd3977\", \"#bf3a77\", \"#c03a76\", \"#c23b75\", \"#c43c75\", \"#c53c74\", \"#c73d73\", \"#c83e73\", \"#ca3e72\", \"#cc3f71\", \"#cd4071\", \"#cf4070\", \"#d0416f\", \"#d2426f\", \"#d3436e\", \"#d5446d\", \"#d6456c\", \"#d8456c\", \"#d9466b\", \"#db476a\", \"#dc4869\", \"#de4968\", \"#df4a68\", \"#e04c67\", \"#e24d66\", \"#e34e65\", \"#e44f64\", \"#e55064\", \"#e75263\", \"#e85362\", \"#e95462\", \"#ea5661\", \"#eb5760\", \"#ec5860\", \"#ed5a5f\", \"#ee5b5e\", \"#ef5d5e\", \"#f05f5e\", \"#f1605d\", \"#f2625d\", \"#f2645c\", \"#f3655c\", \"#f4675c\", \"#f4695c\", \"#f56b5c\", \"#f66c5c\", \"#f66e5c\", \"#f7705c\", \"#f7725c\", \"#f8745c\", \"#f8765c\", \"#f9785d\", \"#f9795d\", \"#f97b5d\", \"#fa7d5e\", \"#fa7f5e\", \"#fa815f\", \"#fb835f\", \"#fb8560\", \"#fb8761\", \"#fc8961\", \"#fc8a62\", \"#fc8c63\", \"#fc8e64\", \"#fc9065\", \"#fd9266\", \"#fd9467\", \"#fd9668\", \"#fd9869\", \"#fd9a6a\", \"#fd9b6b\", \"#fe9d6c\", \"#fe9f6d\", \"#fea16e\", \"#fea36f\", \"#fea571\", \"#fea772\", \"#fea973\", \"#feaa74\", \"#feac76\", \"#feae77\", \"#feb078\", \"#feb27a\", \"#feb47b\", \"#feb67c\", \"#feb77e\", \"#feb97f\", \"#febb81\", \"#febd82\", \"#febf84\", \"#fec185\", \"#fec287\", \"#fec488\", \"#fec68a\", \"#fec88c\", \"#feca8d\", \"#fecc8f\", \"#fecd90\", \"#fecf92\", \"#fed194\", \"#fed395\", \"#fed597\", \"#fed799\", \"#fed89a\", \"#fdda9c\", \"#fddc9e\", \"#fddea0\", \"#fde0a1\", \"#fde2a3\", \"#fde3a5\", \"#fde5a7\", \"#fde7a9\", \"#fde9aa\", \"#fdebac\", \"#fcecae\", \"#fceeb0\", \"#fcf0b2\", \"#fcf2b4\", \"#fcf4b6\", \"#fcf6b8\", \"#fcf7b9\", \"#fcf9bb\", \"#fcfbbd\", \"#fcfdbf\"],\n    \"plasma\": [\"#0d0887\", \"#100788\", \"#130789\", \"#16078a\", \"#19068c\", \"#1b068d\", \"#1d068e\", \"#20068f\", \"#220690\", \"#240691\", \"#260591\", \"#280592\", \"#2a0593\", \"#2c0594\", \"#2e0595\", \"#2f0596\", \"#310597\", \"#330597\", \"#350498\", \"#370499\", \"#38049a\", \"#3a049a\", \"#3c049b\", \"#3e049c\", \"#3f049c\", \"#41049d\", \"#43039e\", \"#44039e\", \"#46039f\", \"#48039f\", \"#4903a0\", \"#4b03a1\", \"#4c02a1\", \"#4e02a2\", \"#5002a2\", \"#5102a3\", \"#5302a3\", \"#5502a4\", \"#5601a4\", \"#5801a4\", \"#5901a5\", \"#5b01a5\", \"#5c01a6\", \"#5e01a6\", \"#6001a6\", \"#6100a7\", \"#6300a7\", \"#6400a7\", \"#6600a7\", \"#6700a8\", \"#6900a8\", \"#6a00a8\", \"#6c00a8\", \"#6e00a8\", \"#6f00a8\", \"#7100a8\", \"#7201a8\", \"#7401a8\", \"#7501a8\", \"#7701a8\", \"#7801a8\", \"#7a02a8\", \"#7b02a8\", \"#7d03a8\", \"#7e03a8\", \"#8004a8\", \"#8104a7\", \"#8305a7\", \"#8405a7\", \"#8606a6\", \"#8707a6\", \"#8808a6\", \"#8a09a5\", \"#8b0aa5\", \"#8d0ba5\", \"#8e0ca4\", \"#8f0da4\", \"#910ea3\", \"#920fa3\", \"#9410a2\", \"#9511a1\", \"#9613a1\", \"#9814a0\", \"#99159f\", \"#9a169f\", \"#9c179e\", \"#9d189d\", \"#9e199d\", \"#a01a9c\", \"#a11b9b\", \"#a21d9a\", \"#a31e9a\", \"#a51f99\", \"#a62098\", \"#a72197\", \"#a82296\", \"#aa2395\", \"#ab2494\", \"#ac2694\", \"#ad2793\", \"#ae2892\", \"#b02991\", \"#b12a90\", \"#b22b8f\", \"#b32c8e\", \"#b42e8d\", \"#b52f8c\", \"#b6308b\", \"#b7318a\", \"#b83289\", \"#ba3388\", \"#bb3488\", \"#bc3587\", \"#bd3786\", \"#be3885\", \"#bf3984\", \"#c03a83\", \"#c13b82\", \"#c23c81\", \"#c33d80\", \"#c43e7f\", \"#c5407e\", \"#c6417d\", \"#c7427c\", \"#c8437b\", \"#c9447a\", \"#ca457a\", \"#cb4679\", \"#cc4778\", \"#cc4977\", \"#cd4a76\", \"#ce4b75\", \"#cf4c74\", \"#d04d73\", \"#d14e72\", \"#d24f71\", \"#d35171\", \"#d45270\", \"#d5536f\", \"#d5546e\", \"#d6556d\", \"#d7566c\", \"#d8576b\", \"#d9586a\", \"#da5a6a\", \"#da5b69\", \"#db5c68\", \"#dc5d67\", \"#dd5e66\", \"#de5f65\", \"#de6164\", \"#df6263\", \"#e06363\", \"#e16462\", \"#e26561\", \"#e26660\", \"#e3685f\", \"#e4695e\", \"#e56a5d\", \"#e56b5d\", \"#e66c5c\", \"#e76e5b\", \"#e76f5a\", \"#e87059\", \"#e97158\", \"#e97257\", \"#ea7457\", \"#eb7556\", \"#eb7655\", \"#ec7754\", \"#ed7953\", \"#ed7a52\", \"#ee7b51\", \"#ef7c51\", \"#ef7e50\", \"#f07f4f\", \"#f0804e\", \"#f1814d\", \"#f1834c\", \"#f2844b\", \"#f3854b\", \"#f3874a\", \"#f48849\", \"#f48948\", \"#f58b47\", \"#f58c46\", \"#f68d45\", \"#f68f44\", \"#f79044\", \"#f79143\", \"#f79342\", \"#f89441\", \"#f89540\", \"#f9973f\", \"#f9983e\", \"#f99a3e\", \"#fa9b3d\", \"#fa9c3c\", \"#fa9e3b\", \"#fb9f3a\", \"#fba139\", \"#fba238\", \"#fca338\", \"#fca537\", \"#fca636\", \"#fca835\", \"#fca934\", \"#fdab33\", \"#fdac33\", \"#fdae32\", \"#fdaf31\", \"#fdb130\", \"#fdb22f\", \"#fdb42f\", \"#fdb52e\", \"#feb72d\", \"#feb82c\", \"#feba2c\", \"#febb2b\", \"#febd2a\", \"#febe2a\", \"#fec029\", \"#fdc229\", \"#fdc328\", \"#fdc527\", \"#fdc627\", \"#fdc827\", \"#fdca26\", \"#fdcb26\", \"#fccd25\", \"#fcce25\", \"#fcd025\", \"#fcd225\", \"#fbd324\", \"#fbd524\", \"#fbd724\", \"#fad824\", \"#fada24\", \"#f9dc24\", \"#f9dd25\", \"#f8df25\", \"#f8e125\", \"#f7e225\", \"#f7e425\", \"#f6e626\", \"#f6e826\", \"#f5e926\", \"#f5eb27\", \"#f4ed27\", \"#f3ee27\", \"#f3f027\", \"#f2f227\", \"#f1f426\", \"#f1f525\", \"#f0f724\", \"#f0f921\"],\n    \"viridis\": [\"#440154\", \"#440256\", \"#450457\", \"#450559\", \"#46075a\", \"#46085c\", \"#460a5d\", \"#460b5e\", \"#470d60\", \"#470e61\", \"#471063\", \"#471164\", \"#471365\", \"#481467\", \"#481668\", \"#481769\", \"#48186a\", \"#481a6c\", \"#481b6d\", \"#481c6e\", \"#481d6f\", \"#481f70\", \"#482071\", \"#482173\", \"#482374\", \"#482475\", \"#482576\", \"#482677\", \"#482878\", \"#482979\", \"#472a7a\", \"#472c7a\", \"#472d7b\", \"#472e7c\", \"#472f7d\", \"#46307e\", \"#46327e\", \"#46337f\", \"#463480\", \"#453581\", \"#453781\", \"#453882\", \"#443983\", \"#443a83\", \"#443b84\", \"#433d84\", \"#433e85\", \"#423f85\", \"#424086\", \"#424186\", \"#414287\", \"#414487\", \"#404588\", \"#404688\", \"#3f4788\", \"#3f4889\", \"#3e4989\", \"#3e4a89\", \"#3e4c8a\", \"#3d4d8a\", \"#3d4e8a\", \"#3c4f8a\", \"#3c508b\", \"#3b518b\", \"#3b528b\", \"#3a538b\", \"#3a548c\", \"#39558c\", \"#39568c\", \"#38588c\", \"#38598c\", \"#375a8c\", \"#375b8d\", \"#365c8d\", \"#365d8d\", \"#355e8d\", \"#355f8d\", \"#34608d\", \"#34618d\", \"#33628d\", \"#33638d\", \"#32648e\", \"#32658e\", \"#31668e\", \"#31678e\", \"#31688e\", \"#30698e\", \"#306a8e\", \"#2f6b8e\", \"#2f6c8e\", \"#2e6d8e\", \"#2e6e8e\", \"#2e6f8e\", \"#2d708e\", \"#2d718e\", \"#2c718e\", \"#2c728e\", \"#2c738e\", \"#2b748e\", \"#2b758e\", \"#2a768e\", \"#2a778e\", \"#2a788e\", \"#29798e\", \"#297a8e\", \"#297b8e\", \"#287c8e\", \"#287d8e\", \"#277e8e\", \"#277f8e\", \"#27808e\", \"#26818e\", \"#26828e\", \"#26828e\", \"#25838e\", \"#25848e\", \"#25858e\", \"#24868e\", \"#24878e\", \"#23888e\", \"#23898e\", \"#238a8d\", \"#228b8d\", \"#228c8d\", \"#228d8d\", \"#218e8d\", \"#218f8d\", \"#21908d\", \"#21918c\", \"#20928c\", \"#20928c\", \"#20938c\", \"#1f948c\", \"#1f958b\", \"#1f968b\", \"#1f978b\", \"#1f988b\", \"#1f998a\", \"#1f9a8a\", \"#1e9b8a\", \"#1e9c89\", \"#1e9d89\", \"#1f9e89\", \"#1f9f88\", \"#1fa088\", \"#1fa188\", \"#1fa187\", \"#1fa287\", \"#20a386\", \"#20a486\", \"#21a585\", \"#21a685\", \"#22a785\", \"#22a884\", \"#23a983\", \"#24aa83\", \"#25ab82\", \"#25ac82\", \"#26ad81\", \"#27ad81\", \"#28ae80\", \"#29af7f\", \"#2ab07f\", \"#2cb17e\", \"#2db27d\", \"#2eb37c\", \"#2fb47c\", \"#31b57b\", \"#32b67a\", \"#34b679\", \"#35b779\", \"#37b878\", \"#38b977\", \"#3aba76\", \"#3bbb75\", \"#3dbc74\", \"#3fbc73\", \"#40bd72\", \"#42be71\", \"#44bf70\", \"#46c06f\", \"#48c16e\", \"#4ac16d\", \"#4cc26c\", \"#4ec36b\", \"#50c46a\", \"#52c569\", \"#54c568\", \"#56c667\", \"#58c765\", \"#5ac864\", \"#5cc863\", \"#5ec962\", \"#60ca60\", \"#63cb5f\", \"#65cb5e\", \"#67cc5c\", \"#69cd5b\", \"#6ccd5a\", \"#6ece58\", \"#70cf57\", \"#73d056\", \"#75d054\", \"#77d153\", \"#7ad151\", \"#7cd250\", \"#7fd34e\", \"#81d34d\", \"#84d44b\", \"#86d549\", \"#89d548\", \"#8bd646\", \"#8ed645\", \"#90d743\", \"#93d741\", \"#95d840\", \"#98d83e\", \"#9bd93c\", \"#9dd93b\", \"#a0da39\", \"#a2da37\", \"#a5db36\", \"#a8db34\", \"#aadc32\", \"#addc30\", \"#b0dd2f\", \"#b2dd2d\", \"#b5de2b\", \"#b8de29\", \"#bade28\", \"#bddf26\", \"#c0df25\", \"#c2df23\", \"#c5e021\", \"#c8e020\", \"#cae11f\", \"#cde11d\", \"#d0e11c\", \"#d2e21b\", \"#d5e21a\", \"#d8e219\", \"#dae319\", \"#dde318\", \"#dfe318\", \"#e2e418\", \"#e5e419\", \"#e7e419\", \"#eae51a\", \"#ece51b\", \"#efe51c\", \"#f1e51d\", \"#f4e61e\", \"#f6e620\", \"#f8e621\", \"#fbe723\", \"#fde725\"]\n};\n","export const colorhex = {\n    \"aliceblue\": \"#f0f8ff\",\n    \"antiquewhite\": \"#faebd7\",\n    \"aqua\": \"#00ffff\",\n    \"aquamarine\": \"#7fffd4\",\n    \"azure\": \"#f0ffff\",\n    \"beige\": \"#f5f5dc\",\n    \"bisque\": \"#ffe4c4\",\n    \"black\": \"#000000\",\n    \"blanchedalmond\": \"#ffebcd\",\n    \"blue\": \"#0000ff\",\n    \"blueviolet\": \"#8a2be2\",\n    \"brown\": \"#a52a2a\",\n    \"burlywood\": \"#deb887\",\n    \"cadetblue\": \"#5f9ea0\",\n    \"chartreuse\": \"#7fff00\",\n    \"chocolate\": \"#d2691e\",\n    \"coral\": \"#ff7f50\",\n    \"cornflowerblue\": \"#6495ed\",\n    \"cornsilk\": \"#fff8dc\",\n    \"crimson\": \"#dc143c\",\n    \"cyan\": \"#00ffff\",\n    \"darkblue\": \"#00008b\",\n    \"darkcyan\": \"#008b8b\",\n    \"darkgoldenrod\": \"#b8860b\",\n    \"darkgray\": \"#a9a9a9\",\n    \"darkgreen\": \"#006400\",\n    \"darkkhaki\": \"#bdb76b\",\n    \"darkmagenta\": \"#8b008b\",\n    \"darkolivegreen\": \"#556b2f\",\n    \"darkorange\": \"#ff8c00\",\n    \"darkorchid\": \"#9932cc\",\n    \"darkred\": \"#8b0000\",\n    \"darksalmon\": \"#e9967a\",\n    \"darkseagreen\": \"#8fbc8f\",\n    \"darkslateblue\": \"#483d8b\",\n    \"darkslategray\": \"#2f4f4f\",\n    \"darkturquoise\": \"#00ced1\",\n    \"darkviolet\": \"#9400d3\",\n    \"deeppink\": \"#ff1493\",\n    \"deepskyblue\": \"#00bfff\",\n    \"dimgray\": \"#696969\",\n    \"dodgerblue\": \"#1e90ff\",\n    \"firebrick\": \"#b22222\",\n    \"floralwhite\": \"#fffaf0\",\n    \"forestgreen\": \"#228b22\",\n    \"fuchsia\": \"#ff00ff\",\n    \"gainsboro\": \"#dcdcdc\",\n    \"ghostwhite\": \"#f8f8ff\",\n    \"gold\": \"#ffd700\",\n    \"goldenrod\": \"#daa520\",\n    \"gray\": \"#808080\",\n    \"green\": \"#008000\",\n    \"greenyellow\": \"#adff2f\",\n    \"honeydew\": \"#f0fff0\",\n    \"hotpink\": \"#ff69b4\",\n    \"indianred \": \"#cd5c5c\",\n    \"indigo\": \"#4b0082\",\n    \"ivory\": \"#fffff0\",\n    \"khaki\": \"#f0e68c\",\n    \"lavender\": \"#e6e6fa\",\n    \"lavenderblush\": \"#fff0f5\",\n    \"lawngreen\": \"#7cfc00\",\n    \"lemonchiffon\": \"#fffacd\",\n    \"lightblue\": \"#add8e6\",\n    \"lightcoral\": \"#f08080\",\n    \"lightcyan\": \"#e0ffff\",\n    \"lightgoldenrodyellow\": \"#fafad2\",\n    \"lightgrey\": \"#d3d3d3\",\n    \"lightgreen\": \"#90ee90\",\n    \"lightpink\": \"#ffb6c1\",\n    \"lightsalmon\": \"#ffa07a\",\n    \"lightseagreen\": \"#20b2aa\",\n    \"lightskyblue\": \"#87cefa\",\n    \"lightslategray\": \"#778899\",\n    \"lightsteelblue\": \"#b0c4de\",\n    \"lightyellow\": \"#ffffe0\",\n    \"lime\": \"#00ff00\",\n    \"limegreen\": \"#32cd32\",\n    \"linen\": \"#faf0e6\",\n    \"magenta\": \"#ff00ff\",\n    \"maroon\": \"#800000\",\n    \"mediumaquamarine\": \"#66cdaa\",\n    \"mediumblue\": \"#0000cd\",\n    \"mediumorchid\": \"#ba55d3\",\n    \"mediumpurple\": \"#9370d8\",\n    \"mediumseagreen\": \"#3cb371\",\n    \"mediumslateblue\": \"#7b68ee\",\n    \"mediumspringgreen\": \"#00fa9a\",\n    \"mediumturquoise\": \"#48d1cc\",\n    \"mediumvioletred\": \"#c71585\",\n    \"midnightblue\": \"#191970\",\n    \"mintcream\": \"#f5fffa\",\n    \"mistyrose\": \"#ffe4e1\",\n    \"moccasin\": \"#ffe4b5\",\n    \"navajowhite\": \"#ffdead\",\n    \"navy\": \"#000080\",\n    \"oldlace\": \"#fdf5e6\",\n    \"olive\": \"#808000\",\n    \"olivedrab\": \"#6b8e23\",\n    \"orange\": \"#ffa500\",\n    \"orangered\": \"#ff4500\",\n    \"orchid\": \"#da70d6\",\n    \"palegoldenrod\": \"#eee8aa\",\n    \"palegreen\": \"#98fb98\",\n    \"paleturquoise\": \"#afeeee\",\n    \"palevioletred\": \"#d87093\",\n    \"papayawhip\": \"#ffefd5\",\n    \"peachpuff\": \"#ffdab9\",\n    \"peru\": \"#cd853f\",\n    \"pink\": \"#ffc0cb\",\n    \"plum\": \"#dda0dd\",\n    \"powderblue\": \"#b0e0e6\",\n    \"purple\": \"#800080\",\n    \"red\": \"#ff0000\",\n    \"rosybrown\": \"#bc8f8f\",\n    \"royalblue\": \"#4169e1\",\n    \"saddlebrown\": \"#8b4513\",\n    \"salmon\": \"#fa8072\",\n    \"sandybrown\": \"#f4a460\",\n    \"seagreen\": \"#2e8b57\",\n    \"seashell\": \"#fff5ee\",\n    \"sienna\": \"#a0522d\",\n    \"silver\": \"#c0c0c0\",\n    \"skyblue\": \"#87ceeb\",\n    \"slateblue\": \"#6a5acd\",\n    \"slategray\": \"#708090\",\n    \"snow\": \"#fffafa\",\n    \"springgreen\": \"#00ff7f\",\n    \"steelblue\": \"#4682b4\",\n    \"tan\": \"#d2b48c\",\n    \"teal\": \"#008080\",\n    \"thistle\": \"#d8bfd8\",\n    \"tomato\": \"#ff6347\",\n    \"turquoise\": \"#40e0d0\",\n    \"violet\": \"#ee82ee\",\n    \"wheat\": \"#f5deb3\",\n    \"white\": \"#ffffff\",\n    \"whitesmoke\": \"#f5f5f5\",\n    \"yellow\": \"#ffff00\",\n    \"yellowgreen\": \"#9acd32\"\n};\n","import {gradients as colorSchemes} from './gradients';\nimport {colorhex} from './colorhex';\n\nconst colorResolution = 256;\nconst colorSetMax = 32;\nconst defaultColorScheme = colorSchemes['viridis'];\nconst defaultColorSet = [\n    \"steelblue\",\n    \"red\",\n    \"teal\",\n    \"orange\",\n    \"purple\"\n];\n\nlet gradient = defaultColorScheme;\nlet colorset = defaultColorSet;\n\nexport default function color($p) {\n    let colorManager = {};\n\n    $p.uniform('uColorMode',       'int',   0) // 0=categorical, 1=numeric\n        .uniform('uColorCount',    'int',   colorSetMax)\n        .uniform('uColorSet',      'vec3',  setColorTable(colorset))\n        // .uniform('uColorGradient', 'vec4', setColorScheme(gradient))\n        .texture('tColorGradient', 'float', setColorScheme(gradient),  [colorResolution, 1], 'rgba')\n        .subroutine('mapColorRGB', 'vec3',  mapColorRGB);\n\n    colorManager.updateScheme = function(newColors) {\n        if(typeof newColors == 'string' && colorSchemes.hasOwnProperty(newColors)) {\n            gradient = colorSchemes[newColors];\n        } else if(Array.isArray(newColors)) {\n            gradient = newColors;\n        }\n        let colorGradient = setColorScheme(gradient)\n        $p.texture.tColorGradient = colorGradient;\n        // $p.texture.update('tColorGradient', colorGradient, [0, 0]);\n    }\n\n    colorManager.updateTable = function(colors) {\n        colorset = colors;\n        $p.uniform.uColorSet.data = setColorTable(colors);\n    }\n\n    colorManager.colorTable = defaultColorSet.map(function(t){\n        return rgba2hex(t);\n    });\n\n    colorManager.getColors = function() {\n        if($p.uniform.uColorMode == 0) {\n            return colorset;\n        } else {\n            return gradient;\n        }\n    }\n\n    colorManager.updateColors = function(colors, colorMode) {\n        \n        colorManager.updateScheme(colors || defaultColorScheme);\n        colorManager.updateTable(colors || defaultColorSet);\n        if(Number.isInteger(colorMode)) {\n            $p.uniform.uColorMode.data = colorMode;\n        }\n    }\n\n    colorManager.rgb = rgb;\n    colorManager.rgba = rgba;\n\n    return colorManager;\n}\n\nfunction colorStrToHex(colorStr) {\n    if (typeof colorhex[colorStr.toLowerCase()] != 'undefined') {\n        return colorhex[colorStr.toLowerCase()];\n    } else {\n        return false;\n    }\n}\n\nfunction rgb(hexStr) {\n    var hex, r, g, b;\n\n    if(hexStr.slice(0,1) == '#') {\n        hex = hexStr.slice(1);\n    } else {\n        hex = colorStrToHex(hexStr).slice(1);\n    }\n\n    r = parseInt(hex.substring(0,2), 16) / 255;\n    g = parseInt(hex.substring(2,4), 16) / 255;\n    b = parseInt(hex.substring(4,6), 16) / 255;\n    return [r, g, b];\n}\n\nfunction rgba(hexStr, alpha = 1.0) {\n    let c = rgb(hexStr);\n    return [c[0], c[1], c[2], alpha];\n}\n\nfunction rgba2hex(c) {\n    var r = c[0],\n        g = c[1],\n        b = c[2],\n        a = 1;\n    if (r > 255 || g > 255 || b > 255 || a > 255) {\n        throw 'Invalid color component';\n    }\n    return (256 + r).toString(16).substr(1) +((1 << 24) + (g << 16) | (b << 8) | a).toString(16).substr(1);\n}\n\nfunction setColorScheme(colors) {\n    var cc = colors.length - 1,\n        step = (cc >= 0) ? colorResolution / (cc+1) : 1,\n        colorGradient = new Float32Array(colorResolution * 4);\n\n    colors.push(colors[cc]);\n    for(var i = 0; i < cc+1; i++) {\n        var c0 = rgba(colors[i]),\n            c1 = rgba(colors[i+1]),\n            offset = Math.floor(i * step)*4;\n\n        for(var x = 0; x < step; x++) {\n            var xi = x / (step);\n            colorGradient[offset+x*4]   = c0[0] + (c1[0] - c0[0]) * xi;\n            colorGradient[offset+x*4+1] = c0[1] + (c1[1] - c0[1]) * xi;\n            colorGradient[offset+x*4+2] = c0[2] + (c1[2] - c0[2]) * xi;\n            colorGradient[offset+x*4+3] = c0[3] + (c1[3] - c0[3]) * xi;\n        }\n    }\n    colors.pop();\n    return colorGradient;\n}\n\nfunction setColorTable(colors) {\n    let colorTable = new Float32Array(colorSetMax * 3);\n    colors.forEach(function(c, i){\n        let colorValue = rgb(c);\n        colorTable[i*3] = colorValue[0];\n        colorTable[i*3+1] = colorValue[1];\n        colorTable[i*3+2] = colorValue[2];\n    });\n    return colorTable;\n}\n\nfunction mapColorRGB({fieldId = 'int', value = 'float'}) {\n    var d = new Vec2();\n    var colorRGB = new Vec3();\n    var intValue = new Int();\n    if(fieldId == -1) {\n        colorRGB = this.uDefaultColor;\n    } else {\n        if(this.uColorMode == 1) {\n            colorRGB = texture2D(this.tColorGradient, vec2(value, 1.0)).rgb;\n        } else {\n            d = this.uVisDomains[fieldId];\n            intValue = int(value * (d.y - d.x) + d.x + 0.5); //plus 0.5 for rounding\n\n            if(intValue >= this.uColorCount) {\n                colorRGB = vec3(0.0, 0.0, 0.0);\n            } else {\n                colorRGB = this.uColorSet[intValue];\n            }\n        }\n    }\n    return colorRGB;\n}\n","export const EncodingChannels = ['x', 'y', 'color', 'opacity', 'width', 'height', 'size']\n\nexport function encode($p, vmap, colorManager) {\n    let opacity = vmap.opacity || vmap.alpha;\n    let vmapIndex = new Int32Array(EncodingChannels.length);\n    let scaleExponents = new Float32Array(EncodingChannels.length).fill(1.0);\n    \n    EncodingChannels.forEach((channel, channelIndex) => {\n        let encoding = vmap[channel];\n        if (typeof(encoding) == 'object' && encoding.hasOwnProperty('field')) {\n            if(encoding.exponent !== 1.0) {\n                scaleExponents[channelIndex] = encoding.exponent;\n            }\n            encoding = vmap[channel].field;\n        }\n        vmapIndex[channelIndex] = $p.fields.indexOf(encoding);\n    })\n    $p.uniform.uVisualEncodings.data = vmapIndex;\n    $p.uniform.uScaleExponents.data = scaleExponents;\n    $p.uniform.uDefaultAlpha.data = 1.0;\n    if(vmapIndex[2] === -1) {\n        if (typeof(vmap.color) === 'string'){\n            if(vmap.color === 'auto') {\n                $p.revealDensity = true;\n                $p.uniform.uRevealMode.data = 1;\n            } else {\n                $p.uniform.uDefaultColor.data = colorManager.rgb(vmap.color);\n            }\n        } else {\n            if(typeof(vmap.size) == 'number') {\n                $p.uniform.uMarkSize.data = vmap.size;\n            }\n        }\n    } else {\n        if($p.strLists.hasOwnProperty($p.fields[vmapIndex[2]])) {\n            $p.uniform.uColorMode.data = 0;\n        } else {\n            $p.uniform.uColorMode.data = 1;\n        }\n    }\n\n    if(typeof(opacity) === 'number') {\n        $p.uniform.uDefaultAlpha.data = opacity;\n    } else if(vmapIndex[3] === -1 &&\n        typeof(opacity) == 'string' &&\n        opacity == 'auto'\n    ) {\n        $p.revealDensity = true;\n        $p.uniform.uRevealMode.data = 0;\n        // $p.uniform.uDefaultAlpha.data = 1.0;\n    }\n\n    if(vmapIndex[6] === -1 && typeof(vmap.size) == 'number') {\n        $p.uniform.uMarkSize.data = vmap.size;\n    }\n\n    let viewSetting = {scale: {}, histogram: {}};\n    let isRect = (['rect', 'bar'].indexOf(vmap.mark) !== -1);\n    let markSpace = [0, 0];\n    let isXYCategorical = [0, 0];\n    if(vmapIndex[0] > -1) {\n        let len = $p.fieldWidths[vmapIndex[0]];\n        let ext = $p.fieldDomains[vmapIndex[0]];\n        if($p.strLists.hasOwnProperty(vmap.x)){\n            viewSetting.scale.x = 'categorical';\n            viewSetting.domainX = new Array(len).fill(0).map(\n                (d,i) => $p.strLists[vmap.x][i]\n            );\n            isXYCategorical[0] = 1;\n         } else if (isRect) {\n            viewSetting.scale.x = 'ordinal';\n            viewSetting.domainX = new Array(len).fill(0).map((d,i) => ext[0] + i);\n         }\n         markSpace[0] = vmap.markSpace || 0.02;\n\n    }\n    if(vmapIndex[1] > -1) {\n        let len = $p.fieldWidths[vmapIndex[1]];\n        let ext = $p.fieldDomains[vmapIndex[1]];\n\n        if($p.strLists.hasOwnProperty(vmap.y)){\n            viewSetting.scale.y = 'categorical';\n            viewSetting.domainY = new Array(len).fill(0).map(\n                (d,i)=>$p.strLists[vmap.y][i]\n            );\n            isXYCategorical[1] = 1;\n        } else if (isRect) {\n            viewSetting.scale.y = 'ordinal';\n            viewSetting.domainY = new Array(len).fill(0).map((d,i)=>ext[0] + i);\n        }\n        markSpace[1] = vmap.markSpace || 0.1;\n    }\n\n    if(vmapIndex[0] > -1 && vmapIndex[1] > -1) {\n        markSpace = [0, 0];\n    }\n    let dims = ['x', 'y'];\n    for(let dim of dims) {\n        if($p.histograms.indexOf(vmap[dim]) !== -1) {\n            let histMin = $p.intervals[vmap[dim]].min;\n            let histMax = $p.intervals[vmap[dim]].max;\n            let histIntv = $p.intervals[vmap[dim]].interval;\n            let histBin = Math.ceil((histMax - histMin) / histIntv);\n            let d = (dim == 'x') ? 'domainX' : 'domainY';\n            viewSetting.histogram[dim] = true;\n            viewSetting[d] = new Array(histBin).fill(histMin).map((h, i) => h + i*histIntv);\n            // markSpace[dims.indexOf(dim)] = 0.01;\n        }\n    }\n    $p.uniform.uMarkSpace.data = markSpace;\n    $p.uniform.uIsXYCategorical.data = isXYCategorical;\n\n    // if(!$p._update) {\n        if(!vmap.width && vmap.x) {\n            $p.uniform.uDefaultWidth.data = 1.0 / ($p.fieldWidths[$p.fields.indexOf(vmap.x)]);\n        } else if(vmapIndex[4] === -1 && typeof(vmap.width) == 'number') {\n            $p.uniform.uDefaultWidth.data = vmap.width / width;\n        }\n\n        if(!vmap.height && vmap.y) {\n            $p.uniform.uDefaultHeight.data = 1.0 / ($p.fieldWidths[$p.fields.indexOf(vmap.y)]);\n        } else if(vmapIndex[5] === -1 && typeof(vmap.width) == 'number') {\n            $p.uniform.uDefaultHeight.data = vmap.height / height;\n        }\n    // }\n    return viewSetting;\n}\n","export default function ($p, vmap, viewIndex, domains) {\n  let chart = $p.views[viewIndex];\n  let width = chart.width;\n  let height = chart.height;\n  let padding = chart.padding || $p.padding;\n\n  $p.extensions.forEach((ext) => {\n    if (ext.condition.call(null, vmap)) {\n      let dataDomains = {};\n      Object.keys(domains).forEach(f => {\n        if ($p.uniqueValues && $p.uniqueValues.hasOwnProperty(f)) {\n          let last = $p.uniqueValues[f].length - 1;\n          dataDomains[f] = [$p.uniqueValues[f][0], $p.uniqueValues[f][last]];\n        } else if($p.strLists.hasOwnProperty(f)) {\n          dataDomains[f] = $p.strLists[f];\n        } else {\n          dataDomains[f] = domains[f];\n        }\n      })\n\n      $p.skipRender = ext.skipDefault;\n      let data = {\n        json: null,\n        array: null,\n        texture: null,\n        vmap: vmap,\n        fields: $p.fields,\n        schema: $p.dataSchema,\n        domains: dataDomains\n      };\n\n      let view = Object.assign({}, chart);\n      view.width = width - padding.left - padding.right;\n      view.height = height - padding.top - padding.bottom;\n      view.encodings = vmap;\n      view.svg = chart.chart.svg.svg;\n      view.canvas = $p.canvas;\n      view.gridlines = view.gridlines;\n\n      if (ext.exportData) {\n        data.json = $p.exportResult({format: 'row', outputTag: vmap.in});\n      }\n\n      if ($p.dataSchema) {\n        data.json.forEach(row => {\n          Object.keys($p.dataSchema).forEach(key => {\n            if ($p.dataSchema[key] === 'time') {\n              row[key] = new Date(row[key])\n            }\n          })\n        })\n      }\n      if (typeof ext.onready === 'function') {\n        ext.onready.call($p, data, view);\n      }\n\n      let execution = (ext.type == 'class')\n        ? function (data, view) {\n          chart.plot = new ext.function(data, view)\n          if (typeof chart.plot.render === 'function') {\n            chart.plot.render()\n          }\n          return chart.plot;\n        } \n        : ext.function;\n\n      if (ext.restartOnUpdate) {\n        execution.call(ext, data, view);\n      } else {\n        if (!$p._update) {\n          chart.extChart = execution.call(ext, data, view);\n        }\n      }\n    }\n  })\n}","export default {\n    visMap({\n        channelId = 'int',\n        addrX = 'float',\n        addrY = 'float',\n        indexedValue0 = 'float',\n        indexedValue1 = 'float',\n        defaultValue = 'float'\n    }) {\n        var value;\n        var d = new Vec2();\n        var fieldId = new Int();\n        fieldId = this.uVisualEncodings[channelId];\n        if (fieldId > -1) {\n            if (fieldId >= this.uIndexCount) {\n                value = this.getNonIndexedData(fieldId, addrX, addrY);\n            } else if (fieldId < this.uIndexCount) {\n                value = (fieldId == 0) ? indexedValue0 : indexedValue1;\n            }\n            d = this.uVisDomains[fieldId];\n\n            value = (value - d.x) / (d.y - d.x);\n            if (this.uScaleExponents[channelId] != 0.0) {\n                value = pow(value, this.uScaleExponents[channelId]);\n            }\n\n            if (this.uGeoProjection == 1 && channelId == 1) {\n                value = log(tan((value / 90.0 + 1.0) * 3.14159 / 4.0)) * 180.0 / 3.14159;\n            }\n        } else {\n            value = defaultValue;\n        }\n\n        return value;\n    },\n\n    getEncodingByFieldId({\n        fieldId = 'int',\n        addrX = 'float',\n        addrY = 'float'\n    }) {\n        var value;\n        if (fieldId >= this.uIndexCount) {\n            value = this.getNonIndexedData(fieldId, addrX, addrY);\n        } else if (fieldId < this.uIndexCount) {\n            value = (fieldId == 0) ? addrX : addrY;\n        }\n        var d = new Vec2();\n        d = this.uVisDomains[fieldId];\n        value = (value - d.x) / (d.y - d.x);\n        return value;\n    }\n}","function setAttr(elem, attr) {\n    for( var key in attr ){\n        var value = attr[key],\n            c = key.match(/[A-Z]/);\n        if(c !== null) key = key.replace(c[0], \"-\"+c[0].toLowerCase())\n        elem.setAttribute(key, value);\n    }\n}\n\nfunction setStyle(elem, style) {\n    for( var key in style ){\n        var value = style[key],\n            c = key.match(/[A-Z]/);\n        if(c !== null) key = key.replace(c[0], \"-\"+c[0].toLowerCase())\n        elem.style[key] = value;\n    }\n}\n\nexport default function Svg(arg){\n\n    var self = (this instanceof Svg) ? this: {},\n        option = arg || {},\n        type = option.type || 'svg',\n        svgNS = 'http://www.w3.org/2000/svg',\n        svg = document.createElementNS(svgNS, type),\n        width = option.width || 400,\n        height = option.height || 300,\n        parent = option.parent || option.container || this.parent,\n        attr = option.attr || {},\n        style = option.style || {},\n        padding = option.padding || {left: 0, right: 0, top: 0, bottom: 0};\n\n    if(type === 'svg') {\n        var defaultAttr = {\n            width   : width + padding.left + padding.right,\n            height  : height + padding.top + padding.bottom,\n            viewBox : [0, 0, width + padding.left + padding.right , height + padding.top + padding.bottom].join(' '),\n            preserveAspectRatio: 'none'\n        };\n        setAttr(svg, defaultAttr);\n    }\n\n    self.innerWidth = function() {\n        return width;\n    }\n\n    self.innerHeight = function() {\n        return height;\n    }\n\n    self.padding = function() {\n        return padding;\n    }\n\n    if(style) setStyle(svg, style);\n    if(attr) setAttr(svg, attr);\n\n    if(parent) {\n        parent = (typeof parent == \"string\") ? document.getElementById(parent) : parent;\n        parent.appendChild(svg);\n    }\n\n    self.svg = svg;\n    self.parent = parent;\n\n    self.node = () => svg;\n\n    if(self instanceof Svg) {\n        publicMethods(Svg.prototype);\n    } else {\n        publicMethods(self);\n    }\n\n    return self;\n};\n\nfunction publicMethods(context) {\n    context.append = function(type, attr, style) {\n        var options = {};\n        options.parent = this.svg;\n        options.type = type;\n        options.attr = attr;\n        options.style = style;\n        return new Svg(options);\n    };\n\n    context.remove = function() {\n        if(this.svg && this.svg.parentNode === this.parent){\n            this.parent.removeChild(this.svg);\n        }\n    };\n\n    context.attr = function(a, v) {\n        if(typeof(a) == \"object\")\n            setAttr(this.svg, a);\n        else\n            this.svg.setAttribute(a, v);\n\n        return this;\n    }\n\n    context.Attr =  function(a, v) {\n        setAttr(this.svg, a);\n        return this;\n    }\n\n    context.Style =  function(a, v) {\n        setStyle(this.svg, a);\n        return this;\n    }\n\n    context.style = function(a, v) {\n        if(typeof(a) == \"object\")\n            setStyle(this.svg, a);\n        else\n            this.svg.style[a] = v;\n\n        return this;\n    }\n\n    context.css = context.style;\n\n    context.text = function(str){\n        this.svg.appendChild(document.createTextNode(str));\n        return this;\n    };\n\n    context.translate = function(x, y) {\n        var p = this.svg.getAttribute(\"transform\") || \"\";\n        this.svg.setAttribute(\"transform\", p + \"translate(\" + [x,y].join(\",\") + \") \");\n        return this;\n    };\n\n    context.on = function(event, callback) {\n        this.svg.addEventListner(event, callback);\n        return this;\n    }\n\n    return context;\n}\n","import Scale from './scale';\n\nexport default function axis(arg) {\n\n    var option = arg || {},\n        svg = option.container || option.parent,\n        dim = option.dim || \"x\",\n        color = option.color || \"#000\",\n        position = option.position || 0,\n        align = option.align || \"\",\n        scale = option.scale || \"linear\",\n        exponent = option.exponent || 1,\n        metric = option.metric || null,\n        domain = option.domain || [0, 1],\n        width = option.width || svg.innerWidth(),\n        height = option.height || svg.innerHeight(),\n        padding = option.padding || svg.padding() || {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        range = option.range || (dim == \"x\") ? [0, width] : [height, 0],\n        styles = {\n            stroke: color,\n            'stroke-width': 1\n        },\n        ticks = option.ticks,\n        tickLength = option.tickLength || 6,\n        tickPosition = option.tickPosition || [0, 0],\n        tickInterval = option.tickInterval || \"auto\",\n        tickAlign = option.tickAlign || \"center\",\n        skipLast = option.skipLast || false,\n        tickFormat = option.tickFormat || null,\n        grid = option.grid,\n        format = option.format || function (_) {return _;},\n        visable = option.visable || true,\n        domainIntervals,\n        labelPos = null,\n        labelAngle = option.labelAngle || 0,\n        X = [],\n        Y = [];\n\n    if (typeof (ticks) != \"number\") {\n        ticks = (dim == \"x\") ? Math.ceil(width / 50) : Math.ceil(height / 50);\n    }\n    var tickLabelAlign = option.tickLabelAlign || \"end\";\n    switch (align) {\n        case \"left\" || \"center\":\n            labelPos = option.labelPos || {\n                x: -tickLength / 2,\n                y: -5\n            };\n            tickLabelAlign = option.tickLabelAlign || \"end\";\n            break;\n        case \"right\":\n            labelPos = option.labelPos || {\n                x: tickLength,\n                y: -5\n            };\n            tickLabelAlign = option.tickLabelAlign || \"start\";\n            if (!tickPosition) tickPosition = [tickLength / 2, 0];\n            break;\n        case \"top\":\n            labelPos = {\n                x: 0,\n                y: 0\n            };\n            tickLabelAlign = \"middle\";\n            if (!tickPosition) tickPosition = [0, -tickLength];\n            break;\n        case \"bottom\" || \"middle\":\n            labelPos = option.labelPos || {\n                x: 0,\n                y: -tickLength * 3\n            };\n            tickLabelAlign = option.tickLabelAlign || \"middle\";\n            break;\n        default:\n            labelPos = option.labelPos || option.labelPosition || {\n                x: 0,\n                y: 0\n            };\n            break;\n    }\n\n    function getTickInterval() {\n        var vDomain = Math.abs(domain[1] - domain[0]),\n            intv = vDomain / ticks,\n            pow = Math.ceil(Math.log10(intv)),\n            intv = intv / Math.pow(10, pow);\n\n        if (intv > 0.2 && intv <= 0.25) {\n            intv = 0.25;\n        } else if (intv > 0.7 && intv <= 0.75) {\n            intv = 0.75;\n        } else {\n            intv = Math.ceil(intv * 10) / 10;\n        }\n        return intv * Math.pow(10, pow);\n    }\n\n    if (scale == \"categorical\" || scale == \"ordinal\") {\n        domainIntervals = function () {\n            if(domain.length > 20) {\n                var dstep = Math.floor(domain.length / 20);\n                return domain.filter( (d,di) => di % dstep === 0)\n            }\n            return domain;\n        };\n    } else {\n        var intv;\n\n        if (tickInterval == \"auto\") {\n            intv = getTickInterval();\n\n        } else {\n            if (typeof (tickInterval) == \"number\") {\n                intv = tickInterval;\n            } else {\n                // intv = Math.abs(domain[1] - domain[0]) / ticks;\n                intv = getTickInterval();\n                domain[0] = intv * Math.floor(domain[0] / intv);\n                domain[1] = intv * Math.ceil(domain[1] / intv);\n            }\n        }\n\n        domainIntervals = function () {\n            var di = [];\n\n            if (domain[0] > domain[1]) {\n                domain[0] += intv;\n                for (var i = domain[0]; i > domain[1]; i = i - intv)\n                    di.push(i);\n            } else {\n                for (var i = domain[0]; i < domain[1]; i = i + intv)\n                    di.push(i);\n            }\n\n            if (di[di.length - 1] != domain[1] && !isNaN(domain[1]) && !skipLast) {\n\n                if ((domain[1] - di[di.length - 1]) < 0.4 * intv)\n                    di[di.length - 1] = domain[1];\n                else\n                    di.push(domain[1]);\n            }\n            return di;\n        }\n    }\n\n    if (metric === null) {\n\n        var scaleOptions = {\n            align: tickAlign,\n            type: scale,\n            domain: domain,\n            range: range\n        };\n\n        if (scale == \"power\") {\n            scaleOptions.exponent = exponent;\n        }\n\n        metric = Scale(scaleOptions)\n    } else {\n        domain = metric.domain();\n    }\n\n    var axis = svg.append(\"g\");\n\n    if (dim == 'x') {\n        if (!position && align) {\n            position = [0, height / 2, height];\n            position = position[[\"top\", \"middle\", \"bottom\"].indexOf(align)];\n        }\n        Y[0] = Y[1] = position;\n        X[0] = 0;\n        X[1] = Math.abs(range[1] - range[0]);\n    } else {\n        if (!position && align) {\n            position = [0, width / 2, width];\n            position = position[[\"left\", \"center\", \"right\"].indexOf(align)];\n        }\n        X[0] = X[1] = position;\n        Y[0] = 0;\n        Y[1] = Math.abs(range[1] - range[0]);\n    }\n\n    metric.show = metric.axis = function () {\n        axis.append(\"g\")\n            .append(\"line\")\n            .Attr({\n                x1: X[0],\n                x2: X[1],\n                y1: Y[0],\n                y2: Y[1]\n            })\n            .Style(styles);\n\n        var di = domainIntervals();\n\n        for (var i = 0; i < di.length; i++) {\n            var x1, x2, y1, y2;\n            if (dim == 'x') {\n                x1 = x2 = metric(di[i]) + tickPosition[0];\n                y1 = position + tickPosition[1] + tickLength;\n                y2 = y1 - tickLength;\n            } else {\n                y1 = y2 = metric(di[i]) + tickPosition[1];\n                x1 = position + tickPosition[0];\n                x2 = x1 - tickLength;\n            }\n\n            var svgTicks = axis.append(\"g\");\n            svgTicks.append(\"line\", {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2,\n            }, styles);\n\n\n            // if (dim == 'x') tickLabelAlign = \"middle\";\n            // if (dim == 'x' && labelAngle) tickLabelAlign = \"end\";\n\n            var tickLabel = svgTicks.append(\"text\")\n                .Attr({\n                    x: x2 + labelPos.x,\n                    y: y2 - labelPos.y,\n                    class: \"p4-axis-label\",\n                    \"font-size\": \"0.9em\",\n                    textAnchor: tickLabelAlign\n                });\n            if (labelAngle) tickLabel.attr(\"transform\", \"rotate(\" + [labelAngle, (x2 + labelPos.x), (y2 - labelPos.y)].join(\",\") + \")\");\n\n            var labelText = (typeof (tickFormat) == \"function\") ? format(tickFormat(di[i])) : format(di[i]);\n            // tickLabel.appendChild( document.createTextNode(labelText) );\n            tickLabel.text(labelText);\n\n            if (grid) {\n                var gx1, gx2, gy1, gy2;\n                if (dim == 'x') {\n                    gx1 = gx2 = metric(di[i]);\n                    gy1 = 0;\n                    gy2 = height;\n                } else {\n                    gy1 = gy2 = metric(di[i]);\n                    gx1 = 0;\n                    gx2 = width;\n                }\n                axis.append(\"line\", {\n                    x1: gx1,\n                    x2: gx2,\n                    y1: gy1,\n                    y2: gy2,\n                    class: \"grid-lines\"\n                }, {\n                    \"stroke\": color,\n                    // \"stroke-width\": 0.5,\n                    \"stroke-opacity\": 0.15\n                });\n            }\n        }\n        axis.translate(padding.left, padding.top);\n        return axis;\n    };\n\n    metric.remove = function () {\n        axis.remove();\n    }\n\n    if (visable) {\n        metric.svg = metric.show();\n    }\n\n    return metric;\n};","export default function scale(arg) {\n    var option = arg || {},\n        align = option.align || 'center',\n        type = option.type || 'linear',\n        domain = option.domain || [0,1],\n        margin = option.margin || 0,\n        exponent = option.exponent || 1,\n        range = option.range || [0,1];\n\n    function getInterpolateFunction() {\n        //intercepts and slopes for domain and range\n        var d0 = -domain[0] / (domain[1] - domain[0]),\n            d1 = 1 / (domain[1] - domain[0]),\n            r0 = range[0],\n            r1 = range[1] - range[0];\n\n        if(type == \"linear\") {\n            return function(v) { return r0 + (d0 + v * d1) * r1 };\n        } else if(type == \"power\") {\n            d0 = -Math.pow(-d0, exponent);\n            d1 = Math.pow(d1, exponent);\n            return function(v) { return r0 + (d0 + Math.pow(v, exponent) * d1) * r1 };\n        } else if (type == \"log\") {\n            exponent = option.exponent || 10;\n            d0 = -(Math.log(-d0) / Math.log(exponent));\n            d1 = (Math.log(d1) / Math.log(exponent));\n\n            return function(v) { return r0 + (d0 + Math.log(v) / Math.log(exponent) * d1) * r1 };\n\n        } else if(type == \"ordinal\" || type == \"categorical\") {\n            return function(v) {\n                if(align == 'outer')\n                    return r0 + (domain.indexOf(v)+0.5) / (domain.length-1) * r1;\n                else\n                    return r0 + (domain.indexOf(v)+0.5) / domain.length * r1;\n            };\n        } else {\n            return function(v) { return v };\n        }\n    }\n\n    var scale = getInterpolateFunction();\n\n    scale.interval = function(ticks) {\n        if (type == \"ordinal\" || type == \"categorical\") {\n            return (1 / domain.length * Math.abs(range[1] - range[0]));\n        } else {\n            var s = Math.pow(10, Math.floor(Math.log10(Math.abs(range[1] - range[0])))-1);\n            return Math.floor( Math.abs(range[1] - range[0]) / (ticks * s) )  * s;\n        }\n    };\n\n    scale.domainLength = function() {\n        if(type == \"linear\")\n            return Math.abs(domain[1] - domain[0]);\n        else if(type == \"ordinal\" || type == \"categorical\")\n            return domain.length;\n    };\n\n    scale.rangeLength = function() {\n        return Math.abs(range[1] - range[0]);\n    };\n\n    scale.invert = function(r) {\n        if(type == \"linear\") {\n            return domain[0] + (r - range[0]) / (range[1] - range[0]) * (domain[1] - domain[0]);\n        } else if(type == \"ordinal\" || type == \"categorical\") {\n            var intv = intv = r / scale.rangeLength();\n            return domain[Math.min(Math.floor(intv * (domain.length)), domain.length-1)];\n        }\n    }\n\n    scale.domain = function() {\n        return domain;\n    }\n\n    return scale;\n};\n","import {seq} from '../arrays';\n\nexport default function printformat(spec) {\n    return function(value){\n        if(typeof value !== \"number\") return value;\n        var ret,\n            convert,\n            numericSymbols = ['y', 'z', 'a', 'f', 'p', 'n', '', 'm', '', 'k', 'M','G', 'T', 'P', 'E', 'Z', 'Y'],\n            n = seq(-24,24,3),\n            i = numericSymbols.length-1,\n            parts,\n            precision = spec.match(/\\d+/)[0] || 3,\n            number = Number(value),\n            exp,\n            suffix;\n\n        if(spec[spec.length-1] == 's')\n            precision--;\n\n        parts = number.toExponential(precision).toString().match(/^(-{0,1})(\\d+)\\.?(\\d*)[eE]([+-]?\\d+)$/);\n        exp = parseInt(parts[4]) || 0;\n\n        while (i--) {\n            if (exp >= n[i]) {\n                if(i==7 && (exp-n[i]) > 1) {\n                    // console.log(exp-n[i]);\n                    suffix = numericSymbols[i+1];\n                    exp -= n[i+1];\n                    break\n                } else {\n                    suffix = numericSymbols[i];\n                    exp -= n[i];\n                    break;\n                }\n            }\n        }\n        ret = parseFloat(parts[1] + parts[2] + '.' + (parts[3]||0) + 'e' + exp.toString());\n        return ret.toString() + suffix;\n    }\n}\n","import Svg from './svg';\nimport Axis from './axis';\nimport printformat from './format';\n\nconst defaultColors = ['white', 'steelblue'];\nconst defaultSize = 20;\nvar gradID = 0;\n\nexport default function color(arg){\n  var gradientID = gradID++;\n\n  var option = arg || {},\n    container = option.container || null,\n    width = option.width || null,\n    height = option.height || null,\n    pos = option.pos ||[0, 0],\n    dim = option.dim || 'x',\n    padding = option.padding || {left: 0, right: 0, top: 0, bottom: 0},\n    label = option.label || false,\n    colors = option.colors || defaultColors,\n    domain = option.domain || ['min', 'max'],\n    format = option.format || printformat('.3s');\n\n\n  if(colors.length < 2) colors = defaultColors;\n  width -= padding.left + padding.right;\n  height -= padding.top + padding.bottom;\n\n  var legend = (container === null)\n    ? new Svg({width: width, height: height, padding: padding})\n    : container.append('g');\n\n  var gradDirection;\n  if(dim == 'x') {\n    gradDirection = {x1: 0, x2: 1, y1: 0, y2: 0};\n    if(height === null) height = defaultSize;\n  } else {\n    gradDirection = {x1: 0, x2: 0, y1: 0, y2: 1};\n    if(width === null) width = defaultSize;\n  }\n\n  function linearGradient(colors) {\n    var gradient = legend.append('defs')\n      .append('linearGradient')\n        .attr('id', 'gradlegend'+gradientID)\n        .attr(gradDirection);\n\n    colors.forEach(function(c, i){\n      gradient.append('stop')\n        .attr('offset', i / (colors.length-1))\n        .attr('stop-color', colors[colors.length-i-1]);\n    });\n    return gradient;\n  }\n\n  var grad = linearGradient(colors);\n\n  var rect = legend.append('g');\n\n  var colorScale = rect.append('rect')\n    .attr('width', width-padding.left)\n    .attr('height', height)\n    .style('fill','url(#gradlegend' + gradientID + ')');\n\n  var domainLabel = legend.append('text');\n  if(label) {\n    label.append('text')\n      .attr('x', pos[0] - 5)\n      .attr('y', pos[1] + height/2 + 5)\n      .style('fill', '#222')\n      .style('text-anchor', 'end')\n      .text(printformat('2s')(domain[0]));\n\n    legend.append('text')\n      .attr('x', pos[0] + width - padding.left + 5)\n      .attr('y', pos[1] + height/2 + 5)\n      .style('fill', '#222')\n      .style('text-anchor', 'begin')\n      // .style('font-size', '.9em')\n      .text(printformat('2s')(domain[1]));\n  }\n\n  if(option.title) {\n    legend.append('g')\n      .append('text')\n      .attr('y', pos[1] - padding.top)\n      .attr('x', pos[0] + width/2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text(option.title);\n  }\n\n  if(dim == 'x') {\n    new Axis({\n      dim: 'x',\n      domain: domain,\n      container: legend,\n      align: 'bottom',\n      ticks: Math.floor(width / 30),\n      height: height,\n      width: width,\n      labelPos: {x: 0, y: -20},\n      format: format,\n    });\n  } else {\n    new Axis({\n      dim: 'y',\n      domain: domain,\n      container: legend,\n      align: 'right',\n      ticks: Math.floor(height / 30),\n      height: height,\n      width: width,\n      labelPos: {x: 10, y: -5},\n      tickPosition: [5, 0],\n      format: format,\n    });\n  }\n\n\n  // legend.appendChild(xAxis);\n\n  legend.translate(pos[0]+padding.left, pos[1]+padding.top);\n\n  // legend.update = function(newDomain, newColors) {\n  //\n  //     legend.removeChild(xAxis);\n  //     xAxis = new Axis({\n  //         dim: 'x',\n  //         domain: newDomain,\n  //         container: legend,\n  //         align: 'bottom',\n  //         ticks: 4,\n  //         // tickInterval: 10000000,\n  //         labelPos: {x: -5, y: -20},\n  //          padding: padding,\n  //         width: width-padding.left,\n  //         format: format,\n  //     }).show();\n  //\n  //     if(typeof(newColors) != 'undefined') {\n  //         grad.remove();\n  //         grad = linearGradient(newColors);\n  //         colorScale.css('fill','url(#gradlegend' + gradientID + ')');\n  //\n  //     }\n  //     // legend.appendChild(xAxis);\n  //\n  //     return legend;\n  // }\n\n  return legend;\n}\n","import axis from './axis';\nimport format from './format';\nimport legend from './legend';\n\nexport default function chart(frontSvg, backSvg, arg) {\n    var options = arg || {},\n        plot = frontSvg.append('g'),\n        metavis = backSvg.append('g'),\n        frontMetaVis = frontSvg.append('g'),\n        width = options.width,\n        height = options.height,\n        top = options.top || 0,\n        left = options.left || 0,\n        vmap = options.vmap || {},\n        histogram =  options.histogram,\n        features = options.fields || [],\n        domain = options.domain,\n        strLists = options.strLists,\n        labels = plot.append('g'),\n        onclick = options.onclick || null,\n        onhover = options.onhover || null,\n        showLegend = options.legend,\n        tickOffset = options.axisOffset || [0, 0],\n        padding = options.padding || {left: 0, right: 0, top: 0, bottom: 0},\n        marks = [],\n        frameBorder = options.frameBorder || false,\n        gridlines = options.gridlines || {x: false, y: false},\n        colors = options.colors;\n\n    var scale = options.scale || {x: 'linear', y: 'linear'},\n        domainX = options.domainX || domain[vmap.x] || domain[vmap.width],\n        domainY = options.domainY || domain[vmap.y] || domain[vmap.height];\n\n    width -= padding.left + padding.right;\n    height -= padding.top + padding.bottom;\n\n    var axisOption = {\n        x: {\n            container: metavis,\n            dim: \"x\",\n            width: width,\n            height: height,\n            domain: domainX,\n            scale:  scale.x,\n            align: \"bottom\",\n            // ticks: 15,\n            grid: gridlines.x,\n            format: format(\".3s\"),\n        },\n        y: {\n            container: metavis,\n            dim: \"y\",\n            domain: domainY,\n            scale: scale.y,\n            width: width,\n            height: height,\n            align: \"left\",\n            // labelPos: {x: -5, y: -5},\n            // ticks: 8,\n            grid: gridlines.y,\n            format: format(\".3s\"),\n        }\n    };\n\n    let colorLegend;\n    if(showLegend && features.indexOf(vmap.color) !== -1){\n        colorLegend = legend({\n            container: metavis,\n            width: 20,\n            height: 180,\n            dim: \"y\",\n            domain: domain[vmap.color],\n            pos: [width + padding.right/2, 0],\n            colors: colors\n        });\n    }\n\n    let x, y, xAxes = [], yAxes = [];\n\n    // For parallel coordinates\n    if(Array.isArray(vmap.x)) {\n        let axisDist = height / (vmap.x.length-1);\n        axisOption.x.container = frontMetaVis;\n        vmap.x.forEach(function(d, i) {\n            axisOption.x.position = i * axisDist + 1;\n            axisOption.x.domain = domain[d];\n            if(strLists.hasOwnProperty(d)){\n                axisOption.x.scale = 'ordinal';\n                axisOption.x.tickAlign = 'outer';\n                axisOption.x.domain = strLists[d].reverse();\n            }\n            let labelOffset = 20;\n            if(i === 0) {\n                axisOption.x.tickPosition = [0, -5];\n                axisOption.x.labelPos = {x: 0, y: 2};\n                labelOffset = 35;\n            } else {\n                axisOption.x.tickPosition = null;\n                axisOption.x.labelPos = null;\n            }\n            x = axis(axisOption.x);\n            xAxes[i] = x;\n\n            labels\n            .append(\"text\")\n              .attr(\"x\", 5 )\n              .attr(\"y\", i * axisDist - labelOffset)\n              .attr(\"dy\", \"1em\")\n              .css(\"text-anchor\", \"middle\")\n              .css(\"font-size\", \"1em\")\n              .text(d);\n        });\n    }\n\n    if(Array.isArray(vmap.y)) {\n        var axisDist = width / (vmap.y.length-1);\n        axisOption.y.container = frontMetaVis;\n        vmap.y.forEach(function(d, i) {\n            axisOption.y.position = i * axisDist;\n            axisOption.y.domain = domain[d];\n            if(strLists.hasOwnProperty(d)){\n                axisOption.y.scale = 'ordinal';\n                axisOption.y.tickAlign = 'outer';\n                axisOption.y.domain = strLists[d].reverse();\n            }\n            if(i == vmap.y.length-1) {\n                axisOption.y.tickPosition = [5, 0];\n                axisOption.y.tickLabelAlign = \"start\";\n                axisOption.y.labelPos = {x: 8, y: -5};\n\n            }\n            y = axis(axisOption.y);\n            yAxes[i] = y;\n\n            labels.append(\"text\")\n              .attr(\"y\", -padding.top + 10)\n              .attr(\"x\", i * axisDist)\n              .attr(\"dy\", \"1em\")\n              .css(\"text-anchor\", \"middle\")\n              .css(\"font-size\", \"1em\")\n              .text(d);\n        });\n    }\n\n    let histDomain = {\n        x: domainX, \n        y: domainY\n    };\n    for(let dim of ['x', 'y']) {\n        if(scale[dim] == 'ordinal' || scale[dim] == 'categorical') {\n            if(width / histDomain[dim].length < 10) {\n                axisOption[dim].ticks = histDomain[dim].length;\n            }\n            // while(width / axisOption[dim].ticks < 20) {\n            //     axisOption[dim].ticks *= 0.5;\n            // }\n        }\n\n        if(histogram[dim]) {\n            axisOption[dim].tickPosition = (dim == 'x') \n                ? [-width / (histDomain[dim].length-1) /2, 0]\n                : [0, height/ (histDomain[dim].length-1) /2]\n\n            axisOption[dim].scale = \"ordinal\";\n            axisOption[dim].tickAlign = \"outer\";\n            axisOption[dim].domain = histDomain[dim];\n            axisOption[dim].ticks = histDomain[dim].length;\n        }\n    }\n\n    if((vmap.x || vmap.width) && !Array.isArray(vmap.x)) x = axis(axisOption.x);\n    if((vmap.y || vmap.height) && !Array.isArray(vmap.y)) y = axis(axisOption.y);\n\n    if((vmap.hasOwnProperty('x') || vmap.hasOwnProperty('width')) && !Array.isArray(vmap.x)) {\n        let xAxisTitle = vmap.x || vmap.width;\n        labels.append(\"g\")\n          .append(\"text\")\n            .attr(\"x\", width/2)\n            .attr(\"y\", height + padding.bottom/2 )\n            .attr(\"dy\", \"1em\")\n            .css(\"text-anchor\", \"middle\")\n            .css(\"font-size\", \"1.0em\")\n            .css(\"font-weight\", \"bold\")\n            .css(\" text-transform\", \"capitalize\")\n            .text(xAxisTitle);\n\n    }\n    if((vmap.hasOwnProperty('y') || vmap.hasOwnProperty('height')) && !Array.isArray(vmap.y)) {\n        let yAxisTitle = vmap.y || vmap.height;\n        if(!Array.isArray(vmap.y)) {\n            labels.append(\"g\")\n              .append(\"text\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"y\", -padding.left / 1.25)\n                .attr(\"x\", -height / 2)\n                .attr(\"dy\", \"1em\")\n                .css(\"text-anchor\", \"middle\")\n                .css(\"font-size\", \"1.0em\")\n                .css(\"font-weight\", \"bold\")\n                .css(\" text-transform\", \"capitalize\")\n                .text(yAxisTitle);\n        }\n    }\n    \n    if(frameBorder) {\n        plot.append(\"line\")\n            .attr('x1', 0)\n            .attr('x2', width)\n            .attr('y1', 0)\n            .attr('y2', 0)\n            .css('stroke', '#000')\n        plot.append(\"line\")\n            .attr('x1', width)\n            .attr('x2', width)\n            .attr('y1', 0)\n            .attr('y2', height)\n            .css('stroke', '#000')\n            .css('stroke-opacity', 0.5)\n    }\n\n    plot.translate(padding.left+left, padding.top+top);\n    metavis.translate(padding.left+left, padding.top+top);\n    frontMetaVis.translate(padding.left+left, padding.top+top);\n\n    let chartLayer = {};\n    chartLayer.updateAxisX =  function(newDomain) {\n        x.remove();\n        axisOption.x.domain = newDomain;\n        x = axis(axisOption.x)\n        return chartLayer;\n    }\n    chartLayer.updateAxisY =  function(newDomain) {\n        y.remove();\n        axisOption.y.domain = newDomain;\n        y = axis(axisOption.y)\n        return chartLayer;\n    }\n    chartLayer.removeAxis = function() {\n\n        if(yAxes.length) {\n            yAxes.forEach(function(yp) {\n                yp.remove();\n            })\n        } else if(xAxes.length) {\n            xAxes.forEach(function(xp) {\n                xp.remove();\n            })\n        } else {\n            x.remove();\n            y.remove();\n        }\n\n        labels.remove();\n    }\n\n    chartLayer.axisLabels = labels;\n\n    chartLayer.removeLegend = function() {\n        if(showLegend) {\n            colorLegend.remove();\n        }\n    }\n    chartLayer.svg = plot;\n    chartLayer.x = Array.isArray(vmap.x) ? xAxes : x;\n    chartLayer.y = Array.isArray(vmap.y) ? yAxes : y;\n\n    return chartLayer;\n};\n","import Svg from './svg';\nimport chart from './chart';\n\nfunction assign(object, source) {\n    Object.keys(source).forEach(function(key) {\n        object[key] = source[key];\n    });\n}\nvar defaultProperties = {\n    width: 400,\n    height: 300,\n    padding: {left: 0, right: 0, top: 0, bottom: 0},\n}\n\nexport default function layout(arg){\n    \"use strict\";\n\n    /* Private */\n    var viz = this,\n        option = arg || {},\n        container = option.container || document.body,\n        style = option.style || null,\n        layers = [];\n\n    this.width = container.clientWidth || 400;\n    this.height = container.clientHeight || 300;\n\n    if(typeof container == 'string') container = document.getElementById(container);\n    assign(viz, defaultProperties);\n    assign(viz, option);\n\n    this.vmap = option.vmap;\n\n    this.width -= (this.padding.left + this.padding.right);\n    this.height -= (this.padding.top + this.padding.bottom);\n\n\n    /* Public */\n    this.data = option.data || [];\n    this.div = document.createElement(\"div\");\n    if(style !== null) {\n        Object.keys(style).forEach(function(prop){\n            viz.div.style[prop] = style[prop];\n        })\n    }\n\n    this.init = function(){\n        // container = (containerId == \"body\") ? document.body : document.getElementById(containerId);\n\n        this.div.className = option.className || \"p6-viz\";\n        this.div.style.position = 'relative';\n        this.resize(\n            this.width + this.padding.left + this.padding.right,\n            this.height + this.padding.top + this.padding.bottom\n        );\n\n        if(option.style) this.css(option.style);\n\n        container.appendChild(this.div);\n        this.viz();\n        return viz;\n    };\n\n    this.createSVG = function(arg) {\n        var arg = arg || {},\n            width = arg.width || this.width,\n            height = arg.height || this.height,\n            padding = arg.padding || this.padding;\n\n        return new Svg({\n            width: width,\n            height: height,\n            padding: padding,\n            style: {position: 'absolute'}\n        });\n    }\n\n    var canvas = option.canvas,\n        svg = this.createSVG(),\n        vmap = option.vmap,\n        chartPadding = this.padding || {left: 0, right: 0, top: 0, bottom: 0},\n        domain = option.domain || {x: [0, 1000], y: [0, 1]},\n        scales = option.scales || {x: 'linear', y: 'linear'};\n\n    var backSVG = this.createSVG(),\n        frontSVG = this.createSVG();\n\n    this.set = function(props) {\n        assign(viz, props);\n    };\n\n    this.addProperty = function(obj, prop) {\n        assign(obj, prop);\n        return obj;\n    }\n\n    this.viz = function() {\n        viz.div.appendChild(backSVG.svg);\n        viz.div.appendChild(canvas);\n        viz.div.appendChild(frontSVG.svg);\n        return viz;\n    };\n\n    this.render = this.viz;\n\n    this.css = function(style){\n        for(var key in style){\n            this.div.style[key] = style[key];\n        }\n        return this;\n    };\n\n    this.resize = function(w,h){\n        this.div.style.width = w + \"px\";\n        this.div.style.height = h + \"px\";\n    };\n\n    this.destroy = function() {\n        this._super.destroy();\n        container.removeChild(this.div);\n        div = null;\n    };\n\n    this.hide = function() {\n        this.div.style.display = 'none';\n    }\n\n    this.show = function() {\n        this.div.style.display = 'block';\n    }\n\n    this.innerWidth = function() {\n        return this.width;\n    }\n\n    this.innerHeight = function() {\n        return this.height;\n    }\n\n    this.addChart = function(options) {\n        return chart(frontSVG, backSVG, options)\n    };\n\n    this.exportImage = function(beforeExport) {\n        var imageCanvas = document.createElement(\"canvas\");\n        imageCanvas.width = this.width;\n        imageCanvas.height = this.height;\n        return new Promise(function(resolve, reject) {\n\n            var ctx = imageCanvas.getContext(\"2d\");\n            var svgString = new XMLSerializer().serializeToString(frontSVG.svg);\n\n            var DOMURL = self.URL || self.webkitURL || self;\n            var svgBlob = new Blob([svgString], {type: \"image/svg+xml;charset=utf-8\"});\n            var svgURL = DOMURL.createObjectURL(svgBlob);\n\n            var canvasLayer = new Image();\n            var svgLayer = new Image();\n            canvasLayer.onload = function() {\n                ctx.drawImage(canvasLayer, 0, 0);\n                svgLayer.src = svgURL;\n                svgLayer.onload = function() {\n                    ctx.drawImage(svgLayer, 0, 0);\n                    var png = imageCanvas.toDataURL(\"image/png\");\n                    DOMURL.revokeObjectURL(png);\n                    resolve(png);\n                };\n            };\n\n            canvasLayer.onerror = function() {\n                reject(Error(\"Canvas Output Error!\"));\n            }\n\n            svgLayer.onerror = function() {\n                reject(Error(\"SVG Output Error!\"));\n            }\n            beforeExport();\n            canvasLayer.src = canvas.toDataURL(\"image/png\");\n        });\n\n    }\n\n    return viz.init();\n};\n","export default class Renderer {\n  constructor({context, name}) {\n    this.gl = context;\n    this.name = name;\n    this.gl.program(\n      name,\n      this.gl.shader.vertex(this.vertexShader),\n      this.gl.shader.fragment(this.fragmentShader)\n    )\n  }\n\n  vertexShader () {\n    gl_Position = vec4(this._square, 0.0, 1.0);\n  }\n\n  fragmentShader () {\n    if(this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01) {\n      gl_FragColor = this.vColorRGBA;\n    } else {\n      discard;\n    }\n  }\n\n  load () {\n    return this.gl.program(this.name);\n  }\n\n  render () {\n    let gl = this.gl.ctx;\n    gl.disable( gl.BLEND );\n    gl.drawArrays(primitive || gl.TRIANGLES, 0, 6);\n  }\n}","import Renderer from './Renderer.gl'\n\nexport default class Instanced extends Renderer{\n    constructor(arg) {\n        super(arg)        \n    }\n\n    vertexShader () {\n        var i, j, posX, posY, color, alpha, size;\n        var rgb = new Vec3();\n\n        i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n        j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n\n        if (this.uFilterFlag == 1) {\n            this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n        } else {\n            this.vResult = this.uVisLevel;\n        }\n\n        posX = this.visMap(0, i, j, this.aDataValx, this.aDataValy, 0.0);\n        posY = this.visMap(1, i, j, this.aDataValx, this.aDataValy, 0.0);\n        color = this.visMap(2, i, j, this.aDataValx, this.aDataValy, -1.0);\n        alpha = this.visMap(3, i, j, this.aDataValx, this.aDataValy, this.uDefaultAlpha);\n        size = this.visMap(6, i, j, this.aDataValx, this.aDataValy, 1.0);\n\n        if(this.uIsXYCategorical[0] == 1) {\n            var width = this.uFieldWidths[0];\n            posX = 0.5 / width + posX * (width - 1.0) / width;\n        }\n        if(this.uIsXYCategorical[1] == 1) {\n            var height = this.uFieldWidths[1];\n            posY = 0.5 / height + posY * (height - 1.0) / height;\n        }\n\n        posX = posX * 2.0 - 1.0;\n        posY = posY * 2.0 - 1.0;\n\n        rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n        if (this.uDropZeros == 1 && color == 0.0) {\n            alpha = 0.0;\n          }\n        gl_PointSize = size * this.uMarkSize;\n        this.vColorRGBA = vec4(rgb, alpha);\n        gl_Position = vec4(posX, posY, 0.0, 1.0);\n    }\n\n    fragmentShader() {\n        var valid = new Bool();\n        valid = this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01;\n        if (this.uVisMark == 1) { // for circles \n            var dist = length(gl_PointCoord.xy - vec2(0.5, 0.5));\n            if (dist > 0.5) discard;\n            var delta = 0.15;\n            var alpha = this.vColorRGBA.a - smoothstep(0.5 - delta, 0.5, dist);\n            if (valid) {\n                gl_FragColor = vec4(this.vColorRGBA.rgb * alpha, alpha);\n            } else {\n                discard;\n            }\n        } else {\n            if (valid) {\n                gl_FragColor = vec4(this.vColorRGBA.rgb * this.vColorRGBA.a, this.vColorRGBA.a);\n            } else {\n                discard;\n            }\n        }\n    }\n\n    render(primitive) {\n        let $p = this.gl;\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, $p.dataDimension[0], $p.dataDimension[1]);\n\n    }\n}","import Renderer from './Renderer.gl'\n\nexport default class Polygon extends Renderer{\n  constructor (arg) {\n    super(arg);\n  }\n\n  vertexShader () {\n    var i, j;\n    var rgb = new Vec3();\n    var posX, posY, color, alpha, width, height, size;\n    i = (mod(this.aDataItemId, this.uDataDim.x) + 0.5) / this.uDataDim.x;\n    j = (floor(this.aDataItemId / this.uDataDim.x) + 0.5) / this.uDataDim.y;\n\n    this.vResult = this.uVisLevel;\n\n    if (this.uFilterFlag == 1) {\n      this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n    }\n    var val0, val1;\n    val0 = this.aDataItemVal0;\n    val1 = this.aDataItemVal1;\n    posX = this.visMap(0, i, j, val0, val1, 0.0);\n    posY = this.visMap(1, i, j, val0, val1, 0.0);\n    color = this.visMap(2, i, j, val0, val1, -1.0);\n    alpha = this.visMap(3, i, j, val0, val1, this.uDefaultAlpha);\n    width = this.visMap(4, i, j, val0, val1, this.uDefaultWidth);\n    height = this.visMap(5, i, j, val0, val1, this.uDefaultHeight);\n    size = this.visMap(6, i, j, val0, val1, this.uMarkSize);\n    posX = posX * (this.uFieldWidths[this.uVisualEncodings[0]] - 1.0) / this.uFieldWidths[this.uVisualEncodings[0]];\n    posY = posY * (this.uFieldWidths[this.uVisualEncodings[1]] - 1.0) / this.uFieldWidths[this.uVisualEncodings[1]];\n\n    width *= 1.0 - this.uMarkSpace.x * 2.0;\n    height *= 1.0 - this.uMarkSpace.y * 2.0;\n    posX += this.uMarkSpace.x * width;\n    posY += this.uMarkSpace.y * height;\n\n    if (this.aVertexId == 0.0 || this.aVertexId == 3.0) {\n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    } else if (this.aVertexId == 1.0) {\n      posX = posX * 2.0 - 1.0;\n      posY = (posY + height) * 2.0 - 1.0;\n    } else if (this.aVertexId == 2.0 || this.aVertexId == 5.0) {\n      posX = (posX + width) * 2.0 - 1.0;\n      posY = (posY + height) * 2.0 - 1.0;\n    } else if (this.aVertexId == 4.0) {\n      posX = (posX + width) * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    } else {\n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    }\n\n    rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n    if (this.uDropZeros == 1 && color == 0.0) {\n      alpha = 0.0;\n    }\n    this.vColorRGBA = vec4(rgb * alpha, alpha);\n    gl_Position = vec4(posX, posY, 0.0, 1.0);\n  }\n\n  fragmentShader() {\n    if (this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01)\n      gl_FragColor = this.vColorRGBA;\n    else\n      discard;\n  }\n\n  render() {\n    let $p = this.gl;\n    let primitive = $p.ctx.TRIANGLES;\n    let val0 = new Float32Array($p.dataSize);\n    let val1 = new Float32Array($p.dataSize);\n    for(var y = 0; y < $p.dataDimension[1]; y++) {\n      for(var x = 0; x < $p.dataDimension[0]; x++) {\n        val0[y*$p.dataDimension[0] + x] = $p.attribute.aDataValx.data[x];\n        val1[y*$p.dataDimension[0] + x] = $p.attribute.aDataValy.data[y];\n      }\n    }\n    $p.attribute.aDataItemVal0 = val0;\n    $p.attribute.aDataItemVal1 = val1;\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aVertexId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemVal0.location, 1);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemVal1.location, 1);\n    $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, 6, $p.dataSize);\n  }\n}","import Renderer from './Renderer.gl'\n\nexport default class Instanced extends Renderer{\n    constructor(arg) {\n        super(arg)        \n    }\n\n    vertexShader () {\n      var i, j;\n      var rgb = new Vec3();\n      var posX, posY, size, color, alpha;\n      gl_PointSize = this.uMarkSize;\n      i = (mod(this.aDataItemId, this.uDataDim.x) + 0.5) / this.uDataDim.x;\n      j = (floor(this.aDataItemId / this.uDataDim.x) + 0.5) / this.uDataDim.y;\n  \n      this.vResult = this.uVisLevel;\n      if(this.uFilterFlag == 1) {\n          this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n      }\n      if(this.uInterleaveX == 1) {\n          posX = this.aDataFieldId.y / float(this.uFeatureCount-1);\n          posY = this.getEncodingByFieldId(int(this.aDataFieldId.x), i, j);\n      } else {\n          posY = 1.0 - this.aDataFieldId.y / float(this.uFeatureCount-1);\n          posX = this.getEncodingByFieldId(int(this.aDataFieldId.x), i, j);\n      }\n      color = this.visMap(2, i, j, i, j, -1.0);\n      alpha = this.visMap(3, i, j, i, j, this.uDefaultAlpha);\n  \n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n  \n      rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n      this.vColorRGBA = vec4(rgb*alpha, alpha);\n      gl_Position = vec4(posX, posY, 0.0, 1.0);\n    }\n\n    updateInstancedAttribute(vm) {\n      let $p = this.gl;\n      if(Array.isArray(vm)){\n          let fv = new Float32Array(vm.length*2);\n          vm.forEach(function(f, i) {\n              fv[i*2] = $p.fields.indexOf(f);\n              fv[i*2+1] = i;\n          });\n          $p.attribute.aDataFieldId = fv;\n          $p.uniform.uFeatureCount = vm.length;\n      }\n    }\n\n    render(primitive) {\n      let $p = this.gl;\n      $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataFieldId.location, 0);\n      $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n      let count = $p.attribute.aDataFieldId.data.length / $p.attribute.aDataFieldId.size;\n      $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, count, $p.dataSize);\n    }\n}","import colors from './color';\nimport reveal from './reveal';\nimport {encode, EncodingChannels} from './encode';\nimport extend from './extend';\nimport interpolate from './shaders/interpolate.gl'\n\nimport Layout from './layout';\nimport Instanced from './shaders/Instanced.gl'\nimport Polygon from './shaders/Polygon.gl'\nimport Interleaved from './shaders/Interleaved.gl'\n\nconst userActions = ['click', 'hover', 'brush', 'zoom', 'pan'];\nconst visMarks = ['dot', 'circle', 'line', 'rect'];\n\nexport default function visualize($p) {\n    let colorManager = colors($p);\n    let chartPadding = $p.padding || {left: 0, right: 0, top: 0, bottom: 0};\n    let viewport = $p.viewport;\n\n    let vis = new Layout({\n        container: $p.container,\n        width: viewport[0] + chartPadding.left + chartPadding.right,\n        height: viewport[1] + chartPadding.top + chartPadding.bottom,\n        canvas: $p.canvas,\n        padding: chartPadding\n    });\n\n    $p.uniform('uVisualEncodings',  'int',   new Array(EncodingChannels.length).fill(-1))\n        .uniform('uScaleExponents', 'float',   new Array(EncodingChannels.length).fill(1.0))\n        .uniform('uViewDim',        'vec2',  $p.viewport)\n        .uniform('uVisMark',        'int',   1)\n        .uniform('uInterleaveX',    'int',   0)\n        .uniform('uVisDomains',     'vec2',  $p.fieldDomains.map(d=>d.slice()))\n        .uniform('uVisScale',       'vec2',  [1.0, 1.0])\n        .uniform('uPosOffset',      'vec2',  [0.0, 0.0])\n        .uniform('uFeatureCount',   'int',   0)\n        .uniform('uMarkSize',       'float', 16.0)\n        .uniform('uMarkSpace',      'vec2',  [0.1, 0.1])\n        .uniform('uDefaultAlpha',   'float', 1.0)\n        .uniform('uDefaultWidth',   'float', 1.0 / $p.viewport[0])\n        .uniform('uDefaultHeight',  'float', 1.0 / $p.viewport[1])\n        .uniform('uMaxRGBA',        'vec4',  [0, 0, 0, 0])\n        .uniform('uDefaultColor',   'vec3',  [0.8, 0, 0])\n        .uniform('uGeoProjection',   'int',  0)\n        .uniform('uDropZeros',   'int',  0)\n        .uniform('uColorMode',      'int',   1)\n        .uniform('uIsXYCategorical','ivec2', [0, 0])\n        .varying('vColorRGBA',      'vec4'   );\n\n    let enhance = reveal($p);\n\n    $p.framebuffer('offScreenFBO', 'float', $p.viewport);\n    // $p.framebuffer('visStats', 'float', [1, 1]);\n    // $p.framebuffer(\"visStats\", \"float\", [$p.views.length, 1]);\n    // $p.framebuffer.enableRead('offScreenFBO');\n    $p.bindFramebuffer('offScreenFBO');\n    $p.ctx.clearColor( 1.0, 1.0, 1.0, 0.0 );\n    $p.ctx.clear( $p.ctx.COLOR_BUFFER_BIT | $p.ctx.DEPTH_BUFFER_BIT );\n    $p.bindFramebuffer(null);\n    $p.subroutine('visMap', 'float', interpolate.visMap);\n    $p.subroutine('getEncodingByFieldId', 'float', interpolate.getEncodingByFieldId);\n    \n    let renderers = {\n        instanced: new Instanced({context: $p, name: 'instanced'}),\n        polygon: new Polygon({context: $p, name: 'polygon'}),\n        interleave: new Interleaved({context: $p, name: 'interleave'})\n    }\n\n    return function(options) {\n        $p.revealDensity = false;\n        let renderer = 'instanced';\n        let vmap = options.vmap || {};\n        let mark = options.mark || vmap.mark || 'circle';\n        let viewIndex = options.viewIndex;\n\n        let visDomain = {};\n        let visDimension = vmap.viewport || [$p.views[viewIndex].width, $p.views[viewIndex].height] || viewport;\n        let width = visDimension[0];\n        let height =  visDimension[1];\n        let padding = vmap.padding || $p.views[viewIndex].padding || chartPadding;\n        let offset = vmap.offset || $p.views[viewIndex].offset || [0, 0];\n        let dimSetting = encode($p, vmap, colorManager);\n\n        let pv = $p.views[viewIndex];\n        let colorInfo = (typeof(vmap.colors) === 'object') ? vmap.colors : pv.color;\n    \n        let colorMode = 1;\n        let colorMap;\n        \n        let viewSetting = {\n            domain: visDomain,\n            fields: $p.fields,\n            vmap: vmap,\n            // onclick: interaction,\n            strLists: $p.strLists,\n            padding: padding,\n            left: offset[0],\n            top:  offset[1],\n            colors: colorManager.getColors(),\n        };\n\n        viewSetting = Object.assign(viewSetting, dimSetting);\n        viewSetting = Object.assign(viewSetting, $p.views[viewIndex]);\n\n        if(!$p._update){\n            $p.fields.forEach(function(f, i){\n                // if (i === 0 && $p.axisSettings) {\n                //     visDomain[f] = $p.axisSettings[i]\n                // } else {\n                //     visDomain[f] = $p.fieldDomains[i].slice();\n                // }\n                visDomain[f] = $p.fieldDomains[i].slice();\n            });\n            if(vmap.zero) {\n                if($p.fields.indexOf(vmap.width) > -1) {\n                    visDomain[vmap.width][0] = 0;\n                }\n                if($p.fields.indexOf(vmap.height) > -1) {\n                    visDomain[vmap.height][0] = 0;\n                }\n                if($p.fields.indexOf(vmap.y) > -1) {\n                    visDomain[vmap.y][0] = 0;\n                }\n            } \n\n            // pv.domains = Object.keys(visDomain).map(f=>visDomain[f]);\n            if (!vmap.append) {\n                pv.domains = visDomain;\n                if (mark === 'spline' || mark === 'area') {\n                    Object.keys(viewSetting.domain).forEach(dom => {\n                        // console.log(typeof(dom), dom)\n                        // console.log(typeof(Object.values(viewSetting.vmap.x).join('')), Object.values(viewSetting.vmap.x).join(''))\n                        if (Object.values(viewSetting.vmap.x).join('') === dom) {\n                            pv.domains[dom] = [viewSetting.domainX[0], viewSetting.domainX[viewSetting.domainX.length-1]]\n                        } else if (Object.values(viewSetting.vmap.y).join('') === dom) {\n                            pv.domains[dom] = visDomain[dom]\n                        } else {\n                            pv.domains[dom] = visDomain[dom]\n                        }\n                    })\n                }\n            }\n            // $p.uniform.uVisDomains.data = pv.domains;\n            if((vmap.append !== true ) && pv.hasOwnProperty('chart')) {\n                pv.chart.svg.remove();\n                pv.chart.removeAxis();\n            }\n            // if (!pv.hasOwnProperty('chart')) {\n                pv.chart = vis.addChart(viewSetting);\n                pv.svg = pv.chart.svg.node();\n            // }\n            if(typeof(colorInfo) === 'object') {\n                if(Array.isArray(colorInfo)) {\n                    colorMap = colorInfo;\n                } else {\n                    if(colorInfo.hasOwnProperty('interpolate')) {\n                        colorMode = (colorInfo.interpolate) ? 1 : 0;\n                    }\n                    colorMap = colorInfo.range || colorInfo.values; \n                }\n            }\n\n            colorManager.updateColors(colorMap, colorMode);\n            \n        } else {\n            // $p.uniform.uVisDomains.data = pv.domains;\n            if(pv.updateDomain === true) {\n                pv.chart.updateAxisX(pv.domains[vmap.x]);\n                pv.chart.updateAxisY(pv.domains[vmap.y]);\n            }\n        }\n        $p.uniform.uVisDomains.data = Object.keys(pv.domains).map(f=>pv.domains[f]);\n        $p.uniform.uVisMark.data = visMarks.indexOf(mark);\n        $p.uniform.uGeoProjection.data = (vmap.project) ? 1 : 0;\n        $p.uniform.uDropZeros.data = (vmap.dropZeros) ? 1 : 0;\n\n        //Check if need interleaving data attributes(e.g.,parallel coordinates)\n        if(Array.isArray(vmap.x) || Array.isArray(vmap.y)) {\n            renderer = 'interleave';\n            if(Array.isArray(vmap.x)){\n                // vmap.x = vmap.x.reverse();\n                $p.uniform.uInterleaveX = 0;\n            } else if(Array.isArray(vmap.y)) {\n                $p.uniform.uInterleaveX = 1;\n            }\n            renderers[renderer].updateInstancedAttribute(vmap.x);\n            renderers[renderer].updateInstancedAttribute(vmap.y);\n        } else if(vmap.mark && ['rect', 'bar'].indexOf(vmap.mark) !== -1) {\n            renderer = 'polygon';\n        }\n\n        let gl = renderers[renderer].load();\n        $p.framebuffer.enableRead('fFilterResults');\n        $p.framebuffer.enableRead('fDerivedValues');\n        $p.framebuffer.enableRead(vmap.in || 'fGroupResults');\n\n        if($p.revealDensity) {\n            $p.bindFramebuffer('offScreenFBO');\n            gl.clearColor( 1.0, 1.0, 1.0, 0.0 );\n            gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.blendFunc(gl.ONE, gl.ONE );\n        } else {\n            $p.bindFramebuffer(null);\n            // gl.clearColor( 1.0, 1.0, 1.0, 0.0 );\n            gl.blendFunc( gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n            // gl.blendFunc(gl.SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);\n        }\n        gl.viewport(\n            offset[0] + padding.left,\n            viewport[1] - height + padding.bottom - offset[1],\n            width - padding.left - padding.right,\n            height - padding.top - padding.bottom\n        );\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendEquation(gl.FUNC_ADD);\n\n        let primitive = gl.POINTS;\n\n        if(mark == 'line') {\n            primitive = gl.LINE_STRIP;\n            gl.lineWidth(vmap.size || 1.0);\n        }\n\n        extend($p, vmap, viewIndex, pv.domains);\n\n        if($p.skipRender || vmap.project || vmap.append) {\n            pv.chart.removeAxis();\n            if($p.fields.indexOf(vmap.color)!==-1) pv.chart.removeLegend();\n        }\n        if(!$p.skipRender || vmap.append) {\n            renderers[renderer].render(primitive);\n        } \n        // else {\n            // if(!$p._update) {\n            //     gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            //     gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            // }\n        // }\n        $p.skipRender = false;\n        if($p.revealDensity) enhance({\n            viewIndex: viewIndex,\n            dim: [width, height],\n            offset: offset,\n            padding: padding\n        });\n        $p.bindFramebuffer(null);\n\n        if(!$p._update) {\n            let actions = Object.keys(vmap)\n                .filter(function(act){ return userActions.indexOf(act) !== -1});\n\n            actions.forEach(function(action) {\n                let response = {};\n                let viewId = vmap.id || $p.views[viewIndex].id;\n                response[viewId] = vmap[action];\n                let interactOptions = Object.assign({\n                    event: action,\n                    from: viewId,\n                    response: response,\n                }, vmap[action])\n                $p.interactions.push(interactOptions)\n            })\n        }\n    }\n}\n","import {seqFloat} from '../utils';\nexport default function reveal($p) {\n    $p.uniform('uRevealMode', 'int', 1)\n        .framebuffer(\"offScreenFBO\", \"float\", $p.viewport)\n        .framebuffer(\"visStats\", \"float\", [1, 1]);\n\n    var aViewX = new Float32Array($p.viewport[0]).map((d, i) => i);\n    var aViewY = new Float32Array($p.viewport[1]).map((d, i) => i);\n\n    $p.attribute(\"aViewX\", \"float\", aViewX);\n    $p.attribute(\"aViewY\", \"float\", aViewY);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewX.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewY.location, 1);\n\n    var vs = $p.shader.vertex(function(){\n        var i, j;\n        i = (this.aViewX+0.5) / this.uViewDim.x;\n        j = (this.aViewY+0.5) / this.uViewDim.y;\n        this.vColorRGBA = texture2D(this.offScreenFBO, vec2(i, j));\n        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    });\n\n    var fs = $p.shader.fragment(function() {\n        gl_FragColor = this.vColorRGBA;\n    });\n\n    $p.program(\"post-processing\", vs, fs);\n\n    var vs2 = $p.shader.vertex(function () {\n         gl_Position = vec4(this._square, 0, 1);\n    });\n\n    var fs2 = $p.shader.fragment(function() {\n        var x, y, a;\n        var value = new Vec4();\n        x = (gl_FragCoord.x+0.5) / this.uViewDim.x;\n        y = (gl_FragCoord.y+0.5) / this.uViewDim.y;\n        value = texture2D(this.offScreenFBO, vec2(x, y));\n\n        if(value.a == 0.0) discard;\n        // a = pow(((value.a - this.uDefaultAlpha) / (this.uMaxRGBA.a -this.uDefaultAlpha)), 0.33) * 0.85 + 0.15;\n        a = pow((value.a / this.uMaxRGBA.a), 0.33) * 0.9 + 0.1;\n        // a = value.a / this.uMaxRGBA.a;\n\n        if(this.uRevealMode == 0) {\n            gl_FragColor = vec4(this.uDefaultColor*a, a);\n        } else {\n            gl_FragColor = vec4(texture2D(this.tColorGradient, vec2(1.-a, 1.0)).rgb*this.uDefaultAlpha, this.uDefaultAlpha);\n        }\n    });\n\n    $p.program(\"vis-render\", vs2, fs2);\n\n    let isFBOAllocatedFBO = false;\n\n    return function(options) {\n        var gl,\n            viewIndex = options.viewIndex,\n            viewDim = options.dim,\n            offset = options.offset || [0, 0],\n            padding = options.padding || {left: 0, right: 0, left: 0, right:0};\n\n        if(!$p._update) {\n\n            if(!isFBOAllocatedFBO) {\n                isFBOAllocatedFBO = true;\n                $p.framebuffer(\"visStats\", \"float\", [1, $p.views.length]);\n            }\n\n            let vOffset = [\n                offset[0] + padding.left,\n                $p.viewport[1] - viewDim[1] + padding.bottom - offset[1],\n            ]\n            let vDim = [\n                viewDim[0] - padding.left - padding.right,\n                viewDim[1] - padding.top - padding.bottom\n            ]\n\n            $p.attribute.aViewX = seqFloat(vOffset[0], vOffset[0] + vDim[0] - 1);\n            $p.attribute.aViewY = seqFloat(vOffset[1], vOffset[1] + vDim[1] - 1);\n            gl = $p.program(\"post-processing\");\n\n            $p.framebuffer.enableRead(\"offScreenFBO\");\n            $p.bindFramebuffer(\"visStats\");\n\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewX.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewY.location, 1);\n            // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.disable(gl.CULL_FACE);\n            gl.disable(gl.DEPTH_TEST);\n            gl.enable( gl.BLEND );\n            gl.blendFunc( gl.ONE, gl.ONE );\n            gl.blendEquation(gl.MAX_EXT);\n            gl.viewport(0, viewIndex, 1, 1);\n            gl.ext.drawArraysInstancedANGLE(\n                gl.POINTS,\n                0,\n                vDim[0],\n                vDim[1]);\n\n            var max = new Float32Array(4);\n            gl.readPixels(0, viewIndex, 1, 1, gl.RGBA, gl.FLOAT, max);\n            // if(max[3] == 0) {\n            //     max[3] = Math.sqrt($p.dataSize) * Math.log2($p.dataSize);\n            // }\n            // console.log(offset, viewDim);\n            $p.views[viewIndex].maxRGBA = max;\n        }\n\n        $p.uniform.uMaxRGBA = $p.views[viewIndex].maxRGBA;\n\n        $p.bindFramebuffer(null);\n        gl = $p.program(\"vis-render\");\n        gl.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n        $p.framebuffer.enableRead(\"offScreenFBO\");\n\n        gl.viewport(\n            offset[0] + padding.left,\n            // offset[1] + padding.bottom,\n            $p.viewport[1] - viewDim[1] + padding.bottom - offset[1],\n            viewDim[0] - padding.left - padding.right,\n            viewDim[1] - padding.top - padding.bottom\n        );\n        // gl.blendEquation(gl.FUNC_ADD);\n        gl.disable( gl.BLEND );\n        // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n        // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n}\n","import aggregate  from './ops/aggregate';\nimport cache      from './ops/cache.gl';\nimport derive     from './ops/derive';\nimport extent     from './ops/extent.gl';\nimport match      from './ops/match';\nimport visualize  from './vis/visualize';\n\nexport default {\n    aggregate,\n    cache,\n    derive,\n    extent,\n    match,\n    visualize\n}","import {getHour, getDayOfWeek, getMonth, getYear} from '../gljs/datetime.gl'\n\nexport default function derive($p, spec) {\n\n  let derive = {};\n  let dataDimension = $p.uniform.uDataDim.data;\n  let deriveMax = $p.uniform.uDeriveCount.data;\n  let derivedFields = Object.keys(spec);\n\n  let fields = $p.fields;\n  if(derivedFields.length > $p.deriveMax) {\n    throw Error('Error: cannot derive more than ' + $p.deriveMax + ' new attributes');\n  }\n\n  $p.subroutine(\"hour\", \"float\", getHour);\n  $p.subroutine(\"month\", \"float\", getMonth);\n  $p.subroutine(\"year\", \"float\", getYear);\n  $p.subroutine(\"dayOfWeek\", \"float\", getDayOfWeek);\n\n  let marco = \"\\t\";\n\n  derivedFields.forEach(function(d, i){\n    let re = new RegExp(\"(\"+fields.join(\"|\")+\")\",\"g\");\n    // let formula = spec[d].replace(/@([\\w|\\d|_]+)/g, function(matched){\n    let formula = spec[d].replace(re, function(matched){\n      // console.log(matched);\n      let index = fields.indexOf(matched);\n      return 'this.getNonIndexedData ('  + index + ', pos.x, pos.y)';\n    });\n    marco += 'if (index == ' + i + ') return ' + formula + \"; \\n \\telse \";\n  });\n\n  marco = marco.replace(/\\$/g, 'this.') + \" return 0.0;\";\n\n  $p.uniform(\"uOptMode\", \"float\", 0)\n    .uniform(\"uDeriveId\", \"int\", 0)\n    .subroutine(\"getDerivedValue\", \"float\", new Function(\"$int_index\", \"$vec2_pos\", marco));\n\n  function vertexShader() {\n    gl_PointSize = 1.0;\n\n    var i, j;\n\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n\n    this.vResult = this.getDerivedValue(this.uDeriveId, vec2(i, j));\n    if(this.uFilterFlag == 1) {\n      if(texture2D(this.fFilterResults, vec2(i, j)).a == 0.0)\n        this.vResult = 0.0;\n    }\n    var x, y;\n    if(this.uOptMode == 0.0){\n      x = 0.5;\n      y = 0.5;\n    } else {\n      x = i * 2.0 - 1.0;\n      y = j * 2.0 - 1.0;\n    }\n\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  }\n\n  function fragmentShader() {\n    if(this.vResult == 0.0) discard;\n    if(this.uOptMode > 0.0 || this.vResult >= 0.0)\n      gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n    else\n      gl_FragColor = vec4(-1.0, this.vResult, 0.0, 0.0);\n  }\n\n  var vs = $p.shader.vertex(vertexShader),\n    fs = $p.shader.fragment(fragmentShader),\n    gl = $p.createProgram(\"derive\", vs, fs);\n\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n  function _execute() {\n    var gl = $p.program(\"derive\");\n    $p.framebuffer.enableRead(\"fFilterResults\");\n    $p.bindFramebuffer(\"fDerivedValues\");\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.DEPTH_TEST);\n    gl.enable( gl.BLEND );\n    gl.blendFunc( gl.ONE, gl.ONE );\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n    \n    if($p.indexes.length > 0)\n      gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n     \n    if($p.indexes.length > 1)\n      gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n    $p.uniform.uOptMode = 0.0;\n    // $p.uniform.uDeriveCount = derivedFields.length;\n    var deriveDomains = [];\n    derivedFields.forEach(function(d, i){\n      $p.uniform.uDeriveId = i;\n      gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n      gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n      gl.viewport(0, 0, 1,  1);\n\n      var result = new Float32Array(8);\n\n      gl.blendEquation(gl.MAX_EXT);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n      // gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, max);\n\n      gl.viewport(1, 0, 1,  1);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n      gl.blendEquation(gl.MIN_EXT);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n      gl.readPixels(0, 0, 2, 1, gl.RGBA, gl.FLOAT, result);\n\n      var minValue = (result[4] < 0) ? result[5] : result[7],\n        maxValue = (result[2] > 0) ? result[3] : result[1];\n      deriveDomains[i] = [minValue, maxValue];\n\n      // deriveDomains[i] = [Math.min(min[0], min[3]), Math.max(max[0], max[3])];\n    });\n    gl.viewport(0, 0, dataDimension[0], dataDimension[1]*deriveMax);\n    gl.disable( gl.BLEND );\n    gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n    gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n\n    $p.uniform.uOptMode = 1.0;\n\n    derivedFields.forEach(function(d, i){\n      $p.uniform.uDeriveId = i;\n      gl.viewport(0, dataDimension[1]*i, dataDimension[0], dataDimension[1]);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n    });\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return deriveDomains;\n  }\n\n  derive.execute = function(spec) {\n    var derivedFields = Object.keys(spec);\n    var newDerivedDomains = _execute();\n    if(!$p._update) {\n      newDerivedDomains.forEach(function(d, i) {\n        var fieldId = $p.fields.indexOf(derivedFields[i]);\n        if(fieldId === -1) {\n          $p.fields.push(derivedFields[i]);\n          fieldId = $p.fields.indexOf(derivedFields[i]);\n          $p.deriveCount += 1;\n        }\n        $p.fieldDomains[fieldId] = d;\n        $p.fieldWidths[fieldId] = d[1] - d[0] + 1;\n      });\n      $p.uniform.uFieldDomains.value($p.fieldDomains);\n      $p.uniform.uFieldWidths.data = $p.fieldWidths;\n    }\n  }\n\n  derive.result = function(arg) {\n    var options = arg || {},\n      offset = options.offset || [0, 0],\n      resultSize = options.size || $p.dataDimension[0]* $p.dataDimension[1],\n      fid = options.fieldId || options.deriveFieldId || 0,\n      rowSize = Math.min(resultSize, $p.dataDimension[0]),\n      colSize = Math.ceil(resultSize/$p.dataDimension[0]);\n    \n    $p.bindFramebuffer('DerivedValues');\n    var result = new Float32Array(rowSize * colSize * 4);\n    gl.readPixels(0, dataDimension[1]*fid, rowSize, colSize, gl.RGBA, gl.FLOAT, result);\n    return result.filter(function(d, i){ return i%4===3;} ); //return channel alpha in rgba\n  }\n\n  return derive;\n}\n","import programs from './kernels';\nimport compile from './compile';\nimport * as arrayOpt from './arrays';\n\nexport default function($p) {\n    let operations = {};\n    let kernels = compile($p);\n    let bin = function (spec, binIndex) {\n        let binAttr;\n        let binCount;\n    \n        if (typeof spec == 'object') {\n            binAttr = Object.keys(spec)[0];\n            binCount = spec[binAttr];\n        } else {\n            binAttr = spec;\n            // Apply Sturges' formula for determining the number of bins\n            binCount = Math.ceil(Math.log2($p.dataSize)) + 1;\n        }\n        let binAttrId = $p.fields.indexOf(binAttr);\n        let binDomain = $p.fieldDomains[$p.fields.indexOf(binAttr)];\n        let binInterval = (binDomain[1] - binDomain[0]) / binCount;\n        // debugger\n        $p.uniform.uBinCount.data[binIndex] = binCount;\n        $p.uniform.uBinIntervals.data[binIndex] = binInterval;\n        $p.fieldWidths[binAttrId] = binCount;    \n        $p.intervals[binAttr] = {};\n        $p.intervals[binAttr].dtype = 'histogram';\n        $p.intervals[binAttr].interval = binInterval;\n        $p.intervals[binAttr].min = binDomain[0];\n        $p.intervals[binAttr].max = binDomain[1];\n        $p.histograms.push(binAttr);\n        return binAttr;\n    }\n    \n    operations.aggregate = function (spec) {\n        if(spec.$bin) { \n            let binSpecs = Array.isArray(spec.$bin) ? spec.$bin : [spec.$bin];\n            let binAttrs = binSpecs.map((spec, ii) => {\n                return bin(spec, ii);\n            })\n            if(spec.$group) {\n                spec.$group = binAttrs.filter(a => spec.$group.indexOf(a) === -1).concat(spec.$group);\n            } else {\n                spec.$group = binAttrs;\n            }\n        }\n        if(Object.keys($p.crossfilters).length) {\n            $p.uniform.uFilterFlag = 1;\n            // operations.match({})\n            // $p.crossfilters = {}\n        }\n        if (!kernels.hasOwnProperty('aggregate')) {\n            kernels.aggregate = programs.aggregate($p, spec);\n        }\n        kernels.aggregate.execute(spec);\n        if (typeof(spec.out) === 'string') {\n            $p.setOutput(spec.out)\n        }\n        return kernels.aggregate.result;\n    }\n\n    operations.match = function(spec) {\n        if (!kernels.hasOwnProperty('match')) {\n            kernels.match = programs.match($p);\n        }\n        kernels.match.execute(spec);\n        return kernels.match.result;\n    }\n\n    operations.cache = function(tag) {\n        if (!kernels.hasOwnProperty('cache')) {\n            kernels.cache = programs.cache($p);\n        }\n        kernels.cache.execute(tag);\n        return kernels.cache.result;\n    }\n\n    operations.derive = function(spec) {\n        // if (!kernels.hasOwnProperty('derive')) {\n        if(!$p._update) {\n            kernels.derive = programs.derive($p, spec);\n        }\n        // }\n        kernels.derive.execute(spec);\n        return kernels.derive.result;\n    }\n\n    operations.visualize = function(vmap) {\n        // if(Object.keys($p.crossfilters).length > 0)\n        //     operations.match({});\n        let vmaps;\n        let facet = vmap.facets\n\n        if(facet) {\n            let spec = facet.rows || facet.columns;\n            if(facet.sortBy !== undefined) {\n                let sortOpt = Object.keys(facet.sortBy)[0];\n                let sortAttr = facet.sortBy[sortOpt];\n                let result = $p.exportResult('row');\n                let sorted = spec[sortAttr].map((fields) => {\n                    let values = result.map(r => r[fields])\n                    let min = Math.min(...values);\n                    let max = Math.max(...values);\n                    let normalizedValues = values.map( val => (val - min) / (max - min) )\n                    if (sortOpt === 'var') sortOpt = 'variance';\n                    let opt = typeof(arrayOpt[sortOpt]) === 'function' ? sortOpt : 'avg'\n                    return {\n                        name: fields,\n                        value: arrayOpt[opt](normalizedValues)\n                    }\n                })\n                .sort((a, b) => b.value - a.value )\n                spec[sortAttr] = sorted.map(r => r.name);;\n            }\n            let encodings = Object.keys(vmap).filter(k => k !== 'facets' && k !== 'transform')\n            let variables = Object.keys(spec)\n            let minLoopCount = Math.min(...variables.map(v => spec[v].length))\n\n            vmaps = new Array(minLoopCount)\n            for(let i = 0; i < minLoopCount; i++) {\n                let rule = {}\n                encodings.forEach(code => {\n                    let vi = variables.indexOf(vmap[code])\n                    if(vi < 0) {\n                    rule[code] = vmap[code]     \n                    } else {\n                    rule[code] = spec[variables[vi]][i]\n                    }\n                })\n                vmaps[i] = rule;\n                if(facet.brush && i === 0) {\n                    vmaps[i].brush = facet.brush;\n                    vmaps[i].brush.facet = 'rows'\n                }\n            }\n        } else {\n            vmaps = Array.isArray(vmap) ? vmap : [vmap];\n        }\n\n        if($p.grid.views.length < vmaps.length) {\n            $p.grid.reset();  \n            $p.views = $p.grid.generateViews({\n                layout:  facet.rows ? 'rows' : 'columns',\n                count: vmaps.length, \n                width: $p.viewport[0],\n                height: $p.viewport[1],\n                padding: $p.padding,\n                gridlines: vmap.gridlines\n            })\n        }\n        vmaps.forEach( (vmap, vi) => {\n            if (!kernels.hasOwnProperty('visualize')) {\n                kernels.visualize = programs.visualize($p);\n            }\n            if (vmap.in) {\n                $p.setInput(vmap.in);\n            }\n            if (vmap.view) {\n                let viewId = (vmap.id) ? vmap.id : 'p4-view-id-' + $p.views.length;\n                vmap.view.id = viewId;\n                const vid = $p.views.map(d => d.id).indexOf(viewId);\n                if (vid === -1) {\n                    $p.views.push(vmap.view);\n                } else {\n                    $p.views[vid] = vmap.view;\n                }\n            }\n\n            let viewIndex = vi;\n            if(typeof vmap.id == 'string') {\n                viewIndex = $p.views.map(d=>d.id).indexOf(vmap.id);\n                if(viewIndex == -1) {\n                    //find the next available view slot in all views\n                    for(let vi = 0; vi < $p.views.length; vi++){\n                        if(!$p.views[vi].id) {\n                            viewIndex = vi;\n                            $p.views[viewIndex].id = vmap.id;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            if(vmap.mark == 'bar') vmap.zero = true;\n            $p.views[viewIndex].vmap = vmap;\n            let encoding = vmap,\n                viewTag = $p.views[viewIndex].id;\n    \n            if($p._update && $p.responses.hasOwnProperty(viewTag)) {\n                if($p.responses[viewTag].hasOwnProperty($p._responseType)) {\n                    encoding = Object.assign({}, vmap, $p.responses[viewTag][$p._responseType]);\n                }\n            }\n            if(encoding.opacity !== 0){\n                kernels.visualize({\n                    vmap: encoding,\n                    viewIndex: viewIndex\n                });\n                $p.respond();\n            }\n        })\n        $p.reset();\n    }\n\n    return operations;\n}","import aggregate  from './ops/aggregate';\nimport cache      from './ops/cache.gl';\nimport derive     from './ops/derive';\nimport extent     from './ops/extent.gl';\nimport match      from './ops/match';\nimport visualize  from './vis/visualize';\nimport reveal     from './vis/reveal';\n\nexport default function compile($p, fields, spec) {\n\n    // if(spec.hasOwnProperty('perceptual'))\n    //     operations.perceptual = kernels.perceptual($p);\n    //\n    // if(spec.hasOwnProperty('derive'))\n    //     operations.derive = kernels.derive($p, spec.derive);\n\n    return {\n        aggregate : aggregate($p),\n        cache     : cache($p),\n        match     : match($p, fields),\n        extent    : extent($p),\n        visualize : visualize($p)\n    }\n}\n","var array = {};\nfunction _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if(!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\narray.reduce = function(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\narray.avg = function(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\narray.normalize = function(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a){\n        return (a - min) / range;\n    });\n}\n\narray.seq = function(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for(var i=start; i<=end; i+=interval)\n        array.push(i);\n\n    return array;\n};\n\n[\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n    array[f] = array.reduce(f);\n});\n\narray.sum = array.reduce(\"+\");\n\narray.scan = array.pfsum = function(a){\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\narray.iscan = function(a) {\n    return array.scan([0].concat(a));\n};\n\narray.diff = function(a, b) {\n    var difference = [];\n    a.forEach(function(d){\n        if (b.indexOf(d)===-1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\narray.intersect = function(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function (e) {\n            if (b.indexOf(e) !== -1) return true;\n    });\n};\n\narray.unique = function(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\narray.lcm = function(A) {\n    var n = A.length, a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]), c = a;\n        while (a && b){ (a > b) ? a %= b : b %= a; }\n        a = Math.abs(c*A[i])/(a+b);\n    }\n    return a;\n};\n\narray.stats = function(array){\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\narray.histogram = function(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin+1).fill(0);\n\n    for(var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b/(numBin)), min + range*(b+1)/(numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin-1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0,numBin),\n        // ids: ids\n    };\n}\n\narray.var = function(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a){ return Math.pow(a-m, 2) });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\narray.std = function(rowArray) {\n    return Math.sqrt(array.var(rowArray));\n}\n\nexport default array;\n","import ArrayOpts from './arrays';\n\nexport default function(data, spec, headers){\n    var i,\n        l = data.length,\n        attributes = headers || Object.keys(data[0]),\n        bin,\n        bins = [],\n        binCollection = {},\n        result = [],\n        ks;\n\n    if(!spec.hasOwnProperty('$group') && !spec.hasOwnProperty('$bin')) return result;\n\n    if(typeof spec.$bin == 'object') {\n        var binAttr = Object.keys(spec.$bin)[0],\n            binCount = spec.$bin[binAttr];\n\n        if(attributes.indexOf(binAttr) !== -1) {\n            var column = data.map(function(d){return d[binAttr]}),\n                min = ArrayOpts.min(column),\n                max = ArrayOpts.max(column),\n                binInterval = (max - min) / binCount;\n\n            for(i = 0; i < l; i++){\n                data[i]['bin@' + binAttr] = Math.min(Math.floor(data[i][binAttr]/binInterval), binCount-1);\n            }\n\n            spec.$group = 'bin@' + binAttr;\n            attributes.push('bin@' + binAttr);\n        }\n    }\n\n    for(i = 0; i < l; i++){\n        if(Array.isArray(spec.$group)) {\n            ks = [];\n            spec.$group.forEach(function(si){\n                ks.push(data[i][si]);\n            });\n            bin = JSON.stringify(ks);\n        } else {\n            bin = data[i][spec.$group];\n        }\n        if( bins.indexOf(bin) < 0 ){\n            bins.push(bin);\n            binCollection[bin] = [data[i]];\n        } else {\n            binCollection[bin].push(data[i]);\n        }\n    }\n\n    var bl = bins.length;\n\n    for(i = 0; i < bl; i++){\n        var res = {};\n        if(Array.isArray(spec.$group)) {\n            ks = JSON.parse(bins[i]);\n            spec.$group.forEach(function(s, j){\n                res[s] = ks[j];\n            })\n\n        } else {\n            res[spec.$group] = bins[i];\n        }\n\n        if(spec.$data) {\n            res.data = binCollection[bins[i]];\n        }\n\n        if(spec.$group) {\n            var gkeys = Array.isArray(spec.$group) ? spec.$group : [spec.$group];\n\n            gkeys.forEach(function(gk){\n                if(attributes.indexOf(gk) === -1) {\n                    throw Error('Invalid attribute name: ', gk);\n                }\n            })\n        }\n\n        var out = spec.$collect || spec.$reduce || {};\n        var keys = Object.keys(out).filter(k => ['includes', 'excludes', 'calculate'].indexOf(k) === -1);\n        var outOpt = false;\n        if (out.includes) { \n            var includeKeys = (out.includes === '*') ? Object.keys(data[0]).filter(k => gkeys.indexOf(k) === -1 && keys.indexOf(k) === -1)\n                : out.includes;\n            outOpt = out.calculate || '$sum';\n            keys = keys.concat(includeKeys);\n        }\n        if (Array.isArray(out.excludes)) {\n           keys = keys.filter(attr => out.excludes.indexOf(attr) === -1);\n        }\n\n        if(keys.length === 0 && !spec.$data) return result;\n        keys.forEach(function(key){\n            var attr = key,\n                opt = out[key] || outOpt;\n\n            if(opt === \"$count\" || opt === \"$data\") {\n                attr = key;\n            }\n            if(typeof out[key] === 'object'){\n                opt = Object.keys(out[key])[0];\n                attr = out[key][opt];\n\n                if(attributes.indexOf(attr) === -1 && attr !== \"*\" && !Array.isArray(attr)) {\n                    var warnMsg = \"No matching attribute or operation defined for the new attribute \" + key + \":\" + spec[key];\n                    console.warn(warnMsg);\n                    return;\n                }\n            }\n\n            if(typeof opt === \"function\") {\n                // res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; }).reduce(opt);\n                res[key] = opt.call(null, binCollection[bins[i]].map(function(a){ return a[attr]; }));\n            } else if(typeof opt === \"string\") {\n                if(opt === \"$unique\") {\n                    res[key] = ArrayOpts.unique(binCollection[bins[i]].map(function(a){ return a[key]; }));\n                } else if (opt === \"$list\") {\n                    res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; });\n                } else if (opt === \"$first\") {\n                    res[key] = binCollection[bins[i]][0][attr];\n                } else if (opt === \"$merge\") {\n                    var mergedResult = [];\n                    binCollection[bins[i]].map(function(a){ return a[attr]; }).forEach(function(m){\n                        mergedResult = mergedResult.concat(m);\n                    })\n                    res[key] = mergedResult;\n                } else if (opt === \"$count\") {\n                    res[key] = binCollection[bins[i]].length;\n                } else if (opt === \"$data\") {\n                    var collect = (spec.$collect) ? '$collect' : '$reduce';\n                    res[key] = (spec[collect][key][opt] == '*')\n                        ? binCollection[bins[i]]\n                        : binCollection[bins[i]].map(function(data){\n                            var row = {};\n                            spec[key][opt].forEach(function(k){ row[k] = data[k] });\n                            return row;\n                        });\n                } else {\n                    var fname = opt.slice(1);\n\n                    if(fname in ArrayOpts) {\n                        res[key] = ArrayOpts[fname].call(null, binCollection[bins[i]].map(function(a){\n                            return a[attr];\n                        }));\n                    }\n                }\n            }\n        });\n        result.push(res);\n    }\n\n    return result;\n};\n","export default function match(data, spec) {\n    var indexes = data[0];\n\n    if(!Array.isArray(indexes)) indexes = [];\n\n    return data.filter(function(a){\n        if(_match(a, spec, indexes)) return a;\n    });\n};\n\nfunction _match(obj, spec, indexes){\n    var match,\n        opt,\n        index,\n        sat = true,\n        keys = Object.keys(spec);\n\n    keys.forEach(function(key){\n        if(key === \"$not\") {\n            match = !_match(obj, spec[key], indexes);\n        } else if(key == \"$or\" || key == \"$and\" ) {\n            match = (key == \"$and\");\n            spec[key].forEach(function(s){\n                match = (key == \"$and\") ? match & _match(obj, s, indexes) : match | _match(obj, s, indexes);\n            });\n        } else {\n            index = (indexes.length > 0) ? indexes.indexOf(key) : key;\n\n            if(typeof spec[key] === 'object'){\n                opt = Object.keys(spec[key])[0];\n\n                if(opt[0] == \"$\" && spec[key][opt] instanceof Array){\n                    if(opt == \"$in\" || opt == \"$nin\"){\n                        match = ((opt == \"$nin\") ^ (spec[key][opt].indexOf(obj[index]) > -1));\n                    } else if(opt == \"$inRange\"){\n                        match =(obj[key] >= spec[key][opt][0] & obj[index] <= spec[key][opt][1]);\n                    } else if(opt == \"$ninRange\"){\n                        match =(obj[key] < spec[key][opt][0] | obj[index] > spec[key][opt][1]);\n                    } else if(opt == \"$inDate\"){\n                        match = (spec[key][opt].map(Number).indexOf(+(obj[index])) > -1);\n                    }\n                } else if(spec[key] instanceof Array) {\n                    match =(obj[key] >= spec[key][0] & obj[index] <= spec[key][1]);\n                }\n            } else {\n                if(spec[key][0] === \"$\") {\n                    match = (obj[spec[key].slice(1)] === obj[index]);\n                } else {\n                    match = (spec[key] == obj[index]);\n                }\n            }\n        }\n        sat = sat & match;\n    });\n\n    return sat;\n}\n","import arrayOpts from './arrays.js';\nimport aggregate from './aggregate.js';\nimport match from './match.js';\n\nvar query = {};\nquery.match = match;\nquery.group = aggregate;\n\nquery.indexBy = function(data, id){\n    var indexed = {};\n    data.forEach(function(d){\n        if(!indexed.hasOwnProperty(d[id])){\n            indexed[d[id]] = [ d ];\n        } else {\n            indexed[d[id]].push(d);\n        }\n        delete d[id];\n    });\n    return indexed;\n};\n\n// query.list = function(data, id) {\n//     return data.map(function(d){return d[id];});\n// }\n\nquery.range = function(data, id) {\n    var array = data.map(function(d){return d[id];});\n    return [ arrayOpts.min(array), arrayOpts.max(array) ];\n};\n\nquery.map = function(data, m) {\n    var mf = function(d){return d};\n    if(typeof m === \"string\")\n        mf = function(d){return d[m]};\n    else if(typeof m === \"function\")\n        mf = m;\n\n    return data.map(mf);\n};\n\n// Object.keys(arrayOpts).forEach(function(opt) {\n//     query[opt] = function(data, id) {\n//         var arr = query.map(data, id);\n//         return arrayOpts[opt](arr);\n//     }\n// });\n\n\n\nquery.sortBy = function(data, spec) {\n    function sortArray(a, b, p) {\n        return a[p] > b[p] ? 1 : a[p] < b[p] ? -1 : 0;\n    }\n    return data.sort(function(a, b){\n        var r = 0,\n            i = 0,\n            attributes = Object.keys(spec),\n            al = attributes.length;\n\n        while( r === 0 && i < al ) {\n            r = sortArray(a, b, attributes[i]) * spec[attributes[i]];\n            i++;\n        }\n        return r;\n    })\n};\n\nquery.orderBy = function(c, s, o) {\n    var spec = {};\n    s.forEach(function(ss){\n        spec[ss] = o;\n    });\n    return query.sort(c, spec);\n};\n\nquery.histogram = function(data, spec, max, min) {\n    var result = {};\n    for(var key in spec) {\n        result[key] = arrayOpts.histogram(data.map(function(d){return d[key]}), spec[key], max, min);\n    }\n    return result;\n};\n\nquery.binAggregate = function(data, spec) {\n    var attrKey = Object.keys(spec)[0],\n        attributes = Object.keys(spec).filter(function(k) { return k != \"$data\" && k!=attrKey;}) || [],\n        embedData = spec.$data || false,\n        numBin = spec[attrKey],\n        array = data.map(function(d){ return d[attrKey]; }),\n        l = array.length,\n        min = arrayOpts.min(array),\n        max = arrayOpts.max(array),\n        range = max - min,\n        interval = range / numBin,\n        bins = [];\n\n\n    for(var b = 0; b < numBin; b++) {\n        bins[b] = {binID: b, rangeBegin: min + range * (b/(numBin)), rangeEnd: min + range*(b+1)/(numBin), count: 0};\n        // if(embedData)\n            bins[b].data = [];\n        // attributes.forEach(function(attr){\n        //     bins[b][attr] = 0;\n        // })\n    }\n\n    // bins[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        if(binID == numBin) binID--;\n        data[i].binID = binID;\n        // if(embedData)\n            bins[binID].data.push(data[i]);\n        // bins[binID].count++;\n        // attributes.forEach(function(attr){\n        //     bins[binID][attr] += data[i][attr];\n        // });\n    }\n\n    spec.$by = \"binID\";\n    delete spec[attrKey];\n\n    var result = query.group(data, spec);\n    result = query.indexBy(result, \"binID\");\n\n\n    // result.forEach(function(r){\n    //     r.rangeBegin = bins[r.binID].rangeBegin;\n    //     r.rangeEnd = bins[r.binID].rangeEnd;\n    // })\n\n    bins.forEach(function(bin){\n\n        if(result.hasOwnProperty(bin.binID)) {\n            attributes.forEach(function(attr){\n                bin[attr] = result[bin.binID][0][attr];\n            });\n            if(embedData) bin.data = result[bin.binID][0].data;\n        } else {\n            attributes.forEach(function(attr){\n                bin[attr] = 0;\n            });\n        }\n\n    })\n    // console.log(bins);\n    // return result;\n    return bins;\n}\n\nquery.partition = function(data, numPart) {\n    var len = data.length,\n        p = Math.ceil(len / numPart),\n        pid,\n        partitions = [];\n\n    for(var b = 0; b < numPart; b++) {\n        partitions[b] = {partition: b, data: [], count: 0};\n    }\n\n    for(var i = 0; i < len; i++) {\n        pid = Math.floor(i / p);\n        partitions[pid].data.push(data[i]);\n        partitions[pid].count++;\n    }\n\n    return partitions;\n}\n\nquery.partitionBy = function(data, spec) {\n    var len = data.length,\n        pid,\n        partitions = [],\n        key = Object.keys(spec)[0],\n        parts = spec[key];\n\n    parts.forEach(function(b, bi) {\n        partitions[bi] = {partition: bi, data: [], count: 0, name: b};\n    })\n\n    for(var i = 0; i < len; i++) {\n        pid = parts.indexOf(data[i][key]);\n        if(pid>-1){\n            partitions[pid].data.push(data[i]);\n            partitions[pid].count++;\n        }\n    }\n    return partitions;\n}\n\nquery.normalize = function(data, fields) {\n    var hash = {};\n\n    fields.forEach(function(f){\n        var array = data.map(function(d){ return d[f]; });\n        hash[f] = arrayOpts.normalize(array);\n    });\n\n    data.forEach(function(d, i){\n        fields.forEach(function(f){\n            d[f] = hash[f][i];\n        });\n    });\n\n    return data;\n}\n\nquery.toColumnArray = function(data) {\n    var columnArray = [];\n        attributes = Object.keys(data[0]).filter(function(k) { return k; });\n\n    attributes.forEach(function(attr){\n        columnArray.push(data.map(function(d){return d[attr];}));\n    });\n\n    columnArray.fields = attributes;\n\n    attributes.forEach(function(attr, ai){\n        columnArray[attr] = columnArray[ai];\n    });\n\n    return columnArray;\n}\n\nexport default query;\n","import array from './ops/arrays';\n\nfunction stats(data, fields){\n\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = {\n            min: array.min(a),\n            max: array.max(a),\n            avg: array.avg(a),\n            std: array.std(a)\n        };\n    });\n\n    return result;\n};\n\n\nstats.domains = function(data, fields) {\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = [ array.min(a), array.max(a) ];\n    });\n\n    return result;\n}\n\nexport default stats;\n","function vectorAdd(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nfunction vectorSum(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result = vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nfunction vectorAvg(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result =  _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n\nexport default {\n    add: vectorAdd,\n    sum: vectorSum,\n    avg: vectorAvg\n}","import {scaleLinear, scaleOrdinal, scaleTime, scalePow, scaleLog} from 'd3-scale';\nimport {select} from 'd3-selection';\nimport {interpolateHcl} from 'd3-interpolate';\nimport {axisLeft, axisBottom} from 'd3-axis';\nimport { transition } from 'd3-transition';\n\nconst DATA = {\n  json: [],\n  domains: {},\n  vmap: {}\n}\n\nconst VIEW = {\n  container: null,\n  svg: null,\n  height: 300,\n  width: 400,\n  axes: true\n}\n\nexport default class Plot {\n  constructor(data = DATA, view = VIEW) {\n    this.data = data;\n    this.view = view;\n    this.container = view.container;\n    this.padding = view.padding || {top: 0, bottom: 0, left: 0, right: 0};\n    this.height = view.height;\n    this.width = view.width;\n    this.svg = {};\n    this.scale = data.scale || {}\n    this.domains = data.domains || {};\n    if (typeof this.data.schema === 'object') {\n      this.data.fields = Object.keys(this.data.schema)\n    }\n    if(!view.svg || view.svg === null) {\n      if(view.container !== null) {\n        this.svg = this.createSvg();\n      }\n      this.height -= this.padding.top + this.padding.bottom;\n      this.width -= this.padding.left + this.padding.right;\n      this.svg.main = this.svg.append('g')\n        .attr('transform', `translate(${this.padding.left}, ${this.padding.top})`);\n    } else {\n      this.svg.main = select(view.svg);\n    }\n    \n    if(this.data.json) {\n      this.scales = this.getScales();\n    }\n  }\n\n  createSvg() {\n    let svg = select(this.container)\n      .append('svg')\n        .attr('width', this.width)\n        .attr('height', this.height);\n    return svg;\n  }\n\n  channels() {\n    return {\n      x: [0, this.width],\n      y: [this.height, 0],\n      color: ['steelblue', 'red'],\n      opacity: [0, 1],\n      size: [2, 20],\n      width: [0, this.width],\n      height: [0, this.height]\n    }\n  }\n\n  getScales() {\n    let scales = {};\n    let channels = this.channels();\n    let vmap = this.data.vmap;\n\n    let fields = this.data.fields || null;\n    let exponent = 1.0;\n    let logScale = false;\n    if(fields === null && this.data.json) {\n      this.data.fields = Object.keys(this.data.json[0]);\n      fields = Object.keys(this.data.json[0]);\n    }\n    for (let channel of Object.keys(channels)) {\n      let attr = (Array.isArray(vmap[channel])) ? vmap[channel][0] : vmap[channel]\n      if (typeof attr === 'object') {\n        if (Array.isArray(attr.columns)) {\n          attr = attr.columns[0];\n        }\n        if (Number.isFinite(attr.exponent)) {\n          exponent = attr.exponent\n        }\n        if (attr.logScale) {\n          logScale = true\n        }\n        if (attr.field) {\n          attr = attr.field\n        }\n        vmap[channel] = attr\n      }\n      if(channel in vmap) {\n        let domain; \n        if(!this.domains.hasOwnProperty(attr)) {\n          let value = this.data.json.map(d=>d[attr]);\n          let min = Math.min(...value) || 0;\n          let max = Math.max(...value) || 0;\n          \n          if (min === 0 && max === 0) {\n            domain = value.filter((item, i, ar) => ar.indexOf(item) === i);\n          } else {\n            if(max === min) {\n              max += 1e-6;\n            }\n            domain = [min, max];\n          }\n          this.domains[attr] = domain;\n        } else {\n          domain = this.domains[attr] || [0, 1];\n        }\n        let range = channels[channel];\n\n        if (this.data.schema && this.data.schema[attr] === 'time') {\n          domain = domain.map(d => new Date(d));\n          if (domain.length > 2) {\n            domain.sort((a, b) => a.getTime() - b.getTime())\n            domain = [domain[0], domain[domain.length -1]]\n          }\n          this.domains[attr] = domain\n          scales[channel] = scaleTime().domain(domain).range(range);\n        } else if(logScale) {\n          scales[channel] = scaleLog().domain(domain).range(range);\n        } else if(exponent !== 1.0) {\n          scales[channel] = scalePow().exponent(exponent).domain(domain).range(range);\n        } else if( (this.data.schema && this.data.schema[attr === 'string']) || domain.length > 2) {\n          scales[channel] = scaleOrdinal().domain(domain).range(range);\n        } else {\n          scales[channel] = scaleLinear().domain(domain).range(range);\n          if(channel == 'color') {\n            scales[channel].interpolate(interpolateHcl);\n          }\n        }\n      } else {\n        scales[channel] = () => attr;\n      }\n    }\n    return scales;\n  }\n\n  axes() {\n    if(!this.view.hideAxes) {\n      this.xAxis = axisBottom(this.scales.x).tickSizeOuter(0);\n      if (this.view.xAxis) {\n        if (typeof this.view.xAxis.format === 'function') {\n          this.xAxis.tickFormat(this.view.xAxis.format);\n        }\n        if (this.view.xAxis.ticks) {\n          this.xAxis.ticks(this.view.xAxis.ticks);\n        }\n      }\n      this.xAxisSvg = this.svg.main.append('g')\n        .attr('class', 'p3-axis p3-axis-x')\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xAxis);\n      \n      if (this.scales.y) {\n        this.yAxis = axisLeft(this.scales.y).ticks(this.height / 30);\n        this.yAxisSvg = this.svg.main.append('g')\n          .attr('class', 'p3-axis p3-axis-y')\n          .call(this.yAxis);\n      }\n\n      if(this.view.gridlines && this.view.gridlines.y) {\n        this.yGridlines = this.yAxisSvg.append('g')\n          .attr('class', 'p3-vis-gridLines')\n          .style('opacity', 0.15)\n          .call(axisLeft(this.scales.y).ticks(this.height/30).tickSize(-this.width))\n          .selectAll('text').remove();\n      }\n      this.axeLabels()\n    }\n  }\n\n  axeLabels () {\n\n    this.AxisLabels = this.svg.main.append('g')\n    this.AxisLabels.append('text')\n      .attr('class', 'p3-axis-x-label')\n      .attr('x', this.width / 2)\n      .attr('y', this.height + this.padding.bottom / 2 )\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text(this.data.vmap.x);\n  \n    this.AxisLabels.append('text')\n      .attr('class', 'p3-axis-y-label')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', -this.padding.left / 1.25 )\n      .attr('x', -this.height / 2 )\n      .attr('dy', '1em')\n      .text(this.data.vmap.y);\n  }\n\n  render () {\n    this.axes();\n  }\n\n  resize (width, height) {\n    this.svg.attr('width', width).attr('height', height);\n\n    this.height = height - this.padding.top - this.padding.bottom;\n    this.width = width - this.padding.left - this.padding.right;\n\n    this.scales = this.getScales();\n    if (this.xAxis) {\n      this.xAxis.scale(this.scales.x);\n      this.xAxisSvg.transition().duration(500)\n        .attr('transform', `translate(0, ${this.height})`)\n        .call(this.xAxis)\n    }\n\n    if (this.yAxis) {\n      this.yAxis.scale(this.scales.y).ticks(this.height / 30);\n      this.yAxisSvg\n        .transition().duration(500)\n        .call(this.yAxis);\n    }\n\n    if (this.AxisLabels) {\n        this.AxisLabels.remove()\n        this.axeLabels()\n    }\n\n  }\n}","import pipeline   from './src/pipeline';\nimport allocate   from './src/allocate';\nimport arrays     from './src/ops/arrays';\nimport aggregate  from './src/ops/aggregate';\nimport derive     from './src/ops/derive';\nimport match      from './src/ops/match';\nimport join       from './src/join';\nimport stats      from './src/stats';\nimport embed      from './src/embed';\nimport toArray    from './src/toarray';\nimport vector     from './src/vector';\n\nimport Plot         from './src/vis/plot';\nimport AreaChart    from './src/vis/area';\nimport Spline       from './src/vis/spline';\nimport ScatterPlot  from './src/vis/circle';\nimport BarChart     from './src/vis/bar';\nimport ColumnChart  from './src/vis/column';\nimport GeoMap       from './src/vis/map';\n\nexport default {\n    pipeline,\n    allocate,\n    arrays,\n    aggregate,\n    derive,\n    match,\n    join,\n    stats,\n    embed,\n    toArray,\n    vector,\n};\n\nexport const vis = {\n    Plot,\n    ScatterPlot,\n    BarChart,\n    AreaChart,\n    Spline,\n    GeoMap,\n    ColumnChart\n}\n","import Plot from './plot';\n\nexport default class ScatterPlot extends Plot {\n   \n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n\n        super.axes();\n\n        this.svg.main.selectAll('.plot-circles')\n            .data(this.data.json)\n            .enter()\n            .append('circle')\n                .attr('class', 'plot-circles')\n                .attr('cx', d => this.scales.x(d[vmap.x]))\n                .attr('cy', d => this.scales.y(d[vmap.y]))\n                .attr('r', d => this.scales.size(d[vmap.size]))\n                .style(\"fill\", d => this.scales.color(d[vmap.color]))\n                .style(\"fill-opacity\", 1)\n                .style(\"stroke-width\", 0)\n    }\n}","import Plot from './plot';\nimport {scaleBand} from 'd3-scale';\nimport {axisLeft} from 'd3-axis';\n\nexport default class BarChart extends Plot {\n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    getDomainY () {\n        let vmap = this.data.vmap;\n\n        let domainY;\n        if (this.domains[vmap.y].length > 2) {\n            domainY = this.domains[vmap.y];\n        } else {\n            domainY = new Array(this.domains[vmap.y][1] - this.domains[vmap.y][0] + 1)\n                .fill(1).map((d, i) => i + this.domains[vmap.y][0]);\n        }\n        return domainY;\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        let domainY = this.getDomainY()\n        this.scales.y = scaleBand().domain(domainY).range([0, this.height]).padding(this.view.space || 0.05);\n        this.domains[vmap.x][0] = 0;\n        this.scales.x.domain(this.domains[vmap.x]);\n        super.axes();\n        this.bars = this.svg.main.selectAll(\".p3-vis-bars\")\n            .data(this.data.json)\n          .enter().append(\"rect\")\n            .attr('class', 'p3-vis-bars')\n            .attr('x', 0)\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", d => this.scales.color(d[vmap.color]))\n            .attr(\"height\", this.scales.y.bandwidth())\n            .attr(\"width\", d => this.scales.x(d[vmap.x || vmap.width]));\n    }\n\n    resize (w, h) {\n        this.yAxis = null\n        super.resize(w, h)\n        let vmap = this.data.vmap;\n        let domainY = this.getDomainY();\n        this.scales.y = scaleBand().domain(domainY).range([0, this.height]).padding(this.view.space || 0.05);\n\n        this.yAxis = axisLeft(this.scales.y).ticks(this.height / 30);\n        this.yAxisSvg\n            .transition().duration(500)\n            .attr('class', 'p3-axis p3-axis-y')\n            .call(this.yAxis);\n\n        this.svg.main.selectAll('.p3-vis-bars')\n            .transition().duration(500)\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", d => this.scales.color(d[vmap.color]))\n            .attr(\"height\", this.scales.y.bandwidth())\n            .attr(\"width\", d => this.scales.x(d[vmap.x || vmap.width]));\n    }\n\n    update (newData, newColor) {\n        // debugger\n        let vmap = this.data.vmap;\n\n        let bars = this.svg.main.selectAll(\".p3-vis-top-bars\")\n            .data(newData, d => d[vmap.y]);\n        \n        bars.exit().remove();\n\n        bars.enter().append(\"rect\")\n            .attr('class', 'p3-vis-top-bars');\n\n        bars.attr('x', 0)\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", newColor)\n            .attr(\"height\", this.scales.y.bandwidth())\n            .attr(\"width\", d => this.scales.x(d[vmap.x || vmap.width]));\n\n    }\n}","import Plot from './plot';\nimport {area, curveBasis, stack} from 'd3-shape';\nimport {schemeCategory10} from 'd3-scale-chromatic';\nimport {scaleOrdinal} from 'd3-scale';\nimport { transition } from 'd3-transition';\n\nexport default class AreaChart extends Plot {\n   \n    constructor(data, view) {\n        super(data, view);\n    }\n\n    resize (w, h) {\n        super.resize(w, h)\n        this.areas\n            .transition().duration(500)\n            .attr('d', this.area)\n        if (this.legend) {\n            this.svg.main.selectAll('.p3-vis-legend').remove()\n            this.createLegend()\n        }\n\n    }\n\n    createLegend () {\n        this.legend = this.svg.main.append('g').attr('class', 'p3-vis-legend');\n        this.series.forEach((sample, di) => {\n            let legendWidth = Math.min(15, this.padding.right/2);\n            let legendPosY = (di) * Math.min(25, this.width / this.series.length);\n\n            this.legend.append('rect')\n                .attr('x', this.width + 20)\n                .attr('y', legendPosY)\n                .attr('width', legendWidth)\n                .attr('height', 6)\n                .style('fill', this.color(sample.key))\n            \n            this.legend.append('text')\n                .attr('x', this.width + 25 + legendWidth)\n                .attr('y', legendPosY + 8)\n                .text(sample.key)\n        })\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        \n        if (Array.isArray(vmap.stack)) {\n            this.series = stack().keys(vmap.stack)(this.data.json);\n        \n            if (typeof this.view.colorMap === 'function') {\n                this.color = this.view.colorMap;\n            }\n            else {\n                this.color = scaleOrdinal(schemeCategory10);\n            }\n            let values = []\n            this.series.forEach(s => {values = values.concat(s)})\n            this.domains[vmap.y] = [0, Math.max(...values.map(d => d[1]))]\n            this.scales.y.domain(this.domains[vmap.y])\n            this.area = area()\n                .curve(curveBasis)\n                    .x(d => this.scales.x(d.data[vmap.x]))\n                    .y0(d => this.scales.y(d[0]))\n                    .y1(d => this.scales.y(d[1]));\n        \n            this.areas = this.svg.main\n                .selectAll('path')\n                .data(this.series, d => {if (d) return (d.key)})\n                .enter()\n                .append('path')\n                    .attr(\"d\", this.area)\n                    .style(\"fill\", d => this.color(d.key))\n                    .style(\"fill-opacity\", vmap.opacity)\n                    .style(\"stroke-width\", 0)\n\n            this.createLegend()\n\n        } else {\n            this.area = area()\n                .curve(curveBasis)\n                .x(d => this.scales.x(d[vmap.x]))\n                .y0(this.height)\n                .y1(d => this.scales.y(d[vmap.y]));\n\n            this.areas = this.svg.main.append(\"path\")\n                .datum(this.data.json)\n                .attr(\"d\", this.area)\n                .style(\"fill\", vmap.color)\n                .style(\"fill-opacity\", vmap.opacity)\n                .style(\"stroke-width\", 0)\n        }\n\n        super.axes();\n        return this\n\n    }\n}","import Plot from './plot';\nimport * as d3Shape from 'd3-shape';\nimport {scaleOrdinal,scalePow} from 'd3-scale';\nimport {schemeCategory10} from 'd3-scale-chromatic';\n// import {select, event} from 'd3-selection';\nimport { transition } from 'd3-transition';\n\nexport default class Spline extends Plot {\n  constructor(data, view) {\n    super(data, view);\n    let curve = view.interpolate || view.curve;\n    if (typeof d3Shape['curve' + curve] === 'function') {\n      this.curve = d3Shape[curve]\n    } else {\n      this.curve = d3Shape.curveCatmullRom\n    }\n  }\n\n  resize (w, h) {\n    super.resize(w, h);\n    this.splines.forEach(spline => {\n      spline.transition().duration(500).attr('d', this.path)\n    })\n    if (this.legend) {\n        this.svg.main.selectAll('.p3-vis-legend').remove()\n        this.createLegend()\n    }\n  }\n\n  render() {\n    let vmap = this.data.vmap;\n    super.axes();\n    this.path = d3Shape.line()\n      .curve(this.curve)\n      .x( d => this.scales.x(d[vmap.x]) )\n\n    if (vmap.y && typeof vmap.y !== 'object') {\n      this.path.y( d => this.scales.y(d[vmap.y]) );\n    }\n\n    let datum = this.data.json;\n    let color = vmap.color;\n \n    let series =  vmap.by || vmap.color;\n    if(this.data.fields.indexOf(series) !== -1) {\n      let result = {}\n      this.data.json.forEach(function(d){\n        if(result.hasOwnProperty(d[series])) {\n          result[d[series]].push(d)\n        } else {\n          result[d[series]] = [d];\n        }\n      })\n      datum = result;\n      if (typeof this.view.colorMap === 'function') {\n        color = this.view.colorMap\n      }\n      else if (this.data.fields.indexOf(vmap.color) !== -1) {\n        color = scaleOrdinal(schemeCategory10);\n      }\n    }\n    this.color = color\n    this.splines = []\n    if(Array.isArray(datum)) {\n      if (vmap.y && typeof vmap.y !== 'object') {\n        this.splines[0] = this.svg.main.append('path')\n          .datum(datum)\n          .attr('d', this.path)\n          .style('fill', 'none')\n          .style('stroke', vmap.color)\n          .style('stroke-width', vmap.size)\n      } else {\n        let domains = vmap.y.columns.map(y => {\n          let values = this.data.json.map(d => d[y]);\n          return {\n            min: Math.min(...values),\n            max: Math.max(...values)\n          };\n        })\n        let min = Math.min(...domains.map(d => d.min));\n        let max = Math.max(...domains.map(d => d.max));\n        if (vmap.y.exponent) {\n          this.scales.y = scalePow().exponent(vmap.y.exponent).range([this.height, 0])\n        }\n        this.scales.y.domain([min, max]);\n        this.yAxis.scale(this.scales.y);\n        this.yAxisSvg.call(this.yAxis);\n        let color = scaleOrdinal(schemeCategory10);\n        vmap.y.columns.forEach((y, yi) => {\n          this.path.y(d => this.scales.y(d[y]));\n          this.splines[yi] = this.svg.main.append('path')\n            .datum(datum)\n            .attr('d', this.path)\n            .style('fill', 'none')\n            .style('stroke-width', vmap.size)\n\n          if (Array.isArray(vmap.y.colors)) {\n            this.splines[yi].style('stroke', vmap.y.colors[yi])\n          } else {\n            if (vmap.y.color === 'columns') {\n              this.splines[yi].style('stroke', color(y))\n            } else {\n              this.splines[yi].style('stroke', vmap.color)\n            }\n          }\n        })\n      }\n    } else if(typeof(datum) == 'object') {\n      let series = Object.keys(datum);\n      series.forEach((sample, di) => {\n        this.splines[di] = this.svg.main.append('path')\n          .datum(datum[sample])\n          .attr('d', this.path)\n          .style('fill', 'none')\n          .style('stroke', color(sample))\n          .style('stroke-width', vmap.size)\n      })\n      this.series = series\n      if (this.data.fields.indexOf(vmap.color) !== -1) {\n        this.createLegend()\n      }\n    }\n  }\n\n  createLegend () {\n    this.legend = this.svg.main.append('g')\n        .attr('class', 'p3-vis-legend');\n\n    this.series.forEach((sample, di) => {\n      let legendWidth = Math.min(15, this.padding.right/2);\n      let legendPosY = (di) * Math.min(25, this.width / this.series.length);\n\n      this.legend.append('rect')\n        .attr('x', this.width + 20)\n        .attr('y', legendPosY)\n        .attr('width', legendWidth)\n        .attr('height', 6)\n        .style('fill', this.color(sample))\n      \n      this.legend.append('text')\n        .attr('x', this.width + 25 + legendWidth)\n        .attr('y', legendPosY + 8)\n        .text(sample)\n\n      // if(di == 0){\n      //    legend.append('text')\n      //       .attr('x', this.width + legendWidth)\n      //       .attr('y', 6)\n      //       .text(vmap.color)\n      // }\n    })\n  }\n  \n}\n","import Plot from './plot';\nimport * as d3Geo from 'd3-geo';\nimport {select, event} from 'd3-selection';\nimport * as topojson from 'topojson-client';\nimport * as d3Chromatic from 'd3-scale-chromatic';\nimport {scalePow} from 'd3-scale';\nimport world from '../../assets/world-110m.json';\nimport countries from '../../assets/countries.json';\nimport {zoom} from 'd3-zoom';\nimport { transition } from 'd3-transition';\nexport default class Map extends Plot {\n  constructor(data, view) {\n    super(data, view);\n    this.feature = data.feature || 'countries';\n    this.scale = data.vmap.scale;\n    this.gis = data.gis || world;\n    this.selectedRegion = null;\n    this.borders = view.borders || true;\n    this.entities = data.entities || countries;\n    this.translate = view.translate || [this.width / 2, this.height / 1.5];\n    this.scale = view.scale || ((view.projection == 'Albers') ? 1 : (this.width) / 2 / Math.PI);\n    this.exponent = view.exponent || 1/3;\n    this.defaultColor = view.defaultColor || '#eee';\n    this.showTip = view.showTip;\n    this.setColor = view.setColor\n    this.enableZoom = view.zoom || false\n    this.projection = d3Geo['geo'+ (view.projection || 'Albers')].call()\n      .scale(this.scale)\n      .translate(this.translate)\n\n    this.path = d3Geo.geoPath()\n      .projection(this.projection);\n\n    this.tooltip = select(this.container).append('div') \n      .attr('class', 'p3-tooltip')\n      .style('position', 'absolute')\n      .style('pointer-events', 'none')\n      .style('opacity', 0);\n\n    this.svg.on('mousedown', () => {\n        this.tooltip.style('opacity', 0);\n    })\n\n    this.zoomLevel = 1\n    this.zoom = zoom()\n      .scaleExtent([1, 12])\n      .on('zoom', () =>  {\n        this.zoomLevel = event.transform.k\n        this.svg.selectAll('path')\n          .attr('transform', event.transform);\n\n        this.svg.selectAll('.map-label')\n          .attr('transform', event.transform);\n      \n        this.svg.selectAll('.map-marker')\n          .attr('transform', event.transform);\n        \n        this.svg.selectAll('circle')\n          .attr('r', d => d._size / event.transform.k)\n          .attr('transform', event.transform)\n          .style(\"stroke-width\", 1 / event.transform.k);\n      });\n\n    if (this.enableZoom) {\n      this.svg.call(this.zoom)\n    }\n\n    this.colorMap = view.colorMap || d3Chromatic.interpolateBlues\n    if (typeof this.colorMap === 'string' && typeof d3Chromatic[this.colorMap] === 'function') {\n      this.colorMap = d3Chromatic[this.colorMap]\n    }\n    if(data.vmap.color && typeof this.setColor !== 'function') {\n      let valueById = {};\n      data.json.forEach( d => {\n        let entity = this.entities.find(c => c[data.join.type || 'code'] === d[data.join.field]);\n        if(entity && entity.id){\n          valueById[entity.id] = typeof(d[data.vmap.color]) === 'string' && d[data.vmap.color].includes(',')\n            ? Number(d[data.vmap.color].replace(/,/g, ''))\n            : Number(d[data.vmap.color])\n          d.pathId = entity.id\n        }\n      })\n      let values = Object.keys(valueById).map(k => valueById[k]).filter(d=>!Number.isNaN(d));\n      let domain = [Math.min(...values), Math.max(...values)]\n      if (data.zero) domain[0] = 0\n      let colorScale = scalePow().exponent(this.exponent).domain(domain).range([0.1, 1]);\n      this.setColor = (d) => {\n        if(valueById[d.id] !== undefined) {\n          return this.colorMap(colorScale(valueById[d.id]))\n        } else {\n          return this.defaultColor\n        }\n      }\n      if(view.color && typeof(view.color.setter) === 'function') {\n        this.setColor = (d) => {\n          return this.color.setter(colorScale(valueById[d.id] || 0))\n        }\n      }\n    }\n  }\n\n  resize (w, h, scale = null, translate = null) {\n    super.resize(w, h);\n    this.translate = translate || [this.width / 2, this.height / 1.5];\n    this.scale = scale || (this.width / 2 / Math.PI);\n    this.projection.scale(this.scale).translate(this.translate);\n\n    this.svg.selectAll('path')\n      .transition().duration(500)\n      .attr('d', this.path);\n  \n    let {vmap} = this.circleProps\n\n    this.svg.main.selectAll('.circles')\n      .transition().duration(500)\n      .attr(\"cx\", d => this.projection([d[vmap.x], d[vmap.y]])[0])\n      .attr(\"cy\", d => this.projection([d[vmap.x], d[vmap.y]])[1])\n\n  }\n\n  setCenter (center) {\n    this.projection.center(center)\n    this.svg.selectAll('path').attr('d', this.path);\n  }\n\n  render() { \n    let self = this    \n    let geoPaths = this.svg.main.selectAll('.geo-paths')\n      .data(topojson.feature(this.gis, this.gis.objects[this.feature]).features)\n      .enter()\n      .append('path')\n        .attr('class', 'geo-paths')\n        .attr('d', this.path)\n        .attr('path-name', d => {\n          let entity = this.entities.find(c => d.id === c.id);\n          if (entity) {\n            return entity.name\n          }\n          if (d.properties && d.properties.name) {\n            return d.properties.name\n          }\n        })\n        .style('fill', this.setColor);\n    \n      if(this.borders) {\n        this.svg.main.append('path')\n          .attr('class', 'geo-borders')\n          .datum(topojson.mesh(this.gis, this.gis.objects[this.feature], function(a, b) { return a !== b; }))\n          .attr('d', this.path)\n          .style('fill', 'none')\n          .style('stroke', this.view.borderColor || 'white')\n          .style('stroke-width', 1)\n          .style('stroke-linejoin', 'round')\n          .style('stroke-linecap', 'round')\n          .style('vector-effect', 'non-scaling-stroke');\n      }\n      if (this.showTip) {\n        geoPaths.on('mouseenter', function () {\n            self.tooltip.transition().duration(300).style('opacity', .9);\n            let item = select(this);\n            if (self.selectedRegion \n              && self.selectedRegion.attr('path-name') === item.attr('path-name')) {\n                return\n            }\n\n            if (typeof self.view.hover === 'object') {\n              Object.keys(self.view.hover).forEach(prop => {\n                item.style(prop, self.view.hover[prop]);\n              });\n            }\n          })\n          .on('mousemove', geoPath => {\n            if (!this.data.json) {\n              return\n            }\n            let region = this.data.json.find(d => d.pathId === geoPath.id)\n            if (region) {\n              if (typeof this.showTip === 'function') {\n                this.tooltip.html(this.showTip(region))  \n              }\n              this.tooltip\n                .style('left', (event.offsetX) + 'px')\n                .style('top', (event.offsetY) + 'px');    \n            } else {\n              this.tooltip.transition().duration(500).style('opacity', 0);\n            }\n          })\n          .on('mouseout', function () {\n            self.tooltip.style('opacity', 0);\n            let item = select(this);\n            if (self.selectedRegion \n                && self.selectedRegion.attr('path-name') === item.attr('path-name')) {\n                  return\n              }\n            item\n              .style('fill', self.setColor)\n              .style('stroke', 'none')\n              .style('stroke-width', 0)\n          });\n      }\n      if (this.view.click) {\n        geoPaths.on('click', function (geoPath) {\n          if (self.selectedRegion !== null) {\n            self.selectedRegion.style('fill', self.setColor)\n          }\n          self.selectedRegion = select(this);\n          Object.keys(self.view.click).forEach(prop => {\n            self.selectedRegion.style(prop, self.view.click[prop]);\n          });\n          if (typeof self.view.click.callback === 'function') {\n            let regionData = self.data.json.find(d => d.pathId === geoPath.id);\n            self.view.click.callback(regionData || {});\n          }\n        })\n      }\n      this.geoRegions = this.geoPaths\n    return this;\n  }\n\n  addLayer({type = 'point', radius = 1.0, data, feature}) {\n    if(type == 'point') {\n      this.path.pointRadius(radius);\n      this.svg.main.append('path')\n        .datum(topojson.feature(data, data.objects[feature]))\n        .attr('d', this.path);\n    }\n  }\n\n  addCircles ({data, vmap = {}, style = {}}) {\n    let self = this\n    let maxRadius = style.maxRadius || Math.min(this.width, this.height) * 0.05;\n    let minRadius = style.minRadius || 5;\n    let radiusValues = data.map(d => d[vmap.size])\n    let radiusDomain = [\n      Math.min(...radiusValues),\n      Math.max(...radiusValues),\n    ]\n   \n    let radiusScale = scalePow()\n      .exponent(this.exponent)\n      .domain(radiusDomain)\n      .range([minRadius, maxRadius]);\n \n    data.forEach(d => {\n      d._size = style.size || radiusScale(d[vmap.size])\n    })\n    this.circleProps = {vmap, style}\n    let circles = this.svg.main.selectAll(\"circle\")\n    .data(data).enter()\n        .append(\"circle\")\n          .attr('class', 'circles')\n          .attr(\"cx\", d => this.projection([d[vmap.x], d[vmap.y]])[0])\n          .attr(\"cy\", d => this.projection([d[vmap.x], d[vmap.y]])[1])\n          .attr(\"r\", d => style.size || radiusScale(d[vmap.size]))\n          .attr(\"fill\", () => style.color || 'red')\n          .attr(\"fill-opacity\", () => style.opacity || 1)\n          .attr(\"stroke\", () => style.stroke || 'none')\n  \n    if (vmap.hover) {\n      circles.on('mouseenter', function () {\n          self.tooltip.style('opacity', .9)\n\n          select(this)\n            .style('stroke', vmap.hover.stroke || 'teal')\n            .style('stroke-width', 3 / self.zoomLevel)\n            .raise();\n        })\n       .on('mousemove', d => {\n        if (typeof vmap.showTip === 'function') {\n          this.tooltip.html(vmap.showTip(d))  \n        }\n        this.tooltip.style('left', (event.offsetX) + 'px')\n          .style('top', (event.offsetY) + 'px');\n        })      \n        .on('mouseout', function () {\n          self.tooltip.style('opacity', 0);\n          select(this).style('stroke', style.stroke || 'black').style('stroke-width', 1 / self.zoomLevel);\n        });\n    }\n    if (typeof vmap.click === 'function') {\n      circles.on('click', d => {return vmap.click(d)})\n    }\n    return circles;\n  }\n\n  selectRegionByName (name, styles = {}) {\n    let region = document.querySelector('.geo-paths[path-name=\"' + name + '\"]');\n    Object.keys(styles).forEach(prop => {\n      region.style[prop] = styles[prop];\n    });\n    this.selectedRegion = select(region);\n    return region;\n  }\n\n  unselectRegion() {\n    if (this.selectedRegion) {\n      this.selectedRegion.style('fill', this.setColor)\n      this.selectedRegion = null;\n    }\n  }\n\n  addMarker ({\n    coordinate,\n    color = 'orange',\n    icon = 'fa fa-map-marker',\n    title\n  }) {\n    let location = this.projection(coordinate);\n    this.svg.main.append('svg:foreignObject')\n      .attr('class', 'map-marker')\n      .attr('x', location[0] - 3)\n      .attr('y', location[1] - 15)\n      .attr('width', 10)\n      .attr('height', 20)\n      .attr('color', color)\n      .attr('text-anchor', 'end')\n      .append('xhtml:body')\n        .html('<i title=\"' + title + '\" class=\"' + icon + '\"></i>');\n  }\n}","import Plot from './plot';\nimport {scaleBand} from 'd3-scale';\nexport default class BarChart extends Plot {\n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        let domainX;\n        if (this.domains[vmap.x].length > 2) {\n            domainX = this.domains[vmap.x];\n        } else {\n            domainX = new Array(this.domains[vmap.x][1] - this.domains[vmap.x][0] + 1).fill(1).map((d, i) => i + this.domains[vmap.x][0]);\n        }\n        this.scales.x = scaleBand().domain(domainX).range([0, this.width]).padding(0.05);\n        super.axes();\n        this.svg.main.selectAll(\".plot-bars\")\n            .data(this.data.json)\n          .enter().append(\"rect\")\n            .attr('class', 'plot-bars')\n            .attr('x', d => this.scales.x(d[vmap.x || vmap.width]))\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", d => this.scales.color(d[vmap.color]))\n            .attr(\"width\", this.scales.x.bandwidth())\n            .attr(\"height\", d => this.height - this.scales.y(d[vmap.y || vmap.height]));\n    }\n\n    update (newData, newColor) {\n        // debugger\n        let vmap = this.data.vmap;\n\n        let bars = this.svg.main.selectAll(\".plot-top-bars\")\n            .data(newData, d => d[vmap.x]);\n        \n        bars.exit().remove();\n\n        bars.enter().append(\"rect\")\n            .attr('class', 'plot-top-bars');\n\n        bars.attr('x', d => this.scales.x(d[vmap.x || vmap.width]))\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", newColor)\n            .attr(\"width\", this.scales.x.bandwidth())\n            .attr(\"height\", d => this.height - this.scales.y(d[vmap.y || vmap.height]));\n\n    }\n}","import { vis } from 'p3.js';\n// import animation from '../src/animate';\nexport default [\n    {\n        name: 'spline',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        compute: true,\n        condition: vmap => vmap.mark === 'spline', \n        type: 'class',\n        function: vis.Spline\n    },\n    {\n        name: 'area',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        condition: vmap => vmap.mark === 'area', \n        type: 'class',\n        function: vis.AreaChart\n    },\n    {\n        name: 'column',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        condition: vmap => vmap.mark === 'column', \n        type: 'class',\n        function: vis.BarChart\n    },\n    // {\n    //     name: 'animate',\n    //     // exportData: true,\n    //     skipDefault: true,\n    //     getContext: true,\n    //     restartOnUpdate: false,\n    //     condition: vmap => vmap.mark === 'circle' && vmap.animate === true, \n    //     function: animation\n    // }\n]\n","export default class Grid {\n    constructor(views) {\n        this.views = views\n    }\n\n    add (view) {\n        this.view.push(view)\n    }\n\n    reset () {\n        this.views.forEach(function(v){\n            if(v.hasOwnProperty('chart')) {\n                v.chart.svg.remove()\n                v.chart.removeAxis()\n                v.chart.removeLegend()\n                delete v.chart\n            }\n        })\n    }\n\n    generateViews ({\n        layout = 'rows',\n        count = 1,\n        width = 640,\n        height = 480,\n        padding = {left: 0, right: 0, top: 0, bottom: 0},\n        gridlines = {x: false, y: false}\n    }) {\n        let views = new Array(count)\n        let calcOffset\n        // height -= padding.top + padding.bottom;\n        // width -= padding.left + padding.right;\n        if (layout == 'rows') {\n            height = height / count\n            calcOffset = (index) => [0, index * height]\n        } else {\n            width = width / count\n            calcOffset = (index) => [index * width, 0]\n        }\n        for (let i = 0; i < count; i++) {\n            let offset = calcOffset(i)\n            views[i] = {width, height, padding, offset, gridlines}\n        }\n        this.views = views;\n        return views;\n    }\n}","import allocate from './allocate';\nimport input from './io/input';\nimport output from './io/output';\nimport initialize from './initialize';\nimport interact from './interact';\nimport control from './control';\nimport pipeline from './pipeline';\nimport operate from './operate';\nimport kernels from './kernels';\nimport extensions from './extensions';\nimport Grid from './grid';\nimport cstore from './cstore';\n\nexport default function p4(options) {\n  let $p = initialize(options);\n  $p.async = options.async || false;\n  $p.views = [];\n  $p.interactions = [];\n  $p.histograms = [];\n  $p.extensions = extensions;\n  $p.responses = {};\n  $p.crossfilters = {};\n  $p.primitives = [];\n  $p.dataSize = 0;\n  $p.rowSize = options.dimX || 4096;\n  $p.deriveMax = options.deriveMax || 4;\n  $p.deriveCount = 0;\n  \n  $p._responseType = 'unselected';\n  $p._update = false;\n  $p._progress = false;\n  $p.skipRender= false;\n\n  $p.getResult = function() {};\n  let api = pipeline($p);\n  api.ctx = $p;\n  api.addModule(control);\n  api.assignMethods(output);\n  // api.addModule(view);\n  // let outputs = output($p)\n  // api.result = outputs.result;\n  api.addOperation('head', function() {\n    api.resume('__init__');\n    if(Object.keys($p.crossfilters).length > 0) api.match({});\n    $p.getResult = $p.getRawData;\n    return api;\n  });\n\n  $p.grid = {views: []};\n  api.view = function(views) {\n    if($p.grid.views.length !== 0) {\n      $p.grid.reset();\n    } \n    $p.grid = new Grid(views);\n    $p.views = $p.grid.views;\n    return api;\n  }\n  api.views = api.view;\n  api.getViews = function () {\n    return $p.views;\n  }\n  api.generateViews = $p.grid.generateViews\n  \n  $p.reset = api.head;\n  $p.exportResult = api.result;\n\n  $p.setInput = function(inputName) {\n    api.resume(inputName);\n    return api;\n  }\n\n  $p.setOutput = function(outputName) {\n    api.register(outputName);\n    // console.log(api.result({outputTag: outputName, format: 'row'}))\n    return api;\n  }\n\n  function configPipeline($p) {\n    $p.extent = kernels.extent($p);\n    // $p.operations = compile($p);\n    let operations = operate($p);\n    api.getOperations = () => Object.keys(operations);\n    for(let optName of Object.keys(operations)) {\n      api.addOperation(optName, operations[optName], true);\n    }\n    \n    for(let ext of $p.extensions) {\n      if(ext.getContext === true) {\n        ext.function = ext.function($p);\n      }\n    }\n    api.register('__init__');\n  }\n  \n  api.data = function(dataOptions) {\n    if (dataOptions.format === 'json') {\n      let columns = cstore({\n          schema: dataOptions.schema,\n          size: dataOptions.values.length\n        })\n        .import({data: dataOptions.values});\n\n      allocate($p, columns.data());\n    } else {\n      allocate($p, dataOptions);\n    }\n    configPipeline($p);\n    $p.getResult = dataOptions.export;\n    $p.cache = api.cache;\n    $p.getRawData = dataOptions.export;\n    $p.match = api.match;\n    return api;\n  }\n\n  api.index = function(indexes) {\n    data.indexes = indexes;\n    return api;\n  }\n\n  let asyncPipeline = {};\n  api.operations = Object.keys(kernels)\n  let asyncInput = function(arg) {\n    let inputReady = false;\n    for(let program of Object.keys(api).concat(Object.keys(kernels))) {\n      asyncPipeline[program] = function(spec) {\n        api.addToQueue(program, spec);\n        return asyncPipeline;\n      }\n    }\n\n    asyncPipeline.execute = function() {\n      return input(arg).then(function(data){\n        if(Array.isArray(arg.indexes)) {\n          data.indexes = arg.indexes;\n        }   \n        api.data(data);\n        api.async(true);\n        api.run();\n        api.async(false);\n        inputReady = true;\n        return new Promise(function(resolve, reject){\n          resolve(api.result('row'))\n          return api;\n        })\n      })\n    }\n\n    asyncPipeline.commit = asyncPipeline.execute;\n\n    if(arg.dimX) $p.rowSize = arg.dimX;\n    return asyncPipeline;\n  }\n\n  api.runJSON = function(jsonSpec) {\n    let inputSpec = jsonSpec[0];\n    if (!inputSpec.hasOwnProperty('input')) {\n      throw Error('Error: No specification for input!');\n    }\n    let asyncPipeline = api.input(inputSpec)\n    jsonSpec.slice(1).forEach(spec => {\n      let opt = Object.keys(spec)[0];\n      asyncPipeline[opt](spec[opt]);\n    })\n\n    return api;\n  }\n\n  api.getResult = function (d) {\n    return $p.getResult(d);\n  }\n\n  api.clearWebGLBuffers = function() {\n    let frameBuffers = ['offScreenFBO', 'visStats', null];\n    frameBuffers.forEach(fb => {\n      $p.bindFramebuffer(fb);\n      $p.ctx.clearColor( 0.0, 0.0, 0.0, 0.0 );\n      $p.ctx.clear( $p.ctx.COLOR_BUFFER_BIT | $p.ctx.DEPTH_BUFFER_BIT );\n    })\n  }\n\n  api.runSpec = function(specs) {\n    api.head();\n    api.clearWebGLBuffers();\n    $p.interactions = [];\n    $p.responses = {};\n    $p.crossfilters = [];\n    $p.uniform.uFilterFlag.data = 0;\n    api.clearQueue();\n    // $p.uniform.uFilterRanges = $p.fieldDomains.concat($p.deriveDomains);\n    specs.forEach(function(spec){\n      let opt = Object.keys(spec)[0];\n      let arg = spec[opt];\n      opt = opt.slice(1); // ignore $ sign \n      if(typeof api[opt] == 'function') {\n        api[opt](arg);\n      }\n    })\n    return api;\n  }\n  \n  api.interact = function(spec) {\n    if(typeof(spec) != 'undefined') $p.interactions.push(spec);\n    $p.interactions.forEach(function(interaction){\n      // console.log(interaction)\n      let callback = interaction.callback || function(selection) {\n        $p.responses = interaction.response;\n        if(!$p._update) {\n          $p._update = true;\n          $p.crossfilters = {};\n          if(typeof selection == 'object') {\n            Object.keys(selection).forEach(function(k) {\n              if(selection[k].length < 2) {\n                if($p.intervals.hasOwnProperty(k)) {\n                  var value = (Array.isArray(selection[k]))\n                    ? selection[k][0]\n                    : selection[k];\n                  selection[k] = [value-$p.intervals[k].interval, value];\n                } \n                // else if(!$p.strLists.hasOwnProperty(k)) {\n                //     selection[k] = [selection[k][0] + selection[k][0] + 1];\n                // }\n              }\n              $p.crossfilters[k] = selection[k];\n            });\n          }\n          $p._responseType = 'unselected';\n          $p.uniform.uFilterLevel.data = 0.2;\n          $p.uniform.uVisLevel.data = 0.1;\n          api.head().run();\n          $p._responseType = 'selected';\n          $p.uniform.uVisLevel.data = 0.2;\n          api.head().run();\n          $p._responseType = 'unselected';\n          $p._update = false;\n          $p.uniform.uFilterLevel.data = 0.1;\n          $p.uniform.uVisLevel.data = 0.1;\n        }\n      }\n      interact($p, {\n        actions: interaction.event,\n        view: interaction.from,\n        condition: interaction.condition,\n        facet: interaction.facet,\n        callback: callback  \n      })\n    })\n  }\n  $p.respond = api.interact;\n  api.replaceData = (newData) => { return api.updateData(newData, false)}\n  api.updateData = function(newData, accumulate = true) {\n    let data;\n    if(newData._p4_cstore_version) {\n      data = newData\n    } else {\n      \n      let cache = cstore({\n        schema: $p.dataSchema,\n        strValues: $p.strValues\n      })\n      cache.addRows(newData)\n      data = cache.data()\n    }\n    //update and combine all strValues\n    Object.keys(data.strValues).forEach((attr) => {\n      $p.strValues[attr] = Object.assign($p.strValues[attr], data.strValues[attr]);\n    })\n\n    if(data.size > 0) {\n      $p.dataSize = data.size;\n    }\n    $p.fields\n    .slice($p.indexes.length)\n    .forEach((attr, ai) => {\n      let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n      for (let i = 0, l = data[attr].length; i < l; i++) {\n        buf[i] = data[attr][i];\n      }\n      $p.texture.tData.update(\n        buf, [0, $p.dataDimension[1] * ai], $p.dataDimension\n      );\n      if (accumulate) {\n        $p.fieldDomains[ai] = [\n          Math.min(data.stats[attr].min, $p.fieldDomains[ai][0]),\n          Math.max(data.stats[attr].max, $p.fieldDomains[ai][1])\n        ]\n      } else {\n        $p.fieldDomains[ai] = [data.stats[attr].min, data.stats[attr].max]\n      }\n      $p.fieldWidths[ai] = $p.fieldDomains[ai][1] - $p.fieldDomains[ai][0] + 1;\n      if(data.strLists.hasOwnProperty(attr)){\n        $p.fieldDomains[ai] = [0, data.strLists[attr].length - 1];\n        $p.strLists[attr] = data.strLists[attr];\n        $p.fieldWidths[ai] = data.strLists[attr].length;\n      }\n    });\n\n    api.updateRegister('__init__', {\n      fieldDomains: $p.fieldDomains,\n      fieldWidths: $p.fieldWidths}\n    )\n    $p.uniform.uFieldDomains.data = $p.fieldDomains;\n    $p.uniform.uFieldWidths.data = $p.fieldWidths;\n    return api;\n  }\n\n  api.updateDataColumn = function(data, attribute) {\n    if($p.fields.indexOf(attribute) === -1) {\n      throw Error('Invalid attribute', attribute);\n    }\n    let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n    let attrId = $p.fields.indexOf(attribute) - $p.indexes.length;\n    for (let i = 0, l = data[attribute].length; i < l; i++) {\n      buf[i] = data[attr][i];\n    }\n    $p.texture.tData.update(\n      buf, [0, $p.dataDimension[1] * attrId], $p.dataDimension\n    );\n  }\n\n  api.updateDataRow = function(data, rowId) {\n    let dataType = (Array.isArray(data)) ? 'array' : 'json';\n    $p.fields.slice($p.indexes.length).forEach((attr, ai) => {\n      let texPosX = rowId % $p.dataDimension[0];\n      let value = (dataType == 'array') ? data[ai] : data[attr];\n      if(value === undefined) throw Error('Cannot update data due to invalid data value');\n      $p.texture.tData.update(\n        new Float32Array(data[ai]), [texPosX, $p.dataDimension[1] * i], [1,1]\n      );\n    });\n    return api;\n  }\n\n  api.extend = function(arg) {\n    let extOptions = Object.assign({\n      restartOnUpdate: true,\n      skipDefault: false,\n      exportData: false,\n      getContext: false,\n    }, arg)\n\n    if(extOptions.name != undefined && \n      (typeof extOptions.function === 'function' \n      || typeof extOptions.constructor === 'function')\n    ) {\n      $p.extensions.push(extOptions);\n    }\n  }\n  api.operations.push('annotate')\n  api.annotate = function ({\n    id = 0,\n    mark = 'rule',\n    color = 'red',\n    size = 1,\n    x = null,\n    y = null,\n    style = {'stroke-dasharray': '5,5'}\n  }) {\n    let view = $p.views[0];\n    if (Number.isInteger(id) && id < $p.views.length) {\n      view = $p.views[id];\n    } else {\n      $p.views.filter(v => v.id == id);\n      if (view.length > 0) {\n        view = view[0];\n      }\n    }\n    \n    let values = x.call(null)\n    values.forEach(val => {\n      let ruler = view.chart.svg.append('line')\n        .attr('stroke', color)\n        .attr('stroke-width', size);\n\n      if (typeof x === 'function') {\n        let getScale = (view.extChart) ? view.extChart.scales.x : view.chart.x;\n        let x = getScale(val);\n        ruler.attr('x1', x).attr('x2', x)\n          .attr('y1', 0)\n          .attr('y2', view.height - view.padding.top - view.padding.bottom);\n\n      } else if (typeof y === 'function') {\n        let getScale = (view.extChart) ? view.extChart.scales.y : view.chart.y;\n        let y = getScale(val);\n        let values = y.call(null)\n        values.forEach(val => {\n          let y = view.chart.y(val);\n          ruler.attr('y1', y).attr('y2', y)\n            .attr('x1', 0).attr('x2', view.width - view.padding.left - view.padding.height);\n        }) \n      }\n\n      Object.keys(style).forEach(prop => {\n        ruler.style(prop, style[prop])\n      })\n\n    })\n\n  }\n\n  let inputDataOptions = options.data || options.input;\n  if ($p.async && inputDataOptions) {\n    return asyncInput(options.data)\n  } else if ($p.async) { //no data option\n    asyncPipeline.data = asyncInput;\n    asyncPipeline.input = asyncInput;\n    return asyncPipeline;\n  } else {\n    return api;\n  }\n}\n","import FlexGL from '../flexgl';\n\nexport default function init({\n    context = null,\n    container = document.body,\n    viewport =  [800, 450],\n    padding = {left:0, right: 0,top: 0, bottom: 0},\n    attributes = {},\n    views\n}){\n    let $p = context;\n    let defaultLayout = [\n        {\n            width: viewport[0],\n            height: viewport[1],\n            // padding: {left: 30, right: 30, top: 30, bottom: 30},\n            offset: [0, 0]\n        }\n    ];\n    if ($p === null) {\n        $p = new FlexGL({\n            container: container,\n            width: viewport[0],\n            height: viewport[1],\n            padding: {left:0, right: 0,top: 0, bottom: 0},\n            attributes: attributes\n        });\n    }\n    $p.container = container;\n    $p.padding = padding;\n    $p.viewport = viewport;\n    $p.views = views || defaultLayout;\n    return $p;\n}\n","export default function pipeline($p) {    \n    let pipeline = {};\n    let async = false;\n    let optID = 0;\n    let queue = [];\n    \n    pipeline.addModule = function(mod) {\n        let newModule = mod($p)\n\n        Object.keys(newModule).forEach(name => {\n            if (typeof(newModule[name]) === 'function') {\n                pipeline[name] = function() {\n                    newModule[name].apply(null, arguments);\n                    return pipeline;\n                }\n            }\n        })\n        return pipeline;\n    }\n\n    pipeline.assignMethods = function(mod) {\n        let newModule = mod($p)\n\n        Object.keys(newModule).forEach(name => {\n            if (typeof(newModule[name]) === 'function') {\n                pipeline[name] = function() {\n                    return newModule[name].apply(null, arguments);\n                }\n            }\n        })\n        return pipeline;\n    }\n\n    pipeline.addToQueue = function (opt, arg) {\n        if(!$p._update && !$p._progress) {\n            let spec = {};\n            spec[opt] = arg;\n            queue.push(spec);\n            return optID++;\n        } else {\n            return -1;\n        }\n    }\n\n    pipeline.addOperation = function(name, operation, overwrite = false) {\n        if(!pipeline.hasOwnProperty(name) || overwrite) {\n            pipeline[name] = function(arg) {\n                if(!async) {\n                    pipeline.addToQueue(name, arg);\n                }\n                let getResult = operation(arg);\n                if(typeof(getResult) === 'function') {\n                    $p.getResult = getResult;\n                }\n                return pipeline;\n            }\n        }   \n    }\n\n    pipeline.clearQueue = function() {\n        queue = [];\n        return pipeline;\n    }\n\n    pipeline.run = function(jobs = queue) {\n        for (let q of jobs) {\n            let opt = Object.keys(q)[0];\n            if(typeof pipeline[opt] === 'function') {\n                pipeline[opt](q[opt]);\n            }\n        }\n        return pipeline;\n    }\n\n    pipeline.queue = function() {\n        return queue;\n    }\n\n    pipeline.async = function(isAsync) {\n        async = isAsync;\n    }\n\n    return pipeline;\n}","\nimport Brush from './vis/brush';\nexport default function interact($p, options) {\n  let viewTags = options.view || [$p.views[0].id];\n\n  if(!Array.isArray(viewTags)) viewTags = [viewTags];\n\n  let actions = options.actions || options.events || [],\n    condition = options.condition || {},\n    facet = options.facet || false,\n    callback = options.callback || function() {};\n\n  if($p._update) return;\n\n  if(!condition.x && !condition.y) {\n    condition.x = condition.y = true;\n  }\n\n  viewTags.forEach(function(viewTag){\n    let vis = $p.views.filter(v=>v.id == viewTag)[0];\n    if(!Array.isArray(actions)) {\n      actions = [actions];\n    }\n\n    if(vis === undefined || !vis.hasOwnProperty('chart')) return;\n\n    let vmap = vis.vmap,\n      p = vis.padding || $p.padding,\n      w = vis.width - p.left - p.right,\n      h = vis.height - p.top - p.bottom;\n    \n    let interactor = vis.chart.svg.append(\"g\")\n      .attr(\"class\", \"selector\")\n\n    if(facet === 'rows') {\n      h = $p.viewport[1] - p.bottom;\n    } else if(facet === 'columns') {\n      w = $p.viewport[0] - p.right;\n    }\n\n    let rect = interactor.append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", w)\n      .attr(\"height\", h)\n      .attr(\"fill-opacity\", 0)\n      .attr(\"stroke\", \"none\");\n\n    let svg = interactor.svg,\n      box = rect.svg.getBoundingClientRect();\n\n    function getSelection(e) {\n      let dx = e.clientX - box.left;\n      let dy = e.clientY - box.top;\n      let selection = {};\n      if(vmap.x) {\n        selection[vmap.x] = [vis.chart.x.invert(dx)];\n      }\n      if(vmap.y) {\n        selection[vmap.y] = [vis.chart.y.invert(h - dy)];\n      }\n      return selection;\n    }\n\n    actions.forEach(function(action){\n      if(action === 'brush') {\n        svg.style.cursor = \"crosshair\";\n        let brushOptions = {\n          container: interactor,\n          width: w,\n          height: h\n        };\n\n        if(!Array.isArray(vmap.x) && !Array.isArray(vmap.y)) {\n          let updateEvent = (condition.lazy) ? 'brushend' : 'brush';\n          brushOptions[updateEvent] = function(d) {\n            let selection = {};\n            if(vmap.x && d.x) selection[vmap.x] = d.x;\n            if(vmap.y && d.y) {\n              if (d.y[0] > d.y[1]) {\n                selection[vmap.y] = d.y.reverse();\n              } else {\n                selection[vmap.y] = d.y;\n              }\n            }\n\n            Object.keys(selection).forEach(k => {\n              if ($p.uniqueValues && $p.uniqueValues.hasOwnProperty(k)) {\n                let values = $p.uniqueValues[k]\n                let start = Math.floor(selection[k][0]);\n                let end = Math.floor(selection[k][1]);\n                if(end === start) start -= 1;\n                selection[k] = [values[start], values[end]];\n              } \n            })\n\n            callback(selection);\n          }\n          if(condition.x && typeof(vis.chart.x.invert) == 'function')\n            brushOptions.x = vis.chart.x.invert;\n\n          if(condition.y && typeof(vis.chart.y.invert) == 'function') {\n            brushOptions.y = (y) => { \n              if(vmap.mark === 'rect') {\n                return vis.chart.y.invert(h-y);\n              }\n              return vis.chart.y.invert(y);\n            } \n          }\n          \n          new Brush(brushOptions);\n        }\n\n        let dims = ['x', 'y'],\n          selections = {};\n\n        dims.forEach(function(dim){\n          if(Array.isArray(vmap[dim]) && Array.isArray(vis.chart[dim])){\n            let axisDist = (dim == 'x') ? h : w,\n              selectors = vis.chart.svg.append('g');\n\n            axisDist =  axisDist / (vmap[dim].length-1);\n\n            vmap[dim].forEach(function(d, i) {\n\n              let axisSelect = selectors.append(\"g\");\n              if(dim == 'x') {\n                brushOptions.height = axisDist * 0.2;\n                axisSelect.translate(0, axisDist * (i - 0.1));\n                brushOptions.brush = function(range) {\n                  selections[d] = range[dim];\n                  callback(selections);\n                }\n              } else {\n                brushOptions.width = axisDist * 0.2;\n                axisSelect.translate(axisDist * (i - 0.1), 0);\n                brushOptions.brush = function(range) {\n                  selections[d] = range[dim].reverse();\n                  callback(selections);\n                }\n              }\n              brushOptions.container = axisSelect;\n              brushOptions[dim] = vis.chart[dim][i].invert;\n\n              new Brush(brushOptions);\n            });\n          }\n        })\n      } else if(action === 'zoom') {\n        vis.updateDomain = true;\n        let delta = {x: null, y: null};\n        let scale = 0.05;\n        svg.onwheel = function(e) {\n          let dir = (e.deltaY > 0) ? 1 : -1;\n          let selection = {};\n          let proportion = {\n            x: (e.clientX - box.left) / box.width,\n            y: 1.0 - (e.clientY - box.top) / box.height\n          }\n\n          for (let dim of ['x', 'y']) {\n            if(condition[dim]) {\n              let attr = vis.vmap[dim];\n              if(delta[dim] === null ){\n                delta[dim] =  scale * (vis.domains[attr][1] - vis.domains[attr][0]);\n              }\n    \n              let domain = vis.domains[attr];\n              let newDomain = [domain[0] - dir * delta[dim] * (proportion[dim]), domain[1] + dir * delta[dim] * (1-proportion[dim])];\n              if(newDomain[1] - newDomain[0] > 1e-9){\n                selection[attr] = newDomain;\n                vis.domains[attr] = newDomain;\n              } else {\n                scale *= 0.5;\n              }\n\n            }\n          }\n          callback(selection);\n        }\n\n      } else if(action == 'pan') {\n        svg.style.cursor = 'move';\n        vis.updateDomain = true;\n        let selection = {};\n        svg.onmousedown = function(e) {\n          let sx = e.clientX;\n          let sy = e.clientY;\n          svg.style.cursor = 'move';\n\n          function onpan(e) {\n            let delta = {\n              x: -(e.clientX - sx) / box.width,\n              y: (e.clientY - sy) / box.height\n            }\n            for (let dim of ['x', 'y']) {\n              if(condition[dim]) {\n                let attr = vis.vmap[dim];\n                let domain = vis.domains[attr];\n                let diff = delta[dim] * (domain[1] - domain[0]);\n                let newDomain = [domain[0] + diff, domain[1] + diff];\n                selection[attr] = newDomain;\n                vis.domains[attr] = newDomain;\n              }\n            }\n            sx = e.clientX;\n            sy = e.clientY;\n            callback(selection);\n          }\n\n          window.addEventListener(\"mousemove\", onpan, false);\n          window.addEventListener(\"mouseup\", function(){\n            svg.style.cursor = 'default';\n            window.removeEventListener(\"mousemove\", onpan, false);\n          }, false);\n\n        }\n\n      } else if(action === 'click') {\n        svg.onclick = function(e) {\n          callback(getSelection(e));\n        }\n      } \n      \n      if(action === 'hover') {\n        svg.onmouseover = function(e) {\n          callback(getSelection(e));\n          svg.onmousemove = function(e) {\n            callback(getSelection(e));\n          }\n\n          // svg.onmouseout = function(e) {\n          //     updatePos(e);\n          //     svg.style.cursor = 'default';\n          //     svg.onmousemove = null;\n          //     svg.onmouseover = null;\n          // }\n        }\n      }\n    })\n  })\n}\n","module.exports = {\n\n  /**\n   * ### config.includeStack\n   *\n   * User configurable property, influences whether stack trace\n   * is included in Assertion error message. Default of false\n   * suppresses stack trace in the error message.\n   *\n   *     chai.config.includeStack = true;  // enable stack on error\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  includeStack: false,\n\n  /**\n   * ### config.showDiff\n   *\n   * User configurable property, influences whether or not\n   * the `showDiff` flag should be included in the thrown\n   * AssertionErrors. `false` will always be `false`; `true`\n   * will be true when the assertion has requested a diff\n   * be shown.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  showDiff: true,\n\n  /**\n   * ### config.truncateThreshold\n   *\n   * User configurable property, sets length threshold for actual and\n   * expected values in assertion errors. If this threshold is exceeded, for\n   * example for large data structures, the value is replaced with something\n   * like `[ Array(3) ]` or `{ Object (prop1, prop2) }`.\n   *\n   * Set it to zero if you want to disable truncating altogether.\n   *\n   * This is especially userful when doing assertions on arrays: having this\n   * set to a reasonable large value makes the failure messages readily\n   * inspectable.\n   *\n   *     chai.config.truncateThreshold = 0;  // disable truncating\n   *\n   * @param {Number}\n   * @api public\n   */\n\n  truncateThreshold: 40,\n\n  /**\n   * ### config.useProxy\n   *\n   * User configurable property, defines if chai will use a Proxy to throw\n   * an error when a non-existent property is read, which protects users\n   * from typos when using property-based assertions.\n   *\n   * Set it to false if you want to disable this feature.\n   *\n   *     chai.config.useProxy = false;  // disable use of Proxy\n   *\n   * This feature is automatically disabled regardless of this config value\n   * in environments that don't support proxies.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  useProxy: true,\n\n  /**\n   * ### config.proxyExcludedKeys\n   *\n   * User configurable property, defines which properties should be ignored\n   * instead of throwing an error if they do not exist on the assertion.\n   * This is only applied if the environment Chai is running in supports proxies and\n   * if the `useProxy` configuration setting is enabled.\n   * By default, `then` and `inspect` will not throw an error if they do not exist on the\n   * assertion object because the `.inspect` property is read by `util.inspect` (for example, when\n   * using `console.log` on the assertion object) and `.then` is necessary for promise type-checking.\n   *\n   *     // By default these keys will not throw an error if they do not exist on the assertion object\n   *     chai.config.proxyExcludedKeys = ['then', 'inspect'];\n   *\n   * @param {Array}\n   * @api public\n   */\n\n  proxyExcludedKeys: ['then', 'catch', 'inspect', 'toJSON']\n};\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import p4 from './src/main';\nimport cstore from './src/cstore';\nimport  * as ctypes  from './src/ctypes';\nimport * as ajax from './src/io/ajax';\nimport parse from './src/io/parse';\n\nimport Babies from './test/data-babies';\nimport TimeSeries from './test/data-timeseries';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\np4.ajax = ajax;\np4.cstore = cstore;\np4.ctypes = ctypes;\np4.parse = parse;\np4.datasets = {Babies, TimeSeries};\n\nroot.p4 = p4;\nexport default root.p4;\nexport const datasets = {Babies, TimeSeries}\n","export var slice = Array.prototype.slice;\n","\nimport {assert} from 'chai';\nimport {normal} from 'jStat';\nimport cstore from '../src/cstore'\nimport * as ctypes from '../src/ctypes'\n\nlet equal = assert.equal;\nlet closeTo = assert.closeTo;\nlet hasAllKeys = assert.hasAllKeys;\nlet normalDist = normal.sample;\n\nexport function boundedRandom(p) {\n    let min = p.min || 0;\n    let max = p.max || p.values.length || 1;\n    let value = min - 1;\n    let rand = (p.dist == 'normal') \n        ? function() { return normalDist(p.mean, p.std); }\n        : function() { return min + (max - min) * Math.random(); }\n    while ( value < min || value > max) {\n        // value = normalDist(p.mean, p.std);\n        value = rand(p);\n    }\n    if(p.hasOwnProperty('values')){\n        value = parseInt(value) ;\n    }\n    return value;\n}\n\nexport function randomColumns(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let db = cstore({});\n    props.forEach(function(prop) {\n        let dtype = p6.ctypes[prop.dtype] || Uint16Array;\n        let tuples = new dtype(size);\n        for(let i = 0; i < size; i++) {\n            tuples[i] = boundedRandom(prop);\n        }\n        db.addColumn({\n            data: tuples,\n            name: prop.name,\n            dtype: prop.dtype || 'string',\n            values: prop.values\n        });\n    })\n    return db;\n}\n\nexport function randomJSONs(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(size);\n    for(let i = 0; i < size; i++) {\n        data[i] = {};\n        props.forEach(function(prop) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                data[i][prop.name] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                data[i][prop.name] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        });\n    }\n    return data;\n}\n\nexport function randomArrays(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(size);\n    for(let i = 0; i < size; i++) {\n        data[i] = [];\n        props.forEach(function(prop, pi) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                data[i][pi] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                data[i][pi] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        });\n    }\n    return data;\n}\n\nexport function randomTypedColumns(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(props.length);\n\n    props.forEach(function(prop, pi) {\n        let column = new ctypes[prop.dtype](size);\n        for(let i = 0; i < size; i++) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                column[i] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                column[i] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        }\n        data[pi] = column;\n    });\n\n    return data;\n}\n\nexport function validate(actual, expected, _delta) {\n    let delta = _delta || 1e-5;\n    let count = actual.length; \n\n    equal(count, actual.length, 'the size of the result should be ' + count);\n\n    for(let i = 0; i < count; i++) {\n        let keys = Object.keys(actual[i]);\n        hasAllKeys(expected[i], keys, 'result should have all the keys');\n        \n        for(let j = 0, l = keys.length; j < l; j++) {\n            if(typeof(actual[i][keys[j]]) == 'number') {\n                closeTo(actual[i][keys[j]], expected[i][keys[j]], expected[i][keys[j]]*delta);\n            } else {\n                equal(actual[i][keys[j]], expected[i][keys[j]]);\n            }\n        }\n    }\n\n}","export default function(data, spec){\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    if(typeof(spec) === \"function\") {\n        data.forEach(spec);\n    } else {\n        var result = [],\n            tranfs = {};\n\n        Object.keys(spec).forEach(function(s){\n            if(typeof(spec[s]) == \"function\") {\n                tranfs[s] = function(d) { d[s] = spec[s](d) };\n            } else {\n                tranfs[s] = Function(\"attr\", \"attr.\" + s + \"=\" + spec[s].replace(/@/g, 'attr.').replace(/\\$/g, '$.') + \";\");\n            }\n        });\n\n        data.forEach(function(d){\n            Object.keys(spec).forEach(function(s){\n                tranfs[s](d);\n            });\n        });\n    }\n\n    return data;\n}\n","var array = {};\nfunction _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if(!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\narray.reduce = function(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\narray.avg = function(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\narray.normalize = function(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a){\n        return (a - min) / range;\n    });\n}\n\narray.seq = function(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for(var i=start; i<=end; i+=interval)\n        array.push(i);\n\n    return array;\n};\n\n[\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n    array[f] = array.reduce(f);\n});\n\narray.sum = array.reduce(\"+\");\n\narray.scan = array.pfsum = function(a){\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\narray.iscan = function(a) {\n    return array.scan([0].concat(a));\n};\n\narray.diff = function(a, b) {\n    var difference = [];\n    a.forEach(function(d){\n        if (b.indexOf(d)===-1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\narray.intersect = function(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function (e) {\n            if (b.indexOf(e) !== -1) return true;\n    });\n};\n\narray.unique = function(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\narray.lcm = function(A) {\n    var n = A.length, a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]), c = a;\n        while (a && b){ (a > b) ? a %= b : b %= a; }\n        a = Math.abs(c*A[i])/(a+b);\n    }\n    return a;\n};\n\narray.stats = function(array){\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\narray.histogram = function(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin+1).fill(0);\n\n    for(var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b/(numBin)), min + range*(b+1)/(numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin-1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0,numBin),\n        // ids: ids\n    };\n}\n\narray.var = function(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a){ return Math.pow(a-m, 2) });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\narray.std = function(rowArray) {\n    return Math.sqrt(array.var(rowArray));\n}\n\nexport default array;\n","import ArrayOpts from './arrays';\n\nexport default function(data, spec, headers){\n    var i,\n        l = data.length,\n        attributes = headers || Object.keys(data[0]),\n        bin,\n        bins = [],\n        binCollection = {},\n        result = [],\n        ks;\n\n    if(!spec.hasOwnProperty('$group') && !spec.hasOwnProperty('$bin')) return result;\n\n    if(typeof spec.$bin == 'object') {\n        var binAttr = Object.keys(spec.$bin)[0],\n            binCount = spec.$bin[binAttr];\n\n        if(attributes.indexOf(binAttr) !== -1) {\n            var column = data.map(function(d){return d[binAttr]}),\n                min = ArrayOpts.min(column),\n                max = ArrayOpts.max(column),\n                binInterval = (max - min) / binCount;\n\n            for(i = 0; i < l; i++){\n                data[i]['bin@' + binAttr] = Math.min(Math.floor(data[i][binAttr]/binInterval), binCount-1);\n            }\n\n            spec.$group = 'bin@' + binAttr;\n            attributes.push('bin@' + binAttr);\n        }\n    }\n\n    for(i = 0; i < l; i++){\n        if(Array.isArray(spec.$group)) {\n            ks = [];\n            spec.$group.forEach(function(si){\n                ks.push(data[i][si]);\n            });\n            bin = JSON.stringify(ks);\n        } else {\n            bin = data[i][spec.$group];\n        }\n        if( bins.indexOf(bin) < 0 ){\n            bins.push(bin);\n            binCollection[bin] = [data[i]];\n        } else {\n            binCollection[bin].push(data[i]);\n        }\n    }\n\n    var bl = bins.length;\n\n    for(i = 0; i < bl; i++){\n        var res = {};\n        if(Array.isArray(spec.$group)) {\n            ks = JSON.parse(bins[i]);\n            spec.$group.forEach(function(s, j){\n                res[s] = ks[j];\n            })\n\n        } else {\n            res[spec.$group] = bins[i];\n        }\n\n        if(spec.$data) {\n            res.data = binCollection[bins[i]];\n        }\n\n        if(spec.$group) {\n            var gkeys = Array.isArray(spec.$group) ? spec.$group : [spec.$group];\n\n            gkeys.forEach(function(gk){\n                if(attributes.indexOf(gk) === -1) {\n                    throw Error('Invalid attribute name: ', gk);\n                }\n            })\n        }\n\n        var out = spec.$collect || spec.$reduce || {};\n        var keys = Object.keys(out).filter(k => ['includes', 'excludes', 'calculate'].indexOf(k) === -1);\n        var outOpt = false;\n        if (out.includes) { \n            var includeKeys = (out.includes === '*') ? Object.keys(data[0]).filter(k => gkeys.indexOf(k) === -1 && keys.indexOf(k) === -1)\n                : out.includes;\n            outOpt = out.calculate || '$sum';\n            keys = keys.concat(includeKeys);\n        }\n        if (Array.isArray(out.excludes)) {\n           keys = keys.filter(attr => out.excludes.indexOf(attr) === -1);\n        }\n\n        if(keys.length === 0 && !spec.$data) return result;\n        keys.forEach(function(key){\n            var attr = key,\n                opt = out[key] || outOpt;\n\n            if(opt === \"$count\" || opt === \"$data\") {\n                attr = key;\n            }\n            if(typeof out[key] === 'object'){\n                opt = Object.keys(out[key])[0];\n                attr = out[key][opt];\n\n                if(attributes.indexOf(attr) === -1 && attr !== \"*\" && !Array.isArray(attr)) {\n                    var warnMsg = \"No matching attribute or operation defined for the new attribute \" + key + \":\" + spec[key];\n                    console.warn(warnMsg);\n                    return;\n                }\n            }\n\n            if(typeof opt === \"function\") {\n                // res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; }).reduce(opt);\n                res[key] = opt.call(null, binCollection[bins[i]].map(function(a){ return a[attr]; }));\n            } else if(typeof opt === \"string\") {\n                if(opt === \"$unique\") {\n                    res[key] = ArrayOpts.unique(binCollection[bins[i]].map(function(a){ return a[key]; }));\n                } else if (opt === \"$list\") {\n                    res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; });\n                } else if (opt === \"$first\") {\n                    res[key] = binCollection[bins[i]][0][attr];\n                } else if (opt === \"$merge\") {\n                    var mergedResult = [];\n                    binCollection[bins[i]].map(function(a){ return a[attr]; }).forEach(function(m){\n                        mergedResult = mergedResult.concat(m);\n                    })\n                    res[key] = mergedResult;\n                } else if (opt === \"$count\") {\n                    res[key] = binCollection[bins[i]].length;\n                } else if (opt === \"$data\") {\n                    var collect = (spec.$collect) ? '$collect' : '$reduce';\n                    res[key] = (spec[collect][key][opt] == '*')\n                        ? binCollection[bins[i]]\n                        : binCollection[bins[i]].map(function(data){\n                            var row = {};\n                            spec[key][opt].forEach(function(k){ row[k] = data[k] });\n                            return row;\n                        });\n                } else {\n                    var fname = opt.slice(1);\n\n                    if(fname in ArrayOpts) {\n                        res[key] = ArrayOpts[fname].call(null, binCollection[bins[i]].map(function(a){\n                            return a[attr];\n                        }));\n                    }\n                }\n            }\n        });\n        result.push(res);\n    }\n\n    return result;\n};\n","export default function match(data, spec) {\n    var indexes = data[0];\n\n    if(!Array.isArray(indexes)) indexes = [];\n\n    return data.filter(function(a){\n        if(_match(a, spec, indexes)) return a;\n    });\n};\n\nfunction _match(obj, spec, indexes){\n    var match,\n        opt,\n        index,\n        sat = true,\n        keys = Object.keys(spec);\n\n    keys.forEach(function(key){\n        if(key === \"$not\") {\n            match = !_match(obj, spec[key], indexes);\n        } else if(key == \"$or\" || key == \"$and\" ) {\n            match = (key == \"$and\");\n            spec[key].forEach(function(s){\n                match = (key == \"$and\") ? match & _match(obj, s, indexes) : match | _match(obj, s, indexes);\n            });\n        } else {\n            index = (indexes.length > 0) ? indexes.indexOf(key) : key;\n\n            if(typeof spec[key] === 'object'){\n                opt = Object.keys(spec[key])[0];\n\n                if(opt[0] == \"$\" && spec[key][opt] instanceof Array){\n                    if(opt == \"$in\" || opt == \"$nin\"){\n                        match = ((opt == \"$nin\") ^ (spec[key][opt].indexOf(obj[index]) > -1));\n                    } else if(opt == \"$inRange\"){\n                        match =(obj[key] >= spec[key][opt][0] & obj[index] <= spec[key][opt][1]);\n                    } else if(opt == \"$ninRange\"){\n                        match =(obj[key] < spec[key][opt][0] | obj[index] > spec[key][opt][1]);\n                    } else if(opt == \"$inDate\"){\n                        match = (spec[key][opt].map(Number).indexOf(+(obj[index])) > -1);\n                    }\n                } else if(spec[key] instanceof Array) {\n                    match =(obj[key] >= spec[key][0] & obj[index] <= spec[key][1]);\n                }\n            } else {\n                if(spec[key][0] === \"$\") {\n                    match = (obj[spec[key].slice(1)] === obj[index]);\n                } else {\n                    match = (spec[key] == obj[index]);\n                }\n            }\n        }\n        sat = sat & match;\n    });\n\n    return sat;\n}\n","import arrayOpts from './arrays.js';\nimport aggregate from './aggregate.js';\nimport match from './match.js';\n\nvar query = {};\nquery.match = match;\nquery.group = aggregate;\n\nquery.indexBy = function(data, id){\n    var indexed = {};\n    data.forEach(function(d){\n        if(!indexed.hasOwnProperty(d[id])){\n            indexed[d[id]] = [ d ];\n        } else {\n            indexed[d[id]].push(d);\n        }\n        delete d[id];\n    });\n    return indexed;\n};\n\n// query.list = function(data, id) {\n//     return data.map(function(d){return d[id];});\n// }\n\nquery.range = function(data, id) {\n    var array = data.map(function(d){return d[id];});\n    return [ arrayOpts.min(array), arrayOpts.max(array) ];\n};\n\nquery.map = function(data, m) {\n    var mf = function(d){return d};\n    if(typeof m === \"string\")\n        mf = function(d){return d[m]};\n    else if(typeof m === \"function\")\n        mf = m;\n\n    return data.map(mf);\n};\n\n// Object.keys(arrayOpts).forEach(function(opt) {\n//     query[opt] = function(data, id) {\n//         var arr = query.map(data, id);\n//         return arrayOpts[opt](arr);\n//     }\n// });\n\n\n\nquery.sortBy = function(data, spec) {\n    function sortArray(a, b, p) {\n        return a[p] > b[p] ? 1 : a[p] < b[p] ? -1 : 0;\n    }\n    return data.sort(function(a, b){\n        var r = 0,\n            i = 0,\n            attributes = Object.keys(spec),\n            al = attributes.length;\n\n        while( r === 0 && i < al ) {\n            r = sortArray(a, b, attributes[i]) * spec[attributes[i]];\n            i++;\n        }\n        return r;\n    })\n};\n\nquery.orderBy = function(c, s, o) {\n    var spec = {};\n    s.forEach(function(ss){\n        spec[ss] = o;\n    });\n    return query.sort(c, spec);\n};\n\nquery.histogram = function(data, spec, max, min) {\n    var result = {};\n    for(var key in spec) {\n        result[key] = arrayOpts.histogram(data.map(function(d){return d[key]}), spec[key], max, min);\n    }\n    return result;\n};\n\nquery.binAggregate = function(data, spec) {\n    var attrKey = Object.keys(spec)[0],\n        attributes = Object.keys(spec).filter(function(k) { return k != \"$data\" && k!=attrKey;}) || [],\n        embedData = spec.$data || false,\n        numBin = spec[attrKey],\n        array = data.map(function(d){ return d[attrKey]; }),\n        l = array.length,\n        min = arrayOpts.min(array),\n        max = arrayOpts.max(array),\n        range = max - min,\n        interval = range / numBin,\n        bins = [];\n\n\n    for(var b = 0; b < numBin; b++) {\n        bins[b] = {binID: b, rangeBegin: min + range * (b/(numBin)), rangeEnd: min + range*(b+1)/(numBin), count: 0};\n        // if(embedData)\n            bins[b].data = [];\n        // attributes.forEach(function(attr){\n        //     bins[b][attr] = 0;\n        // })\n    }\n\n    // bins[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        if(binID == numBin) binID--;\n        data[i].binID = binID;\n        // if(embedData)\n            bins[binID].data.push(data[i]);\n        // bins[binID].count++;\n        // attributes.forEach(function(attr){\n        //     bins[binID][attr] += data[i][attr];\n        // });\n    }\n\n    spec.$by = \"binID\";\n    delete spec[attrKey];\n\n    var result = query.group(data, spec);\n    result = query.indexBy(result, \"binID\");\n\n\n    // result.forEach(function(r){\n    //     r.rangeBegin = bins[r.binID].rangeBegin;\n    //     r.rangeEnd = bins[r.binID].rangeEnd;\n    // })\n\n    bins.forEach(function(bin){\n\n        if(result.hasOwnProperty(bin.binID)) {\n            attributes.forEach(function(attr){\n                bin[attr] = result[bin.binID][0][attr];\n            });\n            if(embedData) bin.data = result[bin.binID][0].data;\n        } else {\n            attributes.forEach(function(attr){\n                bin[attr] = 0;\n            });\n        }\n\n    })\n    // console.log(bins);\n    // return result;\n    return bins;\n}\n\nquery.partition = function(data, numPart) {\n    var len = data.length,\n        p = Math.ceil(len / numPart),\n        pid,\n        partitions = [];\n\n    for(var b = 0; b < numPart; b++) {\n        partitions[b] = {partition: b, data: [], count: 0};\n    }\n\n    for(var i = 0; i < len; i++) {\n        pid = Math.floor(i / p);\n        partitions[pid].data.push(data[i]);\n        partitions[pid].count++;\n    }\n\n    return partitions;\n}\n\nquery.partitionBy = function(data, spec) {\n    var len = data.length,\n        pid,\n        partitions = [],\n        key = Object.keys(spec)[0],\n        parts = spec[key];\n\n    parts.forEach(function(b, bi) {\n        partitions[bi] = {partition: bi, data: [], count: 0, name: b};\n    })\n\n    for(var i = 0; i < len; i++) {\n        pid = parts.indexOf(data[i][key]);\n        if(pid>-1){\n            partitions[pid].data.push(data[i]);\n            partitions[pid].count++;\n        }\n    }\n    return partitions;\n}\n\nquery.normalize = function(data, fields) {\n    var hash = {};\n\n    fields.forEach(function(f){\n        var array = data.map(function(d){ return d[f]; });\n        hash[f] = arrayOpts.normalize(array);\n    });\n\n    data.forEach(function(d, i){\n        fields.forEach(function(f){\n            d[f] = hash[f][i];\n        });\n    });\n\n    return data;\n}\n\nquery.toColumnArray = function(data) {\n    var columnArray = [];\n        attributes = Object.keys(data[0]).filter(function(k) { return k; });\n\n    attributes.forEach(function(attr){\n        columnArray.push(data.map(function(d){return d[attr];}));\n    });\n\n    columnArray.fields = attributes;\n\n    attributes.forEach(function(attr, ai){\n        columnArray[attr] = columnArray[ai];\n    });\n\n    return columnArray;\n}\n\nexport default query;\n","import array from './ops/arrays';\n\nfunction stats(data, fields){\n\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = {\n            min: array.min(a),\n            max: array.max(a),\n            avg: array.avg(a),\n            std: array.std(a)\n        };\n    });\n\n    return result;\n};\n\n\nstats.domains = function(data, fields) {\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = [ array.min(a), array.max(a) ];\n    });\n\n    return result;\n}\n\nexport default stats;\n","function vectorAdd(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nfunction vectorSum(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result = vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nfunction vectorAvg(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result =  _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n\nexport default {\n    add: vectorAdd,\n    sum: vectorSum,\n    avg: vectorAvg\n}","import pipeline   from './src/pipeline';\nimport allocate   from './src/allocate';\nimport arrays     from './src/ops/arrays';\nimport aggregate  from './src/ops/aggregate';\nimport derive     from './src/ops/derive';\nimport match      from './src/ops/match';\nimport join       from './src/join';\nimport stats      from './src/stats';\nimport embed      from './src/embed';\nimport toArray    from './src/toarray';\nimport vector     from './src/vector';\n\nimport Plot         from './src/vis/plot';\nimport AreaChart    from './src/vis/area';\nimport Spline       from './src/vis/spline';\nimport ScatterPlot  from './src/vis/circle';\nimport BarChart     from './src/vis/bar';\nimport ColumnChart  from './src/vis/column';\nimport GeoMap       from './src/vis/map';\n\nexport default {\n    pipeline,\n    allocate,\n    arrays,\n    aggregate,\n    derive,\n    match,\n    join,\n    stats,\n    embed,\n    toArray,\n    vector,\n};\n\nexport const vis = {\n    Plot,\n    ScatterPlot,\n    BarChart,\n    AreaChart,\n    Spline,\n    GeoMap,\n    ColumnChart\n}\n","import derive from './ops/derive';\nimport queries from './ops/query';\nimport aggregate from './ops/aggregate';\nimport match from './ops/match';\n\nexport default function pipeline (data){\n    var queue = [],\n        cache = {},\n        opt = {},\n        workers = [],\n        completed = 0,\n        result = [],\n        callback = function() {};\n\n    if(Array.isArray(data)) {\n        result = data;\n    }\n\n    opt.derive = derive;\n    opt.match = match;\n    opt.aggregate = aggregate;\n\n    Object.keys(queries).forEach(function(f) {\n        opt[f] = queries[f];\n    });\n\n    opt.cache = function(data, tag){\n        cache[tag] = pipeline.result();\n    };\n\n    opt.map = function(f){\n        result = data.map(f);\n        return pipeline;\n    };\n\n    var merge = {\n        aggregate: function (lastJob) {\n            var mergeSpec = {};\n            for(var key in lastJob.aggregate) {\n                var optSpec = lastJob.aggregate[key];\n                if(typeof optSpec == 'object')\n                    mergeSpec[key] = Object.keys(optSpec)[0];\n                else\n                    mergeSpec[key] = optSpec;\n            }\n            return opt.aggregate(finalResult, mergeSpec);\n        }\n    }\n\n    var finalResult = [];\n\n    function mergeResult(workerResult) {\n        var rl = finalResult.length,\n            wl = workerResult.length;\n        for(var i = 0; i < wl; i++) {\n            finalResult[rl+i] = workerResult[i];\n        }\n        completed += 1;\n\n        if(completed == workers.length) {\n            var lastJob = queue[queue.length-1],\n                lastJobOpt = Object.keys(lastJob)[0];\n            if( lastJobOpt == 'aggregate') {\n                finalResult = merge.aggregate(lastJob);\n            }\n            callback(finalResult);\n        }\n    }\n\n    var pipeline = {};\n\n    // pipeline.opt = opt;\n    Object.keys(opt).forEach(function(o){\n        pipeline[o] = function(spec) {\n            var task = {};\n            task[o] = spec;\n            queue.push(task);\n            return pipeline;\n        };\n    })\n\n    pipeline.then = function(_callback) {\n        callback = _callback;\n        queue.forEach(function(q){\n            var f = Object.keys(q)[0];\n            result = opt[f](result, q[f]);\n        });\n        return result;\n    }\n\n    pipeline.execute = function(data) {\n        if(Array.isArray(data)) result = data;\n        queue.forEach(function(q){\n            var f = Object.keys(q)[0];\n            result = opt[f](result, q[f]);\n        });\n        return result;\n    }\n\n    pipeline.oncomplete = pipeline.then;\n\n    pipeline.result = function() {\n        return result;\n    };\n\n    pipeline.data = function(data) {\n        result = data;\n        return pipeline\n    }\n\n    pipeline.queue = function() {\n        return queue;\n    }\n\n    pipeline.runSpec = function(specs) {\n        specs.forEach(function(spec){\n            let opt = Object.keys(spec)[0];\n            pipeline[opt.replace('$', '')](spec[opt])\n        })\n        return pipeline.execute();\n    }\n\n    return pipeline;\n}\n","/**\n * alloc(options) - allocating memory for storing data values in different schemaures.\n * @exports allocate\n * @param {Object} options - Options for allocating memory.\n * @param {Array} options.array - Array containing the data values.\n * @param {Array} options.fields - Fields in the data.\n * @param {number} [options.skip=0] - Number of rows to be skiped in data.\n * @param {object[]} [options.data] - default data\n *\n */\nexport default function allocate(options) {\n    'use strict';\n    var array = options.array || [],\n        header = options.fields || options.header || array[0],\n        types = options.types || [],\n        schema = options.schema || undefined,\n        skip = options.skip || 0,\n        data = options.data || [];\n\n    var ds = {},\n        parsers = [];\n\n    if (types.length && typeof(types) == 'string') {\n        var ta = [];\n        for (var i = 0; i < header.length; i++) {\n            ta.push(types);\n        }\n        types = ta;\n    }\n\n    if (typeof schema == 'object') {\n        header = Object.keys(schema);\n        types = Object.keys(schema).map(function(h) {\n            return schema[h];\n        });\n    }\n\n    if (typeof skip == 'number') {\n        for (var j = 0; j < skip; j++)\n            array.shift();\n    }\n\n    types.forEach(function(t) {\n        parsers.push(getParser(t));\n    })\n\n    function getParser(type) {\n        if (type == 'int' || type.match('veci*')) {\n            return function(value) {\n                var res = parseInt(value);\n                return (isNaN(res)) ? 0 : res;\n            };\n        } else if (type == 'float' || type.match('vecf*')) {\n            return function(value) {\n                var res = parseFloat(value);\n                return (isNaN(res)) ? 0 : res;\n            };\n        } else if (['date', 'time', 'datetime'].indexOf(type) != -1) {\n            return function(value) {\n                return new Date(value);\n            };\n        } else if (['money', 'price', 'cost'].indexOf(type) != -1) {\n            return function(value) {\n                return parseFloat(value.substring(1));\n            };\n        } else {\n            return function(value) {\n                return value.trim();\n            };\n        }\n    }\n\n    ds.insertRows = function(rows) {\n        array = array.concat(rows);\n    }\n    \n    /**\n    * @method objectArray\n    * @return {Object[]} - Return data as array of objects\n    */\n    ds.objectArray = function() {\n        if (typeof(header) !== 'undefined' && header.length) {\n            var l = header.length;\n            return array.map(a => {\n                var o = {},\n                    offset = 0;\n                for (var i = 0; i < l; i++) {\n                    var k = header[i];\n                    if (k.length) {\n                        if (types[i].match(/^(veci|vecf)\\d+$/)) {\n                            var vl = parseInt(types[i].slice(4)),\n                                vector = [];\n                            a.slice(offset, offset + vl).forEach(function(vi) {\n                                vector.push(parsers[i](vi));\n                            });\n                            o[k] = vector;\n                            offset += vl;\n                        } else {\n                            o[k] = parsers[i](a[offset]);\n                            offset++;\n                        }\n                    }\n                }\n                return o;\n            });\n        }\n        return [];\n    }\n\n    /**\n    * @method rowArray\n    * @return {Array[]} - data as row arrays\n    */\n    ds.rowArray = function() {\n        array.forEach(function(a) {\n            var row = [];\n            header.forEach(function(k, i) {\n                if (k.length) {\n                    row.push(parsers[i](a[i]));\n                }\n            });\n            data.push(row);\n        });\n        data.fields = header;\n        data.schema = 'rowArray';\n        return data;\n    }\n\n    /**\n    * @method collumArray\n    * @return {Array[]} - data as column arrays\n    */\n    ds.columnArray = function() {\n        header.forEach(function(k, i) {\n            var column = array.map(function(a) {\n                return parsers[i](a[i]);\n            });\n            data.push(column);\n        });\n        data.fields = header;\n        data.schema = 'columnArray';\n        return data;\n    }\n    //TODO: make columnArray extensible like rowArray and objectArray\n\n    return ds;\n};\n","export default function join(dataLeft, dataRight) {\n    var len = dataLeft.length,\n        keyL = Object.keys(dataLeft[0]),\n        keyR = Object.keys(dataRight[0]);\n        \n    var keys = keyR.filter(function(kr){ return (keyL.indexOf(kr) === -1);});\n\n    keys.forEach(function(k){\n        for(var i = 0; i < len; i++) {\n            dataLeft[i][k] = dataRight[i][k];    \n        }\n    });\n\n    return dataLeft;\n}\n","export default function embed(spec) {\n    var id = spec.$id || spec.$by,\n        attributes = Object.keys(spec);\n\n    if(!id) throw Error(\"No id specified for embed!\");\n\n    attributes.filter(function(attr){\n        return (attr != \"$by\" && attr != \"$id\")\n    })\n    .forEach(function(attr){\n        var embedKey = spec[attr][0][id],\n            i = 0,\n            n = data.length,\n            l = spec[attr].length;\n\n        var lookup = data.map(function(d){ d[attr] = []; return d[id];});\n\n        for(i = 0; i < l; i++) {\n            var index = lookup.indexOf(spec[attr][i][id]);\n            if(index !== -1) {\n                data[index][attr].push(spec[attr][i]);\n            }\n            // delete spec[attr][i][id];\n        }\n    });\n    return data;\n}\n","export default function toArray(data, arg){\n    var options = arg || {},\n        fields = options.fields || Object.keys(data[0]) || [],\n        format = options.format || 'row';\n\n    if(format == 'row') {\n        return data.map(function(d){\n            var row = new Array(fields.length);\n            fields.forEach(function(f, i){\n                row[i] = d[f];\n            });\n            return row;\n        });\n    } else {\n        return fields.map(function(f){\n            return data.map(function(d){ return d[f]; })\n        })\n    }\n}\n","let formats = {\n  text: 'text',\n  array: 'array',\n  json: 'json'\n}\n\nexport default class FileLoader {\n\n  constructor({\n    file,\n    skip = 0,\n    chunk = 64 * 1024,\n    delimiter = ','\n  }) {\n    if (typeof (file) === 'undefined') {\n      throw Error('No file provided for FileLoader.')\n    }\n    this.file = file\n    this.fileSize = file.size\n    this.reader = new FileReader()\n    this.skip = skip\n    this.chunk = chunk\n    this.delimiter = delimiter\n    this.reset()\n  }\n\n  static get format() {\n    return formats\n  }\n\n  reset() {\n    this.offset = 0\n    this.lineTotal = 0\n    this.leftOver = ''\n  }\n\n  parseDataSchema(rows) {\n    let delimiter = rows[0].match(/(\\,|\\:|\\t|\\s{2,})/g)[0] || ','\n    let header = rows[0].split(delimiter)\n    let values = rows[1].split(delimiter)\n    let schema = header.map((f, i) => {\n      return {\n        name: f,\n        dtype: Number.isNaN(Number(values[i])) ? 'string' : 'int'\n      }\n    })\n    this.delimiter = delimiter\n    for (let rid = 1; rid < rows.length; rid++) {\n      let values = rows[rid].split(delimiter)\n      for (let fid = 0; fid < header.length; fid++) {\n        let value = values[fid]\n        if (schema[fid].dtype === 'int' && parseInt(value) !== parseFloat(value)) {\n          schema[fid].dtype = 'float'\n        }\n      }\n    }\n    return schema\n  }\n\n  errorHandler(evt) {\n    switch (evt.target.error.code) {\n      case evt.target.error.NOT_FOUND_ERR:\n        throw Error('File Not Found!', evt.target.error)\n\n      case evt.target.error.NOT_READABLE_ERR:\n        throw Error('File is not readable', evt.target.error)\n      case evt.target.error.ABORT_ERR:\n        throw Error('Aborted', evt.target.error)\n      default:\n        throw Error('An error occurred reading this file.', evt.target.error)\n    };\n  }\n\n  getSchema() {\n    this.reader.readAsBinaryString(this.file.slice(0, this.chunk / 16));\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          let schema = this.parseDataSchema(lines.slice(0, 10))\n          console.log('The schema is', schema)\n          resolve(schema)\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt))\n      }\n    })\n  }\n\n  read(format) {\n    this.reader.readAsBinaryString(this.file.slice(this.offset, Math.min(this.file.size, this.offset + this.chunk)));\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          this.leftOver = lines.pop()\n          this.offset += this.chunk\n          let results\n          if (format == FileLoader.format.text) {\n            results = lines\n          } else {\n            results = lines.map((line) => line.split(this.delimiter))\n          }\n          resolve(results)\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt))\n      }\n    })\n  }\n\n  readAll(onprocess) {\n    if (typeof onprocess !== 'function') {\n      throw Error('undefined function specified for reading file content')\n    }\n    this.reader.readAsBinaryString(this.file.slice(this.offset, this.offset + this.chunk))\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          this.leftOver = lines.pop()\n\n          if (this.offset == 0 && this.skip > 0) {\n            if (this.skip > 0) lines.shift()\n          }\n\n          onprocess(lines.map((line) => line.split(this.delimiter)))\n          this.lineTotal += lines.length\n\n          if (this.offset < this.file.size) {\n            this.offset += this.chunk\n            this.reader.readAsBinaryString(this.file.slice(this.offset, this.offset + this.chunk));\n          } else {\n            resolve(this.lineTotal)\n          }\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt));\n      }\n    })\n  }\n}\n","import p4 from 'p4';\nimport p3 from 'p3';\nimport FileLoader from './FileLoader';\nimport Transpiler from './Transpiler';\n\nconst PROGRESS_MODES = ['automatic', 'semi-automatic', 'manual'];\nconst INPUT_METHODS = ['http', 'file', 'websocket'];\nconst OPERATIONS = ['aggregate', 'derive', 'match', 'visualize', 'in', 'out'];\n\npv.cstore = p4.cstore\npv.datasets = p4.datasets\n\nexport default function pv(arg) {\n  let p4x = p4(Object.assign({preserveDrawingBuffer: true}, arg));\n  let pv = {}\n  let dataSchema;\n  let dataSource;\n  let fetchData;\n  let progressStep = 0;\n  let jobs = [];\n  let dataSize = 0;\n  let progressedSize = 0;\n  let inProgress = false;\n  let batchProcessing;\n  let progression;\n  let crossViewProc = [];\n  let inputType = 'array'\n  let profiling = arg.profiling || false\n  let profile = {\n    LoadTime: 0,\n    ProcTime: 0,\n    AccuTime: 0\n  }\n  let strValues = null;\n\n  let onEach = () => {}\n\n  let interactionData = [];\n\n  pv.batchSize = 0;\n  pv.pipeline = p4x;\n  pv.mode = arg.mode || PROGRESS_MODES[2];\n  pv.data = function(arg) {p4x.data(arg); return pv};\n\n  pv.view = function(arg) {p4x.view(arg); return pv};\n\n  pv.runSpec = p4x.runSpec;\n  pv.input = function({\n    method = 'file',\n    type = 'csv',\n    delimiter = ',',\n    source,\n    batchSize,\n    schema\n  }) {\n    dataSchema = schema;\n    pv.batchSize = batchSize;\n    \n    if(method == 'file') {\n      dataSource = new FileLoader({\n        file: source,\n        chunk: batchSize,\n        delimiter\n      })\n      dataSize = source.size;\n      if (dataSchema === undefined) {\n        fetchData = () => {\n          return new Promise( (resolve, reject) => {\n            dataSource.getSchema().then( schema => {\n              dataSchema = schema;\n              return dataSource.read('json');\n            })\n            .then(res => {\n              resolve(res)\n            })\n            .catch(err => {\n              reject(err)\n            })\n          });\n        };\n      } else {\n        fetchData = () => {\n          return dataSource.read('json')\n        };\n      }\n\n    } else if (method == 'memory') {\n      fetchData = () => {\n        return new Promise( (resolve, reject) => {\n          resolve(source(batchSize))\n        });\n      };\n    } else {\n      inputType = 'json'\n      fetchData = () => {\n        return new Promise( (resolve, reject) => {\n          p4.ajax.get({\n            url: source + '?nrows=' + batchSize,\n            dataType: 'json'\n          })\n          .then((res) => {\n            dataSchema = res.schema;\n            resolve(res.data);\n          })\n          .catch((err) =>  {\n            reject(err);\n          })\n        })\n      };\n    }\n  \n    return pv;\n  }\n\n  for(let ops of OPERATIONS) {\n    pv[ops] = function(arg) {\n      let job = {};\n      job[ops] = arg;\n      jobs.push(job);\n      return pv;\n    }\n  }\n\n  pv.transpile = function(spec) {\n    let tplr = new Transpiler(p4x.ctx.fields)\n    return tplr.transpile(spec)\n  }\n\n  pv.compile = function(specs) {\n    let jobs = [];\n    if(Array.isArray(specs)) {\n      specs.forEach(function(spec){\n        let job = {};\n        let opt = Object.keys(spec)[0];\n        let arg = spec[opt];\n        if (opt[0] === '$'){\n          opt = opt.slice(1); // ignore $ sign \n        }\n        if(typeof pv[opt] == 'function') {\n          job[opt] = arg;\n        }\n        jobs.push(job);\n      })\n    }\n    return jobs;\n  }\n\n  pv.jobs = function() {\n    return jobs; \n  }\n\n  pv.jobsToPipeline = function(jobs) {\n    let pipeline = [];\n    Object.keys(jobs).forEach(opt => {\n      let task = {};\n      task[opt] = jobs[opt];\n      if(opt == 'aggregate' && jobs.out) {\n        task[opt].out = jobs.out;\n      }\n      pipeline.push(task);\n    })\n    return pipeline;\n  }\n\n  pv.batch = function(jobs) {\n    let batches = [];\n    jobs.forEach(jobs => {\n      let opts = pv.jobsToPipeline(jobs)\n      batches.push(opts);\n    })\n    batchProcessing = batches.map(batch => {\n      return pv.compile(pv.transpile(batch));\n    });\n    // console.log(batchProcessing);\n    return pv;\n  }\n\n  pv.update = function(newData, specs) {\n    p4x.ctx._progress = true;\n    p4x.head();\n    p4x.updateData(newData);\n    p4x.run(pv.compile(pv.transpile(specs)));\n    return pv;\n  }\n\n  pv.progress = function(specs) {\n    progression = pv.compile(specs);\n    return pv;\n  }\n\n  pv.prepareData = function(data) {\n\n    let cache = p4.cstore((strValues !== null) ? {strValues} : {})\n    cache.import({\n      data: data.slice(1),\n      schema: dataSchema,\n      type: inputType\n    });\n    let cdata = cache.data()\n    if (strValues === null) {\n      strValues = cdata.strValues;\n    }\n    return cdata;\n  }\n\n  pv.onEach = function(f) {\n    onEach = f;\n    return pv;\n  }\n  pv.onComplete = function() {}\n\n  pv.autoProgress = function() {\n    pv.next().then(function(status){\n      if (!status.done) {\n        requestAnimationFrame(pv.autoProgress);\n      }\n    });\n  }\n\n  pv.start = function() {\n    requestAnimationFrame(pv.autoProgress);\n    return pv;\n  }\n\n  pv.next = function(callback) {\n    if(typeof(callback) === 'function') {\n      onEach = callback;\n    }\n\n    progressStep++;\n    progressedSize += pv.batchSize;\n    // let done = (progressedSize >= dataSize ) ? true : false;\n\n    let status =  {\n        count: progressStep,\n        completed: progressedSize,\n        // percentage: progressedSize / dataSize\n    }\n\n    // if (done) {\n    //     return new Promise((resolve, reject) => { resolve(status) })\n    // }\n\n    return new Promise((resolve, reject) => {\n      fetchData().then(data => {\n        let loadStart = performance.now();\n        let inputData;\n        if(data._p4_cstore_version) {\n          inputData = data;\n        } else {\n          inputData = pv.prepareData(data);\n        }\n        profile.LoadTime = performance.now() - loadStart;\n        let processStart = performance.now()\n        if(progressStep == 1) {\n          p4x.data(inputData);\n        } else {\n          p4x.ctx._progress = true;\n          p4x.head();\n          p4x.updateData(inputData);\n        }\n\n        if(batchProcessing.length) {\n          batchProcessing.forEach(pp => {\n            p4x.head().run(pp);\n          })\n        }\n\n        if(crossViewProc.length) {\n          crossViewProc.forEach(pp => {\n            p4x.head().run(pv.jobsToPipeline(pp.jobs));\n            pp.result = p4x.result({outputTag: pp.jobs.out}).filter(d=>d.count !== 0)\n          })\n        }\n\n        p4x.run(progression);\n        profile.ProcTime = performance.now() - loadStart;\n        profile.AccuTime += profile.ProcTime;\n        // console.log(profile)\n        resolve(status);\n        onEach(status, profile);\n      })\n    })\n  }\n\n  pv.mergedPipeline = function(p1, p2) {\n    let props = Object.keys(p1).concat(Object.keys(p2))\n    .filter(prop => prop !== 'out')\n    .reduce(function(b, c) {\n      if (b.indexOf(c) < 0) b.push(c);\n      return b;\n    }, [])\n    .sort()\n    .reverse();\n\n    let merged = {};\n    props.forEach(prop => {\n      merged[prop] = Object.assign({}, p1[prop], p2[prop]);\n      if (typeof p1[prop].$group === 'string' && typeof p2[prop].$group === 'string') {\n        merged[prop].$group = [p1[prop].$group, p2[prop].$group];\n      }\n    })\n\n    return merged;\n  }\n\n  pv.setup = (jsonSpecs) => {\n    jsonSpecs.forEach((spec) => {\n      let opt = Object.keys(spec)[0]\n      if (typeof(pv[opt]) === 'function') {\n        pv[opt](spec[opt]);\n      }\n    })\n    return pv;\n  }\n\n  pv.runSpec = (jsonSpecs) => {\n    pv.setup(jsonSpecs);\n    pv.next();\n  }\n\n  pv.interact = function(interactions) {\n    interactions.forEach(interaction => {\n      let spec = interaction;\n\n      p4x.interact(interaction);\n      let connection = {\n        sourceView: spec.from,\n        targetViews: Object.keys(spec.response)\n      }\n\n      let sourceProc = progression.find(p => {\n        let key = Object.keys(p)[0];\n      \n        return p[key].id === connection.sourceView;\n      })\n\n      let sourcePipeline = {};\n      \n      batchProcessing.find(pipeline => {\n        let out = pipeline.find(p => p.out)\n        return out.out === sourceProc.visualize.in\n      })\n      .forEach(p => Object.assign(sourcePipeline, p))\n\n      batchProcessing.filter(p => p.out && p.out ==='')\n\n      connection.targetViews.forEach(tv => {\n        let vmap = progression.find(p => {\n          let key = Object.keys(p)[0];\n          return p[key].id === tv;\n        }).visualize\n\n        let targetPipeline = {}\n        \n        batchProcessing.find(pipeline => {\n          let out = pipeline.find(p => p.out)\n          return out.out === vmap.in\n        })\n        .forEach(p => Object.assign(targetPipeline, p));\n        // console.log(targetPipeline);\n \n        let interProc = pv.mergedPipeline(sourcePipeline, targetPipeline);\n        interProc.out = ['interResult', connection.sourceView, tv].join('-');\n        crossViewProc.push({\n          jobs: interProc,\n          result: [],\n          sourceView: connection.sourceView,\n          targetView: tv\n        })\n      })\n      // console.log(crossViewProc)\n\n      spec.callback = (selection) => {\n        let selectedAttrs = Object.keys(selection);\n\n        if (interaction.condition) {\n          if (interaction.condition.hasOwnProperty('x') && !interaction.condition.x) {\n            selectedAttrs.shift();\n          }\n          if (interaction.condition.hasOwnProperty('y') && !interaction.condition.y) {\n            selectedAttrs.pop();\n          }\n        }\n        // let interactionStart = performance.now();\n        let connections = crossViewProc.filter(p => p.sourceView === connection.sourceView);\n        connections.forEach(conn => {\n          let view = p4x.getViews().find(v => v.id === conn.targetView);\n          \n          let matches = conn.result.filter(d => {\n            let validate = true;\n            selectedAttrs.forEach(attr => {\n              if (selection[attr].length === 1) {\n                validate = validate && (d[attr] === parseInt(selection[attr][0]));\n              } else {\n               \n                validate = validate && (d[attr] > selection[attr][0] && d[attr] < selection[attr][1]);\n              }\n            })\n            return validate;\n          })\n\n          if(matches.length) {\n            let result = p3.pipeline().aggregate({\n              $group: view.vmap.x,\n              $collect: {\n                count: {$sum: 'count'}\n              }\n            })\n            .execute(matches);\n\n            if(result.length) {\n              let updateData = result.sort((a,b) => {\n                if (a[view.vmap.x] <  b[view.vmap.x]) return -1;\n                if (a[view.vmap.x] >  b[view.vmap.x]) return 1;\n                return 0;\n              });\n              view.plot.update(updateData, interaction.response[view.id].selected.color)\n            }\n          }         \n        })\n      }\n    })\n\n    pv.getProfile = function() {\n      return profile;\n    }\n\n    return pv\n  }\n\n  return pv;\n}","import pv from './src/main';\nimport Transpiler from './src/Transpiler';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\npv.Transpiler = Transpiler;\nroot.pv = pv;\n\nexport default pv;\n\nif(typeof module != 'undefined' && module.exports)\n    module.exports = pv;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var config = require('../config');\n\n/*!\n * Chai - isProxyEnabled helper\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .isProxyEnabled()\n *\n * Helper function to check if Chai's proxy protection feature is enabled. If\n * proxies are unsupported or disabled via the user's Chai config, then return\n * false. Otherwise, return true.\n *\n * @namespace Utils\n * @name isProxyEnabled\n */\n\nmodule.exports = function isProxyEnabled() {\n  return config.useProxy &&\n    typeof Proxy !== 'undefined' &&\n    typeof Reflect !== 'undefined';\n};\n","var fnLengthDesc = Object.getOwnPropertyDescriptor(function () {}, 'length');\n\n/*!\n * Chai - addLengthGuard utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .addLengthGuard(fn, assertionName, isChainable)\n *\n * Define `length` as a getter on the given uninvoked method assertion. The\n * getter acts as a guard against chaining `length` directly off of an uninvoked\n * method assertion, which is a problem because it references `function`'s\n * built-in `length` property instead of Chai's `length` assertion. When the\n * getter catches the user making this mistake, it throws an error with a\n * helpful message.\n *\n * There are two ways in which this mistake can be made. The first way is by\n * chaining the `length` assertion directly off of an uninvoked chainable\n * method. In this case, Chai suggests that the user use `lengthOf` instead. The\n * second way is by chaining the `length` assertion directly off of an uninvoked\n * non-chainable method. Non-chainable methods must be invoked prior to\n * chaining. In this case, Chai suggests that the user consult the docs for the\n * given assertion.\n *\n * If the `length` property of functions is unconfigurable, then return `fn`\n * without modification.\n *\n * Note that in ES6, the function's `length` property is configurable, so once\n * support for legacy environments is dropped, Chai's `length` property can\n * replace the built-in function's `length` property, and this length guard will\n * no longer be necessary. In the mean time, maintaining consistency across all\n * environments is the priority.\n *\n * @param {Function} fn\n * @param {String} assertionName\n * @param {Boolean} isChainable\n * @namespace Utils\n * @name addLengthGuard\n */\n\nmodule.exports = function addLengthGuard (fn, assertionName, isChainable) {\n  if (!fnLengthDesc.configurable) return fn;\n\n  Object.defineProperty(fn, 'length', {\n    get: function () {\n      if (isChainable) {\n        throw Error('Invalid Chai property: ' + assertionName + '.length. Due' +\n          ' to a compatibility issue, \"length\" cannot directly follow \"' +\n          assertionName + '\". Use \"' + assertionName + '.lengthOf\" instead.');\n      }\n\n      throw Error('Invalid Chai property: ' + assertionName + '.length. See' +\n        ' docs for proper usage of \"' + assertionName + '\".');\n    }\n  });\n\n  return fn;\n};\n","var config = require('../config');\nvar flag = require('./flag');\nvar getProperties = require('./getProperties');\nvar isProxyEnabled = require('./isProxyEnabled');\n\n/*!\n * Chai - proxify utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .proxify(object)\n *\n * Return a proxy of given object that throws an error when a non-existent\n * property is read. By default, the root cause is assumed to be a misspelled\n * property, and thus an attempt is made to offer a reasonable suggestion from\n * the list of existing properties. However, if a nonChainableMethodName is\n * provided, then the root cause is instead a failure to invoke a non-chainable\n * method prior to reading the non-existent property.\n *\n * If proxies are unsupported or disabled via the user's Chai config, then\n * return object without modification.\n *\n * @param {Object} obj\n * @param {String} nonChainableMethodName\n * @namespace Utils\n * @name proxify\n */\n\nvar builtins = ['__flags', '__methods', '_obj', 'assert'];\n\nmodule.exports = function proxify(obj, nonChainableMethodName) {\n  if (!isProxyEnabled()) return obj;\n\n  return new Proxy(obj, {\n    get: function proxyGetter(target, property) {\n      // This check is here because we should not throw errors on Symbol properties\n      // such as `Symbol.toStringTag`.\n      // The values for which an error should be thrown can be configured using\n      // the `config.proxyExcludedKeys` setting.\n      if (typeof property === 'string' &&\n          config.proxyExcludedKeys.indexOf(property) === -1 &&\n          !Reflect.has(target, property)) {\n        // Special message for invalid property access of non-chainable methods.\n        if (nonChainableMethodName) {\n          throw Error('Invalid Chai property: ' + nonChainableMethodName + '.' +\n            property + '. See docs for proper usage of \"' +\n            nonChainableMethodName + '\".');\n        }\n\n        // If the property is reasonably close to an existing Chai property,\n        // suggest that property to the user. Only suggest properties with a\n        // distance less than 4.\n        var suggestion = null;\n        var suggestionDistance = 4;\n        getProperties(target).forEach(function(prop) {\n          if (\n            !Object.prototype.hasOwnProperty(prop) &&\n            builtins.indexOf(prop) === -1\n          ) {\n            var dist = stringDistanceCapped(\n              property,\n              prop,\n              suggestionDistance\n            );\n            if (dist < suggestionDistance) {\n              suggestion = prop;\n              suggestionDistance = dist;\n            }\n          }\n        });\n\n        if (suggestion !== null) {\n          throw Error('Invalid Chai property: ' + property +\n            '. Did you mean \"' + suggestion + '\"?');\n        } else {\n          throw Error('Invalid Chai property: ' + property);\n        }\n      }\n\n      // Use this proxy getter as the starting point for removing implementation\n      // frames from the stack trace of a failed assertion. For property\n      // assertions, this prevents the proxy getter from showing up in the stack\n      // trace since it's invoked before the property getter. For method and\n      // chainable method assertions, this flag will end up getting changed to\n      // the method wrapper, which is good since this frame will no longer be in\n      // the stack once the method is invoked. Note that Chai builtin assertion\n      // properties such as `__flags` are skipped since this is only meant to\n      // capture the starting point of an assertion. This step is also skipped\n      // if the `lockSsfi` flag is set, thus indicating that this assertion is\n      // being called from within another assertion. In that case, the `ssfi`\n      // flag is already set to the outer assertion's starting point.\n      if (builtins.indexOf(property) === -1 && !flag(target, 'lockSsfi')) {\n        flag(target, 'ssfi', proxyGetter);\n      }\n\n      return Reflect.get(target, property);\n    }\n  });\n};\n\n/**\n * # stringDistanceCapped(strA, strB, cap)\n * Return the Levenshtein distance between two strings, but no more than cap.\n * @param {string} strA\n * @param {string} strB\n * @param {number} number\n * @return {number} min(string distance between strA and strB, cap)\n * @api private\n */\n\nfunction stringDistanceCapped(strA, strB, cap) {\n  if (Math.abs(strA.length - strB.length) >= cap) {\n    return cap;\n  }\n\n  var memo = [];\n  // `memo` is a two-dimensional array containing distances.\n  // memo[i][j] is the distance between strA.slice(0, i) and\n  // strB.slice(0, j).\n  for (var i = 0; i <= strA.length; i++) {\n    memo[i] = Array(strB.length + 1).fill(0);\n    memo[i][0] = i;\n  }\n  for (var j = 0; j < strB.length; j++) {\n    memo[0][j] = j;\n  }\n\n  for (var i = 1; i <= strA.length; i++) {\n    var ch = strA.charCodeAt(i - 1);\n    for (var j = 1; j <= strB.length; j++) {\n      if (Math.abs(i - j) >= cap) {\n        memo[i][j] = cap;\n        continue;\n      }\n      memo[i][j] = Math.min(\n        memo[i - 1][j] + 1,\n        memo[i][j - 1] + 1,\n        memo[i - 1][j - 1] +\n          (ch === strB.charCodeAt(j - 1) ? 0 : 1)\n      );\n    }\n  }\n\n  return memo[strA.length][strB.length];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export function request(arg) {\n    var url = arg.url || arg,\n        method = arg.method || \"GET\",\n        dataType = arg.dataType || \"json\",\n        data = arg.data || [],\n        query = [];  //arraybuffer, blob, document, json, text\n\n    for (var key in data) {\n        query.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n    }\n\n    return new Promise(function(resolve, reject) {\n\n        var req = new XMLHttpRequest();\n        req.open(method, url);\n        req.responseType = dataType;\n\n        req.onload = function() {\n          if (req.status == 200) {\n            resolve(req.response);\n          }\n          else {\n            reject(Error(req.statusText));\n          }\n        };\n\n        req.onerror = function() {\n          reject(Error(\"Network Error\"));\n        };\n\n        if (method == 'POST') {\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        }\n\n        req.send(data);\n    });\n};\n\nexport let get = request;\n\nexport function getAll(options) {\n    var promises = [];\n    options.forEach(function(option){\n        promises.push(\n            request(option)\n            .then(function(result){\n                return new Promise(function(resolve, reject) {\n                    resolve(result);\n                });\n            })\n        );\n    });\n\n    return Promise.all(promises);\n}\n\nexport function post(arg) {\n    arg.method = \"POST\";\n    return ajax.request(arg);\n};\n","export default function parse(text, delimiter) {\n    \"use strict\";\n    var size = text.length,\n        accum = 0,\n        i, //index for starting of a line\n        row,\n        rows = [],\n        fields = [],\n        lens = [],\n        EOL = false;\n\n    while(accum < size) {\n        i = accum, EOL = false;\n        row = loadLine(text, delimiter.charCodeAt(0), i);\n        rows.push(row.fields);\n        accum += row.size;\n    }\n    return rows;\n}\n\nfunction loadLine(text, delimiterCode, initPos) {\n    // if(typeof(initPos) === 'undefined') initPos = 0;\n    var EOL = false,\n        QUOTE = false,\n        c = initPos, //current pos\n        code, //code at c\n        f = initPos, // start pos of current field\n        q, //start pos of quote\n        fields = [],\n        L = text.length;\n\n    while(!EOL){\n        code = text.charCodeAt(c);\n        if(code === 10 || c>=L){\n            EOL = true;\n            // if(text.charCodeAt(c+1) === 13) ++c;\n            fields.push( text.slice(f, c) );\n        } else {\n            if(code === delimiterCode && !QUOTE) {\n                // console.log(f,c, text.slice(f, c));\n                var field = text.slice(f, c);\n                fields.push( field );\n                f = c+1;\n            } else if(code === 34){\n                if(QUOTE){\n                    if(text.charCodeAt(c+1) === delimiterCode){\n                        QUOTE = false;\n                        fields.push(text.slice(q, c));\n                        f = c+2;\n                        c++;\n                    }\n                } else {\n                    q = c+1;\n                    QUOTE = true;\n                }\n            }\n        }\n        c++;\n    }\n    return { fields: fields, size: c-initPos };\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n"," \nexport default class Transpiler {\n  constructor(attributes, categories) {\n   this.attributes = attributes\n  }\n\n  transpile (rules) {\n    let spec = []\n    for (let rule of rules) {\n      let opt = Object.keys(rule)[0]\n      if(opt == '$aggregate') {\n        spec.push({$aggregate: this.aggregate(rule[opt])})\n      // } else if(opt == '$visualize') {\n      //   spec.push({$visualize: this.visualize(rule[opt])})\n      } else {\n        spec.push(Object.assign({}, rule))\n      }\n    }\n    return spec\n  }\n\n  aggregate (rule) {\n    let includes = rule.$include || this.attributes\n    let excludes = rule.$exclude || []\n    let calculates = rule.$calculate || []\n    let fields = includes.filter(attr => excludes.indexOf(attr) === -1)\n    let collection = {}\n\n    for (let opt of calculates) {\n      if (opt === 'count') {\n        collection['count'] = {$count: '*'}\n      } else {\n        fields.forEach( field => {\n          let metric = [opt, field].join('.');\n          collection[metric] = {}\n          collection[metric]['$'+opt] = field\n        })\n      }\n    }\n    return Object.assign({$collect: collection}, rule)\n  }\n\n  visualize (rule) {\n    let facets = rule.facets || rule.facet\n\n    if (facets === undefined) return rule\n\n    let rows = facets.rows || facets.row\n    let columns = facets.columns || facets.column\n    let spec = rows || columns\n\n    let encodings = Object.keys(rule).filter(k => k !== 'facets')\n\n    let variables = Object.keys(spec)\n\n    let minLoopCount = Math.min(...variables.map(v => spec[v].length))\n\n    let vmaps = new Array(minLoopCount)\n    for(let i = 0; i < minLoopCount; i++) {\n      let vmap = {}\n      encodings.forEach(code => {\n        let vi = variables.indexOf(rule[code])\n        if(vi < 0) {\n          vmap[code] = rule[code]     \n        } else {\n          vmap[code] = spec[variables[vi]][i]\n        }\n      })\n      vmaps[i] = vmap\n    }\n    vmaps.facets = facets\n    vmaps.order = facets.order\n    vmaps.sortBy = facets.sortBy\n    return vmaps\n  }\n}\n","import adder from \"./adder.js\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnolis\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder.js\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360) % 360, except that we want\n// the distance between 180 to be 360.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder.js\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy) {\n  function transform(x, y) {\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k, (dy - y) / k];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [ai * x - bi * y + ci, fi - bi * x - ai * y];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960500. The projection also works quite well at 960600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, // clip extent\n      postclip = identity,\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n    },\n    postclip: function(_) {\n      return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    },\n    fitWidth: function(width, object) {\n      return fitWidth(projection, width, object);\n    },\n    fitHeight: function(height, object) {\n      return fitHeight(projection, height, object);\n    }\n  };\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n","module.exports = require('./lib/chai');\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function Uniform(glContext, name, type, data) {\n\n    var uniform = (this instanceof Uniform) ? this : {},\n        ctx = glContext;\n\n    function serializeArray(arrayOfArray) {\n        var sa = [];\n        arrayOfArray.forEach(function(a){\n            sa = sa.concat(a);\n        })\n        return sa;\n    }\n\n    function sanitize(data) {\n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray.length > 0) {\n               return serializeArray(data);\n            } else {\n                return data;\n            }\n        } else {\n            return data\n        }\n    }\n\n    function setUniform() {\n        var type = this.type,\n            location = this.location,\n            size = this.size,\n            data = this.data;\n            \n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray)\n                data = serializeArray(data);\n        }\n\n        if((type == 'float' || type == 'int') && !Array.isArray(data) && !ArrayBuffer.isView(data))\n            data = [data];\n\n        var buf;\n        if (type.slice(0,3) == 'vec' || type == 'float') {\n            buf = new Float32Array(data);\n            ctx['uniform' + size + 'fv'](location, buf);\n        } else if(type.slice(0,4) == 'ivec' || type == 'int'){\n            buf = new Int32Array(data);\n            ctx['uniform' + size + 'iv'](location, buf);\n        } else if(type.slice(0,3) == 'mat') {\n            buf = new Float32Array(data);\n            ctx['uniformMatrix' + size + 'fv'](location, false, buf);\n        } else if(type == 'sampler2D') {\n            if(data.hasOwnProperty('resourceType') && data.resourceType == 'texture') {\n                ctx.activeTexture(ctx.TEXTURE0 + data.index);\n                ctx.bindTexture(ctx.TEXTURE_2D, data.ptr);\n                ctx.uniform1i(location, data.index);\n            }\n        }\n    }\n\n    uniform.create = function(name, type, data) {\n\n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray.length > 0) {\n                data = serializeArray(data);\n            }\n        }\n\n        uniform[name] = {\n            type: type,\n            name: name,\n            data: data,\n            location: null,\n            size: parseInt(type.slice(3,4)) || parseInt(type.slice(4,5)) || 1\n        };\n\n        uniform[name].link = function(program) {\n            if(typeof this.data !== 'undefined' && this.data !== null) {\n                this.location = ctx.getUniformLocation(program, this.name);\n                setUniform.call(this);\n            }\n            return this;\n        };\n\n        uniform[name].value = function(val) {\n           this.data = sanitize(val);\n        }\n\n        uniform[name].load = function(data) {\n            this.data = data;\n            return this;\n        };\n\n        uniform[name].header = function() {\n            var header = 'uniform ' + this.type + ' ' + this.name,\n                len = 0;\n            \n            if(this.type != 'sampler2D') {\n                len = this.data.length / this.size;\n            }\n\n            //TODO: fix declaration for matrix\n            if(len > 1 && type != 'mat4') {\n                header += '[' + len + ']';\n            }\n            return header + ';\\n';\n        };\n\n        return uniform[name];\n    }\n\n\n    return uniform;\n}\n","export default function Attribute(glContext) {\n    \n    var attribute = (this instanceof Attribute) ? this : {},\n        ctx = glContext,\n        attributeID = 0;\n\n    function setAttribute(name, data) {\n        if(Array.isArray(data) || ArrayBuffer.isView(data)){\n            if(!ArrayBuffer.isView(data)) {\n                data = new Float32Array(data);\n            }\n            attribute[name].data = data;\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, attribute[name].ptr);\n            ctx.bufferData(ctx.ARRAY_BUFFER, data, ctx.STATIC_DRAW);\n        }\n    }\n    attribute.create = function(name, type, data) {\n        attribute[name] = {\n            name: name,\n            type: type || 'float',\n            data: null,\n            location: attributeID++,\n            ptr: ctx.createBuffer(),\n            size: parseInt(type.slice(3,4)) || 1\n        };\n\n        if(data !== null && data.length) setAttribute(name, data);\n\n        attribute[name].link = function(program) {\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, this.ptr);\n            this.location = ctx.getAttribLocation(program, this.name);\n            ctx.vertexAttribPointer(this.location, this.size, ctx.FLOAT, false, 0, 0);\n            ctx.enableVertexAttribArray(this.location);\n            return this;\n        }\n\n        attribute[name].load = function(arrayBuffer) {\n            setAttribute(this.name, arrayBuffer);\n            return this;\n        }\n\n        attribute[name].header = function() {\n            return 'attribute ' + this.type + ' ' + this.name + ';\\n';\n        }\n\n        attribute[name].update = function(offset, data) {\n            if(!ArrayBuffer.isView(data)) {\n                data = new Float32Array(data);\n            }\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, this.ptr);\n            ctx.bufferSubData(ctx.ARRAY_BUFFER, offset, data);   \n        }\n\n        attribute[name].delete = function() {\n            ctx.deleteBuffer(this.ptr);\n        }\n\n        return attribute[name];\n    };\n\n    return attribute;\n}\n","import Uniform from \"./uniform\";\n\nexport default function Texture(glContext) {\n\n    var texture = (this instanceof Texture) ? this : {},\n        ctx = glContext,\n        textureID = 0;\n\n    function setTexture(name, texData) {\n        var type = ctx[texture[name].type.toUpperCase()],\n            format = ctx[texture[name].channel.toUpperCase()],\n            width = texture[name].dim[0],\n            height = texture[name].dim[1];\n\n        texture[name].data = texData;\n\n        ctx.bindTexture(ctx.TEXTURE_2D, texture[name].ptr);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, format, width, height, 0, format, type, texData);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.NEAREST);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.NEAREST);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_S, ctx.CLAMP_TO_EDGE);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_T, ctx.CLAMP_TO_EDGE);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n    }\n\n    function updateTexture(name, texData, offset = [0, 0], dim = [texture[name].dim[0], texture[name].dim[1]] ) {\n        var type = ctx[texture[name].type.toUpperCase()],\n            format = ctx[texture[name].channel.toUpperCase()],\n            width = dim[0],\n            height = dim[1];\n\n        ctx.bindTexture(ctx.TEXTURE_2D, texture[name].ptr);\n        ctx.texSubImage2D(ctx.TEXTURE_2D, 0, offset[0], offset[1], width, height, format, type, texData);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n    }\n\n    // TODO: Add support for texture compression\n    // function compressTexture(texData) {\n    //\n    //     var ext = (\n    //       ctx.getExtension(\"WEBGL_compressed_texture_s3tc\") ||\n    //       ctx.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\") ||\n    //       ctx.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\")\n    //     );\n    //\n    //     ctx.compressedTexImage2D(ctx.TEXTURE_2D, 0, ext.COMPRESSED_RGBA_S3TC_DXT3_EXT, texture[name].dim[0], texture[name].dim[1], 0, texData);\n    //     ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.LINEAR);\n    //     ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.LINEAR);\n    // }\n\n    texture.create = function(name, type, dim, channel, data, sampler) {\n        var texIndex = (texture.hasOwnProperty(name)) ? texture[name].index : textureID++;\n        texture[name] = {\n            name: name,\n            index: texIndex,\n            type: type || \"float\",\n            dim: dim || [512, 512],\n            channel: channel || \"alpha\",\n            data: null,\n            location: null,\n            sampler: sampler || null,\n            ptr: ctx.createTexture()\n        };\n\n        // if(data !== null && data.length)\n        setTexture(name, data);\n\n        if (texture[name].sampler === null) {\n            texture[name].sampler = Uniform(ctx).create(name, 'sampler2D', texture[name]);\n        } else {\n            texture[name].sampler.data = texture[name];\n        }\n\n        texture[name].link = function(program) {\n            if (this.data !== null) {\n                // ctx.activeTexture(ctx.TEXTURE0 + this.index);\n                // ctx.bindTexture(ctx.TEXTURE_2D, this.ptr);\n                // this.location = ctx.getUniformLocation(program, this.name);\n                // ctx.uniform1i(this.location, this.index);\n                if (typeof(this.sampler.data) == 'undefined' || this.sampler.data === null)\n                    this.sampler.data = texture[name];\n\n                this.sampler.link(program);\n            }\n            return this;\n        }\n\n        texture[name].load = function(texData) {\n            setTexture(this.name, texData);\n            return this;\n        }\n\n        texture[name].copyFromFBO = function() {\n            ctx.bindTexture(ctx.TEXTURE_2D, this.ptr);\n            ctx.copyTexImage2D(\n                ctx.TEXTURE_2D,\n                0,\n                ctx.RGBA,\n                0,\n                0,\n                this.dim[0],\n                this.dim[1],\n                0\n            );\n            ctx.bindTexture(ctx.TEXTURE_2D, null);\n        }\n\n        texture[name].update = function(texData, offset, dim) {\n            updateTexture(this.name, texData, offset, dim);\n            return this;\n        }\n\n        texture[name].resize = function(dim, data) {\n            this.dim = dim;\n            setTexture(this.name, data);\n        }\n\n        texture[name].delete = function() {\n            glContext.deleteTexture(this.ptr);\n        }\n\n        texture[name].header = function() {\n            if (this.name == this.sampler.name)\n                return 'uniform sampler2D ' + this.sampler.name + ';\\n';\n            else\n                return '';\n        }\n\n        return texture[name];\n    }\n\n    return texture;\n}\n","export default function Varying(glContext) {\n\n    var varying = (this instanceof Varying) ? this : {},\n        ctx = glContext;\n\n    varying.create = function(name, type, size) {\n        varying[name] = {\n            name: name,\n            type: type || 'float',\n            size: size || 1,\n        };\n\n        varying[name].link = function() {};\n\n        varying[name].header = function() {\n            var header = 'varying ' + this.type + ' ' + this.name;\n            if(this.size > 1)\n                header += '[' + this.size + ']';\n            return header + ';\\n';\n        }\n\n        return varying[name];\n    }\n\n    return varying;\n}\n","export default function Subroutine() {\n\n    var subroutine = (this instanceof Subroutine) ? this : {};\n\n    subroutine.create = function(name, type, fn) {\n        subroutine[name] = {\n            name: name,\n            type: type || 'float',\n            fn: fn,\n            resourceType: \"subroutine\"\n        };\n\n        subroutine[name].link = function(program) {\n            return this;\n        }\n\n        subroutine[name].load = function(fn) {\n            subroutine[name].fn = fn;\n            return this;\n        }\n\n        subroutine[name].header = function() {\n            return this.fn.toString();\n        }\n\n        return subroutine[name];\n    };\n\n    return subroutine;\n}\n","import Uniform from './uniform';\nimport Attribute from './attribute';\nimport Texture from './texture';\nimport Varying from './varying';\nimport Subroutine from './subroutine';\n\nexport default function Resource(glContext) {\n    var resource = (this instanceof Resource) ? this : {},\n        gpuResources = {};\n\n    resource.uniform = new Uniform(glContext);\n    resource.attribute = new Attribute(glContext);\n    resource.texture = new Texture(glContext);\n    resource.varying = new Varying(glContext);\n    resource.subroutine = new Subroutine();\n\n    var resourceTypes = ['uniform', 'attribute', 'texture', 'varying', 'subroutine'];\n\n    resource.allocate = function(type, props) {\n        if (resourceTypes.indexOf(type) === -1) {\n            throw Error(\"Error: Invalid resource type: \" + type);\n        }\n        var res = resource[type].create.apply(null, Array.prototype.slice.call(arguments, 1));\n        res.resourceType = type;\n        gpuResources[res.name] = res;\n        if (!gpuResources.hasOwnProperty(res.name)) {\n            Object.defineProperty(gpuResources, res.name, {\n                get: function() {\n                    return gpuResources[res.name];\n                },\n                set: function(data) {\n                    gpuResources[res.name].load(data);\n                }\n            });\n        }\n        return res;\n    };\n\n    resource.link = function(program, resources) {\n        var requiredResources = (Array.isArray(resources)) ? resources : Object.keys(gpuResources);\n        requiredResources.forEach(function(resourceName) {\n            if (gpuResources.hasOwnProperty(resourceName))\n                gpuResources[resourceName].link(program);\n        })\n    };\n\n    resource.get = function(name) {\n        return gpuResources[name];\n    }\n\n    resource.create = resource.allocate;\n\n    return resource;\n};\n","export default function Shader(glContext, glResource) {\n    \n    var shader = (this instanceof Shader) ? this : {},\n        ctx = glContext,\n        resource = glResource,\n        parameters = ctx._dict || {};\n\n    shader.vertex = {};\n    shader.fragment = {};\n\n    var shaderType = {\n        vertex: ctx.VERTEX_SHADER,\n        fragment: ctx.FRAGMENT_SHADER\n    };\n\n    // Convert JS functions to GLSL codes\n    function toGLSL(returnType, name, fn){\n\n        var glsl = returnType + ' ' +\n            name + '(' + applyEnvParameters(fn.toString())\n            .replace(\n                /var\\s+([\\w|\\d]+)\\s*=\\s*new\\s+([\\w|\\d]+)\\((.*)\\)/g,\n                function(expr, name, dtype, value){\n                    var parts;\n                    if(value)\n                        parts = [dtype.toLowerCase(), name, '=', value];\n                    else\n                        parts = [dtype.toLowerCase(), name];\n\n                    return parts.join(' ')\n                }\n            )\n            .replace(/for\\s*\\(\\s*var\\s+/g, 'for(int ')\n            .replace(/(var|let)\\s/g, 'float ')\n            // .replace(/(\\.0)([^\\d])/g, '$10000000001 $2 ')\n            .replace(/this./g, '')\n            .replace(/\\$(.*)\\((.*)\\)\\s*(=|;)/g, \"$1 $2 $3\");\n            // .replace(/\\$(.*?)\\./g, \"$1 \")\n\n        if(name == \"main\") {\n            glsl = glsl.replace(/\\(.*(function|\\w).*\\(\\s*([\\s\\S]*?)\\s*{/, '(){') + \"\\n\";\n        } else {\n            var args = glsl.match(/function|\\w.*\\(\\s*([\\s\\S]*?)\\s*\\)/)[1];\n            var isObject = args.match(/{([\\s\\S]*)}/);\n            if(isObject) {\n                args = isObject[1].split(',')\n                    .map(d=>d.split('='))\n                    .map(d=> d[1].replace(/(\\'|\\\")/g, '') + ' ' + d[0])\n                    .join(', ')\n            } else if(args != \"\") {\n                args = args.replace(/\\$([\\w|\\d]+)_/g, \"$1 \");\n            }\n           \n            glsl = glsl.replace(/\\(.*(function|\\w).*\\(\\s*([\\s\\S]*?)\\s*\\)/, '(' + args+')') + \"\\n\";\n        }\n        return glsl;\n    }\n\n    //set parameters in JS functions before converting to GLSL codes\n    function applyEnvParameters(str){\n        //find all $(...) and replace them with parameters\n        var envParam = Object.keys(parameters);\n        if(envParam.length > 0){\n            var re = new RegExp(\"\\\\$\\\\((\"+envParam.join(\"|\")+\")\\\\)\",\"g\");\n            str = str.replace(re, function(matched){\n                return parameters[matched.slice(2,matched.length-1)];\n            });\n        }\n\n        // Make uniforms to be used as parameters in shaders, like $(uniformName)\n        // var envUniforms = Object.keys(resource.uniform);\n        // re = new RegExp(\"\\\\$\\\\((\"+envUniforms.join(\"|\")+\")\\\\)\",\"g\");\n        // str = str.replace(re, function(matched){\n        //     return resource.uniform[matched.slice(2,matched.length-1)].data;\n        // });\n\n        return str;\n    }\n\n    function compile(shaderType, shaderSource) {\n        if (shaderType !== ctx.VERTEX_SHADER && shaderType !== ctx.FRAGMENT_SHADER) {\n            throw (\"Error: unknown shader type\");\n        }\n        var _shader = ctx.createShader(shaderType);\n        ctx.shaderSource(_shader, shaderSource);\n        ctx.compileShader(_shader);\n\n        // Check the compile status, get compile error if any\n        var compiled = ctx.getShaderParameter(_shader, ctx.COMPILE_STATUS);\n        if (!compiled) {\n            var lastError = ctx.getShaderInfoLog(_shader);\n            console.log(shaderSource + '\\n ====================================================');\n            throw new Error(\"Error compiling shader '\" + _shader + \"':\" + lastError);\n\n            ctx.deleteShader(_shader);\n            return null;\n        }\n\n        return _shader;\n    }\n\n    function getDeps(fn) {\n        var deps = [],\n            sourceCode = fn.toString(),\n            shaderArgs = sourceCode.match(/function\\s.*?\\(([^)]*)\\)/),\n            args = (shaderArgs !== null && shaderArgs.length) ? shaderArgs[1] : [];\n        // args = args.replace(/(?:\\r\\n|\\r|\\n|\\s)/g, '');\n        //\n        if(args.length) {\n            deps = args.split(',').map(function(arg) {\n                return arg.replace(/\\/\\*.*\\*\\//, '').trim();\n            }).filter(function(arg) {\n                return arg;\n            });\n        }\n\n        var extraDeps = getExtraDeps(sourceCode);\n        if(extraDeps.length) {\n            deps = deps.concat(extraDeps\n            .filter(function(d){\n                return deps.indexOf(d) === -1;\n            }))\n        }\n\n        return deps;\n    }\n\n    function getExtraDeps(fnString) {\n        var extraDeps = fnString.match(/this\\.(\\w+)/g);\n        if(extraDeps !== null) {\n            extraDeps = extraDeps.map(function(d){\n                return d.slice(5);\n            });\n        }\n        if(extraDeps != null && extraDeps.length) {\n            extraDeps.forEach(function(sdep){\n                var sres = resource.get(sdep);\n                if(sres && sres.resourceType == 'subroutine') {\n                    extraDeps = extraDeps.concat(getExtraDeps(sres.fn.toString()));\n                }\n            });\n        }\n        return extraDeps || [];\n    }\n\n    function declareDep(dep) {\n        var res = resource.get(dep);\n        if(typeof res === 'undefined')\n            throw new Error('Resource/dependence \"' + dep + '\" is not found.');\n        if(res.resourceType == 'subroutine')\n            return toGLSL(res.type, res.name, res.fn);\n        else\n            return res.header();\n    }\n\n    function uniqueDeps(deps) {\n        var names = {};\n        deps.forEach(function(d, i){\n            names[d] = i;\n        });\n\n        return Object.keys(names);\n    }\n\n    shader.create = function(arg, fn){\n        var option = arg || {},\n            name = option.name || \"default\",\n            type = option.type || \"vertex\",\n            deps = option.require || option.deps || [],\n            precision = option.precision || \"medium\",\n            debug = option.debug || false,\n            main = option.main || fn || function() {};\n\n        var shaderSource = 'precision ' + precision + 'p float;\\n';\n\n        if(deps.length === 0) deps = uniqueDeps(getDeps(main));\n\n        //get dependence from subroutines if any\n        var extraDeps = [];\n\n        deps.forEach(function(dep){\n            var res = resource.get(dep);\n            if(typeof res == 'undefined') {\n                console.log(dep);\n                throw Error ('Error! Undefined variable in shader: '+  dep.name);\n            }\n            if(res.resourceType == 'subroutine') {\n                // subRoutines.push(res.name);\n                extraDeps  = getExtraDeps(res.fn.toString());\n                \n            }   \n        })\n\n        if(extraDeps.length) {\n            var allDeps = extraDeps.concat(deps);\n            deps = uniqueDeps(allDeps);\n        }\n\n        if(Array.isArray(deps)){\n            deps.filter(function(d){\n                return ctx.subroutineNames.indexOf(d) === -1;\n            })\n            .forEach(function(dep){\n                shaderSource += declareDep(dep);\n            });\n            var t = deps.filter(function(d){\n                return ctx.subroutineNames.indexOf(d) !== -1;\n            })\n            .reverse()\n            .forEach(function(dep){\n                shaderSource += declareDep(dep);\n            });\n\n\n\n        } else if(typeof(deps) == 'object') {\n            console.log(deps)\n            Object.keys(deps).forEach(function(resourceType){\n                deps[resourceType].forEach(function(dep){\n                    shaderSource += declareDep(dep);\n                });\n            })\n        }\n\n        shaderSource += toGLSL('void', 'main', main);\n        if(debug)\n            console.log(shaderSource);\n        var _shader = compile(shaderType[type], shaderSource);\n        _shader._shaderType = shaderType[type];\n        _shader.deps = deps;\n        _shader.source = shaderSource;\n        shader[type][name] = _shader;\n        return _shader;\n    }\n\n    return shader;\n}\n","import Shader from './shader';\n\nexport default function Program(glContext, resources) {\n\n    var program,\n        ctx = glContext,\n        pm = {},\n        kernels = {},\n        shaders = new Shader(glContext, resources);\n\n    pm.create = function(name, vs, fs) {\n        var name = name || \"default\",\n            vs = vs || \"default\",\n            fs = fs || \"default\",\n            deps = [];\n\n        if (kernels.hasOwnProperty(name)) {\n            pm.delete(name);\n        }\n\n        kernels[name] = ctx.createProgram();\n\n        kernels[name].vs = (typeof vs == \"object\") ? vs : shaders.vertex[vs];\n        kernels[name].fs = (typeof fs == \"object\") ? fs : shaders.fragment[fs];\n\n        ctx.attachShader(kernels[name], kernels[name].vs);\n        ctx.attachShader(kernels[name], kernels[name].fs);\n        ctx.linkProgram(kernels[name]);\n        var linked = ctx.getProgramParameter(kernels[name], ctx.LINK_STATUS);\n        if (!linked) {\n            var lastError = ctx.getProgramInfoLog(kernels[name]);\n            throw (\"Error in program linking:\" + lastError);\n            ctx.deleteProgram(kernels[name]);\n            return null;\n        }\n\n        deps = deps.concat(kernels[name].vs.deps);\n        deps = deps.concat(kernels[name].fs.deps);\n        kernels[name].deps = deps;\n\n        return kernels[name];\n    }\n\n    pm.use = pm.program = function(name, vs, fs) {\n        if (kernels.hasOwnProperty(name)) {\n            program = kernels[name];\n            ctx.useProgram(program);\n            resources.link(program, program.deps);\n            return program;\n        } else {\n            return pm.create(name, vs, fs);\n        }\n    }\n\n    pm.delete = function(name) {\n        if (kernels.hasOwnProperty(name)) {\n            ctx.detachShader(kernels[name], kernels[name].vs);\n            ctx.detachShader(kernels[name], kernels[name].fs);\n            ctx.deleteProgram(kernels[name]);\n            delete kernels[name];\n        }\n    }\n\n    pm.shader = function(arg, fn) {\n        var options = arg;\n        shaders.create(options, fn);\n        return pm;\n    }\n\n    pm.shader.vertex = function(fn) {\n        var options = {\n            type: \"vertex\"\n        };\n        if (fn.name) options.name = fn.name;\n        return shaders.create(options, fn);\n    }\n\n    pm.shader.fragment = function(fn) {\n        var options = {\n            type: \"fragment\"\n        };\n        if (fn.name) options.name = fn.name;\n        return shaders.create(options, fn);\n    }\n\n    return pm;\n}\n","import Texture from './texture';\n\nexport default function Framebuffer(glContext) {\n\n    var framebuffer = (this instanceof Framebuffer) ? this : {},\n        ctx = glContext;\n\n    framebuffer.create = function(name, type, dim, texture) {\n\n        framebuffer[name] = {\n            ptr: ctx.createFramebuffer(),\n            name: name,\n            type: type || \"float\",\n            width: dim[0] || 1024,\n            height: dim[1] || 1024,\n            texture: texture || null,\n            renderbuffer: ctx.createRenderbuffer(),\n        }\n\n        if (framebuffer[name].texture === null) {\n            var buf = (type == 'float') ?\n                new Float32Array(dim[0] * dim[1] * 4) :\n                new Uint8Array(dim[0] * dim[1] * 4);\n            framebuffer[name].texture = Texture(ctx).create(name, type, dim, \"rgba\", buf);\n        }\n\n        var renderbuffer = framebuffer[name].renderbuffer;\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, framebuffer[name].ptr);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, renderbuffer);\n        ctx.renderbufferStorage(\n            ctx.RENDERBUFFER,\n            ctx.DEPTH_COMPONENT16,\n            framebuffer[name].width,\n            framebuffer[name].height\n        );\n        ctx.framebufferTexture2D(\n            ctx.FRAMEBUFFER,\n            ctx.COLOR_ATTACHMENT0,\n            ctx.TEXTURE_2D,\n            framebuffer[name].texture.ptr,\n            0\n        );\n        ctx.framebufferRenderbuffer(\n            ctx.FRAMEBUFFER,\n            ctx.DEPTH_ATTACHMENT,\n            ctx.RENDERBUFFER,\n            renderbuffer\n        );\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n\n        framebuffer[name].enableRead = function(program) {\n            ctx.activeTexture(ctx.TEXTURE0 + this.texture.index);\n            ctx.bindTexture(ctx.TEXTURE_2D, this.texture.ptr);\n            this.texture.location = ctx.getUniformLocation(program, this.texture.name);\n            ctx.uniform1i(this.texture.location, this.texture.index);\n        };\n\n        framebuffer[name].delete = function() {\n            ctx.bindRenderbuffer(gl.RENDERBUFFER, null);\n            ctx.bindFramebuffer(gl.FRAMEBUFFER, null);\n            ctx.deleteRenderbuffer(this.renderbuffer);\n            ctx.deleteTexture(this.texture.ptr)\n            ctx.deleteFramebuffer(this.ptr);\n        };\n\n        return framebuffer[name];\n    }\n\n    return framebuffer;\n}\n","import Resource from './resource';\nimport ProgramManager from './program';\nimport Shader from './shader';\nimport Framebuffer from './framebuffer';\n\nexport default function FlexGL(arg) {\n\n    var flexgl = (this instanceof FlexGL) ? this : {},\n        options = arg || {},\n        container = options.container || null,\n        canvas = options.canvas || document.createElement(\"canvas\"),\n        viewport = options.viewport || [0, 0],\n        width = options.width || viewport[0] || null,\n        height = options.height || viewport[1] || null,\n        padding = options.padding || {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        ctx = options.context || options.ctx || null,\n        kernels = {},\n        program = null,\n        glAttr = options.attributes || {},\n        sharedFunction = options.sharedFunction || {};\n\n    \n    if (typeof(canvas) == \"string\") {\n        if (canvas[0] == \"#\") canvas = document.getElementById(cavnas.substring(1));\n        else canvas = document.getElementById(cavnas);\n    }\n    if (container) {\n        container = (typeof(container) == \"string\") ? document.getElementById(container) : container;\n        if (width === null) width = container.clientWidth;\n        if (height === null) height = container.clientHeight;\n    }\n    // width -= padding.left + padding.right;\n    // height -= padding.top + padding.bottom;\n    canvas.width = width;\n    canvas.height = height;\n    canvas.style.position = \"absolute\";\n    canvas.style.marginLeft = padding.left + \"px\";\n    canvas.style.marginTop = padding.top + \"px\";\n\n    if (ctx === null)\n        ctx = setupWebGL(canvas);\n    flexgl.ctx = ctx;\n    flexgl.canvas = canvas;\n\n    ctx._dict = options.env || options.dict || options.dictionary || {};\n    ctx.subroutineNames = []; // save all subroutines' names \n\n    var resources = new Resource(ctx),\n        framebuffers = new Framebuffer(ctx),\n        programManager = new ProgramManager(ctx, resources),\n        shaders = new Shader(ctx, resources);\n\n    var blendExt = ctx.getExtension(\"EXT_blend_minmax\");\n    if (blendExt) {\n        ctx.MAX_EXT = blendExt.MAX_EXT;\n        ctx.MIN_EXT = blendExt.MIN_EXT;\n    }\n\n    ctx.ext = ctx.getExtension(\"ANGLE_instanced_arrays\");\n    enableExtension([\n        \"OES_texture_float\",\n        \"OES_texture_float_linear\",\n        // \"OES_texture_half_float\",\n        // \"OES_texture_half_float_linear\"\n    ]);\n\n    if (container)\n        container.appendChild(canvas);\n\n    function setupWebGL(canvas) {\n        var names = [\"webgl\", \"experimental-webgl\"];\n        var gl = null;\n        for (var i = 0; i < names.length; ++i) {\n            try {\n                gl = canvas.getContext(names[i], glAttr);\n            } catch (e) {}\n            if (gl) break;\n        }\n        return gl;\n    }\n\n    function enableExtension(extensions) {\n        if (!Array.isArray(extensions)) extensions = [extensions];\n        extensions.forEach(function(extension) {\n            var extProps = ctx.getExtension(extension);\n            if (extProps !== null) {\n                Object.keys(extProps).forEach(function(ep) {\n                    if (!ext.hasOwnProperty(ep)) {\n                        ctx.ext[ep] = extProps[ep];\n                    }\n                })\n            }\n        });\n    };\n\n    flexgl.enableExtension = enableExtension;\n\n    /**\n     * Allocate Attributes in vertex buffer array stored in GPU memory\n     * @param  {String} name attribute name\n     * @param  {String} type attribute type: float, vec2, ...\n     * @param  {Array} data data values\n     * @return {Object}      FLexGL object\n     */\n    flexgl.attribute = function(name, type, data) {\n        resources.allocate(\"attribute\", name, type, data);\n        Object.defineProperty(flexgl.attribute, name, {\n            get: function() {\n                return resources.attribute[name];\n            },\n            set: function(data) {\n                resources.attribute[name].load(data);\n            }\n        });\n        return flexgl;\n    };\n    flexgl.buffer = flexgl.attribute; //alias\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type uniform variable type: float, vec2, ...\n     * @param  {Array} data data values\n     * @return {Object}      FLexGL object\n     */\n    flexgl.uniform = function(name, type, data) {\n        resources.allocate(\"uniform\", name, type, data);\n        if (!flexgl.uniform.hasOwnProperty(name)) {\n            Object.defineProperty(flexgl.uniform, name, {\n                get: function() {\n                    return resources.uniform[name];\n                },\n                set: function(data) {\n                    resources.uniform[name].load(data);\n                    if (ctx.isProgram(program))\n                        resources.uniform[name].link(program);\n                }\n            });\n        }\n        return flexgl;\n    };\n\n    flexgl.uniform.serialize = function(aoa) {\n        var sa = [];\n        aoa.forEach(function(a) {\n            sa = sa.concat(a);\n        })\n        return sa;\n    }\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type texture type: unsigned_byte or float, ...\n     * @param  {Array} data data values\n     * @param  {Array} dim [width, height]\n     * @param  {String} [channel='alpha'] WebGL formats (rgba, alpha)\n     * @param  {Object} [sampler=null] FLexGL Uniform Object\n     * @return {Object}      FLexGL object\n     */\n    flexgl.texture = function(name, type, data, dim, channel, sampler) {\n        resources.allocate(\"texture\", name, type, dim, channel, data, sampler);\n        Object.defineProperty(flexgl.texture, name, {\n            get: function() {\n                return resources.texture[name];\n            },\n            set: function(data) {\n                resources.texture[name].load(data);\n            }\n        });\n        return flexgl;\n    }\n\n    flexgl.texture.update = function(name, data, offset, dim) {\n        resources.texture[name].update(data, offset, dim);\n    }\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} [type] Varying variable type: float, vec2, ...\n     * @param  {Number} [size=1] data array\n     * @return {Object}      FLexGL object\n     */\n    flexgl.varying = function(name, type, size) {\n        resources.allocate(\"varying\", name, type, size);\n        return flexgl;\n    };\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type attribute type: float, vec2, ...\n     * @param  {Array} dim [width, height]\n     * @param  {Object} [texture=null] FLexGL Texture Object\n     * @return {Object}      FLexGL object\n     */\n    flexgl.framebuffer = function(name, type, dim, texture) {\n        var texture = texture || resources.allocate('texture', name, type, dim, 'rgba', null);\n\n        framebuffers.create(name, type, dim, texture);\n        if (!flexgl.framebuffer.hasOwnProperty(name)) {\n            Object.defineProperty(flexgl.framebuffer, name, {\n                get: function() {\n                    return framebuffers[name];\n                }\n            });\n        }\n        return flexgl;\n    }\n\n    flexgl.framebuffer.enableRead = function(name) {\n        framebuffers[name].enableRead(program);\n    }\n\n    flexgl.bindFramebuffer = function(fbName) {\n        if (framebuffers.hasOwnProperty(fbName)) {\n            ctx.bindFramebuffer(ctx.FRAMEBUFFER, framebuffers[fbName].ptr);\n        } else {\n            ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        }\n    }\n\n    flexgl.subroutine = function(name, type, fn) {\n        ctx.subroutineNames.push(name);\n        resources.allocate(\"subroutine\", name, type, fn);\n        return flexgl;\n    }\n\n    flexgl.parameter = function(keyValuePairs) {\n        Object.keys(keyValuePairs).forEach(function(key) {\n            ctx._dict[key] = keyValuePairs[key];\n            if (Array.isArray(ctx._dict[key])) {\n                var i = 0;\n                Object.defineProperty(ctx._dict, key, {\n                    get: function() {\n                        return keyValuePairs[key][i++];\n                    },\n                    set: function(newArray) {\n                        i = 0;\n                        ctx._dict[key] = newArray;\n                    }\n                });\n            } else if(typeof(ctx._dict[key]) == 'object') {\n                var dictKeys = Object.keys(ctx._dict[key]);\n                fxgl.uniform('dict'+key, 'float', dictKeys.map(d=>ctx._dict[key][d]));\n            }\n        })\n        return flexgl;\n    }\n\n    flexgl.dictionary = flexgl.parameter;\n\n    flexgl.shader = programManager.shader;\n\n    flexgl.program = function(name, vs, fs) {\n        program = programManager.program(name, vs, fs);\n        return ctx;\n    }\n\n    flexgl.createProgram = function(name, vs, fs) {\n        program = programManager.create(name, vs, fs);\n        return ctx;\n    }\n\n    flexgl.app = function(name, props) {\n        var vs = flexgl.shader.vertex(props.vs),\n            fs = flexgl.shader.fragment(props.fs),\n            fb = props.framebuffer || null;\n\n        flexgl.program(name, vs, fs);\n\n        var draw = props.render || props.draw;\n\n        return function(args) {\n            var gl = flexgl.program(name);\n            return draw.call(gl, args);\n        }\n    }\n\n    flexgl.dimension = function() {\n        return [canvas.width, canvas.height];\n    }\n\n    flexgl.resources = resources;\n\n    return flexgl;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.typeDetect = factory());\n}(this, (function () { 'use strict';\n\n/* !\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\nvar promiseExists = typeof Promise === 'function';\n\n/* eslint-disable no-undef */\nvar globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist\n\nvar symbolExists = typeof Symbol !== 'undefined';\nvar mapExists = typeof Map !== 'undefined';\nvar setExists = typeof Set !== 'undefined';\nvar weakMapExists = typeof WeakMap !== 'undefined';\nvar weakSetExists = typeof WeakSet !== 'undefined';\nvar dataViewExists = typeof DataView !== 'undefined';\nvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\nvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\nvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\nvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\nvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\nvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\nvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\nvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\nvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\nvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\nvar toStringLeftSliceLength = 8;\nvar toStringRightSliceLength = -1;\n/**\n * ### typeOf (obj)\n *\n * Uses `Object.prototype.toString` to determine the type of an object,\n * normalising behaviour across engine versions & well optimised.\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\nfunction typeDetect(obj) {\n  /* ! Speed optimisation\n   * Pre:\n   *   string literal     x 3,039,035 ops/sec 1.62% (78 runs sampled)\n   *   boolean literal    x 1,424,138 ops/sec 4.54% (75 runs sampled)\n   *   number literal     x 1,653,153 ops/sec 1.91% (82 runs sampled)\n   *   undefined          x 9,978,660 ops/sec 1.92% (75 runs sampled)\n   *   function           x 2,556,769 ops/sec 1.73% (77 runs sampled)\n   * Post:\n   *   string literal     x 38,564,796 ops/sec 1.15% (79 runs sampled)\n   *   boolean literal    x 31,148,940 ops/sec 1.10% (79 runs sampled)\n   *   number literal     x 32,679,330 ops/sec 1.90% (78 runs sampled)\n   *   undefined          x 32,363,368 ops/sec 1.07% (82 runs sampled)\n   *   function           x 31,296,870 ops/sec 0.96% (83 runs sampled)\n   */\n  var typeofObj = typeof obj;\n  if (typeofObj !== 'object') {\n    return typeofObj;\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   null               x 28,645,765 ops/sec 1.17% (82 runs sampled)\n   * Post:\n   *   null               x 36,428,962 ops/sec 1.37% (84 runs sampled)\n   */\n  if (obj === null) {\n    return 'null';\n  }\n\n  /* ! Spec Conformance\n   * Test: `Object.prototype.toString.call(window)``\n   *  - Node === \"[object global]\"\n   *  - Chrome === \"[object global]\"\n   *  - Firefox === \"[object Window]\"\n   *  - PhantomJS === \"[object Window]\"\n   *  - Safari === \"[object Window]\"\n   *  - IE 11 === \"[object Window]\"\n   *  - IE Edge === \"[object Window]\"\n   * Test: `Object.prototype.toString.call(this)``\n   *  - Chrome Worker === \"[object global]\"\n   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n   */\n  if (obj === globalObject) {\n    return 'global';\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   array literal      x 2,888,352 ops/sec 0.67% (82 runs sampled)\n   * Post:\n   *   array literal      x 22,479,650 ops/sec 0.96% (81 runs sampled)\n   */\n  if (\n    Array.isArray(obj) &&\n    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n  ) {\n    return 'Array';\n  }\n\n  // Not caching existence of `window` and related properties due to potential\n  // for `window` to be unset before tests in quasi-browser environments.\n  if (typeof window === 'object' && window !== null) {\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n     * WhatWG HTML$7.7.3 - The `Location` interface\n     * Test: `Object.prototype.toString.call(window.location)``\n     *  - IE <=11 === \"[object Object]\"\n     *  - IE Edge <=13 === \"[object Object]\"\n     */\n    if (typeof window.location === 'object' && obj === window.location) {\n      return 'Location';\n    }\n\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/#document)\n     * WhatWG HTML$3.1.1 - The `Document` object\n     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n     *       which suggests that browsers should use HTMLTableCellElement for\n     *       both TD and TH elements. WhatWG separates these.\n     *       WhatWG HTML states:\n     *         > For historical reasons, Window objects must also have a\n     *         > writable, configurable, non-enumerable property named\n     *         > HTMLDocument whose value is the Document interface object.\n     * Test: `Object.prototype.toString.call(document)``\n     *  - Chrome === \"[object HTMLDocument]\"\n     *  - Firefox === \"[object HTMLDocument]\"\n     *  - Safari === \"[object HTMLDocument]\"\n     *  - IE <=10 === \"[object Document]\"\n     *  - IE 11 === \"[object HTMLDocument]\"\n     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n     */\n    if (typeof window.document === 'object' && obj === window.document) {\n      return 'Document';\n    }\n\n    if (typeof window.navigator === 'object') {\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n       */\n      if (typeof window.navigator.mimeTypes === 'object' &&\n          obj === window.navigator.mimeTypes) {\n        return 'MimeTypeArray';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n       * Test: `Object.prototype.toString.call(navigator.plugins)``\n       *  - IE <=10 === \"[object MSPluginsCollection]\"\n       */\n      if (typeof window.navigator.plugins === 'object' &&\n          obj === window.navigator.plugins) {\n        return 'PluginArray';\n      }\n    }\n\n    if ((typeof window.HTMLElement === 'function' ||\n        typeof window.HTMLElement === 'object') &&\n        obj instanceof window.HTMLElement) {\n      /* ! Spec Conformance\n      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n      *  - IE <=10 === \"[object HTMLBlockElement]\"\n      */\n      if (obj.tagName === 'BLOCKQUOTE') {\n        return 'HTMLQuoteElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('td'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TD') {\n        return 'HTMLTableDataCellElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('th'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TH') {\n        return 'HTMLTableHeaderCellElement';\n      }\n    }\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   Float64Array       x 625,644 ops/sec 1.58% (80 runs sampled)\n  *   Float32Array       x 1,279,852 ops/sec 2.91% (77 runs sampled)\n  *   Uint32Array        x 1,178,185 ops/sec 1.95% (83 runs sampled)\n  *   Uint16Array        x 1,008,380 ops/sec 2.25% (80 runs sampled)\n  *   Uint8Array         x 1,128,040 ops/sec 2.11% (81 runs sampled)\n  *   Int32Array         x 1,170,119 ops/sec 2.88% (80 runs sampled)\n  *   Int16Array         x 1,176,348 ops/sec 5.79% (86 runs sampled)\n  *   Int8Array          x 1,058,707 ops/sec 4.94% (77 runs sampled)\n  *   Uint8ClampedArray  x 1,110,633 ops/sec 4.20% (80 runs sampled)\n  * Post:\n  *   Float64Array       x 7,105,671 ops/sec 13.47% (64 runs sampled)\n  *   Float32Array       x 5,887,912 ops/sec 1.46% (82 runs sampled)\n  *   Uint32Array        x 6,491,661 ops/sec 1.76% (79 runs sampled)\n  *   Uint16Array        x 6,559,795 ops/sec 1.67% (82 runs sampled)\n  *   Uint8Array         x 6,463,966 ops/sec 1.43% (85 runs sampled)\n  *   Int32Array         x 5,641,841 ops/sec 3.49% (81 runs sampled)\n  *   Int16Array         x 6,583,511 ops/sec 1.98% (80 runs sampled)\n  *   Int8Array          x 6,606,078 ops/sec 1.74% (81 runs sampled)\n  *   Uint8ClampedArray  x 6,602,224 ops/sec 1.77% (83 runs sampled)\n  */\n  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n  if (typeof stringTag === 'string') {\n    return stringTag;\n  }\n\n  var objPrototype = Object.getPrototypeOf(obj);\n  /* ! Speed optimisation\n  * Pre:\n  *   regex literal      x 1,772,385 ops/sec 1.85% (77 runs sampled)\n  *   regex constructor  x 2,143,634 ops/sec 2.46% (78 runs sampled)\n  * Post:\n  *   regex literal      x 3,928,009 ops/sec 0.65% (78 runs sampled)\n  *   regex constructor  x 3,931,108 ops/sec 0.58% (84 runs sampled)\n  */\n  if (objPrototype === RegExp.prototype) {\n    return 'RegExp';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   date               x 2,130,074 ops/sec 4.42% (68 runs sampled)\n  * Post:\n  *   date               x 3,953,779 ops/sec 1.35% (77 runs sampled)\n  */\n  if (objPrototype === Date.prototype) {\n    return 'Date';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n   * Test: `Object.prototype.toString.call(Promise.resolve())``\n   *  - Chrome <=47 === \"[object Object]\"\n   *  - Edge <=20 === \"[object Object]\"\n   *  - Firefox 29-Latest === \"[object Promise]\"\n   *  - Safari 7.1-Latest === \"[object Promise]\"\n   */\n  if (promiseExists && objPrototype === Promise.prototype) {\n    return 'Promise';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   set                x 2,222,186 ops/sec 1.31% (82 runs sampled)\n  * Post:\n  *   set                x 4,545,879 ops/sec 1.13% (83 runs sampled)\n  */\n  if (setExists && objPrototype === Set.prototype) {\n    return 'Set';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   map                x 2,396,842 ops/sec 1.59% (81 runs sampled)\n  * Post:\n  *   map                x 4,183,945 ops/sec 6.59% (82 runs sampled)\n  */\n  if (mapExists && objPrototype === Map.prototype) {\n    return 'Map';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakset            x 1,323,220 ops/sec 2.17% (76 runs sampled)\n  * Post:\n  *   weakset            x 4,237,510 ops/sec 2.01% (77 runs sampled)\n  */\n  if (weakSetExists && objPrototype === WeakSet.prototype) {\n    return 'WeakSet';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakmap            x 1,500,260 ops/sec 2.02% (78 runs sampled)\n  * Post:\n  *   weakmap            x 3,881,384 ops/sec 1.45% (82 runs sampled)\n  */\n  if (weakMapExists && objPrototype === WeakMap.prototype) {\n    return 'WeakMap';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (dataViewExists && objPrototype === DataView.prototype) {\n    return 'DataView';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n   * Test: `Object.prototype.toString.call(new Map().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (mapExists && objPrototype === mapIteratorPrototype) {\n    return 'Map Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n   * Test: `Object.prototype.toString.call(new Set().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (setExists && objPrototype === setIteratorPrototype) {\n    return 'Set Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n    return 'Array Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n    return 'String Iterator';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   object from null   x 2,424,320 ops/sec 1.67% (76 runs sampled)\n  * Post:\n  *   object from null   x 5,838,000 ops/sec 0.99% (84 runs sampled)\n  */\n  if (objPrototype === null) {\n    return 'Object';\n  }\n\n  return Object\n    .prototype\n    .toString\n    .call(obj)\n    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n}\n\nreturn typeDetect;\n\n})));\n","// This is (almost) directly from Node.js utils\n// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js\n\nvar getName = require('get-func-name');\nvar getProperties = require('./getProperties');\nvar getEnumerableProperties = require('./getEnumerableProperties');\nvar config = require('../config');\n\nmodule.exports = inspect;\n\n/**\n * ### .inspect(obj, [showHidden], [depth], [colors])\n *\n * Echoes the value of a value. Tries to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Boolean} showHidden Flag that shows hidden (not enumerable)\n *    properties of objects. Default is false.\n * @param {Number} depth Depth in which to descend in object. Default is 2.\n * @param {Boolean} colors Flag to turn on ANSI escape codes to color the\n *    output. Default is false (no coloring).\n * @namespace Utils\n * @name inspect\n */\nfunction inspect(obj, showHidden, depth, colors) {\n  var ctx = {\n    showHidden: showHidden,\n    seen: [],\n    stylize: function (str) { return str; }\n  };\n  return formatValue(ctx, obj, (typeof depth === 'undefined' ? 2 : depth));\n}\n\n// Returns true if object is a DOM element.\nvar isDOMElement = function (object) {\n  if (typeof HTMLElement === 'object') {\n    return object instanceof HTMLElement;\n  } else {\n    return object &&\n      typeof object === 'object' &&\n      'nodeType' in object &&\n      object.nodeType === 1 &&\n      typeof object.nodeName === 'string';\n  }\n};\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (value && typeof value.inspect === 'function' &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (typeof ret !== 'string') {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // If this is a DOM element, try to get the outer HTML.\n  if (isDOMElement(value)) {\n    if ('outerHTML' in value) {\n      return value.outerHTML;\n      // This value does not have an outerHTML attribute,\n      //   it could still be an XML element\n    } else {\n      // Attempt to serialize it\n      try {\n        if (document.xmlVersion) {\n          var xmlSerializer = new XMLSerializer();\n          return xmlSerializer.serializeToString(value);\n        } else {\n          // Firefox 11- do not support outerHTML\n          //   It does, however, support innerHTML\n          //   Use the following to render the element\n          var ns = \"http://www.w3.org/1999/xhtml\";\n          var container = document.createElementNS(ns, '_');\n\n          container.appendChild(value.cloneNode(false));\n          var html = container.innerHTML\n            .replace('><', '>' + value.innerHTML + '<');\n          container.innerHTML = '';\n          return html;\n        }\n      } catch (err) {\n        // This could be a non-native DOM implementation,\n        //   continue with the normal flow:\n        //   printing the element as if it is an object.\n      }\n    }\n  }\n\n  // Look up the keys of the object.\n  var visibleKeys = getEnumerableProperties(value);\n  var keys = ctx.showHidden ? getProperties(value) : visibleKeys;\n\n  var name, nameSuffix;\n\n  // Some type of object without properties can be shortcut.\n  // In IE, errors have a single `stack` property, or if they are vanilla `Error`,\n  // a `stack` plus `description` property; ignore those for consistency.\n  if (keys.length === 0 || (isError(value) && (\n      (keys.length === 1 && keys[0] === 'stack') ||\n      (keys.length === 2 && keys[0] === 'description' && keys[1] === 'stack')\n     ))) {\n    if (typeof value === 'function') {\n      name = getName(value);\n      nameSuffix = name ? ': ' + name : '';\n      return ctx.stylize('[Function' + nameSuffix + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toUTCString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = ''\n    , array = false\n    , typedArray = false\n    , braces = ['{', '}'];\n\n  if (isTypedArray(value)) {\n    typedArray = true;\n    braces = ['[', ']'];\n  }\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (typeof value === 'function') {\n    name = getName(value);\n    nameSuffix = name ? ': ' + name : '';\n    base = ' [Function' + nameSuffix + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    return formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else if (typedArray) {\n    return formatTypedArray(value);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\nfunction formatPrimitive(ctx, value) {\n  switch (typeof value) {\n    case 'undefined':\n      return ctx.stylize('undefined', 'undefined');\n\n    case 'string':\n      var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                               .replace(/'/g, \"\\\\'\")\n                                               .replace(/\\\\\"/g, '\"') + '\\'';\n      return ctx.stylize(simple, 'string');\n\n    case 'number':\n      if (value === 0 && (1/value) === -Infinity) {\n        return ctx.stylize('-0', 'number');\n      }\n      return ctx.stylize('' + value, 'number');\n\n    case 'boolean':\n      return ctx.stylize('' + value, 'boolean');\n\n    case 'symbol':\n      return ctx.stylize(value.toString(), 'symbol');\n  }\n  // For some reason typeof null is \"object\", so special case here.\n  if (value === null) {\n    return ctx.stylize('null', 'null');\n  }\n}\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (Object.prototype.hasOwnProperty.call(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\nfunction formatTypedArray(value) {\n  var str = '[ ';\n\n  for (var i = 0; i < value.length; ++i) {\n    if (str.length >= config.truncateThreshold - 7) {\n      str += '...';\n      break;\n    }\n    str += value[i] + ', ';\n  }\n  str += ' ]';\n\n  // Removing trailing `, ` if the array was not truncated\n  if (str.indexOf(',  ]') !== -1) {\n    str = str.replace(',  ]', ' ]');\n  }\n\n  return str;\n}\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name;\n  var propDescriptor = Object.getOwnPropertyDescriptor(value, key);\n  var str;\n\n  if (propDescriptor) {\n    if (propDescriptor.get) {\n      if (propDescriptor.set) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (propDescriptor.set) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n  }\n  if (visibleKeys.indexOf(key) < 0) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(value[key]) < 0) {\n      if (recurseTimes === null) {\n        str = formatValue(ctx, value[key], null);\n      } else {\n        str = formatValue(ctx, value[key], recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (typeof name === 'undefined') {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\nfunction reduceToSingleString(output, base, braces) {\n  var length = output.reduce(function(prev, cur) {\n    return prev + cur.length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\nfunction isTypedArray(ar) {\n  // Unfortunately there's no way to check if an object is a TypedArray\n  // We have to check if it's one of these types\n  return (typeof ar === 'object' && /\\w+Array]$/.test(objectToString(ar)));\n}\n\nfunction isArray(ar) {\n  return Array.isArray(ar) ||\n         (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n}\n\nfunction isRegExp(re) {\n  return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n}\n\nfunction isDate(d) {\n  return typeof d === 'object' && objectToString(d) === '[object Date]';\n}\n\nfunction isError(e) {\n  return typeof e === 'object' && objectToString(e) === '[object Error]';\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import { randomJSONs, randomArrays } from './utils';\n\nlet educations = ['High School', 'Some College', 'AA/AS', 'Bachelor', 'Master', 'Doctorate']\nlet races = ['White', 'Asian', 'Black', 'Mixed'];\n\nlet dataProps = [\n    {name: 'BabyMonth', dtype: 'int', dist: 'uniform', min: 1, max: 12},\n    {name: 'BabyGender', dtype: 'string', values: ['F', 'M']},\n    {name: 'BabyWeight', dtype: 'float', dist: 'normal', min: 2, max: 20, mean: 7, std: 2},\n    {name: 'MotherAge', dtype: 'int', dist: 'normal', min: 16, max: 70, mean: 30, std: 10},\n    {name: 'MotherRace', dtype: 'string', values: races},\n    {name: 'MotherStatus', dtype: 'string', values: ['Married', 'Unmarried']},\n    {name: 'MotherEdu', dtype: 'string', values: educations},\n    {name: 'MotherHeight', dtype: 'int', dist: 'normal', min: 120, max: 220, mean: 168, std: 20},\n    {name: 'MotherWeight', dtype: 'float', dist: 'normal', min: 50, max: 290, mean: 100, std: 50},\n    {name: 'MotherWgtGain', dtype: 'float', dist: 'normal', min: 0, max: 100, mean: 30, std: 10},\n    {name: 'FatherAge', dtype: 'int', dist: 'normal', min: 15, max: 90, mean: 32, std: 10},\n    {name: 'FatherRace', dtype: 'string', values: races},\n    {name: 'FatherEdu', dtype: 'string', values: educations}\n];\n\nlet schema = {};\nfor(let prop of dataProps) {\n    schema[prop.name] = prop.dtype;\n}\n\nfunction Babies(arg) {\n    let dataSize = (Number.isInteger(arg)) ? arg : arg.size;\n    let props = arg.props || dataProps;\n    let type = arg.type || 'json';\n    let data = (type === 'json') ? randomJSONs({props: props, size: dataSize}): randomArrays({props: props, size: dataSize});\n    return { data, schema };\n}\n\nBabies.schema = schema;\n\nexport default Babies;","import {boundedRandom} from './utils';\r\n\r\nexport default function ({\r\n  timesteps = 128,\r\n  series = 8,\r\n  interval = 1,\r\n  props,\r\n  label = {time: 'timestamp', series: 'sid'}\r\n}) {\r\n  let dsize = timesteps * series;\r\n  let data = new Array(dsize);\r\n  for(let i = 0; i < timesteps; i++) {\r\n    for(let j = 0; j < series; j++) {\r\n      let record = {};\r\n      record[label.time] = i * interval;\r\n      record[label.series] = j;\r\n      for(let prop of props) {\r\n          if(prop.hasOwnProperty('values')){\r\n              let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\r\n              record[prop.name] = prop.values[vid];\r\n          } else {\r\n              let value = boundedRandom(prop);\r\n              record[prop.name] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\r\n          }\r\n      }\r\n      data[i * series + j] = record;\r\n    }\r\n  }\r\n\r\n  let schema = {};\r\n  schema[label.time] = 'int';\r\n  schema[label.series] = 'float';\r\n  for(let prop of props) {\r\n      schema[prop.name] = prop.dtype;\r\n  }\r\n\r\n  return {\r\n    data,\r\n    schema\r\n  }\r\n}","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import {slice} from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","/*!\n * assertion-error\n * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>\n * MIT Licensed\n */\n\n/*!\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param {String} excluded properties ...\n * @return {Function}\n */\n\nfunction exclude () {\n  var excludes = [].slice.call(arguments);\n\n  function excludeProps (res, obj) {\n    Object.keys(obj).forEach(function (key) {\n      if (!~excludes.indexOf(key)) res[key] = obj[key];\n    });\n  }\n\n  return function extendExclude () {\n    var args = [].slice.call(arguments)\n      , i = 0\n      , res = {};\n\n    for (; i < args.length; i++) {\n      excludeProps(res, args[i]);\n    }\n\n    return res;\n  };\n};\n\n/*!\n * Primary Exports\n */\n\nmodule.exports = AssertionError;\n\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param {String} message\n * @param {Object} properties to include (optional)\n * @param {callee} start stack function (optional)\n */\n\nfunction AssertionError (message, _props, ssf) {\n  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON')\n    , props = extend(_props || {});\n\n  // default values\n  this.message = message || 'Unspecified AssertionError';\n  this.showDiff = false;\n\n  // copy from properties\n  for (var key in props) {\n    this[key] = props[key];\n  }\n\n  // capture stack trace\n  ssf = ssf || AssertionError;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ssf);\n  } else {\n    try {\n      throw new Error();\n    } catch(e) {\n      this.stack = e.stack;\n    }\n  }\n}\n\n/*!\n * Inherit from Error.prototype\n */\n\nAssertionError.prototype = Object.create(Error.prototype);\n\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param {Boolean} include stack (default: `true`)\n * @return {Object} object that can be `JSON.stringify`\n */\n\nAssertionError.prototype.toJSON = function (stack) {\n  var extend = exclude('constructor', 'toJSON', 'stack')\n    , props = extend({ name: this.name }, this);\n\n  // include stack if exists and not turned off\n  if (false !== stack && this.stack) {\n    props.stack = this.stack;\n  }\n\n  return props;\n};\n","/*!\n * Chai - getActual utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getActual(object, [actual])\n *\n * Returns the `actual` value for an Assertion.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name getActual\n */\n\nmodule.exports = function getActual(obj, args) {\n  return args.length > 4 ? args[4] : obj._obj;\n};\n","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar inspect = require('./inspect');\nvar config = require('../config');\n\n/**\n * ### .objDisplay(object)\n *\n * Determines if an object or an array matches\n * criteria to be inspected in-line for error\n * messages or should be truncated.\n *\n * @param {Mixed} javascript object to inspect\n * @name objDisplay\n * @namespace Utils\n * @api public\n */\n\nmodule.exports = function objDisplay(obj) {\n  var str = inspect(obj)\n    , type = Object.prototype.toString.call(obj);\n\n  if (config.truncateThreshold && str.length >= config.truncateThreshold) {\n    if (type === '[object Function]') {\n      return !obj.name || obj.name === ''\n        ? '[Function]'\n        : '[Function: ' + obj.name + ']';\n    } else if (type === '[object Array]') {\n      return '[ Array(' + obj.length + ') ]';\n    } else if (type === '[object Object]') {\n      var keys = Object.keys(obj)\n        , kstr = keys.length > 2\n          ? keys.splice(0, 2).join(', ') + ', ...'\n          : keys.join(', ');\n      return '{ Object (' + kstr + ') }';\n    } else {\n      return str;\n    }\n  } else {\n    return str;\n  }\n};\n","'use strict';\n\n/* !\n * Chai - getFuncName utility\n * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getFuncName(constructorFn)\n *\n * Returns the name of a function.\n * When a non-function instance is passed, returns `null`.\n * This also includes a polyfill function if `aFunc.name` is not defined.\n *\n * @name getFuncName\n * @param {Function} funct\n * @namespace Utils\n * @api public\n */\n\nvar toString = Function.prototype.toString;\nvar functionNameMatch = /\\s*function(?:\\s|\\s*\\/\\*[^(?:*\\/)]+\\*\\/\\s*)*([^\\s\\(\\/]+)/;\nfunction getFuncName(aFunc) {\n  if (typeof aFunc !== 'function') {\n    return null;\n  }\n\n  var name = '';\n  if (typeof Function.prototype.name === 'undefined' && typeof aFunc.name === 'undefined') {\n    // Here we run a polyfill if Function does not support the `name` property and if aFunc.name is not defined\n    var match = toString.call(aFunc).match(functionNameMatch);\n    if (match) {\n      name = match[1];\n    }\n  } else {\n    // If we've got a `name` property we just use it\n    name = aFunc.name;\n  }\n\n  return name;\n}\n\nmodule.exports = getFuncName;\n","/*!\n * Chai - getProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getProperties(object)\n *\n * This allows the retrieval of property names of an object, enumerable or not,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getProperties\n * @api public\n */\n\nmodule.exports = function getProperties(object) {\n  var result = Object.getOwnPropertyNames(object);\n\n  function addProperty(property) {\n    if (result.indexOf(property) === -1) {\n      result.push(property);\n    }\n  }\n\n  var proto = Object.getPrototypeOf(object);\n  while (proto !== null) {\n    Object.getOwnPropertyNames(proto).forEach(addProperty);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return result;\n};\n","/*!\n * Chai - getOwnEnumerablePropertySymbols utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getOwnEnumerablePropertySymbols(object)\n *\n * This allows the retrieval of directly-owned enumerable property symbols of an\n * object. This function is necessary because Object.getOwnPropertySymbols\n * returns both enumerable and non-enumerable property symbols.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getOwnEnumerablePropertySymbols\n * @api public\n */\n\nmodule.exports = function getOwnEnumerablePropertySymbols(obj) {\n  if (typeof Object.getOwnPropertySymbols !== 'function') return [];\n\n  return Object.getOwnPropertySymbols(obj).filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(obj, sym).enumerable;\n  });\n};\n","import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","import flexgl from './src/main'\r\n\r\nvar root = typeof self == 'object' && self.self === self && self ||\r\n           typeof global == 'object' && global.global === global && global ||\r\n           this;\r\n\r\nroot.flexgl = flexgl;\r\n\r\nexport default flexgl;\r\n\r\nif(typeof module != 'undefined' && module.exports)\r\n    module.exports = flexgl;","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","(function (window, factory) {\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\nconsole.warn('The npm package jStat is no longer maintained. Instead use jstat (lowercase).');\nconsole.warn('Visit https://www.npmjs.com/package/jstat for more information.');\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(arg) {\n  return typeof arg === 'number' && arg === arg;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  return Math.pow(jStat.product(arr), 1 / arr.length);\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var arrlen = arr.length;\n  var sorted = arr.slice().sort(ascNum);\n  var ranks = new Array(arrlen);\n  var val;\n  for (var i = 0; i < arrlen; i++) {\n    var first = sorted.indexOf(arr[i]);\n    var last = sorted.lastIndexOf(arr[i]);\n    if (first === last) {\n      val = first;\n    } else {\n      val = (first + last) / 2;\n    }\n    ranks[i] = val + 1;\n  }\n  return ranks;\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function(a, b, c) {\n      if (!(this instanceof arguments.callee))\n        return new arguments.callee(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sample: function sample(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    var alen = a.length,\n    alend = alen * 2,\n    vals = new Array(alend),\n    rowshift = alen - 1,\n    colshift = alend - 1,\n    mrow = rowshift - alen + 1,\n    mcol = colshift,\n    i = 0,\n    result = 0,\n    j;\n    // check for special 2x2 case\n    if (alen === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n    for (; i < alend; i++) {\n      vals[i] = 1;\n    }\n    for (i = 0; i < alen; i++) {\n      for (j = 0; j < alen; j++) {\n        vals[(mrow < 0) ? mrow + alen : mrow ] *= a[i][j];\n        vals[(mcol < alen) ? mcol + alen : mcol ] *= a[i][j];\n        mrow++;\n        mcol--;\n      }\n      mrow = --rowshift - alen + 1;\n      mcol = --colshift;\n    }\n    for (i = 0; i < alen; i++) {\n      result += vals[i];\n    }\n    for (; i < alend; i++) {\n      result -= vals[i];\n    }\n    return result;\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","/*!\n * chai\n * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Dependencies that are used for multiple exports are required here only once\n */\n\nvar pathval = require('pathval');\n\n/*!\n * test utility\n */\n\nexports.test = require('./test');\n\n/*!\n * type utility\n */\n\nexports.type = require('type-detect');\n\n/*!\n * expectTypes utility\n */\nexports.expectTypes = require('./expectTypes');\n\n/*!\n * message utility\n */\n\nexports.getMessage = require('./getMessage');\n\n/*!\n * actual utility\n */\n\nexports.getActual = require('./getActual');\n\n/*!\n * Inspect util\n */\n\nexports.inspect = require('./inspect');\n\n/*!\n * Object Display util\n */\n\nexports.objDisplay = require('./objDisplay');\n\n/*!\n * Flag utility\n */\n\nexports.flag = require('./flag');\n\n/*!\n * Flag transferring utility\n */\n\nexports.transferFlags = require('./transferFlags');\n\n/*!\n * Deep equal utility\n */\n\nexports.eql = require('deep-eql');\n\n/*!\n * Deep path info\n */\n\nexports.getPathInfo = pathval.getPathInfo;\n\n/*!\n * Check if a property exists\n */\n\nexports.hasProperty = pathval.hasProperty;\n\n/*!\n * Function name\n */\n\nexports.getName = require('get-func-name');\n\n/*!\n * add Property\n */\n\nexports.addProperty = require('./addProperty');\n\n/*!\n * add Method\n */\n\nexports.addMethod = require('./addMethod');\n\n/*!\n * overwrite Property\n */\n\nexports.overwriteProperty = require('./overwriteProperty');\n\n/*!\n * overwrite Method\n */\n\nexports.overwriteMethod = require('./overwriteMethod');\n\n/*!\n * Add a chainable method\n */\n\nexports.addChainableMethod = require('./addChainableMethod');\n\n/*!\n * Overwrite chainable method\n */\n\nexports.overwriteChainableMethod = require('./overwriteChainableMethod');\n\n/*!\n * Compare by inspect method\n */\n\nexports.compareByInspect = require('./compareByInspect');\n\n/*!\n * Get own enumerable property symbols method\n */\n\nexports.getOwnEnumerablePropertySymbols = require('./getOwnEnumerablePropertySymbols');\n\n/*!\n * Get own enumerable properties method\n */\n\nexports.getOwnEnumerableProperties = require('./getOwnEnumerableProperties');\n\n/*!\n * Checks error against a given set of criteria\n */\n\nexports.checkError = require('check-error');\n\n/*!\n * Proxify util\n */\n\nexports.proxify = require('./proxify');\n\n/*!\n * addLengthGuard util\n */\n\nexports.addLengthGuard = require('./addLengthGuard');\n\n/*!\n * isProxyEnabled helper\n */\n\nexports.isProxyEnabled = require('./isProxyEnabled');\n\n/*!\n * isNaN method\n */\n\nexports.isNaN = require('./isNaN');\n","'use strict';\n\n/* !\n * Chai - pathval utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * @see https://github.com/logicalparadox/filtr\n * MIT Licensed\n */\n\n/**\n * ### .hasProperty(object, name)\n *\n * This allows checking whether an object has own\n * or inherited from prototype chain named property.\n *\n * Basically does the same thing as the `in`\n * operator but works properly with null/undefined values\n * and other primitives.\n *\n *     var obj = {\n *         arr: ['a', 'b', 'c']\n *       , str: 'Hello'\n *     }\n *\n * The following would be the results.\n *\n *     hasProperty(obj, 'str');  // true\n *     hasProperty(obj, 'constructor');  // true\n *     hasProperty(obj, 'bar');  // false\n *\n *     hasProperty(obj.str, 'length'); // true\n *     hasProperty(obj.str, 1);  // true\n *     hasProperty(obj.str, 5);  // false\n *\n *     hasProperty(obj.arr, 'length');  // true\n *     hasProperty(obj.arr, 2);  // true\n *     hasProperty(obj.arr, 3);  // false\n *\n * @param {Object} object\n * @param {String|Symbol} name\n * @returns {Boolean} whether it exists\n * @namespace Utils\n * @name hasProperty\n * @api public\n */\n\nfunction hasProperty(obj, name) {\n  if (typeof obj === 'undefined' || obj === null) {\n    return false;\n  }\n\n  // The `in` operator does not work with primitives.\n  return name in Object(obj);\n}\n\n/* !\n * ## parsePath(path)\n *\n * Helper function used to parse string object\n * paths. Use in conjunction with `internalGetPathValue`.\n *\n *      var parsed = parsePath('myobject.property.subprop');\n *\n * ### Paths:\n *\n * * Can be infinitely deep and nested.\n * * Arrays are also valid using the formal `myobject.document[3].property`.\n * * Literal dots and brackets (not delimiter) must be backslash-escaped.\n *\n * @param {String} path\n * @returns {Object} parsed\n * @api private\n */\n\nfunction parsePath(path) {\n  var str = path.replace(/([^\\\\])\\[/g, '$1.[');\n  var parts = str.match(/(\\\\\\.|[^.]+?)+/g);\n  return parts.map(function mapMatches(value) {\n    var regexp = /^\\[(\\d+)\\]$/;\n    var mArr = regexp.exec(value);\n    var parsed = null;\n    if (mArr) {\n      parsed = { i: parseFloat(mArr[1]) };\n    } else {\n      parsed = { p: value.replace(/\\\\([.\\[\\]])/g, '$1') };\n    }\n\n    return parsed;\n  });\n}\n\n/* !\n * ## internalGetPathValue(obj, parsed[, pathDepth])\n *\n * Helper companion function for `.parsePath` that returns\n * the value located at the parsed address.\n *\n *      var value = getPathValue(obj, parsed);\n *\n * @param {Object} object to search against\n * @param {Object} parsed definition from `parsePath`.\n * @param {Number} depth (nesting level) of the property we want to retrieve\n * @returns {Object|Undefined} value\n * @api private\n */\n\nfunction internalGetPathValue(obj, parsed, pathDepth) {\n  var temporaryValue = obj;\n  var res = null;\n  pathDepth = (typeof pathDepth === 'undefined' ? parsed.length : pathDepth);\n\n  for (var i = 0; i < pathDepth; i++) {\n    var part = parsed[i];\n    if (temporaryValue) {\n      if (typeof part.p === 'undefined') {\n        temporaryValue = temporaryValue[part.i];\n      } else {\n        temporaryValue = temporaryValue[part.p];\n      }\n\n      if (i === (pathDepth - 1)) {\n        res = temporaryValue;\n      }\n    }\n  }\n\n  return res;\n}\n\n/* !\n * ## internalSetPathValue(obj, value, parsed)\n *\n * Companion function for `parsePath` that sets\n * the value located at a parsed address.\n *\n *  internalSetPathValue(obj, 'value', parsed);\n *\n * @param {Object} object to search and define on\n * @param {*} value to use upon set\n * @param {Object} parsed definition from `parsePath`\n * @api private\n */\n\nfunction internalSetPathValue(obj, val, parsed) {\n  var tempObj = obj;\n  var pathDepth = parsed.length;\n  var part = null;\n  // Here we iterate through every part of the path\n  for (var i = 0; i < pathDepth; i++) {\n    var propName = null;\n    var propVal = null;\n    part = parsed[i];\n\n    // If it's the last part of the path, we set the 'propName' value with the property name\n    if (i === (pathDepth - 1)) {\n      propName = typeof part.p === 'undefined' ? part.i : part.p;\n      // Now we set the property with the name held by 'propName' on object with the desired val\n      tempObj[propName] = val;\n    } else if (typeof part.p !== 'undefined' && tempObj[part.p]) {\n      tempObj = tempObj[part.p];\n    } else if (typeof part.i !== 'undefined' && tempObj[part.i]) {\n      tempObj = tempObj[part.i];\n    } else {\n      // If the obj doesn't have the property we create one with that name to define it\n      var next = parsed[i + 1];\n      // Here we set the name of the property which will be defined\n      propName = typeof part.p === 'undefined' ? part.i : part.p;\n      // Here we decide if this property will be an array or a new object\n      propVal = typeof next.p === 'undefined' ? [] : {};\n      tempObj[propName] = propVal;\n      tempObj = tempObj[propName];\n    }\n  }\n}\n\n/**\n * ### .getPathInfo(object, path)\n *\n * This allows the retrieval of property info in an\n * object given a string path.\n *\n * The path info consists of an object with the\n * following properties:\n *\n * * parent - The parent object of the property referenced by `path`\n * * name - The name of the final property, a number if it was an array indexer\n * * value - The value of the property, if it exists, otherwise `undefined`\n * * exists - Whether the property exists or not\n *\n * @param {Object} object\n * @param {String} path\n * @returns {Object} info\n * @namespace Utils\n * @name getPathInfo\n * @api public\n */\n\nfunction getPathInfo(obj, path) {\n  var parsed = parsePath(path);\n  var last = parsed[parsed.length - 1];\n  var info = {\n    parent: parsed.length > 1 ? internalGetPathValue(obj, parsed, parsed.length - 1) : obj,\n    name: last.p || last.i,\n    value: internalGetPathValue(obj, parsed),\n  };\n  info.exists = hasProperty(info.parent, info.name);\n\n  return info;\n}\n\n/**\n * ### .getPathValue(object, path)\n *\n * This allows the retrieval of values in an\n * object given a string path.\n *\n *     var obj = {\n *         prop1: {\n *             arr: ['a', 'b', 'c']\n *           , str: 'Hello'\n *         }\n *       , prop2: {\n *             arr: [ { nested: 'Universe' } ]\n *           , str: 'Hello again!'\n *         }\n *     }\n *\n * The following would be the results.\n *\n *     getPathValue(obj, 'prop1.str'); // Hello\n *     getPathValue(obj, 'prop1.att[2]'); // b\n *     getPathValue(obj, 'prop2.arr[0].nested'); // Universe\n *\n * @param {Object} object\n * @param {String} path\n * @returns {Object} value or `undefined`\n * @namespace Utils\n * @name getPathValue\n * @api public\n */\n\nfunction getPathValue(obj, path) {\n  var info = getPathInfo(obj, path);\n  return info.value;\n}\n\n/**\n * ### .setPathValue(object, path, value)\n *\n * Define the value in an object at a given string path.\n *\n * ```js\n * var obj = {\n *     prop1: {\n *         arr: ['a', 'b', 'c']\n *       , str: 'Hello'\n *     }\n *   , prop2: {\n *         arr: [ { nested: 'Universe' } ]\n *       , str: 'Hello again!'\n *     }\n * };\n * ```\n *\n * The following would be acceptable.\n *\n * ```js\n * var properties = require('tea-properties');\n * properties.set(obj, 'prop1.str', 'Hello Universe!');\n * properties.set(obj, 'prop1.arr[2]', 'B');\n * properties.set(obj, 'prop2.arr[0].nested.value', { hello: 'universe' });\n * ```\n *\n * @param {Object} object\n * @param {String} path\n * @param {Mixed} value\n * @api private\n */\n\nfunction setPathValue(obj, path, val) {\n  var parsed = parsePath(path);\n  internalSetPathValue(obj, val, parsed);\n  return obj;\n}\n\nmodule.exports = {\n  hasProperty: hasProperty,\n  getPathInfo: getPathInfo,\n  getPathValue: getPathValue,\n  setPathValue: setPathValue,\n};\n","/*!\n * Chai - test utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar flag = require('./flag');\n\n/**\n * ### .test(object, expression)\n *\n * Test and object for expression.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name test\n */\n\nmodule.exports = function test(obj, args) {\n  var negate = flag(obj, 'negate')\n    , expr = args[0];\n  return negate ? !expr : expr;\n};\n","/*!\n * Chai - expectTypes utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .expectTypes(obj, types)\n *\n * Ensures that the object being tested against is of a valid type.\n *\n *     utils.expectTypes(this, ['array', 'object', 'string']);\n *\n * @param {Mixed} obj constructed Assertion\n * @param {Array} type A list of allowed types for this assertion\n * @namespace Utils\n * @name expectTypes\n * @api public\n */\n\nvar AssertionError = require('assertion-error');\nvar flag = require('./flag');\nvar type = require('type-detect');\n\nmodule.exports = function expectTypes(obj, types) {\n  var flagMsg = flag(obj, 'message');\n  var ssfi = flag(obj, 'ssfi');\n\n  flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n  obj = flag(obj, 'object');\n  types = types.map(function (t) { return t.toLowerCase(); });\n  types.sort();\n\n  // Transforms ['lorem', 'ipsum'] into 'a lorem, or an ipsum'\n  var str = types.map(function (t, index) {\n    var art = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(t.charAt(0)) ? 'an' : 'a';\n    var or = types.length > 1 && index === types.length - 1 ? 'or ' : '';\n    return or + art + ' ' + t;\n  }).join(', ');\n\n  var objType = type(obj).toLowerCase();\n\n  if (!types.some(function (expected) { return objType === expected; })) {\n    throw new AssertionError(\n      flagMsg + 'object tested must be ' + str + ', but ' + objType + ' given',\n      undefined,\n      ssfi\n    );\n  }\n};\n","/*!\n * Chai - message composition utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar flag = require('./flag')\n  , getActual = require('./getActual')\n  , objDisplay = require('./objDisplay');\n\n/**\n * ### .getMessage(object, message, negateMessage)\n *\n * Construct the error message based on flags\n * and template tags. Template tags will return\n * a stringified inspection of the object referenced.\n *\n * Message template tags:\n * - `#{this}` current asserted object\n * - `#{act}` actual value\n * - `#{exp}` expected value\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name getMessage\n * @api public\n */\n\nmodule.exports = function getMessage(obj, args) {\n  var negate = flag(obj, 'negate')\n    , val = flag(obj, 'object')\n    , expected = args[3]\n    , actual = getActual(obj, args)\n    , msg = negate ? args[2] : args[1]\n    , flagMsg = flag(obj, 'message');\n\n  if(typeof msg === \"function\") msg = msg();\n  msg = msg || '';\n  msg = msg\n    .replace(/#\\{this\\}/g, function () { return objDisplay(val); })\n    .replace(/#\\{act\\}/g, function () { return objDisplay(actual); })\n    .replace(/#\\{exp\\}/g, function () { return objDisplay(expected); });\n\n  return flagMsg ? flagMsg + ': ' + msg : msg;\n};\n","/*!\n * Chai - getEnumerableProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getEnumerableProperties(object)\n *\n * This allows the retrieval of enumerable property names of an object,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getEnumerableProperties(object) {\n  var result = [];\n  for (var name in object) {\n    result.push(name);\n  }\n  return result;\n};\n","'use strict';\n/* globals Symbol: false, Uint8Array: false, WeakMap: false */\n/*!\n * deep-eql\n * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar type = require('type-detect');\nfunction FakeMap() {\n  this._key = 'chai/deep-eql__' + Math.random() + Date.now();\n}\n\nFakeMap.prototype = {\n  get: function getMap(key) {\n    return key[this._key];\n  },\n  set: function setMap(key, value) {\n    if (Object.isExtensible(key)) {\n      Object.defineProperty(key, this._key, {\n        value: value,\n        configurable: true,\n      });\n    }\n  },\n};\n\nvar MemoizeMap = typeof WeakMap === 'function' ? WeakMap : FakeMap;\n/*!\n * Check to see if the MemoizeMap has recorded a result of the two operands\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {MemoizeMap} memoizeMap\n * @returns {Boolean|null} result\n*/\nfunction memoizeCompare(leftHandOperand, rightHandOperand, memoizeMap) {\n  // Technically, WeakMap keys can *only* be objects, not primitives.\n  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    return null;\n  }\n  var leftHandMap = memoizeMap.get(leftHandOperand);\n  if (leftHandMap) {\n    var result = leftHandMap.get(rightHandOperand);\n    if (typeof result === 'boolean') {\n      return result;\n    }\n  }\n  return null;\n}\n\n/*!\n * Set the result of the equality into the MemoizeMap\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {MemoizeMap} memoizeMap\n * @param {Boolean} result\n*/\nfunction memoizeSet(leftHandOperand, rightHandOperand, memoizeMap, result) {\n  // Technically, WeakMap keys can *only* be objects, not primitives.\n  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    return;\n  }\n  var leftHandMap = memoizeMap.get(leftHandOperand);\n  if (leftHandMap) {\n    leftHandMap.set(rightHandOperand, result);\n  } else {\n    leftHandMap = new MemoizeMap();\n    leftHandMap.set(rightHandOperand, result);\n    memoizeMap.set(leftHandOperand, leftHandMap);\n  }\n}\n\n/*!\n * Primary Export\n */\n\nmodule.exports = deepEqual;\nmodule.exports.MemoizeMap = MemoizeMap;\n\n/**\n * Assert deeply nested sameValue equality between two objects of any type.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (optional) Additional options\n * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.\n * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of\n    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular\n    references to blow the stack.\n * @return {Boolean} equal match\n */\nfunction deepEqual(leftHandOperand, rightHandOperand, options) {\n  // If we have a comparator, we can't assume anything; so bail to its check first.\n  if (options && options.comparator) {\n    return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);\n  }\n\n  var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);\n  if (simpleResult !== null) {\n    return simpleResult;\n  }\n\n  // Deeper comparisons are pushed through to a larger function\n  return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);\n}\n\n/**\n * Many comparisons can be canceled out early via simple equality or primitive checks.\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @return {Boolean|null} equal match\n */\nfunction simpleEqual(leftHandOperand, rightHandOperand) {\n  // Equal references (except for Numbers) can be returned early\n  if (leftHandOperand === rightHandOperand) {\n    // Handle +-0 cases\n    return leftHandOperand !== 0 || 1 / leftHandOperand === 1 / rightHandOperand;\n  }\n\n  // handle NaN cases\n  if (\n    leftHandOperand !== leftHandOperand && // eslint-disable-line no-self-compare\n    rightHandOperand !== rightHandOperand // eslint-disable-line no-self-compare\n  ) {\n    return true;\n  }\n\n  // Anything that is not an 'object', i.e. symbols, functions, booleans, numbers,\n  // strings, and undefined, can be compared by reference.\n  if (isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    // Easy out b/c it would have passed the first equality check\n    return false;\n  }\n  return null;\n}\n\n/*!\n * The main logic of the `deepEqual` function.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (optional) Additional options\n * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.\n * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of\n    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular\n    references to blow the stack.\n * @return {Boolean} equal match\n*/\nfunction extensiveDeepEqual(leftHandOperand, rightHandOperand, options) {\n  options = options || {};\n  options.memoize = options.memoize === false ? false : options.memoize || new MemoizeMap();\n  var comparator = options && options.comparator;\n\n  // Check if a memoized result exists.\n  var memoizeResultLeft = memoizeCompare(leftHandOperand, rightHandOperand, options.memoize);\n  if (memoizeResultLeft !== null) {\n    return memoizeResultLeft;\n  }\n  var memoizeResultRight = memoizeCompare(rightHandOperand, leftHandOperand, options.memoize);\n  if (memoizeResultRight !== null) {\n    return memoizeResultRight;\n  }\n\n  // If a comparator is present, use it.\n  if (comparator) {\n    var comparatorResult = comparator(leftHandOperand, rightHandOperand);\n    // Comparators may return null, in which case we want to go back to default behavior.\n    if (comparatorResult === false || comparatorResult === true) {\n      memoizeSet(leftHandOperand, rightHandOperand, options.memoize, comparatorResult);\n      return comparatorResult;\n    }\n    // To allow comparators to override *any* behavior, we ran them first. Since it didn't decide\n    // what to do, we need to make sure to return the basic tests first before we move on.\n    var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);\n    if (simpleResult !== null) {\n      // Don't memoize this, it takes longer to set/retrieve than to just compare.\n      return simpleResult;\n    }\n  }\n\n  var leftHandType = type(leftHandOperand);\n  if (leftHandType !== type(rightHandOperand)) {\n    memoizeSet(leftHandOperand, rightHandOperand, options.memoize, false);\n    return false;\n  }\n\n  // Temporarily set the operands in the memoize object to prevent blowing the stack\n  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, true);\n\n  var result = extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options);\n  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, result);\n  return result;\n}\n\nfunction extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options) {\n  switch (leftHandType) {\n    case 'String':\n    case 'Number':\n    case 'Boolean':\n    case 'Date':\n      // If these types are their instance types (e.g. `new Number`) then re-deepEqual against their values\n      return deepEqual(leftHandOperand.valueOf(), rightHandOperand.valueOf());\n    case 'Promise':\n    case 'Symbol':\n    case 'function':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Error':\n      return leftHandOperand === rightHandOperand;\n    case 'Arguments':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'Array':\n      return iterableEqual(leftHandOperand, rightHandOperand, options);\n    case 'RegExp':\n      return regexpEqual(leftHandOperand, rightHandOperand);\n    case 'Generator':\n      return generatorEqual(leftHandOperand, rightHandOperand, options);\n    case 'DataView':\n      return iterableEqual(new Uint8Array(leftHandOperand.buffer), new Uint8Array(rightHandOperand.buffer), options);\n    case 'ArrayBuffer':\n      return iterableEqual(new Uint8Array(leftHandOperand), new Uint8Array(rightHandOperand), options);\n    case 'Set':\n      return entriesEqual(leftHandOperand, rightHandOperand, options);\n    case 'Map':\n      return entriesEqual(leftHandOperand, rightHandOperand, options);\n    default:\n      return objectEqual(leftHandOperand, rightHandOperand, options);\n  }\n}\n\n/*!\n * Compare two Regular Expressions for equality.\n *\n * @param {RegExp} leftHandOperand\n * @param {RegExp} rightHandOperand\n * @return {Boolean} result\n */\n\nfunction regexpEqual(leftHandOperand, rightHandOperand) {\n  return leftHandOperand.toString() === rightHandOperand.toString();\n}\n\n/*!\n * Compare two Sets/Maps for equality. Faster than other equality functions.\n *\n * @param {Set} leftHandOperand\n * @param {Set} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction entriesEqual(leftHandOperand, rightHandOperand, options) {\n  // IE11 doesn't support Set#entries or Set#@@iterator, so we need manually populate using Set#forEach\n  if (leftHandOperand.size !== rightHandOperand.size) {\n    return false;\n  }\n  if (leftHandOperand.size === 0) {\n    return true;\n  }\n  var leftHandItems = [];\n  var rightHandItems = [];\n  leftHandOperand.forEach(function gatherEntries(key, value) {\n    leftHandItems.push([ key, value ]);\n  });\n  rightHandOperand.forEach(function gatherEntries(key, value) {\n    rightHandItems.push([ key, value ]);\n  });\n  return iterableEqual(leftHandItems.sort(), rightHandItems.sort(), options);\n}\n\n/*!\n * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.\n *\n * @param {Iterable} leftHandOperand\n * @param {Iterable} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction iterableEqual(leftHandOperand, rightHandOperand, options) {\n  var length = leftHandOperand.length;\n  if (length !== rightHandOperand.length) {\n    return false;\n  }\n  if (length === 0) {\n    return true;\n  }\n  var index = -1;\n  while (++index < length) {\n    if (deepEqual(leftHandOperand[index], rightHandOperand[index], options) === false) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*!\n * Simple equality for generator objects such as those returned by generator functions.\n *\n * @param {Iterable} leftHandOperand\n * @param {Iterable} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction generatorEqual(leftHandOperand, rightHandOperand, options) {\n  return iterableEqual(getGeneratorEntries(leftHandOperand), getGeneratorEntries(rightHandOperand), options);\n}\n\n/*!\n * Determine if the given object has an @@iterator function.\n *\n * @param {Object} target\n * @return {Boolean} `true` if the object has an @@iterator function.\n */\nfunction hasIteratorFunction(target) {\n  return typeof Symbol !== 'undefined' &&\n    typeof target === 'object' &&\n    typeof Symbol.iterator !== 'undefined' &&\n    typeof target[Symbol.iterator] === 'function';\n}\n\n/*!\n * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.\n * This will consume the iterator - which could have side effects depending on the @@iterator implementation.\n *\n * @param {Object} target\n * @returns {Array} an array of entries from the @@iterator function\n */\nfunction getIteratorEntries(target) {\n  if (hasIteratorFunction(target)) {\n    try {\n      return getGeneratorEntries(target[Symbol.iterator]());\n    } catch (iteratorError) {\n      return [];\n    }\n  }\n  return [];\n}\n\n/*!\n * Gets all entries from a Generator. This will consume the generator - which could have side effects.\n *\n * @param {Generator} target\n * @returns {Array} an array of entries from the Generator.\n */\nfunction getGeneratorEntries(generator) {\n  var generatorResult = generator.next();\n  var accumulator = [ generatorResult.value ];\n  while (generatorResult.done === false) {\n    generatorResult = generator.next();\n    accumulator.push(generatorResult.value);\n  }\n  return accumulator;\n}\n\n/*!\n * Gets all own and inherited enumerable keys from a target.\n *\n * @param {Object} target\n * @returns {Array} an array of own and inherited enumerable keys from the target.\n */\nfunction getEnumerableKeys(target) {\n  var keys = [];\n  for (var key in target) {\n    keys.push(key);\n  }\n  return keys;\n}\n\n/*!\n * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of\n * each key. If any value of the given key is not equal, the function will return false (early).\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\nfunction keysEqual(leftHandOperand, rightHandOperand, keys, options) {\n  var length = keys.length;\n  if (length === 0) {\n    return true;\n  }\n  for (var i = 0; i < length; i += 1) {\n    if (deepEqual(leftHandOperand[keys[i]], rightHandOperand[keys[i]], options) === false) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*!\n * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`\n * for each enumerable key in the object.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction objectEqual(leftHandOperand, rightHandOperand, options) {\n  var leftHandKeys = getEnumerableKeys(leftHandOperand);\n  var rightHandKeys = getEnumerableKeys(rightHandOperand);\n  if (leftHandKeys.length && leftHandKeys.length === rightHandKeys.length) {\n    leftHandKeys.sort();\n    rightHandKeys.sort();\n    if (iterableEqual(leftHandKeys, rightHandKeys) === false) {\n      return false;\n    }\n    return keysEqual(leftHandOperand, rightHandOperand, leftHandKeys, options);\n  }\n\n  var leftHandEntries = getIteratorEntries(leftHandOperand);\n  var rightHandEntries = getIteratorEntries(rightHandOperand);\n  if (leftHandEntries.length && leftHandEntries.length === rightHandEntries.length) {\n    leftHandEntries.sort();\n    rightHandEntries.sort();\n    return iterableEqual(leftHandEntries, rightHandEntries, options);\n  }\n\n  if (leftHandKeys.length === 0 &&\n      leftHandEntries.length === 0 &&\n      rightHandKeys.length === 0 &&\n      rightHandEntries.length === 0) {\n    return true;\n  }\n\n  return false;\n}\n\n/*!\n * Returns true if the argument is a primitive.\n *\n * This intentionally returns true for all objects that can be compared by reference,\n * including functions and symbols.\n *\n * @param {Mixed} value\n * @return {Boolean} result\n */\nfunction isPrimitive(value) {\n  return value === null || typeof value !== 'object';\n}\n","/*!\n * Chai - addProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar isProxyEnabled = require('./isProxyEnabled');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .addProperty(ctx, name, getter)\n *\n * Adds a property to the prototype of an object.\n *\n *     utils.addProperty(chai.Assertion.prototype, 'foo', function () {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.instanceof(Foo);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.foo;\n *\n * @param {Object} ctx object to which the property is added\n * @param {String} name of property to add\n * @param {Function} getter function to be used for name\n * @namespace Utils\n * @name addProperty\n * @api public\n */\n\nmodule.exports = function addProperty(ctx, name, getter) {\n  getter = getter === undefined ? function () {} : getter;\n\n  Object.defineProperty(ctx, name,\n    { get: function propertyGetter() {\n        // Setting the `ssfi` flag to `propertyGetter` causes this function to\n        // be the starting point for removing implementation frames from the\n        // stack trace of a failed assertion.\n        //\n        // However, we only want to use this function as the starting point if\n        // the `lockSsfi` flag isn't set and proxy protection is disabled.\n        //\n        // If the `lockSsfi` flag is set, then either this assertion has been\n        // overwritten by another assertion, or this assertion is being invoked\n        // from inside of another assertion. In the first case, the `ssfi` flag\n        // has already been set by the overwriting assertion. In the second\n        // case, the `ssfi` flag has already been set by the outer assertion.\n        //\n        // If proxy protection is enabled, then the `ssfi` flag has already been\n        // set by the proxy getter.\n        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {\n          flag(this, 'ssfi', propertyGetter);\n        }\n\n        var result = getter.call(this);\n        if (result !== undefined)\n          return result;\n\n        var newAssertion = new chai.Assertion();\n        transferFlags(this, newAssertion);\n        return newAssertion;\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - addMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .addMethod(ctx, name, method)\n *\n * Adds a method to the prototype of an object.\n *\n *     utils.addMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(fooStr).to.be.foo('bar');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for name\n * @namespace Utils\n * @name addMethod\n * @api public\n */\n\nmodule.exports = function addMethod(ctx, name, method) {\n  var methodWrapper = function () {\n    // Setting the `ssfi` flag to `methodWrapper` causes this function to be the\n    // starting point for removing implementation frames from the stack trace of\n    // a failed assertion.\n    //\n    // However, we only want to use this function as the starting point if the\n    // `lockSsfi` flag isn't set.\n    //\n    // If the `lockSsfi` flag is set, then either this assertion has been\n    // overwritten by another assertion, or this assertion is being invoked from\n    // inside of another assertion. In the first case, the `ssfi` flag has\n    // already been set by the overwriting assertion. In the second case, the\n    // `ssfi` flag has already been set by the outer assertion.\n    if (!flag(this, 'lockSsfi')) {\n      flag(this, 'ssfi', methodWrapper);\n    }\n\n    var result = method.apply(this, arguments);\n    if (result !== undefined)\n      return result;\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n\n  addLengthGuard(methodWrapper, name, false);\n  ctx[name] = proxify(methodWrapper, name);\n};\n","/*!\n * Chai - overwriteProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar isProxyEnabled = require('./isProxyEnabled');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteProperty(ctx, name, fn)\n *\n * Overwrites an already existing property getter and provides\n * access to previous value. Must return function to use as getter.\n *\n *     utils.overwriteProperty(chai.Assertion.prototype, 'ok', function (_super) {\n *       return function () {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.name).to.equal('bar');\n *         } else {\n *           _super.call(this);\n *         }\n *       }\n *     });\n *\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.ok;\n *\n * @param {Object} ctx object whose property is to be overwritten\n * @param {String} name of property to overwrite\n * @param {Function} getter function that returns a getter function to be used for name\n * @namespace Utils\n * @name overwriteProperty\n * @api public\n */\n\nmodule.exports = function overwriteProperty(ctx, name, getter) {\n  var _get = Object.getOwnPropertyDescriptor(ctx, name)\n    , _super = function () {};\n\n  if (_get && 'function' === typeof _get.get)\n    _super = _get.get\n\n  Object.defineProperty(ctx, name,\n    { get: function overwritingPropertyGetter() {\n        // Setting the `ssfi` flag to `overwritingPropertyGetter` causes this\n        // function to be the starting point for removing implementation frames\n        // from the stack trace of a failed assertion.\n        //\n        // However, we only want to use this function as the starting point if\n        // the `lockSsfi` flag isn't set and proxy protection is disabled.\n        //\n        // If the `lockSsfi` flag is set, then either this assertion has been\n        // overwritten by another assertion, or this assertion is being invoked\n        // from inside of another assertion. In the first case, the `ssfi` flag\n        // has already been set by the overwriting assertion. In the second\n        // case, the `ssfi` flag has already been set by the outer assertion.\n        //\n        // If proxy protection is enabled, then the `ssfi` flag has already been\n        // set by the proxy getter.\n        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {\n          flag(this, 'ssfi', overwritingPropertyGetter);\n        }\n\n        // Setting the `lockSsfi` flag to `true` prevents the overwritten\n        // assertion from changing the `ssfi` flag. By this point, the `ssfi`\n        // flag is already set to the correct starting point for this assertion.\n        var origLockSsfi = flag(this, 'lockSsfi');\n        flag(this, 'lockSsfi', true);\n        var result = getter(_super).call(this);\n        flag(this, 'lockSsfi', origLockSsfi);\n\n        if (result !== undefined) {\n          return result;\n        }\n\n        var newAssertion = new chai.Assertion();\n        transferFlags(this, newAssertion);\n        return newAssertion;\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - overwriteMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteMethod(ctx, name, fn)\n *\n * Overwrites an already existing method and provides\n * access to previous function. Must return function\n * to be used for name.\n *\n *     utils.overwriteMethod(chai.Assertion.prototype, 'equal', function (_super) {\n *       return function (str) {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.value).to.equal(str);\n *         } else {\n *           _super.apply(this, arguments);\n *         }\n *       }\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.equal('bar');\n *\n * @param {Object} ctx object whose method is to be overwritten\n * @param {String} name of method to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @namespace Utils\n * @name overwriteMethod\n * @api public\n */\n\nmodule.exports = function overwriteMethod(ctx, name, method) {\n  var _method = ctx[name]\n    , _super = function () {\n      throw new Error(name + ' is not a function');\n    };\n\n  if (_method && 'function' === typeof _method)\n    _super = _method;\n\n  var overwritingMethodWrapper = function () {\n    // Setting the `ssfi` flag to `overwritingMethodWrapper` causes this\n    // function to be the starting point for removing implementation frames from\n    // the stack trace of a failed assertion.\n    //\n    // However, we only want to use this function as the starting point if the\n    // `lockSsfi` flag isn't set.\n    //\n    // If the `lockSsfi` flag is set, then either this assertion has been\n    // overwritten by another assertion, or this assertion is being invoked from\n    // inside of another assertion. In the first case, the `ssfi` flag has\n    // already been set by the overwriting assertion. In the second case, the\n    // `ssfi` flag has already been set by the outer assertion.\n    if (!flag(this, 'lockSsfi')) {\n      flag(this, 'ssfi', overwritingMethodWrapper);\n    }\n\n    // Setting the `lockSsfi` flag to `true` prevents the overwritten assertion\n    // from changing the `ssfi` flag. By this point, the `ssfi` flag is already\n    // set to the correct starting point for this assertion.\n    var origLockSsfi = flag(this, 'lockSsfi');\n    flag(this, 'lockSsfi', true);\n    var result = method(_super).apply(this, arguments);\n    flag(this, 'lockSsfi', origLockSsfi);\n\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  }\n\n  addLengthGuard(overwritingMethodWrapper, name, false);\n  ctx[name] = proxify(overwritingMethodWrapper, name);\n};\n","/*!\n * Chai - addChainingMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/*!\n * Module variables\n */\n\n// Check whether `Object.setPrototypeOf` is supported\nvar canSetPrototype = typeof Object.setPrototypeOf === 'function';\n\n// Without `Object.setPrototypeOf` support, this module will need to add properties to a function.\n// However, some of functions' own props are not configurable and should be skipped.\nvar testFn = function() {};\nvar excludeNames = Object.getOwnPropertyNames(testFn).filter(function(name) {\n  var propDesc = Object.getOwnPropertyDescriptor(testFn, name);\n\n  // Note: PhantomJS 1.x includes `callee` as one of `testFn`'s own properties,\n  // but then returns `undefined` as the property descriptor for `callee`. As a\n  // workaround, we perform an otherwise unnecessary type-check for `propDesc`,\n  // and then filter it out if it's not an object as it should be.\n  if (typeof propDesc !== 'object')\n    return true;\n\n  return !propDesc.configurable;\n});\n\n// Cache `Function` properties\nvar call  = Function.prototype.call,\n    apply = Function.prototype.apply;\n\n/**\n * ### .addChainableMethod(ctx, name, method, chainingBehavior)\n *\n * Adds a method to an object, such that the method can also be chained.\n *\n *     utils.addChainableMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addChainableMethod('foo', fn, chainingBehavior);\n *\n * The result can then be used as both a method assertion, executing both `method` and\n * `chainingBehavior`, or as a language chain, which only executes `chainingBehavior`.\n *\n *     expect(fooStr).to.be.foo('bar');\n *     expect(fooStr).to.be.foo.equal('foo');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for `name`, when called\n * @param {Function} chainingBehavior function to be called every time the property is accessed\n * @namespace Utils\n * @name addChainableMethod\n * @api public\n */\n\nmodule.exports = function addChainableMethod(ctx, name, method, chainingBehavior) {\n  if (typeof chainingBehavior !== 'function') {\n    chainingBehavior = function () { };\n  }\n\n  var chainableBehavior = {\n      method: method\n    , chainingBehavior: chainingBehavior\n  };\n\n  // save the methods so we can overwrite them later, if we need to.\n  if (!ctx.__methods) {\n    ctx.__methods = {};\n  }\n  ctx.__methods[name] = chainableBehavior;\n\n  Object.defineProperty(ctx, name,\n    { get: function chainableMethodGetter() {\n        chainableBehavior.chainingBehavior.call(this);\n\n        var chainableMethodWrapper = function () {\n          // Setting the `ssfi` flag to `chainableMethodWrapper` causes this\n          // function to be the starting point for removing implementation\n          // frames from the stack trace of a failed assertion.\n          //\n          // However, we only want to use this function as the starting point if\n          // the `lockSsfi` flag isn't set.\n          //\n          // If the `lockSsfi` flag is set, then this assertion is being\n          // invoked from inside of another assertion. In this case, the `ssfi`\n          // flag has already been set by the outer assertion.\n          //\n          // Note that overwriting a chainable method merely replaces the saved\n          // methods in `ctx.__methods` instead of completely replacing the\n          // overwritten assertion. Therefore, an overwriting assertion won't\n          // set the `ssfi` or `lockSsfi` flags.\n          if (!flag(this, 'lockSsfi')) {\n            flag(this, 'ssfi', chainableMethodWrapper);\n          }\n\n          var result = chainableBehavior.method.apply(this, arguments);\n          if (result !== undefined) {\n            return result;\n          }\n\n          var newAssertion = new chai.Assertion();\n          transferFlags(this, newAssertion);\n          return newAssertion;\n        };\n\n        addLengthGuard(chainableMethodWrapper, name, true);\n\n        // Use `Object.setPrototypeOf` if available\n        if (canSetPrototype) {\n          // Inherit all properties from the object by replacing the `Function` prototype\n          var prototype = Object.create(this);\n          // Restore the `call` and `apply` methods from `Function`\n          prototype.call = call;\n          prototype.apply = apply;\n          Object.setPrototypeOf(chainableMethodWrapper, prototype);\n        }\n        // Otherwise, redefine all properties (slow!)\n        else {\n          var asserterNames = Object.getOwnPropertyNames(ctx);\n          asserterNames.forEach(function (asserterName) {\n            if (excludeNames.indexOf(asserterName) !== -1) {\n              return;\n            }\n\n            var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);\n            Object.defineProperty(chainableMethodWrapper, asserterName, pd);\n          });\n        }\n\n        transferFlags(this, chainableMethodWrapper);\n        return proxify(chainableMethodWrapper);\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - overwriteChainableMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteChainableMethod(ctx, name, method, chainingBehavior)\n *\n * Overwrites an already existing chainable method\n * and provides access to the previous function or\n * property.  Must return functions to be used for\n * name.\n *\n *     utils.overwriteChainableMethod(chai.Assertion.prototype, 'lengthOf',\n *       function (_super) {\n *       }\n *     , function (_super) {\n *       }\n *     );\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteChainableMethod('foo', fn, fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.have.lengthOf(3);\n *     expect(myFoo).to.have.lengthOf.above(3);\n *\n * @param {Object} ctx object whose method / property is to be overwritten\n * @param {String} name of method / property to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @param {Function} chainingBehavior function that returns a function to be used for property\n * @namespace Utils\n * @name overwriteChainableMethod\n * @api public\n */\n\nmodule.exports = function overwriteChainableMethod(ctx, name, method, chainingBehavior) {\n  var chainableBehavior = ctx.__methods[name];\n\n  var _chainingBehavior = chainableBehavior.chainingBehavior;\n  chainableBehavior.chainingBehavior = function overwritingChainableMethodGetter() {\n    var result = chainingBehavior(_chainingBehavior).call(this);\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n\n  var _method = chainableBehavior.method;\n  chainableBehavior.method = function overwritingChainableMethodWrapper() {\n    var result = method(_method).apply(this, arguments);\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n};\n","/*!\n * Chai - compareByInspect utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar inspect = require('./inspect');\n\n/**\n * ### .compareByInspect(mixed, mixed)\n *\n * To be used as a compareFunction with Array.prototype.sort. Compares elements\n * using inspect instead of default behavior of using toString so that Symbols\n * and objects with irregular/missing toString can still be sorted without a\n * TypeError.\n *\n * @param {Mixed} first element to compare\n * @param {Mixed} second element to compare\n * @returns {Number} -1 if 'a' should come before 'b'; otherwise 1\n * @name compareByInspect\n * @namespace Utils\n * @api public\n */\n\nmodule.exports = function compareByInspect(a, b) {\n  return inspect(a) < inspect(b) ? -1 : 1;\n};\n","/*!\n * Chai - getOwnEnumerableProperties utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar getOwnEnumerablePropertySymbols = require('./getOwnEnumerablePropertySymbols');\n\n/**\n * ### .getOwnEnumerableProperties(object)\n *\n * This allows the retrieval of directly-owned enumerable property names and\n * symbols of an object. This function is necessary because Object.keys only\n * returns enumerable property names, not enumerable property symbols.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getOwnEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getOwnEnumerableProperties(obj) {\n  return Object.keys(obj).concat(getOwnEnumerablePropertySymbols(obj));\n};\n","'use strict';\n\n/* !\n * Chai - checkError utility\n * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .checkError\n *\n * Checks that an error conforms to a given set of criteria and/or retrieves information about it.\n *\n * @api public\n */\n\n/**\n * ### .compatibleInstance(thrown, errorLike)\n *\n * Checks if two instances are compatible (strict equal).\n * Returns false if errorLike is not an instance of Error, because instances\n * can only be compatible if they're both error instances.\n *\n * @name compatibleInstance\n * @param {Error} thrown error\n * @param {Error|ErrorConstructor} errorLike object to compare against\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleInstance(thrown, errorLike) {\n  return errorLike instanceof Error && thrown === errorLike;\n}\n\n/**\n * ### .compatibleConstructor(thrown, errorLike)\n *\n * Checks if two constructors are compatible.\n * This function can receive either an error constructor or\n * an error instance as the `errorLike` argument.\n * Constructors are compatible if they're the same or if one is\n * an instance of another.\n *\n * @name compatibleConstructor\n * @param {Error} thrown error\n * @param {Error|ErrorConstructor} errorLike object to compare against\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleConstructor(thrown, errorLike) {\n  if (errorLike instanceof Error) {\n    // If `errorLike` is an instance of any error we compare their constructors\n    return thrown.constructor === errorLike.constructor || thrown instanceof errorLike.constructor;\n  } else if (errorLike.prototype instanceof Error || errorLike === Error) {\n    // If `errorLike` is a constructor that inherits from Error, we compare `thrown` to `errorLike` directly\n    return thrown.constructor === errorLike || thrown instanceof errorLike;\n  }\n\n  return false;\n}\n\n/**\n * ### .compatibleMessage(thrown, errMatcher)\n *\n * Checks if an error's message is compatible with a matcher (String or RegExp).\n * If the message contains the String or passes the RegExp test,\n * it is considered compatible.\n *\n * @name compatibleMessage\n * @param {Error} thrown error\n * @param {String|RegExp} errMatcher to look for into the message\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleMessage(thrown, errMatcher) {\n  var comparisonString = typeof thrown === 'string' ? thrown : thrown.message;\n  if (errMatcher instanceof RegExp) {\n    return errMatcher.test(comparisonString);\n  } else if (typeof errMatcher === 'string') {\n    return comparisonString.indexOf(errMatcher) !== -1; // eslint-disable-line no-magic-numbers\n  }\n\n  return false;\n}\n\n/**\n * ### .getFunctionName(constructorFn)\n *\n * Returns the name of a function.\n * This also includes a polyfill function if `constructorFn.name` is not defined.\n *\n * @name getFunctionName\n * @param {Function} constructorFn\n * @namespace Utils\n * @api private\n */\n\nvar functionNameMatch = /\\s*function(?:\\s|\\s*\\/\\*[^(?:*\\/)]+\\*\\/\\s*)*([^\\(\\/]+)/;\nfunction getFunctionName(constructorFn) {\n  var name = '';\n  if (typeof constructorFn.name === 'undefined') {\n    // Here we run a polyfill if constructorFn.name is not defined\n    var match = String(constructorFn).match(functionNameMatch);\n    if (match) {\n      name = match[1];\n    }\n  } else {\n    name = constructorFn.name;\n  }\n\n  return name;\n}\n\n/**\n * ### .getConstructorName(errorLike)\n *\n * Gets the constructor name for an Error instance or constructor itself.\n *\n * @name getConstructorName\n * @param {Error|ErrorConstructor} errorLike\n * @namespace Utils\n * @api public\n */\n\nfunction getConstructorName(errorLike) {\n  var constructorName = errorLike;\n  if (errorLike instanceof Error) {\n    constructorName = getFunctionName(errorLike.constructor);\n  } else if (typeof errorLike === 'function') {\n    // If `err` is not an instance of Error it is an error constructor itself or another function.\n    // If we've got a common function we get its name, otherwise we may need to create a new instance\n    // of the error just in case it's a poorly-constructed error. Please see chaijs/chai/issues/45 to know more.\n    constructorName = getFunctionName(errorLike).trim() ||\n        getFunctionName(new errorLike()); // eslint-disable-line new-cap\n  }\n\n  return constructorName;\n}\n\n/**\n * ### .getMessage(errorLike)\n *\n * Gets the error message from an error.\n * If `err` is a String itself, we return it.\n * If the error has no message, we return an empty string.\n *\n * @name getMessage\n * @param {Error|String} errorLike\n * @namespace Utils\n * @api public\n */\n\nfunction getMessage(errorLike) {\n  var msg = '';\n  if (errorLike && errorLike.message) {\n    msg = errorLike.message;\n  } else if (typeof errorLike === 'string') {\n    msg = errorLike;\n  }\n\n  return msg;\n}\n\nmodule.exports = {\n  compatibleInstance: compatibleInstance,\n  compatibleConstructor: compatibleConstructor,\n  compatibleMessage: compatibleMessage,\n  getMessage: getMessage,\n  getConstructorName: getConstructorName,\n};\n","/*!\n * Chai - isNaN utility\n * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\n * MIT Licensed\n */\n\n/**\n * ### .isNaN(value)\n *\n * Checks if the given value is NaN or not.\n *\n *     utils.isNaN(NaN); // true\n *\n * @param {Value} The value which has to be checked if it is NaN\n * @name isNaN\n * @api private\n */\n\nfunction isNaN(value) {\n  // Refer http://www.ecma-international.org/ecma-262/6.0/#sec-isnan-number\n  // section's NOTE.\n  return value !== value;\n}\n\n// If ECMAScript 6's Number.isNaN is present, prefer that.\nmodule.exports = Number.isNaN || isNaN;\n","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('./config');\n\nmodule.exports = function (_chai, util) {\n  /*!\n   * Module dependencies.\n   */\n\n  var AssertionError = _chai.AssertionError\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  _chai.Assertion = Assertion;\n\n  /*!\n   * Assertion Constructor\n   *\n   * Creates object for chaining.\n   *\n   * `Assertion` objects contain metadata in the form of flags. Three flags can\n   * be assigned during instantiation by passing arguments to this constructor:\n   *\n   * - `object`: This flag contains the target of the assertion. For example, in\n   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will\n   *   contain `numKittens` so that the `equal` assertion can reference it when\n   *   needed.\n   *\n   * - `message`: This flag contains an optional custom error message to be\n   *   prepended to the error message that's generated by the assertion when it\n   *   fails.\n   *\n   * - `ssfi`: This flag stands for \"start stack function indicator\". It\n   *   contains a function reference that serves as the starting point for\n   *   removing frames from the stack trace of the error that's created by the\n   *   assertion when it fails. The goal is to provide a cleaner stack trace to\n   *   end users by removing Chai's internal functions. Note that it only works\n   *   in environments that support `Error.captureStackTrace`, and only when\n   *   `Chai.config.includeStack` hasn't been set to `false`.\n   *\n   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag\n   *   should retain its current value, even as assertions are chained off of\n   *   this object. This is usually set to `true` when creating a new assertion\n   *   from within another assertion. It's also temporarily set to `true` before\n   *   an overwritten assertion gets called by the overwriting assertion.\n   *\n   * @param {Mixed} obj target of the assertion\n   * @param {String} msg (optional) custom error message\n   * @param {Function} ssfi (optional) starting point for removing stack frames\n   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked\n   * @api private\n   */\n\n  function Assertion (obj, msg, ssfi, lockSsfi) {\n    flag(this, 'ssfi', ssfi || Assertion);\n    flag(this, 'lockSsfi', lockSsfi);\n    flag(this, 'object', obj);\n    flag(this, 'message', msg);\n\n    return util.proxify(this);\n  }\n\n  Object.defineProperty(Assertion, 'includeStack', {\n    get: function() {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      return config.includeStack;\n    },\n    set: function(value) {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      config.includeStack = value;\n    }\n  });\n\n  Object.defineProperty(Assertion, 'showDiff', {\n    get: function() {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      return config.showDiff;\n    },\n    set: function(value) {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      config.showDiff = value;\n    }\n  });\n\n  Assertion.addProperty = function (name, fn) {\n    util.addProperty(this.prototype, name, fn);\n  };\n\n  Assertion.addMethod = function (name, fn) {\n    util.addMethod(this.prototype, name, fn);\n  };\n\n  Assertion.addChainableMethod = function (name, fn, chainingBehavior) {\n    util.addChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  Assertion.overwriteProperty = function (name, fn) {\n    util.overwriteProperty(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteMethod = function (name, fn) {\n    util.overwriteMethod(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {\n    util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  /**\n   * ### .assert(expression, message, negateMessage, expected, actual, showDiff)\n   *\n   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.\n   *\n   * @name assert\n   * @param {Philosophical} expression to be tested\n   * @param {String|Function} message or function that returns message to display if expression fails\n   * @param {String|Function} negatedMessage or function that returns negatedMessage to display if negated expression fails\n   * @param {Mixed} expected value (remember to check for negation)\n   * @param {Mixed} actual (optional) will default to `this.obj`\n   * @param {Boolean} showDiff (optional) when set to `true`, assert will display a diff in addition to the message if expression fails\n   * @api private\n   */\n\n  Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {\n    var ok = util.test(this, arguments);\n    if (false !== showDiff) showDiff = true;\n    if (undefined === expected && undefined === _actual) showDiff = false;\n    if (true !== config.showDiff) showDiff = false;\n\n    if (!ok) {\n      msg = util.getMessage(this, arguments);\n      var actual = util.getActual(this, arguments);\n      throw new AssertionError(msg, {\n          actual: actual\n        , expected: expected\n        , showDiff: showDiff\n      }, (config.includeStack) ? this.assert : flag(this, 'ssfi'));\n    }\n  };\n\n  /*!\n   * ### ._obj\n   *\n   * Quick reference to stored `actual` value for plugin developers.\n   *\n   * @api private\n   */\n\n  Object.defineProperty(Assertion.prototype, '_obj',\n    { get: function () {\n        return flag(this, 'object');\n      }\n    , set: function (val) {\n        flag(this, 'object', val);\n      }\n  });\n};\n","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, _) {\n  var Assertion = chai.Assertion\n    , AssertionError = chai.AssertionError\n    , flag = _.flag;\n\n  /**\n   * ### Language Chains\n   *\n   * The following are provided as chainable getters to improve the readability\n   * of your assertions.\n   *\n   * **Chains**\n   *\n   * - to\n   * - be\n   * - been\n   * - is\n   * - that\n   * - which\n   * - and\n   * - has\n   * - have\n   * - with\n   * - at\n   * - of\n   * - same\n   * - but\n   * - does\n   * - still\n   *\n   * @name language chains\n   * @namespace BDD\n   * @api public\n   */\n\n  [ 'to', 'be', 'been', 'is'\n  , 'and', 'has', 'have', 'with'\n  , 'that', 'which', 'at', 'of'\n  , 'same', 'but', 'does', 'still' ].forEach(function (chain) {\n    Assertion.addProperty(chain);\n  });\n\n  /**\n   * ### .not\n   *\n   * Negates all assertions that follow in the chain.\n   *\n   *     expect(function () {}).to.not.throw();\n   *     expect({a: 1}).to.not.have.property('b');\n   *     expect([1, 2]).to.be.an('array').that.does.not.include(3);\n   *\n   * Just because you can negate any assertion with `.not` doesn't mean you\n   * should. With great power comes great responsibility. It's often best to\n   * assert that the one expected output was produced, rather than asserting\n   * that one of countless unexpected outputs wasn't produced. See individual\n   * assertions for specific guidance.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.equal(1); // Not recommended\n   *\n   * @name not\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('not', function () {\n    flag(this, 'negate', true);\n  });\n\n  /**\n   * ### .deep\n   *\n   * Causes all `.equal`, `.include`, `.members`, `.keys`, and `.property`\n   * assertions that follow in the chain to use deep equality instead of strict\n   * (`===`) equality. See the `deep-eql` project page for info on the deep\n   * equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) equals `{a: 1}`\n   *     expect({a: 1}).to.deep.equal({a: 1});\n   *     expect({a: 1}).to.not.equal({a: 1});\n   *\n   *     // Target array deeply (but not strictly) includes `{a: 1}`\n   *     expect([{a: 1}]).to.deep.include({a: 1});\n   *     expect([{a: 1}]).to.not.include({a: 1});\n   *\n   *     // Target object deeply (but not strictly) includes `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});\n   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});\n   *\n   *     // Target array deeply (but not strictly) has member `{a: 1}`\n   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);\n   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);\n   *\n   *     // Target set deeply (but not strictly) has key `{a: 1}`\n   *     expect(new Set([{a: 1}])).to.have.deep.keys([{a: 1}]);\n   *     expect(new Set([{a: 1}])).to.not.have.keys([{a: 1}]);\n   *\n   *     // Target object deeply (but not strictly) has property `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});\n   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});\n   *\n   * @name deep\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('deep', function () {\n    flag(this, 'deep', true);\n  });\n\n  /**\n   * ### .nested\n   *\n   * Enables dot- and bracket-notation in all `.property` and `.include`\n   * assertions that follow in the chain.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');\n   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\\\.a.\\\\[b\\\\]');\n   *     expect({'.a': {'[b]': 'x'}}).to.nested.include({'\\\\.a.\\\\[b\\\\]': 'x'});\n   *\n   * `.nested` cannot be combined with `.own`.\n   *\n   * @name nested\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('nested', function () {\n    flag(this, 'nested', true);\n  });\n\n  /**\n   * ### .own\n   *\n   * Causes all `.property` and `.include` assertions that follow in the chain\n   * to ignore inherited properties.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.have.own.property('a');\n   *     expect({a: 1}).to.have.property('b');\n   *     expect({a: 1}).to.not.have.own.property('b');\n   *\n   *     expect({a: 1}).to.own.include({a: 1});\n   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});\n   *\n   * `.own` cannot be combined with `.nested`.\n   *\n   * @name own\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('own', function () {\n    flag(this, 'own', true);\n  });\n\n  /**\n   * ### .ordered\n   *\n   * Causes all `.members` assertions that follow in the chain to require that\n   * members be in the same order.\n   *\n   *     expect([1, 2]).to.have.ordered.members([1, 2])\n   *       .but.not.have.ordered.members([2, 1]);\n   *\n   * When `.include` and `.ordered` are combined, the ordering begins at the\n   * start of both arrays.\n   *\n   *     expect([1, 2, 3]).to.include.ordered.members([1, 2])\n   *       .but.not.include.ordered.members([2, 3]);\n   *\n   * @name ordered\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('ordered', function () {\n    flag(this, 'ordered', true);\n  });\n\n  /**\n   * ### .any\n   *\n   * Causes all `.keys` assertions that follow in the chain to only require that\n   * the target have at least one of the given keys. This is the opposite of\n   * `.all`, which requires that the target have all of the given keys.\n   *\n   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');\n   *\n   * See the `.keys` doc for guidance on when to use `.any` or `.all`.\n   *\n   * @name any\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('any', function () {\n    flag(this, 'any', true);\n    flag(this, 'all', false);\n  });\n\n  /**\n   * ### .all\n   *\n   * Causes all `.keys` assertions that follow in the chain to require that the\n   * target have all of the given keys. This is the opposite of `.any`, which\n   * only requires that the target have at least one of the given keys.\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *\n   * Note that `.all` is used by default when neither `.all` nor `.any` are\n   * added earlier in the chain. However, it's often best to add `.all` anyway\n   * because it improves readability.\n   *\n   * See the `.keys` doc for guidance on when to use `.any` or `.all`.\n   *\n   * @name all\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('all', function () {\n    flag(this, 'all', true);\n    flag(this, 'any', false);\n  });\n\n  /**\n   * ### .a(type[, msg])\n   *\n   * Asserts that the target's type is equal to the given string `type`. Types\n   * are case insensitive. See the `type-detect` project page for info on the\n   * type detection algorithm: https://github.com/chaijs/type-detect.\n   *\n   *     expect('foo').to.be.a('string');\n   *     expect({a: 1}).to.be.an('object');\n   *     expect(null).to.be.a('null');\n   *     expect(undefined).to.be.an('undefined');\n   *     expect(new Error).to.be.an('error');\n   *     expect(Promise.resolve()).to.be.a('promise');\n   *     expect(new Float32Array).to.be.a('float32array');\n   *     expect(Symbol()).to.be.a('symbol');\n   *\n   * `.a` supports objects that have a custom type set via `Symbol.toStringTag`.\n   *\n   *     var myObj = {\n   *       [Symbol.toStringTag]: 'myCustomType'\n   *     };\n   *\n   *     expect(myObj).to.be.a('myCustomType').but.not.an('object');\n   *\n   * It's often best to use `.a` to check a target's type before making more\n   * assertions on the same target. That way, you avoid unexpected behavior from\n   * any assertion that does different things based on the target's type.\n   *\n   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);\n   *     expect([]).to.be.an('array').that.is.empty;\n   *\n   * Add `.not` earlier in the chain to negate `.a`. However, it's often best to\n   * assert that the target is the expected type, rather than asserting that it\n   * isn't one of many unexpected types.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.an('array'); // Not recommended\n   *\n   * `.a` accepts an optional `msg` argument which is a custom error message to\n   * show when the assertion fails. The message can also be given as the second\n   * argument to `expect`.\n   *\n   *     expect(1).to.be.a('string', 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.a('string');\n   *\n   * `.a` can also be used as a language chain to improve the readability of\n   * your assertions.\n   *\n   *     expect({b: 2}).to.have.a.property('b');\n   *\n   * The alias `.an` can be used interchangeably with `.a`.\n   *\n   * @name a\n   * @alias an\n   * @param {String} type\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function an (type, msg) {\n    if (msg) flag(this, 'message', msg);\n    type = type.toLowerCase();\n    var obj = flag(this, 'object')\n      , article = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(type.charAt(0)) ? 'an ' : 'a ';\n\n    this.assert(\n        type === _.type(obj).toLowerCase()\n      , 'expected #{this} to be ' + article + type\n      , 'expected #{this} not to be ' + article + type\n    );\n  }\n\n  Assertion.addChainableMethod('an', an);\n  Assertion.addChainableMethod('a', an);\n\n  /**\n   * ### .include(val[, msg])\n   *\n   * When the target is a string, `.include` asserts that the given string `val`\n   * is a substring of the target.\n   *\n   *     expect('foobar').to.include('foo');\n   *\n   * When the target is an array, `.include` asserts that the given `val` is a\n   * member of the target.\n   *\n   *     expect([1, 2, 3]).to.include(2);\n   *\n   * When the target is an object, `.include` asserts that the given object\n   * `val`'s properties are a subset of the target's properties.\n   *\n   *     expect({a: 1, b: 2, c: 3}).to.include({a: 1, b: 2});\n   *\n   * When the target is a Set or WeakSet, `.include` asserts that the given `val` is a\n   * member of the target. SameValueZero equality algorithm is used.\n   *\n   *     expect(new Set([1, 2])).to.include(2);\n   *\n   * When the target is a Map, `.include` asserts that the given `val` is one of\n   * the values of the target. SameValueZero equality algorithm is used.\n   *\n   *     expect(new Map([['a', 1], ['b', 2]])).to.include(2);\n   *\n   * Because `.include` does different things based on the target's type, it's\n   * important to check the target's type before using `.include`. See the `.a`\n   * doc for info on testing a target's type.\n   *\n   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);\n   *\n   * By default, strict (`===`) equality is used to compare array members and\n   * object properties. Add `.deep` earlier in the chain to use deep equality\n   * instead (WeakSet targets are not supported). See the `deep-eql` project\n   * page for info on the deep equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target array deeply (but not strictly) includes `{a: 1}`\n   *     expect([{a: 1}]).to.deep.include({a: 1});\n   *     expect([{a: 1}]).to.not.include({a: 1});\n   *\n   *     // Target object deeply (but not strictly) includes `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});\n   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});\n   *\n   * By default, all of the target's properties are searched when working with\n   * objects. This includes properties that are inherited and/or non-enumerable.\n   * Add `.own` earlier in the chain to exclude the target's inherited\n   * properties from the search.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.own.include({a: 1});\n   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});\n   *\n   * Note that a target object is always only searched for `val`'s own\n   * enumerable properties.\n   *\n   * `.deep` and `.own` can be combined.\n   *\n   *     expect({a: {b: 2}}).to.deep.own.include({a: {b: 2}});\n   *\n   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when\n   * referencing nested properties.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 2}}).to.nested.include({'\\\\.a.\\\\[b\\\\]': 2});\n   *\n   * `.deep` and `.nested` can be combined.\n   *\n   *     expect({a: {b: [{c: 3}]}}).to.deep.nested.include({'a.b[0]': {c: 3}});\n   *\n   * `.own` and `.nested` cannot be combined.\n   *\n   * Add `.not` earlier in the chain to negate `.include`.\n   *\n   *     expect('foobar').to.not.include('taco');\n   *     expect([1, 2, 3]).to.not.include(4);\n   *\n   * However, it's dangerous to negate `.include` when the target is an object.\n   * The problem is that it creates uncertain expectations by asserting that the\n   * target object doesn't have all of `val`'s key/value pairs but may or may\n   * not have some of them. It's often best to identify the exact output that's\n   * expected, and then write an assertion that only accepts that exact output.\n   *\n   * When the target object isn't even expected to have `val`'s keys, it's\n   * often best to assert exactly that.\n   *\n   *     expect({c: 3}).to.not.have.any.keys('a', 'b'); // Recommended\n   *     expect({c: 3}).to.not.include({a: 1, b: 2}); // Not recommended\n   *\n   * When the target object is expected to have `val`'s keys, it's often best to\n   * assert that each of the properties has its expected value, rather than\n   * asserting that each property doesn't have one of many unexpected values.\n   *\n   *     expect({a: 3, b: 4}).to.include({a: 3, b: 4}); // Recommended\n   *     expect({a: 3, b: 4}).to.not.include({a: 1, b: 2}); // Not recommended\n   *\n   * `.include` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2, 3]).to.include(4, 'nooo why fail??');\n   *     expect([1, 2, 3], 'nooo why fail??').to.include(4);\n   *\n   * `.include` can also be used as a language chain, causing all `.members` and\n   * `.keys` assertions that follow in the chain to require the target to be a\n   * superset of the expected set, rather than an identical set. Note that\n   * `.members` ignores duplicates in the subset when `.include` is added.\n   *\n   *     // Target object's keys are a superset of ['a', 'b'] but not identical\n   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');\n   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');\n   *\n   *     // Target array is a superset of [1, 2] but not identical\n   *     expect([1, 2, 3]).to.include.members([1, 2]);\n   *     expect([1, 2, 3]).to.not.have.members([1, 2]);\n   *\n   *     // Duplicates in the subset are ignored\n   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);\n   *\n   * Note that adding `.any` earlier in the chain causes the `.keys` assertion\n   * to ignore `.include`.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1}).to.include.any.keys('a', 'b');\n   *     expect({a: 1}).to.have.any.keys('a', 'b');\n   *\n   * The aliases `.includes`, `.contain`, and `.contains` can be used\n   * interchangeably with `.include`.\n   *\n   * @name include\n   * @alias contain\n   * @alias includes\n   * @alias contains\n   * @param {Mixed} val\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function SameValueZero(a, b) {\n    return (_.isNaN(a) && _.isNaN(b)) || a === b;\n  }\n\n  function includeChainingBehavior () {\n    flag(this, 'contains', true);\n  }\n\n  function include (val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var obj = flag(this, 'object')\n      , objType = _.type(obj).toLowerCase()\n      , flagMsg = flag(this, 'message')\n      , negate = flag(this, 'negate')\n      , ssfi = flag(this, 'ssfi')\n      , isDeep = flag(this, 'deep')\n      , descriptor = isDeep ? 'deep ' : '';\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    var included = false;\n\n    switch (objType) {\n      case 'string':\n        included = obj.indexOf(val) !== -1;\n        break;\n\n      case 'weakset':\n        if (isDeep) {\n          throw new AssertionError(\n            flagMsg + 'unable to use .deep.include with WeakSet',\n            undefined,\n            ssfi\n          );\n        }\n\n        included = obj.has(val);\n        break;\n\n      case 'map':\n        var isEql = isDeep ? _.eql : SameValueZero;\n        obj.forEach(function (item) {\n          included = included || isEql(item, val);\n        });\n        break;\n\n      case 'set':\n        if (isDeep) {\n          obj.forEach(function (item) {\n            included = included || _.eql(item, val);\n          });\n        } else {\n          included = obj.has(val);\n        }\n        break;\n\n      case 'array':\n        if (isDeep) {\n          included = obj.some(function (item) {\n            return _.eql(item, val);\n          })\n        } else {\n          included = obj.indexOf(val) !== -1;\n        }\n        break;\n\n      default:\n        // This block is for asserting a subset of properties in an object.\n        // `_.expectTypes` isn't used here because `.include` should work with\n        // objects with a custom `@@toStringTag`.\n        if (val !== Object(val)) {\n          throw new AssertionError(\n            flagMsg + 'object tested must be an array, a map, an object,'\n              + ' a set, a string, or a weakset, but ' + objType + ' given',\n            undefined,\n            ssfi\n          );\n        }\n\n        var props = Object.keys(val)\n          , firstErr = null\n          , numErrs = 0;\n\n        props.forEach(function (prop) {\n          var propAssertion = new Assertion(obj);\n          _.transferFlags(this, propAssertion, true);\n          flag(propAssertion, 'lockSsfi', true);\n\n          if (!negate || props.length === 1) {\n            propAssertion.property(prop, val[prop]);\n            return;\n          }\n\n          try {\n            propAssertion.property(prop, val[prop]);\n          } catch (err) {\n            if (!_.checkError.compatibleConstructor(err, AssertionError)) {\n              throw err;\n            }\n            if (firstErr === null) firstErr = err;\n            numErrs++;\n          }\n        }, this);\n\n        // When validating .not.include with multiple properties, we only want\n        // to throw an assertion error if all of the properties are included,\n        // in which case we throw the first property assertion error that we\n        // encountered.\n        if (negate && props.length > 1 && numErrs === props.length) {\n          throw firstErr;\n        }\n        return;\n    }\n\n    // Assert inclusion in collection or substring in a string.\n    this.assert(\n      included\n      , 'expected #{this} to ' + descriptor + 'include ' + _.inspect(val)\n      , 'expected #{this} to not ' + descriptor + 'include ' + _.inspect(val));\n  }\n\n  Assertion.addChainableMethod('include', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contain', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contains', include, includeChainingBehavior);\n  Assertion.addChainableMethod('includes', include, includeChainingBehavior);\n\n  /**\n   * ### .ok\n   *\n   * Asserts that the target is a truthy value (considered `true` in boolean context).\n   * However, it's often best to assert that the target is strictly (`===`) or\n   * deeply equal to its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.ok; // Not recommended\n   *\n   *     expect(true).to.be.true; // Recommended\n   *     expect(true).to.be.ok; // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.ok`.\n   *\n   *     expect(0).to.equal(0); // Recommended\n   *     expect(0).to.not.be.ok; // Not recommended\n   *\n   *     expect(false).to.be.false; // Recommended\n   *     expect(false).to.not.be.ok; // Not recommended\n   *\n   *     expect(null).to.be.null; // Recommended\n   *     expect(null).to.not.be.ok; // Not recommended\n   *\n   *     expect(undefined).to.be.undefined; // Recommended\n   *     expect(undefined).to.not.be.ok; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(false, 'nooo why fail??').to.be.ok;\n   *\n   * @name ok\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('ok', function () {\n    this.assert(\n        flag(this, 'object')\n      , 'expected #{this} to be truthy'\n      , 'expected #{this} to be falsy');\n  });\n\n  /**\n   * ### .true\n   *\n   * Asserts that the target is strictly (`===`) equal to `true`.\n   *\n   *     expect(true).to.be.true;\n   *\n   * Add `.not` earlier in the chain to negate `.true`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `true`.\n   *\n   *     expect(false).to.be.false; // Recommended\n   *     expect(false).to.not.be.true; // Not recommended\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.true; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(false, 'nooo why fail??').to.be.true;\n   *\n   * @name true\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('true', function () {\n    this.assert(\n        true === flag(this, 'object')\n      , 'expected #{this} to be true'\n      , 'expected #{this} to be false'\n      , flag(this, 'negate') ? false : true\n    );\n  });\n\n  /**\n   * ### .false\n   *\n   * Asserts that the target is strictly (`===`) equal to `false`.\n   *\n   *     expect(false).to.be.false;\n   *\n   * Add `.not` earlier in the chain to negate `.false`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to `false`.\n   *\n   *     expect(true).to.be.true; // Recommended\n   *     expect(true).to.not.be.false; // Not recommended\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.false; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(true, 'nooo why fail??').to.be.false;\n   *\n   * @name false\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('false', function () {\n    this.assert(\n        false === flag(this, 'object')\n      , 'expected #{this} to be false'\n      , 'expected #{this} to be true'\n      , flag(this, 'negate') ? true : false\n    );\n  });\n\n  /**\n   * ### .null\n   *\n   * Asserts that the target is strictly (`===`) equal to `null`.\n   *\n   *     expect(null).to.be.null;\n   *\n   * Add `.not` earlier in the chain to negate `.null`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `null`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.null; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.null;\n   *\n   * @name null\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('null', function () {\n    this.assert(\n        null === flag(this, 'object')\n      , 'expected #{this} to be null'\n      , 'expected #{this} not to be null'\n    );\n  });\n\n  /**\n   * ### .undefined\n   *\n   * Asserts that the target is strictly (`===`) equal to `undefined`.\n   *\n   *     expect(undefined).to.be.undefined;\n   *\n   * Add `.not` earlier in the chain to negate `.undefined`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to `undefined`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.undefined; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.undefined;\n   *\n   * @name undefined\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('undefined', function () {\n    this.assert(\n        undefined === flag(this, 'object')\n      , 'expected #{this} to be undefined'\n      , 'expected #{this} not to be undefined'\n    );\n  });\n\n  /**\n   * ### .NaN\n   *\n   * Asserts that the target is exactly `NaN`.\n   *\n   *     expect(NaN).to.be.NaN;\n   *\n   * Add `.not` earlier in the chain to negate `.NaN`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `NaN`.\n   *\n   *     expect('foo').to.equal('foo'); // Recommended\n   *     expect('foo').to.not.be.NaN; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.NaN;\n   *\n   * @name NaN\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('NaN', function () {\n    this.assert(\n        _.isNaN(flag(this, 'object'))\n        , 'expected #{this} to be NaN'\n        , 'expected #{this} not to be NaN'\n    );\n  });\n\n  /**\n   * ### .exist\n   *\n   * Asserts that the target is not strictly (`===`) equal to either `null` or\n   * `undefined`. However, it's often best to assert that the target is equal to\n   * its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.exist; // Not recommended\n   *\n   *     expect(0).to.equal(0); // Recommended\n   *     expect(0).to.exist; // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.exist`.\n   *\n   *     expect(null).to.be.null; // Recommended\n   *     expect(null).to.not.exist; // Not recommended\n   *\n   *     expect(undefined).to.be.undefined; // Recommended\n   *     expect(undefined).to.not.exist; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(null, 'nooo why fail??').to.exist;\n   *\n   * @name exist\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('exist', function () {\n    var val = flag(this, 'object');\n    this.assert(\n        val !== null && val !== undefined\n      , 'expected #{this} to exist'\n      , 'expected #{this} to not exist'\n    );\n  });\n\n  /**\n   * ### .empty\n   *\n   * When the target is a string or array, `.empty` asserts that the target's\n   * `length` property is strictly (`===`) equal to `0`.\n   *\n   *     expect([]).to.be.empty;\n   *     expect('').to.be.empty;\n   *\n   * When the target is a map or set, `.empty` asserts that the target's `size`\n   * property is strictly equal to `0`.\n   *\n   *     expect(new Set()).to.be.empty;\n   *     expect(new Map()).to.be.empty;\n   *\n   * When the target is a non-function object, `.empty` asserts that the target\n   * doesn't have any own enumerable properties. Properties with Symbol-based\n   * keys are excluded from the count.\n   *\n   *     expect({}).to.be.empty;\n   *\n   * Because `.empty` does different things based on the target's type, it's\n   * important to check the target's type before using `.empty`. See the `.a`\n   * doc for info on testing a target's type.\n   *\n   *     expect([]).to.be.an('array').that.is.empty;\n   *\n   * Add `.not` earlier in the chain to negate `.empty`. However, it's often\n   * best to assert that the target contains its expected number of values,\n   * rather than asserting that it's not empty.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.not.be.empty; // Not recommended\n   *\n   *     expect(new Set([1, 2, 3])).to.have.property('size', 3); // Recommended\n   *     expect(new Set([1, 2, 3])).to.not.be.empty; // Not recommended\n   *\n   *     expect(Object.keys({a: 1})).to.have.lengthOf(1); // Recommended\n   *     expect({a: 1}).to.not.be.empty; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect([1, 2, 3], 'nooo why fail??').to.be.empty;\n   *\n   * @name empty\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('empty', function () {\n    var val = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , flagMsg = flag(this, 'message')\n      , itemsCount;\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    switch (_.type(val).toLowerCase()) {\n      case 'array':\n      case 'string':\n        itemsCount = val.length;\n        break;\n      case 'map':\n      case 'set':\n        itemsCount = val.size;\n        break;\n      case 'weakmap':\n      case 'weakset':\n        throw new AssertionError(\n          flagMsg + '.empty was passed a weak collection',\n          undefined,\n          ssfi\n        );\n      case 'function':\n        var msg = flagMsg + '.empty was passed a function ' + _.getName(val);\n        throw new AssertionError(msg.trim(), undefined, ssfi);\n      default:\n        if (val !== Object(val)) {\n          throw new AssertionError(\n            flagMsg + '.empty was passed non-string primitive ' + _.inspect(val),\n            undefined,\n            ssfi\n          );\n        }\n        itemsCount = Object.keys(val).length;\n    }\n\n    this.assert(\n        0 === itemsCount\n      , 'expected #{this} to be empty'\n      , 'expected #{this} not to be empty'\n    );\n  });\n\n  /**\n   * ### .arguments\n   *\n   * Asserts that the target is an `arguments` object.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments;\n   *     }\n   *\n   *     test();\n   *\n   * Add `.not` earlier in the chain to negate `.arguments`. However, it's often\n   * best to assert which type the target is expected to be, rather than\n   * asserting that its not an `arguments` object.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.arguments; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({}, 'nooo why fail??').to.be.arguments;\n   *\n   * The alias `.Arguments` can be used interchangeably with `.arguments`.\n   *\n   * @name arguments\n   * @alias Arguments\n   * @namespace BDD\n   * @api public\n   */\n\n  function checkArguments () {\n    var obj = flag(this, 'object')\n      , type = _.type(obj);\n    this.assert(\n        'Arguments' === type\n      , 'expected #{this} to be arguments but got ' + type\n      , 'expected #{this} to not be arguments'\n    );\n  }\n\n  Assertion.addProperty('arguments', checkArguments);\n  Assertion.addProperty('Arguments', checkArguments);\n\n  /**\n   * ### .equal(val[, msg])\n   *\n   * Asserts that the target is strictly (`===`) equal to the given `val`.\n   *\n   *     expect(1).to.equal(1);\n   *     expect('foo').to.equal('foo');\n   *\n   * Add `.deep` earlier in the chain to use deep equality instead. See the\n   * `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) equals `{a: 1}`\n   *     expect({a: 1}).to.deep.equal({a: 1});\n   *     expect({a: 1}).to.not.equal({a: 1});\n   *\n   *     // Target array deeply (but not strictly) equals `[1, 2]`\n   *     expect([1, 2]).to.deep.equal([1, 2]);\n   *     expect([1, 2]).to.not.equal([1, 2]);\n   *\n   * Add `.not` earlier in the chain to negate `.equal`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to one of countless unexpected values.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.equal(2); // Not recommended\n   *\n   * `.equal` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.equal(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.equal(2);\n   *\n   * The aliases `.equals` and `eq` can be used interchangeably with `.equal`.\n   *\n   * @name equal\n   * @alias equals\n   * @alias eq\n   * @param {Mixed} val\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertEqual (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'deep')) {\n      var prevLockSsfi = flag(this, 'lockSsfi');\n      flag(this, 'lockSsfi', true);\n      this.eql(val);\n      flag(this, 'lockSsfi', prevLockSsfi);\n    } else {\n      this.assert(\n          val === obj\n        , 'expected #{this} to equal #{exp}'\n        , 'expected #{this} to not equal #{exp}'\n        , val\n        , this._obj\n        , true\n      );\n    }\n  }\n\n  Assertion.addMethod('equal', assertEqual);\n  Assertion.addMethod('equals', assertEqual);\n  Assertion.addMethod('eq', assertEqual);\n\n  /**\n   * ### .eql(obj[, msg])\n   *\n   * Asserts that the target is deeply equal to the given `obj`. See the\n   * `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object is deeply (but not strictly) equal to {a: 1}\n   *     expect({a: 1}).to.eql({a: 1}).but.not.equal({a: 1});\n   *\n   *     // Target array is deeply (but not strictly) equal to [1, 2]\n   *     expect([1, 2]).to.eql([1, 2]).but.not.equal([1, 2]);\n   *\n   * Add `.not` earlier in the chain to negate `.eql`. However, it's often best\n   * to assert that the target is deeply equal to its expected value, rather\n   * than not deeply equal to one of countless unexpected values.\n   *\n   *     expect({a: 1}).to.eql({a: 1}); // Recommended\n   *     expect({a: 1}).to.not.eql({b: 2}); // Not recommended\n   *\n   * `.eql` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect({a: 1}).to.eql({b: 2}, 'nooo why fail??');\n   *     expect({a: 1}, 'nooo why fail??').to.eql({b: 2});\n   *\n   * The alias `.eqls` can be used interchangeably with `.eql`.\n   *\n   * The `.deep.equal` assertion is almost identical to `.eql` but with one\n   * difference: `.deep.equal` causes deep equality comparisons to also be used\n   * for any other assertions that follow in the chain.\n   *\n   * @name eql\n   * @alias eqls\n   * @param {Mixed} obj\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertEql(obj, msg) {\n    if (msg) flag(this, 'message', msg);\n    this.assert(\n        _.eql(obj, flag(this, 'object'))\n      , 'expected #{this} to deeply equal #{exp}'\n      , 'expected #{this} to not deeply equal #{exp}'\n      , obj\n      , this._obj\n      , true\n    );\n  }\n\n  Assertion.addMethod('eql', assertEql);\n  Assertion.addMethod('eqls', assertEql);\n\n  /**\n   * ### .above(n[, msg])\n   *\n   * Asserts that the target is a number or a date greater than the given number or date `n` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.above(1); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.above(2); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.above(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.above`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(1).to.not.be.above(2); // Not recommended\n   *\n   * `.above` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.above(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.above(2);\n   *\n   * The aliases `.gt` and `.greaterThan` can be used interchangeably with\n   * `.above`.\n   *\n   * @name above\n   * @alias gt\n   * @alias greaterThan\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertAbove (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to above must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to above must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount > n\n        , 'expected #{this} to have a ' + descriptor + ' above #{exp} but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + ' above #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj > n\n        , 'expected #{this} to be above #{exp}'\n        , 'expected #{this} to be at most #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('above', assertAbove);\n  Assertion.addMethod('gt', assertAbove);\n  Assertion.addMethod('greaterThan', assertAbove);\n\n  /**\n   * ### .least(n[, msg])\n   *\n   * Asserts that the target is a number or a date greater than or equal to the given\n   * number or date `n` respectively. However, it's often best to assert that the target is equal to\n   * its expected value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.at.least(1); // Not recommended\n   *     expect(2).to.be.at.least(2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than or equal to the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.at.least(2); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.at.least(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.least`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.at.least(2); // Not recommended\n   *\n   * `.least` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.at.least(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.at.least(2);\n   *\n   * The alias `.gte` can be used interchangeably with `.least`.\n   *\n   * @name least\n   * @alias gte\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertLeast (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to least must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to least must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount >= n\n        , 'expected #{this} to have a ' + descriptor + ' at least #{exp} but got #{act}'\n        , 'expected #{this} to have a ' + descriptor + ' below #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj >= n\n        , 'expected #{this} to be at least #{exp}'\n        , 'expected #{this} to be below #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('least', assertLeast);\n  Assertion.addMethod('gte', assertLeast);\n\n  /**\n   * ### .below(n[, msg])\n   *\n   * Asserts that the target is a number or a date less than the given number or date `n` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.below(2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is less than the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.below(4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.length(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.below(4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.below`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.be.below(1); // Not recommended\n   *\n   * `.below` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(2).to.be.below(1, 'nooo why fail??');\n   *     expect(2, 'nooo why fail??').to.be.below(1);\n   *\n   * The aliases `.lt` and `.lessThan` can be used interchangeably with\n   * `.below`.\n   *\n   * @name below\n   * @alias lt\n   * @alias lessThan\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertBelow (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to below must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to below must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount < n\n        , 'expected #{this} to have a ' + descriptor + ' below #{exp} but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + ' below #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj < n\n        , 'expected #{this} to be below #{exp}'\n        , 'expected #{this} to be at least #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('below', assertBelow);\n  Assertion.addMethod('lt', assertBelow);\n  Assertion.addMethod('lessThan', assertBelow);\n\n  /**\n   * ### .most(n[, msg])\n   *\n   * Asserts that the target is a number or a date less than or equal to the given number\n   * or date `n` respectively. However, it's often best to assert that the target is equal to its\n   * expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.at.most(2); // Not recommended\n   *     expect(1).to.be.at.most(1); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is less than or equal to the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.at.most(4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.at.most(4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.most`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.be.at.most(1); // Not recommended\n   *\n   * `.most` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(2).to.be.at.most(1, 'nooo why fail??');\n   *     expect(2, 'nooo why fail??').to.be.at.most(1);\n   *\n   * The alias `.lte` can be used interchangeably with `.most`.\n   *\n   * @name most\n   * @alias lte\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertMost (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to most must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to most must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount <= n\n        , 'expected #{this} to have a ' + descriptor + ' at most #{exp} but got #{act}'\n        , 'expected #{this} to have a ' + descriptor + ' above #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj <= n\n        , 'expected #{this} to be at most #{exp}'\n        , 'expected #{this} to be above #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('most', assertMost);\n  Assertion.addMethod('lte', assertMost);\n\n  /**\n   * ### .within(start, finish[, msg])\n   *\n   * Asserts that the target is a number or a date greater than or equal to the given\n   * number or date `start`, and less than or equal to the given number or date `finish` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.within(1, 3); // Not recommended\n   *     expect(2).to.be.within(2, 3); // Not recommended\n   *     expect(2).to.be.within(1, 2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than or equal to the given number `start`, and less\n   * than or equal to the given number `finish`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.within(2, 4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.within(2, 4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.within`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.within(2, 4); // Not recommended\n   *\n   * `.within` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(4).to.be.within(1, 3, 'nooo why fail??');\n   *     expect(4, 'nooo why fail??').to.be.within(1, 3);\n   *\n   * @name within\n   * @param {Number} start lower bound inclusive\n   * @param {Number} finish upper bound inclusive\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('within', function (start, finish, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , startType = _.type(start).toLowerCase()\n      , finishType = _.type(finish).toLowerCase()\n      , errorMessage\n      , shouldThrow = true\n      , range = (startType === 'date' && finishType === 'date')\n          ? start.toUTCString() + '..' + finish.toUTCString()\n          : start + '..' + finish;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && (startType !== 'date' || finishType !== 'date'))) {\n      errorMessage = msgPrefix + 'the arguments to within must be dates';\n    } else if ((startType !== 'number' || finishType !== 'number') && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the arguments to within must be numbers';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount >= start && itemsCount <= finish\n        , 'expected #{this} to have a ' + descriptor + ' within ' + range\n        , 'expected #{this} to not have a ' + descriptor + ' within ' + range\n      );\n    } else {\n      this.assert(\n          obj >= start && obj <= finish\n        , 'expected #{this} to be within ' + range\n        , 'expected #{this} to not be within ' + range\n      );\n    }\n  });\n\n  /**\n   * ### .instanceof(constructor[, msg])\n   *\n   * Asserts that the target is an instance of the given `constructor`.\n   *\n   *     function Cat () { }\n   *\n   *     expect(new Cat()).to.be.an.instanceof(Cat);\n   *     expect([1, 2]).to.be.an.instanceof(Array);\n   *\n   * Add `.not` earlier in the chain to negate `.instanceof`.\n   *\n   *     expect({a: 1}).to.not.be.an.instanceof(Array);\n   *\n   * `.instanceof` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1).to.be.an.instanceof(Array, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.an.instanceof(Array);\n   *\n   * Due to limitations in ES5, `.instanceof` may not always work as expected\n   * when using a transpiler such as Babel or TypeScript. In particular, it may\n   * produce unexpected results when subclassing built-in object such as\n   * `Array`, `Error`, and `Map`. See your transpiler's docs for details:\n   *\n   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))\n   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))\n   *\n   * The alias `.instanceOf` can be used interchangeably with `.instanceof`.\n   *\n   * @name instanceof\n   * @param {Constructor} constructor\n   * @param {String} msg _optional_\n   * @alias instanceOf\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertInstanceOf (constructor, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var target = flag(this, 'object')\n    var ssfi = flag(this, 'ssfi');\n    var flagMsg = flag(this, 'message');\n\n    try {\n      var isInstanceOf = target instanceof constructor;\n    } catch (err) {\n      if (err instanceof TypeError) {\n        flagMsg = flagMsg ? flagMsg + ': ' : '';\n        throw new AssertionError(\n          flagMsg + 'The instanceof assertion needs a constructor but '\n            + _.type(constructor) + ' was given.',\n          undefined,\n          ssfi\n        );\n      }\n      throw err;\n    }\n\n    var name = _.getName(constructor);\n    if (name === null) {\n      name = 'an unnamed constructor';\n    }\n\n    this.assert(\n        isInstanceOf\n      , 'expected #{this} to be an instance of ' + name\n      , 'expected #{this} to not be an instance of ' + name\n    );\n  };\n\n  Assertion.addMethod('instanceof', assertInstanceOf);\n  Assertion.addMethod('instanceOf', assertInstanceOf);\n\n  /**\n   * ### .property(name[, val[, msg]])\n   *\n   * Asserts that the target has a property with the given key `name`.\n   *\n   *     expect({a: 1}).to.have.property('a');\n   *\n   * When `val` is provided, `.property` also asserts that the property's value\n   * is equal to the given `val`.\n   *\n   *     expect({a: 1}).to.have.property('a', 1);\n   *\n   * By default, strict (`===`) equality is used. Add `.deep` earlier in the\n   * chain to use deep equality instead. See the `deep-eql` project page for\n   * info on the deep equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) has property `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});\n   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});\n   *\n   * The target's enumerable and non-enumerable properties are always included\n   * in the search. By default, both own and inherited properties are included.\n   * Add `.own` earlier in the chain to exclude inherited properties from the\n   * search.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.have.own.property('a');\n   *     expect({a: 1}).to.have.own.property('a', 1);\n   *     expect({a: 1}).to.have.property('b');\n   *     expect({a: 1}).to.not.have.own.property('b');\n   *\n   * `.deep` and `.own` can be combined.\n   *\n   *     expect({x: {a: 1}}).to.have.deep.own.property('x', {a: 1});\n   *\n   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when\n   * referencing nested properties.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]', 'y');\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\\\.a.\\\\[b\\\\]');\n   *\n   * `.deep` and `.nested` can be combined.\n   *\n   *     expect({a: {b: [{c: 3}]}})\n   *       .to.have.deep.nested.property('a.b[0]', {c: 3});\n   *\n   * `.own` and `.nested` cannot be combined.\n   *\n   * Add `.not` earlier in the chain to negate `.property`.\n   *\n   *     expect({a: 1}).to.not.have.property('b');\n   *\n   * However, it's dangerous to negate `.property` when providing `val`. The\n   * problem is that it creates uncertain expectations by asserting that the\n   * target either doesn't have a property with the given key `name`, or that it\n   * does have a property with the given key `name` but its value isn't equal to\n   * the given `val`. It's often best to identify the exact output that's\n   * expected, and then write an assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to have a property with the given key\n   * `name`, it's often best to assert exactly that.\n   *\n   *     expect({b: 2}).to.not.have.property('a'); // Recommended\n   *     expect({b: 2}).to.not.have.property('a', 1); // Not recommended\n   *\n   * When the target is expected to have a property with the given key `name`,\n   * it's often best to assert that the property has its expected value, rather\n   * than asserting that it doesn't have one of many unexpected values.\n   *\n   *     expect({a: 3}).to.have.property('a', 3); // Recommended\n   *     expect({a: 3}).to.not.have.property('a', 1); // Not recommended\n   *\n   * `.property` changes the target of any assertions that follow in the chain\n   * to be the value of the property from the original target object.\n   *\n   *     expect({a: 1}).to.have.property('a').that.is.a('number');\n   *\n   * `.property` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing `val`, only use the\n   * second form.\n   *\n   *     // Recommended\n   *     expect({a: 1}).to.have.property('a', 2, 'nooo why fail??');\n   *     expect({a: 1}, 'nooo why fail??').to.have.property('a', 2);\n   *     expect({a: 1}, 'nooo why fail??').to.have.property('b');\n   *\n   *     // Not recommended\n   *     expect({a: 1}).to.have.property('b', undefined, 'nooo why fail??');\n   *\n   * The above assertion isn't the same thing as not providing `val`. Instead,\n   * it's asserting that the target object has a `b` property that's equal to\n   * `undefined`.\n   *\n   * The assertions `.ownProperty` and `.haveOwnProperty` can be used\n   * interchangeably with `.own.property`.\n   *\n   * @name property\n   * @param {String} name\n   * @param {Mixed} val (optional)\n   * @param {String} msg _optional_\n   * @returns value of property for chaining\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertProperty (name, val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var isNested = flag(this, 'nested')\n      , isOwn = flag(this, 'own')\n      , flagMsg = flag(this, 'message')\n      , obj = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , nameType = typeof name;\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    if (isNested) {\n      if (nameType !== 'string') {\n        throw new AssertionError(\n          flagMsg + 'the argument to property must be a string when using nested syntax',\n          undefined,\n          ssfi\n        );\n      }\n    } else {\n      if (nameType !== 'string' && nameType !== 'number' && nameType !== 'symbol') {\n        throw new AssertionError(\n          flagMsg + 'the argument to property must be a string, number, or symbol',\n          undefined,\n          ssfi\n        );\n      }\n    }\n\n    if (isNested && isOwn) {\n      throw new AssertionError(\n        flagMsg + 'The \"nested\" and \"own\" flags cannot be combined.',\n        undefined,\n        ssfi\n      );\n    }\n\n    if (obj === null || obj === undefined) {\n      throw new AssertionError(\n        flagMsg + 'Target cannot be null or undefined.',\n        undefined,\n        ssfi\n      );\n    }\n\n    var isDeep = flag(this, 'deep')\n      , negate = flag(this, 'negate')\n      , pathInfo = isNested ? _.getPathInfo(obj, name) : null\n      , value = isNested ? pathInfo.value : obj[name];\n\n    var descriptor = '';\n    if (isDeep) descriptor += 'deep ';\n    if (isOwn) descriptor += 'own ';\n    if (isNested) descriptor += 'nested ';\n    descriptor += 'property ';\n\n    var hasProperty;\n    if (isOwn) hasProperty = Object.prototype.hasOwnProperty.call(obj, name);\n    else if (isNested) hasProperty = pathInfo.exists;\n    else hasProperty = _.hasProperty(obj, name);\n\n    // When performing a negated assertion for both name and val, merely having\n    // a property with the given name isn't enough to cause the assertion to\n    // fail. It must both have a property with the given name, and the value of\n    // that property must equal the given val. Therefore, skip this assertion in\n    // favor of the next.\n    if (!negate || arguments.length === 1) {\n      this.assert(\n          hasProperty\n        , 'expected #{this} to have ' + descriptor + _.inspect(name)\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name));\n    }\n\n    if (arguments.length > 1) {\n      this.assert(\n          hasProperty && (isDeep ? _.eql(val, value) : val === value)\n        , 'expected #{this} to have ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}'\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name) + ' of #{act}'\n        , val\n        , value\n      );\n    }\n\n    flag(this, 'object', value);\n  }\n\n  Assertion.addMethod('property', assertProperty);\n\n  function assertOwnProperty (name, value, msg) {\n    flag(this, 'own', true);\n    assertProperty.apply(this, arguments);\n  }\n\n  Assertion.addMethod('ownProperty', assertOwnProperty);\n  Assertion.addMethod('haveOwnProperty', assertOwnProperty);\n\n  /**\n   * ### .ownPropertyDescriptor(name[, descriptor[, msg]])\n   *\n   * Asserts that the target has its own property descriptor with the given key\n   * `name`. Enumerable and non-enumerable properties are included in the\n   * search.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a');\n   *\n   * When `descriptor` is provided, `.ownPropertyDescriptor` also asserts that\n   * the property's descriptor is deeply equal to the given `descriptor`. See\n   * the `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * Add `.not` earlier in the chain to negate `.ownPropertyDescriptor`.\n   *\n   *     expect({a: 1}).to.not.have.ownPropertyDescriptor('b');\n   *\n   * However, it's dangerous to negate `.ownPropertyDescriptor` when providing\n   * a `descriptor`. The problem is that it creates uncertain expectations by\n   * asserting that the target either doesn't have a property descriptor with\n   * the given key `name`, or that it does have a property descriptor with the\n   * given key `name` but its not deeply equal to the given `descriptor`. It's\n   * often best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to have a property descriptor with the given\n   * key `name`, it's often best to assert exactly that.\n   *\n   *     // Recommended\n   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a');\n   *\n   *     // Not recommended\n   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * When the target is expected to have a property descriptor with the given\n   * key `name`, it's often best to assert that the property has its expected\n   * descriptor, rather than asserting that it doesn't have one of many\n   * unexpected descriptors.\n   *\n   *     // Recommended\n   *     expect({a: 3}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 3,\n   *     });\n   *\n   *     // Not recommended\n   *     expect({a: 3}).to.not.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * `.ownPropertyDescriptor` changes the target of any assertions that follow\n   * in the chain to be the value of the property descriptor from the original\n   * target object.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a')\n   *       .that.has.property('enumerable', true);\n   *\n   * `.ownPropertyDescriptor` accepts an optional `msg` argument which is a\n   * custom error message to show when the assertion fails. The message can also\n   * be given as the second argument to `expect`. When not providing\n   * `descriptor`, only use the second form.\n   *\n   *     // Recommended\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 2,\n   *     }, 'nooo why fail??');\n   *\n   *     // Recommended\n   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 2,\n   *     });\n   *\n   *     // Recommended\n   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('b');\n   *\n   *     // Not recommended\n   *     expect({a: 1})\n   *       .to.have.ownPropertyDescriptor('b', undefined, 'nooo why fail??');\n   *\n   * The above assertion isn't the same thing as not providing `descriptor`.\n   * Instead, it's asserting that the target object has a `b` property\n   * descriptor that's deeply equal to `undefined`.\n   *\n   * The alias `.haveOwnPropertyDescriptor` can be used interchangeably with\n   * `.ownPropertyDescriptor`.\n   *\n   * @name ownPropertyDescriptor\n   * @alias haveOwnPropertyDescriptor\n   * @param {String} name\n   * @param {Object} descriptor _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertOwnPropertyDescriptor (name, descriptor, msg) {\n    if (typeof descriptor === 'string') {\n      msg = descriptor;\n      descriptor = null;\n    }\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var actualDescriptor = Object.getOwnPropertyDescriptor(Object(obj), name);\n    if (actualDescriptor && descriptor) {\n      this.assert(\n          _.eql(descriptor, actualDescriptor)\n        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to match ' + _.inspect(descriptor) + ', got ' + _.inspect(actualDescriptor)\n        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to not match ' + _.inspect(descriptor)\n        , descriptor\n        , actualDescriptor\n        , true\n      );\n    } else {\n      this.assert(\n          actualDescriptor\n        , 'expected #{this} to have an own property descriptor for ' + _.inspect(name)\n        , 'expected #{this} to not have an own property descriptor for ' + _.inspect(name)\n      );\n    }\n    flag(this, 'object', actualDescriptor);\n  }\n\n  Assertion.addMethod('ownPropertyDescriptor', assertOwnPropertyDescriptor);\n  Assertion.addMethod('haveOwnPropertyDescriptor', assertOwnPropertyDescriptor);\n\n  /**\n   * ### .lengthOf(n[, msg])\n   *\n   * Asserts that the target's `length` or `size` is equal to the given number\n   * `n`.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3);\n   *     expect('foo').to.have.lengthOf(3);\n   *     expect(new Set([1, 2, 3])).to.have.lengthOf(3);\n   *     expect(new Map([['a', 1], ['b', 2], ['c', 3]])).to.have.lengthOf(3);\n   *\n   * Add `.not` earlier in the chain to negate `.lengthOf`. However, it's often\n   * best to assert that the target's `length` property is equal to its expected\n   * value, rather than not equal to one of many unexpected values.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.not.have.lengthOf(4); // Not recommended\n   *\n   * `.lengthOf` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(2, 'nooo why fail??');\n   *     expect([1, 2, 3], 'nooo why fail??').to.have.lengthOf(2);\n   *\n   * `.lengthOf` can also be used as a language chain, causing all `.above`,\n   * `.below`, `.least`, `.most`, and `.within` assertions that follow in the\n   * chain to use the target's `length` property as the target. However, it's\n   * often best to assert that the target's `length` property is equal to its\n   * expected length, rather than asserting that its `length` property falls\n   * within some range of values.\n   *\n   *     // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf(3);\n   *\n   *     // Not recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.above(2);\n   *     expect([1, 2, 3]).to.have.lengthOf.below(4);\n   *     expect([1, 2, 3]).to.have.lengthOf.at.least(3);\n   *     expect([1, 2, 3]).to.have.lengthOf.at.most(3);\n   *     expect([1, 2, 3]).to.have.lengthOf.within(2,4);\n   *\n   * Due to a compatibility issue, the alias `.length` can't be chained directly\n   * off of an uninvoked method such as `.a`. Therefore, `.length` can't be used\n   * interchangeably with `.lengthOf` in every situation. It's recommended to\n   * always use `.lengthOf` instead of `.length`.\n   *\n   *     expect([1, 2, 3]).to.have.a.length(3); // incompatible; throws error\n   *     expect([1, 2, 3]).to.have.a.lengthOf(3);  // passes as expected\n   *\n   * @name lengthOf\n   * @alias length\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertLengthChain () {\n    flag(this, 'doLength', true);\n  }\n\n  function assertLength (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , objType = _.type(obj).toLowerCase()\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi')\n      , descriptor = 'length'\n      , itemsCount;\n\n    switch (objType) {\n      case 'map':\n      case 'set':\n        descriptor = 'size';\n        itemsCount = obj.size;\n        break;\n      default:\n        new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n        itemsCount = obj.length;\n    }\n\n    this.assert(\n        itemsCount == n\n      , 'expected #{this} to have a ' + descriptor + ' of #{exp} but got #{act}'\n      , 'expected #{this} to not have a ' + descriptor + ' of #{act}'\n      , n\n      , itemsCount\n    );\n  }\n\n  Assertion.addChainableMethod('length', assertLength, assertLengthChain);\n  Assertion.addChainableMethod('lengthOf', assertLength, assertLengthChain);\n\n  /**\n   * ### .match(re[, msg])\n   *\n   * Asserts that the target matches the given regular expression `re`.\n   *\n   *     expect('foobar').to.match(/^foo/);\n   *\n   * Add `.not` earlier in the chain to negate `.match`.\n   *\n   *     expect('foobar').to.not.match(/taco/);\n   *\n   * `.match` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect('foobar').to.match(/taco/, 'nooo why fail??');\n   *     expect('foobar', 'nooo why fail??').to.match(/taco/);\n   *\n   * The alias `.matches` can be used interchangeably with `.match`.\n   *\n   * @name match\n   * @alias matches\n   * @param {RegExp} re\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n  function assertMatch(re, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        re.exec(obj)\n      , 'expected #{this} to match ' + re\n      , 'expected #{this} not to match ' + re\n    );\n  }\n\n  Assertion.addMethod('match', assertMatch);\n  Assertion.addMethod('matches', assertMatch);\n\n  /**\n   * ### .string(str[, msg])\n   *\n   * Asserts that the target string contains the given substring `str`.\n   *\n   *     expect('foobar').to.have.string('bar');\n   *\n   * Add `.not` earlier in the chain to negate `.string`.\n   *\n   *     expect('foobar').to.not.have.string('taco');\n   *\n   * `.string` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect('foobar').to.have.string('taco', 'nooo why fail??');\n   *     expect('foobar', 'nooo why fail??').to.have.string('taco');\n   *\n   * @name string\n   * @param {String} str\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('string', function (str, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(obj, flagMsg, ssfi, true).is.a('string');\n\n    this.assert(\n        ~obj.indexOf(str)\n      , 'expected #{this} to contain ' + _.inspect(str)\n      , 'expected #{this} to not contain ' + _.inspect(str)\n    );\n  });\n\n  /**\n   * ### .keys(key1[, key2[, ...]])\n   *\n   * Asserts that the target object, array, map, or set has the given keys. Only\n   * the target's own inherited properties are included in the search.\n   *\n   * When the target is an object or array, keys can be provided as one or more\n   * string arguments, a single array argument, or a single object argument. In\n   * the latter case, only the keys in the given object matter; the values are\n   * ignored.\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *     expect(['x', 'y']).to.have.all.keys(0, 1);\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys(['a', 'b']);\n   *     expect(['x', 'y']).to.have.all.keys([0, 1]);\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys({a: 4, b: 5}); // ignore 4 and 5\n   *     expect(['x', 'y']).to.have.all.keys({0: 4, 1: 5}); // ignore 4 and 5\n   *\n   * When the target is a map or set, each key must be provided as a separate\n   * argument.\n   *\n   *     expect(new Map([['a', 1], ['b', 2]])).to.have.all.keys('a', 'b');\n   *     expect(new Set(['a', 'b'])).to.have.all.keys('a', 'b');\n   *\n   * Because `.keys` does different things based on the target's type, it's\n   * important to check the target's type before using `.keys`. See the `.a` doc\n   * for info on testing a target's type.\n   *\n   *     expect({a: 1, b: 2}).to.be.an('object').that.has.all.keys('a', 'b');\n   *\n   * By default, strict (`===`) equality is used to compare keys of maps and\n   * sets. Add `.deep` earlier in the chain to use deep equality instead. See\n   * the `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target set deeply (but not strictly) has key `{a: 1}`\n   *     expect(new Set([{a: 1}])).to.have.all.deep.keys([{a: 1}]);\n   *     expect(new Set([{a: 1}])).to.not.have.all.keys([{a: 1}]);\n   *\n   * By default, the target must have all of the given keys and no more. Add\n   * `.any` earlier in the chain to only require that the target have at least\n   * one of the given keys. Also, add `.not` earlier in the chain to negate\n   * `.keys`. It's often best to add `.any` when negating `.keys`, and to use\n   * `.all` when asserting `.keys` without negation.\n   *\n   * When negating `.keys`, `.any` is preferred because `.not.any.keys` asserts\n   * exactly what's expected of the output, whereas `.not.all.keys` creates\n   * uncertain expectations.\n   *\n   *     // Recommended; asserts that target doesn't have any of the given keys\n   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');\n   *\n   *     // Not recommended; asserts that target doesn't have all of the given\n   *     // keys but may or may not have some of them\n   *     expect({a: 1, b: 2}).to.not.have.all.keys('c', 'd');\n   *\n   * When asserting `.keys` without negation, `.all` is preferred because\n   * `.all.keys` asserts exactly what's expected of the output, whereas\n   * `.any.keys` creates uncertain expectations.\n   *\n   *     // Recommended; asserts that target has all the given keys\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *\n   *     // Not recommended; asserts that target has at least one of the given\n   *     // keys but may or may not have more of them\n   *     expect({a: 1, b: 2}).to.have.any.keys('a', 'b');\n   *\n   * Note that `.all` is used by default when neither `.all` nor `.any` appear\n   * earlier in the chain. However, it's often best to add `.all` anyway because\n   * it improves readability.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b'); // Recommended\n   *     expect({a: 1, b: 2}).to.have.keys('a', 'b'); // Not recommended\n   *\n   * Add `.include` earlier in the chain to require that the target's keys be a\n   * superset of the expected keys, rather than identical sets.\n   *\n   *     // Target object's keys are a superset of ['a', 'b'] but not identical\n   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');\n   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');\n   *\n   * However, if `.any` and `.include` are combined, only the `.any` takes\n   * effect. The `.include` is ignored in this case.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1}).to.have.any.keys('a', 'b');\n   *     expect({a: 1}).to.include.any.keys('a', 'b');\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.have.key('b');\n   *\n   * The alias `.key` can be used interchangeably with `.keys`.\n   *\n   * @name keys\n   * @alias key\n   * @param {...String|Array|Object} keys\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertKeys (keys) {\n    var obj = flag(this, 'object')\n      , objType = _.type(obj)\n      , keysType = _.type(keys)\n      , ssfi = flag(this, 'ssfi')\n      , isDeep = flag(this, 'deep')\n      , str\n      , deepStr = ''\n      , actual\n      , ok = true\n      , flagMsg = flag(this, 'message');\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n    var mixedArgsMsg = flagMsg + 'when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments';\n\n    if (objType === 'Map' || objType === 'Set') {\n      deepStr = isDeep ? 'deeply ' : '';\n      actual = [];\n\n      // Map and Set '.keys' aren't supported in IE 11. Therefore, use .forEach.\n      obj.forEach(function (val, key) { actual.push(key) });\n\n      if (keysType !== 'Array') {\n        keys = Array.prototype.slice.call(arguments);\n      }\n    } else {\n      actual = _.getOwnEnumerableProperties(obj);\n\n      switch (keysType) {\n        case 'Array':\n          if (arguments.length > 1) {\n            throw new AssertionError(mixedArgsMsg, undefined, ssfi);\n          }\n          break;\n        case 'Object':\n          if (arguments.length > 1) {\n            throw new AssertionError(mixedArgsMsg, undefined, ssfi);\n          }\n          keys = Object.keys(keys);\n          break;\n        default:\n          keys = Array.prototype.slice.call(arguments);\n      }\n\n      // Only stringify non-Symbols because Symbols would become \"Symbol()\"\n      keys = keys.map(function (val) {\n        return typeof val === 'symbol' ? val : String(val);\n      });\n    }\n\n    if (!keys.length) {\n      throw new AssertionError(flagMsg + 'keys required', undefined, ssfi);\n    }\n\n    var len = keys.length\n      , any = flag(this, 'any')\n      , all = flag(this, 'all')\n      , expected = keys;\n\n    if (!any && !all) {\n      all = true;\n    }\n\n    // Has any\n    if (any) {\n      ok = expected.some(function(expectedKey) {\n        return actual.some(function(actualKey) {\n          if (isDeep) {\n            return _.eql(expectedKey, actualKey);\n          } else {\n            return expectedKey === actualKey;\n          }\n        });\n      });\n    }\n\n    // Has all\n    if (all) {\n      ok = expected.every(function(expectedKey) {\n        return actual.some(function(actualKey) {\n          if (isDeep) {\n            return _.eql(expectedKey, actualKey);\n          } else {\n            return expectedKey === actualKey;\n          }\n        });\n      });\n\n      if (!flag(this, 'contains')) {\n        ok = ok && keys.length == actual.length;\n      }\n    }\n\n    // Key string\n    if (len > 1) {\n      keys = keys.map(function(key) {\n        return _.inspect(key);\n      });\n      var last = keys.pop();\n      if (all) {\n        str = keys.join(', ') + ', and ' + last;\n      }\n      if (any) {\n        str = keys.join(', ') + ', or ' + last;\n      }\n    } else {\n      str = _.inspect(keys[0]);\n    }\n\n    // Form\n    str = (len > 1 ? 'keys ' : 'key ') + str;\n\n    // Have / include\n    str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;\n\n    // Assertion\n    this.assert(\n        ok\n      , 'expected #{this} to ' + deepStr + str\n      , 'expected #{this} to not ' + deepStr + str\n      , expected.slice(0).sort(_.compareByInspect)\n      , actual.sort(_.compareByInspect)\n      , true\n    );\n  }\n\n  Assertion.addMethod('keys', assertKeys);\n  Assertion.addMethod('key', assertKeys);\n\n  /**\n   * ### .throw([errorLike], [errMsgMatcher], [msg])\n   *\n   * When no arguments are provided, `.throw` invokes the target function and\n   * asserts that an error is thrown.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw();\n   *\n   * When one argument is provided, and it's an error constructor, `.throw`\n   * invokes the target function and asserts that an error is thrown that's an\n   * instance of that error constructor.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(TypeError);\n   *\n   * When one argument is provided, and it's an error instance, `.throw` invokes\n   * the target function and asserts that an error is thrown that's strictly\n   * (`===`) equal to that error instance.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(err);\n   *\n   * When one argument is provided, and it's a string, `.throw` invokes the\n   * target function and asserts that an error is thrown with a message that\n   * contains that string.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw('salmon');\n   *\n   * When one argument is provided, and it's a regular expression, `.throw`\n   * invokes the target function and asserts that an error is thrown with a\n   * message that matches that regular expression.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(/salmon/);\n   *\n   * When two arguments are provided, and the first is an error instance or\n   * constructor, and the second is a string or regular expression, `.throw`\n   * invokes the function and asserts that an error is thrown that fulfills both\n   * conditions as described above.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(TypeError, 'salmon');\n   *     expect(badFn).to.throw(TypeError, /salmon/);\n   *     expect(badFn).to.throw(err, 'salmon');\n   *     expect(badFn).to.throw(err, /salmon/);\n   *\n   * Add `.not` earlier in the chain to negate `.throw`.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.not.throw();\n   *\n   * However, it's dangerous to negate `.throw` when providing any arguments.\n   * The problem is that it creates uncertain expectations by asserting that the\n   * target either doesn't throw an error, or that it throws an error but of a\n   * different type than the given type, or that it throws an error of the given\n   * type but with a message that doesn't include the given string. It's often\n   * best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to throw an error, it's often best to assert\n   * exactly that.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.not.throw(); // Recommended\n   *     expect(goodFn).to.not.throw(ReferenceError, 'x'); // Not recommended\n   *\n   * When the target is expected to throw an error, it's often best to assert\n   * that the error is of its expected type, and has a message that includes an\n   * expected string, rather than asserting that it doesn't have one of many\n   * unexpected types, and doesn't have a message that includes some string.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(TypeError, 'salmon'); // Recommended\n   *     expect(badFn).to.not.throw(ReferenceError, 'x'); // Not recommended\n   *\n   * `.throw` changes the target of any assertions that follow in the chain to\n   * be the error object that's thrown.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     err.code = 42;\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(TypeError).with.property('code', 42);\n   *\n   * `.throw` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`. When not providing two arguments, always use\n   * the second form.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.throw(TypeError, 'x', 'nooo why fail??');\n   *     expect(goodFn, 'nooo why fail??').to.throw();\n   *\n   * Due to limitations in ES5, `.throw` may not always work as expected when\n   * using a transpiler such as Babel or TypeScript. In particular, it may\n   * produce unexpected results when subclassing the built-in `Error` object and\n   * then passing the subclassed constructor to `.throw`. See your transpiler's\n   * docs for details:\n   *\n   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))\n   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))\n   *\n   * Beware of some common mistakes when using the `throw` assertion. One common\n   * mistake is to accidentally invoke the function yourself instead of letting\n   * the `throw` assertion invoke the function for you. For example, when\n   * testing if a function named `fn` throws, provide `fn` instead of `fn()` as\n   * the target for the assertion.\n   *\n   *     expect(fn).to.throw();     // Good! Tests `fn` as desired\n   *     expect(fn()).to.throw();   // Bad! Tests result of `fn()`, not `fn`\n   *\n   * If you need to assert that your function `fn` throws when passed certain\n   * arguments, then wrap a call to `fn` inside of another function.\n   *\n   *     expect(function () { fn(42); }).to.throw();  // Function expression\n   *     expect(() => fn(42)).to.throw();             // ES6 arrow function\n   *\n   * Another common mistake is to provide an object method (or any stand-alone\n   * function that relies on `this`) as the target of the assertion. Doing so is\n   * problematic because the `this` context will be lost when the function is\n   * invoked by `.throw`; there's no way for it to know what `this` is supposed\n   * to be. There are two ways around this problem. One solution is to wrap the\n   * method or function call inside of another function. Another solution is to\n   * use `bind`.\n   *\n   *     expect(function () { cat.meow(); }).to.throw();  // Function expression\n   *     expect(() => cat.meow()).to.throw();             // ES6 arrow function\n   *     expect(cat.meow.bind(cat)).to.throw();           // Bind\n   *\n   * Finally, it's worth mentioning that it's a best practice in JavaScript to\n   * only throw `Error` and derivatives of `Error` such as `ReferenceError`,\n   * `TypeError`, and user-defined objects that extend `Error`. No other type of\n   * value will generate a stack trace when initialized. With that said, the\n   * `throw` assertion does technically support any type of value being thrown,\n   * not just `Error` and its derivatives.\n   *\n   * The aliases `.throws` and `.Throw` can be used interchangeably with\n   * `.throw`.\n   *\n   * @name throw\n   * @alias throws\n   * @alias Throw\n   * @param {Error|ErrorConstructor} errorLike\n   * @param {String|RegExp} errMsgMatcher error message\n   * @param {String} msg _optional_\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @returns error for chaining (null if no error)\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertThrows (errorLike, errMsgMatcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , flagMsg = flag(this, 'message')\n      , negate = flag(this, 'negate') || false;\n    new Assertion(obj, flagMsg, ssfi, true).is.a('function');\n\n    if (errorLike instanceof RegExp || typeof errorLike === 'string') {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    var caughtErr;\n    try {\n      obj();\n    } catch (err) {\n      caughtErr = err;\n    }\n\n    // If we have the negate flag enabled and at least one valid argument it means we do expect an error\n    // but we want it to match a given set of criteria\n    var everyArgIsUndefined = errorLike === undefined && errMsgMatcher === undefined;\n\n    // If we've got the negate flag enabled and both args, we should only fail if both aren't compatible\n    // See Issue #551 and PR #683@GitHub\n    var everyArgIsDefined = Boolean(errorLike && errMsgMatcher);\n    var errorLikeFail = false;\n    var errMsgMatcherFail = false;\n\n    // Checking if error was thrown\n    if (everyArgIsUndefined || !everyArgIsUndefined && !negate) {\n      // We need this to display results correctly according to their types\n      var errorLikeString = 'an error';\n      if (errorLike instanceof Error) {\n        errorLikeString = '#{exp}';\n      } else if (errorLike) {\n        errorLikeString = _.checkError.getConstructorName(errorLike);\n      }\n\n      this.assert(\n          caughtErr\n        , 'expected #{this} to throw ' + errorLikeString\n        , 'expected #{this} to not throw an error but #{act} was thrown'\n        , errorLike && errorLike.toString()\n        , (caughtErr instanceof Error ?\n            caughtErr.toString() : (typeof caughtErr === 'string' ? caughtErr : caughtErr &&\n                                    _.checkError.getConstructorName(caughtErr)))\n      );\n    }\n\n    if (errorLike && caughtErr) {\n      // We should compare instances only if `errorLike` is an instance of `Error`\n      if (errorLike instanceof Error) {\n        var isCompatibleInstance = _.checkError.compatibleInstance(caughtErr, errorLike);\n\n        if (isCompatibleInstance === negate) {\n          // These checks were created to ensure we won't fail too soon when we've got both args and a negate\n          // See Issue #551 and PR #683@GitHub\n          if (everyArgIsDefined && negate) {\n            errorLikeFail = true;\n          } else {\n            this.assert(\n                negate\n              , 'expected #{this} to throw #{exp} but #{act} was thrown'\n              , 'expected #{this} to not throw #{exp}' + (caughtErr && !negate ? ' but #{act} was thrown' : '')\n              , errorLike.toString()\n              , caughtErr.toString()\n            );\n          }\n        }\n      }\n\n      var isCompatibleConstructor = _.checkError.compatibleConstructor(caughtErr, errorLike);\n      if (isCompatibleConstructor === negate) {\n        if (everyArgIsDefined && negate) {\n            errorLikeFail = true;\n        } else {\n          this.assert(\n              negate\n            , 'expected #{this} to throw #{exp} but #{act} was thrown'\n            , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')\n            , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))\n            , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))\n          );\n        }\n      }\n    }\n\n    if (caughtErr && errMsgMatcher !== undefined && errMsgMatcher !== null) {\n      // Here we check compatible messages\n      var placeholder = 'including';\n      if (errMsgMatcher instanceof RegExp) {\n        placeholder = 'matching'\n      }\n\n      var isCompatibleMessage = _.checkError.compatibleMessage(caughtErr, errMsgMatcher);\n      if (isCompatibleMessage === negate) {\n        if (everyArgIsDefined && negate) {\n            errMsgMatcherFail = true;\n        } else {\n          this.assert(\n            negate\n            , 'expected #{this} to throw error ' + placeholder + ' #{exp} but got #{act}'\n            , 'expected #{this} to throw error not ' + placeholder + ' #{exp}'\n            ,  errMsgMatcher\n            ,  _.checkError.getMessage(caughtErr)\n          );\n        }\n      }\n    }\n\n    // If both assertions failed and both should've matched we throw an error\n    if (errorLikeFail && errMsgMatcherFail) {\n      this.assert(\n        negate\n        , 'expected #{this} to throw #{exp} but #{act} was thrown'\n        , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')\n        , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))\n        , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))\n      );\n    }\n\n    flag(this, 'object', caughtErr);\n  };\n\n  Assertion.addMethod('throw', assertThrows);\n  Assertion.addMethod('throws', assertThrows);\n  Assertion.addMethod('Throw', assertThrows);\n\n  /**\n   * ### .respondTo(method[, msg])\n   *\n   * When the target is a non-function object, `.respondTo` asserts that the\n   * target has a method with the given name `method`. The method can be own or\n   * inherited, and it can be enumerable or non-enumerable.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(new Cat()).to.respondTo('meow');\n   *\n   * When the target is a function, `.respondTo` asserts that the target's\n   * `prototype` property has a method with the given name `method`. Again, the\n   * method can be own or inherited, and it can be enumerable or non-enumerable.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(Cat).to.respondTo('meow');\n   *\n   * Add `.itself` earlier in the chain to force `.respondTo` to treat the\n   * target as a non-function object, even if it's a function. Thus, it asserts\n   * that the target has a method with the given name `method`, rather than\n   * asserting that the target's `prototype` property has a method with the\n   * given name `method`.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *     Cat.hiss = function () {};\n   *\n   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');\n   *\n   * When not adding `.itself`, it's important to check the target's type before\n   * using `.respondTo`. See the `.a` doc for info on checking a target's type.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(new Cat()).to.be.an('object').that.respondsTo('meow');\n   *\n   * Add `.not` earlier in the chain to negate `.respondTo`.\n   *\n   *     function Dog () {}\n   *     Dog.prototype.bark = function () {};\n   *\n   *     expect(new Dog()).to.not.respondTo('meow');\n   *\n   * `.respondTo` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect({}).to.respondTo('meow', 'nooo why fail??');\n   *     expect({}, 'nooo why fail??').to.respondTo('meow');\n   *\n   * The alias `.respondsTo` can be used interchangeably with `.respondTo`.\n   *\n   * @name respondTo\n   * @alias respondsTo\n   * @param {String} method\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function respondTo (method, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , itself = flag(this, 'itself')\n      , context = ('function' === typeof obj && !itself)\n        ? obj.prototype[method]\n        : obj[method];\n\n    this.assert(\n        'function' === typeof context\n      , 'expected #{this} to respond to ' + _.inspect(method)\n      , 'expected #{this} to not respond to ' + _.inspect(method)\n    );\n  }\n\n  Assertion.addMethod('respondTo', respondTo);\n  Assertion.addMethod('respondsTo', respondTo);\n\n  /**\n   * ### .itself\n   *\n   * Forces all `.respondTo` assertions that follow in the chain to behave as if\n   * the target is a non-function object, even if it's a function. Thus, it\n   * causes `.respondTo` to assert that the target has a method with the given\n   * name, rather than asserting that the target's `prototype` property has a\n   * method with the given name.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *     Cat.hiss = function () {};\n   *\n   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');\n   *\n   * @name itself\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('itself', function () {\n    flag(this, 'itself', true);\n  });\n\n  /**\n   * ### .satisfy(matcher[, msg])\n   *\n   * Invokes the given `matcher` function with the target being passed as the\n   * first argument, and asserts that the value returned is truthy.\n   *\n   *     expect(1).to.satisfy(function(num) {\n   *       return num > 0;\n   *     });\n   *\n   * Add `.not` earlier in the chain to negate `.satisfy`.\n   *\n   *     expect(1).to.not.satisfy(function(num) {\n   *       return num > 2;\n   *     });\n   *\n   * `.satisfy` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1).to.satisfy(function(num) {\n   *       return num > 2;\n   *     }, 'nooo why fail??');\n   *\n   *     expect(1, 'nooo why fail??').to.satisfy(function(num) {\n   *       return num > 2;\n   *     });\n   *\n   * The alias `.satisfies` can be used interchangeably with `.satisfy`.\n   *\n   * @name satisfy\n   * @alias satisfies\n   * @param {Function} matcher\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function satisfy (matcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var result = matcher(obj);\n    this.assert(\n        result\n      , 'expected #{this} to satisfy ' + _.objDisplay(matcher)\n      , 'expected #{this} to not satisfy' + _.objDisplay(matcher)\n      , flag(this, 'negate') ? false : true\n      , result\n    );\n  }\n\n  Assertion.addMethod('satisfy', satisfy);\n  Assertion.addMethod('satisfies', satisfy);\n\n  /**\n   * ### .closeTo(expected, delta[, msg])\n   *\n   * Asserts that the target is a number that's within a given +/- `delta` range\n   * of the given number `expected`. However, it's often best to assert that the\n   * target is equal to its expected value.\n   *\n   *     // Recommended\n   *     expect(1.5).to.equal(1.5);\n   *\n   *     // Not recommended\n   *     expect(1.5).to.be.closeTo(1, 0.5);\n   *     expect(1.5).to.be.closeTo(2, 0.5);\n   *     expect(1.5).to.be.closeTo(1, 1);\n   *\n   * Add `.not` earlier in the chain to negate `.closeTo`.\n   *\n   *     expect(1.5).to.equal(1.5); // Recommended\n   *     expect(1.5).to.not.be.closeTo(3, 1); // Not recommended\n   *\n   * `.closeTo` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1.5).to.be.closeTo(3, 1, 'nooo why fail??');\n   *     expect(1.5, 'nooo why fail??').to.be.closeTo(3, 1);\n   *\n   * The alias `.approximately` can be used interchangeably with `.closeTo`.\n   *\n   * @name closeTo\n   * @alias approximately\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function closeTo(expected, delta, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n\n    new Assertion(obj, flagMsg, ssfi, true).is.a('number');\n    if (typeof expected !== 'number' || typeof delta !== 'number') {\n      flagMsg = flagMsg ? flagMsg + ': ' : '';\n      throw new AssertionError(\n          flagMsg + 'the arguments to closeTo or approximately must be numbers',\n          undefined,\n          ssfi\n      );\n    }\n\n    this.assert(\n        Math.abs(obj - expected) <= delta\n      , 'expected #{this} to be close to ' + expected + ' +/- ' + delta\n      , 'expected #{this} not to be close to ' + expected + ' +/- ' + delta\n    );\n  }\n\n  Assertion.addMethod('closeTo', closeTo);\n  Assertion.addMethod('approximately', closeTo);\n\n  // Note: Duplicates are ignored if testing for inclusion instead of sameness.\n  function isSubsetOf(subset, superset, cmp, contains, ordered) {\n    if (!contains) {\n      if (subset.length !== superset.length) return false;\n      superset = superset.slice();\n    }\n\n    return subset.every(function(elem, idx) {\n      if (ordered) return cmp ? cmp(elem, superset[idx]) : elem === superset[idx];\n\n      if (!cmp) {\n        var matchIdx = superset.indexOf(elem);\n        if (matchIdx === -1) return false;\n\n        // Remove match from superset so not counted twice if duplicate in subset.\n        if (!contains) superset.splice(matchIdx, 1);\n        return true;\n      }\n\n      return superset.some(function(elem2, matchIdx) {\n        if (!cmp(elem, elem2)) return false;\n\n        // Remove match from superset so not counted twice if duplicate in subset.\n        if (!contains) superset.splice(matchIdx, 1);\n        return true;\n      });\n    });\n  }\n\n  /**\n   * ### .members(set[, msg])\n   *\n   * Asserts that the target array has the same members as the given array\n   * `set`.\n   *\n   *     expect([1, 2, 3]).to.have.members([2, 1, 3]);\n   *     expect([1, 2, 2]).to.have.members([2, 1, 2]);\n   *\n   * By default, members are compared using strict (`===`) equality. Add `.deep`\n   * earlier in the chain to use deep equality instead. See the `deep-eql`\n   * project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target array deeply (but not strictly) has member `{a: 1}`\n   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);\n   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);\n   *\n   * By default, order doesn't matter. Add `.ordered` earlier in the chain to\n   * require that members appear in the same order.\n   *\n   *     expect([1, 2, 3]).to.have.ordered.members([1, 2, 3]);\n   *     expect([1, 2, 3]).to.have.members([2, 1, 3])\n   *       .but.not.ordered.members([2, 1, 3]);\n   *\n   * By default, both arrays must be the same size. Add `.include` earlier in\n   * the chain to require that the target's members be a superset of the\n   * expected members. Note that duplicates are ignored in the subset when\n   * `.include` is added.\n   *\n   *     // Target array is a superset of [1, 2] but not identical\n   *     expect([1, 2, 3]).to.include.members([1, 2]);\n   *     expect([1, 2, 3]).to.not.have.members([1, 2]);\n   *\n   *     // Duplicates in the subset are ignored\n   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);\n   *\n   * `.deep`, `.ordered`, and `.include` can all be combined. However, if\n   * `.include` and `.ordered` are combined, the ordering begins at the start of\n   * both arrays.\n   *\n   *     expect([{a: 1}, {b: 2}, {c: 3}])\n   *       .to.include.deep.ordered.members([{a: 1}, {b: 2}])\n   *       .but.not.include.deep.ordered.members([{b: 2}, {c: 3}]);\n   *\n   * Add `.not` earlier in the chain to negate `.members`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the target array doesn't have all of the same members as\n   * the given array `set` but may or may not have some of them. It's often best\n   * to identify the exact output that's expected, and then write an assertion\n   * that only accepts that exact output.\n   *\n   *     expect([1, 2]).to.not.include(3).and.not.include(4); // Recommended\n   *     expect([1, 2]).to.not.have.members([3, 4]); // Not recommended\n   *\n   * `.members` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2]).to.have.members([1, 2, 3], 'nooo why fail??');\n   *     expect([1, 2], 'nooo why fail??').to.have.members([1, 2, 3]);\n   *\n   * @name members\n   * @param {Array} set\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('members', function (subset, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n\n    new Assertion(obj, flagMsg, ssfi, true).to.be.an('array');\n    new Assertion(subset, flagMsg, ssfi, true).to.be.an('array');\n\n    var contains = flag(this, 'contains');\n    var ordered = flag(this, 'ordered');\n\n    var subject, failMsg, failNegateMsg;\n\n    if (contains) {\n      subject = ordered ? 'an ordered superset' : 'a superset';\n      failMsg = 'expected #{this} to be ' + subject + ' of #{exp}';\n      failNegateMsg = 'expected #{this} to not be ' + subject + ' of #{exp}';\n    } else {\n      subject = ordered ? 'ordered members' : 'members';\n      failMsg = 'expected #{this} to have the same ' + subject + ' as #{exp}';\n      failNegateMsg = 'expected #{this} to not have the same ' + subject + ' as #{exp}';\n    }\n\n    var cmp = flag(this, 'deep') ? _.eql : undefined;\n\n    this.assert(\n        isSubsetOf(subset, obj, cmp, contains, ordered)\n      , failMsg\n      , failNegateMsg\n      , subset\n      , obj\n      , true\n    );\n  });\n\n  /**\n   * ### .oneOf(list[, msg])\n   *\n   * Asserts that the target is a member of the given array `list`. However,\n   * it's often best to assert that the target is equal to its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.oneOf([1, 2, 3]); // Not recommended\n   *\n   * Comparisons are performed using strict (`===`) equality.\n   *\n   * Add `.not` earlier in the chain to negate `.oneOf`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.oneOf([2, 3, 4]); // Not recommended\n   *\n   * `.oneOf` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.oneOf([2, 3, 4], 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.oneOf([2, 3, 4]);\n   *\n   * @name oneOf\n   * @param {Array<*>} list\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function oneOf (list, msg) {\n    if (msg) flag(this, 'message', msg);\n    var expected = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(list, flagMsg, ssfi, true).to.be.an('array');\n\n    this.assert(\n        list.indexOf(expected) > -1\n      , 'expected #{this} to be one of #{exp}'\n      , 'expected #{this} to not be one of #{exp}'\n      , list\n      , expected\n    );\n  }\n\n  Assertion.addMethod('oneOf', oneOf);\n\n  /**\n   * ### .change(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.change` asserts that the given function\n   * `subject` returns a different value when it's invoked before the target\n   * function compared to when it's invoked afterward. However, it's often best\n   * to assert that `subject` is equal to its expected value.\n   *\n   *     var dots = ''\n   *       , addDot = function () { dots += '.'; }\n   *       , getDots = function () { return dots; };\n   *\n   *     // Recommended\n   *     expect(getDots()).to.equal('');\n   *     addDot();\n   *     expect(getDots()).to.equal('.');\n   *\n   *     // Not recommended\n   *     expect(addDot).to.change(getDots);\n   *\n   * When two arguments are provided, `.change` asserts that the value of the\n   * given object `subject`'s `prop` property is different before invoking the\n   * target function compared to afterward.\n   *\n   *     var myObj = {dots: ''}\n   *       , addDot = function () { myObj.dots += '.'; };\n   *\n   *     // Recommended\n   *     expect(myObj).to.have.property('dots', '');\n   *     addDot();\n   *     expect(myObj).to.have.property('dots', '.');\n   *\n   *     // Not recommended\n   *     expect(addDot).to.change(myObj, 'dots');\n   *\n   * Strict (`===`) equality is used to compare before and after values.\n   *\n   * Add `.not` earlier in the chain to negate `.change`.\n   *\n   *     var dots = ''\n   *       , noop = function () {}\n   *       , getDots = function () { return dots; };\n   *\n   *     expect(noop).to.not.change(getDots);\n   *\n   *     var myObj = {dots: ''}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'dots');\n   *\n   * `.change` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {dots: ''}\n   *       , addDot = function () { myObj.dots += '.'; };\n   *\n   *     expect(addDot).to.not.change(myObj, 'dots', 'nooo why fail??');\n   *\n   *     var dots = ''\n   *       , addDot = function () { dots += '.'; }\n   *       , getDots = function () { return dots; };\n   *\n   *     expect(addDot, 'nooo why fail??').to.not.change(getDots);\n   *\n   * `.change` also causes all `.by` assertions that follow in the chain to\n   * assert how much a numeric subject was increased or decreased by. However,\n   * it's dangerous to use `.change.by`. The problem is that it creates\n   * uncertain expectations by asserting that the subject either increases by\n   * the given delta, or that it decreases by the given delta. It's often best\n   * to identify the exact output that's expected, and then write an assertion\n   * that only accepts that exact output.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; }\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   * The alias `.changes` can be used interchangeably with `.change`.\n   *\n   * @name change\n   * @alias changes\n   * @param {String} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertChanges (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    // This gets flagged because of the .by(delta) assertion\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'change');\n    flag(this, 'realDelta', final !== initial);\n\n    this.assert(\n      initial !== final\n      , 'expected ' + msgObj + ' to change'\n      , 'expected ' + msgObj + ' to not change'\n    );\n  }\n\n  Assertion.addMethod('change', assertChanges);\n  Assertion.addMethod('changes', assertChanges);\n\n  /**\n   * ### .increase(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.increase` asserts that the given function\n   * `subject` returns a greater number when it's invoked after invoking the\n   * target function compared to when it's invoked beforehand. `.increase` also\n   * causes all `.by` assertions that follow in the chain to assert how much\n   * greater of a number is returned. It's often best to assert that the return\n   * value increased by the expected amount, rather than asserting it increased\n   * by any amount.\n   *\n   *     var val = 1\n   *       , addTwo = function () { val += 2; }\n   *       , getVal = function () { return val; };\n   *\n   *     expect(addTwo).to.increase(getVal).by(2); // Recommended\n   *     expect(addTwo).to.increase(getVal); // Not recommended\n   *\n   * When two arguments are provided, `.increase` asserts that the value of the\n   * given object `subject`'s `prop` property is greater after invoking the\n   * target function compared to beforehand.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.increase(myObj, 'val'); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.increase`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either decreases, or that it stays the same.\n   * It's often best to identify the exact output that's expected, and then\n   * write an assertion that only accepts that exact output.\n   *\n   * When the subject is expected to decrease, it's often best to assert that it\n   * decreased by the expected amount.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.not.increase(myObj, 'val'); // Not recommended\n   *\n   * When the subject is expected to stay the same, it's often best to assert\n   * exactly that.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'val'); // Recommended\n   *     expect(noop).to.not.increase(myObj, 'val'); // Not recommended\n   *\n   * `.increase` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.increase(myObj, 'val', 'nooo why fail??');\n   *\n   *     var val = 1\n   *       , noop = function () {}\n   *       , getVal = function () { return val; };\n   *\n   *     expect(noop, 'nooo why fail??').to.increase(getVal);\n   *\n   * The alias `.increases` can be used interchangeably with `.increase`.\n   *\n   * @name increase\n   * @alias increases\n   * @param {String|Function} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertIncreases (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    // Make sure that the target is a number\n    new Assertion(initial, flagMsg, ssfi, true).is.a('number');\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'increase');\n    flag(this, 'realDelta', final - initial);\n\n    this.assert(\n      final - initial > 0\n      , 'expected ' + msgObj + ' to increase'\n      , 'expected ' + msgObj + ' to not increase'\n    );\n  }\n\n  Assertion.addMethod('increase', assertIncreases);\n  Assertion.addMethod('increases', assertIncreases);\n\n  /**\n   * ### .decrease(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.decrease` asserts that the given function\n   * `subject` returns a lesser number when it's invoked after invoking the\n   * target function compared to when it's invoked beforehand. `.decrease` also\n   * causes all `.by` assertions that follow in the chain to assert how much\n   * lesser of a number is returned. It's often best to assert that the return\n   * value decreased by the expected amount, rather than asserting it decreased\n   * by any amount.\n   *\n   *     var val = 1\n   *       , subtractTwo = function () { val -= 2; }\n   *       , getVal = function () { return val; };\n   *\n   *     expect(subtractTwo).to.decrease(getVal).by(2); // Recommended\n   *     expect(subtractTwo).to.decrease(getVal); // Not recommended\n   *\n   * When two arguments are provided, `.decrease` asserts that the value of the\n   * given object `subject`'s `prop` property is lesser after invoking the\n   * target function compared to beforehand.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.decrease(myObj, 'val'); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.decrease`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either increases, or that it stays the same.\n   * It's often best to identify the exact output that's expected, and then\n   * write an assertion that only accepts that exact output.\n   *\n   * When the subject is expected to increase, it's often best to assert that it\n   * increased by the expected amount.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.not.decrease(myObj, 'val'); // Not recommended\n   *\n   * When the subject is expected to stay the same, it's often best to assert\n   * exactly that.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'val'); // Recommended\n   *     expect(noop).to.not.decrease(myObj, 'val'); // Not recommended\n   *\n   * `.decrease` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.decrease(myObj, 'val', 'nooo why fail??');\n   *\n   *     var val = 1\n   *       , noop = function () {}\n   *       , getVal = function () { return val; };\n   *\n   *     expect(noop, 'nooo why fail??').to.decrease(getVal);\n   *\n   * The alias `.decreases` can be used interchangeably with `.decrease`.\n   *\n   * @name decrease\n   * @alias decreases\n   * @param {String|Function} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertDecreases (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    // Make sure that the target is a number\n    new Assertion(initial, flagMsg, ssfi, true).is.a('number');\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'decrease');\n    flag(this, 'realDelta', initial - final);\n\n    this.assert(\n      final - initial < 0\n      , 'expected ' + msgObj + ' to decrease'\n      , 'expected ' + msgObj + ' to not decrease'\n    );\n  }\n\n  Assertion.addMethod('decrease', assertDecreases);\n  Assertion.addMethod('decreases', assertDecreases);\n\n  /**\n   * ### .by(delta[, msg])\n   *\n   * When following an `.increase` assertion in the chain, `.by` asserts that\n   * the subject of the `.increase` assertion increased by the given `delta`.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2);\n   *\n   * When following a `.decrease` assertion in the chain, `.by` asserts that the\n   * subject of the `.decrease` assertion decreased by the given `delta`.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2);\n   *\n   * When following a `.change` assertion in the chain, `.by` asserts that the\n   * subject of the `.change` assertion either increased or decreased by the\n   * given `delta`. However, it's dangerous to use `.change.by`. The problem is\n   * that it creates uncertain expectations. It's often best to identify the\n   * exact output that's expected, and then write an assertion that only accepts\n   * that exact output.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; }\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.by`. However, it's often best\n   * to assert that the subject changed by its expected delta, rather than\n   * asserting that it didn't change by one of countless unexpected deltas.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     // Recommended\n   *     expect(addTwo).to.increase(myObj, 'val').by(2);\n   *\n   *     // Not recommended\n   *     expect(addTwo).to.increase(myObj, 'val').but.not.by(3);\n   *\n   * `.by` accepts an optional `msg` argument which is a custom error message to\n   * show when the assertion fails. The message can also be given as the second\n   * argument to `expect`.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(3, 'nooo why fail??');\n   *     expect(addTwo, 'nooo why fail??').to.increase(myObj, 'val').by(3);\n   *\n   * @name by\n   * @param {Number} delta\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertDelta(delta, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var msgObj = flag(this, 'deltaMsgObj');\n    var initial = flag(this, 'initialDeltaValue');\n    var final = flag(this, 'finalDeltaValue');\n    var behavior = flag(this, 'deltaBehavior');\n    var realDelta = flag(this, 'realDelta');\n\n    var expression;\n    if (behavior === 'change') {\n      expression = Math.abs(final - initial) === Math.abs(delta);\n    } else {\n      expression = realDelta === Math.abs(delta);\n    }\n\n    this.assert(\n      expression\n      , 'expected ' + msgObj + ' to ' + behavior + ' by ' + delta\n      , 'expected ' + msgObj + ' to not ' + behavior + ' by ' + delta\n    );\n  }\n\n  Assertion.addMethod('by', assertDelta);\n\n  /**\n   * ### .extensible\n   *\n   * Asserts that the target is extensible, which means that new properties can\n   * be added to it. Primitives are never extensible.\n   *\n   *     expect({a: 1}).to.be.extensible;\n   *\n   * Add `.not` earlier in the chain to negate `.extensible`.\n   *\n   *     var nonExtensibleObject = Object.preventExtensions({})\n   *       , sealedObject = Object.seal({})\n   *       , frozenObject = Object.freeze({});\n   *\n   *     expect(nonExtensibleObject).to.not.be.extensible;\n   *     expect(sealedObject).to.not.be.extensible;\n   *     expect(frozenObject).to.not.be.extensible;\n   *     expect(1).to.not.be.extensible;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(1, 'nooo why fail??').to.be.extensible;\n   *\n   * @name extensible\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('extensible', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return false.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isExtensible = obj === Object(obj) && Object.isExtensible(obj);\n\n    this.assert(\n      isExtensible\n      , 'expected #{this} to be extensible'\n      , 'expected #{this} to not be extensible'\n    );\n  });\n\n  /**\n   * ### .sealed\n   *\n   * Asserts that the target is sealed, which means that new properties can't be\n   * added to it, and its existing properties can't be reconfigured or deleted.\n   * However, it's possible that its existing properties can still be reassigned\n   * to different values. Primitives are always sealed.\n   *\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.freeze({});\n   *\n   *     expect(sealedObject).to.be.sealed;\n   *     expect(frozenObject).to.be.sealed;\n   *     expect(1).to.be.sealed;\n   *\n   * Add `.not` earlier in the chain to negate `.sealed`.\n   *\n   *     expect({a: 1}).to.not.be.sealed;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.be.sealed;\n   *\n   * @name sealed\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('sealed', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a sealed ordinary object, simply return true.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isSealed = obj === Object(obj) ? Object.isSealed(obj) : true;\n\n    this.assert(\n      isSealed\n      , 'expected #{this} to be sealed'\n      , 'expected #{this} to not be sealed'\n    );\n  });\n\n  /**\n   * ### .frozen\n   *\n   * Asserts that the target is frozen, which means that new properties can't be\n   * added to it, and its existing properties can't be reassigned to different\n   * values, reconfigured, or deleted. Primitives are always frozen.\n   *\n   *     var frozenObject = Object.freeze({});\n   *\n   *     expect(frozenObject).to.be.frozen;\n   *     expect(1).to.be.frozen;\n   *\n   * Add `.not` earlier in the chain to negate `.frozen`.\n   *\n   *     expect({a: 1}).to.not.be.frozen;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.be.frozen;\n   *\n   * @name frozen\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('frozen', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a frozen ordinary object, simply return true.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isFrozen = obj === Object(obj) ? Object.isFrozen(obj) : true;\n\n    this.assert(\n      isFrozen\n      , 'expected #{this} to be frozen'\n      , 'expected #{this} to not be frozen'\n    );\n  });\n\n  /**\n   * ### .finite\n   *\n   * Asserts that the target is a number, and isn't `NaN` or positive/negative\n   * `Infinity`.\n   *\n   *     expect(1).to.be.finite;\n   *\n   * Add `.not` earlier in the chain to negate `.finite`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either isn't a number, or that it's `NaN`, or\n   * that it's positive `Infinity`, or that it's negative `Infinity`. It's often\n   * best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to be a number, it's often best to assert\n   * that it's the expected type, rather than asserting that it isn't one of\n   * many unexpected types.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be `NaN`, it's often best to assert exactly\n   * that.\n   *\n   *     expect(NaN).to.be.NaN; // Recommended\n   *     expect(NaN).to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be positive infinity, it's often best to\n   * assert exactly that.\n   *\n   *     expect(Infinity).to.equal(Infinity); // Recommended\n   *     expect(Infinity).to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be negative infinity, it's often best to\n   * assert exactly that.\n   *\n   *     expect(-Infinity).to.equal(-Infinity); // Recommended\n   *     expect(-Infinity).to.not.be.finite; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect('foo', 'nooo why fail??').to.be.finite;\n   *\n   * @name finite\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('finite', function(msg) {\n    var obj = flag(this, 'object');\n\n    this.assert(\n        typeof obj === 'number' && isFinite(obj)\n      , 'expected #{this} to be a finite number'\n      , 'expected #{this} to not be a finite number'\n    );\n  });\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  chai.expect = function (val, message) {\n    return new chai.Assertion(val, message);\n  };\n\n  /**\n   * ### .fail([message])\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure.\n   *\n   *     expect.fail();\n   *     expect.fail(\"custom error message\");\n   *     expect.fail(1, 2);\n   *     expect.fail(1, 2, \"custom error message\");\n   *     expect.fail(1, 2, \"custom error message\", \">\");\n   *     expect.fail(1, 2, undefined, \">\");\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @namespace BDD\n   * @api public\n   */\n\n  chai.expect.fail = function (actual, expected, message, operator) {\n    if (arguments.length < 2) {\n        message = actual;\n        actual = undefined;\n    }\n\n    message = message || 'expect.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, chai.expect.fail);\n  };\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  var Assertion = chai.Assertion;\n\n  function loadShould () {\n    // explicitly define this method as function as to have it's name to include as `ssfi`\n    function shouldGetter() {\n      if (this instanceof String\n          || this instanceof Number\n          || this instanceof Boolean\n          || typeof Symbol === 'function' && this instanceof Symbol) {\n        return new Assertion(this.valueOf(), null, shouldGetter);\n      }\n      return new Assertion(this, null, shouldGetter);\n    }\n    function shouldSetter(value) {\n      // See https://github.com/chaijs/chai/issues/86: this makes\n      // `whatever.should = someValue` actually set `someValue`, which is\n      // especially useful for `global.should = require('chai').should()`.\n      //\n      // Note that we have to use [[DefineProperty]] instead of [[Put]]\n      // since otherwise we would trigger this very setter!\n      Object.defineProperty(this, 'should', {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    }\n    // modify Object.prototype to have `should`\n    Object.defineProperty(Object.prototype, 'should', {\n      set: shouldSetter\n      , get: shouldGetter\n      , configurable: true\n    });\n\n    var should = {};\n\n    /**\n     * ### .fail([message])\n     * ### .fail(actual, expected, [message], [operator])\n     *\n     * Throw a failure.\n     *\n     *     should.fail();\n     *     should.fail(\"custom error message\");\n     *     should.fail(1, 2);\n     *     should.fail(1, 2, \"custom error message\");\n     *     should.fail(1, 2, \"custom error message\", \">\");\n     *     should.fail(1, 2, undefined, \">\");\n     *\n     *\n     * @name fail\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @param {String} operator\n     * @namespace BDD\n     * @api public\n     */\n\n    should.fail = function (actual, expected, message, operator) {\n      if (arguments.length < 2) {\n          message = actual;\n          actual = undefined;\n      }\n\n      message = message || 'should.fail()';\n      throw new chai.AssertionError(message, {\n          actual: actual\n        , expected: expected\n        , operator: operator\n      }, should.fail);\n    };\n\n    /**\n     * ### .equal(actual, expected, [message])\n     *\n     * Asserts non-strict equality (`==`) of `actual` and `expected`.\n     *\n     *     should.equal(3, '3', '== coerces values to strings');\n     *\n     * @name equal\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @namespace Should\n     * @api public\n     */\n\n    should.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.equal(val2);\n    };\n\n    /**\n     * ### .throw(function, [constructor/string/regexp], [string/regexp], [message])\n     *\n     * Asserts that `function` will throw an error that is an instance of\n     * `constructor`, or alternately that it will throw an error with message\n     * matching `regexp`.\n     *\n     *     should.throw(fn, 'function throws a reference error');\n     *     should.throw(fn, /function throws a reference error/);\n     *     should.throw(fn, ReferenceError);\n     *     should.throw(fn, ReferenceError, 'function throws a reference error');\n     *     should.throw(fn, ReferenceError, /function throws a reference error/);\n     *\n     * @name throw\n     * @alias Throw\n     * @param {Function} function\n     * @param {ErrorConstructor} constructor\n     * @param {RegExp} regexp\n     * @param {String} message\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n     * @namespace Should\n     * @api public\n     */\n\n    should.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.Throw(errt, errs);\n    };\n\n    /**\n     * ### .exist\n     *\n     * Asserts that the target is neither `null` nor `undefined`.\n     *\n     *     var foo = 'hi';\n     *\n     *     should.exist(foo, 'foo exists');\n     *\n     * @name exist\n     * @namespace Should\n     * @api public\n     */\n\n    should.exist = function (val, msg) {\n      new Assertion(val, msg).to.exist;\n    }\n\n    // negation\n    should.not = {}\n\n    /**\n     * ### .not.equal(actual, expected, [message])\n     *\n     * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n     *\n     *     should.not.equal(3, 4, 'these numbers are not equal');\n     *\n     * @name not.equal\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.not.equal(val2);\n    };\n\n    /**\n     * ### .throw(function, [constructor/regexp], [message])\n     *\n     * Asserts that `function` will _not_ throw an error that is an instance of\n     * `constructor`, or alternately that it will not throw an error with message\n     * matching `regexp`.\n     *\n     *     should.not.throw(fn, Error, 'function does not throw');\n     *\n     * @name not.throw\n     * @alias not.Throw\n     * @param {Function} function\n     * @param {ErrorConstructor} constructor\n     * @param {RegExp} regexp\n     * @param {String} message\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.not.Throw(errt, errs);\n    };\n\n    /**\n     * ### .not.exist\n     *\n     * Asserts that the target is neither `null` nor `undefined`.\n     *\n     *     var bar = null;\n     *\n     *     should.not.exist(bar, 'bar does not exist');\n     *\n     * @name not.exist\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.exist = function (val, msg) {\n      new Assertion(val, msg).to.not.exist;\n    }\n\n    should['throw'] = should['Throw'];\n    should.not['throw'] = should.not['Throw'];\n\n    return should;\n  };\n\n  chai.should = loadShould;\n  chai.Should = loadShould;\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  /*!\n   * Chai dependencies.\n   */\n\n  var Assertion = chai.Assertion\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  /**\n   * ### assert(expression, message)\n   *\n   * Write your own test expressions.\n   *\n   *     assert('foo' !== 'bar', 'foo is not bar');\n   *     assert(Array.isArray([]), 'empty arrays are arrays');\n   *\n   * @param {Mixed} expression to test for truthiness\n   * @param {String} message to display on error\n   * @name assert\n   * @namespace Assert\n   * @api public\n   */\n\n  var assert = chai.assert = function (express, errmsg) {\n    var test = new Assertion(null, null, chai.assert, true);\n    test.assert(\n        express\n      , errmsg\n      , '[ negation message unavailable ]'\n    );\n  };\n\n  /**\n   * ### .fail([message])\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure. Node.js `assert` module-compatible.\n   *\n   *     assert.fail();\n   *     assert.fail(\"custom error message\");\n   *     assert.fail(1, 2);\n   *     assert.fail(1, 2, \"custom error message\");\n   *     assert.fail(1, 2, \"custom error message\", \">\");\n   *     assert.fail(1, 2, undefined, \">\");\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.fail = function (actual, expected, message, operator) {\n    if (arguments.length < 2) {\n        // Comply with Node's fail([message]) interface\n\n        message = actual;\n        actual = undefined;\n    }\n\n    message = message || 'assert.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, assert.fail);\n  };\n\n  /**\n   * ### .isOk(object, [message])\n   *\n   * Asserts that `object` is truthy.\n   *\n   *     assert.isOk('everything', 'everything is ok');\n   *     assert.isOk(false, 'this will fail');\n   *\n   * @name isOk\n   * @alias ok\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isOk = function (val, msg) {\n    new Assertion(val, msg, assert.isOk, true).is.ok;\n  };\n\n  /**\n   * ### .isNotOk(object, [message])\n   *\n   * Asserts that `object` is falsy.\n   *\n   *     assert.isNotOk('everything', 'this will fail');\n   *     assert.isNotOk(false, 'this will pass');\n   *\n   * @name isNotOk\n   * @alias notOk\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotOk = function (val, msg) {\n    new Assertion(val, msg, assert.isNotOk, true).is.not.ok;\n  };\n\n  /**\n   * ### .equal(actual, expected, [message])\n   *\n   * Asserts non-strict equality (`==`) of `actual` and `expected`.\n   *\n   *     assert.equal(3, '3', '== coerces values to strings');\n   *\n   * @name equal\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.equal = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.equal, true);\n\n    test.assert(\n        exp == flag(test, 'object')\n      , 'expected #{this} to equal #{exp}'\n      , 'expected #{this} to not equal #{act}'\n      , exp\n      , act\n      , true\n    );\n  };\n\n  /**\n   * ### .notEqual(actual, expected, [message])\n   *\n   * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n   *\n   *     assert.notEqual(3, 4, 'these numbers are not equal');\n   *\n   * @name notEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notEqual = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.notEqual, true);\n\n    test.assert(\n        exp != flag(test, 'object')\n      , 'expected #{this} to not equal #{exp}'\n      , 'expected #{this} to equal #{act}'\n      , exp\n      , act\n      , true\n    );\n  };\n\n  /**\n   * ### .strictEqual(actual, expected, [message])\n   *\n   * Asserts strict equality (`===`) of `actual` and `expected`.\n   *\n   *     assert.strictEqual(true, true, 'these booleans are strictly equal');\n   *\n   * @name strictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.strictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.strictEqual, true).to.equal(exp);\n  };\n\n  /**\n   * ### .notStrictEqual(actual, expected, [message])\n   *\n   * Asserts strict inequality (`!==`) of `actual` and `expected`.\n   *\n   *     assert.notStrictEqual(3, '3', 'no coercion for strict equality');\n   *\n   * @name notStrictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.notStrictEqual, true).to.not.equal(exp);\n  };\n\n  /**\n   * ### .deepEqual(actual, expected, [message])\n   *\n   * Asserts that `actual` is deeply equal to `expected`.\n   *\n   *     assert.deepEqual({ tea: 'green' }, { tea: 'green' });\n   *\n   * @name deepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @alias deepStrictEqual\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepEqual = assert.deepStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.deepEqual, true).to.eql(exp);\n  };\n\n  /**\n   * ### .notDeepEqual(actual, expected, [message])\n   *\n   * Assert that `actual` is not deeply equal to `expected`.\n   *\n   *     assert.notDeepEqual({ tea: 'green' }, { tea: 'jasmine' });\n   *\n   * @name notDeepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.notDeepEqual, true).to.not.eql(exp);\n  };\n\n   /**\n   * ### .isAbove(valueToCheck, valueToBeAbove, [message])\n   *\n   * Asserts `valueToCheck` is strictly greater than (>) `valueToBeAbove`.\n   *\n   *     assert.isAbove(5, 2, '5 is strictly greater than 2');\n   *\n   * @name isAbove\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAbove\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAbove = function (val, abv, msg) {\n    new Assertion(val, msg, assert.isAbove, true).to.be.above(abv);\n  };\n\n   /**\n   * ### .isAtLeast(valueToCheck, valueToBeAtLeast, [message])\n   *\n   * Asserts `valueToCheck` is greater than or equal to (>=) `valueToBeAtLeast`.\n   *\n   *     assert.isAtLeast(5, 2, '5 is greater or equal to 2');\n   *     assert.isAtLeast(3, 3, '3 is greater or equal to 3');\n   *\n   * @name isAtLeast\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAtLeast\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAtLeast = function (val, atlst, msg) {\n    new Assertion(val, msg, assert.isAtLeast, true).to.be.least(atlst);\n  };\n\n   /**\n   * ### .isBelow(valueToCheck, valueToBeBelow, [message])\n   *\n   * Asserts `valueToCheck` is strictly less than (<) `valueToBeBelow`.\n   *\n   *     assert.isBelow(3, 6, '3 is strictly less than 6');\n   *\n   * @name isBelow\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeBelow\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isBelow = function (val, blw, msg) {\n    new Assertion(val, msg, assert.isBelow, true).to.be.below(blw);\n  };\n\n   /**\n   * ### .isAtMost(valueToCheck, valueToBeAtMost, [message])\n   *\n   * Asserts `valueToCheck` is less than or equal to (<=) `valueToBeAtMost`.\n   *\n   *     assert.isAtMost(3, 6, '3 is less than or equal to 6');\n   *     assert.isAtMost(4, 4, '4 is less than or equal to 4');\n   *\n   * @name isAtMost\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAtMost\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAtMost = function (val, atmst, msg) {\n    new Assertion(val, msg, assert.isAtMost, true).to.be.most(atmst);\n  };\n\n  /**\n   * ### .isTrue(value, [message])\n   *\n   * Asserts that `value` is true.\n   *\n   *     var teaServed = true;\n   *     assert.isTrue(teaServed, 'the tea has been served');\n   *\n   * @name isTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isTrue = function (val, msg) {\n    new Assertion(val, msg, assert.isTrue, true).is['true'];\n  };\n\n  /**\n   * ### .isNotTrue(value, [message])\n   *\n   * Asserts that `value` is not true.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotTrue(tea, 'great, time for tea!');\n   *\n   * @name isNotTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotTrue = function (val, msg) {\n    new Assertion(val, msg, assert.isNotTrue, true).to.not.equal(true);\n  };\n\n  /**\n   * ### .isFalse(value, [message])\n   *\n   * Asserts that `value` is false.\n   *\n   *     var teaServed = false;\n   *     assert.isFalse(teaServed, 'no tea yet? hmm...');\n   *\n   * @name isFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFalse = function (val, msg) {\n    new Assertion(val, msg, assert.isFalse, true).is['false'];\n  };\n\n  /**\n   * ### .isNotFalse(value, [message])\n   *\n   * Asserts that `value` is not false.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotFalse(tea, 'great, time for tea!');\n   *\n   * @name isNotFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFalse = function (val, msg) {\n    new Assertion(val, msg, assert.isNotFalse, true).to.not.equal(false);\n  };\n\n  /**\n   * ### .isNull(value, [message])\n   *\n   * Asserts that `value` is null.\n   *\n   *     assert.isNull(err, 'there was no error');\n   *\n   * @name isNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNull = function (val, msg) {\n    new Assertion(val, msg, assert.isNull, true).to.equal(null);\n  };\n\n  /**\n   * ### .isNotNull(value, [message])\n   *\n   * Asserts that `value` is not null.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotNull(tea, 'great, time for tea!');\n   *\n   * @name isNotNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotNull = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNull, true).to.not.equal(null);\n  };\n\n  /**\n   * ### .isNaN\n   *\n   * Asserts that value is NaN.\n   *\n   *     assert.isNaN(NaN, 'NaN is NaN');\n   *\n   * @name isNaN\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNaN = function (val, msg) {\n    new Assertion(val, msg, assert.isNaN, true).to.be.NaN;\n  };\n\n  /**\n   * ### .isNotNaN\n   *\n   * Asserts that value is not NaN.\n   *\n   *     assert.isNotNaN(4, '4 is not NaN');\n   *\n   * @name isNotNaN\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n  assert.isNotNaN = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNaN, true).not.to.be.NaN;\n  };\n\n  /**\n   * ### .exists\n   *\n   * Asserts that the target is neither `null` nor `undefined`.\n   *\n   *     var foo = 'hi';\n   *\n   *     assert.exists(foo, 'foo is neither `null` nor `undefined`');\n   *\n   * @name exists\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.exists = function (val, msg) {\n    new Assertion(val, msg, assert.exists, true).to.exist;\n  };\n\n  /**\n   * ### .notExists\n   *\n   * Asserts that the target is either `null` or `undefined`.\n   *\n   *     var bar = null\n   *       , baz;\n   *\n   *     assert.notExists(bar);\n   *     assert.notExists(baz, 'baz is either null or undefined');\n   *\n   * @name notExists\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notExists = function (val, msg) {\n    new Assertion(val, msg, assert.notExists, true).to.not.exist;\n  };\n\n  /**\n   * ### .isUndefined(value, [message])\n   *\n   * Asserts that `value` is `undefined`.\n   *\n   *     var tea;\n   *     assert.isUndefined(tea, 'no tea defined');\n   *\n   * @name isUndefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isUndefined = function (val, msg) {\n    new Assertion(val, msg, assert.isUndefined, true).to.equal(undefined);\n  };\n\n  /**\n   * ### .isDefined(value, [message])\n   *\n   * Asserts that `value` is not `undefined`.\n   *\n   *     var tea = 'cup of chai';\n   *     assert.isDefined(tea, 'tea has been defined');\n   *\n   * @name isDefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isDefined = function (val, msg) {\n    new Assertion(val, msg, assert.isDefined, true).to.not.equal(undefined);\n  };\n\n  /**\n   * ### .isFunction(value, [message])\n   *\n   * Asserts that `value` is a function.\n   *\n   *     function serveTea() { return 'cup of tea'; };\n   *     assert.isFunction(serveTea, 'great, we can have tea now');\n   *\n   * @name isFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFunction = function (val, msg) {\n    new Assertion(val, msg, assert.isFunction, true).to.be.a('function');\n  };\n\n  /**\n   * ### .isNotFunction(value, [message])\n   *\n   * Asserts that `value` is _not_ a function.\n   *\n   *     var serveTea = [ 'heat', 'pour', 'sip' ];\n   *     assert.isNotFunction(serveTea, 'great, we have listed the steps');\n   *\n   * @name isNotFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFunction = function (val, msg) {\n    new Assertion(val, msg, assert.isNotFunction, true).to.not.be.a('function');\n  };\n\n  /**\n   * ### .isObject(value, [message])\n   *\n   * Asserts that `value` is an object of type 'Object' (as revealed by `Object.prototype.toString`).\n   * _The assertion does not match subclassed objects._\n   *\n   *     var selection = { name: 'Chai', serve: 'with spices' };\n   *     assert.isObject(selection, 'tea selection is an object');\n   *\n   * @name isObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isObject = function (val, msg) {\n    new Assertion(val, msg, assert.isObject, true).to.be.a('object');\n  };\n\n  /**\n   * ### .isNotObject(value, [message])\n   *\n   * Asserts that `value` is _not_ an object of type 'Object' (as revealed by `Object.prototype.toString`).\n   *\n   *     var selection = 'chai'\n   *     assert.isNotObject(selection, 'tea selection is not an object');\n   *     assert.isNotObject(null, 'null is not an object');\n   *\n   * @name isNotObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotObject = function (val, msg) {\n    new Assertion(val, msg, assert.isNotObject, true).to.not.be.a('object');\n  };\n\n  /**\n   * ### .isArray(value, [message])\n   *\n   * Asserts that `value` is an array.\n   *\n   *     var menu = [ 'green', 'chai', 'oolong' ];\n   *     assert.isArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isArray = function (val, msg) {\n    new Assertion(val, msg, assert.isArray, true).to.be.an('array');\n  };\n\n  /**\n   * ### .isNotArray(value, [message])\n   *\n   * Asserts that `value` is _not_ an array.\n   *\n   *     var menu = 'green|chai|oolong';\n   *     assert.isNotArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isNotArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotArray = function (val, msg) {\n    new Assertion(val, msg, assert.isNotArray, true).to.not.be.an('array');\n  };\n\n  /**\n   * ### .isString(value, [message])\n   *\n   * Asserts that `value` is a string.\n   *\n   *     var teaOrder = 'chai';\n   *     assert.isString(teaOrder, 'order placed');\n   *\n   * @name isString\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isString = function (val, msg) {\n    new Assertion(val, msg, assert.isString, true).to.be.a('string');\n  };\n\n  /**\n   * ### .isNotString(value, [message])\n   *\n   * Asserts that `value` is _not_ a string.\n   *\n   *     var teaOrder = 4;\n   *     assert.isNotString(teaOrder, 'order placed');\n   *\n   * @name isNotString\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotString = function (val, msg) {\n    new Assertion(val, msg, assert.isNotString, true).to.not.be.a('string');\n  };\n\n  /**\n   * ### .isNumber(value, [message])\n   *\n   * Asserts that `value` is a number.\n   *\n   *     var cups = 2;\n   *     assert.isNumber(cups, 'how many cups');\n   *\n   * @name isNumber\n   * @param {Number} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNumber = function (val, msg) {\n    new Assertion(val, msg, assert.isNumber, true).to.be.a('number');\n  };\n\n  /**\n   * ### .isNotNumber(value, [message])\n   *\n   * Asserts that `value` is _not_ a number.\n   *\n   *     var cups = '2 cups please';\n   *     assert.isNotNumber(cups, 'how many cups');\n   *\n   * @name isNotNumber\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotNumber = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNumber, true).to.not.be.a('number');\n  };\n\n   /**\n   * ### .isFinite(value, [message])\n   *\n   * Asserts that `value` is a finite number. Unlike `.isNumber`, this will fail for `NaN` and `Infinity`.\n   *\n   *     var cups = 2;\n   *     assert.isFinite(cups, 'how many cups');\n   *\n   *     assert.isFinite(NaN); // throws\n   *\n   * @name isFinite\n   * @param {Number} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFinite = function (val, msg) {\n    new Assertion(val, msg, assert.isFinite, true).to.be.finite;\n  };\n\n  /**\n   * ### .isBoolean(value, [message])\n   *\n   * Asserts that `value` is a boolean.\n   *\n   *     var teaReady = true\n   *       , teaServed = false;\n   *\n   *     assert.isBoolean(teaReady, 'is the tea ready');\n   *     assert.isBoolean(teaServed, 'has tea been served');\n   *\n   * @name isBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isBoolean = function (val, msg) {\n    new Assertion(val, msg, assert.isBoolean, true).to.be.a('boolean');\n  };\n\n  /**\n   * ### .isNotBoolean(value, [message])\n   *\n   * Asserts that `value` is _not_ a boolean.\n   *\n   *     var teaReady = 'yep'\n   *       , teaServed = 'nope';\n   *\n   *     assert.isNotBoolean(teaReady, 'is the tea ready');\n   *     assert.isNotBoolean(teaServed, 'has tea been served');\n   *\n   * @name isNotBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotBoolean = function (val, msg) {\n    new Assertion(val, msg, assert.isNotBoolean, true).to.not.be.a('boolean');\n  };\n\n  /**\n   * ### .typeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.typeOf({ tea: 'chai' }, 'object', 'we have an object');\n   *     assert.typeOf(['chai', 'jasmine'], 'array', 'we have an array');\n   *     assert.typeOf('tea', 'string', 'we have a string');\n   *     assert.typeOf(/tea/, 'regexp', 'we have a regular expression');\n   *     assert.typeOf(null, 'null', 'we have a null');\n   *     assert.typeOf(undefined, 'undefined', 'we have an undefined');\n   *\n   * @name typeOf\n   * @param {Mixed} value\n   * @param {String} name\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.typeOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.typeOf, true).to.be.a(type);\n  };\n\n  /**\n   * ### .notTypeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is _not_ `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.notTypeOf('tea', 'number', 'strings are not numbers');\n   *\n   * @name notTypeOf\n   * @param {Mixed} value\n   * @param {String} typeof name\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notTypeOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.notTypeOf, true).to.not.be.a(type);\n  };\n\n  /**\n   * ### .instanceOf(object, constructor, [message])\n   *\n   * Asserts that `value` is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new Tea('chai');\n   *\n   *     assert.instanceOf(chai, Tea, 'chai is an instance of tea');\n   *\n   * @name instanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.instanceOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.instanceOf, true).to.be.instanceOf(type);\n  };\n\n  /**\n   * ### .notInstanceOf(object, constructor, [message])\n   *\n   * Asserts `value` is not an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new String('chai');\n   *\n   *     assert.notInstanceOf(chai, Tea, 'chai is not an instance of tea');\n   *\n   * @name notInstanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notInstanceOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.notInstanceOf, true)\n      .to.not.be.instanceOf(type);\n  };\n\n  /**\n   * ### .include(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Can be used to assert the\n   * inclusion of a value in an array, a substring in a string, or a subset of\n   * properties in an object.\n   *\n   *     assert.include([1,2,3], 2, 'array contains value');\n   *     assert.include('foobar', 'foo', 'string contains substring');\n   *     assert.include({ foo: 'bar', hello: 'universe' }, { foo: 'bar' }, 'object contains property');\n   *\n   * Strict equality (===) is used. When asserting the inclusion of a value in\n   * an array, the array is searched for an element that's strictly equal to the\n   * given value. When asserting a subset of properties in an object, the object\n   * is searched for the given property keys, checking that each one is present\n   * and strictly equal to the given property value. For instance:\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.include([obj1, obj2], obj1);\n   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1});\n   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1, bar: obj2});\n   *\n   * @name include\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.include = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.include, true).include(inc);\n  };\n\n  /**\n   * ### .notInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Can be used to assert\n   * the absence of a value in an array, a substring in a string, or a subset of\n   * properties in an object.\n   *\n   *     assert.notInclude([1,2,3], 4, \"array doesn't contain value\");\n   *     assert.notInclude('foobar', 'baz', \"string doesn't contain substring\");\n   *     assert.notInclude({ foo: 'bar', hello: 'universe' }, { foo: 'baz' }, 'object doesn't contain property');\n   *\n   * Strict equality (===) is used. When asserting the absence of a value in an\n   * array, the array is searched to confirm the absence of an element that's\n   * strictly equal to the given value. When asserting a subset of properties in\n   * an object, the object is searched to confirm that at least one of the given\n   * property keys is either not present or not strictly equal to the given\n   * property value. For instance:\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.notInclude([obj1, obj2], {a: 1});\n   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});\n   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: obj1, bar: {b: 2}});\n   *\n   * @name notInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notInclude, true).not.include(inc);\n  };\n\n  /**\n   * ### .deepInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Can be used to assert the\n   * inclusion of a value in an array or a subset of properties in an object.\n   * Deep equality is used.\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.deepInclude([obj1, obj2], {a: 1});\n   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});\n   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 2}});\n   *\n   * @name deepInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepInclude, true).deep.include(inc);\n  };\n\n  /**\n   * ### .notDeepInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Can be used to assert\n   * the absence of a value in an array or a subset of properties in an object.\n   * Deep equality is used.\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.notDeepInclude([obj1, obj2], {a: 9});\n   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 9}});\n   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 9}});\n   *\n   * @name notDeepInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepInclude, true).not.deep.include(inc);\n  };\n\n  /**\n   * ### .nestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.nestedInclude({'.a': {'b': 'x'}}, {'\\\\.a.[b]': 'x'});\n   *     assert.nestedInclude({'a': {'[b]': 'x'}}, {'a.\\\\[b\\\\]': 'x'});\n   *\n   * @name nestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.nestedInclude, true).nested.include(inc);\n  };\n\n  /**\n   * ### .notNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' does not include 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.notNestedInclude({'.a': {'b': 'x'}}, {'\\\\.a.b': 'y'});\n   *     assert.notNestedInclude({'a': {'[b]': 'x'}}, {'a.\\\\[b\\\\]': 'y'});\n   *\n   * @name notNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notNestedInclude, true)\n      .not.nested.include(inc);\n  };\n\n  /**\n   * ### .deepNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while checking for deep equality.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.deepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {x: 1}});\n   *     assert.deepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\\\.a.\\\\[b\\\\]': {x: 1}});\n   *\n   * @name deepNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepNestedInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepNestedInclude, true)\n      .deep.nested.include(inc);\n  };\n\n  /**\n   * ### .notDeepNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' does not include 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while checking for deep equality.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.notDeepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {y: 1}})\n   *     assert.notDeepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\\\.a.\\\\[b\\\\]': {y: 2}});\n   *\n   * @name notDeepNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepNestedInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepNestedInclude, true)\n      .not.deep.nested.include(inc);\n  };\n\n  /**\n   * ### .ownInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while ignoring inherited properties.\n   *\n   *     assert.ownInclude({ a: 1 }, { a: 1 });\n   *\n   * @name ownInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.ownInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.ownInclude, true).own.include(inc);\n  };\n\n  /**\n   * ### .notOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while ignoring inherited properties.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     assert.notOwnInclude({ a: 1 }, { b: 2 });\n   *\n   * @name notOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notOwnInclude, true).not.own.include(inc);\n  };\n\n  /**\n   * ### .deepOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while ignoring inherited properties and checking for deep equality.\n   *\n   *      assert.deepOwnInclude({a: {b: 2}}, {a: {b: 2}});\n   *\n   * @name deepOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepOwnInclude, true)\n      .deep.own.include(inc);\n  };\n\n   /**\n   * ### .notDeepOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while ignoring inherited properties and checking for deep equality.\n   *\n   *      assert.notDeepOwnInclude({a: {b: 2}}, {a: {c: 3}});\n   *\n   * @name notDeepOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepOwnInclude, true)\n      .not.deep.own.include(inc);\n  };\n\n  /**\n   * ### .match(value, regexp, [message])\n   *\n   * Asserts that `value` matches the regular expression `regexp`.\n   *\n   *     assert.match('foobar', /^foo/, 'regexp matches');\n   *\n   * @name match\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.match = function (exp, re, msg) {\n    new Assertion(exp, msg, assert.match, true).to.match(re);\n  };\n\n  /**\n   * ### .notMatch(value, regexp, [message])\n   *\n   * Asserts that `value` does not match the regular expression `regexp`.\n   *\n   *     assert.notMatch('foobar', /^foo/, 'regexp does not match');\n   *\n   * @name notMatch\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notMatch = function (exp, re, msg) {\n    new Assertion(exp, msg, assert.notMatch, true).to.not.match(re);\n  };\n\n  /**\n   * ### .property(object, property, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property`.\n   *\n   *     assert.property({ tea: { green: 'matcha' }}, 'tea');\n   *     assert.property({ tea: { green: 'matcha' }}, 'toString');\n   *\n   * @name property\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.property = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.property, true).to.have.property(prop);\n  };\n\n  /**\n   * ### .notProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property`.\n   *\n   *     assert.notProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *\n   * @name notProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notProperty, true)\n      .to.not.have.property(prop);\n  };\n\n  /**\n   * ### .propertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property` with a value given by `value`. Uses a strict equality check\n   * (===).\n   *\n   *     assert.propertyVal({ tea: 'is good' }, 'tea', 'is good');\n   *\n   * @name propertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.propertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.propertyVal, true)\n      .to.have.property(prop, val);\n  };\n\n  /**\n   * ### .notPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property` with value given by `value`. Uses a strict equality check\n   * (===).\n   *\n   *     assert.notPropertyVal({ tea: 'is good' }, 'tea', 'is bad');\n   *     assert.notPropertyVal({ tea: 'is good' }, 'coffee', 'is good');\n   *\n   * @name notPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notPropertyVal, true)\n      .to.not.have.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property` with a value given by `value`. Uses a deep equality check.\n   *\n   *     assert.deepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });\n   *\n   * @name deepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.deepPropertyVal, true)\n      .to.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .notDeepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property` with value given by `value`. Uses a deep equality check.\n   *\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });\n   *\n   * @name notDeepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notDeepPropertyVal, true)\n      .to.not.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .ownProperty(object, property, [message])\n   *\n   * Asserts that `object` has a direct property named by `property`. Inherited\n   * properties aren't checked.\n   *\n   *     assert.ownProperty({ tea: { green: 'matcha' }}, 'tea');\n   *\n   * @name ownProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ownProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.ownProperty, true)\n      .to.have.own.property(prop);\n  };\n\n  /**\n   * ### .notOwnProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by\n   * `property`. Inherited properties aren't checked.\n   *\n   *     assert.notOwnProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *     assert.notOwnProperty({}, 'toString');\n   *\n   * @name notOwnProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOwnProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notOwnProperty, true)\n      .to.not.have.own.property(prop);\n  };\n\n  /**\n   * ### .ownPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct property named by `property` and a value\n   * equal to the provided `value`. Uses a strict equality check (===).\n   * Inherited properties aren't checked.\n   *\n   *     assert.ownPropertyVal({ coffee: 'is good'}, 'coffee', 'is good');\n   *\n   * @name ownPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ownPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.ownPropertyVal, true)\n      .to.have.own.property(prop, value);\n  };\n\n  /**\n   * ### .notOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by `property`\n   * with a value equal to the provided `value`. Uses a strict equality check\n   * (===). Inherited properties aren't checked.\n   *\n   *     assert.notOwnPropertyVal({ tea: 'is better'}, 'tea', 'is worse');\n   *     assert.notOwnPropertyVal({}, 'toString', Object.prototype.toString);\n   *\n   * @name notOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.notOwnPropertyVal, true)\n      .to.not.have.own.property(prop, value);\n  };\n\n  /**\n   * ### .deepOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct property named by `property` and a value\n   * equal to the provided `value`. Uses a deep equality check. Inherited\n   * properties aren't checked.\n   *\n   *     assert.deepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });\n   *\n   * @name deepOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.deepOwnPropertyVal, true)\n      .to.have.deep.own.property(prop, value);\n  };\n\n  /**\n   * ### .notDeepOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by `property`\n   * with a value equal to the provided `value`. Uses a deep equality check.\n   * Inherited properties aren't checked.\n   *\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });\n   *     assert.notDeepOwnPropertyVal({}, 'toString', Object.prototype.toString);\n   *\n   * @name notDeepOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.notDeepOwnPropertyVal, true)\n      .to.not.have.deep.own.property(prop, value);\n  };\n\n  /**\n   * ### .nestedProperty(object, property, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property`, which can be a string using dot- and bracket-notation for\n   * nested reference.\n   *\n   *     assert.nestedProperty({ tea: { green: 'matcha' }}, 'tea.green');\n   *\n   * @name nestedProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.nestedProperty, true)\n      .to.have.nested.property(prop);\n  };\n\n  /**\n   * ### .notNestedProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`, which\n   * can be a string using dot- and bracket-notation for nested reference. The\n   * property cannot exist on the object nor anywhere in its prototype chain.\n   *\n   *     assert.notNestedProperty({ tea: { green: 'matcha' }}, 'tea.oolong');\n   *\n   * @name notNestedProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notNestedProperty, true)\n      .to.not.have.nested.property(prop);\n  };\n\n  /**\n   * ### .nestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`. `property` can use dot- and bracket-notation for nested\n   * reference. Uses a strict equality check (===).\n   *\n   *     assert.nestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'matcha');\n   *\n   * @name nestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.nestedPropertyVal, true)\n      .to.have.nested.property(prop, val);\n  };\n\n  /**\n   * ### .notNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property` with\n   * value given by `value`. `property` can use dot- and bracket-notation for\n   * nested reference. Uses a strict equality check (===).\n   *\n   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'konacha');\n   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'coffee.green', 'matcha');\n   *\n   * @name notNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notNestedPropertyVal, true)\n      .to.not.have.nested.property(prop, val);\n  };\n\n  /**\n   * ### .deepNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with a value given\n   * by `value`. `property` can use dot- and bracket-notation for nested\n   * reference. Uses a deep equality check.\n   *\n   *     assert.deepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yum' });\n   *\n   * @name deepNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.deepNestedPropertyVal, true)\n      .to.have.deep.nested.property(prop, val);\n  };\n\n  /**\n   * ### .notDeepNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property` with\n   * value given by `value`. `property` can use dot- and bracket-notation for\n   * nested reference. Uses a deep equality check.\n   *\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { oolong: 'yum' });\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yuck' });\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.black', { matcha: 'yum' });\n   *\n   * @name notDeepNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notDeepNestedPropertyVal, true)\n      .to.not.have.deep.nested.property(prop, val);\n  }\n\n  /**\n   * ### .lengthOf(object, length, [message])\n   *\n   * Asserts that `object` has a `length` or `size` with the expected value.\n   *\n   *     assert.lengthOf([1,2,3], 3, 'array has length of 3');\n   *     assert.lengthOf('foobar', 6, 'string has length of 6');\n   *     assert.lengthOf(new Set([1,2,3]), 3, 'set has size of 3');\n   *     assert.lengthOf(new Map([['a',1],['b',2],['c',3]]), 3, 'map has size of 3');\n   *\n   * @name lengthOf\n   * @param {Mixed} object\n   * @param {Number} length\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.lengthOf = function (exp, len, msg) {\n    new Assertion(exp, msg, assert.lengthOf, true).to.have.lengthOf(len);\n  };\n\n  /**\n   * ### .hasAnyKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has at least one of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'iDontExist', 'baz']);\n   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, iDontExist: 99, baz: 1337});\n   *     assert.hasAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.hasAnyKeys(new Set([{foo: 'bar'}, 'anotherKey']), [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name hasAnyKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAnyKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAnyKeys, true).to.have.any.keys(keys);\n  }\n\n  /**\n   * ### .hasAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all and only all of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);\n   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337]);\n   *     assert.hasAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.hasAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name hasAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAllKeys, true).to.have.all.keys(keys);\n  }\n\n  /**\n   * ### .containsAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all of the `keys` provided but may have more keys not listed.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'baz']);\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, baz: 1337});\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337});\n   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}]);\n   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}]);\n   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name containsAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.containsAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.containsAllKeys, true)\n      .to.contain.all.keys(keys);\n  }\n\n  /**\n   * ### .doesNotHaveAnyKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has none of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);\n   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});\n   *     assert.doesNotHaveAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);\n   *     assert.doesNotHaveAnyKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);\n   *\n   * @name doesNotHaveAnyKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAnyKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAnyKeys, true)\n      .to.not.have.any.keys(keys);\n  }\n\n  /**\n   * ### .doesNotHaveAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` does not have at least one of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);\n   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});\n   *     assert.doesNotHaveAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);\n   *     assert.doesNotHaveAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);\n   *\n   * @name doesNotHaveAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAllKeys, true)\n      .to.not.have.all.keys(keys);\n  }\n\n  /**\n   * ### .hasAnyDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has at least one of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {three: 'three'}]);\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name doesNotHaveAllKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAnyDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAnyDeepKeys, true)\n      .to.have.any.deep.keys(keys);\n  }\n\n /**\n   * ### .hasAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all and only all of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne']]), {one: 'one'});\n   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAllDeepKeys(new Set([{one: 'one'}]), {one: 'one'});\n   *     assert.hasAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name hasAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAllDeepKeys, true)\n      .to.have.all.deep.keys(keys);\n  }\n\n /**\n   * ### .containsAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` contains all of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});\n   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});\n   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name containsAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.containsAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.containsAllDeepKeys, true)\n      .to.contain.all.deep.keys(keys);\n  }\n\n /**\n   * ### .doesNotHaveAnyDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has none of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});\n   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);\n   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});\n   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);\n   *\n   * @name doesNotHaveAnyDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAnyDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAnyDeepKeys, true)\n      .to.not.have.any.deep.keys(keys);\n  }\n\n /**\n   * ### .doesNotHaveAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` does not have at least one of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});\n   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {one: 'one'}]);\n   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});\n   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {fifty: 'fifty'}]);\n   *\n   * @name doesNotHaveAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAllDeepKeys, true)\n      .to.not.have.all.deep.keys(keys);\n  }\n\n /**\n   * ### .throws(fn, [errorLike/string/regexp], [string/regexp], [message])\n   *\n   * If `errorLike` is an `Error` constructor, asserts that `fn` will throw an error that is an\n   * instance of `errorLike`.\n   * If `errorLike` is an `Error` instance, asserts that the error thrown is the same\n   * instance as `errorLike`.\n   * If `errMsgMatcher` is provided, it also asserts that the error thrown will have a\n   * message matching `errMsgMatcher`.\n   *\n   *     assert.throws(fn, 'Error thrown must have this msg');\n   *     assert.throws(fn, /Error thrown must have a msg that matches this/);\n   *     assert.throws(fn, ReferenceError);\n   *     assert.throws(fn, errorInstance);\n   *     assert.throws(fn, ReferenceError, 'Error thrown must be a ReferenceError and have this msg');\n   *     assert.throws(fn, errorInstance, 'Error thrown must be the same errorInstance and have this msg');\n   *     assert.throws(fn, ReferenceError, /Error thrown must be a ReferenceError and match this/);\n   *     assert.throws(fn, errorInstance, /Error thrown must be the same errorInstance and match this/);\n   *\n   * @name throws\n   * @alias throw\n   * @alias Throw\n   * @param {Function} fn\n   * @param {ErrorConstructor|Error} errorLike\n   * @param {RegExp|String} errMsgMatcher\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.throws = function (fn, errorLike, errMsgMatcher, msg) {\n    if ('string' === typeof errorLike || errorLike instanceof RegExp) {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    var assertErr = new Assertion(fn, msg, assert.throws, true)\n      .to.throw(errorLike, errMsgMatcher);\n    return flag(assertErr, 'object');\n  };\n\n  /**\n   * ### .doesNotThrow(fn, [errorLike/string/regexp], [string/regexp], [message])\n   *\n   * If `errorLike` is an `Error` constructor, asserts that `fn` will _not_ throw an error that is an\n   * instance of `errorLike`.\n   * If `errorLike` is an `Error` instance, asserts that the error thrown is _not_ the same\n   * instance as `errorLike`.\n   * If `errMsgMatcher` is provided, it also asserts that the error thrown will _not_ have a\n   * message matching `errMsgMatcher`.\n   *\n   *     assert.doesNotThrow(fn, 'Any Error thrown must not have this message');\n   *     assert.doesNotThrow(fn, /Any Error thrown must not match this/);\n   *     assert.doesNotThrow(fn, Error);\n   *     assert.doesNotThrow(fn, errorInstance);\n   *     assert.doesNotThrow(fn, Error, 'Error must not have this message');\n   *     assert.doesNotThrow(fn, errorInstance, 'Error must not have this message');\n   *     assert.doesNotThrow(fn, Error, /Error must not match this/);\n   *     assert.doesNotThrow(fn, errorInstance, /Error must not match this/);\n   *\n   * @name doesNotThrow\n   * @param {Function} fn\n   * @param {ErrorConstructor} errorLike\n   * @param {RegExp|String} errMsgMatcher\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotThrow = function (fn, errorLike, errMsgMatcher, msg) {\n    if ('string' === typeof errorLike || errorLike instanceof RegExp) {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    new Assertion(fn, msg, assert.doesNotThrow, true)\n      .to.not.throw(errorLike, errMsgMatcher);\n  };\n\n  /**\n   * ### .operator(val1, operator, val2, [message])\n   *\n   * Compares two values using `operator`.\n   *\n   *     assert.operator(1, '<', 2, 'everything is ok');\n   *     assert.operator(1, '>', 2, 'this will fail');\n   *\n   * @name operator\n   * @param {Mixed} val1\n   * @param {String} operator\n   * @param {Mixed} val2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.operator = function (val, operator, val2, msg) {\n    var ok;\n    switch(operator) {\n      case '==':\n        ok = val == val2;\n        break;\n      case '===':\n        ok = val === val2;\n        break;\n      case '>':\n        ok = val > val2;\n        break;\n      case '>=':\n        ok = val >= val2;\n        break;\n      case '<':\n        ok = val < val2;\n        break;\n      case '<=':\n        ok = val <= val2;\n        break;\n      case '!=':\n        ok = val != val2;\n        break;\n      case '!==':\n        ok = val !== val2;\n        break;\n      default:\n        msg = msg ? msg + ': ' : msg;\n        throw new chai.AssertionError(\n          msg + 'Invalid operator \"' + operator + '\"',\n          undefined,\n          assert.operator\n        );\n    }\n    var test = new Assertion(ok, msg, assert.operator, true);\n    test.assert(\n        true === flag(test, 'object')\n      , 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2)\n      , 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2) );\n  };\n\n  /**\n   * ### .closeTo(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.closeTo(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name closeTo\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.closeTo = function (act, exp, delta, msg) {\n    new Assertion(act, msg, assert.closeTo, true).to.be.closeTo(exp, delta);\n  };\n\n  /**\n   * ### .approximately(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.approximately(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name approximately\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.approximately = function (act, exp, delta, msg) {\n    new Assertion(act, msg, assert.approximately, true)\n      .to.be.approximately(exp, delta);\n  };\n\n  /**\n   * ### .sameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in any order. Uses a\n   * strict equality check (===).\n   *\n   *     assert.sameMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'same members');\n   *\n   * @name sameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameMembers, true)\n      .to.have.same.members(set2);\n  }\n\n  /**\n   * ### .notSameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in any order.\n   * Uses a strict equality check (===).\n   *\n   *     assert.notSameMembers([ 1, 2, 3 ], [ 5, 1, 3 ], 'not same members');\n   *\n   * @name notSameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameMembers, true)\n      .to.not.have.same.members(set2);\n  }\n\n  /**\n   * ### .sameDeepMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in any order. Uses a\n   * deep equality check.\n   *\n   *     assert.sameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { c: 3 }], 'same deep members');\n   *\n   * @name sameDeepMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameDeepMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameDeepMembers, true)\n      .to.have.same.deep.members(set2);\n  }\n\n  /**\n   * ### .notSameDeepMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in any order.\n   * Uses a deep equality check.\n   *\n   *     assert.notSameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { f: 5 }], 'not same deep members');\n   *\n   * @name notSameDeepMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameDeepMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameDeepMembers, true)\n      .to.not.have.same.deep.members(set2);\n  }\n\n  /**\n   * ### .sameOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in the same order.\n   * Uses a strict equality check (===).\n   *\n   *     assert.sameOrderedMembers([ 1, 2, 3 ], [ 1, 2, 3 ], 'same ordered members');\n   *\n   * @name sameOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameOrderedMembers, true)\n      .to.have.same.ordered.members(set2);\n  }\n\n  /**\n   * ### .notSameOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in the same\n   * order. Uses a strict equality check (===).\n   *\n   *     assert.notSameOrderedMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'not same ordered members');\n   *\n   * @name notSameOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameOrderedMembers, true)\n      .to.not.have.same.ordered.members(set2);\n  }\n\n  /**\n   * ### .sameDeepOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in the same order.\n   * Uses a deep equality check.\n   *\n   * assert.sameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { c: 3 } ], 'same deep ordered members');\n   *\n   * @name sameDeepOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameDeepOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameDeepOrderedMembers, true)\n      .to.have.same.deep.ordered.members(set2);\n  }\n\n  /**\n   * ### .notSameDeepOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in the same\n   * order. Uses a deep equality check.\n   *\n   * assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { z: 5 } ], 'not same deep ordered members');\n   * assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { c: 3 } ], 'not same deep ordered members');\n   *\n   * @name notSameDeepOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameDeepOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameDeepOrderedMembers, true)\n      .to.not.have.same.deep.ordered.members(set2);\n  }\n\n  /**\n   * ### .includeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in any order. Uses a\n   * strict equality check (===). Duplicates are ignored.\n   *\n   *     assert.includeMembers([ 1, 2, 3 ], [ 2, 1, 2 ], 'include members');\n   *\n   * @name includeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeMembers, true)\n      .to.include.members(subset);\n  }\n\n  /**\n   * ### .notIncludeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in any order. Uses a\n   * strict equality check (===). Duplicates are ignored.\n   *\n   *     assert.notIncludeMembers([ 1, 2, 3 ], [ 5, 1 ], 'not include members');\n   *\n   * @name notIncludeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeMembers, true)\n      .to.not.include.members(subset);\n  }\n\n  /**\n   * ### .includeDeepMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in any order. Uses a deep\n   * equality check. Duplicates are ignored.\n   *\n   *     assert.includeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { b: 2 } ], 'include deep members');\n   *\n   * @name includeDeepMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeDeepMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeDeepMembers, true)\n      .to.include.deep.members(subset);\n  }\n\n  /**\n   * ### .notIncludeDeepMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in any order. Uses a\n   * deep equality check. Duplicates are ignored.\n   *\n   *     assert.notIncludeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { f: 5 } ], 'not include deep members');\n   *\n   * @name notIncludeDeepMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeDeepMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeDeepMembers, true)\n      .to.not.include.deep.members(subset);\n  }\n\n  /**\n   * ### .includeOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a strict equality\n   * check (===).\n   *\n   *     assert.includeOrderedMembers([ 1, 2, 3 ], [ 1, 2 ], 'include ordered members');\n   *\n   * @name includeOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeOrderedMembers, true)\n      .to.include.ordered.members(subset);\n  }\n\n  /**\n   * ### .notIncludeOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a strict equality\n   * check (===).\n   *\n   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 1 ], 'not include ordered members');\n   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 3 ], 'not include ordered members');\n   *\n   * @name notIncludeOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeOrderedMembers, true)\n      .to.not.include.ordered.members(subset);\n  }\n\n  /**\n   * ### .includeDeepOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a deep equality\n   * check.\n   *\n   *     assert.includeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 } ], 'include deep ordered members');\n   *\n   * @name includeDeepOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeDeepOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeDeepOrderedMembers, true)\n      .to.include.deep.ordered.members(subset);\n  }\n\n  /**\n   * ### .notIncludeDeepOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a deep equality\n   * check.\n   *\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { f: 5 } ], 'not include deep ordered members');\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 } ], 'not include deep ordered members');\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { c: 3 } ], 'not include deep ordered members');\n   *\n   * @name notIncludeDeepOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeDeepOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeDeepOrderedMembers, true)\n      .to.not.include.deep.ordered.members(subset);\n  }\n\n  /**\n   * ### .oneOf(inList, list, [message])\n   *\n   * Asserts that non-object, non-array value `inList` appears in the flat array `list`.\n   *\n   *     assert.oneOf(1, [ 2, 1 ], 'Not found in list');\n   *\n   * @name oneOf\n   * @param {*} inList\n   * @param {Array<*>} list\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.oneOf = function (inList, list, msg) {\n    new Assertion(inList, msg, assert.oneOf, true).to.be.oneOf(list);\n  }\n\n  /**\n   * ### .changes(function, object, property, [message])\n   *\n   * Asserts that a function changes the value of a property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 22 };\n   *     assert.changes(fn, obj, 'val');\n   *\n   * @name changes\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changes = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changes, true).to.change(obj, prop);\n  }\n\n   /**\n   * ### .changesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function changes the value of a property by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 2 };\n   *     assert.changesBy(fn, obj, 'val', 2);\n   *\n   * @name changesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changesBy, true)\n      .to.change(obj, prop).by(delta);\n  }\n\n   /**\n   * ### .doesNotChange(function, object, property, [message])\n   *\n   * Asserts that a function does not change the value of a property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { console.log('foo'); };\n   *     assert.doesNotChange(fn, obj, 'val');\n   *\n   * @name doesNotChange\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotChange = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotChange, true)\n      .to.not.change(obj, prop);\n  }\n\n  /**\n   * ### .changesButNotBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not change the value of a property or of a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 10 };\n   *     assert.changesButNotBy(fn, obj, 'val', 5);\n   *\n   * @name changesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changesButNotBy, true)\n      .to.change(obj, prop).but.not.by(delta);\n  }\n\n  /**\n   * ### .increases(function, object, property, [message])\n   *\n   * Asserts that a function increases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 13 };\n   *     assert.increases(fn, obj, 'val');\n   *\n   * @name increases\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increases = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.increases, true)\n      .to.increase(obj, prop);\n  }\n\n  /**\n   * ### .increasesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function increases a numeric object property or a function's return value by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 10 };\n   *     assert.increasesBy(fn, obj, 'val', 10);\n   *\n   * @name increasesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increasesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.increasesBy, true)\n      .to.increase(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .doesNotIncrease(function, object, property, [message])\n   *\n   * Asserts that a function does not increase a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 8 };\n   *     assert.doesNotIncrease(fn, obj, 'val');\n   *\n   * @name doesNotIncrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotIncrease = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotIncrease, true)\n      .to.not.increase(obj, prop);\n  }\n\n  /**\n   * ### .increasesButNotBy(function, object, property, [message])\n   *\n   * Asserts that a function does not increase a numeric object property or function's return value by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 15 };\n   *     assert.increasesButNotBy(fn, obj, 'val', 10);\n   *\n   * @name increasesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increasesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.increasesButNotBy, true)\n      .to.increase(obj, prop).but.not.by(delta);\n  }\n\n  /**\n   * ### .decreases(function, object, property, [message])\n   *\n   * Asserts that a function decreases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.decreases(fn, obj, 'val');\n   *\n   * @name decreases\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreases = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.decreases, true)\n      .to.decrease(obj, prop);\n  }\n\n  /**\n   * ### .decreasesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val -= 5 };\n   *     assert.decreasesBy(fn, obj, 'val', 5);\n   *\n   * @name decreasesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreasesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.decreasesBy, true)\n      .to.decrease(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .doesNotDecrease(function, object, property, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 15 };\n   *     assert.doesNotDecrease(fn, obj, 'val');\n   *\n   * @name doesNotDecrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotDecrease = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotDecrease, true)\n      .to.not.decrease(obj, prop);\n  }\n\n  /**\n   * ### .doesNotDecreaseBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.doesNotDecreaseBy(fn, obj, 'val', 1);\n   *\n   * @name doesNotDecrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotDecreaseBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotDecreaseBy, true)\n      .to.not.decrease(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .decreasesButNotBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.decreasesButNotBy(fn, obj, 'val', 1);\n   *\n   * @name decreasesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreasesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.decreasesButNotBy, true)\n      .to.decrease(obj, prop).but.not.by(delta);\n  }\n\n  /*!\n   * ### .ifError(object)\n   *\n   * Asserts if value is not a false value, and throws if it is a true value.\n   * This is added to allow for chai to be a drop-in replacement for Node's\n   * assert class.\n   *\n   *     var err = new Error('I am a custom error');\n   *     assert.ifError(err); // Rethrows err!\n   *\n   * @name ifError\n   * @param {Object} object\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.ifError = function (val) {\n    if (val) {\n      throw(val);\n    }\n  };\n\n  /**\n   * ### .isExtensible(object)\n   *\n   * Asserts that `object` is extensible (can have new properties added to it).\n   *\n   *     assert.isExtensible({});\n   *\n   * @name isExtensible\n   * @alias extensible\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isExtensible = function (obj, msg) {\n    new Assertion(obj, msg, assert.isExtensible, true).to.be.extensible;\n  };\n\n  /**\n   * ### .isNotExtensible(object)\n   *\n   * Asserts that `object` is _not_ extensible.\n   *\n   *     var nonExtensibleObject = Object.preventExtensions({});\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.freeze({});\n   *\n   *     assert.isNotExtensible(nonExtensibleObject);\n   *     assert.isNotExtensible(sealedObject);\n   *     assert.isNotExtensible(frozenObject);\n   *\n   * @name isNotExtensible\n   * @alias notExtensible\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotExtensible = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotExtensible, true).to.not.be.extensible;\n  };\n\n  /**\n   * ### .isSealed(object)\n   *\n   * Asserts that `object` is sealed (cannot have new properties added to it\n   * and its existing properties cannot be removed).\n   *\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.seal({});\n   *\n   *     assert.isSealed(sealedObject);\n   *     assert.isSealed(frozenObject);\n   *\n   * @name isSealed\n   * @alias sealed\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isSealed = function (obj, msg) {\n    new Assertion(obj, msg, assert.isSealed, true).to.be.sealed;\n  };\n\n  /**\n   * ### .isNotSealed(object)\n   *\n   * Asserts that `object` is _not_ sealed.\n   *\n   *     assert.isNotSealed({});\n   *\n   * @name isNotSealed\n   * @alias notSealed\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotSealed = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotSealed, true).to.not.be.sealed;\n  };\n\n  /**\n   * ### .isFrozen(object)\n   *\n   * Asserts that `object` is frozen (cannot have new properties added to it\n   * and its existing properties cannot be modified).\n   *\n   *     var frozenObject = Object.freeze({});\n   *     assert.frozen(frozenObject);\n   *\n   * @name isFrozen\n   * @alias frozen\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFrozen = function (obj, msg) {\n    new Assertion(obj, msg, assert.isFrozen, true).to.be.frozen;\n  };\n\n  /**\n   * ### .isNotFrozen(object)\n   *\n   * Asserts that `object` is _not_ frozen.\n   *\n   *     assert.isNotFrozen({});\n   *\n   * @name isNotFrozen\n   * @alias notFrozen\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFrozen = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotFrozen, true).to.not.be.frozen;\n  };\n\n  /**\n   * ### .isEmpty(target)\n   *\n   * Asserts that the target does not contain any values.\n   * For arrays and strings, it checks the `length` property.\n   * For `Map` and `Set` instances, it checks the `size` property.\n   * For non-function objects, it gets the count of own\n   * enumerable string keys.\n   *\n   *     assert.isEmpty([]);\n   *     assert.isEmpty('');\n   *     assert.isEmpty(new Map);\n   *     assert.isEmpty({});\n   *\n   * @name isEmpty\n   * @alias empty\n   * @param {Object|Array|String|Map|Set} target\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isEmpty = function(val, msg) {\n    new Assertion(val, msg, assert.isEmpty, true).to.be.empty;\n  };\n\n  /**\n   * ### .isNotEmpty(target)\n   *\n   * Asserts that the target contains values.\n   * For arrays and strings, it checks the `length` property.\n   * For `Map` and `Set` instances, it checks the `size` property.\n   * For non-function objects, it gets the count of own\n   * enumerable string keys.\n   *\n   *     assert.isNotEmpty([1, 2]);\n   *     assert.isNotEmpty('34');\n   *     assert.isNotEmpty(new Set([5, 6]));\n   *     assert.isNotEmpty({ key: 7 });\n   *\n   * @name isNotEmpty\n   * @alias notEmpty\n   * @param {Object|Array|String|Map|Set} target\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotEmpty = function(val, msg) {\n    new Assertion(val, msg, assert.isNotEmpty, true).to.not.be.empty;\n  };\n\n  /*!\n   * Aliases.\n   */\n\n  (function alias(name, as){\n    assert[as] = assert[name];\n    return alias;\n  })\n  ('isOk', 'ok')\n  ('isNotOk', 'notOk')\n  ('throws', 'throw')\n  ('throws', 'Throw')\n  ('isExtensible', 'extensible')\n  ('isNotExtensible', 'notExtensible')\n  ('isSealed', 'sealed')\n  ('isNotSealed', 'notSealed')\n  ('isFrozen', 'frozen')\n  ('isNotFrozen', 'notFrozen')\n  ('isEmpty', 'empty')\n  ('isNotEmpty', 'notEmpty');\n};\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import pv from '..';\r\nimport makeSliders from './sliders'\r\n\r\nexport default function() {\r\n  //benchmarking stuff\r\n  let timeBegin;\r\n  let timeEnd;\r\n\r\n  //initialize the sliders to control various attributes\r\n  makeSliders()\r\n\r\n  //initialize the select file button\r\n  document.getElementById('p5-control').innerHTML = `<input type=\"file\" id=\"input-file\" />`\r\n\r\n  //make the start buttons disabled upon running the program\r\n  document.getElementById(\"start-button\").disabled = true\r\n  document.getElementById(\"next-button\").disabled = true\r\n\r\n  //make the confirm parameters button disabled upon running the program\r\n  document.getElementById(\"confirm-parameters-button\").disabled = true;\r\n\r\n  function disableScroll() { \r\n    // Get the current page scroll position \r\n    let scrollTop = window.pageYOffset || document.documentElement.scrollTop; \r\n    let scrollLeft = window.pageXOffset || document.documentElement.scrollLeft; \r\n        // if any scroll is attempted, set this to the previous value \r\n        window.onscroll = function() { \r\n            window.scrollTo(scrollLeft, scrollTop); \r\n        }; \r\n  } \r\n  \r\n  function enableScroll() { \r\n    window.onscroll = function() {}; \r\n  } \r\n\r\n  document.addEventListener(\"keydown\", event => {\r\n    if (event.keyCode === 16) {\r\n      //keyCode 16 = shift\r\n      disableScroll();\r\n    }\r\n  });\r\n  document.addEventListener(\"keyup\", event => {\r\n    if (event.keyCode === 16) {\r\n      //keyCode 16 = shift\r\n      enableScroll();\r\n    }\r\n  });\r\n\r\n  function calculateBinRatio(raRange, decRange) {\r\n    let raMaxRange = $(\"#ra-slider-range\").slider(\"option\", \"max\") - $(\"#ra-slider-range\").slider(\"option\", \"min\")\r\n    let raCurrRange = raRange[1] - raRange[0]\r\n    let raRatio = raCurrRange / raMaxRange\r\n\r\n    let decMaxRange = $(\"#dec-slider-range\").slider(\"option\", \"max\") - $(\"#dec-slider-range\").slider(\"option\", \"min\")\r\n    let decCurrRange = decRange[1] - decRange[0]\r\n    let decRatio = decCurrRange / decMaxRange\r\n\r\n    //console.log(raRatio, \"    \", decRatio)\r\n    return [raRatio*2048*2, decRatio*2048*2]\r\n  }\r\n\r\n  function calculateBinSizeFactor(atr) {\r\n    let atrMaxRange;\r\n    let atrCurrRange;\r\n    let atrRatio;\r\n\r\n    switch (atr) {\r\n      case \"mag\":\r\n        atrMaxRange = $(\"#mag-slider-range\").slider(\"option\", \"max\") - $(\"#mag-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getMagnitude()[1] - getMagnitude()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n      case \"temp\":\r\n        atrMaxRange = $(\"#temp-slider-range\").slider(\"option\", \"max\") - $(\"#temp-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getSurfTemp()[1] - getSurfTemp()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n      case \"grav\":\r\n        atrMaxRange = $(\"#grav-slider-range\").slider(\"option\", \"max\") - $(\"#grav-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getSurfGrav()[1] - getSurfGrav()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n      case \"metallicity\":\r\n        atrMaxRange = $(\"#metallicity-slider-range\").slider(\"option\", \"max\") - $(\"#metallicity-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getMetallicity()[1] - getMetallicity()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n      case \"radius\":\r\n        atrMaxRange = $(\"#radius-slider-range\").slider(\"option\", \"max\") - $(\"#radius-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getRadius()[1] - getRadius()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n      case \"mass\":\r\n        atrMaxRange = $(\"#mass-slider-range\").slider(\"option\", \"max\") - $(\"#mass-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getMass()[1] - getMass()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n      case \"density\":\r\n        atrMaxRange = $(\"#density-slider-range\").slider(\"option\", \"max\") - $(\"#density-slider-range\").slider(\"option\", \"min\")\r\n        atrCurrRange = getDensity()[1] - getDensity()[0]\r\n        atrRatio = atrCurrRange / atrMaxRange\r\n        return atrRatio\r\n    }\r\n  }\r\n\r\n  function getRightAscension() {\r\n    //This method is invoked when the pipeline is started\r\n    let ra_range = [$(\"#ra-slider-range\").slider(\"option\", \"values\")[0], $(\"#ra-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(ra_range)\r\n    return ra_range\r\n  }\r\n\r\n  function getDecline() {\r\n    //This method is invoked when the pipeline is started\r\n    let dec_range = [$(\"#dec-slider-range\").slider(\"option\", \"values\")[0], $(\"#dec-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(dec_range)\r\n    return dec_range\r\n  }\r\n\r\n  function getMagnitude() {\r\n    //This method is invoked when the pipeline is started\r\n    let mag_range = [$(\"#mag-slider-range\").slider(\"option\", \"values\")[0], $(\"#mag-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(mag_range)\r\n    return mag_range\r\n  }\r\n\r\n  function getSurfTemp() {\r\n    //This method is invoked when the pipeline is started\r\n    let temp_range = [$(\"#temp-slider-range\").slider(\"option\", \"values\")[0], $(\"#temp-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(temp_range)\r\n    return temp_range\r\n  }\r\n\r\n  function getSurfGrav() {\r\n    //This method is invoked when the pipeline is started\r\n    let grav_range = [$(\"#grav-slider-range\").slider(\"option\", \"values\")[0], $(\"#grav-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(grav_range)\r\n    return grav_range\r\n  }\r\n\r\n  function getMetallicity() {\r\n    //This method is invoked when the pipeline is started\r\n    let metal_range = [$(\"#metallicity-slider-range\").slider(\"option\", \"values\")[0], $(\"#metallicity-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(metal_range)\r\n    return metal_range\r\n  }\r\n\r\n  function getRadius() {\r\n    //This method is invoked when the pipeline is started\r\n    let radius_range = [$(\"#radius-slider-range\").slider(\"option\", \"values\")[0], $(\"#radius-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(radius_range)\r\n    return radius_range\r\n  }\r\n\r\n  function getMass() {\r\n    //This method is invoked when the pipeline is started\r\n    let mass_range = [$(\"#mass-slider-range\").slider(\"option\", \"values\")[0], $(\"#mass-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(mass_range)\r\n    return mass_range\r\n  }\r\n\r\n  function getDensity() {\r\n    //This method is invoked when the pipeline is started\r\n    let density_range = [$(\"#density-slider-range\").slider(\"option\", \"values\")[0], $(\"#density-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(density_range)\r\n    return density_range\r\n  }\r\n\r\n  function getPlanets() {\r\n    //This method is invoked when the pipeline is started\r\n    let planets_range = [$(\"#planets-slider-range\").slider(\"option\", \"values\")[0], $(\"#planets-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(planets_range)\r\n    return planets_range\r\n  }\r\n\r\n  function getKOIs() {\r\n    //This method is invoked when the pipeline is started\r\n    let KOIs_range = [$(\"#KOIs-slider-range\").slider(\"option\", \"values\")[0], $(\"#KOIs-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(KOIs_range)\r\n    return KOIs_range\r\n  }\r\n\r\n  function getTCEs() {\r\n    //This method is invoked when the pipeline is started\r\n    let TCEs_range = [$(\"#TCEs-slider-range\").slider(\"option\", \"values\")[0], $(\"#TCEs-slider-range\").slider(\"option\", \"values\")[1]]\r\n    //console.log(TCEs_range)\r\n    return TCEs_range\r\n  }\r\n\r\n  function getResolution() {\r\n    return $(\"#resolution_slider\").slider(\"value\")/100\r\n  }\r\n\r\n  function disableButtonsAndSliders() {\r\n    //upon confirming parameters, make all sliders and buttons inactive\r\n    $( \"#ra-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#dec-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#mag-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#temp-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#grav-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#metallicity-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#radius-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#mass-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#density-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#planets-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#KOIs-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#TCEs-slider-range\" ).slider( \"option\", \"disabled\", true );\r\n    $( \"#resolution_slider\" ).slider( \"option\", \"disabled\", true );\r\n\r\n    document.getElementById(\"confirm-parameters-button\").disabled = true;\r\n    document.getElementById('p5-control').innerHTML = `<input type=\"file\" id=\"input-file\" disabled />`\r\n    document.getElementById('GPU-settings').disabled = true;\r\n    //don't allow pressing of start until parameters are confirmed\r\n    document.getElementById(\"start-button\").disabled = false\r\n    document.getElementById(\"next-button\").disabled = false\r\n  }\r\n\r\n  function enableButtonsAndSliders() {\r\n    //upon confirming parameters, make all sliders and buttons inactive\r\n    $( \"#ra-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#dec-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#mag-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#temp-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#grav-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#metallicity-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#radius-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#mass-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#density-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#planets-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#KOIs-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#TCEs-slider-range\" ).slider( \"option\", \"disabled\", false );\r\n    $( \"#resolution_slider\" ).slider( \"option\", \"disabled\", false );\r\n\r\n    document.getElementById(\"confirm-parameters-button\").disabled = false;\r\n    document.getElementById('p5-control').innerHTML = `<input type=\"file\" id=\"input-file\" />`\r\n    //don't allow pressing of start until parameters are confirmed\r\n    document.getElementById(\"start-button\").disabled = true\r\n    document.getElementById(\"next-button\").disabled = true\r\n  }\r\n\r\n  let config = {\r\n    container: \"pv-vis\",\r\n    viewport: [1850, 2500],\r\n    profiling: true\r\n  }\r\n\r\n  let app = pv(config)\r\n\r\n  let datasetSize;\r\n  let batchSize;\r\n  let n = 1\r\n  let dataset;\r\n\r\n  let confirmData = (evt) => {\r\n    //allow users to click confirm parameters button after data has been selected\r\n    document.getElementById(\"confirm-parameters-button\").disabled = false;\r\n    datasetSize = evt.target.files[0].size\r\n    dataset = evt.target.files[0]\r\n  }\r\n\r\n  let analyseVisualise = () => {\r\n    // check which GPU selection has been made to determine batch size for optimal fluidity\r\n    if (document.getElementById(\"lowGPU\").checked) {\r\n      batchSize = 100000\r\n    } else if (document.getElementById(\"medGPU\").checked) {\r\n      batchSize = 500000\r\n    } else if (document.getElementById(\"highGPU\").checked){\r\n      batchSize = 1000000\r\n    } else {\r\n      batchSize = 2500000\r\n    }\r\n\r\n    app.input({\r\n      source: dataset,\r\n      batchSize: batchSize,\r\n      schema: { \r\n        st_delivname: 'string',\r\n        kepid: 'int',\r\n        tm_designation: 'string',\r\n        ra: 'float',\r\n        dec: 'float',\r\n        kepmag: 'float',\r\n        teff: 'int',\r\n        teff_err1: 'int',\r\n        teff_err2: 'int',\r\n        teff_prov: 'string',\r\n        logg: 'float',\r\n        logg_err1: 'float',\r\n        logg_err2: 'float',\r\n        logg_prov: 'string',\r\n        feh: 'float',\r\n        feh_err1: 'float',\r\n        feh_err2: 'float',\r\n        feh_prov: 'string',\r\n        radius: 'float',\r\n        radius_err1: 'float',\r\n        radius_err2: 'float',\r\n        mass: 'float',\r\n        mass_err1: 'float',\r\n        mass_err2: 'float',\r\n        dens: 'float',\r\n        dens_err1: 'float',\r\n        dens_err2: 'float',\r\n        prov_sec: 'string',\r\n        nconfp: 'int',\r\n        nkoi: 'int',\r\n        ntce: 'int',\r\n        st_quarters: 'int',\r\n        st_vet_date_str: 'string',\r\n      },\r\n    });\r\n\r\n    let mapDim = 925\r\n    //define the views based on slider settings\r\n    let views = [\r\n      // the map\r\n      {\r\n        id: 'coordinate_map', offset: [0,0],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: mapDim, height: mapDim,\r\n        legend: true,\r\n        profiling: true\r\n      },\r\n      //row 1 right of map\r\n      {\r\n        id: 'temp_distribution', offset: [mapDim, 5],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 455, height: 455,\r\n        xAxis: {\r\n          ticks: 6,\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n      {\r\n        id: 'mag_distribution', offset: [mapDim+455, 5],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 455, height: 455,\r\n        xAxis: {\r\n          ticks: 10,\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n      // row 2 right of map\r\n      {\r\n        id: 'mass_distribution', offset: [mapDim, 460],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 455, height: 455,\r\n        xAxis: {\r\n          ticks: 10\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n      {\r\n        id: 'radius_distribution', offset: [mapDim+455, 460],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 455, height: 455,\r\n        xAxis: {\r\n          ticks: 5,\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n      // row 1 below map\r\n      {\r\n        id: 'planetsInSystem', offset: [50, mapDim+50],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 600, height: 500,\r\n        gridlines: {y: true}\r\n      },\r\n      {\r\n        id: 'KOIsInSystem', offset: [600+50, mapDim+50],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 600, height: 500,\r\n        gridlines: {y: true}\r\n      },\r\n      {\r\n        id: 'TCEsInSystem', offset: [2*600+50, mapDim+50],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 600, height: 500,\r\n        gridlines: {y: true}\r\n      },\r\n      // row 2 below map\r\n      {\r\n        id: 'gravity_distribution', offset: [50, mapDim+50+500],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 600, height: 500,\r\n        xAxis: {\r\n          ticks: 10\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n      {\r\n        id: 'density_distribution', offset: [600+50, mapDim+50+500],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 600, height: 500,\r\n        xAxis: {\r\n          ticks: 10\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n      {\r\n        id: 'metallicity_distribution', offset: [2*600+50, mapDim+50+500],\r\n        padding: {left: 80, right: 10, top: 10, bottom: 60},\r\n        width: 600, height: 500,\r\n        xAxis: {\r\n          ticks: 10\r\n        },\r\n        gridlines: {y: true}\r\n      },\r\n    ]\r\n\r\n    disableButtonsAndSliders()\r\n    \r\n    let ra_range = getRightAscension()\r\n    let dec_range = getDecline()\r\n    let binSize = calculateBinRatio(ra_range, dec_range)\r\n\r\n    let mag_range = getMagnitude()\r\n    let temp_range = getSurfTemp()\r\n    let grav_range = getSurfGrav()\r\n    let metal_range = getMetallicity()\r\n    let radius_range = getRadius()\r\n    let mass_range = getMass()\r\n    let density_range = getDensity()\r\n    let planets_range = getPlanets()\r\n    let KOIs_range = getKOIs()\r\n    let TCEs_range = getTCEs()\r\n    let resolution = getResolution()\r\n\r\n    app.view(views)\r\n    app.batch([\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: [{ra: Math.ceil(binSize[0]*resolution)}, {dec: Math.ceil(binSize[1]*resolution)}],\r\n          $collect: {\r\n            star_count: {$count: '*'},\r\n          },\r\n        },\r\n        out: 'coordinate_map'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range,\r\n        },\r\n        aggregate: {\r\n          $bin: {teff: Math.ceil(150*calculateBinSizeFactor(\"temp\"))},\r\n          $collect: {\r\n            temp_count: {$count: 'teff'},\r\n          },\r\n        },\r\n        out: 'temp_distribution'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: {kepmag: Math.ceil(150*calculateBinSizeFactor(\"mag\"))},\r\n          $collect: {\r\n            mag_count: {$count: 'kepmag'},\r\n          },\r\n        },\r\n        out: 'mag_distribution'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: {mass: Math.ceil(150*calculateBinSizeFactor(\"mass\"))},\r\n          $collect: {\r\n            mass_count: {$count: 'mass'},\r\n          },\r\n        },\r\n        out: 'mass_distribution'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: {radius: Math.ceil(500*calculateBinSizeFactor(\"radius\"))},\r\n          $collect: {\r\n            radius_count: {$count: 'radius'},\r\n          },\r\n        },\r\n        out: 'radius_distribution'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $group: 'nconfp',\r\n          $collect: {\r\n            planets_count: {$count: 'nconfp'},\r\n          },\r\n        },\r\n        out: 'planets'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $group: 'nkoi',\r\n          $collect: {\r\n            KOIs_count: {$count: 'nkoi'},\r\n          },\r\n        },\r\n        out: 'KOIs'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $group: 'ntce',\r\n          $collect: {\r\n            TCEs_count: {$count: 'ntce'},\r\n          },\r\n        },\r\n        out: 'TCEs'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: {logg: Math.ceil(150*calculateBinSizeFactor(\"grav\"))},\r\n          $collect: {\r\n            gravity_count: {$count: 'logg'},\r\n          },\r\n        },\r\n        out: 'gravity_distribution'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: {dens: Math.ceil(150*calculateBinSizeFactor(\"density\"))},\r\n          $collect: {\r\n            density_count: {$count: 'dens'},\r\n          },\r\n        },\r\n        out: 'density_distribution'\r\n      },\r\n      {\r\n        match: {\r\n          ra: ra_range,\r\n          dec: dec_range,\r\n          kepmag: mag_range,\r\n          teff: temp_range,\r\n          logg: grav_range,\r\n          feh: metal_range,\r\n          radius: radius_range,\r\n          mass: mass_range,\r\n          dens: density_range,\r\n          nconfp: planets_range,\r\n          nkoi: KOIs_range,\r\n          ntce: TCEs_range\r\n        },\r\n        aggregate: {\r\n          $bin: {feh: Math.ceil(150*calculateBinSizeFactor(\"metallicity\"))},\r\n          $collect: {\r\n            metallicity_count: {$count: 'feh'},\r\n          },\r\n        },\r\n        out: 'metallicity_distribution'\r\n      },\r\n    ]).progress([\r\n      {\r\n        visualize: {\r\n          id: 'coordinate_map',\r\n          in: 'coordinate_map',\r\n          mark: 'rect',\r\n          color: {\r\n            field: 'star_count',\r\n            exponent: '0.25'\r\n          },\r\n          x: 'ra', \r\n          y: 'dec',\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'temp_distribution',\r\n          in: \"temp_distribution\",\r\n          mark: 'area',\r\n          color: 'steelblue',\r\n          x: 'teff',\r\n          y: 'temp_count',\r\n\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'mag_distribution',\r\n          in: \"mag_distribution\",\r\n          mark: 'area',\r\n          color: 'steelblue',\r\n          x: 'kepmag', \r\n          y: 'mag_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'mass_distribution',\r\n          in: \"mass_distribution\",\r\n          mark: 'area',\r\n          color: 'steelblue',\r\n          x: 'mass', \r\n          y: 'mass_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'radius_distribution',\r\n          in: \"radius_distribution\",\r\n          mark: 'area',\r\n          color: 'steelblue',\r\n          x: 'radius',\r\n          y: 'radius_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'planetsInSystem',\r\n          in: \"planets\",\r\n          mark: 'bar',\r\n          color: {\r\n            field: 'planets_count',\r\n            exponent: 0.1\r\n          },\r\n          x: 'nconfp', \r\n          height: 'planets_count',\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'KOIsInSystem',\r\n          in: \"KOIs\",\r\n          mark: 'bar',\r\n          color: {\r\n            field: 'KOIs_count',\r\n            exponent: 0.1\r\n          },\r\n          x: 'nkoi', \r\n          height: 'KOIs_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'TCEsInSystem',\r\n          in: \"TCEs\",\r\n          mark: 'bar',\r\n          color: {\r\n            field: 'TCEs_count',\r\n            exponent: 0.1\r\n          },\r\n          x: 'ntce', \r\n          height: 'TCEs_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'gravity_distribution',\r\n          in: \"gravity_distribution\",\r\n          mark: 'area',\r\n          color: 'steelblue',\r\n          x: 'logg', \r\n          y: 'gravity_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'density_distribution',\r\n          in: \"density_distribution\",\r\n          mark: 'area',\r\n          color: 'steelblue',\r\n          x: 'dens', \r\n          y: 'density_count'\r\n        }\r\n      },\r\n      {\r\n        visualize: {\r\n          id: 'metallicity_distribution',\r\n          in: \"metallicity_distribution\",\r\n          mark: 'spline',\r\n          color: 'steelblue',\r\n          x: 'feh', \r\n          y: 'metallicity_count'\r\n        }\r\n      },\r\n    ])\r\n    // .interact([\r\n    //   {\r\n    //     event: 'brush', \r\n    //     from: 'coordinate_map', \r\n    //     response: {\r\n    //       planetsInSystem: {selected: {color: 'steelblue'}}\r\n    //     }\r\n    //   },\r\n    // ])\r\n    .onEach(function() {\r\n      let progress = (((n * batchSize) / datasetSize) * 100)\r\n      progress = (progress > 100 ? progress = 100 : progress = progress)\r\n      document.getElementById('stats').innerHTML = 'DATA PROCESSED: ' + progress.toFixed(2) + ' %';\r\n      n += 1\r\n      if (progress === 100) {\r\n        timeEnd = new Date().getTime()\r\n        let elapsedTime = (timeEnd-timeBegin)/1000\r\n        let frames = n-1\r\n        console.log(\"Visualisation ended at: \", timeEnd)\r\n        console.log(\"Visualisation took \", elapsedTime, \" seconds\")\r\n        console.log(\"Visualisation rendered \", frames, \" frames.\")\r\n        console.log(\"Visualisation averaged \", frames/elapsedTime, \" FPS\")\r\n      }\r\n    })\r\n  }\r\n    \r\n  \r\n  document.getElementById('next-button').onclick = () => {\r\n    try {\r\n      app.next();\r\n    }\r\n    catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n  document.getElementById('start-button').onclick = () => {\r\n    try {\r\n      timeBegin = new Date().getTime()\r\n      console.log(\"Visualisation started at: \", timeBegin)\r\n      app.start();\r\n    }\r\n    catch(e) {\r\n      console.log(e);\r\n    }\r\n  }\r\n\r\n  document.getElementById('input-file').onchange = confirmData\r\n  document.getElementById('confirm-parameters-button').onclick = analyseVisualise\r\n}\r\n\r\n\r\n    \r\n\r\n","export default function() {\r\n  $( function() {\r\n    $( \"#ra-slider-range\" ).slider({\r\n      range: true,\r\n      min: 279,\r\n      max: 302,\r\n      values: [ 279, 302 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#ra_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#ra_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#ra_max\" ).val(ui.values[ 1 ]);\r\n      }\r\n    });\r\n    $( \"#ra_range\" ).val( $( \"#ra-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#ra-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#ra_min\" ).val($( \"#ra-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#ra_max\" ).val($( \"#ra-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n   \r\n  $( function() {\r\n    $( \"#dec-slider-range\" ).slider({\r\n      range: true,\r\n      min: 36,\r\n      max: 53,\r\n      values: [ 36, 53 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#dec_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#dec_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#dec_max\" ).val(ui.values[ 1 ]);\r\n      }\r\n    });\r\n    $( \"#dec_range\" ).val( $( \"#dec-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#dec-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#dec_min\" ).val($( \"#dec-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#dec_max\" ).val($( \"#dec-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#mag-slider-range\" ).slider({\r\n      range: true,\r\n      min: 5,\r\n      max: 21,\r\n      values: [ 5, 21 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#mag_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#mag_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#mag_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#mag_range\" ).val( $( \"#mag-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#mag-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#mag_min\" ).val($( \"#mag-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#mag_max\" ).val($( \"#mag-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#temp-slider-range\" ).slider({\r\n      range: true,\r\n      min: 2500,\r\n      max: 27730,\r\n      values: [ 2500, 27730 ],\r\n      step: 10,\r\n      slide: function( event, ui ) {\r\n      $( \"#temp_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#temp_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#temp_max\" ).val(ui.values[ 1 ]);\r\n      }\r\n    });\r\n    $( \"#temp_range\" ).val( $( \"#temp-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#temp-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#temp_min\" ).val($( \"#temp-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#temp_max\" ).val($( \"#temp-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#grav-slider-range\" ).slider({\r\n      range: true,\r\n      min: -0.2,\r\n      max: 6,\r\n      values: [ -0.2, 6 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#grav_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#grav_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#grav_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#grav_range\" ).val( $( \"#grav-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#grav-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#grav_min\" ).val($( \"#grav-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#grav_max\" ).val($( \"#grav-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#metallicity-slider-range\" ).slider({\r\n      range: true,\r\n      min: -2,\r\n      max: 0.6,\r\n      values: [ -2, 0.6 ],\r\n      step: 0.05,\r\n      slide: function( event, ui ) {\r\n      $( \"#metallicity_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#metallicity_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#metallicity_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#metallicity_range\" ).val( $( \"#metallicity-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#metallicity-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#metallicity_min\" ).val($( \"#metallicity-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#metallicity_max\" ).val($( \"#metallicity-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#radius-slider-range\" ).slider({\r\n      range: true,\r\n      min: 0.1,\r\n      max: 301,\r\n      values: [ 0.1, 301 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#radius_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#radius_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#radius_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#radius_range\" ).val( $( \"#radius-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#radius-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#radius_min\" ).val($( \"#radius-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#radius_max\" ).val($( \"#radius-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#mass-slider-range\" ).slider({\r\n      range: true,\r\n      min: 0,\r\n      max: 4,\r\n      values: [ 0, 4 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#mass_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#mass_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#mass_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#mass_range\" ).val( $( \"#mass-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#mass-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#mass_min\" ).val($( \"#mass-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#mass_max\" ).val($( \"#mass-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#density-slider-range\" ).slider({\r\n      range: true,\r\n      min: 0,\r\n      max: 117,\r\n      values: [ 0, 117 ],\r\n      step: 0.1,\r\n      slide: function( event, ui ) {\r\n      $( \"#density_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#density_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#density_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#density_range\" ).val( $( \"#density-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#density-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#density_min\" ).val($( \"#density-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#density_max\" ).val($( \"#density-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#planets-slider-range\" ).slider({\r\n      range: true,\r\n      min: 0,\r\n      max: 8,\r\n      values: [ 0, 8 ],\r\n      step: 1,\r\n      slide: function( event, ui ) {\r\n      $( \"#planets_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#planets_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#planets_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#planets_range\" ).val( $( \"#planets-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#planets-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#planets_min\" ).val($( \"#planets-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#planets_max\" ).val($( \"#planets-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#KOIs-slider-range\" ).slider({\r\n      range: true,\r\n      min: 0,\r\n      max: 7,\r\n      values: [ 0, 7 ],\r\n      step: 1,\r\n      slide: function( event, ui ) {\r\n      $( \"#KOIs_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#KOIs_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#KOIs_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#KOIs_range\" ).val( $( \"#KOIs-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#KOIs-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#KOIs_min\" ).val($( \"#KOIs-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#KOIs_max\" ).val($( \"#KOIs-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#TCEs-slider-range\" ).slider({\r\n      range: true,\r\n      min: 0,\r\n      max: 10,\r\n      values: [ 0, 10 ],\r\n      step: 1,\r\n      slide: function( event, ui ) {\r\n      $( \"#TCEs_range\" ).val( ui.values[ 0 ] + \" - \" + ui.values[ 1 ] );\r\n      $( \"#TCEs_min\" ).val(ui.values[ 0 ]);\r\n      $( \"#TCEs_max\" ).val(ui.values[ 1 ]);\r\n    }\r\n  });\r\n    $( \"#TCEs_range\" ).val( $( \"#TCEs-slider-range\" ).slider( \"values\", 0 ) +\r\n    \" - \" + $( \"#TCEs-slider-range\" ).slider( \"values\", 1 ) );\r\n    $( \"#TCEs_min\" ).val($( \"#TCEs-slider-range\" ).slider( \"values\", 0 ));\r\n    $( \"#TCEs_max\" ).val($( \"#TCEs-slider-range\" ).slider( \"values\", 1 ));\r\n  } );\r\n\r\n  $( function() {\r\n    $( \"#resolution_slider\" ).slider({\r\n      range: \"min\",\r\n      min: 1,\r\n      value: 100,\r\n      slide: function( event, ui ) {\r\n      $( \"#resolution_slider_value\" ).val( ui.value + \" %\");\r\n    }\r\n  });\r\n    $( \"#resolution_slider_value\" ).val( $( \"#resolution_slider\" ).slider( \"value\") + \" %\");\r\n  } );\r\n}\r\n","import Kepler from './kepler';\n\nKepler();\n"],"sourceRoot":""}