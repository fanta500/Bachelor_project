{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/chai/lib/chai/utils/flag.js","webpack:///./node_modules/p4.js/src/ctypes.js","webpack:///./node_modules/p4.js/src/cstore.js","webpack:///./node_modules/p4.js/src/arrays.js","webpack:///./node_modules/p4.js/test/utils.js","webpack:///./node_modules/chai/lib/chai.js","webpack:///./node_modules/chai/lib/chai/utils/transferFlags.js","webpack:///./node_modules/p4.js/src/utils.js","webpack:///./node_modules/p4.js/src/allocate.js","webpack:///./node_modules/p4.js/src/io/input.js","webpack:///./node_modules/p4.js/src/io/output.js","webpack:///./node_modules/p4.js/src/vis/brush.js","webpack:///./node_modules/p4.js/src/control.js","webpack:///./node_modules/p4.js/src/gljs/Aggregation.gl.js","webpack:///./node_modules/p4.js/src/ops/aggregate.js","webpack:///./node_modules/p4.js/src/ops/cache.gl.js","webpack:///./node_modules/p4.js/src/gljs/datetime.gl.js","webpack:///./node_modules/p4.js/src/ops/extent.gl.js","webpack:///./node_modules/p4.js/src/gljs/Match.gl.js","webpack:///./node_modules/p4.js/src/ops/match.js","webpack:///./node_modules/p4.js/src/vis/gradients.js","webpack:///./node_modules/p4.js/src/vis/colorhex.js","webpack:///./node_modules/p4.js/src/vis/color.js","webpack:///./node_modules/p4.js/src/vis/encode.js","webpack:///./node_modules/p4.js/src/vis/extend.js","webpack:///./node_modules/p4.js/src/vis/shaders/interpolate.gl.js","webpack:///./node_modules/p4.js/src/vis/svg.js","webpack:///./node_modules/p4.js/src/vis/axis.js","webpack:///./node_modules/p4.js/src/vis/scale.js","webpack:///./node_modules/p4.js/src/vis/format.js","webpack:///./node_modules/p4.js/src/vis/legend.js","webpack:///./node_modules/p4.js/src/vis/chart.js","webpack:///./node_modules/p4.js/src/vis/layout.js","webpack:///./node_modules/p4.js/src/vis/shaders/Renderer.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Instanced.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Polygon.gl.js","webpack:///./node_modules/p4.js/src/vis/shaders/Interleaved.gl.js","webpack:///./node_modules/p4.js/src/vis/visualize.js","webpack:///./node_modules/p4.js/src/vis/reveal.js","webpack:///./node_modules/p4.js/src/kernels.js","webpack:///./node_modules/p4.js/src/ops/derive.js","webpack:///./node_modules/p4.js/src/operate.js","webpack:///./node_modules/p4.js/src/compile.js","webpack:///./node_modules/p4.js/src/extensions.js","webpack:///./node_modules/p4.js/src/grid.js","webpack:///./node_modules/p4.js/src/main.js","webpack:///./node_modules/p4.js/src/initialize.js","webpack:///./node_modules/p4.js/src/pipeline.js","webpack:///./node_modules/p4.js/src/interact.js","webpack:///./node_modules/chai/lib/chai/config.js","webpack:///./node_modules/p3.js/src/ops/derive.js","webpack:///./node_modules/p3.js/src/ops/arrays.js","webpack:///./node_modules/p3.js/src/ops/aggregate.js","webpack:///./node_modules/p3.js/src/ops/match.js","webpack:///./node_modules/p3.js/src/ops/query.js","webpack:///./node_modules/p3.js/src/stats.js","webpack:///./node_modules/p3.js/src/vector.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-array/src/cross.js","webpack:///./node_modules/d3-array/src/array.js","webpack:///./node_modules/d3-array/src/range.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/threshold/sturges.js","webpack:///./node_modules/d3-array/src/merge.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-collection/src/map.js","webpack:///./node_modules/d3-collection/src/set.js","webpack:///./node_modules/d3-scale/src/array.js","webpack:///./node_modules/d3-scale/src/ordinal.js","webpack:///./node_modules/d3-scale/src/band.js","webpack:///./node_modules/d3-color/src/define.js","webpack:///./node_modules/d3-color/src/color.js","webpack:///./node_modules/d3-interpolate/src/basis.js","webpack:///./node_modules/d3-interpolate/src/constant.js","webpack:///./node_modules/d3-interpolate/src/color.js","webpack:///./node_modules/d3-interpolate/src/rgb.js","webpack:///./node_modules/d3-interpolate/src/numberArray.js","webpack:///./node_modules/d3-interpolate/src/basisClosed.js","webpack:///./node_modules/d3-interpolate/src/array.js","webpack:///./node_modules/d3-interpolate/src/date.js","webpack:///./node_modules/d3-interpolate/src/number.js","webpack:///./node_modules/d3-interpolate/src/object.js","webpack:///./node_modules/d3-interpolate/src/string.js","webpack:///./node_modules/d3-interpolate/src/value.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/d3-scale/src/pow.js","webpack:///./node_modules/d3-time/src/interval.js","webpack:///./node_modules/d3-time/src/year.js","webpack:///./node_modules/d3-time/src/month.js","webpack:///./node_modules/d3-time/src/week.js","webpack:///./node_modules/d3-time/src/duration.js","webpack:///./node_modules/d3-time/src/day.js","webpack:///./node_modules/d3-time/src/hour.js","webpack:///./node_modules/d3-time/src/minute.js","webpack:///./node_modules/d3-time/src/second.js","webpack:///./node_modules/d3-time/src/millisecond.js","webpack:///./node_modules/d3-time/src/utcWeek.js","webpack:///./node_modules/d3-time/src/utcDay.js","webpack:///./node_modules/d3-time/src/utcYear.js","webpack:///./node_modules/d3-time-format/src/locale.js","webpack:///./node_modules/d3-time-format/src/defaultLocale.js","webpack:///./node_modules/d3-scale/src/time.js","webpack:///./node_modules/d3-time/src/utcMonth.js","webpack:///./node_modules/d3-time/src/utcHour.js","webpack:///./node_modules/d3-time/src/utcMinute.js","webpack:///./node_modules/d3-selection/src/selector.js","webpack:///./node_modules/d3-selection/src/selectorAll.js","webpack:///./node_modules/d3-selection/src/selection/sparse.js","webpack:///./node_modules/d3-selection/src/selection/enter.js","webpack:///./node_modules/d3-selection/src/selection/data.js","webpack:///./node_modules/d3-selection/src/selection/sort.js","webpack:///./node_modules/d3-selection/src/selection/call.js","webpack:///./node_modules/d3-selection/src/namespaces.js","webpack:///./node_modules/d3-selection/src/namespace.js","webpack:///./node_modules/d3-selection/src/selection/attr.js","webpack:///./node_modules/d3-selection/src/window.js","webpack:///./node_modules/d3-selection/src/selection/style.js","webpack:///./node_modules/d3-selection/src/selection/property.js","webpack:///./node_modules/d3-selection/src/selection/classed.js","webpack:///./node_modules/d3-selection/src/selection/text.js","webpack:///./node_modules/d3-selection/src/selection/html.js","webpack:///./node_modules/d3-selection/src/selection/raise.js","webpack:///./node_modules/d3-selection/src/selection/lower.js","webpack:///./node_modules/d3-selection/src/creator.js","webpack:///./node_modules/d3-selection/src/selection/insert.js","webpack:///./node_modules/d3-selection/src/selection/remove.js","webpack:///./node_modules/d3-selection/src/selection/clone.js","webpack:///./node_modules/d3-selection/src/selection/on.js","webpack:///./node_modules/d3-selection/src/selection/dispatch.js","webpack:///./node_modules/d3-selection/src/selection/index.js","webpack:///./node_modules/d3-selection/src/selection/select.js","webpack:///./node_modules/d3-selection/src/selection/selectAll.js","webpack:///./node_modules/d3-selection/src/selection/filter.js","webpack:///./node_modules/d3-selection/src/matcher.js","webpack:///./node_modules/d3-selection/src/constant.js","webpack:///./node_modules/d3-selection/src/selection/exit.js","webpack:///./node_modules/d3-selection/src/selection/join.js","webpack:///./node_modules/d3-selection/src/selection/merge.js","webpack:///./node_modules/d3-selection/src/selection/order.js","webpack:///./node_modules/d3-selection/src/selection/nodes.js","webpack:///./node_modules/d3-selection/src/selection/node.js","webpack:///./node_modules/d3-selection/src/selection/size.js","webpack:///./node_modules/d3-selection/src/selection/empty.js","webpack:///./node_modules/d3-selection/src/selection/each.js","webpack:///./node_modules/d3-selection/src/selection/append.js","webpack:///./node_modules/d3-selection/src/selection/datum.js","webpack:///./node_modules/d3-selection/src/select.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./node_modules/d3-axis/src/array.js","webpack:///./node_modules/d3-axis/src/identity.js","webpack:///./node_modules/d3-axis/src/axis.js","webpack:///./node_modules/p3.js/src/vis/plot.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/constant.js","webpack:///./node_modules/d3-shape/src/curve/linear.js","webpack:///./node_modules/d3-shape/src/point.js","webpack:///./node_modules/d3-shape/src/line.js","webpack:///./node_modules/d3-shape/src/curve/basis.js","webpack:///./node_modules/d3-scale-chromatic/src/colors.js","webpack:///./node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack:///./node_modules/d3-geo/src/adder.js","webpack:///./node_modules/d3-geo/src/math.js","webpack:///./node_modules/d3-geo/src/noop.js","webpack:///./node_modules/d3-geo/src/stream.js","webpack:///./node_modules/d3-geo/src/area.js","webpack:///./node_modules/d3-geo/src/cartesian.js","webpack:///./node_modules/d3-geo/src/bounds.js","webpack:///./node_modules/d3-geo/src/centroid.js","webpack:///./node_modules/d3-geo/src/constant.js","webpack:///./node_modules/d3-geo/src/compose.js","webpack:///./node_modules/d3-geo/src/rotation.js","webpack:///./node_modules/d3-geo/src/circle.js","webpack:///./node_modules/d3-geo/src/clip/buffer.js","webpack:///./node_modules/d3-geo/src/pointEqual.js","webpack:///./node_modules/d3-geo/src/clip/rejoin.js","webpack:///./node_modules/d3-geo/src/polygonContains.js","webpack:///./node_modules/d3-geo/src/clip/index.js","webpack:///./node_modules/d3-geo/src/clip/antimeridian.js","webpack:///./node_modules/d3-geo/src/clip/circle.js","webpack:///./node_modules/d3-geo/src/clip/rectangle.js","webpack:///./node_modules/d3-geo/src/clip/line.js","webpack:///./node_modules/d3-geo/src/clip/extent.js","webpack:///./node_modules/d3-geo/src/length.js","webpack:///./node_modules/d3-geo/src/distance.js","webpack:///./node_modules/d3-geo/src/contains.js","webpack:///./node_modules/d3-geo/src/graticule.js","webpack:///./node_modules/d3-geo/src/interpolate.js","webpack:///./node_modules/d3-geo/src/path/area.js","webpack:///./node_modules/d3-geo/src/identity.js","webpack:///./node_modules/d3-geo/src/path/bounds.js","webpack:///./node_modules/d3-geo/src/path/centroid.js","webpack:///./node_modules/d3-geo/src/path/context.js","webpack:///./node_modules/d3-geo/src/path/measure.js","webpack:///./node_modules/d3-geo/src/path/string.js","webpack:///./node_modules/d3-geo/src/path/index.js","webpack:///./node_modules/d3-geo/src/transform.js","webpack:///./node_modules/d3-geo/src/projection/fit.js","webpack:///./node_modules/d3-geo/src/projection/resample.js","webpack:///./node_modules/d3-geo/src/projection/index.js","webpack:///./node_modules/d3-geo/src/projection/conic.js","webpack:///./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/albers.js","webpack:///./node_modules/d3-geo/src/projection/albersUsa.js","webpack:///./node_modules/d3-geo/src/projection/azimuthal.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack:///./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/mercator.js","webpack:///./node_modules/d3-geo/src/projection/conicConformal.js","webpack:///./node_modules/d3-geo/src/projection/equirectangular.js","webpack:///./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack:///./node_modules/d3-geo/src/projection/equalEarth.js","webpack:///./node_modules/d3-geo/src/projection/gnomonic.js","webpack:///./node_modules/d3-geo/src/projection/identity.js","webpack:///./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack:///./node_modules/d3-geo/src/projection/orthographic.js","webpack:///./node_modules/d3-geo/src/projection/stereographic.js","webpack:///./node_modules/d3-geo/src/projection/transverseMercator.js","webpack:///./node_modules/topojson-client/src/identity.js","webpack:///./node_modules/topojson-client/src/transform.js","webpack:///./node_modules/topojson-client/src/feature.js","webpack:///./node_modules/topojson-client/src/reverse.js","webpack:///./node_modules/topojson-client/src/stitch.js","webpack:///./node_modules/topojson-client/src/mesh.js","webpack:///./node_modules/topojson-client/src/bisect.js","webpack:///./node_modules/d3-scale-chromatic/src/ramp.js","webpack:///./node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack:///./node_modules/p3.js/index.js","webpack:///./node_modules/p3.js/src/pipeline.js","webpack:///./node_modules/p3.js/src/allocate.js","webpack:///./node_modules/p3.js/src/join.js","webpack:///./node_modules/p3.js/src/embed.js","webpack:///./node_modules/p3.js/src/toarray.js","webpack:///./node_modules/p3.js/src/vis/circle.js","webpack:///./node_modules/p3.js/src/vis/bar.js","webpack:///./node_modules/p3.js/src/vis/area.js","webpack:///./node_modules/d3-shape/src/area.js","webpack:///./node_modules/p3.js/src/vis/spline.js","webpack:///./node_modules/p3.js/src/vis/map.js","webpack:///./node_modules/p4.js/index.js","webpack:///./index.js","webpack:///./src/FileLoader.js","webpack:///./src/main.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/chai/lib/chai/utils/isProxyEnabled.js","webpack:///./node_modules/chai/lib/chai/utils/addLengthGuard.js","webpack:///./node_modules/chai/lib/chai/utils/proxify.js","webpack:///./node_modules/p4.js/src/io/ajax.js","webpack:///./node_modules/p4.js/src/io/parse.js","webpack:///./src/Transpiler.js","webpack:///./node_modules/chai/index.js","webpack:///./node_modules/p4.js/flexgl/src/uniform.js","webpack:///./node_modules/p4.js/flexgl/src/attribute.js","webpack:///./node_modules/p4.js/flexgl/src/texture.js","webpack:///./node_modules/p4.js/flexgl/src/varying.js","webpack:///./node_modules/p4.js/flexgl/src/subroutine.js","webpack:///./node_modules/p4.js/flexgl/src/resource.js","webpack:///./node_modules/p4.js/flexgl/src/shader.js","webpack:///./node_modules/p4.js/flexgl/src/program.js","webpack:///./node_modules/p4.js/flexgl/src/framebuffer.js","webpack:///./node_modules/p4.js/flexgl/src/main.js","webpack:///./node_modules/type-detect/type-detect.js","webpack:///./node_modules/chai/lib/chai/utils/inspect.js","webpack:///./node_modules/p4.js/test/data-babies.js","webpack:///./node_modules/p4.js/test/data-timeseries.js","webpack:///./node_modules/p4.js/test/data-kepler.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/assertion-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/getActual.js","webpack:///./node_modules/chai/lib/chai/utils/objDisplay.js","webpack:///./node_modules/get-func-name/index.js","webpack:///./node_modules/chai/lib/chai/utils/getProperties.js","webpack:///./node_modules/chai/lib/chai/utils/getOwnEnumerablePropertySymbols.js","webpack:///./node_modules/p4.js/flexgl/index.js","webpack:///./node_modules/jStat/dist/jstat.js","webpack:///./node_modules/chai/lib/chai/utils/index.js","webpack:///./node_modules/pathval/index.js","webpack:///./node_modules/chai/lib/chai/utils/test.js","webpack:///./node_modules/chai/lib/chai/utils/expectTypes.js","webpack:///./node_modules/chai/lib/chai/utils/getMessage.js","webpack:///./node_modules/chai/lib/chai/utils/getEnumerableProperties.js","webpack:///./node_modules/deep-eql/index.js","webpack:///./node_modules/chai/lib/chai/utils/addProperty.js","webpack:///./node_modules/chai/lib/chai/utils/addMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteProperty.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteMethod.js","webpack:///./node_modules/chai/lib/chai/utils/addChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/overwriteChainableMethod.js","webpack:///./node_modules/chai/lib/chai/utils/compareByInspect.js","webpack:///./node_modules/chai/lib/chai/utils/getOwnEnumerableProperties.js","webpack:///./node_modules/check-error/index.js","webpack:///./node_modules/chai/lib/chai/utils/isNaN.js","webpack:///./node_modules/chai/lib/chai/assertion.js","webpack:///./node_modules/chai/lib/chai/core/assertions.js","webpack:///./node_modules/chai/lib/chai/interface/expect.js","webpack:///./node_modules/chai/lib/chai/interface/should.js","webpack:///./node_modules/chai/lib/chai/interface/assert.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","flags","__flags","arguments","length","int","Int32Array","short","Int16Array","float","Float32Array","double","Float64Array","string","Uint16Array","time","datetime","temporal","integer","numeric","nominal","ColumnStore","arg","cstore","this","options","columns","size","count","types","attributes","keys","names","struct","schema","strValues","strLists","intervals","indexes","colStats","colAlloc","colRead","skip","initCStore","forEach","configureColumn","intervalize","uniqueValues","index","indexOf","Error","initStruct","Array","isArray","push","type","dtype","k","cid","f","columnType","includes","parseInt","parseFloat","Date","ts","getTime","getTimezoneOffset","Math","floor","addRows","rowArray","j","shift","row","v","addObjects","objArray","console","log","addColumn","props","columnData","data","array","columnName","values","vi","ArrayBuffer","isView","di","metadata","info","stats","dtypes","export","_p4_cstore_version","col","min","max","avg","domains","ctypes","exportAsJSON","rows","ri","dataFrame","attr","ai","exportAsRowArray","import","scale","factor","len","normalize","fid","interval","attrId","sort","a","b","_reduce","opt","result","reduce","apply","range","map","seq","start","end","intv","scan","pfsum","accum","iscan","concat","diff","difference","intersect","filter","e","unique","lcm","A","abs","histogram","numBin","_max","_min","bins","hg","fill","binID","counts","slice","variance","pow","std","sqrt","vectorAdd","vectorSum","vectors","numberOfVectors","_vectorAvg","vectorAvg","equal","closeTo","hasAllKeys","normalDist","sample","boundedRandom","rand","dist","mean","random","randomJSONs","prop","vid","round","randomArrays","pi","used","version","AssertionError","util","use","fn","config","assertion","core","expect","should","assert","includeAll","flag","buf","step","seqFloat","vecId","dataProps","$p","categoryIndex","dkeys","dataSchema","Number","isInteger","dataSize","rowSize","colSize","ceil","getDataWidth","TLB","dataDimension","resultDimension","fields","fieldWidths","deriveMax","fieldCount","field","fi","deriveDomains","deriveWidths","deriveFieldCount","getFieldId","fieldName","fieldId","attribute","id","indexAttrData","ctx","ext","vertexAttribDivisorANGLE","aVertexId","location","aDataFieldId","aDataItemId","_square","fieldDomains","uniform","filterControls","varying","texture","framebuffer","parameter","indexCount","tData","update","uDataInput","subroutine","uFieldWidths","uFieldDomains","uFieldCount","uIndexCount","uDeriveCount","texture2D","fDerivedValues","vec2","aDataValx","aDataValy","addrX","addrY","offsetY","gl","aDataIdx","aDataIdy","INPUT_FORMATS","INPUT_METHODS","output","format","outputTag","objectArray","match","uFilterFlag","getMatchBuffer","edi","extraDimension","undefined","getResultBuffer","cache","offset","res","rs","subarray","bx","by","ax","ay","y","x","arraySize","kid","resultSize","Uint8Array","bindFramebuffer","readPixels","RGBA","UNSIGNED_BYTE","brush","option","container","svg","width","height","base","selectX","selectY","border","color","brushstart","brushend","append","css","sx","sy","dx","dy","selector","selection","intStart","drag","addEventListener","evt","preventDefault","clientX","clientY","x0","y0","nw","nh","sp","getBoundingClientRect","box","left","top","ondrag","selectorBox","nx","ny","right","bottom","window","removeEventListener","registers","control","register","tag","dataDim","uDataDim","deriveCount","filterFlag","uFilterControls","dataInput","resultDim","ids","extraDim","updateRegister","resume","arrayOfArray","reg","uDataSize","branchID","branch","branches","operations","run","Aggregate","groupKeyValue","gl_PointSize","vResult","uAggrOpt","getData","uFieldId","fFilterResults","uVisLevel","pos","Vec2","ii","gid","Int","uGroupFields","w","getFieldWidth","getFieldDomain","uBinCount","uBinIntervals","uExtraKeyValue","gl_Position","vec4","discard","gl_FragColor","GetStats","$vec4","gl_FragCoord","uResultDim","FillValues","uFillValue","VEC_IDS","METRICS","aggregate","program","shader","vertex","vertexShader","fragment","fragmentShader","resultFieldCount","resultDomains","getAvgValues","compute","opts","groupFieldIds","resultFieldIds","_progress","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","disable","BLEND","viewport","drawArrays","TRIANGLES","enableRead","CULL_FACE","DEPTH_TEST","enable","blendFunc","ONE","blendEquation","FUNC_ADD","postComputeFieldIds","MIN_EXT","MAX_EXT","drawArraysInstancedANGLE","POINTS","fAggrStats","postCompute","FRAMEBUFFER","execute","spec","newFieldSpec","$collect","$reduce","groupFields","$group","group","out","newFieldNames","resultFields","operators","twoPassFields","_update","getResult","oldFieldIds","newFieldDomains","newFieldWidths","fii","ifid","extent","rowTotal","colTotal","FLOAT","cacheTag","vs","fs","getHour","hours","getYear","days","getDayOfWeek","getMonth","years","daysInMonth","month","year","isLeapYear","smallest","vDiscardData","fieldIds","extents","idCount","minValue","maxValue","IntervalMatch","sel","visSelect","Bool","$","uVisControls","uFilterRanges","uVisRanges","DiscreteMatch","uFilterLevel","uSelectCount","uInSelections","filterRanges","visControls","visRanges","inSelections","matchResultBuffer","from","rangeMatch","inMatch","ctrl","skipUpdateDomain","filterSpec","crossfilters","$in","filterValues","startIndex","endIndex","newDomains","matchFields","filterSelections","viewSelections","_execute","domain","bitmap","gradients","colorhex","defaultColorScheme","defaultColorSet","gradient","colorset","rgb","hexStr","hex","colorStr","toLowerCase","substring","rgba","alpha","setColorScheme","colors","cc","colorGradient","colorResolution","c0","c1","xi","pop","setColorTable","colorTable","colorSetMax","colorValue","mapColorRGB","colorRGB","Vec3","intValue","uDefaultColor","uColorMode","tColorGradient","uVisDomains","uColorCount","vec3","uColorSet","EncodingChannels","encode","vmap","colorManager","opacity","vmapIndex","scaleExponents","channel","channelIndex","encoding","exponent","uVisualEncodings","uScaleExponents","uDefaultAlpha","revealDensity","uRevealMode","uMarkSize","viewSetting","isRect","mark","markSpace","isXYCategorical","domainX","domainY","dims","dim","histograms","histMin","histMax","histIntv","histBin","h","uMarkSpace","uIsXYCategorical","uDefaultWidth","uDefaultHeight","channelId","indexedValue0","indexedValue1","defaultValue","getNonIndexedData","uGeoProjection","tan","setAttr","elem","replace","setAttribute","setStyle","style","Svg","self","document","createElementNS","parent","padding","defaultAttr","viewBox","join","preserveAspectRatio","innerWidth","innerHeight","getElementById","appendChild","node","publicMethods","context","remove","parentNode","removeChild","Attr","Style","text","str","createTextNode","translate","getAttribute","on","event","callback","addEventListner","domainIntervals","position","align","metric","styles","stroke","ticks","tickLength","tickPosition","tickInterval","tickAlign","skipLast","tickFormat","grid","_","visable","labelPos","labelAngle","X","Y","tickLabelAlign","labelPosition","getTickInterval","log10","dstep","isNaN","scaleOptions","d0","d1","r0","r1","margin","domainLength","rangeLength","invert","axis","show","x1","x2","y1","y2","svgTicks","tickLabel","class","textAnchor","gx1","gx2","gy1","gy2","labelText","printformat","parts","exp","suffix","numericSymbols","precision","number","toExponential","toString","defaultColors","gradID","chart","frontSvg","backSvg","plot","metavis","frontMetaVis","features","labels","showLegend","onclick","onhover","legend","axisOffset","frameBorder","gridlines","axisOption","colorLegend","gradientID","label","gradDirection","linearGradient","title","xAxes","yAxes","axisDist","reverse","labelOffset","histDomain","xAxisTitle","yAxisTitle","chartLayer","newDomain","yp","xp","axisLabels","removeLegend","source","defaultProperties","layout","viz","body","clientWidth","clientHeight","div","createElement","init","className","resize","createSVG","canvas","backSVG","scales","frontSVG","set","addProperty","render","destroy","_super","hide","display","addChart","exportImage","beforeExport","imageCanvas","Promise","resolve","reject","getContext","svgString","XMLSerializer","serializeToString","DOMURL","URL","webkitURL","svgBlob","Blob","svgURL","createObjectURL","canvasLayer","Image","svgLayer","onload","drawImage","src","png","toDataURL","revokeObjectURL","onerror","Renderer","vColorRGBA","primitive","super","posX","posY","visMap","uDropZeros","valid","uVisMark","gl_PointCoord","xy","smoothstep","val0","val1","mod","aDataItemVal0","aDataItemVal1","uInterleaveX","uFeatureCount","getEncodingByFieldId","vm","fv","userActions","visMarks","visualize","updateScheme","newColors","updateTable","g","substr","rgba2hex","getColors","updateColors","colorMode","chartPadding","vis","enhance","aViewX","aViewY","uViewDim","offScreenFBO","vs2","fs2","Vec4","uMaxRGBA","isFBOAllocatedFBO","viewIndex","viewDim","views","vOffset","vDim","maxRGBA","reveal","renderers","instanced","polygon","interleave","colorMap","renderer","visDomain","visDimension","dimSetting","pv","colorInfo","assign","updateDomain","updateAxisX","updateAxisY","zero","removeAxis","updateInstancedAttribute","load","in","ONE_MINUS_SRC_ALPHA","LINE_STRIP","lineWidth","extensions","condition","dataDomains","last","skipRender","skipDefault","json","view","encodings","exportData","exportResult","onready","execution","function","restartOnUpdate","extend","project","act","action","response","viewId","interactOptions","interactions","derive","derivedFields","marco","re","RegExp","formula","matched","Function","getDerivedValue","uDeriveId","uOptMode","createProgram","newDerivedDomains","deriveFieldId","kernels","compile","$bin","binAttrs","binIndex","binAttr","binCount","log2","binAttrId","binDomain","binInterval","bin","setOutput","vmaps","facets","facet","sortBy","sortOpt","sortAttr","sorted","normalizedValues","val","variables","minLoopCount","rule","code","reset","generateViews","setInput","viewTag","responses","_responseType","respond","Spline","AreaChart","BarChart","Grid","calcOffset","p4","defaultLayout","async","primitives","dimX","api","pipeline","optID","queue","addModule","newModule","assignMethods","addToQueue","addOperation","operation","overwrite","clearQueue","jobs","q","isAsync","getRawData","getViews","head","inputName","outputName","dataOptions","allocate","operate","getOperations","optName","configPipeline","asyncPipeline","asyncInput","inputReady","method","delimiter","url","uniqueKeys","createIndexes","uk","dataFormat","dataHandlers","JSON","parse","csv","dataSource","ajax","dataType","then","socket","WebSocket","onopen","onmessage","err","input","commit","runJSON","jsonSpec","inputSpec","clearWebGLBuffers","fb","runSpec","specs","interact","interaction","viewTags","actions","events","interactor","rect","getSelection","cursor","brushOptions","updateEvent","selections","selectors","axisSelect","delta","onmousewheel","dir","deltaY","proportion","onmousedown","onpan","onmouseover","onmousemove","updateData","newData","updateDataColumn","updateDataRow","rowId","texPosX","extOptions","constructor","annotate","inputDataOptions","includeStack","showDiff","truncateThreshold","useProxy","proxyExcludedKeys","tranfs","sum","var","ks","headers","binCollection","column","si","stringify","bl","$data","gk","mergedResult","collect","fname","warnMsg","warn","_match","sat","query","indexBy","indexed","mf","sortArray","al","orderBy","ss","binAggregate","attrKey","embedData","rangeBegin","rangeEnd","$by","partition","numPart","pid","partitions","partitionBy","bi","hash","toColumnArray","columnArray","add","NaN","compare","ascending","ascendingComparator","lo","hi","mid","ascendingBisect","bisector","bisectRight","bisect","stop","e10","e5","e2","tickIncrement","isFinite","power","LN10","error","tickStep","step0","step1","merged","arrays","initRange","each","has","entries","empty","Set","proto","implicit","ordinal","unknown","copy","band","bandwidth","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","factory","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","trim","exec","rgbn","Rgb","hsla","rgbConvert","rgb_formatHex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","m1","m2","basis","t1","v0","v1","v2","v3","t2","t3","define","channels","displayable","formatHsl","brighter","darker","linear","gamma","nogamma","exponential","rgbGamma","rgbSpline","spline","rgbBasis","isNumberArray","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","lastIndex","one","numberArray","valueOf","unit","clamper","bimap","interpolate","polymap","target","clamp","transformer","transform","untransform","piecewise","u","continuous","formatSpecifier","specifier","FormatSpecifier","sign","symbol","comma","prefixExponent","coefficient","formatDecimal","toFixed","toPrecision","formatRounded","toUpperCase","prefixes","locale","grouping","thousands","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","i1","i0","formatTrim","charCodeAt","Infinity","formatPrefix","precisionPrefix","precisionRound","precisionFixed","linearish","nice","transformPow","transformSqrt","transformSquare","powish","newInterval","floori","offseti","date","previous","every","setMonth","setHours","setFullYear","getFullYear","setDate","weekday","getDate","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","getMilliseconds","getSeconds","getMinutes","getHours","getUTCSeconds","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcDay","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newDate","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","day","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","week","utcFormat","utcParse","formatLocale","utcMonth","utcHour","setUTCMinutes","utcMinute","setUTCSeconds","none","querySelector","EnterNode","datum","ownerDocument","namespaceURI","_next","_parent","__data__","child","insertBefore","next","querySelectorAll","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","xhtml","xlink","xml","xmlns","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","split","classList","ClassList","_node","_names","classedAdd","list","classedRemove","classedTrue","classedFalse","classedFunction","splice","contains","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","creatorFixed","namespace","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","parseTypenames","typenames","onRemove","typename","__on","capture","onAdd","wrap","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","matches","enterGroup","updateGroup","_enter","_exit","sparse","onenter","onupdate","onexit","merge","order","groups0","groups1","m0","merges","group0","group1","compareNode","sortgroups","sortgroup","nodes","getAttributeNS","classed","html","creator","insert","before","deep","dispatch","deg2rad","PI","rad2deg","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","cos","sin","hue","translateX","translateY","entering","__axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","spacing","range0","range1","path","tick","tickExit","tickEnter","line","transition","tickSize","axisLeft","Data","View","axes","main","createSvg","getScales","hideAxes","xAxis","yAxis","yGridlines","AxisLabels","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cw","da","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","defined","curve","buffer","defined0","that","Basis","Adder","temp","adder","bv","av","halfPi","quarterPi","degrees","radians","atan","asin","haversin","noop","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","Sphere","sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","polygonStart","polygonEnd","phi00","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","cartesian","spherical","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","ranges","deltaSum","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","normal","inflection","phii","lambdai","antimeridian","lambda0","lambda1","rangeCompare","rangeContains","W0","W1","Z0","Z1","X2","Y2","Z2","z0","deltaMax","feature","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","compose","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","forward","rotate","circleStream","radius","direction","t0","cosRadius","sinRadius","circleRadius","ring","center","circle","lines","rejoin","Intersection","points","other","entry","subject","clip","segments","segment","p0","p1","pointEqual","compareIntersection","startInside","current","isSubject","longitude","angle","winding","point0","phi0","sinPhi0","cosPhi0","sinPhi1","cosPhi1","point1","phi1","absDelta","intersection","phiArc","sink","clipLine","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointVisible","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","cr","smallRadius","notHemisphere","visible","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","uu","polar","q1","v00","point2","clipRectangle","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","b0","b1","polygonInside","cleanInside","cacheStream","lengthSum","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","distance","ao","bo","ab","ringRadians","pointRadians","graticuleX","graticuleY","X1","X0","Y1","Y0","DX","DY","graticule","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","cy0","sy0","cy1","sy1","kx0","ky0","kx1","ky1","B","area","bounds","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_radius","pointRadius","lengthRing","PathString","_string","_circle","projectionStream","contextStream","measure","projection","methods","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","cosMinDistance","delta2","resampleLineTo","depth","d2","phi2","lambda2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslate","scaleTranslateRotate","cosAlpha","sinAlpha","ci","projectionMutator","projectAt","projectResample","projectTransform","projectRotateTransform","theta","preclip","postclip","recenter","resample","transformRotate","clipAngle","conicProjection","parallels","conicEqualAreaRaw","cylindricalEqualAreaRaw","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","azimuthalRaw","azimuthalInvert","sc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","fy","equirectangularRaw","conicEquidistantRaw","gy","A1","A2","A3","A4","equalEarthRaw","l2","l6","gnomonicRaw","kx","ky","tx","ty","reflectX","reflectY","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","topology","objects","bbox","properties","transformPoint","arcs","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","flush","dp","ends","fg","unshift","gf","meshArcs","extractArcs","stitch","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","scheme","task","_callback","oncomplete","header","ds","parsers","ta","insertRows","vl","dataLeft","dataRight","keyL","kr","embed","$id","lookup","toArray","Plot","ScatterPlot","newColor","bars","shape","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","series","legendWidth","legendPosY","GeoMap","gis","borders","defaultColor","valueById","country","countries","colorScale","setColor","setter","icon","global","datasets","Kepler","Babies","TimeSeries","Transpiler","FileLoader","file","chunk","fileSize","reader","FileReader","lineTotal","leftOver","rid","NOT_FOUND_ERR","NOT_READABLE_ERR","ABORT_ERR","readAsBinaryString","onloadend","readyState","DONE","parseDataSchema","errorHandler","results","onprocess","PROGRESS_MODES","OPERATIONS","fetchData","batchProcessing","progression","p4x","preserveDrawingBuffer","progressStep","progressedSize","crossViewProc","inputType","profile","profiling","LoadTime","ProcTime","AccuTime","onEach","batchSize","getSchema","read","catch","ops","job","transpile","jobsToPipeline","batch","batches","progress","prepareData","cdata","onComplete","autoProgress","status","done","requestAnimationFrame","completed","inputData","loadStart","performance","now","pp","mergedPipeline","p2","setup","jsonSpecs","connection","sourceView","targetViews","sourceProc","find","sourcePipeline","tv","targetPipeline","interProc","targetView","selectedAttrs","conn","validate","$sum","selected","getProfile","Proxy","Reflect","fnLengthDesc","getOwnPropertyDescriptor","assertionName","isChainable","configurable","getProperties","isProxyEnabled","builtins","nonChainableMethodName","proxyGetter","suggestion","suggestionDistance","strA","strB","cap","memo","ch","stringDistanceCapped","request","encodeURIComponent","req","XMLHttpRequest","open","responseType","statusText","setRequestHeader","send","getAll","promises","all","post","loadLine","delimiterCode","initPos","EOL","QUOTE","categories","rules","$aggregate","$include","excludes","$exclude","calculates","$calculate","collection","$count","Uniform","glContext","serializeArray","sa","setUniform","resourceType","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","ptr","uniform1i","link","getUniformLocation","sanitize","Attribute","attributeID","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","createBuffer","getAttribLocation","vertexAttribPointer","enableVertexAttribArray","arrayBuffer","bufferSubData","delete","deleteBuffer","Texture","textureID","setTexture","texData","texImage2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","sampler","texIndex","createTexture","copyFromFBO","copyTexImage2D","texSubImage2D","updateTexture","deleteTexture","Varying","Subroutine","Resource","resource","gpuResources","resourceTypes","resources","resourceName","Shader","glResource","parameters","_dict","shaderType","VERTEX_SHADER","FRAGMENT_SHADER","toGLSL","returnType","glsl","envParam","applyEnvParameters","expr","args","isObject","getExtraDeps","fnString","extraDeps","sdep","sres","declareDep","dep","uniqueDeps","deps","require","debug","shaderSource","sourceCode","shaderArgs","getDeps","allDeps","subroutineNames","_shader","createShader","compileShader","getShaderParameter","COMPILE_STATUS","lastError","getShaderInfoLog","_shaderType","Program","pm","shaders","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","detachShader","deleteProgram","Framebuffer","createFramebuffer","renderbuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferTexture2D","COLOR_ATTACHMENT0","framebufferRenderbuffer","DEPTH_ATTACHMENT","deleteRenderbuffer","deleteFramebuffer","FlexGL","flexgl","glAttr","sharedFunction","cavnas","marginLeft","marginTop","setupWebGL","env","dict","dictionary","framebuffers","programManager","blendExt","getExtension","enableExtension","extension","extProps","ep","isProgram","serialize","aoa","fbName","keyValuePairs","newArray","dictKeys","fxgl","app","draw","dimension","promiseExists","globalObject","symbolExists","mapExists","Map","setExists","weakMapExists","WeakMap","weakSetExists","WeakSet","dataViewExists","symbolIteratorExists","iterator","symbolToStringTagExists","setEntriesExists","mapEntriesExists","setIteratorPrototype","getPrototypeOf","mapIteratorPrototype","arrayIteratorExists","arrayIteratorPrototype","stringIteratorExists","stringIteratorPrototype","typeofObj","navigator","mimeTypes","plugins","HTMLElement","tagName","stringTag","objPrototype","getName","getEnumerableProperties","showHidden","formatValue","seen","stylize","recurseTimes","inspect","ret","simple","formatPrimitive","nodeType","nodeName","outerHTML","xmlVersion","nameSuffix","visibleKeys","isError","isRegExp","isDate","toUTCString","formatError","ar","typedArray","braces","objectToString","formatProperty","formatArray","formatTypedArray","prev","cur","reduceToSingleString","propDescriptor","educations","races","timesteps","record","originalModule","webpackPolyfill","children","exclude","excludeProps","message","_props","ssf","captureStackTrace","stack","toJSON","_obj","functionNameMatch","aFunc","getOwnPropertyNames","getOwnPropertySymbols","sym","jStat","isFunction","utils","ascNum","arr","sumsqrd","sumsqerr","tmp","sumrow","product","prod","low","high","_arr","meansqerr","geomean","median","arrlen","cumsum","cumreduce","cumprod","diffs","arrLen","rank","ranks","lastIndexOf","maxCount","numMaxCount","mode_arr","pooledvariance","samples","deviation","dev","stdev","pooledstdev","meandev","meddev","coeffvar","quartiles","quantiles","quantilesArray","alphap","betap","aleph","sortedArray","quantileVals","percentile","exclusive","realIndex","frac","percentileOfScore","score","kind","counter","strict","binCnt","binWidth","covariance","arr1","arr2","arr1Len","sq_dev","corrcoeff","spearmancoeff","stanMoment","mu","sigma","skewSum","skewness","kurtosis","jProto","funcs","passfunc","fullbool","func","tmpthis","setTimeout","transpose","toVector","callbackFunction","argsToPass","curriedFunction","calcRdx","LOG10E","isNumber","_init","retZero","retOne","retIdent","_random_fn","setRandom","TypeError","cols","dimensions","rowa","submat","arange","ind","cola","diag","nrow","antidiag","objArr","toAlter","ncol","alter","zeros","ones","identity","symmetric","cnt","hival","rl","_slice","rcSlice","colSlice","rowSlice","sliceAssign","nl","ml","diagonal","diagArray","mat","gammaln","xx","cof","ser","gammafn","yi","fact","xden","xnum","gammap","lowRegGamma","an","aln","ap","del","ITMAX","factorialln","factorial","combination","combinationln","permutation","betafn","betaln","betacf","aa","qab","qap","qam","gammapinv","lna1","afac","gln","erf","isneg","dd","erfc","erfcinv","ibetainv","lna","lnb","ibeta","bt","randn","randg","a2","oalph","betinc","eps","c9","m9","tukeyWprob","rr","xleg","aleg","qsqz","wincr","pr_w","cdf","blb","binc","bub","einsum","cc1","wi","elsum","jj","ac","qexpo","rinsum","callee","_a","_b","_c","newthis","vals","fnfunc","beta","pdf","inv","centralF","df1","df2","binomial","cauchy","chisquare","dof","rate","invgamma","kumaraswamy","lognormal","noncentralt","ncp","studentt","flip","prob","lastvalue","pareto","SQRT2","dof2","weibull","betacdf","negbin","hypgeom","N","scaledPDF","samplesDone","scaledCDF","poisson","sumarr","triangular","arcsine","laplace","tukey","nmeans","df","xlegq","alegq","ulen","f2","f2lf","f21","ff4","ans","otsum","twa1","ps","tukeyQinv","valx0","valx1","iter","isUsable","subtract","divide","multiply","nrescols","rescols","outer","dot","norm","nnorm","aug","newarr","gauss_jordan","det","alen","alend","rowshift","colshift","mrow","mcol","gauss_elimination","maug","pivot","maxrow","triaUpSolve","matrix_mode","triaLowSolve","lu","R","cholesky","T","gauss_jacobi","xv","xk","gauss_seidel","SOR","householder","QR","lstsq","array_mode","attrs","Q1","RI","I","Aj","cAi","Ij","cIi","R_I","Q2","jacobi","maxim","ev","rungekutta","t_j","u_j","k1","k2","k3","romberg","h1","richardson","h_min","simpson","hermite","F","dF","dl","lagrange","cubic_spline","sq","gauss_quadrature","PCA","temp1","Bt","D","temp2","C","Vt","differenceOfProportions","pooled","zscore","ztest","sides","tscore","ttest","anovafscore","expVar","sampMean","sampSampMean","tmpargs","unexpVar","anovaftest","ftest","fscore","anovaftes","qscore","mean1","mean2","sd","qtest","tukeyhsd","means","normalci","change","tci","significant","pvalue","oneSidedDifferenceOfProportions","twoSidedDifferenceOfProportions","models","ols","endog","exog","nobs","df_model","df_resid","coef","predict","resid","ybar","SSE","SSR","SST","R2","t_test","model","var_count","subModelList","endog_index","exog_index","sigmaHat","seBetaHat","tStatistic","pValue","leftppf","interval95","se","F_statistic","F_test","adjust_R2","buildxmatrix","matrixRows","builddxmatrix","buildjxmatrix","jMat","pass","buildymatrix","buildjymatrix","matrixmult","regress","jMatX","jMatY","innerinv","xtranspxinv","xtransp","regresst","jMatYBar","yBar","yAverage","anova","residuals","ssr","msr","sse","mse","sst","mst","r2","fratio","rmse","r2adj","sds","covar","xtranspx","inner","matrixsubtract","pathval","expectTypes","getMessage","getActual","objDisplay","transferFlags","eql","getPathInfo","hasProperty","addMethod","overwriteProperty","overwriteMethod","addChainableMethod","overwriteChainableMethod","compareByInspect","getOwnEnumerablePropertySymbols","getOwnEnumerableProperties","checkError","proxify","addLengthGuard","parsePath","mArr","internalGetPathValue","parsed","pathDepth","temporaryValue","part","exists","getPathValue","setPathValue","tempObj","propName","propVal","internalSetPathValue","negate","flagMsg","ssfi","art","objType","some","expected","actual","msg","FakeMap","_key","isExtensible","MemoizeMap","memoizeCompare","leftHandOperand","rightHandOperand","memoizeMap","isPrimitive","leftHandMap","memoizeSet","deepEqual","comparator","extensiveDeepEqual","simpleResult","simpleEqual","memoize","memoizeResultLeft","memoizeResultRight","comparatorResult","leftHandType","iterableEqual","regexpEqual","getGeneratorEntries","generatorEqual","entriesEqual","leftHandKeys","getEnumerableKeys","rightHandKeys","keysEqual","leftHandEntries","getIteratorEntries","rightHandEntries","objectEqual","extensiveDeepEqualByType","leftHandItems","rightHandItems","hasIteratorFunction","iteratorError","generator","generatorResult","accumulator","chai","propertyGetter","newAssertion","Assertion","methodWrapper","_get","overwritingPropertyGetter","origLockSsfi","_method","overwritingMethodWrapper","canSetPrototype","setPrototypeOf","testFn","excludeNames","propDesc","chainingBehavior","chainableBehavior","__methods","chainableMethodWrapper","asserterName","pd","_chainingBehavior","getFunctionName","constructorFn","compatibleInstance","thrown","errorLike","compatibleConstructor","compatibleMessage","errMatcher","comparisonString","getConstructorName","constructorName","_chai","lockSsfi","negateMsg","_actual","ok","article","SameValueZero","includeChainingBehavior","include","isDeep","descriptor","included","isEql","item","firstErr","numErrs","propAssertion","checkArguments","assertEqual","prevLockSsfi","assertEql","assertAbove","errorMessage","doLength","msgPrefix","nType","shouldThrow","have","itemsCount","assertLeast","assertBelow","assertMost","assertInstanceOf","isInstanceOf","assertProperty","isNested","isOwn","nameType","pathInfo","assertOwnProperty","assertOwnPropertyDescriptor","actualDescriptor","assertLengthChain","assertLength","assertMatch","assertKeys","keysType","deepStr","mixedArgsMsg","any","expectedKey","actualKey","assertThrows","errMsgMatcher","caughtErr","is","everyArgIsUndefined","everyArgIsDefined","Boolean","errorLikeFail","errMsgMatcherFail","errorLikeString","placeholder","respondTo","itself","satisfy","matcher","assertChanges","initial","final","msgObj","assertIncreases","assertDecreases","chain","finish","startType","finishType","subset","be","failMsg","failNegateMsg","ordered","cmp","superset","idx","matchIdx","elem2","isSubsetOf","expression","behavior","realDelta","isSealed","isFrozen","fail","operator","loadShould","writable","shouldGetter","val2","errt","errs","Throw","exist","not","Should","express","errmsg","isOk","isNotOk","notEqual","strictEqual","notStrictEqual","deepStrictEqual","notDeepEqual","isAbove","abv","above","isAtLeast","atlst","least","isBelow","blw","below","isAtMost","atmst","most","isTrue","isNotTrue","isFalse","isNotFalse","isNull","isNotNull","isNotNaN","notExists","isUndefined","isDefined","isNotFunction","isNotObject","isNotArray","isString","isNotString","isNotNumber","finite","isBoolean","isNotBoolean","typeOf","notTypeOf","instanceOf","notInstanceOf","inc","notInclude","deepInclude","notDeepInclude","nestedInclude","nested","notNestedInclude","deepNestedInclude","notDeepNestedInclude","ownInclude","own","notOwnInclude","deepOwnInclude","notDeepOwnInclude","notMatch","notProperty","propertyVal","notPropertyVal","deepPropertyVal","notDeepPropertyVal","ownProperty","notOwnProperty","ownPropertyVal","notOwnPropertyVal","deepOwnPropertyVal","notDeepOwnPropertyVal","nestedProperty","notNestedProperty","nestedPropertyVal","notNestedPropertyVal","deepNestedPropertyVal","notDeepNestedPropertyVal","lengthOf","hasAnyKeys","containsAllKeys","contain","doesNotHaveAnyKeys","doesNotHaveAllKeys","hasAnyDeepKeys","hasAllDeepKeys","containsAllDeepKeys","doesNotHaveAnyDeepKeys","doesNotHaveAllDeepKeys","throws","assertErr","throw","doesNotThrow","approximately","sameMembers","set1","set2","same","members","notSameMembers","sameDeepMembers","notSameDeepMembers","sameOrderedMembers","notSameOrderedMembers","sameDeepOrderedMembers","notSameDeepOrderedMembers","includeMembers","notIncludeMembers","includeDeepMembers","notIncludeDeepMembers","includeOrderedMembers","notIncludeOrderedMembers","includeDeepOrderedMembers","notIncludeDeepOrderedMembers","oneOf","inList","changes","changesBy","tmpMsg","doesNotChange","changesButNotBy","but","increases","increase","increasesBy","doesNotIncrease","increasesButNotBy","decreases","decrease","decreasesBy","doesNotDecrease","doesNotDecreaseBy","decreasesButNotBy","ifError","extensible","isNotExtensible","sealed","isNotSealed","frozen","isNotFrozen","isEmpty","isNotEmpty","alias","as"],"mappings":"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AW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACjwF,MAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAC/vF,OAAU,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAChwF,QAAW,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,U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","file":"pv.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .flag(object, key, [value])\n *\n * Get or set a flag value on an object. If a\n * value is provided it will be set, else it will\n * return the currently set value or `undefined` if\n * the value is not set.\n *\n *     utils.flag(this, 'foo', 'bar'); // setter\n *     utils.flag(this, 'foo'); // getter, returns `bar`\n *\n * @param {Object} object constructed Assertion\n * @param {String} key\n * @param {Mixed} value (optional)\n * @namespace Utils\n * @name flag\n * @api private\n */\n\nmodule.exports = function flag(obj, key, value) {\n  var flags = obj.__flags || (obj.__flags = Object.create(null));\n  if (arguments.length === 3) {\n    flags[key] = value;\n  } else {\n    return flags[key];\n  }\n};\n","const int      = Int32Array;\nconst short    = Int16Array;\nconst float    = Float32Array;\nconst double   = Float64Array;\nconst string   = Uint16Array;\nconst time     = Float32Array;\nconst datetime = Float32Array;\nconst temporal = Float32Array;\nconst integer  = Int32Array;\nconst numeric  = Float32Array;\nconst nominal  = Uint16Array;\n\nexport {\n    int,\n    short,\n    float,\n    double,\n    string,\n    time,\n    datetime,\n    temporal,\n    integer,\n    numeric,\n    nominal\n};\n","import * as ctypes from './ctypes';\r\nimport {unique} from './arrays';\r\n\r\nconst __VERSION__ = 1.0;\r\n\r\nexport default function ColumnStore(arg){\r\n    var cstore     = (this instanceof ColumnStore) ? this : {},\r\n        options    = arg || {},\r\n        columns    = [],                  // column-based binary data\r\n        size       = options.size  || 0,   // max size\r\n        count      = options.count || 0,   // number of entries stored\r\n        types      = options.types || [],  // types of the columns\r\n        attributes = options.attributes || options.keys || options.names || [],  // column attributes\r\n        struct     = options.struct || options.schema || null,\r\n        strValues  = options.strValues || {},  // string values \r\n        strLists   = options.strLists  || {},  // table lookaside buffer\r\n        intervals  = {},\r\n        indexes    = options.indexes || {},\r\n        colStats   = {},\r\n        colAlloc   = {},\r\n        colRead    = {},                  // functions for reading values\r\n        skip       = options.skip  || 0;\r\n\r\n    if(typeof(struct) === 'object') initStruct(struct);\r\n\r\n    function initCStore() {\r\n        if(size && types.length === attributes.length && types.length > 0) {\r\n            attributes.forEach(function(c, i){\r\n                configureColumn(i);\r\n                columns[i] = new colAlloc[c](size);\r\n                if(!columns.hasOwnProperty(c)) {\r\n                    Object.defineProperty(columns, c, {\r\n                        get: function() { return columns[i]; }\r\n                    });\r\n                }\r\n                if(intervals.hasOwnProperty(c)) {\r\n                    cstore.intervalize(c, intervals[c]);\r\n                }\r\n\r\n                if(strValues[c] && Object.keys(strValues[c]).length > 0) {\r\n                    strLists[c] = Object.keys(strValues[c]);\r\n                }\r\n\r\n            });\r\n            columns.attributes = attributes;\r\n            columns.keys = attributes;\r\n            columns.types = types;\r\n            columns.struct = struct;\r\n            columns.strLists = strLists;\r\n            columns.strValues = strValues;\r\n            columns.uniqueValues = indexes;\r\n            columns.size = size;\r\n            columns.get = function(c) {\r\n                var index = attributes.indexOf(c);\r\n                if(index < 0 ) throw new Error(\"Error: No column named \" + c);\r\n                return columns[index];\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    function initStruct(s) {\r\n        struct = s;\r\n        if(Array.isArray(struct)) {\r\n            struct.forEach(function(s){\r\n                attributes.push(s.name);\r\n                types.push(s.type || s.dtype);\r\n            })\r\n        } else {\r\n            for(var k in struct){\r\n                attributes.push(k);\r\n                types.push(struct[k]);\r\n            }\r\n        }\r\n        return struct;\r\n    }\r\n\r\n    function configureColumn(cid) {\r\n        if(typeof(cid) == \"string\") cid = attributes.indexOf(cid);\r\n        var f = attributes[cid];\r\n        colAlloc[f] = ctypes[types[cid]];\r\n        var columnType = types[cid]\r\n        if(columnType === 'string' || columnType === 'str'){\r\n            if (!strValues.hasOwnProperty(f)) {\r\n                strValues[f] = {};\r\n                strLists[f] = [];\r\n            }\r\n            colRead[f] = function(value) {\r\n                if(!strValues[f].hasOwnProperty(value)){\r\n                    strValues[f][value] = strLists[f].length;\r\n                    strLists[f].push(value);\r\n                }\r\n                return strValues[f][value];\r\n            };\r\n        } else if(['int', 'short', 'integer'].includes(columnType)) {\r\n            colRead[f] = function(value) { return parseInt(value) || 0; };\r\n        } else if(['float', 'double', 'numeric'].includes(columnType)){\r\n            colRead[f] = function(value) { return parseFloat(value) || 0.0; };\r\n        } else if(['date', 'time', 'datetime'].includes(columnType)){\r\n            colRead[f] = function(value) { \r\n                let datetime = new Date(value);\r\n                let ts = datetime.getTime() / 1000 - datetime.getTimezoneOffset() * 60; \r\n                return Math.floor(ts);\r\n            };\r\n        } else {\r\n            throw new Error(\"Invalid data type for TypedArray data!\")\r\n        }\r\n    }\r\n\r\n    cstore.addRows = function(rowArray) {\r\n        if(size === 0) {\r\n            size = rowArray.length;\r\n            initCStore();\r\n        }\r\n        if(count === 0 && skip > 0) {\r\n            for(var j = 0; j<skip; j++)\r\n                rowArray.shift();\r\n        }\r\n        rowArray.forEach(function(row, i){\r\n            row.forEach(function(v,j){\r\n                columns[j][count] = colRead[attributes[j]](v);\r\n            });\r\n            count++;\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    cstore.addObjects = function(objArray) {\r\n        if(count === 0 && skip > 0) {\r\n            for(var j = 0; j<skip; j++)\r\n                objArray.shift();\r\n        }\r\n        objArray.forEach(function(obj, i){\r\n            Object.keys(obj).forEach(function(v,j){\r\n                if(typeof colRead[attributes[j]] !== 'function') {\r\n                    console.log(attributes[j], j, v, obj)\r\n                }\r\n                columns[j][count] = colRead[attributes[j]](obj[v]);\r\n            });\r\n            count++;\r\n        });\r\n        return count;\r\n    }\r\n\r\n    cstore.addColumn = function(arg) {\r\n        var props = arg || {},\r\n            columnData = props.data || props.array,\r\n            columnName = props.name,\r\n            columnType = props.dtype,\r\n            values = props.values || [];\r\n\r\n        var cid = attributes.indexOf(columnName);\r\n        if( cid < 0) {\r\n            attributes.push(columnName);\r\n            types.push(columnType);\r\n            configureColumn(columnName);\r\n            cid = types.length - 1;\r\n            Object.defineProperty(columns, columnName, {\r\n                get: function() { return columns[cid]; }\r\n            });\r\n        }\r\n\r\n        if(columnData instanceof ctypes[types[cid]]) {\r\n            columns[cid] = columnData;\r\n            if(values.length) {\r\n                strLists[columnName] = values;\r\n                strValues[columnName] = {};\r\n                values.forEach(function(value, vi){\r\n                    strValues[columnName][value] = vi;\r\n                })\r\n            }\r\n        } else if(ArrayBuffer.isView(columnData)){\r\n            columns[cid] = new colAlloc[columnName](size);\r\n            for(var di = 0; di < size; di++) {\r\n                columns[cid][di] = colRead[columnName](columnData[di]);\r\n            }\r\n        } else {\r\n            throw new Error(\"Error: Invalid data type for columnArray!\");\r\n        }\r\n        size = count = columnData.length;\r\n    }\r\n\r\n    cstore.metadata = cstore.info = function() {\r\n        return {\r\n            size: size,\r\n            count: count,\r\n            attributes: attributes,\r\n            types: types,\r\n            strLists: strLists,\r\n            strValues: strValues,\r\n            stats: cstore.stats()\r\n        }\r\n    }\r\n\r\n    cstore.columns = function() {\r\n        return columns;\r\n    }\r\n\r\n    cstore.data = function() {\r\n        var data = columns;\r\n        data.stats = cstore.stats();\r\n        data.keys = attributes;\r\n        data.size = size;\r\n        data.strValues = strValues;\r\n        data.strLists = strLists;\r\n        data.dtypes = types;\r\n        data.export = cstore.export;\r\n        data._p4_cstore_version = __VERSION__;\r\n        return data;\r\n    }\r\n\r\n    cstore.stats = function(col){\r\n        var col = col || attributes;\r\n        col.forEach(function(name, c){\r\n            if(!colStats[c]){\r\n                var min, max, avg;\r\n                min = max = avg = columns[c][0];\r\n\r\n                for(var i = 1; i < columns[c].length; i++){\r\n                    var d = columns[c][i];\r\n                    if(d > max) max = d;\r\n                    else if(d < min) min = d;\r\n                    avg = avg - (avg-d) / i;\r\n                }\r\n                if(max == min) max += 0.000001;\r\n                colStats[name] = {min: min, max: max, avg: avg};\r\n            }\r\n        })\r\n        return colStats;\r\n    }\r\n\r\n    cstore.domains = function(col){\r\n        var col = col || attributes,\r\n            domains = [];\r\n\r\n        col.forEach(function(name, c){\r\n            domains[name] = [colStats[name].min, colStats[name].max];\r\n        })\r\n        return domains;\r\n    }\r\n\r\n    cstore.ctypes = function() {\r\n        return ctypes;\r\n    }\r\n\r\n    cstore.size = size;\r\n\r\n    cstore.exportAsJSON = function() {\r\n        var rows = new Array(size);\r\n        for(var ri = 0; ri < size; ri++) {\r\n            var dataFrame = {};\r\n            attributes.forEach(function(attr, ai) {\r\n                if(types[ai] == 'string') {\r\n                    dataFrame[attr] = strLists[attr][columns[ai][ri]];\r\n                } else if(indexes.hasOwnProperty(attr)) {\r\n                    dataFrame[attr] = indexes[attr][columns[ai][ri]];\r\n                } else {\r\n                    dataFrame[attr] = columns[ai][ri];\r\n                }\r\n            })\r\n            rows[ri] = dataFrame;\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    cstore.exportAsRowArray = function() {\r\n        var rows = new Array(size);\r\n        for(var ri = 0; ri < size; ri++) {\r\n            var row = new Array(attributes.length);\r\n            attributes.forEach(function(attr, ai) {\r\n                if(types[ai] == 'string') {\r\n                    row[ai] = strLists[attr][columns[ai][ri]];\r\n                } else if(indexes.hasOwnProperty(attr)) {\r\n                    row[ai] = indexes[attr][columns[ai][ri]];\r\n                } else {\r\n                    row[ai] = columns[ai][ri];\r\n                }\r\n            })\r\n            rows[ri] = row;\r\n        }\r\n        return rows;\r\n    }\r\n\r\n    cstore.export = function(arg) {\r\n        var format = arg || 'json';\r\n        if(format == 'rowArray') {\r\n            return cstore.exportAsRowArray();\r\n        } else {\r\n            return cstore.exportAsJSON();\r\n        }\r\n    }\r\n\r\n    cstore.import = function({\r\n        data,\r\n        schema = null,\r\n        type = 'json'\r\n    }) {\r\n        size = data.length;\r\n        if(typeof(schema == 'object')) initStruct(schema);\r\n        initCStore();\r\n        if(type === 'json') {\r\n            cstore.addObjects(data);\r\n        } else {\r\n            cstore.addRows(data);\r\n        }\r\n        \r\n        return cstore;\r\n    }\r\n\r\n    cstore.scale = function(attr, factor) {\r\n        let len = columns[attr].length;\r\n        for(var i = 0; i < len; i++) {\r\n            columns[attr] *= factor;\r\n        }\r\n        return cstore;\r\n    }\r\n\r\n    cstore.normalize = function(attr) {\r\n        if(!colStats.hasOwnProperty(attr)) {\r\n            cstore.stats();\r\n        }\r\n        let fid = attributes.indexOf(attr);\r\n        let len = columns[attr].length;\r\n        let max = colStats[f].max;\r\n        let min = colStats[f].min;\r\n\r\n        if(types[fid] === 'float') {\r\n            for(var i = 0; i < len; i++) {\r\n                columns[attr][i] = (columns[attr][i] - min) / (max - min);\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    cstore.intervalize = function(attr, interval) {\r\n        intervals[attr] = interval;\r\n        if(!colStats.hasOwnProperty(attr)) {\r\n            cstore.stats([attr]);\r\n        }\r\n        let fid = attributes.indexOf(attr);\r\n        let len = columns[attr].length;\r\n        let min = colStats[f].min;\r\n\r\n        if(types[fid] === 'int' || types[fid] === 'float') {\r\n            for(var i = 0; i < len; i++) {\r\n                columns[attr][i] = (columns[attr][i] - min) / interval;\r\n            }\r\n        } \r\n        return cstore;\r\n    }\r\n\r\n    cstore.index = function(attr) {\r\n        let attrId = attributes.indexOf(attr);\r\n        if(attrId === -1) throw Error('Invalid attribute for indexing');\r\n        types[attrId] = 'int';\r\n        indexes[attr] = unique(columns[attr]).sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        let len = columns[attr].length;\r\n        for(var i = 0; i < len; i++) {\r\n            columns[attr][i] = indexes[attr].indexOf(columns[attr][i]); \r\n        }\r\n        \r\n        return cstore;\r\n    }\r\n\r\n    return initCStore();\r\n}\r\n","function _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if (!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\nexport function reduce(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\nexport function avg(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\nexport function normalize(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a) {\n        return (a - min) / range;\n    });\n}\n\nexport function seq(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for (var i = start; i <= end; i += interval)\n        array.push(i);\n\n    return array;\n};\n\n// [\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n//     array[f] = array.reduce(f);\n// });\n\n// export sum = array.reduce(\"+\");\n\nexport function scan(a) {\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\nexport function iscan(a) {\n    return array.scan([0].concat(a));\n};\n\nexport function diff(a, b) {\n    var difference = [];\n    a.forEach(function(d) {\n        if (b.indexOf(d) === -1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\nexport function intersect(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function(e) {\n        if (b.indexOf(e) !== -1) return true;\n    });\n};\n\nexport function unique(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\nexport function lcm(A) {\n    var n = A.length,\n        a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]),\n            c = a;\n        while (a && b) {\n            (a > b) ? a %= b: b %= a;\n        }\n        a = Math.abs(c * A[i]) / (a + b);\n    }\n    return a;\n};\n\nexport function stats(array) {\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\nexport function histogram(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin + 1).fill(0);\n\n    for (var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b / (numBin)), min + range * (b + 1) / (numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for (var i = 0; i < l; i++) {\n        binID = Math.floor((array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin - 1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0, numBin),\n        // ids: ids\n    };\n}\n\nexport function variance(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a) {\n            return Math.pow(a - m, 2)\n        });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\nexport function std(rowArray) {\n    return Math.sqrt(variance(rowArray));\n}\n\nexport function vectorAdd(a, b) {\n    var c = [];\n    a.forEach(function(v, i) {\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nexport function vectorSum(vectors) {\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for (var i = 1; i < numberOfVectors; i++) {\n        result = array.vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b) {\n    var c = [];\n    a.forEach(function(v, i) {\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nexport function vectorAvg(vectors) {\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for (var i = 1; i < numberOfVectors; i++) {\n        result = _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n","\nimport {assert} from 'chai';\nimport {normal} from 'jStat';\nimport cstore from '../src/cstore'\nimport * as ctypes from '../src/ctypes'\n\nlet equal = assert.equal;\nlet closeTo = assert.closeTo;\nlet hasAllKeys = assert.hasAllKeys;\nlet normalDist = normal.sample;\n\nexport function boundedRandom(p) {\n    let min = p.min || 0;\n    let max = p.max || p.values.length || 1;\n    let value = min - 1;\n    let rand = (p.dist == 'normal') \n        ? function() { return normalDist(p.mean, p.std); }\n        : function() { return min + (max - min) * Math.random(); }\n    while ( value < min || value > max) {\n        // value = normalDist(p.mean, p.std);\n        value = rand(p);\n    }\n    if(p.hasOwnProperty('values')){\n        value = parseInt(value) ;\n    }\n    return value;\n}\n\nexport function randomColumns(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let db = cstore({});\n    props.forEach(function(prop) {\n        let dtype = p6.ctypes[prop.dtype] || Uint16Array;\n        let tuples = new dtype(size);\n        for(let i = 0; i < size; i++) {\n            tuples[i] = boundedRandom(prop);\n        }\n        db.addColumn({\n            data: tuples,\n            name: prop.name,\n            dtype: prop.dtype || 'string',\n            values: prop.values\n        });\n    })\n    return db;\n}\n\nexport function randomJSONs(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(size);\n    for(let i = 0; i < size; i++) {\n        data[i] = {};\n        props.forEach(function(prop) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                data[i][prop.name] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                data[i][prop.name] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        });\n    }\n    return data;\n}\n\nexport function randomArrays(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(size);\n    for(let i = 0; i < size; i++) {\n        data[i] = [];\n        props.forEach(function(prop, pi) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                data[i][pi] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                data[i][pi] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        });\n    }\n    return data;\n}\n\nexport function randomTypedColumns(arg) {\n    let options = arg || {};\n    let size = options.size || 0;\n    let props = options.props || [];\n    let data = new Array(props.length);\n\n    props.forEach(function(prop, pi) {\n        let column = new ctypes[prop.dtype](size);\n        for(let i = 0; i < size; i++) {\n            if(prop.hasOwnProperty('values')){\n                let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\n                column[i] = prop.values[vid];\n            } else {\n                let value = boundedRandom(prop);\n                column[i] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\n            }\n        }\n        data[pi] = column;\n    });\n\n    return data;\n}\n\nexport function validate(actual, expected, _delta) {\n    let delta = _delta || 1e-5;\n    let count = actual.length; \n\n    equal(count, actual.length, 'the size of the result should be ' + count);\n\n    for(let i = 0; i < count; i++) {\n        let keys = Object.keys(actual[i]);\n        hasAllKeys(expected[i], keys, 'result should have all the keys');\n        \n        for(let j = 0, l = keys.length; j < l; j++) {\n            if(typeof(actual[i][keys[j]]) == 'number') {\n                closeTo(actual[i][keys[j]], expected[i][keys[j]], expected[i][keys[j]]*delta);\n            } else {\n                equal(actual[i][keys[j]], expected[i][keys[j]]);\n            }\n        }\n    }\n\n}","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar used = [];\n\n/*!\n * Chai version\n */\n\nexports.version = '4.2.0';\n\n/*!\n * Assertion Error\n */\n\nexports.AssertionError = require('assertion-error');\n\n/*!\n * Utils for plugins (not exported)\n */\n\nvar util = require('./chai/utils');\n\n/**\n * # .use(function)\n *\n * Provides a way to extend the internals of Chai.\n *\n * @param {Function}\n * @returns {this} for chaining\n * @api public\n */\n\nexports.use = function (fn) {\n  if (!~used.indexOf(fn)) {\n    fn(exports, util);\n    used.push(fn);\n  }\n\n  return exports;\n};\n\n/*!\n * Utility Functions\n */\n\nexports.util = util;\n\n/*!\n * Configuration\n */\n\nvar config = require('./chai/config');\nexports.config = config;\n\n/*!\n * Primary `Assertion` prototype\n */\n\nvar assertion = require('./chai/assertion');\nexports.use(assertion);\n\n/*!\n * Core Assertions\n */\n\nvar core = require('./chai/core/assertions');\nexports.use(core);\n\n/*!\n * Expect interface\n */\n\nvar expect = require('./chai/interface/expect');\nexports.use(expect);\n\n/*!\n * Should interface\n */\n\nvar should = require('./chai/interface/should');\nexports.use(should);\n\n/*!\n * Assert interface\n */\n\nvar assert = require('./chai/interface/assert');\nexports.use(assert);\n","/*!\n * Chai - transferFlags utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .transferFlags(assertion, object, includeAll = true)\n *\n * Transfer all the flags for `assertion` to `object`. If\n * `includeAll` is set to `false`, then the base Chai\n * assertion flags (namely `object`, `ssfi`, `lockSsfi`,\n * and `message`) will not be transferred.\n *\n *\n *     var newAssertion = new Assertion();\n *     utils.transferFlags(assertion, newAssertion);\n *\n *     var anotherAssertion = new Assertion(myObj);\n *     utils.transferFlags(assertion, anotherAssertion, false);\n *\n * @param {Assertion} assertion the assertion to transfer the flags from\n * @param {Object} object the object to transfer the flags to; usually a new assertion\n * @param {Boolean} includeAll\n * @namespace Utils\n * @name transferFlags\n * @api private\n */\n\nmodule.exports = function transferFlags(assertion, object, includeAll) {\n  var flags = assertion.__flags || (assertion.__flags = Object.create(null));\n\n  if (!object.__flags) {\n    object.__flags = Object.create(null);\n  }\n\n  includeAll = arguments.length === 3 ? includeAll : true;\n\n  for (var flag in flags) {\n    if (includeAll ||\n        (flag !== 'object' && flag !== 'ssfi' && flag !== 'lockSsfi' && flag != 'message')) {\n      object.__flags[flag] = flags[flag];\n    }\n  }\n};\n","import * as ctypes from './ctypes';\n\nexport function seq(dtype, start, end, interval) {\n    var step = interval || 1,\n        size = (end - start) / step + 1,\n        buf;\n\n    buf = new ctypes[dtype](size);\n    for (var i = 0; i < size; i++) {\n        buf[i] = start + i * step;\n    }\n    return buf;\n}\n\nexport let seqInt = seq.bind(null, \"int\");\nexport let seqFloat = seq.bind(null, \"float\");\n","import {seqFloat} from './utils';\nimport {unique} from './arrays';\nconst vecId = ['x', 'y', 'z'];\nexport default function($p, dataProps) {\n    let data = dataProps || [];\n    $p.indexes = data.indexes || [];\n    $p.categoryIndex = data.strValues || {};\n    $p.strValues = data.strValues || {};\n    $p.strLists = data.strLists || {};\n    $p.dkeys =  data.keys || [];\n    $p.dtypes =  data.dtypes || data.types || [];\n    $p.intervals =  data.intervals || {};\n    $p.uniqueValues = data.uniqueValues;\n    $p.dataSchema = data.struct;\n\n    let dkeys = $p.dkeys;\n    let dtypes = $p.dtypes;\n    let stats =  data.stats || null;\n    \n    if (Number.isInteger(data.size)) {\n        $p.dataSize = data.size;\n    } else if (Array.isArray(data)) {\n        $p.dataSize = Math.max(...data.map(d => d.length));\n    }\n\n    let rowSize = Math.min($p.dataSize, $p.rowSize);\n    let colSize = Math.ceil($p.dataSize / rowSize);\n\n    $p.dataDimension = [rowSize, colSize];\n    $p.resultDimension = [rowSize, colSize];\n    $p.fields = $p.indexes.concat(dkeys.filter(function(k) {\n        return $p.indexes.indexOf(k) === -1;\n    }));\n    $p.fieldWidths = new Array($p.fields.length).concat(new Array($p.deriveMax).fill(1));\n    $p.fieldCount = $p.fields.length - $p.indexes.length;\n   \n    function getDataWidth(fid, range) {\n        var range = Math.abs(range[1] - range[0]);\n        if (dtypes[fid] == \"index\" || dtypes[fid] == \"int\" || dtypes[fid] == \"string\") {\n            return range + 1;\n        } else if (dtypes[fid] == \"histogram\") {\n            return range + 1;\n        } else if ([\"nominal\", \"ordinal\", \"categorical\"].indexOf(dtypes[fid]) > -1) {\n            return data.TLB.length;\n        } else if (dtypes[fid] in [\"float\", \"double\", \"numeric\"]) {\n            return 10;\n        } else {\n            return range + 1;\n        }\n    }\n    $p.fields.forEach(function(field) {\n        var min = stats[field].min,\n            max = stats[field].max,\n            fi = dkeys.indexOf(field);\n        $p.fieldWidths[fi] = getDataWidth(fi, [min, max]);\n    });\n    $p.getDataWidth = getDataWidth;\n    $p.deriveDomains = new Array($p.deriveMax).fill([0, 1]);\n    $p.deriveWidths = new Array($p.deriveMax).fill(1);\n    $p.deriveFieldCount = 0;\n\n    $p.getFieldId = function (fieldName) {\n        let fieldId = $p.fields.indexOf(fieldName);\n        if($p.indexes.length > 0 && fieldId >= $p.indexes.length) {\n            fieldId -= $p.indexes.length; \n        }\n        return fieldId; \n    }\n\n    if ($p.indexes.length === 0) {\n        $p.attribute(\"aDataIdx\", \"float\", seqFloat(0, $p.dataDimension[0] - 1));\n        $p.attribute(\"aDataIdy\", \"float\", seqFloat(0, $p.dataDimension[1] - 1));\n        $p.attribute(\"aDataValx\", \"float\", seqFloat(0, $p.dataDimension[0] - 1));\n        $p.attribute(\"aDataValy\", \"float\", seqFloat(0, $p.dataDimension[1] - 1));\n    } else {\n        $p.indexes.forEach(function(id, i) {\n            let indexAttrData = unique(data[id]).sort( (a, b) => b - a );\n            $p.attribute(\"aDataVal\" + vecId[i], \"float\", new Float32Array(indexAttrData));\n            $p.attribute(\"aDataId\" + vecId[i], \"float\", seqFloat(0, indexAttrData.length - 1));\n            $p.fieldWidths[i] = indexAttrData.length;\n            $p.dataDimension[i] = indexAttrData.length;\n        });\n    }\n\n    $p.attribute(\"aDataItemVal0\", \"float\", null);\n    $p.attribute(\"aDataItemVal1\", \"float\", null);\n    $p.attribute(\"aDataItemId\", \"float\", new Float32Array($p.dataSize).map((d,i)=>i));\n    $p.attribute(\"aDataFieldId\", \"vec2\", new Float32Array($p.fields.length * 2).map((d,i)=>i));\n    $p.attribute(\"aVertexId\", \"float\", [0, 1, 2, 3, 4, 5]);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aVertexId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataFieldId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n\n    $p.attribute(\n        \"_square\",\n        \"vec2\",\n        new Float32Array([\n            -1.0, -1.0, 1.0, -1.0, \n            -1.0, 1.0, -1.0, 1.0,\n            1.0, -1.0, 1.0, 1.0\n        ])\n    );\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 1);\n\n    //TODO: get data statistics using the GPU\n    if(stats !== null) {\n        $p.fieldDomains = $p.fields.map(function(k, i) {\n            return [stats[k].min, stats[k].max];\n        }).concat(new Array($p.deriveMax).fill([0, 1]));\n        $p.uniform(\"uFieldDomains\", \"vec2\",  $p.fieldDomains);\n    } else {\n        $p.uniform(\"uFieldDomains\", \"vec2\",  $p.fields.map(f => [0, 1]));\n    }\n\n    let filterControls = new Array($p.fieldCount).fill(0);\n    //setup all attribute, uniform, texture, varying needed by all the shaders\n    $p.uniform(\"uDataSize\",    \"float\", $p.dataSize);\n    $p.uniform(\"uDataDim\",     \"vec2\",  $p.dataDimension);\n    $p.uniform(\"uResultDim\",   \"vec2\",  $p.dataDimension);\n    $p.uniform(\"uIndexCount\",  \"int\",   $p.indexes.length);\n    $p.uniform(\"uFieldWidths\", \"float\", $p.fieldWidths);\n    $p.uniform(\"uFieldCount\",  \"int\",   $p.fieldCount);\n    $p.uniform(\"uFieldId\",     \"int\",   0);\n    $p.uniform(\"uFilterFlag\",  \"int\",   0);\n    $p.uniform(\"uFilterControls\",\"int\", filterControls)\n    $p.uniform(\"uVisControls\",\"int\", filterControls);\n    $p.uniform(\"uFilterRanges\",\"vec2\", $p.fieldDomains);\n    $p.uniform(\"uVisRanges\",\"vec2\", $p.fieldDomains);\n    // $p.uniform(\"uGroupFields\", \"int\",   [0, -1]);\n    $p.uniform(\"uDataInput\",   \"sampler2D\");\n    $p.uniform(\"uDeriveCount\", \"int\", $p.deriveMax);\n    // $p.uniform(\"uDeriveDomains\", \"vec2\", $p.deriveDomains);\n    // $p.uniform(\"uDeriveWidths\", \"float\", $p.deriveWidths);\n    $p.uniform(\"uFilterLevel\", \"float\", 0.1)\n    $p.uniform('uVisLevel',    \"float\", 0.1)\n\n    $p.varying(\"vResult\", \"float\");\n    $p.varying(\"vDiscardData\", \"float\");\n    $p.texture(\n        \"tData\",\n        \"float\",\n        new Float32Array($p.dataDimension[0] * $p.dataDimension[1] * $p.fieldCount), [$p.dataDimension[0], $p.dataDimension[1] * $p.fieldCount],\n        \"alpha\"\n    );\n    $p.framebuffer(\"fFilterResults\", \"unsigned_byte\", $p.dataDimension);\n    $p.framebuffer(\"fGroupResults\", \"float\", [1024, 1]);\n    $p.framebuffer(\"fDerivedValues\", \"float\", [$p.dataDimension[0], $p.dataDimension[1] * $p.deriveMax]);\n    $p.framebuffer(\"fStats\", \"float\", [2, $p.fieldCount]);\n    $p.parameter({\n        fieldCount: $p.fields.length - $p.indexes.length,\n        indexCount: $p.indexes.length\n    });\n\n    $p.fields.slice($p.indexes.length).forEach(function(attr, ai) {\n        let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n        for (let i = 0, l = data[attr].length; i < l; i++) {\n            buf[i] = data[attr][i];\n        }\n\n        $p.texture.tData.update(\n            buf, [0, $p.dataDimension[1] * ai], $p.dataDimension\n        );\n    });\n\n    // $p.texture.tData.sampler = $p.uniform.uDataInput;\n    $p.uniform.uDataInput = $p.texture.tData;\n\n    function getFieldWidth({fid = 'int'}) {\n        return this.uFieldWidths[fid];\n    }\n\n    function getFieldDomain({fid = 'int'}) {\n        return this.uFieldDomains[fid];\n    }\n\n    function getData({fid = 'int', r = 'float', s = 'float'}) {\n        var t, value;\n        if (fid >= this.uFieldCount + this.uIndexCount) {\n            t = (float(fid - this.uFieldCount - this.uIndexCount) + s) /\n                float(this.uDeriveCount);\n            value = texture2D(this.fDerivedValues, vec2(r, t)).a;\n        } else {\n            if (this.uIndexCount > 0 && fid == 0) value = this.aDataValx;\n            else if (this.uIndexCount > 1 && fid == 1) value = this.aDataValy;\n            else {\n                t = (float(fid - this.uIndexCount) + s) / float(this.uFieldCount);\n                value = texture2D(this.uDataInput, vec2(r, t)).a;\n            }\n        }\n        return value;\n    }\n\n    function getNonIndexedData({fieldId = 'int', addrX = 'float', addrY = 'float'}) {\n        var offsetY, value;\n        if (fieldId >= this.uFieldCount + this.uIndexCount) {\n            offsetY = (float(fieldId - this.uFieldCount - this.uIndexCount) + addrY) /\n                float(this.uDeriveCount);\n            value = texture2D(this.fDerivedValues, vec2(addrX, offsetY)).a;\n        } else {\n            offsetY = (float(fieldId - this.uIndexCount) + addrY) / float(this.uFieldCount);\n            value = texture2D(this.uDataInput, vec2(addrX, offsetY)).a;\n        }\n        return value;\n    }\n\n    $p.subroutine(\"getFieldWidth\", \"float\", getFieldWidth);\n    $p.subroutine(\"getFieldDomain\", \"vec2\", getFieldDomain);\n    $p.subroutine(\"getData\", \"float\", getData);\n    $p.subroutine(\"getNonIndexedData\", \"float\", getNonIndexedData);\n\n    var gl = $p.ctx;\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n}\n","import * as ajax from './ajax';\nimport cstore from '../cstore';\nimport parse from './parse';\n\nconst INPUT_FORMATS = [\n  'json',\n  'csv',\n  'text',\n  'RowArrays',\n  'ColArrays',\n  'cstore'\n];\n\nconst INPUT_METHODS = ['memory', 'http', 'websocket', 'file'];\n\nexport default function input({\n  type = 'cstore',\n  format = 'cstore',\n  method = 'memory',\n  delimiter = ',',\n  size = 0,\n  schema,\n  source,\n  url,\n  onready,\n  uniqueKeys = []\n}) {\n  if(INPUT_FORMATS.indexOf(type) === -1) {\n    throw Error('Invalid input type ', type)\n  }\n\n  if(INPUT_METHODS.indexOf(method) === -1) {\n    throw Error('Unknown method ', method)\n  }\n\n  let cache;\n  function createIndexes() {\n    uniqueKeys.forEach(function(uk){\n      cache.index(uk);\n    })\n  }\n  let dataFormat = format || type;\n  let dataHandlers = {\n    json: function(data) {\n      cache = cstore({schema, size})\n      cache.import({data: (method == 'websocket') ? JSON.parse(data) : data});\n      createIndexes();\n      return cache.data();\n    },\n    csv: function(text) {\n      let data = parse(text, delimiter);\n      // let fields = data.shift();\n      // cache = cstore({keys: fields, types: fields.map(() => 'float')})\n      cache = cstore({schema, size})\n      cache.addRows(data);\n      createIndexes();\n      return cache.data();\n    },\n    cstore: function() {\n      if(Number.isInteger(source.size) && Array.isArray(source.types)) {\n        return source;\n      }\n    }\n  }\n\n  dataHandlers.text = dataHandlers.csv;\n  let response = function(data) {\n    return new Promise(function(resolve, reject) {\n      if(typeof(dataHandlers[dataFormat]) === 'function') {\n        resolve(dataHandlers[dataFormat](data));\n      } else {\n        reject(Error('No handler for data type ', dataFormat));\n      }\n    })\n  }\n\n  if(method === 'http') {\n    let dataSource = url || source;\n    return ajax.get({url: dataSource, dataType: dataFormat}).then(response);\n  } else if (method == 'websocket') {\n    return new Promise(function(resolve, reject) {\n      var socket = new WebSocket(source);\n      socket.onopen = function() {\n        if(typeof(onready) === 'function') onready(socket)\n      }\n      socket.onmessage = function(event) {\n        resolve(dataHandlers[dataFormat](event.data));\n      }\n      socket.onerror = function(err) {\n        reject(err);\n      }\n    });\n  } else {\n    return response(source);\n  }\n}\n","export default function($p) {\n  let output = {};\n  output.result = function({format = 'row', outputTag = 'fGroupResults'}) {\n    let objectArray = new Array();\n    let match = null;\n    if($p.uniform.uFilterFlag.data == 1){\n      match = $p.getMatchBuffer()\n    }\n    // $p.setInput(outputTag)\n    \n    for(let edi = 0; edi < $p.extraDimension; edi++) { \n\n      // if only match is performed and no other write ops, use cache to write source data to framebuffer.\n      if($p.getResultBuffer === undefined) { \n        $p.cache('cachedData')\n      }\n      let buf = $p.getResultBuffer({outputTag, offset: [edi * $p.resultDimension[0], 0]});\n      let res = {};\n      let offset = 0;\n      let rs = 0;\n      if(typeof buf.subarray !== 'function') return buf;\n      if($p.indexes.length > 0) {\n        if ($p.resultDimension[0] > 1) {\n          res[$p.fields[rs]] = $p.attribute.aDataValx.data;\n          rs++;\n        }\n        if ($p.resultDimension[1] > 1) {\n          let bx = $p.attribute.aDataValx.data;\n          let by = $p.attribute.aDataValy.data;\n          let ax = new Array($p.resultDimension[0] * $p.resultDimension[1]);\n          let ay = new Array($p.resultDimension[0] * $p.resultDimension[1]);\n\n          for (let y = 0; y < $p.resultDimension[1]; y++) {\n            for (let x = 0; x < $p.resultDimension[0]; x++) {\n              ax[y * $p.resultDimension[0] + x] = bx[x];\n              ay[y * $p.resultDimension[0] + x] = by[y]\n            }\n          }\n          res[$p.fields[0]] = ax;\n          res[$p.fields[rs]] = ay;\n          rs++;\n        }\n      }\n \n      let arraySize = $p.resultDimension[0] * $p.resultDimension[1];\n      let fields = $p.fields.filter( f => f !== $p.indexes[2]);\n      for (let i = rs; i < fields.length; i++) {\n        res[fields[i]] = buf.subarray(offset, offset + arraySize);\n        offset += arraySize;\n      };\n\n      for (let i = 0; i < arraySize; i++) {\n        if(match !== null && match[i] == 0) continue\n        let obj = (format == 'array') ? new Array(fields.length) : {};\n        if($p.extraDimension > 0 && $p.indexes.length === 3) {\n          let fieldName = $p.indexes[2];\n          obj[fieldName] = ($p.strLists.hasOwnProperty(fieldName)) ?  $p.strLists[fieldName][edi] : edi + 1;\n        } \n        fields.forEach(function(f, fi) {\n          let kid = $p.dkeys.indexOf(f);\n          let dtype = $p.dtypes[kid];\n          let key = (format == 'array') ? fi : f;\n\n          if (dtype == 'string' && $p.strLists.hasOwnProperty(f)) {\n            obj[key] = $p.strLists[f][res[f][i]];\n          } else if ($p.intervals.hasOwnProperty(f) && $p.intervals[f].dtype == 'histogram') {\n            obj[key] = $p.intervals[f].min + res[f][i] * $p.intervals[f].interval;\n          } else if ($p.uniqueValues.hasOwnProperty(f)) {\n            obj[key] = $p.uniqueValues[f][res[f][i]];\n          } else {\n            obj[key] = res[f][i];\n          }\n        });\n        objectArray.push(obj);\n      }\n    }\n    if($p.extraDimension === 1 && objectArray.length > $p.dataSize) {\n      objectArray = objectArray.slice(0, $p.dataSize);\n    }\n    return objectArray;\n  }\n\n  output.toArray = () => output.result({format: 'array'})\n  output.toJson = () => output.result({format: 'json'})\n  output.readPixels = function({\n    offset = [0, 0],\n    resultSize =  $p.dataDimension[0]* $p.dataDimension[1],\n    rowSize = Math.min(resultSize, $p.dataDimension[0]),\n    colSize = Math.ceil(resultSize / $p.dataDimension[0])\n  }) {\n    let result = new Uint8Array(rowSize * colSize * 4);\n    $p.bindFramebuffer(null);\n    $p.ctx.readPixels(offset[0], offset[1], rowSize, colSize, gl.RGBA, gl.UNSIGNED_BYTE, result);\n    return result.filter(function(d, i){ return i%4===3;} );\n  }\n  return output;\n}\n","export default function brush(arg){\n\n    var option = arg || {},\n        container = option.container || this.svg[0],\n        width = option.width || this.width,\n        height = option.height || this.height,\n        x = function(s) {return s},\n        y = function(s) {return s},\n        base = option.base || null,\n        selectX = option.x || false,\n        selectY = option.y || false,\n        border = option.border || \"#FFF\",\n        color = option.color || \"#111\",\n        brush = option.brush || function() {},\n        brushstart = option.brushstart || function() {},\n        brushend = option.brushend || function() {};\n\n    if(typeof(selectX) === \"function\") {\n        x = selectX;\n        selectX = true;\n    }\n    if(typeof(selectY) === \"function\") {\n        y = selectY;\n        selectY = true;\n    }\n    if(base === null){\n        base = container.append(\"g\").attr(\"class\", \"selector\");\n    } else {\n        base = container;\n    };\n\n    base.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .attr(\"fill-opacity\", 0)\n        .attr(\"stroke\", \"none\")\n        .css(\"cursor\", \"crosshair\");\n\n    var selector = base.append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .attr(\"width\", 0)\n        .attr(\"height\", 0)\n        .attr(\"fill-opacity\", 0.1)\n        .css(\"fill\", color)\n        .css(\"stroke\", border)\n        .css(\"cursor\", \"move\");\n\n    var sx, sy,\n        dx, dy,\n        bx, by,\n        selection = {},\n        intStart = false,\n        drag = false;\n\n    base.svg.addEventListener(\"mousedown\", function(evt){\n        evt.preventDefault();\n        brushstart.call(this);\n        intStart = true;\n        sx = evt.clientX;\n        sy = evt.clientY;\n\n        var sp = selector.svg.getBoundingClientRect();\n        var box = base.svg.getBoundingClientRect();\n        var x0, y0, nw, nh;\n\n        if(sx>sp.left && sy>sp.top && sx<sp.left+sp.width && sy<sp.top+sp.height) {\n            drag = true;\n            bx = sp.left;\n            by = sp.top;\n        }\n\n        if(!drag){\n            x0 = selectX ? sx - box.left : 0;\n            y0 = selectY ? sy - box.top : 0;\n            selector.attr(\"x\", x0)\n                .attr(\"y\", y0)\n                .attr(\"width\", 0);\n        }\n\n        ondrag = function(evt){\n            if(intStart){\n                dx = evt.clientX - sx;\n                dy = evt.clientY - sy;\n                var selectorBox = selector.svg.getBoundingClientRect();\n                if(drag){\n\n                    var nx = bx + dx-box.left,\n                        ny = by + dy-box.top;\n\n                    if(bx+dx < box.left) nx = 0;\n                    if(bx+dx+selectorBox.width > box.right) nx = width - selectorBox.width ;\n                    if(by+dy < box.top) ny = 0;\n                    if(by+dy+selectorBox.height > box.bottom) ny = height - selectorBox.height;\n                    selector.attr(\"x\", nx).attr(\"y\", ny);\n                } else {\n                    if(evt.clientX < box.left) dx = box.left - sx;\n                    if(evt.clientX > box.right) dx = box.right - sx;\n                    if(evt.clientY > box.bottom) dy = box.bottom - sy;\n                    if(evt.clientY < box.top) dy = box.top - sy;\n\n                    x0 = selectX ? sx + dx - box.left: 0;\n                    y0 = selectY ? sy + dy - box.top : 0;\n                    nw = selectX ? Math.abs(dx) : width;\n                    nh = selectY ? Math.abs(dy) : height;\n\n                    if(dx<0 && dy>=0) selector.attr(\"x\", x0);\n                    if(dy<0 && dx>=0) selector.attr(\"y\", y0);\n                    if(dx<0 && dy<0) selector.attr(\"x\", x0).attr(\"y\", y0);\n                    selector.attr(\"width\", nw).attr(\"height\", nh);\n                }\n                if(selectX) {\n                    selection.x = [ x(selectorBox.left - box.left ), x(selectorBox.right - box.left )];\n                }\n                if(selectY) {\n                    selection.y = [y(selectorBox.top - box.top), y(selectorBox.bottom - box.top)];\n                }\n                brush.call(this, selection);\n            }\n        };\n\n        window.addEventListener(\"mousemove\", ondrag, false);\n        window.addEventListener(\"mouseup\", function(evt){\n            if(intStart){\n                ondrag(evt);\n                intStart = false;\n                if(drag){\n                    drag = false;\n                }\n            }\n            brushend.call(this, selection);\n            window.removeEventListener(\"mousemove\", ondrag, false);\n        }, false);\n    });\n};\n","export default function ($p) {\n\n    let registers = {};\n    let control = {};\n\n    let serializeArray = function(arrayOfArray) {\n        return [].concat.apply([], arrayOfArray);\n    }\n\n    control.register = function(tag) {\n        registers[tag] = {\n            indexes: $p.indexes.slice(),\n            dataSize: $p.dataSize,\n            fields: $p.fields.slice(),\n            fieldCount: $p.fieldCount,\n            dataDim: $p.uniform.uDataDim.data.slice(),\n            fieldWidths: $p.fieldWidths.slice(),\n            fieldDomains: $p.fieldDomains.slice(),\n            deriveCount: $p.deriveCount,\n            filterFlag: $p.uniform.uFilterFlag.data,\n            filterControls: $p.uniform.uFilterControls.data.slice(),\n            dataInput: $p.uniform.uDataInput.data,\n            resultDim: $p.resultDimension.slice(),\n            attribute: {\n                aDataIdx: {\n                    ids: $p.attribute.aDataIdx.data,\n                    value: $p.attribute.aDataValx.data\n                },\n                aDataIdy: {\n                    ids: $p.attribute.aDataIdy.data,\n                    value: $p.attribute.aDataValy.data\n                },\n                aDataFieldId: $p.attribute.aDataFieldId.data,\n                aDataItemId: $p.attribute.aDataItemId.data\n            },\n            extraDim: $p.extraDimension\n        }\n        return control;\n    }\n\n    control.updateRegister = function(tag, props) {\n        if(registers.hasOwnProperty(tag)) {\n            Object.keys(props).forEach(k => {\n                registers[tag][k] = props[k];\n            })\n        }\n        return control;\n    }\n    \n    control.resume = function(tag) {\n        if (!registers.hasOwnProperty(tag))\n            throw new Error('\"' + tag + '\" is not found in regesters.');\n    \n        var reg = registers[tag];\n        //resume CPU registers\n        $p.indexes = reg.indexes;\n        $p.dataSize = reg.dataSize;\n        $p.deriveCount = reg.deriveCount;\n        $p.fieldCount = reg.fieldCount;\n        $p.fields = reg.fields.slice();\n        $p.fieldWidths = reg.fieldWidths.slice();\n        $p.fieldDomains = reg.fieldDomains.slice();\n        $p.dataDimension = reg.dataDim.slice();\n        $p.resultDimension = reg.resultDim.slice();\n        $p.extraDimension = reg.extraDim;\n        //resume GPU Uniforms\n        $p.uniform.uFieldCount.data = $p.fieldCount;\n        $p.uniform.uDataSize.data = $p.dataSize;\n        $p.uniform.uDataDim.data = reg.dataDim;\n        $p.uniform.uIndexCount.data = reg.indexes.length;\n        $p.uniform.uFieldDomains.data = serializeArray(reg.fieldDomains);\n        $p.uniform.uFieldWidths.data = reg.fieldWidths;\n        $p.uniform.uFilterFlag.data = reg.filterFlag;\n        // $p.uniform.uFilterControls.data = reg.filterControls;\n        $p.uniform.uDataInput.data = reg.dataInput;\n    \n        //resume GPU Attribute Buffers\n        $p.attribute['aDataIdx'] = reg.attribute['aDataIdx'].ids;\n        $p.attribute['aDataIdy'] = reg.attribute['aDataIdy'].ids;\n        $p.attribute['aDataValx'] = reg.attribute['aDataIdx'].value;\n        $p.attribute['aDataValy'] = reg.attribute['aDataIdy'].value;\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataIdx'].location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataIdy'].location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataValx'].location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataValy'].location, 1);\n    \n        $p.attribute['aDataFieldId'] = reg.attribute['aDataFieldId'];\n        $p.attribute['aDataItemId'] = reg.attribute['aDataItemId'];\n    \n        return control;\n    }\n\n    // control.head = function() {\n    //     control.resume('__init__');\n    //     return control;\n    // }\n\n    var branchID = 0;\n    control.branch = function(branches) {\n        branches.forEach(function(b){\n            var operations = Object.keys(b).map(function(o) {\n                var obj = {};\n                obj[o] = b[o];\n                return obj;\n            });\n            control.run(operations);\n            control.resume('_branch' + branchID);\n        })\n        branchID++;\n\n        return control;\n    }\n\n    return control;\n}\n","export const Aggregate = {\n  vertexShader() {\n    gl_PointSize = 1.0;\n\n    var i, j;\n    var groupKeyValue;\n\n    i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n    j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n\n    if (this.aDataIdy * this.uDataDim.x + this.aDataIdx >= this.uDataSize) {\n        this.vResult = 0.0;\n    } else {\n        if(this.uAggrOpt != 2.0) {\n            this.vResult = this.getData(this.uFieldId, i, j);\n        } else {\n            this.vResult = 1.0;\n        }\n    }\n\n    if (this.uFilterFlag == 1) {\n        if (texture2D(this.fFilterResults, vec2(i, j)).a < this.uVisLevel - 0.01) {\n            this.vResult = 0.0;\n        }\n    }\n\n    var pos = new Vec2();\n    for (var ii = 0; ii < 2; ii++) {\n        var gid = new Int();\n        gid = this.uGroupFields[ii];\n        if (gid != -1) {\n            if (this.uIndexCount > 0) {\n                if (gid == 0) {\n                    groupKeyValue = i;\n                } else if (gid == 1) {\n                    groupKeyValue = j;\n                }\n            }\n            if (this.uIndexCount == 0 || gid > 1) {\n                var d = new Vec2();\n                var w = this.getFieldWidth(gid);\n                var value = this.getData(gid, i, j);\n\n                d = this.getFieldDomain(gid);\n\n                if(this.uBinCount[ii] > 0) {\n                    value = max(ceil((value - d[0]) / this.uBinIntervals[ii]), 1.0);\n                    groupKeyValue = value / float(this.uBinCount[ii]);\n                } else {\n                    groupKeyValue = (value - d.x) / (d.y - d.x) * w / (w + 1.0);\n                    groupKeyValue += 0.5 / w;\n                }\n            }\n            pos[ii] = groupKeyValue * 2.0 - 1.0;\n        } else {\n            pos[ii] = 0.5;\n        }\n    }\n\n    if(this.uGroupFields[2] != -1) {\n        var keyValue = this.getData(this.uGroupFields[2], i, j);\n        if(keyValue != this.uExtraKeyValue) {\n            this.vResult = 0.0;\n        }\n    }\n\n    gl_Position = vec4(pos, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    if (this.vResult == 0.0) discard;\n    if (this.uAggrOpt == 2.0)\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    else\n        gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n  }\n}\n\nexport const GetStats = {\n  vertexShader() {\n    gl_Position = vec4(this._square, 0, 1);\n  },\n\n  fragmentShader() {\n    var x, y, res;\n    $vec4(value);\n\n    if (this.uAggrOpt > 3.0) {\n        x = (gl_FragCoord.x) / this.uResultDim.x;\n        y = (gl_FragCoord.y) / (this.uResultDim.y * float(this.uFieldCount));\n        value = texture2D(this.uDataInput, vec2(x, y));\n        res = value.a / value.b;\n    } else {\n        res = value.a;\n    }\n    gl_FragColor = vec4(0.0, 0.0, 0.0, res);\n  }\n}\n\nexport const FillValues = {\n  vertexShader() {\n    gl_Position = vec4(this._square, 0, 1);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, this.uFillValue);\n  }\n}\n","import {seqFloat} from '../utils';\nimport {Aggregate, GetStats, FillValues} from '../gljs/Aggregation.gl';\n\nconst VEC_IDS = ['x', 'y', 'z'];\nconst METRICS = ['$min', '$max', '$count', '$sum', '$avg', '$var', '$std'];\n\nexport default function aggregate($p) {\n    let aggregate = {};\n\n    $p.uniform('uFillValue', 'float', 0.0);\n    $p.uniform('uBinIntervals', 'vec2', [0.0, 0.0]);\n    $p.uniform('uBinCount', 'ivec2', [0, 0]);\n    $p.uniform('uAggrOpt', 'float', 2.0);\n    $p.uniform(\"uGroupFields\", \"int\",   [0, -1, -1]);\n    $p.uniform(\"uExtraKeyValue\", \"float\",  0.0);\n    $p.varying(\"vIsFiltered\", \"float\");\n    $p.extraDimension = 1;\n\n    $p.program(\n        'AggregateCompute',\n        $p.shader.vertex(Aggregate.vertexShader),\n        $p.shader.fragment(Aggregate.fragmentShader)\n    );\n\n    $p.program(\n        'GetAggrStats',\n        $p.shader.vertex(GetStats.vertexShader),\n        $p.shader.fragment(GetStats.fragmentShader)\n    );\n    $p.program(\n        'FillValues',\n        $p.shader.vertex(FillValues.vertexShader),\n        $p.shader.fragment(FillValues.fragmentShader)\n    );\n\n    var resultFieldCount,\n        getAvgValues = false,\n        getVarStd = false,\n        resultDomains;\n\n    function compute(opts, groupFieldIds, resultFieldIds, outputTag) {\n        resultFieldCount = resultFieldIds.length;\n        let gl = $p.program('FillValues');\n        $p.bindFramebuffer(outputTag);\n\n        if(!$p._progress) {\n            gl.clearColor(0.0, 0.0, 0.0, 0.0);\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        }\n\n        gl.disable(gl.BLEND);\n        resultFieldIds.forEach(function(f, i) {\n            gl.viewport(0, i * $p.resultDimension[1], $p.resultDimension[0], $p.resultDimension[1]);\n            var opt = METRICS.indexOf(opts[i]);\n            if (opt == 0) {\n                $p.uniform.uFillValue = Math.pow(2, 127);\n                gl.drawArrays(gl.TRIANGLES, 0, 6);\n            } else if(opt == 1) {\n                $p.uniform.uFillValue = -Math.pow(2, 128);\n                gl.drawArrays(gl.TRIANGLES, 0, 6);\n            }\n        });\n\n        gl = $p.program('AggregateCompute');\n      \n        $p.framebuffer.enableRead('fDerivedValues');\n        $p.framebuffer.enableRead('fFilterResults');\n\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n        $p.uniform.uGroupFields = groupFieldIds;\n\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE);\n        gl.blendEquation(gl.FUNC_ADD);\n        $p.uniform.uResultDim = $p.resultDimension;\n\n        let postComputeFieldIds = [];\n        \n        getAvgValues = false;\n        getVarStd = false;\n\n        for (var ii = 0; ii < $p.extraDimension; ii++) {\n            postComputeFieldIds = [];\n            resultFieldIds.forEach(function(f, i) {\n                var opt = METRICS.indexOf(opts[i]);\n                if (opt == -1) throw Error('unknowm operator for aggregation: ' + opts[i]);\n\n                if (opt > 3) {\n                    getAvgValues = true;\n                    $p.bindFramebuffer('fAggrStats');\n                    postComputeFieldIds.push(i);\n                } else {\n                    $p.bindFramebuffer(outputTag);\n                }\n\n                gl.viewport(ii * $p.resultDimension[0], i * $p.resultDimension[1], $p.resultDimension[0], $p.resultDimension[1]);\n                if (opt == 0) {\n                    gl.blendEquation(gl.MIN_EXT);\n                } else if (opt == 1) {\n                    gl.blendEquation(gl.MAX_EXT);\n                } else {\n                    gl.blendEquation(gl.FUNC_ADD);\n                }\n\n                $p.uniform.uFieldId = f;\n                $p.uniform.uAggrOpt = opt;\n                if(groupFieldIds[2] !== -1) {\n                    $p.uniform.uExtraKeyValue = seqFloat($p.fieldDomains[groupFieldIds[2]][0], $p.fieldDomains[groupFieldIds[2]][1])[ii];\n                }\n                \n                gl.ext.drawArraysInstancedANGLE(\n                    gl.POINTS, 0,\n                    $p.dataDimension[0],\n                    $p.dataDimension[1]\n                );\n            });\n        }\n        $p.uniform.uFieldCount.data = resultFieldIds.length;\n        if(getAvgValues) {\n            postCompute(opts, postComputeFieldIds, resultFieldIds, outputTag);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    }\n\n    function postCompute(opts, postComputeFieldIds, resultFieldIds, outputTag) {\n        $p.uniform.uDataInput.data = $p.framebuffer.fAggrStats.texture;\n        var gl = $p.program('GetAggrStats');\n        $p.bindFramebuffer(outputTag);\n        $p.uniform.uResultDim = [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1]];\n        $p.framebuffer.enableRead('fAggrStats');\n        // gl.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n        \n        gl.viewport(0, 0, $p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length);\n        gl.disable(gl.BLEND);\n\n        postComputeFieldIds.forEach(function(f) {\n            $p.uniform.uAggrOpt = METRICS.indexOf(opts[f]);\n            $p.uniform.uFieldId = f;\n            gl.viewport(\n                0, \n                f * $p.resultDimension[1], \n                $p.resultDimension[0] * $p.extraDimension,\n                $p.resultDimension[1]\n            );\n            gl.drawArrays(gl.TRIANGLES, 0, 6);\n        })\n    }\n\n    aggregate.execute = function(spec) {\n        let newFieldSpec = spec.$collect || spec.$reduce || null;\n        let groupFields = spec.$group || spec.group;\n        let groupFieldIds = [-1, -1, -1];\n        let outputTag = spec.out || 'fGroupResults';\n        if (!Array.isArray(groupFields)) groupFields = [groupFields];\n        if (groupFields.length >= 2) {\n            groupFieldIds[0] = $p.fields.indexOf(groupFields[0]);\n            groupFieldIds[1] = $p.fields.indexOf(groupFields[1]);\n            $p.resultDimension = [\n                $p.fieldWidths[groupFieldIds[0]],\n                $p.fieldWidths[groupFieldIds[1]]\n            ];\n            if(groupFields.length === 3) {\n                groupFieldIds[2] = $p.fields.indexOf(groupFields[2]);\n                $p.extraDimension = $p.fieldWidths[groupFieldIds[2]];\n            } else {\n                $p.extraDimension = 1\n            }\n        } else {\n            groupFieldIds[0] = $p.fields.indexOf(groupFields[0]);\n            $p.resultDimension = [$p.fieldWidths[groupFieldIds[0]], 1];\n        }\n\n        // For backward compatibility, allowing new fields specified without using the $collect or $reduce\n        if (newFieldSpec === null) {\n            newFieldSpec = {};\n            Object.keys(spec)\n            .filter(d => d != '$by' && d != '$group')\n            .forEach(function(d) {\n                newFieldSpec[d] = spec[d];\n            });\n        }\n\n        let newFieldNames = Object.keys(newFieldSpec);\n        let resultFields = newFieldNames.map(f => newFieldSpec[f][Object.keys(newFieldSpec[f])[0]]);\n        let resultFieldIds = resultFields.map( f => (f == '*') ? 0 : $p.fields.indexOf(f));\n        let operators = resultFields.map( (f,i) => { \n            return (typeof(newFieldSpec[newFieldNames[i]]) === 'object')\n                ? Object.keys(newFieldSpec[newFieldNames[i]])[0]\n                : newFieldSpec[newFieldNames[i]]\n        });\n        let twoPassFields = operators.filter(opt => METRICS.indexOf(opt) > 2 );\n\n        if (!$p._update && !$p._progress) {\n            $p.framebuffer(\n                outputTag,\n                'float', [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length]\n            );\n\n            if(twoPassFields.length > 0) {\n                $p.framebuffer(\n                    'fAggrStats',\n                    'float', [$p.resultDimension[0] * $p.extraDimension, $p.resultDimension[1] * resultFieldIds.length]\n                );\n            }\n        }\n        $p.bindFramebuffer(outputTag);\n\n        compute(operators, groupFieldIds, resultFieldIds, outputTag);\n\n        $p.getResult = aggregate.result;\n        $p.indexes = groupFields;\n        $p.dataDimension = $p.resultDimension;\n        $p.uniform.uDataInput.data = $p.framebuffer[outputTag].texture;\n\n        var oldFieldIds = groupFields.concat(resultFields).map( f => $p.fields.indexOf(f));\n\n        $p.fields = groupFields.concat(newFieldNames);\n        $p.uniform.uDataDim.data = $p.resultDimension;\n        $p.uniform.uIndexCount.data = $p.indexes.length;\n        $p.fieldCount = $p.fields.length - $p.indexes.length;\n        $p.uniform.uFieldCount.data = $p.fieldCount;\n\n        // $p.fieldWidths = $p.fieldWidths.concat($p.deriveWidths);\n        // $p.fieldDomains = $p.fieldDomains.concat($p.deriveDomains);\n       \n        let newFieldDomains = oldFieldIds.map(f => $p.fieldDomains[f]);\n        let newFieldWidths = oldFieldIds.map(f => $p.fieldWidths[f]);\n        \n        oldFieldIds.slice(0, groupFields.length).forEach((fid, fii) => {\n            if($p.uniform.uBinCount.data[fii] > 0) {\n                newFieldDomains[fii] = [0, $p.uniform.uBinCount.data[fii]-1];\n            }\n        })\n        $p.uniform.uBinCount.data = [0,0];\n\n        $p.fieldDomains = newFieldDomains;\n        $p.fieldWidths = newFieldWidths;\n       \n        $p.attribute.aDataItemId = seqFloat(0, $p.resultDimension[0] * $p.resultDimension[1] - 1);\n        $p.dataSize = $p.resultDimension[0] * $p.resultDimension[1];\n        $p.uniform.uDataSize.data = $p.dataSize;\n        $p.uniform.uFieldDomains.data = $p.fieldDomains;\n        $p.uniform.uFieldWidths.data = $p.fieldWidths;\n        $p.uniform.uFilterFlag.data = 0;\n\n        $p.indexes.forEach(function(d, i) {\n            $p.attribute['aDataId' + VEC_IDS[i]] = seqFloat(0, $p.resultDimension[i]-1);\n            var interval = 1;\n            var ifid = $p.fields.indexOf(d);\n            // if ($p.intervals.hasOwnProperty(d)) interval = $p.intervals[d].interval;\n            $p.attribute['aDataVal' + VEC_IDS[i]] = seqFloat(\n                $p.fieldDomains[ifid][0],\n                $p.fieldDomains[ifid][1],\n                interval\n            );\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataId' + VEC_IDS[i]].location, i);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute['aDataVal' + VEC_IDS[i]].location, i);\n        });\n        if ($p.indexes.length == 1) {\n            $p.attribute.aDataIdy = new Float32Array(1);\n            $p.attribute.aDataValy = new Float32Array(1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        }\n        if (!$p._update) {\n            let resultFieldIds = resultFields.map( f => (f == '*') ? 0 : $p.fields.indexOf(f));\n            resultDomains = $p.extent(resultFieldIds, $p.dataDimension);\n        }\n        for (var ii = $p.indexes.length; ii < $p.indexes.length + resultFields.length; ii++) {\n            $p.fieldDomains[ii] = resultDomains[ii - $p.indexes.length];\n            $p.fieldWidths[ii] = resultDomains[ii - $p.indexes.length][1] - resultDomains[ii - $p.indexes.length][0];\n        }\n        $p.getResultBuffer = aggregate.result;\n        // console.log(aggregate.result({outputTag}))\n    }\n\n    aggregate.result = function(arg) {\n        let options = arg || {};\n        let outputTag =  arg.outputTag || 'fGroupResults';\n        let offset = options.offset || [0, 0];\n        let resultSize = options.size || $p.resultDimension[0] * $p.resultDimension[1];\n        let rowTotal = Math.min(resultSize, $p.resultDimension[0]);\n        let colTotal = Math.ceil(resultSize / $p.resultDimension[0]);\n        let result = new Float32Array(rowTotal * colTotal * 4 * resultFieldCount);\n        $p.bindFramebuffer(outputTag);\n        let gl = $p.program('AggregateCompute');\n        gl.readPixels(offset[0], offset[1], rowTotal, colTotal * resultFieldCount, gl.RGBA, gl.FLOAT, result);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return result.filter((d, i) => i % 4 === 3);\n    }\n\n    return aggregate;\n}\n","export default function cache($p) {\n    var cache = {},\n        dataDimension = $p.uniform.uDataDim.data,\n        fieldCount =  $p.uniform.uFieldCount.data,\n        cacheTag;\n\n    var vs = $p.shader.vertex(function () {\n         gl_Position = vec4(this._square, 0, 1);\n    });\n\n    var fs = $p.shader.fragment(function () {\n        var x, y;\n\n        x = (gl_FragCoord.x) / this.uDataDim.x;\n        y = (gl_FragCoord.y) / (this.uDataDim.y * float(this.uFieldCount));\n\n        gl_FragColor = texture2D(this.uDataInput, vec2(x, y));\n    });\n\n    $p.program(\"cache\", vs, fs);\n\n    cache.execute = function(tag) {\n        cacheTag = tag;\n        dataDimension = $p.uniform.uDataDim.data;\n        fieldCount = $p.uniform.uFieldCount.data;\n        $p.framebuffer(tag, \"float\", [dataDimension[0], dataDimension[1] * fieldCount]);\n        $p.bindFramebuffer(tag);\n        var gl = $p.program(\"cache\");\n        gl.viewport(0, 0, dataDimension[0], dataDimension[1] * fieldCount);\n        gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n        gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.disable(gl.BLEND);\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        $p.framebuffer.enableRead(tag);\n        $p.uniform.uDataInput = $p.framebuffer[tag].texture;\n        $p.getResultBuffer = cache.result;\n    }\n\n    cache.result =  function() {\n        var gl = $p.ctx;\n        $p.bindFramebuffer(cacheTag);\n        dataDimension = $p.uniform.uDataDim.data;\n        var result = new Float32Array(dataDimension[0]*dataDimension[1]*4*fieldCount);\n        gl.readPixels(0, 0, dataDimension[0], dataDimension[1] * fieldCount, gl.RGBA, gl.FLOAT, result);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        result = result.filter(function(d, i){ return i%4===3;} );\n\n        return result;\n    }\n\n    return cache;\n}\n","\n// Calculate the current day of the week as an integer\n//   now - Unix timestamp like that from time(NULL)\n//   tz_offset - Number of hours off from UTC; i.e. PST = -8\n//   Return value: Sunday=0, Monday=1, ... Saturday=6\n// int dayofweek(time_t now, int tz_offset) {\n// \t// Calculate number of seconds since midnight 1 Jan 1970 local time\n// \ttime_t localtime = now + (tz_offset * 60 * 60);\n// \t// Convert to number of days since 1 Jan 1970\n// \tint days_since_epoch = localtime / 86400;\n// \t// 1 Jan 1970 was a Thursday, so add 4 so Sunday is day 0, and mod 7\n// \tint day_of_week = (days_since_epoch + 4) % 7; \n\n// \treturn day_of_week;\n// }\n\n// function getDateTime(s) {\n//   let z = Math.floor(s / 86400) + 719468;\n//   let era = Math.floor(z >= 0 ? z : z - 146096) / 146097;\n//   let doe = Math.floor((z - era * 146097));\n//   let yoe = Math.floor((doe - doe / 1460 + doe / 36524 - doe / 146096) / 365);\n//   let year = Math.floor((yoe) + era * 400);\n//   let doy = Math.floor(doe - (365 * yoe + yoe / 4 - yoe / 100));\n//   let mp = Math.floor(( 5 * doy + 2) / 153);\n//   let day = Math.floor(doy - (153 * mp + 2) / 5 + 1);\n//   let month = Math.floor(mp + (mp < 10 ? 3 : -9));\n//   year += (month <= 2);\n//   return {year, month, day};\n// }\n\nfunction getDateTime(s) {\n  let second = s % 60\n  let minute = Math.floor(s / 60) % 60\n  let hour = Math.floor(s / 3600) % 24\n  let days = Math.floor(s / 3600 / 24) \n  let years = Math.floor(days / 365.25)\n  let year = 1970 + years;\n  let dayOfWeek = (days + 4) % 7\n\n  // let leapDays = 0\n  // for (var i = 1970; i < year; i++) {\n  //   if ((i % 4 === 0 && i % 100 !== 0) || (i % 400 == 0)) {\n  //     leapDays += 1;\n  //   }\n  // }\n  // days = days - (years * 365 + leapDays);\n  days = days - Math.ceil(years * 365.25);\n  let isLeapYear = ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0));\n  let month = 1\n  let daysInMonth\n  while (month <= 12) {\n    \n    if(month === 2) {\n      daysInMonth = 28 + isLeapYear;\n    } else {\n      daysInMonth = 30 + (month + (month < 7)) % 2\n    }\n\n    if (days > daysInMonth) {\n      days -= daysInMonth\n      month += 1\n    } else {\n      break;\n    }\n  }\n\n  return {year, month, days, hour, minute, second, dayOfWeek}\n}\n\n\nexport function getHour({ts = 'float'}) {\n  var hours = floor(ts / 3600.0);\n  return hours - (24.0 * floor(hours / 24.0)) + 1.0;\n}\n\nexport function getYear({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0);\n  var years = floor(days / 365.25);\n  return 1970.0 + years;\n}\n\nexport function floatMod({a = \"float\", b = \"float\"}) {\n  return a - (b * floor(a / b));\n}\n\n// export function getMonth({ts = 'float'}) {\n//   var days = floor(ts / 3600.0 / 24.0);\n//   var years = floor(days / 365.25) + 1970.0;\n//   var months = floor(days / 30.5);\n//   return months - floor(months / 12.0);\n// }\n\nexport function getDayOfWeek({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0) + 4.0;\n  return days - (7.0 * floor(days / 7.0)) + 1.0;\n} \n\nexport function getMonth({ts = 'float'}) {\n  var days = floor(ts / 3600.0 / 24.0);\n  var years = floor(days / 365.25);\n  days = days - ceil(years * 365.25);\n  var month = new int();\n  var daysInMonth;\n  var year = 1970.0 + years;\n  var isLeapYear = 0.0;\n  if( (year - (4.0 * floor(year/4.0)) == 0.0 \n    && year - (100.0 * floor(year/100.0)) != 0.0)\n    || (year - (100.0 * floor(year/400.0)) == 0.0)\n  ) {\n    isLeapYear = 1.0;\n  }\n  month = 1;\n  for (var i = 1; i<=12; i++) {\n    if(month == 2) {\n      daysInMonth = 28.0 + isLeapYear;\n    } else if( month == 4 || month == 6 || month == 9 || month == 11) {\n      daysInMonth = 30.0;\n    } else {\n      daysInMonth = 31.0;\n    }\n    if (days > daysInMonth) {\n      days -= daysInMonth;\n      month += 1;\n    }\n  }\n  return float(month);\n}","\nconst smallest = -Math.pow(2, 128);\nexport default function extent($p) {\n\n    var vs = $p.shader.vertex(function() {\n        gl_PointSize = 1.0;\n        var i, j;\n        if (this.aDataIdy * this.uDataDim.x + this.aDataIdx >= this.uDataSize) {\n            this.vDiscardData = 1.0;\n        } else {\n            this.vDiscardData = 0.0;\n            i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n            j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n            this.vResult = this.getData(this.uFieldId, i, j);\n        }\n        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    });\n\n    var fs = $p.shader.fragment(function() {\n        if (this.vDiscardData == 1.0) discard;\n        if (this.vResult >= 0.0) {\n            gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n        } else {\n            gl_FragColor = vec4(-1.0, this.vResult, 0.0, 0.0);\n        }\n    });\n\n    var gl = $p.program(\"stats\", vs, fs);\n\n    return function(fieldIds, dataDimension) {\n        if (!$p._update) {\n            $p.framebuffer(\"fStats\", \"float\", [2, fieldIds.length]);\n        }\n        var gl = $p.program(\"stats\");\n        $p.framebuffer.enableRead(\"fGroupResults\");\n\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n        $p.bindFramebuffer(\"fStats\");\n        gl.clearColor(smallest, smallest, smallest, smallest);\n        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendFunc(gl.ONE, gl.ONE);\n\n        var extents = new Array(fieldIds.length);\n\n        var idCount = $p.uniform.uIndexCount.data;\n        fieldIds.forEach(function(d, i) {\n            $p.uniform.uFieldId = i + idCount;\n            gl.viewport(0, i, 1, 1);\n            gl.blendEquation(gl.MAX_EXT);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n            // gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, max);\n\n            gl.viewport(1, i, 1, 1);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n            gl.blendEquation(gl.MIN_EXT);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n            // var extent = new Float32Array(8);\n            // gl.readPixels(0, i, 2, 1, gl.RGBA, gl.FLOAT, extent);\n            // console.log(extent);\n            // var ext = extent;\n            // var minValue = (ext[0] > 0) ? ext[1] : ext[7],\n            //     maxValue = (ext[2] > 0) ? ext[3] : ext[5];\n            //  extents[i] = [minValue, maxValue];\n        });\n        var extent = new Float32Array(8 * fieldIds.length);\n       \n        gl.readPixels(0, 0, 2, fieldIds.length, gl.RGBA, gl.FLOAT, extent);\n        fieldIds.forEach(function(d, i) {\n            var ext = extent.slice(i * 8, i * 8 + 8);\n            var minValue = (ext[4] < 0) ? ext[5] : ext[7],\n                maxValue = (ext[2] > 0) ? ext[3] : ext[1];\n            extents[i] = [minValue, maxValue];\n        });\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        return extents;\n    }\n}\n","export const IntervalMatch = {\n  vertexShader() {\n    var i, j, k, value;\n    var filter = new Int(0);\n    var sel = new Int(0);\n    var visSelect = new Bool(false);\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n    \n    for(var f = 0; f < $(fieldCount) + $(indexCount); f++) {\n      if(this.uFilterControls[f] == 1 || this.uVisControls[f] == 1) {\n        value = this.getData(f, i, j);\n    \n        if(this.uFilterControls[f] == 1) {\n          if(value < this.uFilterRanges[f].x || value > this.uFilterRanges[f].y) {\n            filter -= 1;\n          }\n        }\n        if(this.uVisControls[f] == 1) {\n          if(value < this.uVisRanges[f].x || value > this.uVisRanges[f].y) {\n            sel -= 1;\n          }\n          visSelect = true;\n        }\n      }\n    }\n    this.vResult = 0.1;\n    if(filter < 0) {\n      this.vResult = 0.0;\n    } else {\n      if(visSelect)\n        this.vResult = (sel < 0) ? 0.1 : 0.2;\n    }\n    var x = i * 2.0 - 1.0;\n    var y = j * 2.0 - 1.0;\n    gl_PointSize = 1.0;\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0., 0., 0., this.vResult);\n  }\n}\n\nexport const DiscreteMatch = {\n  vertexShader() {\n    var i, j, k, value;\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n    this.vResult = this.uFilterLevel - 0.1;\n    value = this.getData(this.uFieldId, i, j);\n    for(var l = 0; l < 100; l++){\n      if(l < this.uSelectCount) {\n        if(value == this.uInSelections[l]) {\n          this.vResult = this.uFilterLevel;\n        }\n      }\n    }\n    var x = i * 2.0 - 1.0;\n    var y = j * 2.0 - 1.0;\n    gl_PointSize = 1.0;\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  },\n\n  fragmentShader() {\n    gl_FragColor = vec4(0., 0., 0., this.vResult);\n  }\n}","import {IntervalMatch, DiscreteMatch} from '../gljs/Match.gl'\n\nexport default function match($p) {\n    const SELECT_MAX = 100;\n    let match = {};\n    let dataDimension = $p.uniform.uDataDim.data;\n    let fieldCount = $p.fields.length;\n    let filterControls = new Array(fieldCount).fill(0);\n    let filterRanges = $p.fieldDomains;\n    let visControls = new Array(fieldCount).fill(0);\n    let visRanges = $p.fieldDomains;\n    let inSelections = new Array(SELECT_MAX);\n    let matchResultBuffer = null;\n\n    $p.uniform('uInSelections', 'float', Float32Array.from(inSelections));\n    $p.uniform('uSelectMax', 'int', SELECT_MAX);\n    $p.uniform('uSelectCount', 'int', 0);\n\n    let rangeMatch = {\n        vs: $p.shader.vertex(IntervalMatch.vertexShader),\n        fs: $p.shader.fragment(IntervalMatch.fragmentShader)\n    };\n\n    let inMatch = {\n        vs: $p.shader.vertex(DiscreteMatch.vertexShader),\n        fs: $p.shader.fragment(DiscreteMatch.fragmentShader)\n    };\n\n    $p.program('IntervalMatch', rangeMatch.vs, rangeMatch.fs);\n    $p.program('DiscreteMatch', inMatch.vs, inMatch.fs);\n\n    match.control = function(ctrl) {\n        filterControls = ctrl;\n    }\n\n    function _execute(spec){\n        var fields = $p.fields;\n        var gl;\n        var matchFields = Object.keys(spec).filter(function(s){\n            return spec[s].hasOwnProperty('$in');\n        })\n        .concat(Object.keys($p.crossfilters).filter(function(s){\n            return $p.crossfilters[s].hasOwnProperty('$in');\n        }))\n\n        $p.bindFramebuffer('fFilterResults');\n       \n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        if(matchFields.length) {\n            gl = $p.program('DiscreteMatch');\n            if($p.deriveCount > 0) {\n                $p.framebuffer.enableRead('fDerivedValues');\n            }\n\n            gl.viewport(0, 0, dataDimension[0], dataDimension[1]);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n            gl.clearColor( 1.0, 1.0, 1.0, 1.0 );\n            gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.enable( gl.BLEND );\n            gl.blendFunc( gl.ONE, gl.ONE );\n            gl.blendEquation(gl.MIN_EXT);\n\n            matchFields.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                var inSelections = (spec.hasOwnProperty(k)) ? spec[k].$in :  $p.crossfilters[k].$in;\n                if($p.strValues.hasOwnProperty(k)) {\n                    inSelections = inSelections\n                        .slice(0, SELECT_MAX)\n                        .map(function(v) { return $p.strValues[k][v]; });\n                } else {\n                    inSelections = inSelections.slice(0, SELECT_MAX);\n                }\n                $p.uniform.uSelectCount = inSelections.length;\n                $p.uniform.uInSelections = Float32Array.from(inSelections);\n                $p.uniform.uFieldId = fieldId;\n\n                gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, $p.dataDimension[0], $p.dataDimension[1]);\n                // filterRanges[fieldId*2] = Math.min.apply(null, spec[k].$in);\n                // filterRanges[fieldId*2+1] = Math.max.apply(null, spec[k].$in);\n                filterRanges[fieldId] = [Math.min.apply(null, inSelections), Math.max.apply(null, inSelections)];\n            })\n        }\n\n        var filterSelections = Object.keys(spec).filter(function(s){\n            return !spec[s].hasOwnProperty('$in');\n        });\n\n        var viewSelections = Object.keys($p.crossfilters).filter(function(s){\n            return !$p.crossfilters[s].hasOwnProperty('$in'); \n        });\n     \n        if(filterSelections.length || viewSelections.length){\n            filterControls = new Array(fieldCount).fill(0);\n\n            filterSelections.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                if(fieldId === -1) {\n                    console.log('Skipped: Matching on invalid data field ' + k);\n                    return;\n                }\n                if(spec[k].length < 2) spec[k][1] = spec[k][0];\n                filterControls[fieldId] = 1;\n                filterRanges[fieldId] = spec[k];\n                // filterRanges[fieldId*2] = spec[k][0];\n                // filterRanges[fieldId*2+1] = spec[k][1];\n            });\n\n            viewSelections.forEach(function(k){\n                var fieldId = $p.fields.indexOf(k);\n                if(fieldId === -1) {\n                    console.log('Skipped: Matching on invalid data field ' + k);\n                    return;\n                }\n                if($p.crossfilters[k].length < 2) $p.crossfilters[k][1] = $p.crossfilters[k][0];\n                visControls[fieldId] = 1;\n                visRanges[fieldId] = $p.crossfilters[k];\n            });\n\n            $p.uniform.uFilterControls.data = filterControls;\n            $p.uniform.uFilterRanges.data = filterRanges;\n            $p.uniform.uVisControls.data = visControls;\n            $p.uniform.uVisRanges.data = visRanges;\n\n            if (matchFields.length) {\n                matchResultBuffer= match.result();\n                $p.bindFramebuffer('fFilterResults');\n            }\n\n            gl = $p.program('IntervalMatch');\n            if($p.deriveCount > 0) {\n                $p.framebuffer.enableRead('fDerivedValues');\n            }\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n            gl.disable(gl.BLEND);\n            // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.viewport(0, 0, $p.dataDimension[0], $p.dataDimension[1]);\n            gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, $p.dataDimension[0], $p.dataDimension[1]);\n        }\n        $p.ctx.bindFramebuffer($p.ctx.FRAMEBUFFER, null);\n        return filterRanges;\n    }\n\n    match.execute = function(spec, skipUpdateDomain = false) {\n        filterControls = new Array($p.fields.length).fill(0);\n        visControls = new Array($p.fields.length).fill(0);\n        var filterSpec = spec;\n\n        Object.keys($p.crossfilters).forEach(function(k, i) {\n            if($p.strValues.hasOwnProperty(k) && !$p.crossfilters[k].$in) {\n                let filterValues = $p.crossfilters[k];\n                if(filterValues.length > 1) {\n                    let startIndex = $p.strLists[k].indexOf($p.crossfilters[k][0]);\n                    let endIndex = $p.strLists[k].indexOf($p.crossfilters[k][1]);\n                    filterValues = $p.strLists[k].slice(startIndex, endIndex + 1);\n                }\n                $p.crossfilters[k] = {$in: filterValues};\n            }\n        });\n\n        Object.keys(filterSpec).forEach(function(k, i) {\n            if($p.strValues.hasOwnProperty(k) && !spec[k].$in) {\n                spec[k] = {$in: spec[k]};\n            }\n        });\n\n        $p.uniform.uFilterFlag.data = 1;\n        if(!$p._update) {\n           \n            $p.framebuffer('fFilterResults', 'unsigned_byte', $p.dataDimension);\n            filterRanges = $p.fieldDomains.slice();\n            visRanges = $p.fieldDomains.slice();\n        }\n        var newDomains = _execute(spec);\n\n        if(!$p._update){\n            newDomains.forEach(function(domain, fid) {\n                var d = domain;\n                // if($p.dtypes[fid] == 'int') d[1] -= 1;\n                $p.fieldDomains[fid] = d;\n                $p.fieldWidths[fid] = $p.getDataWidth(fid, d);\n            });\n\n            $p.uniform.uFieldDomains.value($p.fieldDomains);\n            $p.uniform.uFieldWidths.data = $p.fieldWidths;\n        }\n        $p.getMatchBuffer = match.result;\n    }\n\n    match.result = function(arg) {\n        var options = arg || {},\n            offset = options.offset || [0, 0],\n            resultSize = options.size || $p.dataDimension[0]* $p.dataDimension[1],\n            rowSize = Math.min(resultSize, $p.dataDimension[0]),\n            colSize = Math.ceil(resultSize/$p.dataDimension[0]);\n\n        $p.bindFramebuffer('fFilterResults');\n\n        var gl = $p.ctx;\n        var bitmap = new Uint8Array(rowSize*colSize*4);\n        gl.readPixels(offset[0], offset[1], rowSize, colSize, gl.RGBA, gl.UNSIGNED_BYTE, bitmap);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n        let result = bitmap.filter((d, i) => i % 4 === 3);\n        if(matchResultBuffer !== null) {\n            result = result.map((r,i) => r & matchResultBuffer[i])\n            matchResultBuffer = null\n        }\n        \n        return result;\n    }\n\n    return match;\n}\n","export const gradients = {\n    \"inferno\": [\"#000004\", \"#010005\", \"#010106\", \"#010108\", \"#02010a\", \"#02020c\", \"#02020e\", \"#030210\", \"#040312\", \"#040314\", \"#050417\", \"#060419\", \"#07051b\", \"#08051d\", \"#09061f\", \"#0a0722\", \"#0b0724\", \"#0c0826\", \"#0d0829\", \"#0e092b\", \"#10092d\", \"#110a30\", \"#120a32\", \"#140b34\", \"#150b37\", \"#160b39\", \"#180c3c\", \"#190c3e\", \"#1b0c41\", \"#1c0c43\", \"#1e0c45\", \"#1f0c48\", \"#210c4a\", \"#230c4c\", \"#240c4f\", \"#260c51\", \"#280b53\", \"#290b55\", \"#2b0b57\", \"#2d0b59\", \"#2f0a5b\", \"#310a5c\", \"#320a5e\", \"#340a5f\", \"#360961\", \"#380962\", \"#390963\", \"#3b0964\", \"#3d0965\", \"#3e0966\", \"#400a67\", \"#420a68\", \"#440a68\", \"#450a69\", \"#470b6a\", \"#490b6a\", \"#4a0c6b\", \"#4c0c6b\", \"#4d0d6c\", \"#4f0d6c\", \"#510e6c\", \"#520e6d\", \"#540f6d\", \"#550f6d\", \"#57106e\", \"#59106e\", \"#5a116e\", \"#5c126e\", \"#5d126e\", \"#5f136e\", \"#61136e\", \"#62146e\", \"#64156e\", \"#65156e\", \"#67166e\", \"#69166e\", \"#6a176e\", \"#6c186e\", \"#6d186e\", \"#6f196e\", \"#71196e\", \"#721a6e\", \"#741a6e\", \"#751b6e\", \"#771c6d\", \"#781c6d\", \"#7a1d6d\", \"#7c1d6d\", \"#7d1e6d\", \"#7f1e6c\", \"#801f6c\", \"#82206c\", \"#84206b\", \"#85216b\", \"#87216b\", \"#88226a\", \"#8a226a\", \"#8c2369\", \"#8d2369\", \"#8f2469\", \"#902568\", \"#922568\", \"#932667\", \"#952667\", \"#972766\", \"#982766\", \"#9a2865\", \"#9b2964\", \"#9d2964\", \"#9f2a63\", \"#a02a63\", \"#a22b62\", \"#a32c61\", \"#a52c60\", \"#a62d60\", \"#a82e5f\", \"#a92e5e\", \"#ab2f5e\", \"#ad305d\", \"#ae305c\", \"#b0315b\", \"#b1325a\", \"#b3325a\", \"#b43359\", \"#b63458\", \"#b73557\", \"#b93556\", \"#ba3655\", \"#bc3754\", \"#bd3853\", \"#bf3952\", \"#c03a51\", \"#c13a50\", \"#c33b4f\", \"#c43c4e\", \"#c63d4d\", \"#c73e4c\", \"#c83f4b\", \"#ca404a\", \"#cb4149\", \"#cc4248\", \"#ce4347\", \"#cf4446\", \"#d04545\", \"#d24644\", \"#d34743\", \"#d44842\", \"#d54a41\", \"#d74b3f\", \"#d84c3e\", \"#d94d3d\", \"#da4e3c\", \"#db503b\", \"#dd513a\", \"#de5238\", \"#df5337\", \"#e05536\", \"#e15635\", \"#e25734\", \"#e35933\", \"#e45a31\", \"#e55c30\", \"#e65d2f\", \"#e75e2e\", \"#e8602d\", \"#e9612b\", \"#ea632a\", \"#eb6429\", \"#eb6628\", \"#ec6726\", \"#ed6925\", \"#ee6a24\", \"#ef6c23\", \"#ef6e21\", \"#f06f20\", \"#f1711f\", \"#f1731d\", \"#f2741c\", \"#f3761b\", \"#f37819\", \"#f47918\", \"#f57b17\", \"#f57d15\", \"#f67e14\", \"#f68013\", \"#f78212\", \"#f78410\", \"#f8850f\", \"#f8870e\", \"#f8890c\", \"#f98b0b\", \"#f98c0a\", \"#f98e09\", \"#fa9008\", \"#fa9207\", \"#fa9407\", \"#fb9606\", \"#fb9706\", \"#fb9906\", \"#fb9b06\", \"#fb9d07\", \"#fc9f07\", \"#fca108\", \"#fca309\", \"#fca50a\", \"#fca60c\", \"#fca80d\", \"#fcaa0f\", \"#fcac11\", \"#fcae12\", \"#fcb014\", \"#fcb216\", \"#fcb418\", \"#fbb61a\", \"#fbb81d\", \"#fbba1f\", \"#fbbc21\", \"#fbbe23\", \"#fac026\", \"#fac228\", \"#fac42a\", \"#fac62d\", \"#f9c72f\", \"#f9c932\", \"#f9cb35\", \"#f8cd37\", \"#f8cf3a\", \"#f7d13d\", \"#f7d340\", \"#f6d543\", \"#f6d746\", \"#f5d949\", \"#f5db4c\", \"#f4dd4f\", \"#f4df53\", \"#f4e156\", \"#f3e35a\", \"#f3e55d\", \"#f2e661\", \"#f2e865\", \"#f2ea69\", \"#f1ec6d\", \"#f1ed71\", \"#f1ef75\", \"#f1f179\", \"#f2f27d\", \"#f2f482\", \"#f3f586\", \"#f3f68a\", \"#f4f88e\", \"#f5f992\", \"#f6fa96\", \"#f8fb9a\", \"#f9fc9d\", \"#fafda1\", \"#fcffa4\"],\n    \"magma\": [\"#000004\", \"#010005\", \"#010106\", \"#010108\", \"#020109\", \"#02020b\", \"#02020d\", \"#03030f\", \"#030312\", \"#040414\", \"#050416\", \"#060518\", \"#06051a\", \"#07061c\", \"#08071e\", \"#090720\", \"#0a0822\", \"#0b0924\", \"#0c0926\", \"#0d0a29\", \"#0e0b2b\", \"#100b2d\", \"#110c2f\", \"#120d31\", \"#130d34\", \"#140e36\", \"#150e38\", \"#160f3b\", \"#180f3d\", \"#19103f\", \"#1a1042\", \"#1c1044\", \"#1d1147\", \"#1e1149\", \"#20114b\", \"#21114e\", \"#221150\", \"#241253\", \"#251255\", \"#271258\", \"#29115a\", \"#2a115c\", \"#2c115f\", \"#2d1161\", \"#2f1163\", \"#311165\", \"#331067\", \"#341069\", \"#36106b\", \"#38106c\", \"#390f6e\", \"#3b0f70\", \"#3d0f71\", \"#3f0f72\", \"#400f74\", \"#420f75\", \"#440f76\", \"#451077\", \"#471078\", \"#491078\", \"#4a1079\", \"#4c117a\", \"#4e117b\", \"#4f127b\", \"#51127c\", \"#52137c\", \"#54137d\", \"#56147d\", \"#57157e\", \"#59157e\", \"#5a167e\", \"#5c167f\", \"#5d177f\", \"#5f187f\", \"#601880\", \"#621980\", \"#641a80\", \"#651a80\", \"#671b80\", \"#681c81\", \"#6a1c81\", \"#6b1d81\", \"#6d1d81\", \"#6e1e81\", \"#701f81\", \"#721f81\", \"#732081\", \"#752181\", \"#762181\", \"#782281\", \"#792282\", \"#7b2382\", \"#7c2382\", \"#7e2482\", \"#802582\", \"#812581\", \"#832681\", \"#842681\", \"#862781\", \"#882781\", \"#892881\", \"#8b2981\", \"#8c2981\", \"#8e2a81\", \"#902a81\", \"#912b81\", \"#932b80\", \"#942c80\", \"#962c80\", \"#982d80\", \"#992d80\", \"#9b2e7f\", \"#9c2e7f\", \"#9e2f7f\", \"#a02f7f\", \"#a1307e\", \"#a3307e\", \"#a5317e\", \"#a6317d\", \"#a8327d\", \"#aa337d\", \"#ab337c\", \"#ad347c\", \"#ae347b\", \"#b0357b\", \"#b2357b\", \"#b3367a\", \"#b5367a\", \"#b73779\", \"#b83779\", \"#ba3878\", \"#bc3978\", \"#bd3977\", \"#bf3a77\", \"#c03a76\", \"#c23b75\", \"#c43c75\", \"#c53c74\", \"#c73d73\", \"#c83e73\", \"#ca3e72\", \"#cc3f71\", \"#cd4071\", \"#cf4070\", \"#d0416f\", \"#d2426f\", \"#d3436e\", \"#d5446d\", \"#d6456c\", \"#d8456c\", \"#d9466b\", \"#db476a\", \"#dc4869\", \"#de4968\", \"#df4a68\", \"#e04c67\", \"#e24d66\", \"#e34e65\", \"#e44f64\", \"#e55064\", \"#e75263\", \"#e85362\", \"#e95462\", \"#ea5661\", \"#eb5760\", \"#ec5860\", \"#ed5a5f\", \"#ee5b5e\", \"#ef5d5e\", \"#f05f5e\", \"#f1605d\", \"#f2625d\", \"#f2645c\", \"#f3655c\", \"#f4675c\", \"#f4695c\", \"#f56b5c\", \"#f66c5c\", \"#f66e5c\", \"#f7705c\", \"#f7725c\", \"#f8745c\", \"#f8765c\", \"#f9785d\", \"#f9795d\", \"#f97b5d\", \"#fa7d5e\", \"#fa7f5e\", \"#fa815f\", \"#fb835f\", \"#fb8560\", \"#fb8761\", \"#fc8961\", \"#fc8a62\", \"#fc8c63\", \"#fc8e64\", \"#fc9065\", \"#fd9266\", \"#fd9467\", \"#fd9668\", \"#fd9869\", \"#fd9a6a\", \"#fd9b6b\", \"#fe9d6c\", \"#fe9f6d\", \"#fea16e\", \"#fea36f\", \"#fea571\", \"#fea772\", \"#fea973\", \"#feaa74\", \"#feac76\", \"#feae77\", \"#feb078\", \"#feb27a\", \"#feb47b\", \"#feb67c\", \"#feb77e\", \"#feb97f\", \"#febb81\", \"#febd82\", \"#febf84\", \"#fec185\", \"#fec287\", \"#fec488\", \"#fec68a\", \"#fec88c\", \"#feca8d\", \"#fecc8f\", \"#fecd90\", \"#fecf92\", \"#fed194\", \"#fed395\", \"#fed597\", \"#fed799\", \"#fed89a\", \"#fdda9c\", \"#fddc9e\", \"#fddea0\", \"#fde0a1\", \"#fde2a3\", \"#fde3a5\", \"#fde5a7\", \"#fde7a9\", \"#fde9aa\", \"#fdebac\", \"#fcecae\", \"#fceeb0\", \"#fcf0b2\", \"#fcf2b4\", \"#fcf4b6\", \"#fcf6b8\", \"#fcf7b9\", \"#fcf9bb\", \"#fcfbbd\", \"#fcfdbf\"],\n    \"plasma\": [\"#0d0887\", \"#100788\", \"#130789\", \"#16078a\", \"#19068c\", \"#1b068d\", \"#1d068e\", \"#20068f\", \"#220690\", \"#240691\", \"#260591\", \"#280592\", \"#2a0593\", \"#2c0594\", \"#2e0595\", \"#2f0596\", \"#310597\", \"#330597\", \"#350498\", \"#370499\", \"#38049a\", \"#3a049a\", \"#3c049b\", \"#3e049c\", \"#3f049c\", \"#41049d\", \"#43039e\", \"#44039e\", \"#46039f\", \"#48039f\", \"#4903a0\", \"#4b03a1\", \"#4c02a1\", \"#4e02a2\", \"#5002a2\", \"#5102a3\", \"#5302a3\", \"#5502a4\", \"#5601a4\", \"#5801a4\", \"#5901a5\", \"#5b01a5\", \"#5c01a6\", \"#5e01a6\", \"#6001a6\", \"#6100a7\", \"#6300a7\", \"#6400a7\", \"#6600a7\", \"#6700a8\", \"#6900a8\", \"#6a00a8\", \"#6c00a8\", \"#6e00a8\", \"#6f00a8\", \"#7100a8\", \"#7201a8\", \"#7401a8\", \"#7501a8\", \"#7701a8\", \"#7801a8\", \"#7a02a8\", \"#7b02a8\", \"#7d03a8\", \"#7e03a8\", \"#8004a8\", \"#8104a7\", \"#8305a7\", \"#8405a7\", \"#8606a6\", \"#8707a6\", \"#8808a6\", \"#8a09a5\", \"#8b0aa5\", \"#8d0ba5\", \"#8e0ca4\", \"#8f0da4\", \"#910ea3\", \"#920fa3\", \"#9410a2\", \"#9511a1\", \"#9613a1\", \"#9814a0\", \"#99159f\", \"#9a169f\", \"#9c179e\", \"#9d189d\", \"#9e199d\", \"#a01a9c\", \"#a11b9b\", \"#a21d9a\", \"#a31e9a\", \"#a51f99\", \"#a62098\", \"#a72197\", \"#a82296\", \"#aa2395\", \"#ab2494\", \"#ac2694\", \"#ad2793\", \"#ae2892\", \"#b02991\", \"#b12a90\", \"#b22b8f\", \"#b32c8e\", \"#b42e8d\", \"#b52f8c\", \"#b6308b\", \"#b7318a\", \"#b83289\", \"#ba3388\", \"#bb3488\", \"#bc3587\", \"#bd3786\", \"#be3885\", \"#bf3984\", \"#c03a83\", \"#c13b82\", \"#c23c81\", \"#c33d80\", \"#c43e7f\", \"#c5407e\", \"#c6417d\", \"#c7427c\", \"#c8437b\", \"#c9447a\", \"#ca457a\", \"#cb4679\", \"#cc4778\", \"#cc4977\", \"#cd4a76\", \"#ce4b75\", \"#cf4c74\", \"#d04d73\", \"#d14e72\", \"#d24f71\", \"#d35171\", \"#d45270\", \"#d5536f\", \"#d5546e\", \"#d6556d\", \"#d7566c\", \"#d8576b\", \"#d9586a\", \"#da5a6a\", \"#da5b69\", \"#db5c68\", \"#dc5d67\", \"#dd5e66\", \"#de5f65\", \"#de6164\", \"#df6263\", \"#e06363\", \"#e16462\", \"#e26561\", \"#e26660\", \"#e3685f\", \"#e4695e\", \"#e56a5d\", \"#e56b5d\", \"#e66c5c\", \"#e76e5b\", \"#e76f5a\", \"#e87059\", \"#e97158\", \"#e97257\", \"#ea7457\", \"#eb7556\", \"#eb7655\", \"#ec7754\", \"#ed7953\", \"#ed7a52\", \"#ee7b51\", \"#ef7c51\", \"#ef7e50\", \"#f07f4f\", \"#f0804e\", \"#f1814d\", \"#f1834c\", \"#f2844b\", \"#f3854b\", \"#f3874a\", \"#f48849\", \"#f48948\", \"#f58b47\", \"#f58c46\", \"#f68d45\", \"#f68f44\", \"#f79044\", \"#f79143\", \"#f79342\", \"#f89441\", \"#f89540\", \"#f9973f\", \"#f9983e\", \"#f99a3e\", \"#fa9b3d\", \"#fa9c3c\", \"#fa9e3b\", \"#fb9f3a\", \"#fba139\", \"#fba238\", \"#fca338\", \"#fca537\", \"#fca636\", \"#fca835\", \"#fca934\", \"#fdab33\", \"#fdac33\", \"#fdae32\", \"#fdaf31\", \"#fdb130\", \"#fdb22f\", \"#fdb42f\", \"#fdb52e\", \"#feb72d\", \"#feb82c\", \"#feba2c\", \"#febb2b\", \"#febd2a\", \"#febe2a\", \"#fec029\", \"#fdc229\", \"#fdc328\", \"#fdc527\", \"#fdc627\", \"#fdc827\", \"#fdca26\", \"#fdcb26\", \"#fccd25\", \"#fcce25\", \"#fcd025\", \"#fcd225\", \"#fbd324\", \"#fbd524\", \"#fbd724\", \"#fad824\", \"#fada24\", \"#f9dc24\", \"#f9dd25\", \"#f8df25\", \"#f8e125\", \"#f7e225\", \"#f7e425\", \"#f6e626\", \"#f6e826\", \"#f5e926\", \"#f5eb27\", \"#f4ed27\", \"#f3ee27\", \"#f3f027\", \"#f2f227\", \"#f1f426\", \"#f1f525\", \"#f0f724\", \"#f0f921\"],\n    \"viridis\": [\"#440154\", \"#440256\", \"#450457\", \"#450559\", \"#46075a\", \"#46085c\", \"#460a5d\", \"#460b5e\", \"#470d60\", \"#470e61\", \"#471063\", \"#471164\", \"#471365\", \"#481467\", \"#481668\", \"#481769\", \"#48186a\", \"#481a6c\", \"#481b6d\", \"#481c6e\", \"#481d6f\", \"#481f70\", \"#482071\", \"#482173\", \"#482374\", \"#482475\", \"#482576\", \"#482677\", \"#482878\", \"#482979\", \"#472a7a\", \"#472c7a\", \"#472d7b\", \"#472e7c\", \"#472f7d\", \"#46307e\", \"#46327e\", \"#46337f\", \"#463480\", \"#453581\", \"#453781\", \"#453882\", \"#443983\", \"#443a83\", \"#443b84\", \"#433d84\", \"#433e85\", \"#423f85\", \"#424086\", \"#424186\", \"#414287\", \"#414487\", \"#404588\", \"#404688\", \"#3f4788\", \"#3f4889\", \"#3e4989\", \"#3e4a89\", \"#3e4c8a\", \"#3d4d8a\", \"#3d4e8a\", \"#3c4f8a\", \"#3c508b\", \"#3b518b\", \"#3b528b\", \"#3a538b\", \"#3a548c\", \"#39558c\", \"#39568c\", \"#38588c\", \"#38598c\", \"#375a8c\", \"#375b8d\", \"#365c8d\", \"#365d8d\", \"#355e8d\", \"#355f8d\", \"#34608d\", \"#34618d\", \"#33628d\", \"#33638d\", \"#32648e\", \"#32658e\", \"#31668e\", \"#31678e\", \"#31688e\", \"#30698e\", \"#306a8e\", \"#2f6b8e\", \"#2f6c8e\", \"#2e6d8e\", \"#2e6e8e\", \"#2e6f8e\", \"#2d708e\", \"#2d718e\", \"#2c718e\", \"#2c728e\", \"#2c738e\", \"#2b748e\", \"#2b758e\", \"#2a768e\", \"#2a778e\", \"#2a788e\", \"#29798e\", \"#297a8e\", \"#297b8e\", \"#287c8e\", \"#287d8e\", \"#277e8e\", \"#277f8e\", \"#27808e\", \"#26818e\", \"#26828e\", \"#26828e\", \"#25838e\", \"#25848e\", \"#25858e\", \"#24868e\", \"#24878e\", \"#23888e\", \"#23898e\", \"#238a8d\", \"#228b8d\", \"#228c8d\", \"#228d8d\", \"#218e8d\", \"#218f8d\", \"#21908d\", \"#21918c\", \"#20928c\", \"#20928c\", \"#20938c\", \"#1f948c\", \"#1f958b\", \"#1f968b\", \"#1f978b\", \"#1f988b\", \"#1f998a\", \"#1f9a8a\", \"#1e9b8a\", \"#1e9c89\", \"#1e9d89\", \"#1f9e89\", \"#1f9f88\", \"#1fa088\", \"#1fa188\", \"#1fa187\", \"#1fa287\", \"#20a386\", \"#20a486\", \"#21a585\", \"#21a685\", \"#22a785\", \"#22a884\", \"#23a983\", \"#24aa83\", \"#25ab82\", \"#25ac82\", \"#26ad81\", \"#27ad81\", \"#28ae80\", \"#29af7f\", \"#2ab07f\", \"#2cb17e\", \"#2db27d\", \"#2eb37c\", \"#2fb47c\", \"#31b57b\", \"#32b67a\", \"#34b679\", \"#35b779\", \"#37b878\", \"#38b977\", \"#3aba76\", \"#3bbb75\", \"#3dbc74\", \"#3fbc73\", \"#40bd72\", \"#42be71\", \"#44bf70\", \"#46c06f\", \"#48c16e\", \"#4ac16d\", \"#4cc26c\", \"#4ec36b\", \"#50c46a\", \"#52c569\", \"#54c568\", \"#56c667\", \"#58c765\", \"#5ac864\", \"#5cc863\", \"#5ec962\", \"#60ca60\", \"#63cb5f\", \"#65cb5e\", \"#67cc5c\", \"#69cd5b\", \"#6ccd5a\", \"#6ece58\", \"#70cf57\", \"#73d056\", \"#75d054\", \"#77d153\", \"#7ad151\", \"#7cd250\", \"#7fd34e\", \"#81d34d\", \"#84d44b\", \"#86d549\", \"#89d548\", \"#8bd646\", \"#8ed645\", \"#90d743\", \"#93d741\", \"#95d840\", \"#98d83e\", \"#9bd93c\", \"#9dd93b\", \"#a0da39\", \"#a2da37\", \"#a5db36\", \"#a8db34\", \"#aadc32\", \"#addc30\", \"#b0dd2f\", \"#b2dd2d\", \"#b5de2b\", \"#b8de29\", \"#bade28\", \"#bddf26\", \"#c0df25\", \"#c2df23\", \"#c5e021\", \"#c8e020\", \"#cae11f\", \"#cde11d\", \"#d0e11c\", \"#d2e21b\", \"#d5e21a\", \"#d8e219\", \"#dae319\", \"#dde318\", \"#dfe318\", \"#e2e418\", \"#e5e419\", \"#e7e419\", \"#eae51a\", \"#ece51b\", \"#efe51c\", \"#f1e51d\", \"#f4e61e\", \"#f6e620\", \"#f8e621\", \"#fbe723\", \"#fde725\"]\n};\n","export const colorhex = {\n    \"aliceblue\": \"#f0f8ff\",\n    \"antiquewhite\": \"#faebd7\",\n    \"aqua\": \"#00ffff\",\n    \"aquamarine\": \"#7fffd4\",\n    \"azure\": \"#f0ffff\",\n    \"beige\": \"#f5f5dc\",\n    \"bisque\": \"#ffe4c4\",\n    \"black\": \"#000000\",\n    \"blanchedalmond\": \"#ffebcd\",\n    \"blue\": \"#0000ff\",\n    \"blueviolet\": \"#8a2be2\",\n    \"brown\": \"#a52a2a\",\n    \"burlywood\": \"#deb887\",\n    \"cadetblue\": \"#5f9ea0\",\n    \"chartreuse\": \"#7fff00\",\n    \"chocolate\": \"#d2691e\",\n    \"coral\": \"#ff7f50\",\n    \"cornflowerblue\": \"#6495ed\",\n    \"cornsilk\": \"#fff8dc\",\n    \"crimson\": \"#dc143c\",\n    \"cyan\": \"#00ffff\",\n    \"darkblue\": \"#00008b\",\n    \"darkcyan\": \"#008b8b\",\n    \"darkgoldenrod\": \"#b8860b\",\n    \"darkgray\": \"#a9a9a9\",\n    \"darkgreen\": \"#006400\",\n    \"darkkhaki\": \"#bdb76b\",\n    \"darkmagenta\": \"#8b008b\",\n    \"darkolivegreen\": \"#556b2f\",\n    \"darkorange\": \"#ff8c00\",\n    \"darkorchid\": \"#9932cc\",\n    \"darkred\": \"#8b0000\",\n    \"darksalmon\": \"#e9967a\",\n    \"darkseagreen\": \"#8fbc8f\",\n    \"darkslateblue\": \"#483d8b\",\n    \"darkslategray\": \"#2f4f4f\",\n    \"darkturquoise\": \"#00ced1\",\n    \"darkviolet\": \"#9400d3\",\n    \"deeppink\": \"#ff1493\",\n    \"deepskyblue\": \"#00bfff\",\n    \"dimgray\": \"#696969\",\n    \"dodgerblue\": \"#1e90ff\",\n    \"firebrick\": \"#b22222\",\n    \"floralwhite\": \"#fffaf0\",\n    \"forestgreen\": \"#228b22\",\n    \"fuchsia\": \"#ff00ff\",\n    \"gainsboro\": \"#dcdcdc\",\n    \"ghostwhite\": \"#f8f8ff\",\n    \"gold\": \"#ffd700\",\n    \"goldenrod\": \"#daa520\",\n    \"gray\": \"#808080\",\n    \"green\": \"#008000\",\n    \"greenyellow\": \"#adff2f\",\n    \"honeydew\": \"#f0fff0\",\n    \"hotpink\": \"#ff69b4\",\n    \"indianred \": \"#cd5c5c\",\n    \"indigo\": \"#4b0082\",\n    \"ivory\": \"#fffff0\",\n    \"khaki\": \"#f0e68c\",\n    \"lavender\": \"#e6e6fa\",\n    \"lavenderblush\": \"#fff0f5\",\n    \"lawngreen\": \"#7cfc00\",\n    \"lemonchiffon\": \"#fffacd\",\n    \"lightblue\": \"#add8e6\",\n    \"lightcoral\": \"#f08080\",\n    \"lightcyan\": \"#e0ffff\",\n    \"lightgoldenrodyellow\": \"#fafad2\",\n    \"lightgrey\": \"#d3d3d3\",\n    \"lightgreen\": \"#90ee90\",\n    \"lightpink\": \"#ffb6c1\",\n    \"lightsalmon\": \"#ffa07a\",\n    \"lightseagreen\": \"#20b2aa\",\n    \"lightskyblue\": \"#87cefa\",\n    \"lightslategray\": \"#778899\",\n    \"lightsteelblue\": \"#b0c4de\",\n    \"lightyellow\": \"#ffffe0\",\n    \"lime\": \"#00ff00\",\n    \"limegreen\": \"#32cd32\",\n    \"linen\": \"#faf0e6\",\n    \"magenta\": \"#ff00ff\",\n    \"maroon\": \"#800000\",\n    \"mediumaquamarine\": \"#66cdaa\",\n    \"mediumblue\": \"#0000cd\",\n    \"mediumorchid\": \"#ba55d3\",\n    \"mediumpurple\": \"#9370d8\",\n    \"mediumseagreen\": \"#3cb371\",\n    \"mediumslateblue\": \"#7b68ee\",\n    \"mediumspringgreen\": \"#00fa9a\",\n    \"mediumturquoise\": \"#48d1cc\",\n    \"mediumvioletred\": \"#c71585\",\n    \"midnightblue\": \"#191970\",\n    \"mintcream\": \"#f5fffa\",\n    \"mistyrose\": \"#ffe4e1\",\n    \"moccasin\": \"#ffe4b5\",\n    \"navajowhite\": \"#ffdead\",\n    \"navy\": \"#000080\",\n    \"oldlace\": \"#fdf5e6\",\n    \"olive\": \"#808000\",\n    \"olivedrab\": \"#6b8e23\",\n    \"orange\": \"#ffa500\",\n    \"orangered\": \"#ff4500\",\n    \"orchid\": \"#da70d6\",\n    \"palegoldenrod\": \"#eee8aa\",\n    \"palegreen\": \"#98fb98\",\n    \"paleturquoise\": \"#afeeee\",\n    \"palevioletred\": \"#d87093\",\n    \"papayawhip\": \"#ffefd5\",\n    \"peachpuff\": \"#ffdab9\",\n    \"peru\": \"#cd853f\",\n    \"pink\": \"#ffc0cb\",\n    \"plum\": \"#dda0dd\",\n    \"powderblue\": \"#b0e0e6\",\n    \"purple\": \"#800080\",\n    \"red\": \"#ff0000\",\n    \"rosybrown\": \"#bc8f8f\",\n    \"royalblue\": \"#4169e1\",\n    \"saddlebrown\": \"#8b4513\",\n    \"salmon\": \"#fa8072\",\n    \"sandybrown\": \"#f4a460\",\n    \"seagreen\": \"#2e8b57\",\n    \"seashell\": \"#fff5ee\",\n    \"sienna\": \"#a0522d\",\n    \"silver\": \"#c0c0c0\",\n    \"skyblue\": \"#87ceeb\",\n    \"slateblue\": \"#6a5acd\",\n    \"slategray\": \"#708090\",\n    \"snow\": \"#fffafa\",\n    \"springgreen\": \"#00ff7f\",\n    \"steelblue\": \"#4682b4\",\n    \"tan\": \"#d2b48c\",\n    \"teal\": \"#008080\",\n    \"thistle\": \"#d8bfd8\",\n    \"tomato\": \"#ff6347\",\n    \"turquoise\": \"#40e0d0\",\n    \"violet\": \"#ee82ee\",\n    \"wheat\": \"#f5deb3\",\n    \"white\": \"#ffffff\",\n    \"whitesmoke\": \"#f5f5f5\",\n    \"yellow\": \"#ffff00\",\n    \"yellowgreen\": \"#9acd32\"\n};\n","import {gradients as colorSchemes} from './gradients';\nimport {colorhex} from './colorhex';\n\nconst colorResolution = 256;\nconst colorSetMax = 32;\nconst defaultColorScheme = colorSchemes['viridis'];\nconst defaultColorSet = [\n    \"steelblue\",\n    \"red\",\n    \"teal\",\n    \"orange\",\n    \"purple\"\n];\n\nlet gradient = defaultColorScheme;\nlet colorset = defaultColorSet;\n\nexport default function color($p) {\n    let colorManager = {};\n\n    $p.uniform('uColorMode',       'int',   0) // 0=categorical, 1=numeric\n        .uniform('uColorCount',    'int',   colorSetMax)\n        .uniform('uColorSet',      'vec3',  setColorTable(colorset))\n        // .uniform('uColorGradient', 'vec4', setColorScheme(gradient))\n        .texture('tColorGradient', 'float', setColorScheme(gradient),  [colorResolution, 1], 'rgba')\n        .subroutine('mapColorRGB', 'vec3',  mapColorRGB);\n\n    colorManager.updateScheme = function(newColors) {\n        if(typeof newColors == 'string' && colorSchemes.hasOwnProperty(newColors)) {\n            gradient = colorSchemes[newColors];\n        } else if(Array.isArray(newColors)) {\n            gradient = newColors;\n        }\n        let colorGradient = setColorScheme(gradient)\n        $p.texture.tColorGradient = colorGradient;\n        // $p.texture.update('tColorGradient', colorGradient, [0, 0]);\n    }\n\n    colorManager.updateTable = function(colors) {\n        colorset = colors;\n        $p.uniform.uColorSet.data = setColorTable(colors);\n    }\n\n    colorManager.colorTable = defaultColorSet.map(function(t){\n        return rgba2hex(t);\n    });\n\n    colorManager.getColors = function() {\n        if($p.uniform.uColorMode == 0) {\n            return colorset;\n        } else {\n            return gradient;\n        }\n    }\n\n    colorManager.updateColors = function(colors, colorMode) {\n        \n        colorManager.updateScheme(colors || defaultColorScheme);\n        colorManager.updateTable(colors || defaultColorSet);\n        if(Number.isInteger(colorMode)) {\n            $p.uniform.uColorMode.data = colorMode;\n        }\n    }\n\n    colorManager.rgb = rgb;\n    colorManager.rgba = rgba;\n\n    return colorManager;\n}\n\nfunction colorStrToHex(colorStr) {\n    if (typeof colorhex[colorStr.toLowerCase()] != 'undefined') {\n        return colorhex[colorStr.toLowerCase()];\n    } else {\n        return false;\n    }\n}\n\nfunction rgb(hexStr) {\n    var hex, r, g, b;\n\n    if(hexStr.slice(0,1) == '#') {\n        hex = hexStr.slice(1);\n    } else {\n        hex = colorStrToHex(hexStr).slice(1);\n    }\n\n    r = parseInt(hex.substring(0,2), 16) / 255;\n    g = parseInt(hex.substring(2,4), 16) / 255;\n    b = parseInt(hex.substring(4,6), 16) / 255;\n    return [r, g, b];\n}\n\nfunction rgba(hexStr, alpha = 1.0) {\n    let c = rgb(hexStr);\n    return [c[0], c[1], c[2], alpha];\n}\n\nfunction rgba2hex(c) {\n    var r = c[0],\n        g = c[1],\n        b = c[2],\n        a = 1;\n    if (r > 255 || g > 255 || b > 255 || a > 255) {\n        throw 'Invalid color component';\n    }\n    return (256 + r).toString(16).substr(1) +((1 << 24) + (g << 16) | (b << 8) | a).toString(16).substr(1);\n}\n\nfunction setColorScheme(colors) {\n    var cc = colors.length - 1,\n        step = (cc >= 0) ? colorResolution / (cc+1) : 1,\n        colorGradient = new Float32Array(colorResolution * 4);\n\n    colors.push(colors[cc]);\n    for(var i = 0; i < cc+1; i++) {\n        var c0 = rgba(colors[i]),\n            c1 = rgba(colors[i+1]),\n            offset = Math.floor(i * step)*4;\n\n        for(var x = 0; x < step; x++) {\n            var xi = x / (step);\n            colorGradient[offset+x*4]   = c0[0] + (c1[0] - c0[0]) * xi;\n            colorGradient[offset+x*4+1] = c0[1] + (c1[1] - c0[1]) * xi;\n            colorGradient[offset+x*4+2] = c0[2] + (c1[2] - c0[2]) * xi;\n            colorGradient[offset+x*4+3] = c0[3] + (c1[3] - c0[3]) * xi;\n        }\n    }\n    colors.pop();\n    return colorGradient;\n}\n\nfunction setColorTable(colors) {\n    let colorTable = new Float32Array(colorSetMax * 3);\n    colors.forEach(function(c, i){\n        let colorValue = rgb(c);\n        colorTable[i*3] = colorValue[0];\n        colorTable[i*3+1] = colorValue[1];\n        colorTable[i*3+2] = colorValue[2];\n    });\n    return colorTable;\n}\n\nfunction mapColorRGB({fieldId = 'int', value = 'float'}) {\n    var d = new Vec2();\n    var colorRGB = new Vec3();\n    var intValue = new Int();\n    if(fieldId == -1) {\n        colorRGB = this.uDefaultColor;\n    } else {\n        if(this.uColorMode == 1) {\n            colorRGB = texture2D(this.tColorGradient, vec2(value, 1.0)).rgb;\n        } else {\n            d = this.uVisDomains[fieldId];\n            intValue = int(value * (d.y - d.x) + d.x + 0.5); //plus 0.5 for rounding\n\n            if(intValue >= this.uColorCount) {\n                colorRGB = vec3(0.0, 0.0, 0.0);\n            } else {\n                colorRGB = this.uColorSet[intValue];\n            }\n        }\n    }\n    return colorRGB;\n}\n","export const EncodingChannels = ['x', 'y', 'color', 'opacity', 'width', 'height', 'size']\n\nexport function encode($p, vmap, colorManager) {\n    let opacity = vmap.opacity || vmap.alpha;\n    let vmapIndex = new Int32Array(EncodingChannels.length);\n    let scaleExponents = new Float32Array(EncodingChannels.length).fill(1.0);\n    \n    EncodingChannels.forEach((channel, channelIndex) => {\n        let encoding = vmap[channel];\n        if (typeof(encoding) == 'object' && encoding.hasOwnProperty('field')) {\n            if(encoding.exponent !== 1.0) {\n                scaleExponents[channelIndex] = encoding.exponent;\n            }\n            encoding = vmap[channel].field;\n        }\n        vmapIndex[channelIndex] = $p.fields.indexOf(encoding);\n    })\n    $p.uniform.uVisualEncodings.data = vmapIndex;\n    $p.uniform.uScaleExponents.data = scaleExponents;\n    $p.uniform.uDefaultAlpha.data = 1.0;\n    if(vmapIndex[2] === -1) {\n        if (typeof(vmap.color) === 'string'){\n            if(vmap.color === 'auto') {\n                $p.revealDensity = true;\n                $p.uniform.uRevealMode.data = 1;\n            } else {\n                $p.uniform.uDefaultColor.data = colorManager.rgb(vmap.color);\n            }\n        } else {\n            if(typeof(vmap.size) == 'number') {\n                $p.uniform.uMarkSize.data = vmap.size;\n            }\n        }\n    } else {\n        if($p.strLists.hasOwnProperty($p.fields[vmapIndex[2]])) {\n            $p.uniform.uColorMode.data = 0;\n        } else {\n            $p.uniform.uColorMode.data = 1;\n        }\n    }\n\n    if(typeof(opacity) === 'number') {\n        $p.uniform.uDefaultAlpha.data = opacity;\n    } else if(vmapIndex[3] === -1 &&\n        typeof(opacity) == 'string' &&\n        opacity == 'auto'\n    ) {\n        $p.revealDensity = true;\n        $p.uniform.uRevealMode.data = 0;\n        // $p.uniform.uDefaultAlpha.data = 1.0;\n    }\n\n    if(vmapIndex[6] === -1 && typeof(vmap.size) == 'number') {\n        $p.uniform.uMarkSize.data = vmap.size;\n    }\n\n    let viewSetting = {scale: {}, histogram: {}};\n    let isRect = (['rect', 'bar'].indexOf(vmap.mark) !== -1);\n    let markSpace = [0, 0];\n    let isXYCategorical = [0, 0];\n    if(vmapIndex[0] > -1) {\n        let len = $p.fieldWidths[vmapIndex[0]];\n        let ext = $p.fieldDomains[vmapIndex[0]];\n        if($p.strLists.hasOwnProperty(vmap.x)){\n            viewSetting.scale.x = 'categorical';\n            viewSetting.domainX = new Array(len).fill(0).map(\n                (d,i) => $p.strLists[vmap.x][i]\n            );\n            isXYCategorical[0] = 1;\n         } else if (isRect) {\n            viewSetting.scale.x = 'ordinal';\n            viewSetting.domainX = new Array(len).fill(0).map((d,i) => ext[0] + i);\n         }\n         markSpace[0] = 0.02;\n\n    }\n    if(vmapIndex[1] > -1) {\n        let len = $p.fieldWidths[vmapIndex[1]];\n        let ext = $p.fieldDomains[vmapIndex[1]];\n\n        if($p.strLists.hasOwnProperty(vmap.y)){\n            viewSetting.scale.y = 'categorical';\n            viewSetting.domainY = new Array(len).fill(0).map(\n                (d,i)=>$p.strLists[vmap.y][i]\n            );\n            isXYCategorical[1] = 1;\n        } else if (isRect) {\n            viewSetting.scale.y = 'ordinal';\n            viewSetting.domainY = new Array(len).fill(0).map((d,i)=>ext[0] + i);\n        }\n        markSpace[1] = 0.1;\n    }\n\n    if(vmapIndex[0] > -1 && vmapIndex[1] > -1) {\n        markSpace = [0, 0];\n    }\n    let dims = ['x', 'y'];\n    for(let dim of dims) {\n        if($p.histograms.indexOf(vmap[dim]) !== -1) {\n            let histMin = $p.intervals[vmap[dim]].min;\n            let histMax = $p.intervals[vmap[dim]].max;\n            let histIntv = $p.intervals[vmap[dim]].interval;\n            let histBin = (histMax - histMin) / histIntv + 1;\n            let d = (dim == 'x') ? 'domainX' : 'domainY';\n            viewSetting.histogram[dim] = true;\n            viewSetting[d] = new Array(histBin).fill(histMin).map((h, i) => h + i*histIntv);\n            // markSpace[dims.indexOf(dim)] = 0.01;\n        }\n    }\n    $p.uniform.uMarkSpace.data = markSpace;\n    $p.uniform.uIsXYCategorical.data = isXYCategorical;\n\n    // if(!$p._update) {\n        if(!vmap.width && vmap.x) {\n            $p.uniform.uDefaultWidth.data = 1.0 / ($p.fieldWidths[$p.fields.indexOf(vmap.x)]);\n        } else if(vmapIndex[4] === -1 && typeof(vmap.width) == 'number') {\n            $p.uniform.uDefaultWidth.data = vmap.width / width;\n        }\n\n        if(!vmap.height && vmap.y) {\n            $p.uniform.uDefaultHeight.data = 1.0 / ($p.fieldWidths[$p.fields.indexOf(vmap.y)]);\n        } else if(vmapIndex[5] === -1 && typeof(vmap.width) == 'number') {\n            $p.uniform.uDefaultHeight.data = vmap.height / height;\n        }\n    // }\n    return viewSetting;\n}\n","export default function ($p, vmap, viewIndex, domains) {\n  let chart = $p.views[viewIndex];\n  let width = chart.width;\n  let height = chart.height;\n  let padding = chart.padding;\n\n  $p.extensions.forEach((ext) => {\n    if (ext.condition.call(null, vmap)) {\n      let dataDomains = {};\n      Object.keys(domains).forEach(f => {\n        if ($p.uniqueValues.hasOwnProperty(f)) {\n          let last = $p.uniqueValues[f].length - 1;\n          dataDomains[f] = [$p.uniqueValues[f][0], $p.uniqueValues[f][last]];\n        } else if($p.strLists.hasOwnProperty(f)) {\n          dataDomains[f] = $p.strLists[f];\n        } else {\n          dataDomains[f] = domains[f];\n        }\n      })\n\n      $p.skipRender = ext.skipDefault;\n      let data = {\n        json: null,\n        array: null,\n        texture: null,\n        vmap: vmap,\n        fields: $p.fields,\n        schema: $p.dataSchema,\n        domains: dataDomains\n      };\n\n      let view = Object.assign({}, chart);\n      view.width = width - padding.left - padding.right;\n      view.height = height - padding.top - padding.bottom;\n      view.encodings = vmap;\n      view.svg = chart.chart.svg.svg;\n      view.canvas = $p.canvas;\n\n      if (ext.exportData) {\n        data.json = $p.exportResult({format: 'row', outputTag: vmap.in});\n      }\n\n      if (typeof ext.onready === 'function') {\n        ext.onready.call($p, data, view);\n      }\n\n      let execution = (ext.type == 'class')\n        ? function (data, view) {\n          chart.plot = new ext.function(data, view)\n          return chart.plot;\n        } \n        : ext.function;\n\n      if (ext.restartOnUpdate) {\n        execution.call(ext, data, view);\n      } else {\n        if (!$p._update) {\n          execution.call(ext, data, view);\n        }\n      }\n    }\n  })\n}","export default {\n    visMap({\n        channelId = 'int',\n        addrX = 'float',\n        addrY = 'float',\n        indexedValue0 = 'float',\n        indexedValue1 = 'float',\n        defaultValue = 'float'\n    }) {\n        var value;\n        var d = new Vec2();\n        var fieldId = new Int();\n        fieldId = this.uVisualEncodings[channelId];\n        if (fieldId > -1) {\n            if (fieldId >= this.uIndexCount) {\n                value = this.getNonIndexedData(fieldId, addrX, addrY);\n            } else if (fieldId < this.uIndexCount) {\n                value = (fieldId == 0) ? indexedValue0 : indexedValue1;\n            }\n            d = this.uVisDomains[fieldId];\n\n            value = (value - d.x) / (d.y - d.x);\n            if (this.uScaleExponents[channelId] != 0.0) {\n                value = pow(value, this.uScaleExponents[channelId]);\n            }\n\n            if (this.uGeoProjection == 1 && channelId == 1) {\n                value = log(tan((value / 90.0 + 1.0) * 3.14159 / 4.0)) * 180.0 / 3.14159;\n            }\n        } else {\n            value = defaultValue;\n        }\n\n        return value;\n    },\n\n    getEncodingByFieldId({\n        fieldId = 'int',\n        addrX = 'float',\n        addrY = 'float'\n    }) {\n        var value;\n        if (fieldId >= this.uIndexCount) {\n            value = this.getNonIndexedData(fieldId, addrX, addrY);\n        } else if (fieldId < this.uIndexCount) {\n            value = (fieldId == 0) ? addrX : addrY;\n        }\n        var d = new Vec2();\n        d = this.uVisDomains[fieldId];\n        value = (value - d.x) / (d.y - d.x);\n        return value;\n    }\n}","function setAttr(elem, attr) {\n    for( var key in attr ){\n        var value = attr[key],\n            c = key.match(/[A-Z]/);\n        if(c !== null) key = key.replace(c[0], \"-\"+c[0].toLowerCase())\n        elem.setAttribute(key, value);\n    }\n}\n\nfunction setStyle(elem, style) {\n    for( var key in style ){\n        var value = style[key],\n            c = key.match(/[A-Z]/);\n        if(c !== null) key = key.replace(c[0], \"-\"+c[0].toLowerCase())\n        elem.style[key] = value;\n    }\n}\n\nexport default function Svg(arg){\n\n    var self = (this instanceof Svg) ? this: {},\n        option = arg || {},\n        type = option.type || 'svg',\n        svgNS = 'http://www.w3.org/2000/svg',\n        svg = document.createElementNS(svgNS, type),\n        width = option.width || 400,\n        height = option.height || 300,\n        parent = option.parent || option.container || this.parent,\n        attr = option.attr || {},\n        style = option.style || {},\n        padding = option.padding || {left: 0, right: 0, top: 0, bottom: 0};\n\n    if(type === 'svg') {\n        var defaultAttr = {\n            width   : width + padding.left + padding.right,\n            height  : height + padding.top + padding.bottom,\n            viewBox : [0, 0, width + padding.left + padding.right , height + padding.top + padding.bottom].join(' '),\n            preserveAspectRatio: 'none'\n        };\n        setAttr(svg, defaultAttr);\n    }\n\n    self.innerWidth = function() {\n        return width;\n    }\n\n    self.innerHeight = function() {\n        return height;\n    }\n\n    self.padding = function() {\n        return padding;\n    }\n\n    if(style) setStyle(svg, style);\n    if(attr) setAttr(svg, attr);\n\n    if(parent) {\n        parent = (typeof parent == \"string\") ? document.getElementById(parent) : parent;\n        parent.appendChild(svg);\n    }\n\n    self.svg = svg;\n    self.parent = parent;\n\n    self.node = () => svg;\n\n    if(self instanceof Svg) {\n        publicMethods(Svg.prototype);\n    } else {\n        publicMethods(self);\n    }\n\n    return self;\n};\n\nfunction publicMethods(context) {\n    context.append = function(type, attr, style) {\n        var options = {};\n        options.parent = this.svg;\n        options.type = type;\n        options.attr = attr;\n        options.style = style;\n        return new Svg(options);\n    };\n\n    context.remove = function() {\n        if(this.svg && this.svg.parentNode === this.parent){\n            this.parent.removeChild(this.svg);\n        }\n    };\n\n    context.attr = function(a, v) {\n        if(typeof(a) == \"object\")\n            setAttr(this.svg, a);\n        else\n            this.svg.setAttribute(a, v);\n\n        return this;\n    }\n\n    context.Attr =  function(a, v) {\n        setAttr(this.svg, a);\n        return this;\n    }\n\n    context.Style =  function(a, v) {\n        setStyle(this.svg, a);\n        return this;\n    }\n\n    context.style = function(a, v) {\n        if(typeof(a) == \"object\")\n            setStyle(this.svg, a);\n        else\n            this.svg.style[a] = v;\n\n        return this;\n    }\n\n    context.css = context.style;\n\n    context.text = function(str){\n        this.svg.appendChild(document.createTextNode(str));\n        return this;\n    };\n\n    context.translate = function(x, y) {\n        var p = this.svg.getAttribute(\"transform\") || \"\";\n        this.svg.setAttribute(\"transform\", p + \"translate(\" + [x,y].join(\",\") + \") \");\n        return this;\n    };\n\n    context.on = function(event, callback) {\n        this.svg.addEventListner(event, callback);\n        return this;\n    }\n\n    return context;\n}\n","import Scale from './scale';\n\nexport default function axis(arg) {\n\n    var option = arg || {},\n        svg = option.container || option.parent,\n        dim = option.dim || \"x\",\n        color = option.color || \"#000\",\n        position = option.position || 0,\n        align = option.align || \"\",\n        scale = option.scale || \"linear\",\n        exponent = option.exponent || 1,\n        metric = option.metric || null,\n        domain = option.domain || [0, 1],\n        width = option.width || svg.innerWidth(),\n        height = option.height || svg.innerHeight(),\n        padding = option.padding || svg.padding() || {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        range = option.range || (dim == \"x\") ? [0, width] : [height, 0],\n        styles = {\n            stroke: color,\n            'stroke-width': 1\n        },\n        ticks = option.ticks,\n        tickLength = option.tickLength || 6,\n        tickPosition = option.tickPosition || [0, 0],\n        tickInterval = option.tickInterval || \"auto\",\n        tickAlign = option.tickAlign || \"center\",\n        skipLast = option.skipLast || false,\n        tickFormat = option.tickFormat || null,\n        grid = option.grid,\n        format = option.format || function (_) {return _;},\n        visable = option.visable || true,\n        domainIntervals,\n        labelPos = null,\n        labelAngle = option.labelAngle || 0,\n        X = [],\n        Y = [];\n\n    if (typeof (ticks) != \"number\") {\n        ticks = (dim == \"x\") ? Math.ceil(width / 50) : Math.ceil(height / 50);\n    }\n    var tickLabelAlign = option.tickLabelAlign || \"end\";\n    switch (align) {\n        case \"left\" || \"center\":\n            labelPos = option.labelPos || {\n                x: -tickLength / 2,\n                y: -5\n            };\n            tickLabelAlign = option.tickLabelAlign || \"end\";\n            break;\n        case \"right\":\n            labelPos = option.labelPos || {\n                x: tickLength,\n                y: -5\n            };\n            tickLabelAlign = option.tickLabelAlign || \"start\";\n            if (!tickPosition) tickPosition = [tickLength / 2, 0];\n            break;\n        case \"top\":\n            labelPos = {\n                x: 0,\n                y: 0\n            };\n            tickLabelAlign = \"middle\";\n            if (!tickPosition) tickPosition = [0, -tickLength];\n            break;\n        case \"bottom\" || \"middle\":\n            labelPos = option.labelPos || {\n                x: 0,\n                y: -tickLength * 3\n            };\n            tickLabelAlign = option.tickLabelAlign || \"middle\";\n            break;\n        default:\n            labelPos = option.labelPos || option.labelPosition || {\n                x: 0,\n                y: 0\n            };\n            break;\n    }\n\n    function getTickInterval() {\n        var vDomain = Math.abs(domain[1] - domain[0]),\n            intv = vDomain / ticks,\n            pow = Math.ceil(Math.log10(intv)),\n            intv = intv / Math.pow(10, pow);\n\n        if (intv > 0.2 && intv <= 0.25) {\n            intv = 0.25;\n        } else if (intv > 0.7 && intv <= 0.75) {\n            intv = 0.75;\n        } else {\n            intv = Math.ceil(intv * 10) / 10;\n        }\n        return intv * Math.pow(10, pow);\n    }\n\n    if (scale == \"categorical\" || scale == \"ordinal\") {\n        domainIntervals = function () {\n            if(domain.length > 20) {\n                var dstep = Math.floor(domain.length / 20);\n                return domain.filter( (d,di) => di % dstep === 0)\n            }\n            return domain;\n        };\n    } else {\n        var intv;\n\n        if (tickInterval == \"auto\") {\n            intv = getTickInterval();\n\n        } else {\n            if (typeof (tickInterval) == \"number\") {\n                intv = tickInterval;\n            } else {\n                // intv = Math.abs(domain[1] - domain[0]) / ticks;\n                intv = getTickInterval();\n                domain[0] = intv * Math.floor(domain[0] / intv);\n                domain[1] = intv * Math.ceil(domain[1] / intv);\n            }\n        }\n\n        domainIntervals = function () {\n            var di = [];\n\n            if (domain[0] > domain[1]) {\n                domain[0] += intv;\n                for (var i = domain[0]; i > domain[1]; i = i - intv)\n                    di.push(i);\n            } else {\n                for (var i = domain[0]; i < domain[1]; i = i + intv)\n                    di.push(i);\n            }\n\n            if (di[di.length - 1] != domain[1] && !isNaN(domain[1]) && !skipLast) {\n\n                if ((domain[1] - di[di.length - 1]) < 0.4 * intv)\n                    di[di.length - 1] = domain[1];\n                else\n                    di.push(domain[1]);\n            }\n            return di;\n        }\n    }\n\n    if (metric === null) {\n\n        var scaleOptions = {\n            align: tickAlign,\n            type: scale,\n            domain: domain,\n            range: range\n        };\n\n        if (scale == \"power\") {\n            scaleOptions.exponent = exponent;\n        }\n\n        metric = Scale(scaleOptions)\n    } else {\n        domain = metric.domain();\n    }\n\n    var axis = svg.append(\"g\");\n\n    if (dim == 'x') {\n        if (!position && align) {\n            position = [0, height / 2, height];\n            position = position[[\"top\", \"middle\", \"bottom\"].indexOf(align)];\n        }\n        Y[0] = Y[1] = position;\n        X[0] = 0;\n        X[1] = Math.abs(range[1] - range[0]);\n    } else {\n        if (!position && align) {\n            position = [0, width / 2, width];\n            position = position[[\"left\", \"center\", \"right\"].indexOf(align)];\n        }\n        X[0] = X[1] = position;\n        Y[0] = 0;\n        Y[1] = Math.abs(range[1] - range[0]);\n    }\n\n    metric.show = metric.axis = function () {\n        axis.append(\"g\")\n            .append(\"line\")\n            .Attr({\n                x1: X[0],\n                x2: X[1],\n                y1: Y[0],\n                y2: Y[1]\n            })\n            .Style(styles);\n\n        var di = domainIntervals();\n\n        for (var i = 0; i < di.length; i++) {\n            var x1, x2, y1, y2;\n            if (dim == 'x') {\n                x1 = x2 = metric(di[i]) + tickPosition[0];\n                y1 = position + tickPosition[1] + tickLength;\n                y2 = y1 - tickLength;\n            } else {\n                y1 = y2 = metric(di[i]) + tickPosition[1];\n                x1 = position + tickPosition[0];\n                x2 = x1 - tickLength;\n            }\n\n            var svgTicks = axis.append(\"g\");\n            svgTicks.append(\"line\", {\n                x1: x1,\n                x2: x2,\n                y1: y1,\n                y2: y2,\n            }, styles);\n\n\n            // if (dim == 'x') tickLabelAlign = \"middle\";\n            // if (dim == 'x' && labelAngle) tickLabelAlign = \"end\";\n\n            var tickLabel = svgTicks.append(\"text\")\n                .Attr({\n                    x: x2 + labelPos.x,\n                    y: y2 - labelPos.y,\n                    class: \"p4-axis-label\",\n                    \"font-size\": \"0.9em\",\n                    textAnchor: tickLabelAlign\n                });\n            if (labelAngle) tickLabel.attr(\"transform\", \"rotate(\" + [labelAngle, (x2 + labelPos.x), (y2 - labelPos.y)].join(\",\") + \")\");\n\n            var labelText = (typeof (tickFormat) == \"function\") ? format(tickFormat(di[i])) : format(di[i]);\n            // tickLabel.appendChild( document.createTextNode(labelText) );\n            tickLabel.text(labelText);\n\n            if (grid) {\n                var gx1, gx2, gy1, gy2;\n                if (dim == 'x') {\n                    gx1 = gx2 = metric(di[i]);\n                    gy1 = 0;\n                    gy2 = height;\n                } else {\n                    gy1 = gy2 = metric(di[i]);\n                    gx1 = 0;\n                    gx2 = width;\n                }\n                axis.append(\"line\", {\n                    x1: gx1,\n                    x2: gx2,\n                    y1: gy1,\n                    y2: gy2,\n                    class: \"grid-lines\"\n                }, {\n                    \"stroke\": color,\n                    // \"stroke-width\": 0.5,\n                    \"stroke-opacity\": 0.15\n                });\n            }\n        }\n        axis.translate(padding.left, padding.top);\n        return axis;\n    };\n\n    metric.remove = function () {\n        axis.remove();\n    }\n\n    if (visable) {\n        metric.svg = metric.show();\n    }\n\n    return metric;\n};","export default function scale(arg) {\n    var option = arg || {},\n        align = option.align || 'center',\n        type = option.type || 'linear',\n        domain = option.domain || [0,1],\n        margin = option.margin || 0,\n        exponent = option.exponent || 1,\n        range = option.range || [0,1];\n\n    function getInterpolateFunction() {\n        //intercepts and slopes for domain and range\n        var d0 = -domain[0] / (domain[1] - domain[0]),\n            d1 = 1 / (domain[1] - domain[0]),\n            r0 = range[0],\n            r1 = range[1] - range[0];\n\n        if(type == \"linear\") {\n            return function(v) { return r0 + (d0 + v * d1) * r1 };\n        } else if(type == \"power\") {\n            d0 = -Math.pow(-d0, exponent);\n            d1 = Math.pow(d1, exponent);\n            return function(v) { return r0 + (d0 + Math.pow(v, exponent) * d1) * r1 };\n        } else if (type == \"log\") {\n            exponent = option.exponent || 10;\n            d0 = -(Math.log(-d0) / Math.log(exponent));\n            d1 = (Math.log(d1) / Math.log(exponent));\n\n            return function(v) { return r0 + (d0 + Math.log(v) / Math.log(exponent) * d1) * r1 };\n\n        } else if(type == \"ordinal\" || type == \"categorical\") {\n            return function(v) {\n                if(align == 'outer')\n                    return r0 + (domain.indexOf(v)+0.5) / (domain.length-1) * r1;\n                else\n                    return r0 + (domain.indexOf(v)+0.5) / domain.length * r1;\n            };\n        } else {\n            return function(v) { return v };\n        }\n    }\n\n    var scale = getInterpolateFunction();\n\n    scale.interval = function(ticks) {\n        if (type == \"ordinal\" || type == \"categorical\") {\n            return (1 / domain.length * Math.abs(range[1] - range[0]));\n        } else {\n            var s = Math.pow(10, Math.floor(Math.log10(Math.abs(range[1] - range[0])))-1);\n            return Math.floor( Math.abs(range[1] - range[0]) / (ticks * s) )  * s;\n        }\n    };\n\n    scale.domainLength = function() {\n        if(type == \"linear\")\n            return Math.abs(domain[1] - domain[0]);\n        else if(type == \"ordinal\" || type == \"categorical\")\n            return domain.length;\n    };\n\n    scale.rangeLength = function() {\n        return Math.abs(range[1] - range[0]);\n    };\n\n    scale.invert = function(r) {\n        if(type == \"linear\") {\n            return domain[0] + (r - range[0]) / (range[1] - range[0]) * (domain[1] - domain[0]);\n        } else if(type == \"ordinal\" || type == \"categorical\") {\n            var intv = intv = r / scale.rangeLength();\n            return domain[Math.min(Math.floor(intv * (domain.length)), domain.length-1)];\n        }\n    }\n\n    scale.domain = function() {\n        return domain;\n    }\n\n    return scale;\n};\n","import {seq} from '../arrays';\n\nexport default function printformat(spec) {\n    return function(value){\n        if(typeof value !== \"number\") return value;\n        var ret,\n            convert,\n            numericSymbols = ['y', 'z', 'a', 'f', 'p', 'n', 'µ', 'm', '', 'k', 'M','G', 'T', 'P', 'E', 'Z', 'Y'],\n            n = seq(-24,24,3),\n            i = numericSymbols.length-1,\n            parts,\n            precision = spec.match(/\\d+/)[0] || 3,\n            number = Number(value),\n            exp,\n            suffix;\n\n        if(spec[spec.length-1] == 's')\n            precision--;\n\n        parts = number.toExponential(precision).toString().match(/^(-{0,1})(\\d+)\\.?(\\d*)[eE]([+-]?\\d+)$/);\n        exp = parseInt(parts[4]) || 0;\n\n        while (i--) {\n            if (exp >= n[i]) {\n                if(i==7 && (exp-n[i]) > 1) {\n                    // console.log(exp-n[i]);\n                    suffix = numericSymbols[i+1];\n                    exp -= n[i+1];\n                    break\n                } else {\n                    suffix = numericSymbols[i];\n                    exp -= n[i];\n                    break;\n                }\n            }\n        }\n        ret = parseFloat(parts[1] + parts[2] + '.' + (parts[3]||0) + 'e' + exp.toString());\n        return ret.toString() + suffix;\n    }\n}\n","import Svg from './svg';\nimport Axis from './axis';\nimport printformat from './format';\n\nconst defaultColors = ['white', 'steelblue'];\nconst defaultSize = 20;\nvar gradID = 0;\n\nexport default function color(arg){\n  var gradientID = gradID++;\n\n  var option = arg || {},\n    container = option.container || null,\n    width = option.width || null,\n    height = option.height || null,\n    pos = option.pos ||[0, 0],\n    dim = option.dim || 'x',\n    padding = option.padding || {left: 0, right: 0, top: 0, bottom: 0},\n    label = option.label || false,\n    colors = option.colors || defaultColors,\n    domain = option.domain || ['min', 'max'],\n    format = option.format || printformat('.3s');\n\n\n  if(colors.length < 2) colors = defaultColors;\n  width -= padding.left + padding.right;\n  height -= padding.top + padding.bottom;\n\n  var legend = (container === null)\n    ? new Svg({width: width, height: height, padding: padding})\n    : container.append('g');\n\n  var gradDirection;\n  if(dim == 'x') {\n    gradDirection = {x1: 0, x2: 1, y1: 0, y2: 0};\n    if(height === null) height = defaultSize;\n  } else {\n    gradDirection = {x1: 0, x2: 0, y1: 0, y2: 1};\n    if(width === null) width = defaultSize;\n  }\n\n  function linearGradient(colors) {\n    var gradient = legend.append('defs')\n      .append('linearGradient')\n        .attr('id', 'gradlegend'+gradientID)\n        .attr(gradDirection);\n\n    colors.forEach(function(c, i){\n      gradient.append('stop')\n        .attr('offset', i / (colors.length-1))\n        .attr('stop-color', colors[colors.length-i-1]);\n    });\n    return gradient;\n  }\n\n  var grad = linearGradient(colors);\n\n  var rect = legend.append('g');\n\n  var colorScale = rect.append('rect')\n    .attr('width', width-padding.left)\n    .attr('height', height)\n    .style('fill','url(#gradlegend' + gradientID + ')');\n\n  var domainLabel = legend.append('text');\n  if(label) {\n    label.append('text')\n      .attr('x', pos[0] - 5)\n      .attr('y', pos[1] + height/2 + 5)\n      .style('fill', '#222')\n      .style('text-anchor', 'end')\n      .text(printformat('2s')(domain[0]));\n\n    legend.append('text')\n      .attr('x', pos[0] + width - padding.left + 5)\n      .attr('y', pos[1] + height/2 + 5)\n      .style('fill', '#222')\n      .style('text-anchor', 'begin')\n      // .style('font-size', '.9em')\n      .text(printformat('2s')(domain[1]));\n  }\n\n  if(option.title) {\n    legend.append('g')\n      .append('text')\n      .attr('y', pos[1] - padding.top)\n      .attr('x', pos[0] + width/2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text(option.title);\n  }\n\n  if(dim == 'x') {\n    new Axis({\n      dim: 'x',\n      domain: domain,\n      container: legend,\n      align: 'bottom',\n      ticks: Math.floor(width / 30),\n      height: height,\n      width: width,\n      labelPos: {x: 0, y: -20},\n      format: format,\n    });\n  } else {\n    new Axis({\n      dim: 'y',\n      domain: domain,\n      container: legend,\n      align: 'right',\n      ticks: Math.floor(height / 30),\n      height: height,\n      width: width,\n      labelPos: {x: 10, y: -5},\n      tickPosition: [5, 0],\n      format: format,\n    });\n  }\n\n\n  // legend.appendChild(xAxis);\n\n  legend.translate(pos[0]+padding.left, pos[1]+padding.top);\n\n  // legend.update = function(newDomain, newColors) {\n  //\n  //     legend.removeChild(xAxis);\n  //     xAxis = new Axis({\n  //         dim: 'x',\n  //         domain: newDomain,\n  //         container: legend,\n  //         align: 'bottom',\n  //         ticks: 4,\n  //         // tickInterval: 10000000,\n  //         labelPos: {x: -5, y: -20},\n  //          padding: padding,\n  //         width: width-padding.left,\n  //         format: format,\n  //     }).show();\n  //\n  //     if(typeof(newColors) != 'undefined') {\n  //         grad.remove();\n  //         grad = linearGradient(newColors);\n  //         colorScale.css('fill','url(#gradlegend' + gradientID + ')');\n  //\n  //     }\n  //     // legend.appendChild(xAxis);\n  //\n  //     return legend;\n  // }\n\n  return legend;\n}\n","import axis from './axis';\nimport format from './format';\nimport legend from './legend';\n\nexport default function chart(frontSvg, backSvg, arg) {\n    var options = arg || {},\n        plot = frontSvg.append('g'),\n        metavis = backSvg.append('g'),\n        frontMetaVis = frontSvg.append('g'),\n        width = options.width,\n        height = options.height,\n        top = options.top || 0,\n        left = options.left || 0,\n        vmap = options.vmap || {},\n        histogram =  options.histogram,\n        features = options.fields || [],\n        domain = options.domain,\n        strLists = options.strLists,\n        labels = plot.append('g'),\n        onclick = options.onclick || null,\n        onhover = options.onhover || null,\n        showLegend = options.legend,\n        tickOffset = options.axisOffset || [0, 0],\n        padding = options.padding || {left: 0, right: 0, top: 0, bottom: 0},\n        marks = [],\n        frameBorder = options.frameBorder || false,\n        gridlines = options.gridlines || {x: false, y: false},\n        colors = options.colors;\n\n    var scale = options.scale || {x: 'linear', y: 'linear'},\n        domainX = options.domainX || domain[vmap.x] || domain[vmap.width],\n        domainY = options.domainY || domain[vmap.y] || domain[vmap.height];\n\n    width -= padding.left + padding.right;\n    height -= padding.top + padding.bottom;\n\n    var axisOption = {\n        x: {\n            container: metavis,\n            dim: \"x\",\n            width: width,\n            height: height,\n            domain: domainX,\n            scale:  scale.x,\n            align: \"bottom\",\n            // ticks: 15,\n            grid: gridlines.x,\n            format: format(\".3s\"),\n        },\n        y: {\n            container: metavis,\n            dim: \"y\",\n            domain: domainY,\n            scale: scale.y,\n            width: width,\n            height: height,\n            align: \"left\",\n            // labelPos: {x: -5, y: -5},\n            // ticks: 8,\n            grid: gridlines.y,\n            format: format(\".3s\"),\n        }\n    };\n\n    let colorLegend;\n    if(showLegend && features.indexOf(vmap.color) !== -1){\n        colorLegend = legend({\n            container: metavis,\n            width: 20,\n            height: 180,\n            dim: \"y\",\n            domain: domain[vmap.color],\n            pos: [width + padding.right/2, 0],\n            colors: colors\n        });\n    }\n\n    let x, y, xAxes = [], yAxes = [];\n\n    // For parallel coordinates\n    if(Array.isArray(vmap.x)) {\n        let axisDist = height / (vmap.x.length-1);\n        axisOption.x.container = frontMetaVis;\n        vmap.x.forEach(function(d, i) {\n            axisOption.x.position = i * axisDist + 1;\n            axisOption.x.domain = domain[d];\n            if(strLists.hasOwnProperty(d)){\n                axisOption.x.scale = 'ordinal';\n                axisOption.x.tickAlign = 'outer';\n                axisOption.x.domain = strLists[d].reverse();\n            }\n            let labelOffset = 20;\n            if(i === 0) {\n                axisOption.x.tickPosition = [0, -5];\n                axisOption.x.labelPos = {x: 0, y: 2};\n                labelOffset = 35;\n            } else {\n                axisOption.x.tickPosition = null;\n                axisOption.x.labelPos = null;\n            }\n            x = axis(axisOption.x);\n            xAxes[i] = x;\n\n            labels\n            .append(\"text\")\n              .attr(\"x\", 5 )\n              .attr(\"y\", i * axisDist - labelOffset)\n              .attr(\"dy\", \"1em\")\n              .css(\"text-anchor\", \"middle\")\n              .css(\"font-size\", \"1em\")\n              .text(d);\n        });\n    }\n\n    if(Array.isArray(vmap.y)) {\n        var axisDist = width / (vmap.y.length-1);\n        axisOption.y.container = frontMetaVis;\n        vmap.y.forEach(function(d, i) {\n            axisOption.y.position = i * axisDist;\n            axisOption.y.domain = domain[d];\n            if(strLists.hasOwnProperty(d)){\n                axisOption.y.scale = 'ordinal';\n                axisOption.y.tickAlign = 'outer';\n                axisOption.y.domain = strLists[d].reverse();\n            }\n            if(i == vmap.y.length-1) {\n                axisOption.y.tickPosition = [5, 0];\n                axisOption.y.tickLabelAlign = \"start\";\n                axisOption.y.labelPos = {x: 8, y: -5};\n\n            }\n            y = axis(axisOption.y);\n            yAxes[i] = y;\n\n            labels.append(\"text\")\n              .attr(\"y\", -padding.top + 10)\n              .attr(\"x\", i * axisDist)\n              .attr(\"dy\", \"1em\")\n              .css(\"text-anchor\", \"middle\")\n              .css(\"font-size\", \"1em\")\n              .text(d);\n        });\n    }\n\n    let histDomain = {\n        x: domainX, \n        y: domainY\n    };\n    for(let dim of ['x', 'y']) {\n        if(scale[dim] == 'ordinal' || scale[dim] == 'categorical') {\n            if(width / histDomain[dim].length < 10) {\n                axisOption[dim].ticks = histDomain[dim].length;\n            }\n            // while(width / axisOption[dim].ticks < 20) {\n            //     axisOption[dim].ticks *= 0.5;\n            // }\n        }\n\n        if(histogram[dim]) {\n            axisOption[dim].tickPosition = (dim == 'x') \n                ? [-width / (histDomain[dim].length-1) /2, 0]\n                : [0, height/ (histDomain[dim].length-1) /2]\n\n            axisOption[dim].scale = \"ordinal\";\n            axisOption[dim].tickAlign = \"outer\";\n            axisOption[dim].domain = histDomain[dim];\n            axisOption[dim].ticks = histDomain[dim].length;\n        }\n    }\n\n    if((vmap.x || vmap.width) && !Array.isArray(vmap.x)) x = axis(axisOption.x);\n    if((vmap.y || vmap.height) && !Array.isArray(vmap.y)) y = axis(axisOption.y);\n\n    if((vmap.hasOwnProperty('x') || vmap.hasOwnProperty('width')) && !Array.isArray(vmap.x)) {\n        let xAxisTitle = vmap.x || vmap.width;\n        labels.append(\"g\")\n          .append(\"text\")\n            .attr(\"x\", width/2)\n            .attr(\"y\", height + padding.bottom/2 )\n            .attr(\"dy\", \"1em\")\n            .css(\"text-anchor\", \"middle\")\n            .css(\"font-size\", \"1.0em\")\n            .css(\"font-weight\", \"bold\")\n            .css(\" text-transform\", \"capitalize\")\n            .text(xAxisTitle);\n\n    }\n    if((vmap.hasOwnProperty('y') || vmap.hasOwnProperty('height')) && !Array.isArray(vmap.y)) {\n        let yAxisTitle = vmap.y || vmap.height;\n        if(!Array.isArray(vmap.y)) {\n            labels.append(\"g\")\n              .append(\"text\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"y\", -padding.left / 1.25)\n                .attr(\"x\", -height / 2)\n                .attr(\"dy\", \"1em\")\n                .css(\"text-anchor\", \"middle\")\n                .css(\"font-size\", \"1.0em\")\n                .css(\"font-weight\", \"bold\")\n                .css(\" text-transform\", \"capitalize\")\n                .text(yAxisTitle);\n        }\n    }\n    \n    if(frameBorder) {\n        plot.append(\"line\")\n            .attr('x1', 0)\n            .attr('x2', width)\n            .attr('y1', 0)\n            .attr('y2', 0)\n            .css('stroke', '#000')\n        plot.append(\"line\")\n            .attr('x1', width)\n            .attr('x2', width)\n            .attr('y1', 0)\n            .attr('y2', height)\n            .css('stroke', '#000')\n            .css('stroke-opacity', 0.5)\n    }\n\n    plot.translate(padding.left+left, padding.top+top);\n    metavis.translate(padding.left+left, padding.top+top);\n    frontMetaVis.translate(padding.left+left, padding.top+top);\n\n    let chartLayer = {};\n    chartLayer.updateAxisX =  function(newDomain) {\n        x.remove();\n        axisOption.x.domain = newDomain;\n        x = axis(axisOption.x)\n        return chartLayer;\n    }\n    chartLayer.updateAxisY =  function(newDomain) {\n        y.remove();\n        axisOption.y.domain = newDomain;\n        y = axis(axisOption.y)\n        return chartLayer;\n    }\n    chartLayer.removeAxis = function() {\n\n        if(yAxes.length) {\n            yAxes.forEach(function(yp) {\n                yp.remove();\n            })\n        } else if(xAxes.length) {\n            xAxes.forEach(function(xp) {\n                xp.remove();\n            })\n        } else {\n            x.remove();\n            y.remove();\n        }\n\n        labels.remove();\n    }\n\n    chartLayer.axisLabels = labels;\n\n    chartLayer.removeLegend = function() {\n        if(showLegend) {\n            colorLegend.remove();\n        }\n    }\n    chartLayer.svg = plot;\n    chartLayer.x = Array.isArray(vmap.x) ? xAxes : x;\n    chartLayer.y = Array.isArray(vmap.y) ? yAxes : y;\n\n    return chartLayer;\n};\n","import Svg from './svg';\nimport chart from './chart';\n\nfunction assign(object, source) {\n    Object.keys(source).forEach(function(key) {\n        object[key] = source[key];\n    });\n}\nvar defaultProperties = {\n    width: 400,\n    height: 300,\n    padding: {left: 0, right: 0, top: 0, bottom: 0},\n}\n\nexport default function layout(arg){\n    \"use strict\";\n\n    /* Private */\n    var viz = this,\n        option = arg || {},\n        container = option.container || document.body,\n        style = option.style || null,\n        layers = [];\n\n    this.width = container.clientWidth || 400;\n    this.height = container.clientHeight || 300;\n\n    if(typeof container == 'string') container = document.getElementById(container);\n    assign(viz, defaultProperties);\n    assign(viz, option);\n\n    this.vmap = option.vmap;\n\n    this.width -= (this.padding.left + this.padding.right);\n    this.height -= (this.padding.top + this.padding.bottom);\n\n\n    /* Public */\n    this.data = option.data || [];\n    this.div = document.createElement(\"div\");\n    if(style !== null) {\n        Object.keys(style).forEach(function(prop){\n            viz.div.style[prop] = style[prop];\n        })\n    }\n\n    this.init = function(){\n        // container = (containerId == \"body\") ? document.body : document.getElementById(containerId);\n\n        this.div.className = option.className || \"p6-viz\";\n        this.div.style.position = 'relative';\n        this.resize(\n            this.width + this.padding.left + this.padding.right,\n            this.height + this.padding.top + this.padding.bottom\n        );\n\n        if(option.style) this.css(option.style);\n\n        container.appendChild(this.div);\n        this.viz();\n        return viz;\n    };\n\n    this.createSVG = function(arg) {\n        var arg = arg || {},\n            width = arg.width || this.width,\n            height = arg.height || this.height,\n            padding = arg.padding || this.padding;\n\n        return new Svg({\n            width: width,\n            height: height,\n            padding: padding,\n            style: {position: 'absolute'}\n        });\n    }\n\n    var canvas = option.canvas,\n        svg = this.createSVG(),\n        vmap = option.vmap,\n        chartPadding = this.padding || {left: 0, right: 0, top: 0, bottom: 0},\n        domain = option.domain || {x: [0, 1000], y: [0, 1]},\n        scales = option.scales || {x: 'linear', y: 'linear'};\n\n    var backSVG = this.createSVG(),\n        frontSVG = this.createSVG();\n\n    this.set = function(props) {\n        assign(viz, props);\n    };\n\n    this.addProperty = function(obj, prop) {\n        assign(obj, prop);\n        return obj;\n    }\n\n    this.viz = function() {\n        viz.div.appendChild(backSVG.svg);\n        viz.div.appendChild(canvas);\n        viz.div.appendChild(frontSVG.svg);\n        return viz;\n    };\n\n    this.render = this.viz;\n\n    this.css = function(style){\n        for(var key in style){\n            this.div.style[key] = style[key];\n        }\n        return this;\n    };\n\n    this.resize = function(w,h){\n        this.div.style.width = w + \"px\";\n        this.div.style.height = h + \"px\";\n    };\n\n    this.destroy = function() {\n        this._super.destroy();\n        container.removeChild(this.div);\n        div = null;\n    };\n\n    this.hide = function() {\n        this.div.style.display = 'none';\n    }\n\n    this.show = function() {\n        this.div.style.display = 'block';\n    }\n\n    this.innerWidth = function() {\n        return this.width;\n    }\n\n    this.innerHeight = function() {\n        return this.height;\n    }\n\n    this.addChart = function(options) {\n        return chart(frontSVG, backSVG, options)\n    };\n\n    this.exportImage = function(beforeExport) {\n        var imageCanvas = document.createElement(\"canvas\");\n        imageCanvas.width = this.width;\n        imageCanvas.height = this.height;\n        return new Promise(function(resolve, reject) {\n\n            var ctx = imageCanvas.getContext(\"2d\");\n            var svgString = new XMLSerializer().serializeToString(frontSVG.svg);\n\n            var DOMURL = self.URL || self.webkitURL || self;\n            var svgBlob = new Blob([svgString], {type: \"image/svg+xml;charset=utf-8\"});\n            var svgURL = DOMURL.createObjectURL(svgBlob);\n\n            var canvasLayer = new Image();\n            var svgLayer = new Image();\n            canvasLayer.onload = function() {\n                ctx.drawImage(canvasLayer, 0, 0);\n                svgLayer.src = svgURL;\n                svgLayer.onload = function() {\n                    ctx.drawImage(svgLayer, 0, 0);\n                    var png = imageCanvas.toDataURL(\"image/png\");\n                    DOMURL.revokeObjectURL(png);\n                    resolve(png);\n                };\n            };\n\n            canvasLayer.onerror = function() {\n                reject(Error(\"Canvas Output Error!\"));\n            }\n\n            svgLayer.onerror = function() {\n                reject(Error(\"SVG Output Error!\"));\n            }\n            beforeExport();\n            canvasLayer.src = canvas.toDataURL(\"image/png\");\n        });\n\n    }\n\n    return viz.init();\n};\n","export default class Renderer {\n  constructor({context, name}) {\n    this.gl = context;\n    this.name = name;\n    this.gl.program(\n      name,\n      this.gl.shader.vertex(this.vertexShader),\n      this.gl.shader.fragment(this.fragmentShader)\n    )\n  }\n\n  vertexShader () {\n    gl_Position = vec4(this._square, 0.0, 1.0);\n  }\n\n  fragmentShader () {\n    if(this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01) {\n      gl_FragColor = this.vColorRGBA;\n    } else {\n      discard;\n    }\n  }\n\n  load () {\n    return this.gl.program(this.name);\n  }\n\n  render () {\n    let gl = this.gl.ctx;\n    gl.disable( gl.BLEND );\n    gl.drawArrays(primitive || gl.TRIANGLES, 0, 6);\n  }\n}","import Renderer from './Renderer.gl'\n\nexport default class Instanced extends Renderer{\n    constructor(arg) {\n        super(arg)        \n    }\n\n    vertexShader () {\n        var i, j, posX, posY, color, alpha, size;\n        var rgb = new Vec3();\n\n        i = (this.aDataIdx + 0.5) / this.uDataDim.x;\n        j = (this.aDataIdy + 0.5) / this.uDataDim.y;\n\n        if (this.uFilterFlag == 1) {\n            this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n        } else {\n            this.vResult = this.uVisLevel;\n        }\n\n        posX = this.visMap(0, i, j, this.aDataValx, this.aDataValy, 0.0);\n        posY = this.visMap(1, i, j, this.aDataValx, this.aDataValy, 0.0);\n        color = this.visMap(2, i, j, this.aDataValx, this.aDataValy, -1.0);\n        alpha = this.visMap(3, i, j, this.aDataValx, this.aDataValy, this.uDefaultAlpha);\n        size = this.visMap(6, i, j, this.aDataValx, this.aDataValy, 1.0);\n\n        if(this.uIsXYCategorical[0] == 1) {\n            var width = this.uFieldWidths[0];\n            posX = 0.5 / width + posX * (width - 1.0) / width;\n        }\n        if(this.uIsXYCategorical[1] == 1) {\n            var height = this.uFieldWidths[1];\n            posY = 0.5 / height + posY * (height - 1.0) / height;\n        }\n\n        posX = posX * 2.0 - 1.0;\n        posY = posY * 2.0 - 1.0;\n\n        rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n        if (this.uDropZeros == 1 && color == 0.0) {\n            alpha = 0.0;\n          }\n        gl_PointSize = size * this.uMarkSize;\n        this.vColorRGBA = vec4(rgb, alpha);\n        gl_Position = vec4(posX, posY, 0.0, 1.0);\n    }\n\n    fragmentShader() {\n        var valid = new Bool();\n        valid = this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01;\n        if (this.uVisMark == 1) { // for circles \n            var dist = length(gl_PointCoord.xy - vec2(0.5, 0.5));\n            if (dist > 0.5) discard;\n            var delta = 0.15;\n            var alpha = this.vColorRGBA.a - smoothstep(0.5 - delta, 0.5, dist);\n            if (valid) {\n                gl_FragColor = vec4(this.vColorRGBA.rgb * alpha, alpha);\n            } else {\n                discard;\n            }\n        } else {\n            if (valid) {\n                gl_FragColor = vec4(this.vColorRGBA.rgb * this.vColorRGBA.a, this.vColorRGBA.a);\n            } else {\n                discard;\n            }\n        }\n    }\n\n    render(primitive) {\n        let $p = this.gl;\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n        $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n        $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, $p.dataDimension[0], $p.dataDimension[1]);\n\n    }\n}","import Renderer from './Renderer.gl'\n\nexport default class Polygon extends Renderer{\n  constructor (arg) {\n    super(arg);\n  }\n\n  vertexShader () {\n    var i, j;\n    var rgb = new Vec3();\n    var posX, posY, color, alpha, width, height, size;\n    i = (mod(this.aDataItemId, this.uDataDim.x) + 0.5) / this.uDataDim.x;\n    j = (floor(this.aDataItemId / this.uDataDim.x) + 0.5) / this.uDataDim.y;\n\n    this.vResult = this.uVisLevel;\n\n    if (this.uFilterFlag == 1) {\n      this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n    }\n    var val0, val1;\n    val0 = this.aDataItemVal0;\n    val1 = this.aDataItemVal1;\n    posX = this.visMap(0, i, j, val0, val1, 0.0);\n    posY = this.visMap(1, i, j, val0, val1, 0.0);\n    color = this.visMap(2, i, j, val0, val1, -1.0);\n    alpha = this.visMap(3, i, j, val0, val1, this.uDefaultAlpha);\n    width = this.visMap(4, i, j, val0, val1, this.uDefaultWidth);\n    height = this.visMap(5, i, j, val0, val1, this.uDefaultHeight);\n    size = this.visMap(6, i, j, val0, val1, this.uMarkSize);\n    posX = posX * (this.uFieldWidths[this.uVisualEncodings[0]] - 1.0) / this.uFieldWidths[this.uVisualEncodings[0]];\n    posY = posY * (this.uFieldWidths[this.uVisualEncodings[1]] - 1.0) / this.uFieldWidths[this.uVisualEncodings[1]];\n\n    width *= 1.0 - this.uMarkSpace.x * 2.0;\n    height *= 1.0 - this.uMarkSpace.y * 2.0;\n    posX += this.uMarkSpace.x * width;\n    posY += this.uMarkSpace.y * height;\n\n    if (this.aVertexId == 0.0 || this.aVertexId == 3.0) {\n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    } else if (this.aVertexId == 1.0) {\n      posX = posX * 2.0 - 1.0;\n      posY = (posY + height) * 2.0 - 1.0;\n    } else if (this.aVertexId == 2.0 || this.aVertexId == 5.0) {\n      posX = (posX + width) * 2.0 - 1.0;\n      posY = (posY + height) * 2.0 - 1.0;\n    } else if (this.aVertexId == 4.0) {\n      posX = (posX + width) * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    } else {\n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n    }\n\n    rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n    if (this.uDropZeros == 1 && color == 0.0) {\n      alpha = 0.0;\n    }\n    this.vColorRGBA = vec4(rgb * alpha, alpha);\n    gl_Position = vec4(posX, posY, 0.0, 1.0);\n  }\n\n  fragmentShader() {\n    if (this.vResult <= this.uVisLevel + 0.01 && this.vResult >= this.uVisLevel - 0.01)\n      gl_FragColor = this.vColorRGBA;\n    else\n      discard;\n  }\n\n  render() {\n    let $p = this.gl;\n    let primitive = $p.ctx.TRIANGLES;\n    let val0 = new Float32Array($p.dataSize);\n    let val1 = new Float32Array($p.dataSize);\n    for(var y = 0; y < $p.dataDimension[1]; y++) {\n      for(var x = 0; x < $p.dataDimension[0]; x++) {\n        val0[y*$p.dataDimension[0] + x] = $p.attribute.aDataValx.data[x];\n        val1[y*$p.dataDimension[0] + x] = $p.attribute.aDataValy.data[y];\n      }\n    }\n    $p.attribute.aDataItemVal0 = val0;\n    $p.attribute.aDataItemVal1 = val1;\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aVertexId.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemVal0.location, 1);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemVal1.location, 1);\n    $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, 6, $p.dataSize);\n  }\n}","import Renderer from './Renderer.gl'\n\nexport default class Instanced extends Renderer{\n    constructor(arg) {\n        super(arg)        \n    }\n\n    vertexShader () {\n      var i, j;\n      var rgb = new Vec3();\n      var posX, posY, size, color, alpha;\n      gl_PointSize = this.uMarkSize;\n      i = (mod(this.aDataItemId, this.uDataDim.x) + 0.5) / this.uDataDim.x;\n      j = (floor(this.aDataItemId / this.uDataDim.x) + 0.5) / this.uDataDim.y;\n  \n      this.vResult = this.uVisLevel;\n      if(this.uFilterFlag == 1) {\n          this.vResult = texture2D(this.fFilterResults, vec2(i, j)).a;\n      }\n      if(this.uInterleaveX == 1) {\n          posX = this.aDataFieldId.y / float(this.uFeatureCount-1);\n          posY = this.getEncodingByFieldId(int(this.aDataFieldId.x), i, j);\n      } else {\n          posY = 1.0 - this.aDataFieldId.y / float(this.uFeatureCount-1);\n          posX = this.getEncodingByFieldId(int(this.aDataFieldId.x), i, j);\n      }\n      color = this.visMap(2, i, j, i, j, -1.0);\n      alpha = this.visMap(3, i, j, i, j, this.uDefaultAlpha);\n  \n      posX = posX * 2.0 - 1.0;\n      posY = posY * 2.0 - 1.0;\n  \n      rgb = this.mapColorRGB(this.uVisualEncodings[2], color);\n      this.vColorRGBA = vec4(rgb*alpha, alpha);\n      gl_Position = vec4(posX, posY, 0.0, 1.0);\n    }\n\n    updateInstancedAttribute(vm) {\n      let $p = this.gl;\n      if(Array.isArray(vm)){\n          let fv = new Float32Array(vm.length*2);\n          vm.forEach(function(f, i) {\n              fv[i*2] = $p.fields.indexOf(f);\n              fv[i*2+1] = i;\n          });\n          $p.attribute.aDataFieldId = fv;\n          $p.uniform.uFeatureCount = vm.length;\n      }\n    }\n\n    render(primitive) {\n      let $p = this.gl;\n      $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataFieldId.location, 0);\n      $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aDataItemId.location, 1);\n      let count = $p.attribute.aDataFieldId.data.length / $p.attribute.aDataFieldId.size;\n      $p.ctx.ext.drawArraysInstancedANGLE(primitive, 0, count, $p.dataSize);\n    }\n}","import colors from './color';\nimport reveal from './reveal';\nimport {encode, EncodingChannels} from './encode';\nimport extend from './extend';\nimport interpolate from './shaders/interpolate.gl'\n\nimport Layout from './layout';\nimport Instanced from './shaders/Instanced.gl'\nimport Polygon from './shaders/Polygon.gl'\nimport Interleaved from './shaders/Interleaved.gl'\n\nconst userActions = ['click', 'hover', 'brush', 'zoom', 'pan'];\nconst visMarks = ['dot', 'circle', 'line', 'rect'];\n\nexport default function visualize($p) {\n\n    let colorManager = colors($p);\n    let chartPadding = $p.padding || {left: 0, right: 0, top: 0, bottom: 0};\n    let viewport = $p.viewport;\n\n    let vis = new Layout({\n        container: $p.container,\n        width: viewport[0] + chartPadding.left + chartPadding.right,\n        height: viewport[1] + chartPadding.top + chartPadding.bottom,\n        canvas: $p.canvas,\n        padding: chartPadding\n    });\n    \n    $p.uniform('uVisualEncodings',  'int',   new Array(EncodingChannels.length).fill(-1))\n        .uniform('uScaleExponents', 'float',   new Array(EncodingChannels.length).fill(1.0))\n        .uniform('uViewDim',        'vec2',  $p.viewport)\n        .uniform('uVisMark',        'int',   1)\n        .uniform('uInterleaveX',    'int',   0)\n        .uniform('uVisDomains',     'vec2',  $p.fieldDomains.map(d=>d.slice()))\n        .uniform('uVisScale',       'vec2',  [1.0, 1.0])\n        .uniform('uPosOffset',      'vec2',  [0.0, 0.0])\n        .uniform('uFeatureCount',   'int',   0)\n        .uniform('uMarkSize',       'float', 16.0)\n        .uniform('uMarkSpace',      'vec2',  [0.02, 0.02])\n        .uniform('uDefaultAlpha',   'float', 1.0)\n        .uniform('uDefaultWidth',   'float', 1.0 / $p.viewport[0])\n        .uniform('uDefaultHeight',  'float', 1.0 / $p.viewport[1])\n        .uniform('uMaxRGBA',        'vec4',  [0, 0, 0, 0])\n        .uniform('uDefaultColor',   'vec3',  [0.8, 0, 0])\n        .uniform('uGeoProjection',   'int',  0)\n        .uniform('uDropZeros',   'int',  0)\n        .uniform('uColorMode',      'int',   1)\n        .uniform('uIsXYCategorical','ivec2', [0, 0])\n        .varying('vColorRGBA',      'vec4'   );\n\n    let enhance = reveal($p);\n\n    $p.framebuffer('offScreenFBO', 'float', $p.viewport);\n    // $p.framebuffer('visStats', 'float', [1, 1]);\n    // $p.framebuffer(\"visStats\", \"float\", [$p.views.length, 1]);\n    // $p.framebuffer.enableRead('offScreenFBO');\n    $p.bindFramebuffer('offScreenFBO');\n    $p.ctx.clearColor( 1.0, 1.0, 1.0, 0.0 );\n    $p.ctx.clear( $p.ctx.COLOR_BUFFER_BIT | $p.ctx.DEPTH_BUFFER_BIT );\n    $p.bindFramebuffer(null);\n    $p.subroutine('visMap', 'float', interpolate.visMap);\n    $p.subroutine('getEncodingByFieldId', 'float', interpolate.getEncodingByFieldId);\n    \n    let renderers = {\n        instanced: new Instanced({context: $p, name: 'instanced'}),\n        polygon: new Polygon({context: $p, name: 'polygon'}),\n        interleave: new Interleaved({context: $p, name: 'interleave'})\n    }\n\n    return function(options) {\n        $p.revealDensity = false;\n        let renderer = 'instanced';\n        let vmap = options.vmap || {};\n        let mark = options.mark || vmap.mark || 'circle';\n        let viewIndex = options.viewIndex;\n\n        let visDomain = {};\n        let visDimension = vmap.viewport || [$p.views[viewIndex].width, $p.views[viewIndex].height] || viewport;\n        let width = visDimension[0];\n        let height =  visDimension[1];\n        let padding = vmap.padding || $p.views[viewIndex].padding || chartPadding;\n        let offset = vmap.offset || $p.views[viewIndex].offset || [0, 0];\n        let dimSetting = encode($p, vmap, colorManager);\n\n        let pv = $p.views[viewIndex];\n        let colorInfo = (typeof(vmap.colors) === 'object') ? vmap.colors : pv.color;\n    \n        let colorMode = 1;\n        let colorMap;\n        \n        let viewSetting = {\n            domain: visDomain,\n            fields: $p.fields,\n            vmap: vmap,\n            // onclick: interaction,\n            strLists: $p.strLists,\n            padding: padding,\n            left: offset[0],\n            top:  offset[1],\n            colors: colorManager.getColors(),\n        };\n\n        viewSetting = Object.assign(viewSetting, dimSetting);\n        viewSetting = Object.assign(viewSetting, $p.views[viewIndex]);\n\n        if(!$p._update){\n            $p.fields.forEach(function(f, i){\n                visDomain[f] = $p.fieldDomains[i].slice();\n            });\n            if(vmap.zero) {\n                if($p.fields.indexOf(vmap.width) > -1) {\n                    visDomain[vmap.width][0] = 0;\n                }\n                if($p.fields.indexOf(vmap.height) > -1) {\n                    visDomain[vmap.height][0] = 0;\n                }\n                if($p.fields.indexOf(vmap.y) > -1) {\n                    visDomain[vmap.y][0] = 0;\n                }\n            } \n\n            // pv.domains = Object.keys(visDomain).map(f=>visDomain[f]);\n            pv.domains = visDomain;\n            // $p.uniform.uVisDomains.data = pv.domains;\n            if((vmap.append !== true ) && pv.hasOwnProperty('chart')) {\n                pv.chart.svg.remove();\n                pv.chart.removeAxis();\n            }\n            pv.chart = vis.addChart(viewSetting);\n            pv.svg = pv.chart.svg.node();\n            if(typeof(colorInfo) === 'object') {\n                if(Array.isArray(colorInfo)) {\n                    colorMap = colorInfo;\n                } else {\n                    if(colorInfo.hasOwnProperty('interpolate')) {\n                        colorMode = (colorInfo.interpolate) ? 1 : 0;\n                    }\n                    colorMap = colorInfo.range || colorInfo.values; \n                }\n            }\n\n            colorManager.updateColors(colorMap, colorMode);\n            \n        } else {\n            // $p.uniform.uVisDomains.data = pv.domains;\n            if(pv.updateDomain === true) {\n                pv.chart.updateAxisX(pv.domains[vmap.x]);\n                pv.chart.updateAxisY(pv.domains[vmap.y]);\n            }\n        }\n        $p.uniform.uVisDomains.data = Object.keys(pv.domains).map(f=>pv.domains[f]);\n        $p.uniform.uVisMark.data = visMarks.indexOf(mark);\n        $p.uniform.uGeoProjection.data = (vmap.project) ? 1 : 0;\n        $p.uniform.uDropZeros.data = (vmap.dropZeros) ? 1 : 0;\n\n        //Check if need interleaving data attributes(e.g.,parallel coordinates)\n        if(Array.isArray(vmap.x) || Array.isArray(vmap.y)) {\n            renderer = 'interleave';\n            if(Array.isArray(vmap.x)){\n                // vmap.x = vmap.x.reverse();\n                $p.uniform.uInterleaveX = 0;\n            } else if(Array.isArray(vmap.y)) {\n                $p.uniform.uInterleaveX = 1;\n            }\n            renderers[renderer].updateInstancedAttribute(vmap.x);\n            renderers[renderer].updateInstancedAttribute(vmap.y);\n        } else if(vmap.mark && ['rect', 'bar'].indexOf(vmap.mark) !== -1) {\n            renderer = 'polygon';\n        }\n\n        let gl = renderers[renderer].load();\n        $p.framebuffer.enableRead('fFilterResults');\n        $p.framebuffer.enableRead('fDerivedValues');\n        $p.framebuffer.enableRead(vmap.in || 'fGroupResults');\n\n        if($p.revealDensity) {\n            $p.bindFramebuffer('offScreenFBO');\n            gl.clearColor( 1.0, 1.0, 1.0, 0.0 );\n            gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.blendFunc(gl.ONE, gl.ONE );\n        } else {\n            $p.bindFramebuffer(null);\n            // gl.clearColor( 1.0, 1.0, 1.0, 0.0 );\n            gl.blendFunc( gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n            // gl.blendFunc(gl.SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA);\n        }\n        gl.viewport(\n            offset[0] + padding.left,\n            viewport[1] - height + padding.bottom - offset[1],\n            width - padding.left - padding.right,\n            height - padding.top - padding.bottom\n        );\n        gl.disable(gl.CULL_FACE);\n        gl.disable(gl.DEPTH_TEST);\n        gl.enable(gl.BLEND);\n        gl.blendEquation(gl.FUNC_ADD);\n\n        let primitive = gl.POINTS;\n\n        if(mark == 'line') {\n            primitive = gl.LINE_STRIP;\n            gl.lineWidth(vmap.size || 1.0);\n        }\n\n        extend($p, vmap, viewIndex, visDomain);\n\n        if($p.skipRender || vmap.project) {\n            pv.chart.removeAxis();\n            if($p.fields.indexOf(vmap.color)!==-1) pv.chart.removeLegend();\n        }\n\n        if(!$p.skipRender) {\n            renderers[renderer].render(primitive);\n        } else {\n            if(!$p._update) {\n                gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n                gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            }\n        }\n        $p.skipRender = false;\n        if($p.revealDensity) enhance({\n            viewIndex: viewIndex,\n            dim: [width, height],\n            offset: offset,\n            padding: padding\n        });\n        $p.bindFramebuffer(null);\n\n        if(!$p._update) {\n            let actions = Object.keys(vmap)\n                .filter(function(act){ return userActions.indexOf(act) !== -1});\n\n            actions.forEach(function(action) {\n                let response = {};\n                let viewId = vmap.id || $p.views[viewIndex].id;\n                response[viewId] = vmap[action];\n                let interactOptions = Object.assign({\n                    event: action,\n                    from: viewId,\n                    response: response,\n                }, vmap[action])\n                $p.interactions.push(interactOptions)\n            })\n        }\n    }\n}\n","import {seqFloat} from '../utils';\nexport default function reveal($p) {\n    $p.uniform('uRevealMode', 'int', 1)\n        .framebuffer(\"offScreenFBO\", \"float\", $p.viewport)\n        .framebuffer(\"visStats\", \"float\", [1, 1]);\n\n    var aViewX = new Float32Array($p.viewport[0]).map((d, i) => i);\n    var aViewY = new Float32Array($p.viewport[1]).map((d, i) => i);\n\n    $p.attribute(\"aViewX\", \"float\", aViewX);\n    $p.attribute(\"aViewY\", \"float\", aViewY);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewX.location, 0);\n    $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewY.location, 1);\n\n    var vs = $p.shader.vertex(function(){\n        var i, j;\n        i = (this.aViewX+0.5) / this.uViewDim.x;\n        j = (this.aViewY+0.5) / this.uViewDim.y;\n        this.vColorRGBA = texture2D(this.offScreenFBO, vec2(i, j));\n        gl_Position = vec4(0.0, 0.0, 0.0, 1.0);\n    });\n\n    var fs = $p.shader.fragment(function() {\n        gl_FragColor = this.vColorRGBA;\n    });\n\n    $p.program(\"post-processing\", vs, fs);\n\n    var vs2 = $p.shader.vertex(function () {\n         gl_Position = vec4(this._square, 0, 1);\n    });\n\n    var fs2 = $p.shader.fragment(function() {\n        var x, y, a;\n        var value = new Vec4();\n        x = (gl_FragCoord.x+0.5) / this.uViewDim.x;\n        y = (gl_FragCoord.y+0.5) / this.uViewDim.y;\n        value = texture2D(this.offScreenFBO, vec2(x, y));\n\n        if(value.a == 0.0) discard;\n        // a = pow(((value.a - this.uDefaultAlpha) / (this.uMaxRGBA.a -this.uDefaultAlpha)), 0.33) * 0.85 + 0.15;\n        a = pow((value.a / this.uMaxRGBA.a), 0.33) * 0.9 + 0.1;\n        // a = value.a / this.uMaxRGBA.a;\n\n        if(this.uRevealMode == 0) {\n            gl_FragColor = vec4(this.uDefaultColor*a, a);\n        } else {\n            gl_FragColor = vec4(texture2D(this.tColorGradient, vec2(1.-a, 1.0)).rgb*this.uDefaultAlpha, this.uDefaultAlpha);\n        }\n    });\n\n    $p.program(\"vis-render\", vs2, fs2);\n\n    let isFBOAllocatedFBO = false;\n\n    return function(options) {\n        var gl,\n            viewIndex = options.viewIndex,\n            viewDim = options.dim,\n            offset = options.offset || [0, 0],\n            padding = options.padding || {left: 0, right: 0, left: 0, right:0};\n\n        if(!$p._update) {\n\n            if(!isFBOAllocatedFBO) {\n                isFBOAllocatedFBO = true;\n                $p.framebuffer(\"visStats\", \"float\", [1, $p.views.length]);\n            }\n\n            let vOffset = [\n                offset[0] + padding.left,\n                $p.viewport[1] - viewDim[1] + padding.bottom - offset[1],\n            ]\n            let vDim = [\n                viewDim[0] - padding.left - padding.right,\n                viewDim[1] - padding.top - padding.bottom\n            ]\n\n            $p.attribute.aViewX = seqFloat(vOffset[0], vOffset[0] + vDim[0] - 1);\n            $p.attribute.aViewY = seqFloat(vOffset[1], vOffset[1] + vDim[1] - 1);\n            gl = $p.program(\"post-processing\");\n\n            $p.framebuffer.enableRead(\"offScreenFBO\");\n            $p.bindFramebuffer(\"visStats\");\n\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewX.location, 0);\n            $p.ctx.ext.vertexAttribDivisorANGLE($p.attribute.aViewY.location, 1);\n            // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n            // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n            gl.disable(gl.CULL_FACE);\n            gl.disable(gl.DEPTH_TEST);\n            gl.enable( gl.BLEND );\n            gl.blendFunc( gl.ONE, gl.ONE );\n            gl.blendEquation(gl.MAX_EXT);\n            gl.viewport(0, viewIndex, 1, 1);\n            gl.ext.drawArraysInstancedANGLE(\n                gl.POINTS,\n                0,\n                vDim[0],\n                vDim[1]);\n\n            var max = new Float32Array(4);\n            gl.readPixels(0, viewIndex, 1, 1, gl.RGBA, gl.FLOAT, max);\n            // if(max[3] == 0) {\n            //     max[3] = Math.sqrt($p.dataSize) * Math.log2($p.dataSize);\n            // }\n            // console.log(offset, viewDim);\n            $p.views[viewIndex].maxRGBA = max;\n        }\n\n        $p.uniform.uMaxRGBA = $p.views[viewIndex].maxRGBA;\n\n        $p.bindFramebuffer(null);\n        gl = $p.program(\"vis-render\");\n        gl.ext.vertexAttribDivisorANGLE($p.attribute._square.location, 0);\n        $p.framebuffer.enableRead(\"offScreenFBO\");\n\n        gl.viewport(\n            offset[0] + padding.left,\n            // offset[1] + padding.bottom,\n            $p.viewport[1] - viewDim[1] + padding.bottom - offset[1],\n            viewDim[0] - padding.left - padding.right,\n            viewDim[1] - padding.top - padding.bottom\n        );\n        // gl.blendEquation(gl.FUNC_ADD);\n        gl.disable( gl.BLEND );\n        // gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n        // gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n        gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n}\n","import aggregate  from './ops/aggregate';\nimport cache      from './ops/cache.gl';\nimport derive     from './ops/derive';\nimport extent     from './ops/extent.gl';\nimport match      from './ops/match';\nimport visualize  from './vis/visualize';\n\nexport default {\n    aggregate,\n    cache,\n    derive,\n    extent,\n    match,\n    visualize\n}","import {getHour, getDayOfWeek, getMonth, getYear} from '../gljs/datetime.gl'\n\nexport default function derive($p, spec) {\n\n  let derive = {};\n  let dataDimension = $p.uniform.uDataDim.data;\n  let deriveMax = $p.uniform.uDeriveCount.data;\n  let derivedFields = Object.keys(spec);\n\n  let fields = $p.fields;\n  if(derivedFields.length > $p.deriveMax) {\n    throw Error('Error: cannot derive more than ' + $p.deriveMax + ' new attributes');\n  }\n\n  $p.subroutine(\"hour\", \"float\", getHour);\n  $p.subroutine(\"month\", \"float\", getMonth);\n  $p.subroutine(\"year\", \"float\", getYear);\n  $p.subroutine(\"dayOfWeek\", \"float\", getDayOfWeek);\n\n  let marco = \"\\t\";\n\n  derivedFields.forEach(function(d, i){\n    let re = new RegExp(\"(\"+fields.join(\"|\")+\")\",\"g\");\n    // let formula = spec[d].replace(/@([\\w|\\d|_]+)/g, function(matched){\n    let formula = spec[d].replace(re, function(matched){\n      // console.log(matched);\n      let index = fields.indexOf(matched);\n      return 'this.getNonIndexedData ('  + index + ', pos.x, pos.y)';\n    });\n    marco += 'if (index == ' + i + ') return ' + formula + \"; \\n \\telse \";\n  });\n\n  marco = marco.replace(/\\$/g, 'this.') + \" return 0.0;\";\n\n  $p.uniform(\"uOptMode\", \"float\", 0)\n    .uniform(\"uDeriveId\", \"int\", 0)\n    .subroutine(\"getDerivedValue\", \"float\", new Function(\"$int_index\", \"$vec2_pos\", marco));\n\n  function vertexShader() {\n    gl_PointSize = 1.0;\n\n    var i, j;\n\n    i = (this.aDataIdx+0.5) / this.uDataDim.x;\n    j = (this.aDataIdy+0.5) / this.uDataDim.y;\n\n    this.vResult = this.getDerivedValue(this.uDeriveId, vec2(i, j));\n    if(this.uFilterFlag == 1) {\n      if(texture2D(this.fFilterResults, vec2(i, j)).a == 0.0)\n        this.vResult = 0.0;\n    }\n    var x, y;\n    if(this.uOptMode == 0.0){\n      x = 0.5;\n      y = 0.5;\n    } else {\n      x = i * 2.0 - 1.0;\n      y = j * 2.0 - 1.0;\n    }\n\n    gl_Position = vec4(x, y, 0.0, 1.0);\n  }\n\n  function fragmentShader() {\n    if(this.vResult == 0.0) discard;\n    if(this.uOptMode > 0.0 || this.vResult >= 0.0)\n      gl_FragColor = vec4(0.0, 0.0, 1.0, this.vResult);\n    else\n      gl_FragColor = vec4(-1.0, this.vResult, 0.0, 0.0);\n  }\n\n  var vs = $p.shader.vertex(vertexShader),\n    fs = $p.shader.fragment(fragmentShader),\n    gl = $p.createProgram(\"derive\", vs, fs);\n\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n  // gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n\n  function _execute() {\n    var gl = $p.program(\"derive\");\n    $p.framebuffer.enableRead(\"fFilterResults\");\n    $p.bindFramebuffer(\"fDerivedValues\");\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.DEPTH_TEST);\n    gl.enable( gl.BLEND );\n    gl.blendFunc( gl.ONE, gl.ONE );\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdx.location, 0);\n    gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataIdy.location, 1);\n    \n    if($p.indexes.length > 0)\n      gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValx.location, 0);\n     \n    if($p.indexes.length > 1)\n      gl.ext.vertexAttribDivisorANGLE($p.attribute.aDataValy.location, 1);\n    $p.uniform.uOptMode = 0.0;\n    // $p.uniform.uDeriveCount = derivedFields.length;\n    var deriveDomains = [];\n    derivedFields.forEach(function(d, i){\n      $p.uniform.uDeriveId = i;\n      gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n      gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n      gl.viewport(0, 0, 1,  1);\n\n      var result = new Float32Array(8);\n\n      gl.blendEquation(gl.MAX_EXT);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n      // gl.readPixels(0, 0, 1, 1, gl.RGBA, gl.FLOAT, max);\n\n      gl.viewport(1, 0, 1,  1);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n\n      gl.blendEquation(gl.MIN_EXT);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n      gl.readPixels(0, 0, 2, 1, gl.RGBA, gl.FLOAT, result);\n\n      var minValue = (result[4] < 0) ? result[5] : result[7],\n        maxValue = (result[2] > 0) ? result[3] : result[1];\n      deriveDomains[i] = [minValue, maxValue];\n\n      // deriveDomains[i] = [Math.min(min[0], min[3]), Math.max(max[0], max[3])];\n    });\n    gl.viewport(0, 0, dataDimension[0], dataDimension[1]*deriveMax);\n    gl.disable( gl.BLEND );\n    gl.clearColor( 0.0, 0.0, 0.0, 0.0 );\n    gl.clear( gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT );\n\n    $p.uniform.uOptMode = 1.0;\n\n    derivedFields.forEach(function(d, i){\n      $p.uniform.uDeriveId = i;\n      gl.viewport(0, dataDimension[1]*i, dataDimension[0], dataDimension[1]);\n      gl.ext.drawArraysInstancedANGLE(gl.POINTS, 0, dataDimension[0], dataDimension[1]);\n    });\n\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\n    return deriveDomains;\n  }\n\n  derive.execute = function(spec) {\n    var derivedFields = Object.keys(spec);\n    var newDerivedDomains = _execute();\n    if(!$p._update) {\n      newDerivedDomains.forEach(function(d, i) {\n        var fieldId = $p.fields.indexOf(derivedFields[i]);\n        if(fieldId === -1) {\n          $p.fields.push(derivedFields[i]);\n          fieldId = $p.fields.indexOf(derivedFields[i]);\n          $p.deriveCount += 1;\n        }\n        $p.fieldDomains[fieldId] = d;\n        $p.fieldWidths[fieldId] = d[1] - d[0] + 1;\n      });\n      $p.uniform.uFieldDomains.value($p.fieldDomains);\n      $p.uniform.uFieldWidths.data = $p.fieldWidths;\n    }\n  }\n\n  derive.result = function(arg) {\n    var options = arg || {},\n      offset = options.offset || [0, 0],\n      resultSize = options.size || $p.dataDimension[0]* $p.dataDimension[1],\n      fid = options.fieldId || options.deriveFieldId || 0,\n      rowSize = Math.min(resultSize, $p.dataDimension[0]),\n      colSize = Math.ceil(resultSize/$p.dataDimension[0]);\n    \n    $p.bindFramebuffer('DerivedValues');\n    var result = new Float32Array(rowSize * colSize * 4);\n    gl.readPixels(0, dataDimension[1]*fid, rowSize, colSize, gl.RGBA, gl.FLOAT, result);\n    return result.filter(function(d, i){ return i%4===3;} ); //return channel alpha in rgba\n  }\n\n  return derive;\n}\n","import programs from './kernels';\nimport compile from './compile';\nimport * as arrayOpt from './arrays';\n\nexport default function($p) {\n    let operations = {};\n    let kernels = compile($p);\n    let bin = function (spec, binIndex) {\n        let binAttr;\n        let binCount;\n    \n        if (typeof spec == 'object') {\n            binAttr = Object.keys(spec)[0];\n            binCount = spec[binAttr];\n        } else {\n            binAttr = spec;\n            // Apply Sturges' formula for determining the number of bins\n            binCount = Math.ceil(Math.log2($p.dataSize)) + 1;\n        }\n        let binAttrId = $p.fields.indexOf(binAttr);\n        let binDomain = $p.fieldDomains[$p.fields.indexOf(binAttr)];\n        let binInterval = (binDomain[1] - binDomain[0]) / binCount;\n        // debugger\n        $p.uniform.uBinCount.data[binIndex] = binCount;\n        $p.uniform.uBinIntervals.data[binIndex] = binInterval;\n        $p.fieldWidths[binAttrId] = binCount;    \n        $p.intervals[binAttr] = {};\n        $p.intervals[binAttr].dtype = 'histogram';\n        $p.intervals[binAttr].interval = binInterval;\n        $p.intervals[binAttr].min = binDomain[0];\n        $p.intervals[binAttr].max = binDomain[1];\n        $p.histograms.push(binAttr);\n        return binAttr;\n    }\n    \n    operations.aggregate = function (spec) {\n        if(spec.$bin) { \n            let binSpecs = Array.isArray(spec.$bin) ? spec.$bin : [spec.$bin];\n            let binAttrs = binSpecs.map((spec, ii) => {\n                return bin(spec, ii);\n            })\n            if(spec.$group) {\n                spec.$group = binAttrs.filter(a => spec.$group.indexOf(a) === -1).concat(spec.$group);\n            } else {\n                spec.$group = binAttrs;\n            }\n        }\n        if(Object.keys($p.crossfilters).length) {\n            $p.uniform.uFilterFlag = 1;\n            // operations.match({})\n            // $p.crossfilters = {}\n        }\n        if (!kernels.hasOwnProperty('aggregate')) {\n            kernels.aggregate = programs.aggregate($p, spec);\n        }\n        kernels.aggregate.execute(spec);\n        if (typeof(spec.out) === 'string') {\n            $p.setOutput(spec.out)\n        }\n        return kernels.aggregate.result;\n    }\n\n    operations.match = function(spec) {\n        if (!kernels.hasOwnProperty('match')) {\n            kernels.match = programs.match($p);\n        }\n        kernels.match.execute(spec);\n        return kernels.match.result;\n    }\n\n    operations.cache = function(tag) {\n        if (!kernels.hasOwnProperty('cache')) {\n            kernels.cache = programs.cache($p);\n        }\n        kernels.cache.execute(tag);\n        return kernels.cache.result;\n    }\n\n    operations.derive = function(spec) {\n        // if (!kernels.hasOwnProperty('derive')) {\n        if(!$p._update) {\n            kernels.derive = programs.derive($p, spec);\n        }\n        // }\n        kernels.derive.execute(spec);\n        return kernels.derive.result;\n    }\n\n    operations.visualize = function(vmap) {\n        // if(Object.keys($p.crossfilters).length > 0)\n        //     operations.match({});\n        let vmaps;\n        if(vmap.facets) {\n            let facet = vmap.facets;\n            let spec = facet.rows || facet.columns;\n            if(facet.sortBy !== undefined) {\n                let sortOpt = Object.keys(facet.sortBy)[0];\n                let sortAttr = facet.sortBy[sortOpt];\n                let result = $p.exportResult('row');\n                let sorted = spec[sortAttr].map((fields) => {\n                    let values = result.map(r => r[fields])\n                    let min = Math.min(...values);\n                    let max = Math.max(...values);\n                    let normalizedValues = values.map( val => (val - min) / (max - min) )\n                    if (sortOpt === 'var') sortOpt = 'variance';\n                    let opt = typeof(arrayOpt[sortOpt]) === 'function' ? sortOpt : 'avg'\n                    return {\n                        name: fields,\n                        value: arrayOpt[opt](normalizedValues)\n                    }\n                })\n                .sort((a, b) => b.value - a.value )\n                spec[sortAttr] = sorted.map(r => r.name);;\n            }\n            let encodings = Object.keys(vmap).filter(k => k !== 'facets')\n            let variables = Object.keys(spec)\n            let minLoopCount = Math.min(...variables.map(v => spec[v].length))\n\n            vmaps = new Array(minLoopCount)\n            for(let i = 0; i < minLoopCount; i++) {\n                let rule = {}\n                encodings.forEach(code => {\n                    let vi = variables.indexOf(vmap[code])\n                    if(vi < 0) {\n                    rule[code] = vmap[code]     \n                    } else {\n                    rule[code] = spec[variables[vi]][i]\n                    }\n                })\n                vmaps[i] = rule;\n                if(facet.brush && i === 0) {\n                    vmaps[i].brush = facet.brush;\n                    vmaps[i].brush.facet = 'rows'\n                }\n            }\n        } else {\n            vmaps = Array.isArray(vmap) ? vmap : [vmap];\n        }\n\n        if($p.grid.views.length < vmaps.length) {\n            $p.grid.reset();  \n            $p.views = $p.grid.generateViews({\n                count: vmaps.length, \n                width: $p.viewport[0],\n                height: $p.viewport[1],\n                padding: $p.padding,\n                gridlines: vmap.gridlines\n            })\n        }\n        vmaps.forEach( (vmap, vi) => {\n            if (!kernels.hasOwnProperty('visualize')) {\n                kernels.visualize = programs.visualize($p);\n            }\n            if (vmap.in) {\n                $p.setInput(vmap.in);\n            }\n            let viewIndex = vi;\n            if(typeof vmap.id == 'string') {\n                viewIndex = $p.views.map(d=>d.id).indexOf(vmap.id);\n                if(viewIndex == -1) {\n                    //find the next available view slot in all views\n                    for(let vi = 0; vi < $p.views.length; vi++){\n                        if(!$p.views[vi].id) {\n                            viewIndex = vi;\n                            $p.views[viewIndex].id = vmap.id;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            if(vmap.mark == 'bar') vmap.zero = true;\n            $p.views[viewIndex].vmap = vmap;\n            let encoding = vmap,\n                viewTag = $p.views[viewIndex].id;\n    \n            if($p._update && $p.responses.hasOwnProperty(viewTag)) {\n                if($p.responses[viewTag].hasOwnProperty($p._responseType)) {\n                    encoding = Object.assign({}, vmap, $p.responses[viewTag][$p._responseType]);\n                }\n            }\n            if(encoding.opacity !== 0){\n                kernels.visualize({\n                    vmap: encoding,\n                    viewIndex: viewIndex\n                });\n                $p.respond();\n            }\n        })\n        $p.reset();\n    }\n\n    return operations;\n}","import aggregate  from './ops/aggregate';\nimport cache      from './ops/cache.gl';\nimport derive     from './ops/derive';\nimport extent     from './ops/extent.gl';\nimport match      from './ops/match';\nimport visualize  from './vis/visualize';\nimport reveal     from './vis/reveal';\n\nexport default function compile($p, fields, spec) {\n\n    // if(spec.hasOwnProperty('perceptual'))\n    //     operations.perceptual = kernels.perceptual($p);\n    //\n    // if(spec.hasOwnProperty('derive'))\n    //     operations.derive = kernels.derive($p, spec.derive);\n\n    return {\n        aggregate : aggregate($p),\n        cache     : cache($p),\n        match     : match($p, fields),\n        extent    : extent($p),\n        visualize : visualize($p)\n    }\n}\n","import { vis } from 'p3.js';\n// import animation from '../src/animate';\n\nexport default [\n    {\n        name: 'spline',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        compute: true,\n        condition: vmap => vmap.mark === 'spline', \n        type: 'class',\n        function: vis.Spline\n    },\n    {\n        name: 'area',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        condition: vmap => vmap.mark === 'area', \n        type: 'class',\n        function: vis.AreaChart\n    },\n    {\n        name: 'column',\n        exportData: true,\n        skipDefault: true,\n        getContext: false,\n        restartOnUpdate: false,\n        condition: vmap => vmap.mark === 'column', \n        type: 'class',\n        function: vis.BarChart\n    },\n    // {\n    //     name: 'animate',\n    //     // exportData: true,\n    //     skipDefault: true,\n    //     getContext: true,\n    //     restartOnUpdate: false,\n    //     condition: vmap => vmap.mark === 'circle' && vmap.animate === true, \n    //     function: animation\n    // }\n]\n","export default class Grid {\n    constructor(views) {\n        this.views = views\n    }\n\n    add (view) {\n        this.view.push(view)\n    }\n\n    reset () {\n        this.views.forEach(function(v){\n            if(v.hasOwnProperty('chart')) {\n                v.chart.svg.remove()\n                v.chart.removeAxis()\n                v.chart.removeLegend()\n                delete v.chart\n            }\n        })\n    }\n\n    generateViews ({\n        layout = 'rows',\n        count = 1,\n        width = 640,\n        height = 480,\n        padding = {left: 0, right: 0, top: 0, bottom: 0},\n        gridlines = {x: false, y: false}\n    }) {\n        let views = new Array(count)\n        let calcOffset\n        // height -= padding.top + padding.bottom;\n        // width -= padding.left + padding.right;\n        if (layout == 'rows') {\n            height = height / count\n            calcOffset = (index) => [0, index * height]\n        } else {\n            width = width / count\n            calcOffset = (index) => [index * width, 0]\n        }\n        for (let i = 0; i < count; i++) {\n            let offset = calcOffset(i)\n            views[i] = {width, height, padding, offset, gridlines}\n        }\n        this.views = views;\n        return views;\n    }\n}","import allocate from './allocate';\nimport input from './io/input';\nimport output from './io/output';\nimport initialize from './initialize';\nimport interact from './interact';\nimport control from './control';\nimport pipeline from './pipeline';\nimport operate from './operate';\nimport kernels from './kernels';\nimport extensions from './extensions';\nimport Grid from './grid';\nimport cstore from './cstore';\n\nexport default function p4(options) {\n  let $p = initialize(options);\n  $p.async = options.async || false;\n  $p.views = [];\n  $p.interactions = [];\n  $p.histograms = [];\n  $p.extensions = extensions;\n  $p.responses = {};\n  $p.crossfilters = {};\n  $p.primitives = [];\n  $p.dataSize = 0;\n  $p.rowSize = options.dimX || 4096;\n  $p.deriveMax = options.deriveMax || 4;\n  $p.deriveCount = 0;\n  \n  $p._responseType = 'unselected';\n  $p._update = false;\n  $p._progress = false;\n  $p.skipRender= false;\n\n  $p.getResult = function() {};\n  let api = pipeline($p);\n  api.ctx = $p;\n  api.addModule(control);\n  api.assignMethods(output);\n  // api.addModule(view);\n  // let outputs = output($p)\n  // api.result = outputs.result;\n  api.addOperation('head', function() {\n    api.resume('__init__');\n    if(Object.keys($p.crossfilters).length > 0) api.match({});\n    $p.getResult = $p.getRawData;\n    return api;\n  });\n\n  $p.grid = {views: []};\n  api.view = function(views) {\n    if($p.grid.views.length !== 0) {\n      $p.grid.reset();\n    } \n    $p.grid = new Grid(views);\n    $p.views = $p.grid.views;\n    return api;\n  }\n  api.views = api.view;\n  api.getViews = function () {\n    return $p.views;\n  }\n  \n  $p.reset = api.head;\n  $p.exportResult = api.result;\n\n  $p.setInput = function(inputName) {\n    api.resume(inputName);\n    return api;\n  }\n\n  $p.setOutput = function(outputName) {\n    api.register(outputName);\n    // console.log(api.result({outputTag: outputName, format: 'row'}))\n    return api;\n  }\n\n  function configPipeline($p) {\n    $p.extent = kernels.extent($p);\n    // $p.operations = compile($p);\n    let operations = operate($p);\n    api.getOperations = () => Object.keys(operations);\n    for(let optName of Object.keys(operations)) {\n      api.addOperation(optName, operations[optName], true);\n    }\n    \n    for(let ext of $p.extensions) {\n      if(ext.getContext === true) {\n        ext.function = ext.function($p);\n      }\n    }\n    api.register('__init__');\n  }\n  \n  api.data = function(dataOptions) {\n    if (dataOptions.format === 'json') {\n      let columns = cstore({\n          schema: dataOptions.schema,\n          size: dataOptions.values.length\n        })\n        .import({data: dataOptions.values});\n\n      allocate($p, columns.data());\n    } else {\n      allocate($p, dataOptions);\n    }\n    configPipeline($p);\n    $p.getResult = dataOptions.export;\n    $p.cache = api.cache;\n    $p.getRawData = dataOptions.export;\n    $p.match = api.match;\n    return api;\n  }\n\n  api.index = function(indexes) {\n    data.indexes = indexes;\n    return api;\n  }\n\n  let asyncPipeline = {};\n  let asyncInput = function(arg) {\n    let inputReady = false;\n    for(let program of Object.keys(api).concat(Object.keys(kernels))) {\n      asyncPipeline[program] = function(spec) {\n        api.addToQueue(program, spec);\n        return asyncPipeline;\n      }\n    }\n\n    asyncPipeline.execute = function() {\n      return input(arg).then(function(data){\n        if(Array.isArray(arg.indexes)) {\n          data.indexes = arg.indexes;\n        }   \n        api.data(data);\n        api.async(true);\n        api.run();\n        api.async(false);\n        inputReady = true;\n        return new Promise(function(resolve, reject){\n          resolve(api.result('row'))\n          return api;\n        })\n      })\n    }\n\n    asyncPipeline.commit = asyncPipeline.execute;\n\n    if(arg.dimX) $p.rowSize = arg.dimX;\n    return asyncPipeline;\n  }\n\n  api.runJSON = function(jsonSpec) {\n    let inputSpec = jsonSpec[0];\n    if (!inputSpec.hasOwnProperty('input')) {\n      throw Error('Error: No specification for input!');\n    }\n    let asyncPipeline = api.input(inputSpec)\n    jsonSpec.slice(1).forEach(spec => {\n      let opt = Object.keys(spec)[0];\n      asyncPipeline[opt](spec[opt]);\n    })\n\n    return api;\n  }\n\n  api.getResult = function (d) {\n    return $p.getResult(d);\n  }\n\n  api.clearWebGLBuffers = function() {\n    let frameBuffers = ['offScreenFBO', 'visStats', null];\n    frameBuffers.forEach(fb => {\n      $p.bindFramebuffer(fb);\n      $p.ctx.clearColor( 0.0, 0.0, 0.0, 0.0 );\n      $p.ctx.clear( $p.ctx.COLOR_BUFFER_BIT | $p.ctx.DEPTH_BUFFER_BIT );\n    })\n  }\n\n  api.runSpec = function(specs) {\n    api.head();\n    api.clearWebGLBuffers();\n    $p.interactions = [];\n    $p.responses = {};\n    $p.crossfilters = [];\n    $p.uniform.uFilterFlag.data = 0;\n    api.clearQueue();\n    // $p.uniform.uFilterRanges = $p.fieldDomains.concat($p.deriveDomains);\n    specs.forEach(function(spec){\n      let opt = Object.keys(spec)[0];\n      let arg = spec[opt];\n      opt = opt.slice(1); // ignore $ sign \n      if(typeof api[opt] == 'function') {\n        api[opt](arg);\n      }\n    })\n    return api;\n  }\n  \n  api.interact = function(spec) {\n    if(typeof(spec) != 'undefined') $p.interactions.push(spec);\n    $p.interactions.forEach(function(interaction){\n      // console.log(interaction)\n      let callback = interaction.callback || function(selection) {\n        $p.responses = interaction.response;\n        if(!$p._update) {\n          $p._update = true;\n          $p.crossfilters = {};\n          if(typeof selection == 'object') {\n            Object.keys(selection).forEach(function(k) {\n              if(selection[k].length < 2) {\n                if($p.intervals.hasOwnProperty(k)) {\n                  var value = (Array.isArray(selection[k]))\n                    ? selection[k][0]\n                    : selection[k];\n                  selection[k] = [value-$p.intervals[k].interval, value];\n                } \n                // else if(!$p.strLists.hasOwnProperty(k)) {\n                //     selection[k] = [selection[k][0] + selection[k][0] + 1];\n                // }\n              }\n              $p.crossfilters[k] = selection[k];\n            });\n          }\n          $p._responseType = 'unselected';\n          $p.uniform.uFilterLevel.data = 0.2;\n          $p.uniform.uVisLevel.data = 0.1;\n          api.head().run();\n          $p._responseType = 'selected';\n          $p.uniform.uVisLevel.data = 0.2;\n          api.head().run();\n          $p._responseType = 'unselected';\n          $p._update = false;\n          $p.uniform.uFilterLevel.data = 0.1;\n          $p.uniform.uVisLevel.data = 0.1;\n        }\n      }\n      interact($p, {\n        actions: interaction.event,\n        view: interaction.from,\n        condition: interaction.condition,\n        facet: interaction.facet,\n        callback: callback  \n      })\n    })\n  }\n  $p.respond = api.interact;\n\n  api.updateData = function(newData) {\n    let data;\n    if(newData._p4_cstore_version) {\n      data = newData\n    } else {\n      \n      let cache = cstore({\n        schema: $p.dataSchema,\n        strValues: $p.strValues\n      })\n      cache.addRows(newData)\n      data = cache.data()\n    }\n\n    //update and combine all strValues\n    Object.keys(data.strValues).forEach((attr) => {\n      $p.strValues[attr] = Object.assign($p.strValues[attr], data.strValues[attr]);\n    })\n\n    if(data.size > 0) {\n      $p.dataSize = data.size;\n    }\n    $p.fields\n    .slice($p.indexes.length)\n    .forEach((attr, ai) => {\n      let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n      if(data[attr] === undefined) debugger;\n      for (let i = 0, l = data[attr].length; i < l; i++) {\n        buf[i] = data[attr][i];\n      }\n      $p.texture.tData.update(\n        buf, [0, $p.dataDimension[1] * ai], $p.dataDimension\n      );\n      $p.fieldDomains[ai] = [\n        Math.min(data.stats[attr].min, $p.fieldDomains[ai][0]),\n        Math.max(data.stats[attr].max, $p.fieldDomains[ai][1])\n      ]\n      $p.fieldWidths[ai] = $p.fieldDomains[ai][1] - $p.fieldDomains[ai][0] + 1;\n      if(data.strLists.hasOwnProperty(attr)){\n        $p.fieldDomains[ai] = [0, data.strLists[attr].length - 1];\n        $p.strLists[attr] = data.strLists[attr];\n        $p.fieldWidths[ai] = data.strLists[attr].length;\n      }\n    });\n\n    api.updateRegister('__init__', {\n      fieldDomains: $p.fieldDomains,\n      fieldWidths: $p.fieldWidths}\n    )\n    $p.uniform.uFieldDomains.data = $p.fieldDomains;\n    $p.uniform.uFieldWidths.data = $p.fieldWidths;\n    return api;\n  }\n\n  api.updateDataColumn = function(data, attribute) {\n    if($p.fields.indexOf(attribute) === -1) {\n      throw Error('Invalid attribute', attribute);\n    }\n    let buf = new Float32Array($p.dataDimension[0] * $p.dataDimension[1]);\n    let attrId = $p.fields.indexOf(attribute) - $p.indexes.length;\n    for (let i = 0, l = data[attribute].length; i < l; i++) {\n      buf[i] = data[attr][i];\n    }\n    $p.texture.tData.update(\n      buf, [0, $p.dataDimension[1] * attrId], $p.dataDimension\n    );\n  }\n\n  api.updateDataRow = function(data, rowId) {\n    let dataType = (Array.isArray(data)) ? 'array' : 'json';\n    $p.fields.slice($p.indexes.length).forEach((attr, ai) => {\n      let texPosX = rowId % $p.dataDimension[0];\n      let value = (dataType == 'array') ? data[ai] : data[attr];\n      if(value === undefined) throw Error('Cannot update data due to invalid data value');\n      $p.texture.tData.update(\n        new Float32Array(data[ai]), [texPosX, $p.dataDimension[1] * i], [1,1]\n      );\n    });\n    return api;\n  }\n\n  api.extend = function(arg) {\n    let extOptions = Object.assign({\n      restartOnUpdate: true,\n      skipDefault: false,\n      exportData: false,\n      getContext: false,\n    }, arg)\n\n    if(extOptions.name != undefined && \n      (typeof extOptions.function === 'function' \n      || typeof extOptions.constructor === 'function')\n    ) {\n      $p.extensions.push(extOptions);\n    }\n  }\n\n  api.annotate = function ({\n    id = 0,\n    mark = 'vline',\n    color = 'red',\n    size = 3,\n    position = {values: []}\n  }) {\n    let view = $p.views[0];\n    if (Number.isInteger(id) && id < $p.views.length) {\n      view = $p.views[id];\n    } else {\n      $p.views.filter(v => v.id == id);\n      if (view.length > 0) {\n        view = view[0];\n      }\n    }\n    if (mark === 'vline') {\n      let values = position[view.vmap.x || view.vmap.width] || position.values;\n      values.forEach(val => {\n        let x = view.chart.x(val);\n        view.chart.svg.append('line')\n          .attr('x1', x)\n          .attr('x2', x)\n          .attr('y1', 0)\n          .attr('y2', view.height - view.padding.top - view.padding.bottom)\n          .attr('stroke', color)\n          .attr('stroke-width', size)\n      })\n    } else if (mark === 'hline') {\n      let values = position[view.vmap.y || view.vmap.height] || position.values;\n      values.forEach(val => {\n        let y = view.chart.y(val);\n        view.chart.svg.append('line')\n          .attr('x1', 0)\n          .attr('x2', view.width - view.padding.left - view.padding.height)\n          .attr('y1', y)\n          .attr('y2', y)\n          .attr('stroke', color)\n          .attr('stroke-width', size)\n      }) \n    }\n  }\n\n  let inputDataOptions = options.data || options.input;\n  if ($p.async && inputDataOptions) {\n    return asyncInput(options.data)\n  } else if ($p.async) { //no data option\n    asyncPipeline.data = asyncInput;\n    asyncPipeline.input = asyncInput;\n    return asyncPipeline;\n  } else {\n    return api;\n  }\n}\n","import FlexGL from '../flexgl';\n\nexport default function init({\n    context = null,\n    container = document.body,\n    viewport =  [800, 450],\n    padding = {left:0, right: 0,top: 0, bottom: 0},\n    attributes = {},\n    views\n}){\n    let $p = context;\n    let defaultLayout = [\n        {\n            width: viewport[0],\n            height: viewport[1],\n            // padding: {left: 30, right: 30, top: 30, bottom: 30},\n            offset: [0, 0]\n        }\n    ];\n    if ($p === null) {\n        $p = new FlexGL({\n            container: container,\n            width: viewport[0],\n            height: viewport[1],\n            padding: {left:0, right: 0,top: 0, bottom: 0},\n            attributes: attributes\n        });\n    }\n    $p.container = container;\n    $p.padding = padding;\n    $p.viewport = viewport;\n    $p.views = views || defaultLayout;\n    return $p;\n}\n","export default function pipeline($p) {    \n    let pipeline = {};\n    let async = false;\n    let optID = 0;\n    let queue = [];\n    \n    pipeline.addModule = function(mod) {\n        let newModule = mod($p)\n\n        Object.keys(newModule).forEach(name => {\n            if (typeof(newModule[name]) === 'function') {\n                pipeline[name] = function() {\n                    newModule[name].apply(null, arguments);\n                    return pipeline;\n                }\n            }\n        })\n        return pipeline;\n    }\n\n    pipeline.assignMethods = function(mod) {\n        let newModule = mod($p)\n\n        Object.keys(newModule).forEach(name => {\n            if (typeof(newModule[name]) === 'function') {\n                pipeline[name] = function() {\n                    return newModule[name].apply(null, arguments);\n                }\n            }\n        })\n        return pipeline;\n    }\n\n    pipeline.addToQueue = function (opt, arg) {\n        if(!$p._update && !$p._progress) {\n            let spec = {};\n            spec[opt] = arg;\n            queue.push(spec);\n            return optID++;\n        } else {\n            return -1;\n        }\n    }\n\n    pipeline.addOperation = function(name, operation, overwrite = false) {\n        if(!pipeline.hasOwnProperty(name) || overwrite) {\n            pipeline[name] = function(arg) {\n                if(!async) {\n                    pipeline.addToQueue(name, arg);\n                }\n                let getResult = operation(arg);\n                if(typeof(getResult) === 'function') {\n                    $p.getResult = getResult;\n                }\n                return pipeline;\n            }\n        }   \n    }\n\n    pipeline.clearQueue = function() {\n        queue = [];\n        return pipeline;\n    }\n\n    pipeline.run = function(jobs = queue) {\n        for (let q of jobs) {\n            let opt = Object.keys(q)[0];\n            if(typeof pipeline[opt] === 'function') {\n                pipeline[opt](q[opt]);\n            }\n        }\n        return pipeline;\n    }\n\n    pipeline.queue = function() {\n        return queue;\n    }\n\n    pipeline.async = function(isAsync) {\n        async = isAsync;\n    }\n\n    return pipeline;\n}","\nimport Brush from './vis/brush';\nexport default function interact($p, options) {\n  let viewTags = options.view || [$p.views[0].id];\n\n  if(!Array.isArray(viewTags)) viewTags = [viewTags];\n\n  let actions = options.actions || options.events || [],\n    condition = options.condition || {},\n    facet = options.facet || false,\n    callback = options.callback || function() {};\n\n  if($p._update) return;\n\n  if(!condition.x && !condition.y) {\n    condition.x = condition.y = true;\n  }\n\n  viewTags.forEach(function(viewTag){\n    let vis = $p.views.filter(v=>v.id == viewTag)[0];\n    if(!Array.isArray(actions)) {\n      actions = [actions];\n    }\n\n    if(vis === undefined || !vis.hasOwnProperty('chart')) return;\n\n    let vmap = vis.vmap,\n      p = vis.padding || $p.padding,\n      w = vis.width - p.left - p.right,\n      h = vis.height - p.top - p.bottom;\n    \n    let interactor = vis.chart.svg.append(\"g\")\n      .attr(\"class\", \"selector\")\n\n    if(facet === 'rows') {\n      h = $p.viewport[1] - p.bottom;\n    } else if(facet === 'columns') {\n      w = $p.viewport[0] - p.right;\n    }\n\n    let rect = interactor.append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", w)\n      .attr(\"height\", h)\n      .attr(\"fill-opacity\", 0)\n      .attr(\"stroke\", \"none\");\n\n    let svg = interactor.svg,\n      box = rect.svg.getBoundingClientRect();\n\n    function getSelection(e) {\n      let dx = e.clientX - box.left;\n      let dy = e.clientY - box.top;\n      let selection = {};\n      if(vmap.x) {\n        selection[vmap.x] = [vis.chart.x.invert(dx)];\n      }\n      if(vmap.y) {\n        selection[vmap.y] = [vis.chart.y.invert(h - dy)];\n      }\n      return selection;\n    }\n\n    actions.forEach(function(action){\n      if(action === 'brush') {\n        svg.style.cursor = \"crosshair\";\n        let brushOptions = {\n          container: interactor,\n          width: w,\n          height: h\n        };\n\n        if(!Array.isArray(vmap.x) && !Array.isArray(vmap.y)) {\n          let updateEvent = (condition.lazy) ? 'brushend' : 'brush';\n          brushOptions[updateEvent] = function(d) {\n            let selection = {};\n            if(vmap.x && d.x) selection[vmap.x] = d.x;\n            if(vmap.y && d.y) {\n              if (d.y[0] > d.y[1]) {\n                selection[vmap.y] = d.y.reverse();\n              } else {\n                selection[vmap.y] = d.y;\n              }\n            }\n\n            Object.keys(selection).forEach(k => {\n              if ($p.uniqueValues.hasOwnProperty(k)) {\n                let values = $p.uniqueValues[k]\n                let start = Math.floor(selection[k][0]);\n                let end = Math.floor(selection[k][1]);\n                if(end === start) start -= 1;\n                selection[k] = [values[start], values[end]];\n              } \n            })\n\n            callback(selection);\n          }\n          if(condition.x && typeof(vis.chart.x.invert) == 'function')\n            brushOptions.x = vis.chart.x.invert;\n\n          if(condition.y && typeof(vis.chart.y.invert) == 'function') {\n            brushOptions.y = (y) => { \n              if(vmap.mark === 'rect') {\n                return vis.chart.y.invert(h-y);\n              }\n              return vis.chart.y.invert(y);\n            } \n          }\n          \n          new Brush(brushOptions);\n        }\n\n        let dims = ['x', 'y'],\n          selections = {};\n\n        dims.forEach(function(dim){\n          if(Array.isArray(vmap[dim]) && Array.isArray(vis.chart[dim])){\n            let axisDist = (dim == 'x') ? h : w,\n              selectors = vis.chart.svg.append('g');\n\n            axisDist =  axisDist / (vmap[dim].length-1);\n\n            vmap[dim].forEach(function(d, i) {\n\n              let axisSelect = selectors.append(\"g\");\n              if(dim == 'x') {\n                brushOptions.height = axisDist * 0.2;\n                axisSelect.translate(0, axisDist * (i - 0.1));\n                brushOptions.brush = function(range) {\n                  selections[d] = range[dim];\n                  callback(selections);\n                }\n              } else {\n                brushOptions.width = axisDist * 0.2;\n                axisSelect.translate(axisDist * (i - 0.1), 0);\n                brushOptions.brush = function(range) {\n                  selections[d] = range[dim].reverse();\n                  callback(selections);\n                }\n              }\n              brushOptions.container = axisSelect;\n              brushOptions[dim] = vis.chart[dim][i].invert;\n\n              new Brush(brushOptions);\n            });\n          }\n        })\n      } else if(action === 'zoom') {\n        vis.updateDomain = true;\n        let delta = {x: null, y: null};\n        let scale = 0.05;\n        svg.onmousewheel = function(e) {\n          let dir = (e.deltaY > 0) ? 1 : -1;\n          let selection = {};\n          let proportion = {\n            x: (e.clientX - box.left) / box.width,\n            y: 1.0 - (e.clientY - box.top) / box.height\n          }\n\n          for (let dim of ['x', 'y']) {\n            if(condition[dim]) {\n              let attr = vis.vmap[dim];\n              if(delta[dim] === null ){\n                delta[dim] =  scale * (vis.domains[attr][1] - vis.domains[attr][0]);\n              }\n    \n              let domain = vis.domains[attr];\n              let newDomain = [domain[0] - dir * delta[dim] * (proportion[dim]), domain[1] + dir * delta[dim] * (1-proportion[dim])];\n              if(newDomain[1] - newDomain[0] > 1e-9){\n                selection[attr] = newDomain;\n                vis.domains[attr] = newDomain;\n              } else {\n                scale *= 0.5;\n              }\n\n            }\n          }\n          callback(selection);\n        }\n\n      } else if(action == 'pan') {\n        svg.style.cursor = 'move';\n        vis.updateDomain = true;\n        let selection = {};\n        svg.onmousedown = function(e) {\n          let sx = e.clientX;\n          let sy = e.clientY;\n          svg.style.cursor = 'move';\n\n          function onpan(e) {\n            let delta = {\n              x: -(e.clientX - sx) / box.width,\n              y: (e.clientY - sy) / box.height\n            }\n            for (let dim of ['x', 'y']) {\n              if(condition[dim]) {\n                let attr = vis.vmap[dim];\n                let domain = vis.domains[attr];\n                let diff = delta[dim] * (domain[1] - domain[0]);\n                let newDomain = [domain[0] + diff, domain[1] + diff];\n                selection[attr] = newDomain;\n                vis.domains[attr] = newDomain;\n              }\n            }\n            sx = e.clientX;\n            sy = e.clientY;\n            callback(selection);\n          }\n\n          window.addEventListener(\"mousemove\", onpan, false);\n          window.addEventListener(\"mouseup\", function(){\n            svg.style.cursor = 'default';\n            window.removeEventListener(\"mousemove\", onpan, false);\n          }, false);\n\n        }\n\n      } else if(action === 'click') {\n        svg.onclick = function(e) {\n          callback(getSelection(e));\n        }\n      } \n      \n      if(action === 'hover') {\n        svg.onmouseover = function(e) {\n          callback(getSelection(e));\n          svg.onmousemove = function(e) {\n            callback(getSelection(e));\n          }\n\n          // svg.onmouseout = function(e) {\n          //     updatePos(e);\n          //     svg.style.cursor = 'default';\n          //     svg.onmousemove = null;\n          //     svg.onmouseover = null;\n          // }\n        }\n      }\n    })\n  })\n}\n","module.exports = {\n\n  /**\n   * ### config.includeStack\n   *\n   * User configurable property, influences whether stack trace\n   * is included in Assertion error message. Default of false\n   * suppresses stack trace in the error message.\n   *\n   *     chai.config.includeStack = true;  // enable stack on error\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  includeStack: false,\n\n  /**\n   * ### config.showDiff\n   *\n   * User configurable property, influences whether or not\n   * the `showDiff` flag should be included in the thrown\n   * AssertionErrors. `false` will always be `false`; `true`\n   * will be true when the assertion has requested a diff\n   * be shown.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  showDiff: true,\n\n  /**\n   * ### config.truncateThreshold\n   *\n   * User configurable property, sets length threshold for actual and\n   * expected values in assertion errors. If this threshold is exceeded, for\n   * example for large data structures, the value is replaced with something\n   * like `[ Array(3) ]` or `{ Object (prop1, prop2) }`.\n   *\n   * Set it to zero if you want to disable truncating altogether.\n   *\n   * This is especially userful when doing assertions on arrays: having this\n   * set to a reasonable large value makes the failure messages readily\n   * inspectable.\n   *\n   *     chai.config.truncateThreshold = 0;  // disable truncating\n   *\n   * @param {Number}\n   * @api public\n   */\n\n  truncateThreshold: 40,\n\n  /**\n   * ### config.useProxy\n   *\n   * User configurable property, defines if chai will use a Proxy to throw\n   * an error when a non-existent property is read, which protects users\n   * from typos when using property-based assertions.\n   *\n   * Set it to false if you want to disable this feature.\n   *\n   *     chai.config.useProxy = false;  // disable use of Proxy\n   *\n   * This feature is automatically disabled regardless of this config value\n   * in environments that don't support proxies.\n   *\n   * @param {Boolean}\n   * @api public\n   */\n\n  useProxy: true,\n\n  /**\n   * ### config.proxyExcludedKeys\n   *\n   * User configurable property, defines which properties should be ignored\n   * instead of throwing an error if they do not exist on the assertion.\n   * This is only applied if the environment Chai is running in supports proxies and\n   * if the `useProxy` configuration setting is enabled.\n   * By default, `then` and `inspect` will not throw an error if they do not exist on the\n   * assertion object because the `.inspect` property is read by `util.inspect` (for example, when\n   * using `console.log` on the assertion object) and `.then` is necessary for promise type-checking.\n   *\n   *     // By default these keys will not throw an error if they do not exist on the assertion object\n   *     chai.config.proxyExcludedKeys = ['then', 'inspect'];\n   *\n   * @param {Array}\n   * @api public\n   */\n\n  proxyExcludedKeys: ['then', 'catch', 'inspect', 'toJSON']\n};\n","export default function(data, spec){\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    if(typeof(spec) === \"function\") {\n        data.forEach(spec);\n    } else {\n        var result = [],\n            tranfs = {};\n\n        Object.keys(spec).forEach(function(s){\n            if(typeof(spec[s]) == \"function\") {\n                tranfs[s] = function(d) { d[s] = spec[s](d) };\n            } else {\n                tranfs[s] = Function(\"attr\", \"attr.\" + s + \"=\" + spec[s].replace(/@/g, 'attr.').replace(/\\$/g, '$.') + \";\");\n            }\n        });\n\n        data.forEach(function(d){\n            Object.keys(spec).forEach(function(s){\n                tranfs[s](d);\n            });\n        });\n    }\n\n    return data;\n}\n","var array = {};\nfunction _reduce(array, opt) {\n    var i,\n        len = array.length,\n        fn,\n        result;\n\n    if(!len) return 0;\n\n    switch (opt) {\n        case \"max\":\n            result = array.reduce(function(a, b) {\n                return (a > b) ? a : b;\n            });\n            break;\n        case \"min\":\n            result = array.reduce(function(a, b) {\n                return (a < b) ? a : b;\n            });\n            break;\n        case \"and\":\n        case \"&\":\n            result = array.reduce(function(a, b) {\n                return a & b;\n            });\n            break;\n        case \"or\":\n        case \"|\":\n            result = array.reduce(function(a, b) {\n                return a | b;\n            });\n            break;\n        case \"mult\":\n        case \"*\":\n            result = array.reduce(function(a, b) {\n                return a * b;\n            });\n            break;\n        default: // \"sum\" or \"+\"\n            result = array.reduce(function(a, b) {\n                return a + b;\n            });\n            break;\n    }\n\n    return result;\n}\n\narray.reduce = function(opt) {\n    return function(array) {\n        var a = (array instanceof Array) ? array : Array.apply(null, arguments);\n        return _reduce(a, opt);\n    };\n};\n\narray.avg = function(array) {\n    return _reduce(array, \"+\") / array.length;\n    // return array.reduce(function(a,b){ return 0.5 * (a + b)});\n};\n\narray.normalize = function(array) {\n    var max = _reduce(array, \"max\"),\n        min = _reduce(array, \"min\"),\n        range = max - min;\n\n    return array.map(function(a){\n        return (a - min) / range;\n    });\n}\n\narray.seq = function(start, end, intv) {\n    var interval = intv || 1,\n        array = [];\n\n    for(var i=start; i<=end; i+=interval)\n        array.push(i);\n\n    return array;\n};\n\n[\"max\", \"min\", \"mult\", \"and\", \"or\"].forEach(function(f) {\n    array[f] = array.reduce(f);\n});\n\narray.sum = array.reduce(\"+\");\n\narray.scan = array.pfsum = function(a){\n    var pfsum = [],\n        accum = 0;\n\n    for (var i = 0; i < a.length; i++) {\n        accum += a[i];\n        pfsum.push(accum);\n    }\n\n    return pfsum;\n};\n\narray.iscan = function(a) {\n    return array.scan([0].concat(a));\n};\n\narray.diff = function(a, b) {\n    var difference = [];\n    a.forEach(function(d){\n        if (b.indexOf(d)===-1) {\n            difference.push(d);\n        }\n    });\n    return difference;\n};\n\narray.intersect = function(a, b) {\n    var t;\n    if (b.length > a.length) t = b, b = a, a = t; // indexOf to loop over shorter\n    return a.filter(function (e) {\n            if (b.indexOf(e) !== -1) return true;\n    });\n};\n\narray.unique = function(a) {\n    return a.reduce(function(b, c) {\n        if (b.indexOf(c) < 0) b.push(c);\n        return b;\n    }, []);\n};\n\narray.lcm = function(A) {\n    var n = A.length, a = Math.abs(A[0]);\n    for (var i = 1; i < n; i++) {\n        var b = Math.abs(A[i]), c = a;\n        while (a && b){ (a > b) ? a %= b : b %= a; }\n        a = Math.abs(c*A[i])/(a+b);\n    }\n    return a;\n};\n\narray.stats = function(array){\n    return {\n        max: _reduce(array, \"max\"),\n        min: _reduce(array, \"min\"),\n        avg: array.avg(array)\n    };\n};\n\narray.histogram = function(array, numBin, _max, _min) {\n    var l = array.length,\n        min = (typeof(_min) == 'number') ? _min : _reduce(array, \"min\"),\n        max = (typeof(_max) == 'number') ? _max : _reduce(array, \"max\"),\n        range = max - min,\n        interval = range / numBin,\n        bins = [],\n        // ids = [],\n        hg = new Array(numBin+1).fill(0);\n\n    for(var b = 0; b < numBin; b++) {\n        bins.push([min + range * (b/(numBin)), min + range*(b+1)/(numBin)]);\n        // ids[b] = [];\n    }\n\n    // ids[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        hg[binID]++;\n        // ids[binID].push(i);\n    };\n\n    hg[numBin-1] += hg[numBin];\n    // ids[numBin-1] = ids[numBin-1].concat(ids.pop());\n    return {\n        bins: bins,\n        counts: hg.slice(0,numBin),\n        // ids: ids\n    };\n}\n\narray.var = function(rowArray) {\n    var m = _reduce(rowArray, \"+\") / rowArray.length,\n        va = rowArray.map(function(a){ return Math.pow(a-m, 2) });\n\n    return _reduce(va, \"+\") / (rowArray.length - 1);\n}\n\narray.std = function(rowArray) {\n    return Math.sqrt(array.var(rowArray));\n}\n\nexport default array;\n","import ArrayOpts from './arrays';\n\nexport default function(data, spec, headers){\n    var i,\n        l = data.length,\n        attributes = headers || Object.keys(data[0]),\n        bin,\n        bins = [],\n        binCollection = {},\n        result = [],\n        ks;\n\n    if(!spec.hasOwnProperty('$group') && !spec.hasOwnProperty('$bin')) return result;\n\n    if(typeof spec.$bin == 'object') {\n        var binAttr = Object.keys(spec.$bin)[0],\n            binCount = spec.$bin[binAttr];\n\n        if(attributes.indexOf(binAttr) !== -1) {\n            var column = data.map(function(d){return d[binAttr]}),\n                min = ArrayOpts.min(column),\n                max = ArrayOpts.max(column),\n                binInterval = (max - min) / binCount;\n\n            for(i = 0; i < l; i++){\n                data[i]['bin@' + binAttr] = Math.min(Math.floor(data[i][binAttr]/binInterval), binCount-1);\n            }\n\n            spec.$group = 'bin@' + binAttr;\n            attributes.push('bin@' + binAttr);\n        }\n    }\n\n    for(i = 0; i < l; i++){\n        if(Array.isArray(spec.$group)) {\n            ks = [];\n            spec.$group.forEach(function(si){\n                ks.push(data[i][si]);\n            });\n            bin = JSON.stringify(ks);\n        } else {\n            bin = data[i][spec.$group];\n        }\n        if( bins.indexOf(bin) < 0 ){\n            bins.push(bin);\n            binCollection[bin] = [data[i]];\n        } else {\n            binCollection[bin].push(data[i]);\n        }\n    }\n\n    var bl = bins.length;\n\n    for(i = 0; i < bl; i++){\n        var res = {};\n        if(Array.isArray(spec.$group)) {\n            ks = JSON.parse(bins[i]);\n            spec.$group.forEach(function(s, j){\n                res[s] = ks[j];\n            })\n\n        } else {\n            res[spec.$group] = bins[i];\n        }\n\n        if(spec.$data) {\n            res.data = binCollection[bins[i]];\n        }\n\n        if(spec.$group) {\n            var gkeys = Array.isArray(spec.$group) ? spec.$group : [spec.$group];\n\n            gkeys.forEach(function(gk){\n                if(attributes.indexOf(gk) === -1) {\n                    throw Error('Invalid attribute name: ', gk);\n                }\n            })\n        }\n\n        var out = spec.$collect || spec.$reduce || [];\n        var keys = Object.keys(out);\n        if(keys.length === 0 && !spec.$data) return result;\n        keys.forEach(function(key){\n            var attr = key,\n                opt = out[key];\n\n            if(opt === \"$count\" || opt === \"$data\") {\n                attr = key;\n            }\n            if(typeof out[key] === 'object'){\n                opt = Object.keys(out[key])[0];\n                attr = out[key][opt];\n\n                if(attributes.indexOf(attr) === -1 && attr !== \"*\" && !Array.isArray(attr)) {\n                    var warnMsg = \"No matching attribute or operation defined for the new attribute \" + key + \":\" + spec[key];\n                    console.warn(warnMsg);\n                    return;\n                }\n            }\n\n            if(typeof opt === \"function\") {\n                // res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; }).reduce(opt);\n                res[key] = opt.call(null, binCollection[bins[i]].map(function(a){ return a[attr]; }));\n            } else if(typeof opt === \"string\") {\n                if(opt === \"$unique\") {\n                    res[key] = ArrayOpts.unique(binCollection[bins[i]].map(function(a){ return a[key]; }));\n                } else if (opt === \"$list\") {\n                    res[key] = binCollection[bins[i]].map(function(a){ return a[attr]; });\n                } else if (opt === \"$first\") {\n                    res[key] = binCollection[bins[i]][0][attr];\n                } else if (opt === \"$merge\") {\n                    var mergedResult = [];\n                    binCollection[bins[i]].map(function(a){ return a[attr]; }).forEach(function(m){\n                        mergedResult = mergedResult.concat(m);\n                    })\n                    res[key] = mergedResult;\n                } else if (opt === \"$count\") {\n                    res[key] = binCollection[bins[i]].length;\n                } else if (opt === \"$data\") {\n                    var collect = (spec.$collect) ? '$collect' : '$reduce';\n                    res[key] = (spec[collect][key][opt] == '*')\n                        ? binCollection[bins[i]]\n                        : binCollection[bins[i]].map(function(data){\n                            var row = {};\n                            spec[key][opt].forEach(function(k){ row[k] = data[k] });\n                            return row;\n                        });\n                } else {\n                    var fname = opt.slice(1);\n\n                    if(fname in ArrayOpts) {\n                        res[key] = ArrayOpts[fname].call(null, binCollection[bins[i]].map(function(a){\n                            return a[attr];\n                        }));\n                    }\n                }\n            }\n        });\n        result.push(res);\n    }\n\n    return result;\n};\n","export default function match(data, spec) {\n    var indexes = data[0];\n\n    if(!Array.isArray(indexes)) indexes = [];\n\n    return data.filter(function(a){\n        if(_match(a, spec, indexes)) return a;\n    });\n};\n\nfunction _match(obj, spec, indexes){\n    var match,\n        opt,\n        index,\n        sat = true,\n        keys = Object.keys(spec);\n\n    keys.forEach(function(key){\n        if(key === \"$not\") {\n            match = !_match(obj, spec[key], indexes);\n        } else if(key == \"$or\" || key == \"$and\" ) {\n            match = (key == \"$and\");\n            spec[key].forEach(function(s){\n                match = (key == \"$and\") ? match & _match(obj, s, indexes) : match | _match(obj, s, indexes);\n            });\n        } else {\n            index = (indexes.length > 0) ? indexes.indexOf(key) : key;\n\n            if(typeof spec[key] === 'object'){\n                opt = Object.keys(spec[key])[0];\n\n                if(opt[0] == \"$\" && spec[key][opt] instanceof Array){\n                    if(opt == \"$in\" || opt == \"$nin\"){\n                        match = ((opt == \"$nin\") ^ (spec[key][opt].indexOf(obj[index]) > -1));\n                    } else if(opt == \"$inRange\"){\n                        match =(obj[key] >= spec[key][opt][0] & obj[index] <= spec[key][opt][1]);\n                    } else if(opt == \"$ninRange\"){\n                        match =(obj[key] < spec[key][opt][0] | obj[index] > spec[key][opt][1]);\n                    } else if(opt == \"$inDate\"){\n                        match = (spec[key][opt].map(Number).indexOf(+(obj[index])) > -1);\n                    }\n                } else if(spec[key] instanceof Array) {\n                    match =(obj[key] >= spec[key][0] & obj[index] <= spec[key][1]);\n                }\n            } else {\n                if(spec[key][0] === \"$\") {\n                    match = (obj[spec[key].slice(1)] === obj[index]);\n                } else {\n                    match = (spec[key] == obj[index]);\n                }\n            }\n        }\n        sat = sat & match;\n    });\n\n    return sat;\n}\n","import arrayOpts from './arrays.js';\nimport aggregate from './aggregate.js';\nimport match from './match.js';\n\nvar query = {};\nquery.match = match;\nquery.group = aggregate;\n\nquery.indexBy = function(data, id){\n    var indexed = {};\n    data.forEach(function(d){\n        if(!indexed.hasOwnProperty(d[id])){\n            indexed[d[id]] = [ d ];\n        } else {\n            indexed[d[id]].push(d);\n        }\n        delete d[id];\n    });\n    return indexed;\n};\n\n// query.list = function(data, id) {\n//     return data.map(function(d){return d[id];});\n// }\n\nquery.range = function(data, id) {\n    var array = data.map(function(d){return d[id];});\n    return [ arrayOpts.min(array), arrayOpts.max(array) ];\n};\n\nquery.map = function(data, m) {\n    var mf = function(d){return d};\n    if(typeof m === \"string\")\n        mf = function(d){return d[m]};\n    else if(typeof m === \"function\")\n        mf = m;\n\n    return data.map(mf);\n};\n\n// Object.keys(arrayOpts).forEach(function(opt) {\n//     query[opt] = function(data, id) {\n//         var arr = query.map(data, id);\n//         return arrayOpts[opt](arr);\n//     }\n// });\n\n\n\nquery.sortBy = function(data, spec) {\n    function sortArray(a, b, p) {\n        return a[p] > b[p] ? 1 : a[p] < b[p] ? -1 : 0;\n    }\n    return data.sort(function(a, b){\n        var r = 0,\n            i = 0,\n            attributes = Object.keys(spec),\n            al = attributes.length;\n\n        while( r === 0 && i < al ) {\n            r = sortArray(a, b, attributes[i]) * spec[attributes[i]];\n            i++;\n        }\n        return r;\n    })\n};\n\nquery.orderBy = function(c, s, o) {\n    var spec = {};\n    s.forEach(function(ss){\n        spec[ss] = o;\n    });\n    return query.sort(c, spec);\n};\n\nquery.histogram = function(data, spec, max, min) {\n    var result = {};\n    for(var key in spec) {\n        result[key] = arrayOpts.histogram(data.map(function(d){return d[key]}), spec[key], max, min);\n    }\n    return result;\n};\n\nquery.binAggregate = function(data, spec) {\n    var attrKey = Object.keys(spec)[0],\n        attributes = Object.keys(spec).filter(function(k) { return k != \"$data\" && k!=attrKey;}) || [],\n        embedData = spec.$data || false,\n        numBin = spec[attrKey],\n        array = data.map(function(d){ return d[attrKey]; }),\n        l = array.length,\n        min = arrayOpts.min(array),\n        max = arrayOpts.max(array),\n        range = max - min,\n        interval = range / numBin,\n        bins = [];\n\n\n    for(var b = 0; b < numBin; b++) {\n        bins[b] = {binID: b, rangeBegin: min + range * (b/(numBin)), rangeEnd: min + range*(b+1)/(numBin), count: 0};\n        // if(embedData)\n            bins[b].data = [];\n        // attributes.forEach(function(attr){\n        //     bins[b][attr] = 0;\n        // })\n    }\n\n    // bins[numBin] = [];\n\n    for(var i = 0; i < l; i++) {\n        binID = Math.floor( (array[i] - min) / range * (numBin));\n        if(binID == numBin) binID--;\n        data[i].binID = binID;\n        // if(embedData)\n            bins[binID].data.push(data[i]);\n        // bins[binID].count++;\n        // attributes.forEach(function(attr){\n        //     bins[binID][attr] += data[i][attr];\n        // });\n    }\n\n    spec.$by = \"binID\";\n    delete spec[attrKey];\n\n    var result = query.group(data, spec);\n    result = query.indexBy(result, \"binID\");\n\n\n    // result.forEach(function(r){\n    //     r.rangeBegin = bins[r.binID].rangeBegin;\n    //     r.rangeEnd = bins[r.binID].rangeEnd;\n    // })\n\n    bins.forEach(function(bin){\n\n        if(result.hasOwnProperty(bin.binID)) {\n            attributes.forEach(function(attr){\n                bin[attr] = result[bin.binID][0][attr];\n            });\n            if(embedData) bin.data = result[bin.binID][0].data;\n        } else {\n            attributes.forEach(function(attr){\n                bin[attr] = 0;\n            });\n        }\n\n    })\n    // console.log(bins);\n    // return result;\n    return bins;\n}\n\nquery.partition = function(data, numPart) {\n    var len = data.length,\n        p = Math.ceil(len / numPart),\n        pid,\n        partitions = [];\n\n    for(var b = 0; b < numPart; b++) {\n        partitions[b] = {partition: b, data: [], count: 0};\n    }\n\n    for(var i = 0; i < len; i++) {\n        pid = Math.floor(i / p);\n        partitions[pid].data.push(data[i]);\n        partitions[pid].count++;\n    }\n\n    return partitions;\n}\n\nquery.partitionBy = function(data, spec) {\n    var len = data.length,\n        pid,\n        partitions = [],\n        key = Object.keys(spec)[0],\n        parts = spec[key];\n\n    parts.forEach(function(b, bi) {\n        partitions[bi] = {partition: bi, data: [], count: 0, name: b};\n    })\n\n    for(var i = 0; i < len; i++) {\n        pid = parts.indexOf(data[i][key]);\n        if(pid>-1){\n            partitions[pid].data.push(data[i]);\n            partitions[pid].count++;\n        }\n    }\n    return partitions;\n}\n\nquery.normalize = function(data, fields) {\n    var hash = {};\n\n    fields.forEach(function(f){\n        var array = data.map(function(d){ return d[f]; });\n        hash[f] = arrayOpts.normalize(array);\n    });\n\n    data.forEach(function(d, i){\n        fields.forEach(function(f){\n            d[f] = hash[f][i];\n        });\n    });\n\n    return data;\n}\n\nquery.toColumnArray = function(data) {\n    var columnArray = [];\n        attributes = Object.keys(data[0]).filter(function(k) { return k; });\n\n    attributes.forEach(function(attr){\n        columnArray.push(data.map(function(d){return d[attr];}));\n    });\n\n    columnArray.fields = attributes;\n\n    attributes.forEach(function(attr, ai){\n        columnArray[attr] = columnArray[ai];\n    });\n\n    return columnArray;\n}\n\nexport default query;\n","import array from './ops/arrays';\n\nfunction stats(data, fields){\n\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = {\n            min: array.min(a),\n            max: array.max(a),\n            avg: array.avg(a),\n            std: array.std(a)\n        };\n    });\n\n    return result;\n};\n\n\nstats.domains = function(data, fields) {\n    if(!Array.isArray(data))\n        throw new Error(\"Inproper input data format.\");\n\n    var result = {};\n\n    fields.forEach(function(f) {\n        var a = data.map(function(d){return d[f]; });\n        result[f] = [ array.min(a), array.max(a) ];\n    });\n\n    return result;\n}\n\nexport default stats;\n","function vectorAdd(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = v + b[i];\n    });\n\n    return c;\n}\n\nfunction vectorSum(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result = vectorAdd(result, vectors[i]);\n    }\n\n    return result;\n}\n\nfunction _vectorAvg(a, b){\n    var c = [];\n    a.forEach(function(v, i){\n        c[i] = (v + b[i]) * 0.5;\n    });\n\n    return c;\n}\n\nfunction vectorAvg(vectors){\n    var result = vectors[0],\n        numberOfVectors = vectors.length;\n\n    for(var i = 1; i < numberOfVectors; i++){\n        result =  _vectorAvg(result, vectors[i]);\n    }\n\n    return result;\n}\n\nexport default {\n    add: vectorAdd,\n    sum: vectorSum,\n    avg: vectorAvg\n}","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {linearish} from \"./linear\";\nimport {copy, identity, transformer} from \"./continuous\";\nimport {initRange} from \"./init\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(identity, identity),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return initRange.apply(calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return x;\n}\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import {scaleLinear, scaleOrdinal} from 'd3-scale';\nimport {select} from 'd3-selection';\nimport {interpolateHcl} from 'd3-interpolate';\nimport {axisLeft, axisBottom} from 'd3-axis';\n\nlet Data = {\n    json: [],\n    domains: {},\n    vmap: {}\n}\n\nlet View = {\n    container: null,\n    svg: null,\n    height: 300,\n    width: 400,\n    axes: true\n}\n\nexport default class Plot {\n    constructor(data = Data, view = View) {\n        this.data = data;\n        this.view = view;\n        this.container = view.container;\n        this.padding = view.padding || {top: 0, bottom: 0, left: 0, right: 0};\n        this.height = view.height;\n        this.width = view.width;\n        this.svg = {};\n        this.domains = data.domains || {};\n\n        if(!view.svg || view.svg === null) {\n            if(view.container !== null) {\n                this.svg = this.createSvg();\n            }\n            this.height -= this.padding.top + this.padding.bottom;\n            this.width -= this.padding.left + this.padding.right;\n            this.svg.main = this.svg.append('g')\n                .attr(\"transform\", `translate(${this.padding.left}, ${this.padding.top})`);\n    \n        } else {\n            this.svg.main = select(view.svg);\n        }\n        \n        if(this.data.json) {\n            this.scales = this.getScales();\n        }\n    }\n\n    createSvg() {\n        let svg = select(this.container)\n            .append('svg')\n                .attr('width', this.width)\n                .attr('height', this.height);\n        return svg;\n    }\n\n    channels() {\n        return {\n            x: [0, this.width],\n            y: [this.height, 0],\n            color: ['steelblue', 'red'],\n            opacity: [0, 1],\n            size: [2, 20],\n            width: [0, this.width],\n            height: [0, this.height]\n        }\n    }\n\n    getScales() {\n        let scales = {};\n        let channels = this.channels();\n        let vmap = this.data.vmap;\n\n        let fields = this.data.fields || null;\n        if(fields === null && this.data.json) {\n            this.data.fields = Object.keys(this.data.json[0]);\n            fields = Object.keys(this.data.json[0]);\n        }\n        \n        for (let channel of Object.keys(channels)) {\n            if(channel in vmap && fields.indexOf(vmap[channel]) !== -1) {\n                let domain; \n                if(!this.domains.hasOwnProperty(vmap[channel])) {\n                    let value = this.data.json.map(d=>d[vmap[channel]]);\n                    let min = Math.min(...value) || 0;\n                    let max = Math.max(...value) || 0;\n                   \n                    if(max === min) {\n                        max += 1e-6;\n                    }\n                    domain = [min, max];\n                    this.domains[vmap[channel]] = domain;\n                } else {\n                    domain = this.domains[vmap[channel]] || [0, 1];\n                }\n                let range = channels[channel];\n                if( (this.data.schema && this.data.schema[vmap[channel] === 'string']) || domain.length > 2) {\n                    scales[channel] = scaleOrdinal().domain(domain).range(range);\n                } else {\n                    scales[channel] = scaleLinear().domain(domain).range(range);\n                }\n                if(channel == 'color') {\n                    scales[channel].interpolate(interpolateHcl);\n                }\n            } else {\n                scales[channel] = () => vmap[channel];\n            }\n        }\n\n        return scales;\n    }\n\n    axes() {\n        if(!this.view.hideAxes) {\n            this.xAxis = this.svg.main.append('g')\n                .attr(\"transform\", `translate(0, ${this.height})`)\n                .call(axisBottom(this.scales.x).tickSizeOuter(0))\n            \n            this.yAxis = this.svg.main.append('g')\n                .call(axisLeft(this.scales.y).ticks(this.height/20));\n\n            if(this.view.gridlines && this.view.gridlines.y) {\n                this.yGridlines = this.yAxis.append('g')\n                .style('opacity', 0.3)\n                .call(axisLeft(this.scales.y).ticks(this.height/30).tickSize(-this.width))\n                .selectAll('text').remove();\n            }\n\n            this.AxisLabels = this.svg.main.append('g')\n\n            this.AxisLabels.append(\"text\")\n              .attr(\"x\", this.width / 2)\n              .attr(\"y\", this.height + this.padding.bottom / 2 )\n              .attr(\"dy\", \"1em\")\n              .style(\"text-anchor\", \"middle\")\n              .text(this.data.vmap.x);\n        \n            this.AxisLabels.append(\"text\")\n              .attr(\"transform\", \"rotate(-90)\")\n              .attr(\"y\", -this.padding.left / 1.25 )\n              .attr(\"x\", -this.height / 2 - this.padding.top )\n              .attr(\"dy\", \"1em\")\n              .text(this.data.vmap.y);\n        }\n    }\n\n    render() {\n        this.axes();\n    }\n}","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder.js\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder.js\";\nimport {areaStream, areaRingSum} from \"./area.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport {abs, degrees, epsilon, radians} from \"./math.js\";\nimport stream from \"./stream.js\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  },\n  sphere: function() {\n    lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [abs(lambda) > pi ? lambda + Math.round(-lambda / tau) * tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder.js\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nvar sum = adder();\n\nfunction longitude(point) {\n  if (abs(point[0]) <= pi)\n    return point[0];\n  else\n    return sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import clipRectangle from \"./rectangle.js\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder.js\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math.js\";\nimport noop from \"./noop.js\";\nimport stream from \"./stream.js\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length.js\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains.js\";\nimport {default as distance} from \"./distance.js\";\nimport {epsilon2, radians} from \"./math.js\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ao, bo, ab;\n  for (var i = 0, n = coordinates.length; i < n; i++) {\n    bo = distance(coordinates[i], point);\n    if (bo === 0) return true;\n    if (i > 0) {\n      ab = distance(coordinates[i], coordinates[i - 1]);\n      if (\n        ab > 0 &&\n        ao <= ab &&\n        bo <= ab &&\n        (ao + bo - ab) * (1 - Math.pow((ao - bo) / ab, 2)) < epsilon2 * ab\n      )\n        return true;\n    }\n    ao = bo;\n  }\n  return false;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math.js\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math.js\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","import adder from \"../adder.js\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","export default function(x) {\n  return x;\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder.js\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy) {\n  function transform(x, y) {\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k, (dy - y) / k];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, alpha) {\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [ai * x - bi * y + ci, fi - bi * x - ai * y];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, alpha).apply(null, project(lambda, phi)),\n        transform = (alpha ? scaleTranslateRotate : scaleTranslate)(k, x - center[0], y - center[1], alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, // clip extent\n      postclip = identity,\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n    },\n    postclip: function(_) {\n      return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    },\n    fitWidth: function(width, object) {\n      return fitWidth(projection, width, object);\n    },\n    fitHeight: function(height, object) {\n      return fitHeight(projection, height, object);\n    }\n  };\n}\n","import projection from \"./index.js\";\nimport {abs, epsilon} from \"../math.js\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature.js\";\nimport stitch from \"./stitch.js\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import pipeline   from './src/pipeline';\nimport allocate   from './src/allocate';\nimport arrays     from './src/ops/arrays';\nimport aggregate  from './src/ops/aggregate';\nimport derive     from './src/ops/derive';\nimport match      from './src/ops/match';\nimport join       from './src/join';\nimport stats      from './src/stats';\nimport embed      from './src/embed';\nimport toArray    from './src/toarray';\nimport vector     from './src/vector';\n\nimport Plot         from './src/vis/plot';\nimport AreaChart    from './src/vis/area';\nimport Spline       from './src/vis/spline';\nimport ScatterPlot  from './src/vis/circle';\nimport BarChart     from './src/vis/bar';\nimport GeoMap       from './src/vis/map';\n\nexport default {\n    pipeline,\n    allocate,\n    arrays,\n    aggregate,\n    derive,\n    match,\n    join,\n    stats,\n    embed,\n    toArray,\n    vector,\n};\n\nexport const vis = {\n    Plot,\n    ScatterPlot,\n    BarChart,\n    AreaChart,\n    Spline,\n    GeoMap\n}\n","import derive from './ops/derive';\nimport queries from './ops/query';\nimport aggregate from './ops/aggregate';\nimport match from './ops/match';\n\nexport default function pipeline (data){\n    var queue = [],\n        cache = {},\n        opt = {},\n        workers = [],\n        completed = 0,\n        result = [],\n        callback = function() {};\n\n    if(Array.isArray(data)) {\n        result = data;\n    }\n\n    opt.derive = derive;\n    opt.match = match;\n    opt.aggregate = aggregate;\n\n    Object.keys(queries).forEach(function(f) {\n        opt[f] = queries[f];\n    });\n\n    opt.cache = function(data, tag){\n        cache[tag] = pipeline.result();\n    };\n\n    opt.map = function(f){\n        result = data.map(f);\n        return pipeline;\n    };\n\n    var merge = {\n        aggregate: function (lastJob) {\n            var mergeSpec = {};\n            for(var key in lastJob.aggregate) {\n                var optSpec = lastJob.aggregate[key];\n                if(typeof optSpec == 'object')\n                    mergeSpec[key] = Object.keys(optSpec)[0];\n                else\n                    mergeSpec[key] = optSpec;\n            }\n            return opt.aggregate(finalResult, mergeSpec);\n        }\n    }\n\n    var finalResult = [];\n\n    function mergeResult(workerResult) {\n        var rl = finalResult.length,\n            wl = workerResult.length;\n        for(var i = 0; i < wl; i++) {\n            finalResult[rl+i] = workerResult[i];\n        }\n        completed += 1;\n\n        if(completed == workers.length) {\n            var lastJob = queue[queue.length-1],\n                lastJobOpt = Object.keys(lastJob)[0];\n            if( lastJobOpt == 'aggregate') {\n                finalResult = merge.aggregate(lastJob);\n            }\n            callback(finalResult);\n        }\n    }\n\n    var pipeline = {};\n\n    // pipeline.opt = opt;\n    Object.keys(opt).forEach(function(o){\n        pipeline[o] = function(spec) {\n            var task = {};\n            task[o] = spec;\n            queue.push(task);\n            return pipeline;\n        };\n    })\n\n    pipeline.then = function(_callback) {\n        callback = _callback;\n        queue.forEach(function(q){\n            var f = Object.keys(q)[0];\n            result = opt[f](result, q[f]);\n        });\n        return result;\n    }\n\n    pipeline.execute = function(data) {\n        if(Array.isArray(data)) result = data;\n        queue.forEach(function(q){\n            var f = Object.keys(q)[0];\n            result = opt[f](result, q[f]);\n        });\n        return result;\n    }\n\n    pipeline.oncomplete = pipeline.then;\n\n    pipeline.result = function() {\n        return result;\n    };\n\n    pipeline.data = function(data) {\n        result = data;\n        return pipeline\n    }\n\n    pipeline.queue = function() {\n        return queue;\n    }\n\n    pipeline.runSpec = function(specs) {\n        specs.forEach(function(spec){\n            let opt = Object.keys(spec)[0];\n            pipeline[opt.replace('$', '')](spec[opt])\n        })\n        return pipeline.execute();\n    }\n\n    return pipeline;\n}\n","/**\n * alloc(options) - allocating memory for storing data values in different schemaures.\n * @exports allocate\n * @param {Object} options - Options for allocating memory.\n * @param {Array} options.array - Array containing the data values.\n * @param {Array} options.fields - Fields in the data.\n * @param {number} [options.skip=0] - Number of rows to be skiped in data.\n * @param {object[]} [options.data] - default data\n *\n */\nexport default function allocate(options) {\n    'use strict';\n    var array = options.array || [],\n        header = options.fields || options.header || array[0],\n        types = options.types || [],\n        schema = options.schema || undefined,\n        skip = options.skip || 0,\n        data = options.data || [];\n\n    var ds = {},\n        parsers = [];\n\n    if (types.length && typeof(types) == 'string') {\n        var ta = [];\n        for (var i = 0; i < header.length; i++) {\n            ta.push(types);\n        }\n        types = ta;\n    }\n\n    if (typeof schema == 'object') {\n        header = Object.keys(schema);\n        types = Object.keys(schema).map(function(h) {\n            return schema[h];\n        });\n    }\n\n    if (typeof skip == 'number') {\n        for (var j = 0; j < skip; j++)\n            array.shift();\n    }\n\n    types.forEach(function(t) {\n        parsers.push(getParser(t));\n    })\n\n    function getParser(type) {\n        if (type == 'int' || type.match('veci*')) {\n            return function(value) {\n                var res = parseInt(value);\n                return (isNaN(res)) ? 0 : res;\n            };\n        } else if (type == 'float' || type.match('vecf*')) {\n            return function(value) {\n                var res = parseFloat(value);\n                return (isNaN(res)) ? 0 : res;\n            };\n        } else if (['date', 'time', 'datetime'].indexOf(type) != -1) {\n            return function(value) {\n                return new Date(value);\n            };\n        } else if (['money', 'price', 'cost'].indexOf(type) != -1) {\n            return function(value) {\n                return parseFloat(value.substring(1));\n            };\n        } else {\n            return function(value) {\n                return value;\n            };\n        }\n    }\n\n    ds.insertRows = function(rows) {\n        array = array.concat(rows);\n    }\n    \n    /**\n    * @method objectArray\n    * @return {Object[]} - Return data as array of objects\n    */\n    ds.objectArray = function() {\n        if (typeof(header) !== 'undefined' && header.length) {\n            var l = header.length;\n            array.forEach(function(a) {\n                var o = {},\n                    offset = 0;\n                for (var i = 0; i < l; i++) {\n                    var k = header[i];\n                    if (k.length) {\n                        if (types[i].match(/^(veci|vecf)\\d+$/)) {\n                            var vl = parseInt(types[i].slice(4)),\n                                vector = [];\n                            a.slice(offset, offset + vl).forEach(function(vi) {\n                                vector.push(parsers[i](vi));\n                            });\n                            o[k] = vector;\n                            offset += vl;\n                        } else {\n                            o[k] = parsers[i](a[offset]);\n                            offset++;\n                        }\n                    }\n                }\n                data.push(o);\n            });\n        }\n        return data;\n    }\n\n    /**\n    * @method rowArray\n    * @return {Array[]} - data as row arrays\n    */\n    ds.rowArray = function() {\n        array.forEach(function(a) {\n            var row = [];\n            header.forEach(function(k, i) {\n                if (k.length) {\n                    row.push(parsers[i](a[i]));\n                }\n            });\n            data.push(row);\n        });\n        data.fields = header;\n        data.schema = 'rowArray';\n        return data;\n    }\n\n    /**\n    * @method collumArray\n    * @return {Array[]} - data as column arrays\n    */\n    ds.columnArray = function() {\n        header.forEach(function(k, i) {\n            var column = array.map(function(a) {\n                return parsers[i](a[i]);\n            });\n            data.push(column);\n        });\n        data.fields = header;\n        data.schema = 'columnArray';\n        return data;\n    }\n    //TODO: make columnArray extensible like rowArray and objectArray\n\n    return ds;\n};\n","export default function join(dataLeft, dataRight) {\n    var len = dataLeft.length,\n        keyL = Object.keys(dataLeft[0]),\n        keyR = Object.keys(dataRight[0]);\n        \n    var keys = keyR.filter(function(kr){ return (keyL.indexOf(kr) === -1);});\n\n    keys.forEach(function(k){\n        for(var i = 0; i < len; i++) {\n            dataLeft[i][k] = dataRight[i][k];    \n        }\n    });\n\n    return dataLeft;\n}\n","export default function embed(spec) {\n    var id = spec.$id || spec.$by,\n        attributes = Object.keys(spec);\n\n    if(!id) throw Error(\"No id specified for embed!\");\n\n    attributes.filter(function(attr){\n        return (attr != \"$by\" && attr != \"$id\")\n    })\n    .forEach(function(attr){\n        var embedKey = spec[attr][0][id],\n            i = 0,\n            n = data.length,\n            l = spec[attr].length;\n\n        var lookup = data.map(function(d){ d[attr] = []; return d[id];});\n\n        for(i = 0; i < l; i++) {\n            var index = lookup.indexOf(spec[attr][i][id]);\n            if(index !== -1) {\n                data[index][attr].push(spec[attr][i]);\n            }\n            // delete spec[attr][i][id];\n        }\n    });\n    return data;\n}\n","export default function toArray(data, arg){\n    var options = arg || {},\n        fields = options.fields || Object.keys(data[0]) || [],\n        format = options.format || 'row';\n\n    if(format == 'row') {\n        return data.map(function(d){\n            var row = new Array(fields.length);\n            fields.forEach(function(f, i){\n                row[i] = d[f];\n            });\n            return row;\n        });\n    } else {\n        return fields.map(function(f){\n            return data.map(function(d){ return d[f]; })\n        })\n    }\n}\n","import Plot from './plot';\n\nexport default class ScatterPlot extends Plot {\n   \n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n\n        super.axes();\n\n        this.svg.main.selectAll('.plot-circles')\n            .data(this.data.json)\n            .enter()\n            .append('circle')\n                .attr('class', 'plot-circles')\n                .attr('cx', d => this.scales.x(d[vmap.x]))\n                .attr('cy', d => this.scales.y(d[vmap.y]))\n                .attr('r', d => this.scales.size(d[vmap.size]))\n                .style(\"fill\", d => this.scales.color(d[vmap.color]))\n                .style(\"fill-opacity\", 1)\n                .style(\"stroke-width\", 0)\n    }\n}","import Plot from './plot';\nimport {scaleBand} from 'd3-scale';\nexport default class BarChart extends Plot {\n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        let domainX;\n        if (this.domains[vmap.x].length > 2) {\n            domainX = this.domains[vmap.x];\n        } else {\n            domainX = new Array(this.domains[vmap.x][1] - this.domains[vmap.x][0] + 1).fill(1).map((d, i) => i + this.domains[vmap.x][0]);\n        }\n        this.scales.x = scaleBand().domain(domainX).range([0, this.width]).padding(0.05);\n        super.axes();\n        this.svg.main.selectAll(\".plot-bars\")\n            .data(this.data.json)\n          .enter().append(\"rect\")\n            .attr('class', 'plot-bars')\n            .attr('x', d => this.scales.x(d[vmap.x || vmap.width]))\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", d => this.scales.color(d[vmap.color]))\n            .attr(\"width\", this.scales.x.bandwidth())\n            .attr(\"height\", d => this.height - this.scales.y(d[vmap.y || vmap.height]));\n    }\n\n    update (newData, newColor) {\n        // debugger\n        let vmap = this.data.vmap;\n\n        let bars = this.svg.main.selectAll(\".plot-top-bars\")\n            .data(newData, d => d[vmap.x]);\n        \n        bars.exit().remove();\n\n        bars.enter().append(\"rect\")\n            .attr('class', 'plot-top-bars');\n\n        bars.attr('x', d => this.scales.x(d[vmap.x || vmap.width]))\n            .attr('y', d => this.scales.y(d[vmap.y || vmap.height]))\n            .style(\"fill\", newColor)\n            .attr(\"width\", this.scales.x.bandwidth())\n            .attr(\"height\", d => this.height - this.scales.y(d[vmap.y || vmap.height]));\n\n    }\n}","import Plot from './plot';\nimport {area, curveBasis} from 'd3-shape';\n\nexport default class AreaChart extends Plot {\n   \n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        super.axes();\n        let shape = area()\n            .curve(curveBasis)\n            .x(d => this.scales.x(d[vmap.x]))\n            .y0(this.height)\n            .y1(d => this.scales.y(d[vmap.y]));\n\n        this.svg.main.append(\"path\")\n            .datum(this.data.json)\n            .attr(\"d\", shape)\n            .style(\"fill\", vmap.color)\n            .style(\"fill-opacity\", vmap.opacity)\n            .style(\"stroke-width\", 0)\n    }\n}","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import Plot from './plot';\nimport {line, curveBasis} from 'd3-shape';\nimport {scaleOrdinal} from 'd3-scale';\nimport {schemeCategory10} from 'd3-scale-chromatic';\n\nexport default class Spline extends Plot {\n    constructor(data, view) {\n        super(data, view);\n        this.render();\n    }\n\n    render() {\n        let vmap = this.data.vmap;\n        super.axes();\n        let path = line()\n            .curve(curveBasis)\n            .x( d => this.scales.x(d[vmap.x]) )\n            .y( d => this.scales.y(d[vmap.y]) );\n    \n\n        let datum = this.data.json;\n        let color = () => vmap.color;\n       \n        let series =  vmap.by || vmap.color;\n        if(this.data.fields.indexOf(series) !== -1) {\n            let result = {}\n            this.data.json.forEach(function(d){\n                if(result.hasOwnProperty(d[series])) {\n                    result[d[series]].push(d)\n                } else {\n                    result[d[series]] = [];\n                }\n            })\n            datum = result;\n            if(this.data.fields.indexOf(vmap.color) !== -1) {\n                color = scaleOrdinal(schemeCategory10);\n            }\n        }\n\n        if(Array.isArray(datum)) {\n            this.svg.main.append(\"path\")\n            .datum(datum)\n            .attr(\"d\", path)\n            .style(\"fill\", 'none')\n            .style(\"stroke\", vmap.color)\n            .style(\"stroke-width\", vmap.size)\n        } else if(typeof(datum) == 'object') {\n            let series = Object.keys(datum);\n            series .forEach((sample, di) => {\n                this.svg.main.append(\"path\")\n                .datum(datum[sample])\n                .attr(\"d\", path)\n                .style(\"fill\", 'none')\n                .style(\"stroke\", color(sample))\n                .style(\"stroke-width\", vmap.size)\n            \n                if (this.data.fields.indexOf(vmap.color) !== -1) {\n                    let legendWidth = Math.min(15, this.padding.right/2);\n                    let legendPosY = (di + 1) * Math.min(30, this.width / series.length);\n                    this.svg.main.append('rect')\n                        .attr('x', this.width + 10)\n                        .attr('y', legendPosY)\n                        .attr('width', legendWidth)\n                        .attr('height', 6)\n                        .style('fill', color(sample))\n                    \n                    this.svg.main.append('text')\n                        .attr('x', this.width + 15 + legendWidth)\n                        .attr('y', legendPosY + 6)\n                        .text(sample)\n    \n                    if(di == 0){\n                        this.svg.main.append('text')\n                            .attr('x', this.width + 10 + legendWidth/2)\n                            .attr('y', 6)\n                            .text(vmap.color)\n                    }\n                }\n            })\n\n\n        }\n\n    }\n}\n","import Plot from './plot';\nimport * as d3 from 'd3-geo';\nimport * as topojson from 'topojson-client';\nimport {interpolateBlues} from 'd3-scale-chromatic';\nimport {scalePow} from 'd3-scale';\nimport world from \"../../assets/world-110m.json\";\nimport countries from '../../assets/countries.json';\n\nexport default class Map extends Plot {\n    constructor(data, view) {\n        super(data, view);\n\n        this.feature = data.feature || 'countries';\n        this.circle = data.vmap.points;\n        this.scale = data.vmap.scale;\n        this.gis = data.gis || world;\n\n        this.borders = view.borders || true;\n        this.translate = view.translate || [this.width / 2, this.height / 1.5];\n        this.scale = view.scale || ((view.projection == 'Albers') ? 1 : 150);\n        this.exponent = view.exponent || 1/3;\n        this.defaultColor = view.defaultColor || '#eee';\n        this.projection = d3['geo'+ (view.projection || 'Albers')].call()\n            .scale(this.scale)\n            .translate(this.translate);\n\n        this.path = d3.geoPath()\n            .projection(this.projection);\n\n        if(data.vmap.color) {\n            let valueById = {};\n            data.json.forEach( d => {\n                let country = countries.filter(c => c[data.join.type || 'code']== d[data.join.field])[0] || -1;\n                if(country && country.id){\n                    valueById[country.id] = typeof(d[data.vmap.color]) === 'string' && d[data.vmap.color].includes(',')\n                      ? Number(d[data.vmap.color].replace(/,/g, ''))\n                      : Number(d[data.vmap.color])\n                }\n            })\n            let values = Object.keys(valueById).map(k => valueById[k]).filter(d=>!Number.isNaN(d));\n\n            let domain = [Math.min(...values), Math.max(...values)]\n            if (data.zero) domain[0] = 0\n            let colorScale = scalePow().exponent(this.exponent).domain(domain).range([0.1, 1]);\n            this.setColor = (d) => {\n                if(valueById[d.id] !== undefined) {\n                    return interpolateBlues(colorScale(valueById[d.id]))\n                } else {\n                    return this.defaultColor\n                }\n                \n            }\n            if(view.color && typeof(view.color.setter) === 'function') {\n                this.setColor = (d) => {\n                    return this.color.setter(colorScale(valueById[d.id] || 0))\n                }\n            }\n        }\n    }\n\n    render() { \n        this.svg.main.selectAll(\".geo-paths\")\n            .data(topojson.feature(this.gis, this.gis.objects[this.feature]).features)\n            .enter()\n            .append('path')\n                .attr('class', 'geo-paths')\n                .attr(\"d\", this.path)\n                .attr(\"stroke\", \"white\")\n                .attr(\"fill\", this.setColor);\n            \n        if(this.borders) {\n            this.svg.main.append(\"path\")\n            .attr('class', 'geo-borders')\n            .datum(topojson.mesh(this.gis, this.gis.objects[this.feature], function(a, b) { return a !== b; }))\n            .attr(\"d\", this.path)\n            .attr(\"fill\", \"none\")\n            .attr(\"stroke\", \"white\");\n        }\n\n        return this;\n    }\n\n    addLayer({type = 'point', radius = 1.0, data, feature}) {\n        if(type == 'point') {\n            this.path.pointRadius(radius);\n            this.svg.main.append(\"path\")\n                .datum(topojson.feature(data, data.objects[feature]))\n                .attr(\"d\", this.path);\n        }\n    }\n\n    addMarker ({\n        coordinate,\n        color = 'orange',\n        icon = 'fa fa-map-marker',\n        title\n    }) {\n        let location = this.projection(coordinate);\n        this.svg.main.append('svg:foreignObject')\n        .attr(\"x\", location[0] - 3)\n        .attr(\"y\", location[1] - 15)\n        .attr('width', 10)\n        .attr('height', 20)\n        .attr('color', color)\n        .attr('text-anchor', 'end')\n        .append(\"xhtml:body\")\n        .html('<i title=\"'+ title + '\" class=\"' + icon + '\"></i>');\n    }\n}","import p4 from './src/main';\nimport cstore from './src/cstore';\nimport  * as ctypes  from './src/ctypes';\nimport * as ajax from './src/io/ajax';\nimport parse from './src/io/parse';\n\nimport Babies from './test/data-babies';\nimport TimeSeries from './test/data-timeseries';\nimport Kepler from './test/data-kepler';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\np4.ajax = ajax;\np4.cstore = cstore;\np4.ctypes = ctypes;\np4.parse = parse;\np4.datasets = {Kepler, Babies, TimeSeries};\n\nroot.p4 = p4;\nexport default root.p4;\nexport const datasets = {Kepler, Babies, TimeSeries}\n","import pv from './src/main';\nimport Transpiler from './src/Transpiler';\n\nvar root = typeof self == 'object' && self.self === self && self ||\n           typeof global == 'object' && global.global === global && global ||\n           this;\n\npv.Transpiler = Transpiler;\nroot.pv = pv;\n\nexport default pv;\n\nif(typeof module != 'undefined' && module.exports)\n    module.exports = pv;\n","let formats = {\n  text: 'text',\n  array: 'array',\n  json: 'json'\n}\n\nexport default class FileLoader {\n\n  constructor({\n    file,\n    skip = 0,\n    chunk = 64 * 1024,\n    delimiter = ','\n  }) {\n    if (typeof (file) === 'undefined') {\n      throw Error('No file provided for FileLoader.')\n    }\n    this.file = file\n    this.fileSize = file.size\n    this.reader = new FileReader()\n    this.skip = skip\n    this.chunk = chunk\n    this.delimiter = delimiter\n    this.reset()\n  }\n\n  static get format() {\n    return formats\n  }\n\n  reset() {\n    this.offset = 0\n    this.lineTotal = 0\n    this.leftOver = ''\n  }\n\n  parseDataSchema(rows) {\n    let delimiter = rows[0].match(/(\\,|\\:|\\t|\\s{2,})/g)[0] || ','\n    let header = rows[0].split(delimiter)\n    let values = rows[1].split(delimiter)\n    let schema = header.map((f, i) => {\n      return {\n        name: f,\n        dtype: Number.isNaN(Number(values[i])) ? 'string' : 'int'\n      }\n    })\n    this.delimiter = delimiter\n    for (let rid = 1; rid < rows.length; rid++) {\n      let values = rows[rid].split(delimiter)\n      for (let fid = 0; fid < header.length; fid++) {\n        let value = values[fid]\n        if (schema[fid].dtype === 'int' && parseInt(value) !== parseFloat(value)) {\n          schema[fid].dtype = 'float'\n        }\n      }\n    }\n    return schema\n  }\n\n  errorHandler(evt) {\n    switch (evt.target.error.code) {\n      case evt.target.error.NOT_FOUND_ERR:\n        throw Error('File Not Found!', evt.target.error)\n\n      case evt.target.error.NOT_READABLE_ERR:\n        throw Error('File is not readable', evt.target.error)\n      case evt.target.error.ABORT_ERR:\n        throw Error('Aborted', evt.target.error)\n      default:\n        throw Error('An error occurred reading this file.', evt.target.error)\n    };\n  }\n\n  getSchema() {\n    this.reader.readAsBinaryString(this.file.slice(0, this.chunk / 16));\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          let schema = this.parseDataSchema(lines.slice(0, 10))\n          resolve(schema)\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt))\n      }\n    })\n  }\n\n  read(format) {\n    this.reader.readAsBinaryString(this.file.slice(this.offset, Math.min(this.file.size, this.offset + this.chunk)));\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          this.leftOver = lines.pop()\n          this.offset += this.chunk\n          let results\n          if (format == FileLoader.format.text) {\n            results = lines\n          } else {\n            results = lines.map((line) => line.split(this.delimiter))\n          }\n          resolve(results)\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt))\n      }\n    })\n  }\n\n  readAll(onprocess) {\n    if (typeof onprocess !== 'function') {\n      throw Error('undefined function specified for reading file content')\n    }\n    this.reader.readAsBinaryString(this.file.slice(this.offset, this.offset + this.chunk))\n    return new Promise((resolve, reject) => {\n      this.reader.onloadend = (evt) => {\n        if (evt.target.readyState == FileReader.DONE) {\n          let rawText = this.leftOver + evt.target.result\n          let lines = rawText.split('\\n')\n          this.leftOver = lines.pop()\n\n          if (this.offset == 0 && this.skip > 0) {\n            if (this.skip > 0) lines.shift()\n          }\n\n          onprocess(lines.map((line) => line.split(this.delimiter)))\n          this.lineTotal += lines.length\n\n          if (this.offset < this.file.size) {\n            this.offset += this.chunk\n            this.reader.readAsBinaryString(this.file.slice(this.offset, this.offset + this.chunk));\n          } else {\n            resolve(this.lineTotal)\n          }\n        }\n      }\n      this.reader.onerror = (evt) => {\n        reject(this.errorHandler(evt));\n      }\n    })\n  }\n}\n","import p4 from 'p4';\nimport p3 from 'p3';\nimport FileLoader from './FileLoader';\nimport Transpiler from './Transpiler';\n\nconst PROGRESS_MODES = ['automatic', 'semi-automatic', 'manual'];\nconst INPUT_METHODS = ['http', 'file', 'websocket'];\nconst OPERATIONS = ['aggregate', 'derive', 'match', 'visualize', 'in', 'out'];\n\npv.cstore = p4.cstore\npv.datasets = p4.datasets\n\nexport default function pv(arg) {\n  let p4x = p4(Object.assign({preserveDrawingBuffer: true}, arg));\n  let pv = {}\n  let dataSchema;\n  let dataSource;\n  let fetchData;\n  let progressStep = 0;\n  let jobs = [];\n  let dataSize = 0;\n  let progressedSize = 0;\n  let inProgress = false;\n  let batchProcessing;\n  let progression;\n  let crossViewProc = [];\n  let inputType = 'array'\n  let profiling = arg.profiling || false\n  let profile = {\n    LoadTime: 0,\n    ProcTime: 0,\n    AccuTime: 0\n  }\n  let strValues = null;\n\n  let onEach = () => {}\n\n  let interactionData = [];\n\n  pv.batchSize = 0;\n  pv.pipeline = p4x;\n  pv.mode = arg.mode || PROGRESS_MODES[2];\n  pv.data = function(arg) {p4x.data(arg); return pv};\n\n  pv.view = function(arg) {p4x.view(arg); return pv};\n\n  pv.runSpec = p4x.runSpec;\n  pv.input = function({\n    method = 'file',\n    type = 'csv',\n    delimiter = ',',\n    source,\n    batchSize,\n    schema\n  }) {\n    dataSchema = schema;\n    pv.batchSize = batchSize;\n    \n    if(method == 'file') {\n      dataSource = new FileLoader({\n        file: source,\n        chunk: batchSize,\n        delimiter\n      })\n      dataSize = source.size;\n      if (dataSchema === undefined) {\n        fetchData = () => {\n          return new Promise( (resolve, reject) => {\n            dataSource.getSchema().then( schema => {\n              dataSchema = schema;\n              return dataSource.read('json');\n            })\n            .then(res => {\n              resolve(res)\n            })\n            .catch(err => {\n              reject(err)\n            })\n          });\n        };\n      } else {\n        fetchData = () => {\n          return dataSource.read('json')\n        };\n      }\n\n    } else if (method == 'memory') {\n      fetchData = () => {\n        return new Promise( (resolve, reject) => {\n          resolve(source(batchSize))\n        });\n      };\n    } else {\n      inputType = 'json'\n      fetchData = () => {\n        return new Promise( (resolve, reject) => {\n          p4.ajax.get({\n            url: source + '?nrows=' + batchSize,\n            dataType: 'json'\n          })\n          .then((res) => {\n            dataSchema = res.schema;\n            resolve(res.data);\n          })\n          .catch((err) =>  {\n            reject(err);\n          })\n        })\n      };\n    }\n  \n    return pv;\n  }\n\n  for(let ops of OPERATIONS) {\n    pv[ops] = function(arg) {\n      let job = {};\n      job[ops] = arg;\n      jobs.push(job);\n      return pv;\n    }\n  }\n\n  pv.transpile = function(spec) {\n    let tplr = new Transpiler(p4x.ctx.fields)\n    return tplr.transpile(spec)\n  }\n\n  pv.compile = function(specs) {\n    let jobs = [];\n    if(Array.isArray(specs)) {\n      specs.forEach(function(spec){\n        let job = {};\n        let opt = Object.keys(spec)[0];\n        let arg = spec[opt];\n        if (opt[0] === '$'){\n          opt = opt.slice(1); // ignore $ sign \n        }\n        if(typeof pv[opt] == 'function') {\n          job[opt] = arg;\n        }\n        jobs.push(job);\n      })\n    }\n    return jobs;\n  }\n\n  pv.jobs = function() {\n    return jobs; \n  }\n\n  pv.jobsToPipeline = function(jobs) {\n    let pipeline = [];\n    Object.keys(jobs).forEach(opt => {\n      let task = {};\n      task[opt] = jobs[opt];\n      if(opt == 'aggregate' && jobs.out) {\n        task[opt].out = jobs.out;\n      }\n      pipeline.push(task);\n    })\n    return pipeline;\n  }\n\n  pv.batch = function(jobs) {\n    let batches = [];\n    jobs.forEach(jobs => {\n      let opts = pv.jobsToPipeline(jobs)\n      batches.push(opts);\n    })\n    batchProcessing = batches.map(batch => {\n      return pv.compile(pv.transpile(batch));\n    });\n    // console.log(batchProcessing);\n    return pv;\n  }\n\n  pv.update = function(newData, specs) {\n    p4x.ctx._progress = true;\n    p4x.head();\n    p4x.updateData(newData);\n    p4x.run(pv.compile(pv.transpile(specs)));\n    return pv;\n  }\n\n  pv.progress = function(specs) {\n    progression = pv.compile(specs);\n    return pv;\n  }\n\n  pv.prepareData = function(data) {\n\n    let cache = p4.cstore((strValues !== null) ? {strValues} : {})\n    cache.import({\n      data: data.slice(1),\n      schema: dataSchema,\n      type: inputType\n    });\n    let cdata = cache.data()\n    if (strValues === null) {\n      strValues = cdata.strValues;\n    }\n    return cdata;\n  }\n\n  pv.onEach = function(f) {\n    onEach = f;\n    return pv;\n  }\n  pv.onComplete = function() {}\n\n  pv.autoProgress = function() {\n    pv.next().then(function(status){\n      if (!status.done) {\n        requestAnimationFrame(pv.autoProgress);\n      }\n    });\n  }\n\n  pv.start = function() {\n    requestAnimationFrame(pv.autoProgress);\n    return pv;\n  }\n\n  pv.next = function(callback) {\n    if(typeof(callback) === 'function') {\n      onEach = callback;\n    }\n\n    progressStep++;\n    progressedSize += pv.batchSize;\n    // let done = (progressedSize >= dataSize ) ? true : false;\n\n    let status =  {\n        count: progressStep,\n        completed: progressedSize,\n        // percentage: progressedSize / dataSize\n    }\n\n    // if (done) {\n    //     return new Promise((resolve, reject) => { resolve(status) })\n    // }\n\n    return new Promise((resolve, reject) => {\n      fetchData().then(data => {\n        let loadStart = performance.now();\n        let inputData;\n        if(data._p4_cstore_version) {\n          inputData = data;\n        } else {\n          inputData = pv.prepareData(data);\n        }\n        profile.LoadTime = performance.now() - loadStart;\n        let processStart = performance.now()\n        if(progressStep == 1) {\n          p4x.data(inputData);\n        } else {\n          p4x.ctx._progress = true;\n          p4x.head();\n          p4x.updateData(inputData);\n        }\n\n        if(batchProcessing.length) {\n          batchProcessing.forEach(pp => {\n            p4x.head().run(pp);\n          })\n        }\n\n        if(crossViewProc.length) {\n          crossViewProc.forEach(pp => {\n            p4x.head().run(pv.jobsToPipeline(pp.jobs));\n            pp.result = p4x.result({outputTag: pp.jobs.out}).filter(d=>d.count !== 0)\n          })\n        }\n\n        p4x.run(progression);\n        profile.ProcTime = performance.now() - loadStart;\n        profile.AccuTime += profile.ProcTime;\n        // console.log(profile)\n        resolve(status);\n        onEach(status, profile);\n      })\n    })\n  }\n\n  pv.mergedPipeline = function(p1, p2) {\n    let props = Object.keys(p1).concat(Object.keys(p2))\n    .filter(prop => prop !== 'out')\n    .reduce(function(b, c) {\n      if (b.indexOf(c) < 0) b.push(c);\n      return b;\n    }, [])\n    .sort()\n    .reverse();\n\n    let merged = {};\n    props.forEach(prop => {\n      merged[prop] = Object.assign({}, p1[prop], p2[prop]);\n      if (typeof p1[prop].$group === 'string' && typeof p2[prop].$group === 'string') {\n        merged[prop].$group = [p1[prop].$group, p2[prop].$group];\n      }\n    })\n\n    return merged;\n  }\n\n  pv.setup = (jsonSpecs) => {\n    jsonSpecs.forEach((spec) => {\n      let opt = Object.keys(spec)[0]\n      if (typeof(pv[opt]) === 'function') {\n        pv[opt](spec[opt]);\n      }\n    })\n    return pv;\n  }\n\n  pv.runSpec = (jsonSpecs) => {\n    pv.setup(jsonSpecs);\n    pv.next();\n  }\n\n  pv.interact = function(interactions) {\n    interactions.forEach(interaction => {\n      let spec = interaction;\n\n      p4x.interact(interaction);\n      let connection = {\n        sourceView: spec.from,\n        targetViews: Object.keys(spec.response)\n      }\n\n      let sourceProc = progression.find(p => {\n        let key = Object.keys(p)[0];\n      \n        return p[key].id === connection.sourceView;\n      })\n\n      let sourcePipeline = {};\n      \n      batchProcessing.find(pipeline => {\n        let out = pipeline.find(p => p.out)\n        return out.out === sourceProc.visualize.in\n      })\n      .forEach(p => Object.assign(sourcePipeline, p))\n\n      batchProcessing.filter(p => p.out && p.out ==='')\n\n      connection.targetViews.forEach(tv => {\n        let vmap = progression.find(p => {\n          let key = Object.keys(p)[0];\n          return p[key].id === tv;\n        }).visualize\n\n        let targetPipeline = {}\n        \n        batchProcessing.find(pipeline => {\n          let out = pipeline.find(p => p.out)\n          return out.out === vmap.in\n        })\n        .forEach(p => Object.assign(targetPipeline, p));\n        // console.log(targetPipeline);\n \n        let interProc = pv.mergedPipeline(sourcePipeline, targetPipeline);\n        interProc.out = ['interResult', connection.sourceView, tv].join('-');\n        crossViewProc.push({\n          jobs: interProc,\n          result: [],\n          sourceView: connection.sourceView,\n          targetView: tv\n        })\n      })\n      // console.log(crossViewProc)\n\n      spec.callback = (selection) => {\n        let selectedAttrs = Object.keys(selection);\n\n        if (interaction.condition) {\n          if (interaction.condition.hasOwnProperty('x') && !interaction.condition.x) {\n            selectedAttrs.shift();\n          }\n          if (interaction.condition.hasOwnProperty('y') && !interaction.condition.y) {\n            selectedAttrs.pop();\n          }\n        }\n        // let interactionStart = performance.now();\n        let connections = crossViewProc.filter(p => p.sourceView === connection.sourceView);\n        connections.forEach(conn => {\n          let view = p4x.getViews().find(v => v.id === conn.targetView);\n          \n          let matches = conn.result.filter(d => {\n            let validate = true;\n            selectedAttrs.forEach(attr => {\n              if (selection[attr].length === 1) {\n                validate = validate && (d[attr] === parseInt(selection[attr][0]));\n              } else {\n               \n                validate = validate && (d[attr] > selection[attr][0] && d[attr] < selection[attr][1]);\n              }\n            })\n            return validate;\n          })\n\n          if(matches.length) {\n            let result = p3.pipeline().aggregate({\n              $group: view.vmap.x,\n              $collect: {\n                count: {$sum: 'count'}\n              }\n            })\n            .execute(matches);\n\n            if(result.length) {\n              let updateData = result.sort((a,b) => {\n                if (a[view.vmap.x] <  b[view.vmap.x]) return -1;\n                if (a[view.vmap.x] >  b[view.vmap.x]) return 1;\n                return 0;\n              });\n              view.plot.update(updateData, interaction.response[view.id].selected.color)\n            }\n          }         \n        })\n      }\n    })\n\n    pv.getProfile = function() {\n      return profile;\n    }\n\n    return pv\n  }\n\n  return pv;\n}","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var config = require('../config');\n\n/*!\n * Chai - isProxyEnabled helper\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .isProxyEnabled()\n *\n * Helper function to check if Chai's proxy protection feature is enabled. If\n * proxies are unsupported or disabled via the user's Chai config, then return\n * false. Otherwise, return true.\n *\n * @namespace Utils\n * @name isProxyEnabled\n */\n\nmodule.exports = function isProxyEnabled() {\n  return config.useProxy &&\n    typeof Proxy !== 'undefined' &&\n    typeof Reflect !== 'undefined';\n};\n","var fnLengthDesc = Object.getOwnPropertyDescriptor(function () {}, 'length');\n\n/*!\n * Chai - addLengthGuard utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .addLengthGuard(fn, assertionName, isChainable)\n *\n * Define `length` as a getter on the given uninvoked method assertion. The\n * getter acts as a guard against chaining `length` directly off of an uninvoked\n * method assertion, which is a problem because it references `function`'s\n * built-in `length` property instead of Chai's `length` assertion. When the\n * getter catches the user making this mistake, it throws an error with a\n * helpful message.\n *\n * There are two ways in which this mistake can be made. The first way is by\n * chaining the `length` assertion directly off of an uninvoked chainable\n * method. In this case, Chai suggests that the user use `lengthOf` instead. The\n * second way is by chaining the `length` assertion directly off of an uninvoked\n * non-chainable method. Non-chainable methods must be invoked prior to\n * chaining. In this case, Chai suggests that the user consult the docs for the\n * given assertion.\n *\n * If the `length` property of functions is unconfigurable, then return `fn`\n * without modification.\n *\n * Note that in ES6, the function's `length` property is configurable, so once\n * support for legacy environments is dropped, Chai's `length` property can\n * replace the built-in function's `length` property, and this length guard will\n * no longer be necessary. In the mean time, maintaining consistency across all\n * environments is the priority.\n *\n * @param {Function} fn\n * @param {String} assertionName\n * @param {Boolean} isChainable\n * @namespace Utils\n * @name addLengthGuard\n */\n\nmodule.exports = function addLengthGuard (fn, assertionName, isChainable) {\n  if (!fnLengthDesc.configurable) return fn;\n\n  Object.defineProperty(fn, 'length', {\n    get: function () {\n      if (isChainable) {\n        throw Error('Invalid Chai property: ' + assertionName + '.length. Due' +\n          ' to a compatibility issue, \"length\" cannot directly follow \"' +\n          assertionName + '\". Use \"' + assertionName + '.lengthOf\" instead.');\n      }\n\n      throw Error('Invalid Chai property: ' + assertionName + '.length. See' +\n        ' docs for proper usage of \"' + assertionName + '\".');\n    }\n  });\n\n  return fn;\n};\n","var config = require('../config');\nvar flag = require('./flag');\nvar getProperties = require('./getProperties');\nvar isProxyEnabled = require('./isProxyEnabled');\n\n/*!\n * Chai - proxify utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .proxify(object)\n *\n * Return a proxy of given object that throws an error when a non-existent\n * property is read. By default, the root cause is assumed to be a misspelled\n * property, and thus an attempt is made to offer a reasonable suggestion from\n * the list of existing properties. However, if a nonChainableMethodName is\n * provided, then the root cause is instead a failure to invoke a non-chainable\n * method prior to reading the non-existent property.\n *\n * If proxies are unsupported or disabled via the user's Chai config, then\n * return object without modification.\n *\n * @param {Object} obj\n * @param {String} nonChainableMethodName\n * @namespace Utils\n * @name proxify\n */\n\nvar builtins = ['__flags', '__methods', '_obj', 'assert'];\n\nmodule.exports = function proxify(obj, nonChainableMethodName) {\n  if (!isProxyEnabled()) return obj;\n\n  return new Proxy(obj, {\n    get: function proxyGetter(target, property) {\n      // This check is here because we should not throw errors on Symbol properties\n      // such as `Symbol.toStringTag`.\n      // The values for which an error should be thrown can be configured using\n      // the `config.proxyExcludedKeys` setting.\n      if (typeof property === 'string' &&\n          config.proxyExcludedKeys.indexOf(property) === -1 &&\n          !Reflect.has(target, property)) {\n        // Special message for invalid property access of non-chainable methods.\n        if (nonChainableMethodName) {\n          throw Error('Invalid Chai property: ' + nonChainableMethodName + '.' +\n            property + '. See docs for proper usage of \"' +\n            nonChainableMethodName + '\".');\n        }\n\n        // If the property is reasonably close to an existing Chai property,\n        // suggest that property to the user. Only suggest properties with a\n        // distance less than 4.\n        var suggestion = null;\n        var suggestionDistance = 4;\n        getProperties(target).forEach(function(prop) {\n          if (\n            !Object.prototype.hasOwnProperty(prop) &&\n            builtins.indexOf(prop) === -1\n          ) {\n            var dist = stringDistanceCapped(\n              property,\n              prop,\n              suggestionDistance\n            );\n            if (dist < suggestionDistance) {\n              suggestion = prop;\n              suggestionDistance = dist;\n            }\n          }\n        });\n\n        if (suggestion !== null) {\n          throw Error('Invalid Chai property: ' + property +\n            '. Did you mean \"' + suggestion + '\"?');\n        } else {\n          throw Error('Invalid Chai property: ' + property);\n        }\n      }\n\n      // Use this proxy getter as the starting point for removing implementation\n      // frames from the stack trace of a failed assertion. For property\n      // assertions, this prevents the proxy getter from showing up in the stack\n      // trace since it's invoked before the property getter. For method and\n      // chainable method assertions, this flag will end up getting changed to\n      // the method wrapper, which is good since this frame will no longer be in\n      // the stack once the method is invoked. Note that Chai builtin assertion\n      // properties such as `__flags` are skipped since this is only meant to\n      // capture the starting point of an assertion. This step is also skipped\n      // if the `lockSsfi` flag is set, thus indicating that this assertion is\n      // being called from within another assertion. In that case, the `ssfi`\n      // flag is already set to the outer assertion's starting point.\n      if (builtins.indexOf(property) === -1 && !flag(target, 'lockSsfi')) {\n        flag(target, 'ssfi', proxyGetter);\n      }\n\n      return Reflect.get(target, property);\n    }\n  });\n};\n\n/**\n * # stringDistanceCapped(strA, strB, cap)\n * Return the Levenshtein distance between two strings, but no more than cap.\n * @param {string} strA\n * @param {string} strB\n * @param {number} number\n * @return {number} min(string distance between strA and strB, cap)\n * @api private\n */\n\nfunction stringDistanceCapped(strA, strB, cap) {\n  if (Math.abs(strA.length - strB.length) >= cap) {\n    return cap;\n  }\n\n  var memo = [];\n  // `memo` is a two-dimensional array containing distances.\n  // memo[i][j] is the distance between strA.slice(0, i) and\n  // strB.slice(0, j).\n  for (var i = 0; i <= strA.length; i++) {\n    memo[i] = Array(strB.length + 1).fill(0);\n    memo[i][0] = i;\n  }\n  for (var j = 0; j < strB.length; j++) {\n    memo[0][j] = j;\n  }\n\n  for (var i = 1; i <= strA.length; i++) {\n    var ch = strA.charCodeAt(i - 1);\n    for (var j = 1; j <= strB.length; j++) {\n      if (Math.abs(i - j) >= cap) {\n        memo[i][j] = cap;\n        continue;\n      }\n      memo[i][j] = Math.min(\n        memo[i - 1][j] + 1,\n        memo[i][j - 1] + 1,\n        memo[i - 1][j - 1] +\n          (ch === strB.charCodeAt(j - 1) ? 0 : 1)\n      );\n    }\n  }\n\n  return memo[strA.length][strB.length];\n}\n","export function request(arg) {\n    var url = arg.url || arg,\n        method = arg.method || \"GET\",\n        dataType = arg.dataType || \"json\",\n        data = arg.data || [],\n        query = [];  //arraybuffer, blob, document, json, text\n\n    for (var key in data) {\n        query.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n    }\n\n    return new Promise(function(resolve, reject) {\n\n        var req = new XMLHttpRequest();\n        req.open(method, url);\n        req.responseType = dataType;\n\n        req.onload = function() {\n          if (req.status == 200) {\n            resolve(req.response);\n          }\n          else {\n            reject(Error(req.statusText));\n          }\n        };\n\n        req.onerror = function() {\n          reject(Error(\"Network Error\"));\n        };\n\n        if (method == 'POST') {\n            req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        }\n\n        req.send(data);\n    });\n};\n\nexport let get = request;\n\nexport function getAll(options) {\n    var promises = [];\n    options.forEach(function(option){\n        promises.push(\n            request(option)\n            .then(function(result){\n                return new Promise(function(resolve, reject) {\n                    resolve(result);\n                });\n            })\n        );\n    });\n\n    return Promise.all(promises);\n}\n\nexport function post(arg) {\n    arg.method = \"POST\";\n    return ajax.request(arg);\n};\n","export default function parse(text, delimiter) {\n    \"use strict\";\n    var size = text.length,\n        accum = 0,\n        i, //index for starting of a line\n        row,\n        rows = [],\n        fields = [],\n        lens = [],\n        EOL = false;\n\n    while(accum < size) {\n        i = accum, EOL = false;\n        row = loadLine(text, delimiter.charCodeAt(0), i);\n        rows.push(row.fields);\n        accum += row.size;\n    }\n    return rows;\n}\n\nfunction loadLine(text, delimiterCode, initPos) {\n    // if(typeof(initPos) === 'undefined') initPos = 0;\n    var EOL = false,\n        QUOTE = false,\n        c = initPos, //current pos\n        code, //code at c\n        f = initPos, // start pos of current field\n        q, //start pos of quote\n        fields = [],\n        L = text.length;\n\n    while(!EOL){\n        code = text.charCodeAt(c);\n        if(code === 10 || c>=L){\n            EOL = true;\n            // if(text.charCodeAt(c+1) === 13) ++c;\n            fields.push( text.slice(f, c) );\n        } else {\n            if(code === delimiterCode && !QUOTE) {\n                // console.log(f,c, text.slice(f, c));\n                var field = text.slice(f, c);\n                fields.push( field );\n                f = c+1;\n            } else if(code === 34){\n                if(QUOTE){\n                    if(text.charCodeAt(c+1) === delimiterCode){\n                        QUOTE = false;\n                        fields.push(text.slice(q, c));\n                        f = c+2;\n                        c++;\n                    }\n                } else {\n                    q = c+1;\n                    QUOTE = true;\n                }\n            }\n        }\n        c++;\n    }\n    return { fields: fields, size: c-initPos };\n}\n"," \nexport default class Transpiler {\n  constructor(attributes, categories) {\n   this.attributes = attributes\n  }\n\n  transpile (rules) {\n    let spec = []\n    for (let rule of rules) {\n      let opt = Object.keys(rule)[0]\n      if(opt == '$aggregate') {\n        spec.push({$aggregate: this.aggregate(rule[opt])})\n      // } else if(opt == '$visualize') {\n      //   spec.push({$visualize: this.visualize(rule[opt])})\n      } else {\n        spec.push(Object.assign({}, rule))\n      }\n    }\n    return spec\n  }\n\n  aggregate (rule) {\n    let includes = rule.$include || this.attributes\n    let excludes = rule.$exclude || []\n    let calculates = rule.$calculate || []\n    let fields = includes.filter(attr => excludes.indexOf(attr) === -1)\n    let collection = {}\n\n    for (let opt of calculates) {\n      if (opt === 'count') {\n        collection['count'] = {$count: '*'}\n      } else {\n        fields.forEach( field => {\n          let metric = [opt, field].join('.');\n          collection[metric] = {}\n          collection[metric]['$'+opt] = field\n        })\n      }\n    }\n    return Object.assign({$collect: collection}, rule)\n  }\n\n  visualize (rule) {\n    let facets = rule.facets || rule.facet\n\n    if (facets === undefined) return rule\n\n    let rows = facets.rows || facets.row\n    let columns = facets.columns || facets.column\n    let spec = rows || columns\n\n    let encodings = Object.keys(rule).filter(k => k !== 'facets')\n\n    let variables = Object.keys(spec)\n\n    let minLoopCount = Math.min(...variables.map(v => spec[v].length))\n\n    let vmaps = new Array(minLoopCount)\n    for(let i = 0; i < minLoopCount; i++) {\n      let vmap = {}\n      encodings.forEach(code => {\n        let vi = variables.indexOf(rule[code])\n        if(vi < 0) {\n          vmap[code] = rule[code]     \n        } else {\n          vmap[code] = spec[variables[vi]][i]\n        }\n      })\n      vmaps[i] = vmap\n    }\n    vmaps.facets = facets\n    vmaps.order = facets.order\n    vmaps.sortBy = facets.sortBy\n    return vmaps\n  }\n}\n","module.exports = require('./lib/chai');\n","export default function Uniform(glContext, name, type, data) {\n\n    var uniform = (this instanceof Uniform) ? this : {},\n        ctx = glContext;\n\n    function serializeArray(arrayOfArray) {\n        var sa = [];\n        arrayOfArray.forEach(function(a){\n            sa = sa.concat(a);\n        })\n        return sa;\n    }\n\n    function sanitize(data) {\n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray.length > 0) {\n               return serializeArray(data);\n            } else {\n                return data;\n            }\n        } else {\n            return data\n        }\n    }\n\n    function setUniform() {\n        var type = this.type,\n            location = this.location,\n            size = this.size,\n            data = this.data;\n            \n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray)\n                data = serializeArray(data);\n        }\n\n        if((type == 'float' || type == 'int') && !Array.isArray(data) && !ArrayBuffer.isView(data))\n            data = [data];\n\n        var buf;\n        if (type.slice(0,3) == 'vec' || type == 'float') {\n            buf = new Float32Array(data);\n            ctx['uniform' + size + 'fv'](location, buf);\n        } else if(type.slice(0,4) == 'ivec' || type == 'int'){\n            buf = new Int32Array(data);\n            ctx['uniform' + size + 'iv'](location, buf);\n        } else if(type.slice(0,3) == 'mat') {\n            buf = new Float32Array(data);\n            ctx['uniformMatrix' + size + 'fv'](location, false, buf);\n        } else if(type == 'sampler2D') {\n            if(data.hasOwnProperty('resourceType') && data.resourceType == 'texture') {\n                ctx.activeTexture(ctx.TEXTURE0 + data.index);\n                ctx.bindTexture(ctx.TEXTURE_2D, data.ptr);\n                ctx.uniform1i(location, data.index);\n            }\n        }\n    }\n\n    uniform.create = function(name, type, data) {\n\n        if(Array.isArray(data)) {\n            var hasArray = data.filter(function(d){return Array.isArray(d);});\n            if(hasArray.length > 0) {\n                data = serializeArray(data);\n            }\n        }\n\n        uniform[name] = {\n            type: type,\n            name: name,\n            data: data,\n            location: null,\n            size: parseInt(type.slice(3,4)) || parseInt(type.slice(4,5)) || 1\n        };\n\n        uniform[name].link = function(program) {\n            if(typeof this.data !== 'undefined' && this.data !== null) {\n                this.location = ctx.getUniformLocation(program, this.name);\n                setUniform.call(this);\n            }\n            return this;\n        };\n\n        uniform[name].value = function(val) {\n           this.data = sanitize(val);\n        }\n\n        uniform[name].load = function(data) {\n            this.data = data;\n            return this;\n        };\n\n        uniform[name].header = function() {\n            var header = 'uniform ' + this.type + ' ' + this.name,\n                len = 0;\n            \n            if(this.type != 'sampler2D') {\n                len = this.data.length / this.size;\n            }\n\n            //TODO: fix declaration for matrix\n            if(len > 1 && type != 'mat4') {\n                header += '[' + len + ']';\n            }\n            return header + ';\\n';\n        };\n\n        return uniform[name];\n    }\n\n\n    return uniform;\n}\n","export default function Attribute(glContext) {\n    \n    var attribute = (this instanceof Attribute) ? this : {},\n        ctx = glContext,\n        attributeID = 0;\n\n    function setAttribute(name, data) {\n        if(Array.isArray(data) || ArrayBuffer.isView(data)){\n            if(!ArrayBuffer.isView(data)) {\n                data = new Float32Array(data);\n            }\n            attribute[name].data = data;\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, attribute[name].ptr);\n            ctx.bufferData(ctx.ARRAY_BUFFER, data, ctx.STATIC_DRAW);\n        }\n    }\n    attribute.create = function(name, type, data) {\n        attribute[name] = {\n            name: name,\n            type: type || 'float',\n            data: null,\n            location: attributeID++,\n            ptr: ctx.createBuffer(),\n            size: parseInt(type.slice(3,4)) || 1\n        };\n\n        if(data !== null && data.length) setAttribute(name, data);\n\n        attribute[name].link = function(program) {\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, this.ptr);\n            this.location = ctx.getAttribLocation(program, this.name);\n            ctx.vertexAttribPointer(this.location, this.size, ctx.FLOAT, false, 0, 0);\n            ctx.enableVertexAttribArray(this.location);\n            return this;\n        }\n\n        attribute[name].load = function(arrayBuffer) {\n            setAttribute(this.name, arrayBuffer);\n            return this;\n        }\n\n        attribute[name].header = function() {\n            return 'attribute ' + this.type + ' ' + this.name + ';\\n';\n        }\n\n        attribute[name].update = function(offset, data) {\n            if(!ArrayBuffer.isView(data)) {\n                data = new Float32Array(data);\n            }\n            ctx.bindBuffer(ctx.ARRAY_BUFFER, this.ptr);\n            ctx.bufferSubData(ctx.ARRAY_BUFFER, offset, data);   \n        }\n\n        attribute[name].delete = function() {\n            ctx.deleteBuffer(this.ptr);\n        }\n\n        return attribute[name];\n    };\n\n    return attribute;\n}\n","import Uniform from \"./uniform\";\n\nexport default function Texture(glContext) {\n\n    var texture = (this instanceof Texture) ? this : {},\n        ctx = glContext,\n        textureID = 0;\n\n    function setTexture(name, texData) {\n        var type = ctx[texture[name].type.toUpperCase()],\n            format = ctx[texture[name].channel.toUpperCase()],\n            width = texture[name].dim[0],\n            height = texture[name].dim[1];\n\n        texture[name].data = texData;\n\n        ctx.bindTexture(ctx.TEXTURE_2D, texture[name].ptr);\n        ctx.texImage2D(ctx.TEXTURE_2D, 0, format, width, height, 0, format, type, texData);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.NEAREST);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.NEAREST);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_S, ctx.CLAMP_TO_EDGE);\n        ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_WRAP_T, ctx.CLAMP_TO_EDGE);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n    }\n\n    function updateTexture(name, texData, offset = [0, 0], dim = [texture[name].dim[0], texture[name].dim[1]] ) {\n        var type = ctx[texture[name].type.toUpperCase()],\n            format = ctx[texture[name].channel.toUpperCase()],\n            width = dim[0],\n            height = dim[1];\n\n        ctx.bindTexture(ctx.TEXTURE_2D, texture[name].ptr);\n        ctx.texSubImage2D(ctx.TEXTURE_2D, 0, offset[0], offset[1], width, height, format, type, texData);\n        ctx.bindTexture(ctx.TEXTURE_2D, null);\n    }\n\n    // TODO: Add support for texture compression\n    // function compressTexture(texData) {\n    //\n    //     var ext = (\n    //       ctx.getExtension(\"WEBGL_compressed_texture_s3tc\") ||\n    //       ctx.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\") ||\n    //       ctx.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\")\n    //     );\n    //\n    //     ctx.compressedTexImage2D(ctx.TEXTURE_2D, 0, ext.COMPRESSED_RGBA_S3TC_DXT3_EXT, texture[name].dim[0], texture[name].dim[1], 0, texData);\n    //     ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MAG_FILTER, ctx.LINEAR);\n    //     ctx.texParameteri(ctx.TEXTURE_2D, ctx.TEXTURE_MIN_FILTER, ctx.LINEAR);\n    // }\n\n    texture.create = function(name, type, dim, channel, data, sampler) {\n        var texIndex = (texture.hasOwnProperty(name)) ? texture[name].index : textureID++;\n        texture[name] = {\n            name: name,\n            index: texIndex,\n            type: type || \"float\",\n            dim: dim || [512, 512],\n            channel: channel || \"alpha\",\n            data: null,\n            location: null,\n            sampler: sampler || null,\n            ptr: ctx.createTexture()\n        };\n\n        // if(data !== null && data.length)\n        setTexture(name, data);\n\n        if (texture[name].sampler === null) {\n            texture[name].sampler = Uniform(ctx).create(name, 'sampler2D', texture[name]);\n        } else {\n            texture[name].sampler.data = texture[name];\n        }\n\n        texture[name].link = function(program) {\n            if (this.data !== null) {\n                // ctx.activeTexture(ctx.TEXTURE0 + this.index);\n                // ctx.bindTexture(ctx.TEXTURE_2D, this.ptr);\n                // this.location = ctx.getUniformLocation(program, this.name);\n                // ctx.uniform1i(this.location, this.index);\n                if (typeof(this.sampler.data) == 'undefined' || this.sampler.data === null)\n                    this.sampler.data = texture[name];\n\n                this.sampler.link(program);\n            }\n            return this;\n        }\n\n        texture[name].load = function(texData) {\n            setTexture(this.name, texData);\n            return this;\n        }\n\n        texture[name].copyFromFBO = function() {\n            ctx.bindTexture(ctx.TEXTURE_2D, this.ptr);\n            ctx.copyTexImage2D(\n                ctx.TEXTURE_2D,\n                0,\n                ctx.RGBA,\n                0,\n                0,\n                this.dim[0],\n                this.dim[1],\n                0\n            );\n            ctx.bindTexture(ctx.TEXTURE_2D, null);\n        }\n\n        texture[name].update = function(texData, offset, dim) {\n            updateTexture(this.name, texData, offset, dim);\n            return this;\n        }\n\n        texture[name].resize = function(dim, data) {\n            this.dim = dim;\n            setTexture(this.name, data);\n        }\n\n        texture[name].delete = function() {\n            glContext.deleteTexture(this.ptr);\n        }\n\n        texture[name].header = function() {\n            if (this.name == this.sampler.name)\n                return 'uniform sampler2D ' + this.sampler.name + ';\\n';\n            else\n                return '';\n        }\n\n        return texture[name];\n    }\n\n    return texture;\n}\n","export default function Varying(glContext) {\n\n    var varying = (this instanceof Varying) ? this : {},\n        ctx = glContext;\n\n    varying.create = function(name, type, size) {\n        varying[name] = {\n            name: name,\n            type: type || 'float',\n            size: size || 1,\n        };\n\n        varying[name].link = function() {};\n\n        varying[name].header = function() {\n            var header = 'varying ' + this.type + ' ' + this.name;\n            if(this.size > 1)\n                header += '[' + this.size + ']';\n            return header + ';\\n';\n        }\n\n        return varying[name];\n    }\n\n    return varying;\n}\n","export default function Subroutine() {\n\n    var subroutine = (this instanceof Subroutine) ? this : {};\n\n    subroutine.create = function(name, type, fn) {\n        subroutine[name] = {\n            name: name,\n            type: type || 'float',\n            fn: fn,\n            resourceType: \"subroutine\"\n        };\n\n        subroutine[name].link = function(program) {\n            return this;\n        }\n\n        subroutine[name].load = function(fn) {\n            subroutine[name].fn = fn;\n            return this;\n        }\n\n        subroutine[name].header = function() {\n            return this.fn.toString();\n        }\n\n        return subroutine[name];\n    };\n\n    return subroutine;\n}\n","import Uniform from './uniform';\nimport Attribute from './attribute';\nimport Texture from './texture';\nimport Varying from './varying';\nimport Subroutine from './subroutine';\n\nexport default function Resource(glContext) {\n    var resource = (this instanceof Resource) ? this : {},\n        gpuResources = {};\n\n    resource.uniform = new Uniform(glContext);\n    resource.attribute = new Attribute(glContext);\n    resource.texture = new Texture(glContext);\n    resource.varying = new Varying(glContext);\n    resource.subroutine = new Subroutine();\n\n    var resourceTypes = ['uniform', 'attribute', 'texture', 'varying', 'subroutine'];\n\n    resource.allocate = function(type, props) {\n        if (resourceTypes.indexOf(type) === -1) {\n            throw Error(\"Error: Invalid resource type: \" + type);\n        }\n        var res = resource[type].create.apply(null, Array.prototype.slice.call(arguments, 1));\n        res.resourceType = type;\n        gpuResources[res.name] = res;\n        if (!gpuResources.hasOwnProperty(res.name)) {\n            Object.defineProperty(gpuResources, res.name, {\n                get: function() {\n                    return gpuResources[res.name];\n                },\n                set: function(data) {\n                    gpuResources[res.name].load(data);\n                }\n            });\n        }\n        return res;\n    };\n\n    resource.link = function(program, resources) {\n        var requiredResources = (Array.isArray(resources)) ? resources : Object.keys(gpuResources);\n        requiredResources.forEach(function(resourceName) {\n            if (gpuResources.hasOwnProperty(resourceName))\n                gpuResources[resourceName].link(program);\n        })\n    };\n\n    resource.get = function(name) {\n        return gpuResources[name];\n    }\n\n    resource.create = resource.allocate;\n\n    return resource;\n};\n","export default function Shader(glContext, glResource) {\n    \n    var shader = (this instanceof Shader) ? this : {},\n        ctx = glContext,\n        resource = glResource,\n        parameters = ctx._dict || {};\n\n    shader.vertex = {};\n    shader.fragment = {};\n\n    var shaderType = {\n        vertex: ctx.VERTEX_SHADER,\n        fragment: ctx.FRAGMENT_SHADER\n    };\n\n    // Convert JS functions to GLSL codes\n    function toGLSL(returnType, name, fn){\n\n        var glsl = returnType + ' ' +\n            name + '(' + applyEnvParameters(fn.toString())\n            .replace(\n                /var\\s+([\\w|\\d]+)\\s*=\\s*new\\s+([\\w|\\d]+)\\((.*)\\)/g,\n                function(expr, name, dtype, value){\n                    var parts;\n                    if(value)\n                        parts = [dtype.toLowerCase(), name, '=', value];\n                    else\n                        parts = [dtype.toLowerCase(), name];\n\n                    return parts.join(' ')\n                }\n            )\n            .replace(/for\\s*\\(\\s*var\\s+/g, 'for(int ')\n            .replace(/(var|let)\\s/g, 'float ')\n            // .replace(/(\\.0)([^\\d])/g, '$10000000001 $2 ')\n            .replace(/this./g, '')\n            .replace(/\\$(.*)\\((.*)\\)\\s*(=|;)/g, \"$1 $2 $3\");\n            // .replace(/\\$(.*?)\\./g, \"$1 \")\n\n        if(name == \"main\") {\n            glsl = glsl.replace(/\\(.*(function|\\w).*\\(\\s*([\\s\\S]*?)\\s*{/, '(){') + \"\\n\";\n        } else {\n            var args = glsl.match(/function|\\w.*\\(\\s*([\\s\\S]*?)\\s*\\)/)[1];\n            var isObject = args.match(/{([\\s\\S]*)}/);\n            if(isObject) {\n                args = isObject[1].split(',')\n                    .map(d=>d.split('='))\n                    .map(d=> d[1].replace(/(\\'|\\\")/g, '') + ' ' + d[0])\n                    .join(', ')\n            } else if(args != \"\") {\n                args = args.replace(/\\$([\\w|\\d]+)_/g, \"$1 \");\n            }\n           \n            glsl = glsl.replace(/\\(.*(function|\\w).*\\(\\s*([\\s\\S]*?)\\s*\\)/, '(' + args+')') + \"\\n\";\n        }\n        return glsl;\n    }\n\n    //set parameters in JS functions before converting to GLSL codes\n    function applyEnvParameters(str){\n        //find all $(...) and replace them with parameters\n        var envParam = Object.keys(parameters);\n        if(envParam.length > 0){\n            var re = new RegExp(\"\\\\$\\\\((\"+envParam.join(\"|\")+\")\\\\)\",\"g\");\n            str = str.replace(re, function(matched){\n                return parameters[matched.slice(2,matched.length-1)];\n            });\n        }\n\n        // Make uniforms to be used as parameters in shaders, like $(uniformName)\n        // var envUniforms = Object.keys(resource.uniform);\n        // re = new RegExp(\"\\\\$\\\\((\"+envUniforms.join(\"|\")+\")\\\\)\",\"g\");\n        // str = str.replace(re, function(matched){\n        //     return resource.uniform[matched.slice(2,matched.length-1)].data;\n        // });\n\n        return str;\n    }\n\n    function compile(shaderType, shaderSource) {\n        if (shaderType !== ctx.VERTEX_SHADER && shaderType !== ctx.FRAGMENT_SHADER) {\n            throw (\"Error: unknown shader type\");\n        }\n        var _shader = ctx.createShader(shaderType);\n        ctx.shaderSource(_shader, shaderSource);\n        ctx.compileShader(_shader);\n\n        // Check the compile status, get compile error if any\n        var compiled = ctx.getShaderParameter(_shader, ctx.COMPILE_STATUS);\n        if (!compiled) {\n            var lastError = ctx.getShaderInfoLog(_shader);\n            console.log(shaderSource + '\\n ====================================================');\n            throw new Error(\"Error compiling shader '\" + _shader + \"':\" + lastError);\n\n            ctx.deleteShader(_shader);\n            return null;\n        }\n\n        return _shader;\n    }\n\n    function getDeps(fn) {\n        var deps = [],\n            sourceCode = fn.toString(),\n            shaderArgs = sourceCode.match(/function\\s.*?\\(([^)]*)\\)/),\n            args = (shaderArgs !== null && shaderArgs.length) ? shaderArgs[1] : [];\n        // args = args.replace(/(?:\\r\\n|\\r|\\n|\\s)/g, '');\n        //\n        if(args.length) {\n            deps = args.split(',').map(function(arg) {\n                return arg.replace(/\\/\\*.*\\*\\//, '').trim();\n            }).filter(function(arg) {\n                return arg;\n            });\n        }\n\n        var extraDeps = getExtraDeps(sourceCode);\n        if(extraDeps.length) {\n            deps = deps.concat(extraDeps\n            .filter(function(d){\n                return deps.indexOf(d) === -1;\n            }))\n        }\n\n        return deps;\n    }\n\n    function getExtraDeps(fnString) {\n        var extraDeps = fnString.match(/this\\.(\\w+)/g);\n        if(extraDeps !== null) {\n            extraDeps = extraDeps.map(function(d){\n                return d.slice(5);\n            });\n        }\n        if(extraDeps != null && extraDeps.length) {\n            extraDeps.forEach(function(sdep){\n                var sres = resource.get(sdep);\n                if(sres && sres.resourceType == 'subroutine') {\n                    extraDeps = extraDeps.concat(getExtraDeps(sres.fn.toString()));\n                }\n            });\n        }\n        return extraDeps || [];\n    }\n\n    function declareDep(dep) {\n        var res = resource.get(dep);\n        if(typeof res === 'undefined')\n            throw new Error('Resource/dependence \"' + dep + '\" is not found.');\n        if(res.resourceType == 'subroutine')\n            return toGLSL(res.type, res.name, res.fn);\n        else\n            return res.header();\n    }\n\n    function uniqueDeps(deps) {\n        var names = {};\n        deps.forEach(function(d, i){\n            names[d] = i;\n        });\n\n        return Object.keys(names);\n    }\n\n    shader.create = function(arg, fn){\n        var option = arg || {},\n            name = option.name || \"default\",\n            type = option.type || \"vertex\",\n            deps = option.require || option.deps || [],\n            precision = option.precision || \"medium\",\n            debug = option.debug || false,\n            main = option.main || fn || function() {};\n\n        var shaderSource = 'precision ' + precision + 'p float;\\n';\n\n        if(deps.length === 0) deps = uniqueDeps(getDeps(main));\n\n        //get dependence from subroutines if any\n        var extraDeps = [];\n\n        deps.forEach(function(dep){\n            var res = resource.get(dep);\n            if(typeof res == 'undefined') {\n                console.log(dep);\n                throw Error ('Error! Undefined variable in shader: '+  dep.name);\n            }\n            if(res.resourceType == 'subroutine') {\n                // subRoutines.push(res.name);\n                extraDeps  = getExtraDeps(res.fn.toString());\n                \n            }   \n        })\n\n        if(extraDeps.length) {\n            var allDeps = extraDeps.concat(deps);\n            deps = uniqueDeps(allDeps);\n        }\n\n        if(Array.isArray(deps)){\n            deps.filter(function(d){\n                return ctx.subroutineNames.indexOf(d) === -1;\n            })\n            .forEach(function(dep){\n                shaderSource += declareDep(dep);\n            });\n            var t = deps.filter(function(d){\n                return ctx.subroutineNames.indexOf(d) !== -1;\n            })\n            .reverse()\n            .forEach(function(dep){\n                shaderSource += declareDep(dep);\n            });\n\n\n\n        } else if(typeof(deps) == 'object') {\n            console.log(deps)\n            Object.keys(deps).forEach(function(resourceType){\n                deps[resourceType].forEach(function(dep){\n                    shaderSource += declareDep(dep);\n                });\n            })\n        }\n\n        shaderSource += toGLSL('void', 'main', main);\n        if(debug)\n            console.log(shaderSource);\n        var _shader = compile(shaderType[type], shaderSource);\n        _shader._shaderType = shaderType[type];\n        _shader.deps = deps;\n        _shader.source = shaderSource;\n        shader[type][name] = _shader;\n        return _shader;\n    }\n\n    return shader;\n}\n","import Shader from './shader';\n\nexport default function Program(glContext, resources) {\n\n    var program,\n        ctx = glContext,\n        pm = {},\n        kernels = {},\n        shaders = new Shader(glContext, resources);\n\n    pm.create = function(name, vs, fs) {\n        var name = name || \"default\",\n            vs = vs || \"default\",\n            fs = fs || \"default\",\n            deps = [];\n\n        if (kernels.hasOwnProperty(name)) {\n            pm.delete(name);\n        }\n\n        kernels[name] = ctx.createProgram();\n\n        kernels[name].vs = (typeof vs == \"object\") ? vs : shaders.vertex[vs];\n        kernels[name].fs = (typeof fs == \"object\") ? fs : shaders.fragment[fs];\n\n        ctx.attachShader(kernels[name], kernels[name].vs);\n        ctx.attachShader(kernels[name], kernels[name].fs);\n        ctx.linkProgram(kernels[name]);\n        var linked = ctx.getProgramParameter(kernels[name], ctx.LINK_STATUS);\n        if (!linked) {\n            var lastError = ctx.getProgramInfoLog(kernels[name]);\n            throw (\"Error in program linking:\" + lastError);\n            ctx.deleteProgram(kernels[name]);\n            return null;\n        }\n\n        deps = deps.concat(kernels[name].vs.deps);\n        deps = deps.concat(kernels[name].fs.deps);\n        kernels[name].deps = deps;\n\n        return kernels[name];\n    }\n\n    pm.use = pm.program = function(name, vs, fs) {\n        if (kernels.hasOwnProperty(name)) {\n            program = kernels[name];\n            ctx.useProgram(program);\n            resources.link(program, program.deps);\n            return program;\n        } else {\n            return pm.create(name, vs, fs);\n        }\n    }\n\n    pm.delete = function(name) {\n        if (kernels.hasOwnProperty(name)) {\n            ctx.detachShader(kernels[name], kernels[name].vs);\n            ctx.detachShader(kernels[name], kernels[name].fs);\n            ctx.deleteProgram(kernels[name]);\n            delete kernels[name];\n        }\n    }\n\n    pm.shader = function(arg, fn) {\n        var options = arg;\n        shaders.create(options, fn);\n        return pm;\n    }\n\n    pm.shader.vertex = function(fn) {\n        var options = {\n            type: \"vertex\"\n        };\n        if (fn.name) options.name = fn.name;\n        return shaders.create(options, fn);\n    }\n\n    pm.shader.fragment = function(fn) {\n        var options = {\n            type: \"fragment\"\n        };\n        if (fn.name) options.name = fn.name;\n        return shaders.create(options, fn);\n    }\n\n    return pm;\n}\n","import Texture from './texture';\n\nexport default function Framebuffer(glContext) {\n\n    var framebuffer = (this instanceof Framebuffer) ? this : {},\n        ctx = glContext;\n\n    framebuffer.create = function(name, type, dim, texture) {\n\n        framebuffer[name] = {\n            ptr: ctx.createFramebuffer(),\n            name: name,\n            type: type || \"float\",\n            width: dim[0] || 1024,\n            height: dim[1] || 1024,\n            texture: texture || null,\n            renderbuffer: ctx.createRenderbuffer(),\n        }\n\n        if (framebuffer[name].texture === null) {\n            var buf = (type == 'float') ?\n                new Float32Array(dim[0] * dim[1] * 4) :\n                new Uint8Array(dim[0] * dim[1] * 4);\n            framebuffer[name].texture = Texture(ctx).create(name, type, dim, \"rgba\", buf);\n        }\n\n        var renderbuffer = framebuffer[name].renderbuffer;\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, framebuffer[name].ptr);\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, renderbuffer);\n        ctx.renderbufferStorage(\n            ctx.RENDERBUFFER,\n            ctx.DEPTH_COMPONENT16,\n            framebuffer[name].width,\n            framebuffer[name].height\n        );\n        ctx.framebufferTexture2D(\n            ctx.FRAMEBUFFER,\n            ctx.COLOR_ATTACHMENT0,\n            ctx.TEXTURE_2D,\n            framebuffer[name].texture.ptr,\n            0\n        );\n        ctx.framebufferRenderbuffer(\n            ctx.FRAMEBUFFER,\n            ctx.DEPTH_ATTACHMENT,\n            ctx.RENDERBUFFER,\n            renderbuffer\n        );\n        ctx.bindRenderbuffer(ctx.RENDERBUFFER, null);\n        ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n\n        framebuffer[name].enableRead = function(program) {\n            ctx.activeTexture(ctx.TEXTURE0 + this.texture.index);\n            ctx.bindTexture(ctx.TEXTURE_2D, this.texture.ptr);\n            this.texture.location = ctx.getUniformLocation(program, this.texture.name);\n            ctx.uniform1i(this.texture.location, this.texture.index);\n        };\n\n        framebuffer[name].delete = function() {\n            ctx.bindRenderbuffer(gl.RENDERBUFFER, null);\n            ctx.bindFramebuffer(gl.FRAMEBUFFER, null);\n            ctx.deleteRenderbuffer(this.renderbuffer);\n            ctx.deleteTexture(this.texture.ptr)\n            ctx.deleteFramebuffer(this.ptr);\n        };\n\n        return framebuffer[name];\n    }\n\n    return framebuffer;\n}\n","import Resource from './resource';\nimport ProgramManager from './program';\nimport Shader from './shader';\nimport Framebuffer from './framebuffer';\n\nexport default function FlexGL(arg) {\n\n    var flexgl = (this instanceof FlexGL) ? this : {},\n        options = arg || {},\n        container = options.container || null,\n        canvas = options.canvas || document.createElement(\"canvas\"),\n        viewport = options.viewport || [0, 0],\n        width = options.width || viewport[0] || null,\n        height = options.height || viewport[1] || null,\n        padding = options.padding || {\n            left: 0,\n            right: 0,\n            top: 0,\n            bottom: 0\n        },\n        ctx = options.context || options.ctx || null,\n        kernels = {},\n        program = null,\n        glAttr = options.attributes || {},\n        sharedFunction = options.sharedFunction || {};\n\n    \n    if (typeof(canvas) == \"string\") {\n        if (canvas[0] == \"#\") canvas = document.getElementById(cavnas.substring(1));\n        else canvas = document.getElementById(cavnas);\n    }\n    if (container) {\n        container = (typeof(container) == \"string\") ? document.getElementById(container) : container;\n        if (width === null) width = container.clientWidth;\n        if (height === null) height = container.clientHeight;\n    }\n    // width -= padding.left + padding.right;\n    // height -= padding.top + padding.bottom;\n    canvas.width = width;\n    canvas.height = height;\n    canvas.style.position = \"absolute\";\n    canvas.style.marginLeft = padding.left + \"px\";\n    canvas.style.marginTop = padding.top + \"px\";\n\n    if (ctx === null)\n        ctx = setupWebGL(canvas);\n    flexgl.ctx = ctx;\n    flexgl.canvas = canvas;\n\n    ctx._dict = options.env || options.dict || options.dictionary || {};\n    ctx.subroutineNames = []; // save all subroutines' names \n\n    var resources = new Resource(ctx),\n        framebuffers = new Framebuffer(ctx),\n        programManager = new ProgramManager(ctx, resources),\n        shaders = new Shader(ctx, resources);\n\n    var blendExt = ctx.getExtension(\"EXT_blend_minmax\");\n    if (blendExt) {\n        ctx.MAX_EXT = blendExt.MAX_EXT;\n        ctx.MIN_EXT = blendExt.MIN_EXT;\n    }\n\n    ctx.ext = ctx.getExtension(\"ANGLE_instanced_arrays\");\n    enableExtension([\n        \"OES_texture_float\",\n        \"OES_texture_float_linear\",\n        // \"OES_texture_half_float\",\n        // \"OES_texture_half_float_linear\"\n    ]);\n\n    if (container)\n        container.appendChild(canvas);\n\n    function setupWebGL(canvas) {\n        var names = [\"webgl\", \"experimental-webgl\"];\n        var gl = null;\n        for (var i = 0; i < names.length; ++i) {\n            try {\n                gl = canvas.getContext(names[i], glAttr);\n            } catch (e) {}\n            if (gl) break;\n        }\n        return gl;\n    }\n\n    function enableExtension(extensions) {\n        if (!Array.isArray(extensions)) extensions = [extensions];\n        extensions.forEach(function(extension) {\n            var extProps = ctx.getExtension(extension);\n            if (extProps !== null) {\n                Object.keys(extProps).forEach(function(ep) {\n                    if (!ext.hasOwnProperty(ep)) {\n                        ctx.ext[ep] = extProps[ep];\n                    }\n                })\n            }\n        });\n    };\n\n    flexgl.enableExtension = enableExtension;\n\n    /**\n     * Allocate Attributes in vertex buffer array stored in GPU memory\n     * @param  {String} name attribute name\n     * @param  {String} type attribute type: float, vec2, ...\n     * @param  {Array} data data values\n     * @return {Object}      FLexGL object\n     */\n    flexgl.attribute = function(name, type, data) {\n        resources.allocate(\"attribute\", name, type, data);\n        Object.defineProperty(flexgl.attribute, name, {\n            get: function() {\n                return resources.attribute[name];\n            },\n            set: function(data) {\n                resources.attribute[name].load(data);\n            }\n        });\n        return flexgl;\n    };\n    flexgl.buffer = flexgl.attribute; //alias\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type uniform variable type: float, vec2, ...\n     * @param  {Array} data data values\n     * @return {Object}      FLexGL object\n     */\n    flexgl.uniform = function(name, type, data) {\n        resources.allocate(\"uniform\", name, type, data);\n        if (!flexgl.uniform.hasOwnProperty(name)) {\n            Object.defineProperty(flexgl.uniform, name, {\n                get: function() {\n                    return resources.uniform[name];\n                },\n                set: function(data) {\n                    resources.uniform[name].load(data);\n                    if (ctx.isProgram(program))\n                        resources.uniform[name].link(program);\n                }\n            });\n        }\n        return flexgl;\n    };\n\n    flexgl.uniform.serialize = function(aoa) {\n        var sa = [];\n        aoa.forEach(function(a) {\n            sa = sa.concat(a);\n        })\n        return sa;\n    }\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type texture type: unsigned_byte or float, ...\n     * @param  {Array} data data values\n     * @param  {Array} dim [width, height]\n     * @param  {String} [channel='alpha'] WebGL formats (rgba, alpha)\n     * @param  {Object} [sampler=null] FLexGL Uniform Object\n     * @return {Object}      FLexGL object\n     */\n    flexgl.texture = function(name, type, data, dim, channel, sampler) {\n        resources.allocate(\"texture\", name, type, dim, channel, data, sampler);\n        Object.defineProperty(flexgl.texture, name, {\n            get: function() {\n                return resources.texture[name];\n            },\n            set: function(data) {\n                resources.texture[name].load(data);\n            }\n        });\n        return flexgl;\n    }\n\n    flexgl.texture.update = function(name, data, offset, dim) {\n        resources.texture[name].update(data, offset, dim);\n    }\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} [type] Varying variable type: float, vec2, ...\n     * @param  {Number} [size=1] data array\n     * @return {Object}      FLexGL object\n     */\n    flexgl.varying = function(name, type, size) {\n        resources.allocate(\"varying\", name, type, size);\n        return flexgl;\n    };\n\n    /**\n     * Create a Uniform variable for WebGL shader programs\n     * @param  {String} name attribute name\n     * @param  {String} type attribute type: float, vec2, ...\n     * @param  {Array} dim [width, height]\n     * @param  {Object} [texture=null] FLexGL Texture Object\n     * @return {Object}      FLexGL object\n     */\n    flexgl.framebuffer = function(name, type, dim, texture) {\n        var texture = texture || resources.allocate('texture', name, type, dim, 'rgba', null);\n\n        framebuffers.create(name, type, dim, texture);\n        if (!flexgl.framebuffer.hasOwnProperty(name)) {\n            Object.defineProperty(flexgl.framebuffer, name, {\n                get: function() {\n                    return framebuffers[name];\n                }\n            });\n        }\n        return flexgl;\n    }\n\n    flexgl.framebuffer.enableRead = function(name) {\n        framebuffers[name].enableRead(program);\n    }\n\n    flexgl.bindFramebuffer = function(fbName) {\n        if (framebuffers.hasOwnProperty(fbName)) {\n            ctx.bindFramebuffer(ctx.FRAMEBUFFER, framebuffers[fbName].ptr);\n        } else {\n            ctx.bindFramebuffer(ctx.FRAMEBUFFER, null);\n        }\n    }\n\n    flexgl.subroutine = function(name, type, fn) {\n        ctx.subroutineNames.push(name);\n        resources.allocate(\"subroutine\", name, type, fn);\n        return flexgl;\n    }\n\n    flexgl.parameter = function(keyValuePairs) {\n        Object.keys(keyValuePairs).forEach(function(key) {\n            ctx._dict[key] = keyValuePairs[key];\n            if (Array.isArray(ctx._dict[key])) {\n                var i = 0;\n                Object.defineProperty(ctx._dict, key, {\n                    get: function() {\n                        return keyValuePairs[key][i++];\n                    },\n                    set: function(newArray) {\n                        i = 0;\n                        ctx._dict[key] = newArray;\n                    }\n                });\n            } else if(typeof(ctx._dict[key]) == 'object') {\n                var dictKeys = Object.keys(ctx._dict[key]);\n                fxgl.uniform('dict'+key, 'float', dictKeys.map(d=>ctx._dict[key][d]));\n            }\n        })\n        return flexgl;\n    }\n\n    flexgl.dictionary = flexgl.parameter;\n\n    flexgl.shader = programManager.shader;\n\n    flexgl.program = function(name, vs, fs) {\n        program = programManager.program(name, vs, fs);\n        return ctx;\n    }\n\n    flexgl.createProgram = function(name, vs, fs) {\n        program = programManager.create(name, vs, fs);\n        return ctx;\n    }\n\n    flexgl.app = function(name, props) {\n        var vs = flexgl.shader.vertex(props.vs),\n            fs = flexgl.shader.fragment(props.fs),\n            fb = props.framebuffer || null;\n\n        flexgl.program(name, vs, fs);\n\n        var draw = props.render || props.draw;\n\n        return function(args) {\n            var gl = flexgl.program(name);\n            return draw.call(gl, args);\n        }\n    }\n\n    flexgl.dimension = function() {\n        return [canvas.width, canvas.height];\n    }\n\n    flexgl.resources = resources;\n\n    return flexgl;\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.typeDetect = factory());\n}(this, (function () { 'use strict';\n\n/* !\n * type-detect\n * Copyright(c) 2013 jake luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\nvar promiseExists = typeof Promise === 'function';\n\n/* eslint-disable no-undef */\nvar globalObject = typeof self === 'object' ? self : global; // eslint-disable-line id-blacklist\n\nvar symbolExists = typeof Symbol !== 'undefined';\nvar mapExists = typeof Map !== 'undefined';\nvar setExists = typeof Set !== 'undefined';\nvar weakMapExists = typeof WeakMap !== 'undefined';\nvar weakSetExists = typeof WeakSet !== 'undefined';\nvar dataViewExists = typeof DataView !== 'undefined';\nvar symbolIteratorExists = symbolExists && typeof Symbol.iterator !== 'undefined';\nvar symbolToStringTagExists = symbolExists && typeof Symbol.toStringTag !== 'undefined';\nvar setEntriesExists = setExists && typeof Set.prototype.entries === 'function';\nvar mapEntriesExists = mapExists && typeof Map.prototype.entries === 'function';\nvar setIteratorPrototype = setEntriesExists && Object.getPrototypeOf(new Set().entries());\nvar mapIteratorPrototype = mapEntriesExists && Object.getPrototypeOf(new Map().entries());\nvar arrayIteratorExists = symbolIteratorExists && typeof Array.prototype[Symbol.iterator] === 'function';\nvar arrayIteratorPrototype = arrayIteratorExists && Object.getPrototypeOf([][Symbol.iterator]());\nvar stringIteratorExists = symbolIteratorExists && typeof String.prototype[Symbol.iterator] === 'function';\nvar stringIteratorPrototype = stringIteratorExists && Object.getPrototypeOf(''[Symbol.iterator]());\nvar toStringLeftSliceLength = 8;\nvar toStringRightSliceLength = -1;\n/**\n * ### typeOf (obj)\n *\n * Uses `Object.prototype.toString` to determine the type of an object,\n * normalising behaviour across engine versions & well optimised.\n *\n * @param {Mixed} object\n * @return {String} object type\n * @api public\n */\nfunction typeDetect(obj) {\n  /* ! Speed optimisation\n   * Pre:\n   *   string literal     x 3,039,035 ops/sec ±1.62% (78 runs sampled)\n   *   boolean literal    x 1,424,138 ops/sec ±4.54% (75 runs sampled)\n   *   number literal     x 1,653,153 ops/sec ±1.91% (82 runs sampled)\n   *   undefined          x 9,978,660 ops/sec ±1.92% (75 runs sampled)\n   *   function           x 2,556,769 ops/sec ±1.73% (77 runs sampled)\n   * Post:\n   *   string literal     x 38,564,796 ops/sec ±1.15% (79 runs sampled)\n   *   boolean literal    x 31,148,940 ops/sec ±1.10% (79 runs sampled)\n   *   number literal     x 32,679,330 ops/sec ±1.90% (78 runs sampled)\n   *   undefined          x 32,363,368 ops/sec ±1.07% (82 runs sampled)\n   *   function           x 31,296,870 ops/sec ±0.96% (83 runs sampled)\n   */\n  var typeofObj = typeof obj;\n  if (typeofObj !== 'object') {\n    return typeofObj;\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   null               x 28,645,765 ops/sec ±1.17% (82 runs sampled)\n   * Post:\n   *   null               x 36,428,962 ops/sec ±1.37% (84 runs sampled)\n   */\n  if (obj === null) {\n    return 'null';\n  }\n\n  /* ! Spec Conformance\n   * Test: `Object.prototype.toString.call(window)``\n   *  - Node === \"[object global]\"\n   *  - Chrome === \"[object global]\"\n   *  - Firefox === \"[object Window]\"\n   *  - PhantomJS === \"[object Window]\"\n   *  - Safari === \"[object Window]\"\n   *  - IE 11 === \"[object Window]\"\n   *  - IE Edge === \"[object Window]\"\n   * Test: `Object.prototype.toString.call(this)``\n   *  - Chrome Worker === \"[object global]\"\n   *  - Firefox Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - Safari Worker === \"[object DedicatedWorkerGlobalScope]\"\n   *  - IE 11 Worker === \"[object WorkerGlobalScope]\"\n   *  - IE Edge Worker === \"[object WorkerGlobalScope]\"\n   */\n  if (obj === globalObject) {\n    return 'global';\n  }\n\n  /* ! Speed optimisation\n   * Pre:\n   *   array literal      x 2,888,352 ops/sec ±0.67% (82 runs sampled)\n   * Post:\n   *   array literal      x 22,479,650 ops/sec ±0.96% (81 runs sampled)\n   */\n  if (\n    Array.isArray(obj) &&\n    (symbolToStringTagExists === false || !(Symbol.toStringTag in obj))\n  ) {\n    return 'Array';\n  }\n\n  // Not caching existence of `window` and related properties due to potential\n  // for `window` to be unset before tests in quasi-browser environments.\n  if (typeof window === 'object' && window !== null) {\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/multipage/browsers.html#location)\n     * WhatWG HTML$7.7.3 - The `Location` interface\n     * Test: `Object.prototype.toString.call(window.location)``\n     *  - IE <=11 === \"[object Object]\"\n     *  - IE Edge <=13 === \"[object Object]\"\n     */\n    if (typeof window.location === 'object' && obj === window.location) {\n      return 'Location';\n    }\n\n    /* ! Spec Conformance\n     * (https://html.spec.whatwg.org/#document)\n     * WhatWG HTML$3.1.1 - The `Document` object\n     * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n     *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-26809268)\n     *       which suggests that browsers should use HTMLTableCellElement for\n     *       both TD and TH elements. WhatWG separates these.\n     *       WhatWG HTML states:\n     *         > For historical reasons, Window objects must also have a\n     *         > writable, configurable, non-enumerable property named\n     *         > HTMLDocument whose value is the Document interface object.\n     * Test: `Object.prototype.toString.call(document)``\n     *  - Chrome === \"[object HTMLDocument]\"\n     *  - Firefox === \"[object HTMLDocument]\"\n     *  - Safari === \"[object HTMLDocument]\"\n     *  - IE <=10 === \"[object Document]\"\n     *  - IE 11 === \"[object HTMLDocument]\"\n     *  - IE Edge <=13 === \"[object HTMLDocument]\"\n     */\n    if (typeof window.document === 'object' && obj === window.document) {\n      return 'Document';\n    }\n\n    if (typeof window.navigator === 'object') {\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#mimetypearray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface MimeTypeArray\n       * Test: `Object.prototype.toString.call(navigator.mimeTypes)``\n       *  - IE <=10 === \"[object MSMimeTypesCollection]\"\n       */\n      if (typeof window.navigator.mimeTypes === 'object' &&\n          obj === window.navigator.mimeTypes) {\n        return 'MimeTypeArray';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n       * WhatWG HTML$8.6.1.5 - Plugins - Interface PluginArray\n       * Test: `Object.prototype.toString.call(navigator.plugins)``\n       *  - IE <=10 === \"[object MSPluginsCollection]\"\n       */\n      if (typeof window.navigator.plugins === 'object' &&\n          obj === window.navigator.plugins) {\n        return 'PluginArray';\n      }\n    }\n\n    if ((typeof window.HTMLElement === 'function' ||\n        typeof window.HTMLElement === 'object') &&\n        obj instanceof window.HTMLElement) {\n      /* ! Spec Conformance\n      * (https://html.spec.whatwg.org/multipage/webappapis.html#pluginarray)\n      * WhatWG HTML$4.4.4 - The `blockquote` element - Interface `HTMLQuoteElement`\n      * Test: `Object.prototype.toString.call(document.createElement('blockquote'))``\n      *  - IE <=10 === \"[object HTMLBlockElement]\"\n      */\n      if (obj.tagName === 'BLOCKQUOTE') {\n        return 'HTMLQuoteElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltabledatacellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableDataCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('td'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TD') {\n        return 'HTMLTableDataCellElement';\n      }\n\n      /* ! Spec Conformance\n       * (https://html.spec.whatwg.org/#htmltableheadercellelement)\n       * WhatWG HTML$4.9.9 - The `td` element - Interface `HTMLTableHeaderCellElement`\n       * Note: Most browsers currently adher to the W3C DOM Level 2 spec\n       *       (https://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-82915075)\n       *       which suggests that browsers should use HTMLTableCellElement for\n       *       both TD and TH elements. WhatWG separates these.\n       * Test: Object.prototype.toString.call(document.createElement('th'))\n       *  - Chrome === \"[object HTMLTableCellElement]\"\n       *  - Firefox === \"[object HTMLTableCellElement]\"\n       *  - Safari === \"[object HTMLTableCellElement]\"\n       */\n      if (obj.tagName === 'TH') {\n        return 'HTMLTableHeaderCellElement';\n      }\n    }\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   Float64Array       x 625,644 ops/sec ±1.58% (80 runs sampled)\n  *   Float32Array       x 1,279,852 ops/sec ±2.91% (77 runs sampled)\n  *   Uint32Array        x 1,178,185 ops/sec ±1.95% (83 runs sampled)\n  *   Uint16Array        x 1,008,380 ops/sec ±2.25% (80 runs sampled)\n  *   Uint8Array         x 1,128,040 ops/sec ±2.11% (81 runs sampled)\n  *   Int32Array         x 1,170,119 ops/sec ±2.88% (80 runs sampled)\n  *   Int16Array         x 1,176,348 ops/sec ±5.79% (86 runs sampled)\n  *   Int8Array          x 1,058,707 ops/sec ±4.94% (77 runs sampled)\n  *   Uint8ClampedArray  x 1,110,633 ops/sec ±4.20% (80 runs sampled)\n  * Post:\n  *   Float64Array       x 7,105,671 ops/sec ±13.47% (64 runs sampled)\n  *   Float32Array       x 5,887,912 ops/sec ±1.46% (82 runs sampled)\n  *   Uint32Array        x 6,491,661 ops/sec ±1.76% (79 runs sampled)\n  *   Uint16Array        x 6,559,795 ops/sec ±1.67% (82 runs sampled)\n  *   Uint8Array         x 6,463,966 ops/sec ±1.43% (85 runs sampled)\n  *   Int32Array         x 5,641,841 ops/sec ±3.49% (81 runs sampled)\n  *   Int16Array         x 6,583,511 ops/sec ±1.98% (80 runs sampled)\n  *   Int8Array          x 6,606,078 ops/sec ±1.74% (81 runs sampled)\n  *   Uint8ClampedArray  x 6,602,224 ops/sec ±1.77% (83 runs sampled)\n  */\n  var stringTag = (symbolToStringTagExists && obj[Symbol.toStringTag]);\n  if (typeof stringTag === 'string') {\n    return stringTag;\n  }\n\n  var objPrototype = Object.getPrototypeOf(obj);\n  /* ! Speed optimisation\n  * Pre:\n  *   regex literal      x 1,772,385 ops/sec ±1.85% (77 runs sampled)\n  *   regex constructor  x 2,143,634 ops/sec ±2.46% (78 runs sampled)\n  * Post:\n  *   regex literal      x 3,928,009 ops/sec ±0.65% (78 runs sampled)\n  *   regex constructor  x 3,931,108 ops/sec ±0.58% (84 runs sampled)\n  */\n  if (objPrototype === RegExp.prototype) {\n    return 'RegExp';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   date               x 2,130,074 ops/sec ±4.42% (68 runs sampled)\n  * Post:\n  *   date               x 3,953,779 ops/sec ±1.35% (77 runs sampled)\n  */\n  if (objPrototype === Date.prototype) {\n    return 'Date';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-promise.prototype-@@tostringtag)\n   * ES6$25.4.5.4 - Promise.prototype[@@toStringTag] should be \"Promise\":\n   * Test: `Object.prototype.toString.call(Promise.resolve())``\n   *  - Chrome <=47 === \"[object Object]\"\n   *  - Edge <=20 === \"[object Object]\"\n   *  - Firefox 29-Latest === \"[object Promise]\"\n   *  - Safari 7.1-Latest === \"[object Promise]\"\n   */\n  if (promiseExists && objPrototype === Promise.prototype) {\n    return 'Promise';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   set                x 2,222,186 ops/sec ±1.31% (82 runs sampled)\n  * Post:\n  *   set                x 4,545,879 ops/sec ±1.13% (83 runs sampled)\n  */\n  if (setExists && objPrototype === Set.prototype) {\n    return 'Set';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   map                x 2,396,842 ops/sec ±1.59% (81 runs sampled)\n  * Post:\n  *   map                x 4,183,945 ops/sec ±6.59% (82 runs sampled)\n  */\n  if (mapExists && objPrototype === Map.prototype) {\n    return 'Map';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakset            x 1,323,220 ops/sec ±2.17% (76 runs sampled)\n  * Post:\n  *   weakset            x 4,237,510 ops/sec ±2.01% (77 runs sampled)\n  */\n  if (weakSetExists && objPrototype === WeakSet.prototype) {\n    return 'WeakSet';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   weakmap            x 1,500,260 ops/sec ±2.02% (78 runs sampled)\n  * Post:\n  *   weakmap            x 3,881,384 ops/sec ±1.45% (82 runs sampled)\n  */\n  if (weakMapExists && objPrototype === WeakMap.prototype) {\n    return 'WeakMap';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-dataview.prototype-@@tostringtag)\n   * ES6$24.2.4.21 - DataView.prototype[@@toStringTag] should be \"DataView\":\n   * Test: `Object.prototype.toString.call(new DataView(new ArrayBuffer(1)))``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (dataViewExists && objPrototype === DataView.prototype) {\n    return 'DataView';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%mapiteratorprototype%-@@tostringtag)\n   * ES6$23.1.5.2.2 - %MapIteratorPrototype%[@@toStringTag] should be \"Map Iterator\":\n   * Test: `Object.prototype.toString.call(new Map().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (mapExists && objPrototype === mapIteratorPrototype) {\n    return 'Map Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%setiteratorprototype%-@@tostringtag)\n   * ES6$23.2.5.2.2 - %SetIteratorPrototype%[@@toStringTag] should be \"Set Iterator\":\n   * Test: `Object.prototype.toString.call(new Set().entries())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (setExists && objPrototype === setIteratorPrototype) {\n    return 'Set Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%arrayiteratorprototype%-@@tostringtag)\n   * ES6$22.1.5.2.2 - %ArrayIteratorPrototype%[@@toStringTag] should be \"Array Iterator\":\n   * Test: `Object.prototype.toString.call([][Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (arrayIteratorExists && objPrototype === arrayIteratorPrototype) {\n    return 'Array Iterator';\n  }\n\n  /* ! Spec Conformance\n   * (http://www.ecma-international.org/ecma-262/6.0/index.html#sec-%stringiteratorprototype%-@@tostringtag)\n   * ES6$21.1.5.2.2 - %StringIteratorPrototype%[@@toStringTag] should be \"String Iterator\":\n   * Test: `Object.prototype.toString.call(''[Symbol.iterator]())``\n   *  - Edge <=13 === \"[object Object]\"\n   */\n  if (stringIteratorExists && objPrototype === stringIteratorPrototype) {\n    return 'String Iterator';\n  }\n\n  /* ! Speed optimisation\n  * Pre:\n  *   object from null   x 2,424,320 ops/sec ±1.67% (76 runs sampled)\n  * Post:\n  *   object from null   x 5,838,000 ops/sec ±0.99% (84 runs sampled)\n  */\n  if (objPrototype === null) {\n    return 'Object';\n  }\n\n  return Object\n    .prototype\n    .toString\n    .call(obj)\n    .slice(toStringLeftSliceLength, toStringRightSliceLength);\n}\n\nreturn typeDetect;\n\n})));\n","// This is (almost) directly from Node.js utils\n// https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/util.js\n\nvar getName = require('get-func-name');\nvar getProperties = require('./getProperties');\nvar getEnumerableProperties = require('./getEnumerableProperties');\nvar config = require('../config');\n\nmodule.exports = inspect;\n\n/**\n * ### .inspect(obj, [showHidden], [depth], [colors])\n *\n * Echoes the value of a value. Tries to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Boolean} showHidden Flag that shows hidden (not enumerable)\n *    properties of objects. Default is false.\n * @param {Number} depth Depth in which to descend in object. Default is 2.\n * @param {Boolean} colors Flag to turn on ANSI escape codes to color the\n *    output. Default is false (no coloring).\n * @namespace Utils\n * @name inspect\n */\nfunction inspect(obj, showHidden, depth, colors) {\n  var ctx = {\n    showHidden: showHidden,\n    seen: [],\n    stylize: function (str) { return str; }\n  };\n  return formatValue(ctx, obj, (typeof depth === 'undefined' ? 2 : depth));\n}\n\n// Returns true if object is a DOM element.\nvar isDOMElement = function (object) {\n  if (typeof HTMLElement === 'object') {\n    return object instanceof HTMLElement;\n  } else {\n    return object &&\n      typeof object === 'object' &&\n      'nodeType' in object &&\n      object.nodeType === 1 &&\n      typeof object.nodeName === 'string';\n  }\n};\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (value && typeof value.inspect === 'function' &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (typeof ret !== 'string') {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // If this is a DOM element, try to get the outer HTML.\n  if (isDOMElement(value)) {\n    if ('outerHTML' in value) {\n      return value.outerHTML;\n      // This value does not have an outerHTML attribute,\n      //   it could still be an XML element\n    } else {\n      // Attempt to serialize it\n      try {\n        if (document.xmlVersion) {\n          var xmlSerializer = new XMLSerializer();\n          return xmlSerializer.serializeToString(value);\n        } else {\n          // Firefox 11- do not support outerHTML\n          //   It does, however, support innerHTML\n          //   Use the following to render the element\n          var ns = \"http://www.w3.org/1999/xhtml\";\n          var container = document.createElementNS(ns, '_');\n\n          container.appendChild(value.cloneNode(false));\n          var html = container.innerHTML\n            .replace('><', '>' + value.innerHTML + '<');\n          container.innerHTML = '';\n          return html;\n        }\n      } catch (err) {\n        // This could be a non-native DOM implementation,\n        //   continue with the normal flow:\n        //   printing the element as if it is an object.\n      }\n    }\n  }\n\n  // Look up the keys of the object.\n  var visibleKeys = getEnumerableProperties(value);\n  var keys = ctx.showHidden ? getProperties(value) : visibleKeys;\n\n  var name, nameSuffix;\n\n  // Some type of object without properties can be shortcut.\n  // In IE, errors have a single `stack` property, or if they are vanilla `Error`,\n  // a `stack` plus `description` property; ignore those for consistency.\n  if (keys.length === 0 || (isError(value) && (\n      (keys.length === 1 && keys[0] === 'stack') ||\n      (keys.length === 2 && keys[0] === 'description' && keys[1] === 'stack')\n     ))) {\n    if (typeof value === 'function') {\n      name = getName(value);\n      nameSuffix = name ? ': ' + name : '';\n      return ctx.stylize('[Function' + nameSuffix + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toUTCString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = ''\n    , array = false\n    , typedArray = false\n    , braces = ['{', '}'];\n\n  if (isTypedArray(value)) {\n    typedArray = true;\n    braces = ['[', ']'];\n  }\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (typeof value === 'function') {\n    name = getName(value);\n    nameSuffix = name ? ': ' + name : '';\n    base = ' [Function' + nameSuffix + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    return formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else if (typedArray) {\n    return formatTypedArray(value);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\nfunction formatPrimitive(ctx, value) {\n  switch (typeof value) {\n    case 'undefined':\n      return ctx.stylize('undefined', 'undefined');\n\n    case 'string':\n      var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                               .replace(/'/g, \"\\\\'\")\n                                               .replace(/\\\\\"/g, '\"') + '\\'';\n      return ctx.stylize(simple, 'string');\n\n    case 'number':\n      if (value === 0 && (1/value) === -Infinity) {\n        return ctx.stylize('-0', 'number');\n      }\n      return ctx.stylize('' + value, 'number');\n\n    case 'boolean':\n      return ctx.stylize('' + value, 'boolean');\n\n    case 'symbol':\n      return ctx.stylize(value.toString(), 'symbol');\n  }\n  // For some reason typeof null is \"object\", so special case here.\n  if (value === null) {\n    return ctx.stylize('null', 'null');\n  }\n}\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (Object.prototype.hasOwnProperty.call(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\nfunction formatTypedArray(value) {\n  var str = '[ ';\n\n  for (var i = 0; i < value.length; ++i) {\n    if (str.length >= config.truncateThreshold - 7) {\n      str += '...';\n      break;\n    }\n    str += value[i] + ', ';\n  }\n  str += ' ]';\n\n  // Removing trailing `, ` if the array was not truncated\n  if (str.indexOf(',  ]') !== -1) {\n    str = str.replace(',  ]', ' ]');\n  }\n\n  return str;\n}\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name;\n  var propDescriptor = Object.getOwnPropertyDescriptor(value, key);\n  var str;\n\n  if (propDescriptor) {\n    if (propDescriptor.get) {\n      if (propDescriptor.set) {\n        str = ctx.stylize('[Getter/Setter]', 'special');\n      } else {\n        str = ctx.stylize('[Getter]', 'special');\n      }\n    } else {\n      if (propDescriptor.set) {\n        str = ctx.stylize('[Setter]', 'special');\n      }\n    }\n  }\n  if (visibleKeys.indexOf(key) < 0) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(value[key]) < 0) {\n      if (recurseTimes === null) {\n        str = formatValue(ctx, value[key], null);\n      } else {\n        str = formatValue(ctx, value[key], recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (typeof name === 'undefined') {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\nfunction reduceToSingleString(output, base, braces) {\n  var length = output.reduce(function(prev, cur) {\n    return prev + cur.length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\nfunction isTypedArray(ar) {\n  // Unfortunately there's no way to check if an object is a TypedArray\n  // We have to check if it's one of these types\n  return (typeof ar === 'object' && /\\w+Array]$/.test(objectToString(ar)));\n}\n\nfunction isArray(ar) {\n  return Array.isArray(ar) ||\n         (typeof ar === 'object' && objectToString(ar) === '[object Array]');\n}\n\nfunction isRegExp(re) {\n  return typeof re === 'object' && objectToString(re) === '[object RegExp]';\n}\n\nfunction isDate(d) {\n  return typeof d === 'object' && objectToString(d) === '[object Date]';\n}\n\nfunction isError(e) {\n  return typeof e === 'object' && objectToString(e) === '[object Error]';\n}\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","import { randomJSONs, randomArrays } from './utils';\n\nlet educations = ['High School', 'Some College', 'AA/AS', 'Bachelor', 'Master', 'Doctorate']\nlet races = ['White', 'Asian', 'Black', 'Mixed'];\n\nlet dataProps = [\n    {name: 'BabyMonth', dtype: 'int', dist: 'uniform', min: 1, max: 12},\n    {name: 'BabyGender', dtype: 'string', values: ['F', 'M']},\n    {name: 'BabyWeight', dtype: 'float', dist: 'normal', min: 2, max: 20, mean: 7, std: 2},\n    {name: 'MotherAge', dtype: 'int', dist: 'normal', min: 16, max: 70, mean: 30, std: 10},\n    {name: 'MotherRace', dtype: 'string', values: races},\n    {name: 'MotherStatus', dtype: 'string', values: ['Married', 'Unmarried']},\n    {name: 'MotherEdu', dtype: 'string', values: educations},\n    {name: 'MotherHeight', dtype: 'int', dist: 'normal', min: 120, max: 220, mean: 168, std: 20},\n    {name: 'MotherWeight', dtype: 'float', dist: 'normal', min: 50, max: 290, mean: 100, std: 50},\n    {name: 'MotherWgtGain', dtype: 'float', dist: 'normal', min: 0, max: 100, mean: 30, std: 10},\n    {name: 'FatherAge', dtype: 'int', dist: 'normal', min: 15, max: 90, mean: 32, std: 10},\n    {name: 'FatherRace', dtype: 'string', values: races},\n    {name: 'FatherEdu', dtype: 'string', values: educations}\n];\n\nlet schema = {};\nfor(let prop of dataProps) {\n    schema[prop.name] = prop.dtype;\n}\n\nfunction Babies(arg) {\n    let dataSize = (Number.isInteger(arg)) ? arg : arg.size;\n    let props = arg.props || dataProps;\n    let type = arg.type || 'json';\n    let data = (type === 'json') ? randomJSONs({props: props, size: dataSize}): randomArrays({props: props, size: dataSize});\n    return { data, schema };\n}\n\nBabies.schema = schema;\n\nexport default Babies;","import {boundedRandom} from './utils';\r\n\r\nexport default function ({\r\n  timesteps = 128,\r\n  series = 8,\r\n  interval = 1,\r\n  props,\r\n  label = {time: 'timestamp', series: 'sid'}\r\n}) {\r\n  let dsize = timesteps * series;\r\n  let data = new Array(dsize);\r\n  for(let i = 0; i < timesteps; i++) {\r\n    for(let j = 0; j < series; j++) {\r\n      let record = {};\r\n      record[label.time] = i * interval;\r\n      record[label.series] = j;\r\n      for(let prop of props) {\r\n          if(prop.hasOwnProperty('values')){\r\n              let vid = parseInt( Math.round( Math.random() * (prop.values.length - 1) ) );\r\n              record[prop.name] = prop.values[vid];\r\n          } else {\r\n              let value = boundedRandom(prop);\r\n              record[prop.name] = (prop.dtype == 'float') ? parseFloat(value) : Math.round(value);\r\n          }\r\n      }\r\n      data[i * series + j] = record;\r\n    }\r\n  }\r\n\r\n  let schema = {};\r\n  schema[label.time] = 'int';\r\n  schema[label.series] = 'float';\r\n  for(let prop of props) {\r\n      schema[prop.name] = prop.dtype;\r\n  }\r\n\r\n  return {\r\n    data,\r\n    schema\r\n  }\r\n}","import { randomJSONs, randomArrays } from './utils';\r\n\r\nlet dataProps = [\r\n    {name: 'ApparentMagnitude', dtype: 'float', dist: 'normal', min: -27, max: 27, mean: 12, std: 3},\r\n    {name: 'GroundLongtitude', dtype: 'float', dist: 'uniform', min: 65, max: 85},\r\n    {name: 'GroundLatitude', dtype: 'float', dist: 'uniform', min: 65, max: 85},   \r\n]\r\n\r\nlet schema = {};\r\nfor(let prop of dataProps) {\r\n    schema[prop.name] = prop.dtype;\r\n}\r\n\r\nfunction Kepler(arg) {\r\n    let dataSize = (Number.isInteger(arg)) ? arg : arg.size;\r\n    let props = arg.props || dataProps;\r\n    let type = arg.type || 'json';\r\n    let data = (type === 'json') ? randomJSONs({props: props, size: dataSize}): randomArrays({props: props, size: dataSize});\r\n    return { data, schema };\r\n}\r\n\r\nKepler.schema = schema;\r\n\r\nexport default Kepler;","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/*!\n * assertion-error\n * Copyright(c) 2013 Jake Luer <jake@qualiancy.com>\n * MIT Licensed\n */\n\n/*!\n * Return a function that will copy properties from\n * one object to another excluding any originally\n * listed. Returned function will create a new `{}`.\n *\n * @param {String} excluded properties ...\n * @return {Function}\n */\n\nfunction exclude () {\n  var excludes = [].slice.call(arguments);\n\n  function excludeProps (res, obj) {\n    Object.keys(obj).forEach(function (key) {\n      if (!~excludes.indexOf(key)) res[key] = obj[key];\n    });\n  }\n\n  return function extendExclude () {\n    var args = [].slice.call(arguments)\n      , i = 0\n      , res = {};\n\n    for (; i < args.length; i++) {\n      excludeProps(res, args[i]);\n    }\n\n    return res;\n  };\n};\n\n/*!\n * Primary Exports\n */\n\nmodule.exports = AssertionError;\n\n/**\n * ### AssertionError\n *\n * An extension of the JavaScript `Error` constructor for\n * assertion and validation scenarios.\n *\n * @param {String} message\n * @param {Object} properties to include (optional)\n * @param {callee} start stack function (optional)\n */\n\nfunction AssertionError (message, _props, ssf) {\n  var extend = exclude('name', 'message', 'stack', 'constructor', 'toJSON')\n    , props = extend(_props || {});\n\n  // default values\n  this.message = message || 'Unspecified AssertionError';\n  this.showDiff = false;\n\n  // copy from properties\n  for (var key in props) {\n    this[key] = props[key];\n  }\n\n  // capture stack trace\n  ssf = ssf || AssertionError;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, ssf);\n  } else {\n    try {\n      throw new Error();\n    } catch(e) {\n      this.stack = e.stack;\n    }\n  }\n}\n\n/*!\n * Inherit from Error.prototype\n */\n\nAssertionError.prototype = Object.create(Error.prototype);\n\n/*!\n * Statically set name\n */\n\nAssertionError.prototype.name = 'AssertionError';\n\n/*!\n * Ensure correct constructor\n */\n\nAssertionError.prototype.constructor = AssertionError;\n\n/**\n * Allow errors to be converted to JSON for static transfer.\n *\n * @param {Boolean} include stack (default: `true`)\n * @return {Object} object that can be `JSON.stringify`\n */\n\nAssertionError.prototype.toJSON = function (stack) {\n  var extend = exclude('constructor', 'toJSON', 'stack')\n    , props = extend({ name: this.name }, this);\n\n  // include stack if exists and not turned off\n  if (false !== stack && this.stack) {\n    props.stack = this.stack;\n  }\n\n  return props;\n};\n","/*!\n * Chai - getActual utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getActual(object, [actual])\n *\n * Returns the `actual` value for an Assertion.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name getActual\n */\n\nmodule.exports = function getActual(obj, args) {\n  return args.length > 4 ? args[4] : obj._obj;\n};\n","/*!\n * Chai - flag utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar inspect = require('./inspect');\nvar config = require('../config');\n\n/**\n * ### .objDisplay(object)\n *\n * Determines if an object or an array matches\n * criteria to be inspected in-line for error\n * messages or should be truncated.\n *\n * @param {Mixed} javascript object to inspect\n * @name objDisplay\n * @namespace Utils\n * @api public\n */\n\nmodule.exports = function objDisplay(obj) {\n  var str = inspect(obj)\n    , type = Object.prototype.toString.call(obj);\n\n  if (config.truncateThreshold && str.length >= config.truncateThreshold) {\n    if (type === '[object Function]') {\n      return !obj.name || obj.name === ''\n        ? '[Function]'\n        : '[Function: ' + obj.name + ']';\n    } else if (type === '[object Array]') {\n      return '[ Array(' + obj.length + ') ]';\n    } else if (type === '[object Object]') {\n      var keys = Object.keys(obj)\n        , kstr = keys.length > 2\n          ? keys.splice(0, 2).join(', ') + ', ...'\n          : keys.join(', ');\n      return '{ Object (' + kstr + ') }';\n    } else {\n      return str;\n    }\n  } else {\n    return str;\n  }\n};\n","'use strict';\n\n/* !\n * Chai - getFuncName utility\n * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getFuncName(constructorFn)\n *\n * Returns the name of a function.\n * When a non-function instance is passed, returns `null`.\n * This also includes a polyfill function if `aFunc.name` is not defined.\n *\n * @name getFuncName\n * @param {Function} funct\n * @namespace Utils\n * @api public\n */\n\nvar toString = Function.prototype.toString;\nvar functionNameMatch = /\\s*function(?:\\s|\\s*\\/\\*[^(?:*\\/)]+\\*\\/\\s*)*([^\\s\\(\\/]+)/;\nfunction getFuncName(aFunc) {\n  if (typeof aFunc !== 'function') {\n    return null;\n  }\n\n  var name = '';\n  if (typeof Function.prototype.name === 'undefined' && typeof aFunc.name === 'undefined') {\n    // Here we run a polyfill if Function does not support the `name` property and if aFunc.name is not defined\n    var match = toString.call(aFunc).match(functionNameMatch);\n    if (match) {\n      name = match[1];\n    }\n  } else {\n    // If we've got a `name` property we just use it\n    name = aFunc.name;\n  }\n\n  return name;\n}\n\nmodule.exports = getFuncName;\n","/*!\n * Chai - getProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getProperties(object)\n *\n * This allows the retrieval of property names of an object, enumerable or not,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getProperties\n * @api public\n */\n\nmodule.exports = function getProperties(object) {\n  var result = Object.getOwnPropertyNames(object);\n\n  function addProperty(property) {\n    if (result.indexOf(property) === -1) {\n      result.push(property);\n    }\n  }\n\n  var proto = Object.getPrototypeOf(object);\n  while (proto !== null) {\n    Object.getOwnPropertyNames(proto).forEach(addProperty);\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return result;\n};\n","/*!\n * Chai - getOwnEnumerablePropertySymbols utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getOwnEnumerablePropertySymbols(object)\n *\n * This allows the retrieval of directly-owned enumerable property symbols of an\n * object. This function is necessary because Object.getOwnPropertySymbols\n * returns both enumerable and non-enumerable property symbols.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getOwnEnumerablePropertySymbols\n * @api public\n */\n\nmodule.exports = function getOwnEnumerablePropertySymbols(obj) {\n  if (typeof Object.getOwnPropertySymbols !== 'function') return [];\n\n  return Object.getOwnPropertySymbols(obj).filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(obj, sym).enumerable;\n  });\n};\n","import flexgl from './src/main'\r\n\r\nvar root = typeof self == 'object' && self.self === self && self ||\r\n           typeof global == 'object' && global.global === global && global ||\r\n           this;\r\n\r\nroot.flexgl = flexgl;\r\n\r\nexport default flexgl;\r\n\r\nif(typeof module != 'undefined' && module.exports)\r\n    module.exports = flexgl;","(function (window, factory) {\n    if (typeof exports === 'object') {\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else {\n        window.jStat = factory();\n    }\n})(this, function () {\nvar jStat = (function(Math, undefined) {\n\nconsole.warn('The npm package jStat is no longer maintained. Instead use jstat (lowercase).');\nconsole.warn('Visit https://www.npmjs.com/package/jstat for more information.');\n\n// For quick reference.\nvar concat = Array.prototype.concat;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n// Calculate correction for IEEE error\n// TODO: This calculation can be improved.\nfunction calcRdx(n, m) {\n  var val = n > m ? n : m;\n  return Math.pow(10,\n                  17 - ~~(Math.log(((val > 0) ? val : -val)) * Math.LOG10E));\n}\n\n\nvar isArray = Array.isArray || function isArray(arg) {\n  return toString.call(arg) === '[object Array]';\n};\n\n\nfunction isFunction(arg) {\n  return toString.call(arg) === '[object Function]';\n}\n\n\nfunction isNumber(arg) {\n  return typeof arg === 'number' && arg === arg;\n}\n\n\n// Converts the jStat matrix to vector.\nfunction toVector(arr) {\n  return concat.apply([], arr);\n}\n\n\n// The one and only jStat constructor.\nfunction jStat() {\n  return new jStat._init(arguments);\n}\n\n\n// TODO: Remove after all references in src files have been removed.\njStat.fn = jStat.prototype;\n\n\n// By separating the initializer from the constructor it's easier to handle\n// always returning a new instance whether \"new\" was used or not.\njStat._init = function _init(args) {\n  // If first argument is an array, must be vector or matrix.\n  if (isArray(args[0])) {\n    // Check if matrix.\n    if (isArray(args[0][0])) {\n      // See if a mapping function was also passed.\n      if (isFunction(args[1]))\n        args[0] = jStat.map(args[0], args[1]);\n      // Iterate over each is faster than this.push.apply(this, args[0].\n      for (var i = 0; i < args[0].length; i++)\n        this[i] = args[0][i];\n      this.length = args[0].length;\n\n    // Otherwise must be a vector.\n    } else {\n      this[0] = isFunction(args[1]) ? jStat.map(args[0], args[1]) : args[0];\n      this.length = 1;\n    }\n\n  // If first argument is number, assume creation of sequence.\n  } else if (isNumber(args[0])) {\n    this[0] = jStat.seq.apply(null, args);\n    this.length = 1;\n\n  // Handle case when jStat object is passed to jStat.\n  } else if (args[0] instanceof jStat) {\n    // Duplicate the object and pass it back.\n    return jStat(args[0].toArray());\n\n  // Unexpected argument value, return empty jStat object.\n  // TODO: This is strange behavior. Shouldn't this throw or some such to let\n  // the user know they had bad arguments?\n  } else {\n    this[0] = [];\n    this.length = 1;\n  }\n\n  return this;\n};\njStat._init.prototype = jStat.prototype;\njStat._init.constructor = jStat;\n\n\n// Utility functions.\n// TODO: for internal use only?\njStat.utils = {\n  calcRdx: calcRdx,\n  isArray: isArray,\n  isFunction: isFunction,\n  isNumber: isNumber,\n  toVector: toVector\n};\n\n\njStat._random_fn = Math.random;\njStat.setRandom = function setRandom(fn) {\n  if (typeof fn !== 'function')\n    throw new TypeError('fn is not a function');\n  jStat._random_fn = fn;\n};\n\n\n// Easily extend the jStat object.\n// TODO: is this seriously necessary?\njStat.extend = function extend(obj) {\n  var i, j;\n\n  if (arguments.length === 1) {\n    for (j in obj)\n      jStat[j] = obj[j];\n    return this;\n  }\n\n  for (i = 1; i < arguments.length; i++) {\n    for (j in arguments[i])\n      obj[j] = arguments[i][j];\n  }\n\n  return obj;\n};\n\n\n// Returns the number of rows in the matrix.\njStat.rows = function rows(arr) {\n  return arr.length || 1;\n};\n\n\n// Returns the number of columns in the matrix.\njStat.cols = function cols(arr) {\n  return arr[0].length || 1;\n};\n\n\n// Returns the dimensions of the object { rows: i, cols: j }\njStat.dimensions = function dimensions(arr) {\n  return {\n    rows: jStat.rows(arr),\n    cols: jStat.cols(arr)\n  };\n};\n\n\n// Returns a specified row as a vector or return a sub matrix by pick some rows\njStat.row = function row(arr, index) {\n  if (isArray(index)) {\n    return index.map(function(i) {\n      return jStat.row(arr, i);\n    })\n  }\n  return arr[index];\n};\n\n\n// return row as array\n// rowa([[1,2],[3,4]],0) -> [1,2]\njStat.rowa = function rowa(arr, i) {\n  return jStat.row(arr, i);\n};\n\n\n// Returns the specified column as a vector or return a sub matrix by pick some\n// columns\njStat.col = function col(arr, index) {\n  if (isArray(index)) {\n    var submat = jStat.arange(arr.length).map(function() {\n      return new Array(index.length);\n    });\n    index.forEach(function(ind, i){\n      jStat.arange(arr.length).forEach(function(j) {\n        submat[j][i] = arr[j][ind];\n      });\n    });\n    return submat;\n  }\n  var column = new Array(arr.length);\n  for (var i = 0; i < arr.length; i++)\n    column[i] = [arr[i][index]];\n  return column;\n};\n\n\n// return column as array\n// cola([[1,2],[3,4]],0) -> [1,3]\njStat.cola = function cola(arr, i) {\n  return jStat.col(arr, i).map(function(a){ return a[0] });\n};\n\n\n// Returns the diagonal of the matrix\njStat.diag = function diag(arr) {\n  var nrow = jStat.rows(arr);\n  var res = new Array(nrow);\n  for (var row = 0; row < nrow; row++)\n    res[row] = [arr[row][row]];\n  return res;\n};\n\n\n// Returns the anti-diagonal of the matrix\njStat.antidiag = function antidiag(arr) {\n  var nrow = jStat.rows(arr) - 1;\n  var res = new Array(nrow);\n  for (var i = 0; nrow >= 0; nrow--, i++)\n    res[i] = [arr[i][nrow]];\n  return res;\n};\n\n// Transpose a matrix or array.\njStat.transpose = function transpose(arr) {\n  var obj = [];\n  var objArr, rows, cols, j, i;\n\n  // Make sure arr is in matrix format.\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  rows = arr.length;\n  cols = arr[0].length;\n\n  for (i = 0; i < cols; i++) {\n    objArr = new Array(rows);\n    for (j = 0; j < rows; j++)\n      objArr[j] = arr[j][i];\n    obj.push(objArr);\n  }\n\n  // If obj is vector, return only single array.\n  return obj.length === 1 ? obj[0] : obj;\n};\n\n\n// Map a function to an array or array of arrays.\n// \"toAlter\" is an internal variable.\njStat.map = function map(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    for (col = 0; col < ncol; col++)\n      res[row][col] = func(arr[row][col], row, col);\n  }\n\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Cumulatively combine the elements of an array or array of arrays using a function.\njStat.cumreduce = function cumreduce(arr, func, toAlter) {\n  var row, nrow, ncol, res, col;\n\n  if (!isArray(arr[0]))\n    arr = [arr];\n\n  nrow = arr.length;\n  ncol = arr[0].length;\n  res = toAlter ? arr : new Array(nrow);\n\n  for (row = 0; row < nrow; row++) {\n    // if the row doesn't exist, create it\n    if (!res[row])\n      res[row] = new Array(ncol);\n    if (ncol > 0)\n      res[row][0] = arr[row][0];\n    for (col = 1; col < ncol; col++)\n      res[row][col] = func(res[row][col-1], arr[row][col]);\n  }\n  return res.length === 1 ? res[0] : res;\n};\n\n\n// Destructively alter an array.\njStat.alter = function alter(arr, func) {\n  return jStat.map(arr, func, true);\n};\n\n\n// Generate a rows x cols matrix according to the supplied function.\njStat.create = function  create(rows, cols, func) {\n  var res = new Array(rows);\n  var i, j;\n\n  if (isFunction(cols)) {\n    func = cols;\n    cols = rows;\n  }\n\n  for (i = 0; i < rows; i++) {\n    res[i] = new Array(cols);\n    for (j = 0; j < cols; j++)\n      res[i][j] = func(i, j);\n  }\n\n  return res;\n};\n\n\nfunction retZero() { return 0; }\n\n\n// Generate a rows x cols matrix of zeros.\njStat.zeros = function zeros(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retZero);\n};\n\n\nfunction retOne() { return 1; }\n\n\n// Generate a rows x cols matrix of ones.\njStat.ones = function ones(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retOne);\n};\n\n\n// Generate a rows x cols matrix of uniformly random numbers.\njStat.rand = function rand(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, jStat._random_fn);\n};\n\n\nfunction retIdent(i, j) { return i === j ? 1 : 0; }\n\n\n// Generate an identity matrix of size row x cols.\njStat.identity = function identity(rows, cols) {\n  if (!isNumber(cols))\n    cols = rows;\n  return jStat.create(rows, cols, retIdent);\n};\n\n\n// Tests whether a matrix is symmetric\njStat.symmetric = function symmetric(arr) {\n  var size = arr.length;\n  var row, col;\n\n  if (arr.length !== arr[0].length)\n    return false;\n\n  for (row = 0; row < size; row++) {\n    for (col = 0; col < size; col++)\n      if (arr[col][row] !== arr[row][col])\n        return false;\n  }\n\n  return true;\n};\n\n\n// Set all values to zero.\njStat.clear = function clear(arr) {\n  return jStat.alter(arr, retZero);\n};\n\n\n// Generate sequence.\njStat.seq = function seq(min, max, length, func) {\n  if (!isFunction(func))\n    func = false;\n\n  var arr = [];\n  var hival = calcRdx(min, max);\n  var step = (max * hival - min * hival) / ((length - 1) * hival);\n  var current = min;\n  var cnt;\n\n  // Current is assigned using a technique to compensate for IEEE error.\n  // TODO: Needs better implementation.\n  for (cnt = 0;\n       current <= max && cnt < length;\n       cnt++, current = (min * hival + step * hival * cnt) / hival) {\n    arr.push((func ? func(current, cnt) : current));\n  }\n\n  return arr;\n};\n\n\n// arange(5) -> [0,1,2,3,4]\n// arange(1,5) -> [1,2,3,4]\n// arange(5,1,-1) -> [5,4,3,2]\njStat.arange = function arange(start, end, step) {\n  var rl = [];\n  var i;\n  step = step || 1;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  }\n  if (start === end || step === 0) {\n    return [];\n  }\n  if (start < end && step < 0) {\n    return [];\n  }\n  if (start > end && step > 0) {\n    return [];\n  }\n  if (step > 0) {\n    for (i = start; i < end; i += step) {\n      rl.push(i);\n    }\n  } else {\n    for (i = start; i > end; i += step) {\n      rl.push(i);\n    }\n  }\n  return rl;\n};\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// slice(A,{row:{end:2},col:{start:1}}) -> [[2,3],[5,6]]\n// slice(A,1,{start:1}) -> [5,6]\n// as numpy code A[:2,1:]\njStat.slice = (function(){\n  function _slice(list, start, end, step) {\n    // note it's not equal to range.map mode it's a bug\n    var i;\n    var rl = [];\n    var length = list.length;\n    if (start === undefined && end === undefined && step === undefined) {\n      return jStat.copy(list);\n    }\n\n    start = start || 0;\n    end = end || list.length;\n    start = start >= 0 ? start : length + start;\n    end = end >= 0 ? end : length + end;\n    step = step || 1;\n    if (start === end || step === 0) {\n      return [];\n    }\n    if (start < end && step < 0) {\n      return [];\n    }\n    if (start > end && step > 0) {\n      return [];\n    }\n    if (step > 0) {\n      for (i = start; i < end; i += step) {\n        rl.push(list[i]);\n      }\n    } else {\n      for (i = start; i > end;i += step) {\n        rl.push(list[i]);\n      }\n    }\n    return rl;\n  }\n\n  function slice(list, rcSlice) {\n    var colSlice, rowSlice;\n    rcSlice = rcSlice || {};\n    if (isNumber(rcSlice.row)) {\n      if (isNumber(rcSlice.col))\n        return list[rcSlice.row][rcSlice.col];\n      var row = jStat.rowa(list, rcSlice.row);\n      colSlice = rcSlice.col || {};\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    }\n\n    if (isNumber(rcSlice.col)) {\n      var col = jStat.cola(list, rcSlice.col);\n      rowSlice = rcSlice.row || {};\n      return _slice(col, rowSlice.start, rowSlice.end, rowSlice.step);\n    }\n\n    rowSlice = rcSlice.row || {};\n    colSlice = rcSlice.col || {};\n    var rows = _slice(list, rowSlice.start, rowSlice.end, rowSlice.step);\n    return rows.map(function(row) {\n      return _slice(row, colSlice.start, colSlice.end, colSlice.step);\n    });\n  }\n\n  return slice;\n}());\n\n\n// A=[[1,2,3],[4,5,6],[7,8,9]]\n// sliceAssign(A,{row:{start:1},col:{start:1}},[[0,0],[0,0]])\n// A=[[1,2,3],[4,0,0],[7,0,0]]\njStat.sliceAssign = function sliceAssign(A, rcSlice, B) {\n  var nl, ml;\n  if (isNumber(rcSlice.row)) {\n    if (isNumber(rcSlice.col))\n      return A[rcSlice.row][rcSlice.col] = B;\n    rcSlice.col = rcSlice.col || {};\n    rcSlice.col.start = rcSlice.col.start || 0;\n    rcSlice.col.end = rcSlice.col.end || A[0].length;\n    rcSlice.col.step = rcSlice.col.step || 1;\n    nl = jStat.arange(rcSlice.col.start,\n                          Math.min(A.length, rcSlice.col.end),\n                          rcSlice.col.step);\n    var m = rcSlice.row;\n    nl.forEach(function(n, i) {\n      A[m][n] = B[i];\n    });\n    return A;\n  }\n\n  if (isNumber(rcSlice.col)) {\n    rcSlice.row = rcSlice.row || {};\n    rcSlice.row.start = rcSlice.row.start || 0;\n    rcSlice.row.end = rcSlice.row.end || A.length;\n    rcSlice.row.step = rcSlice.row.step || 1;\n    ml = jStat.arange(rcSlice.row.start,\n                          Math.min(A[0].length, rcSlice.row.end),\n                          rcSlice.row.step);\n    var n = rcSlice.col;\n    ml.forEach(function(m, j) {\n      A[m][n] = B[j];\n    });\n    return A;\n  }\n\n  if (B[0].length === undefined) {\n    B = [B];\n  }\n  rcSlice.row.start = rcSlice.row.start || 0;\n  rcSlice.row.end = rcSlice.row.end || A.length;\n  rcSlice.row.step = rcSlice.row.step || 1;\n  rcSlice.col.start = rcSlice.col.start || 0;\n  rcSlice.col.end = rcSlice.col.end || A[0].length;\n  rcSlice.col.step = rcSlice.col.step || 1;\n  ml = jStat.arange(rcSlice.row.start,\n                        Math.min(A.length, rcSlice.row.end),\n                        rcSlice.row.step);\n  nl = jStat.arange(rcSlice.col.start,\n                        Math.min(A[0].length, rcSlice.col.end),\n                        rcSlice.col.step);\n  ml.forEach(function(m, i) {\n    nl.forEach(function(n, j) {\n      A[m][n] = B[i][j];\n    });\n  });\n  return A;\n};\n\n\n// [1,2,3] ->\n// [[1,0,0],[0,2,0],[0,0,3]]\njStat.diagonal = function diagonal(diagArray) {\n  var mat = jStat.zeros(diagArray.length, diagArray.length);\n  diagArray.forEach(function(t, i) {\n    mat[i][i] = t;\n  });\n  return mat;\n};\n\n\n// return copy of A\njStat.copy = function copy(A) {\n  return A.map(function(row) {\n    if (isNumber(row))\n      return row;\n    return row.map(function(t) {\n      return t;\n    });\n  });\n};\n\n\n// TODO: Go over this entire implementation. Seems a tragic waste of resources\n// doing all this work. Instead, and while ugly, use new Function() to generate\n// a custom function for each static method.\n\n// Quick reference.\nvar jProto = jStat.prototype;\n\n// Default length.\njProto.length = 0;\n\n// For internal use only.\n// TODO: Check if they're actually used, and if they are then rename them\n// to _*\njProto.push = Array.prototype.push;\njProto.sort = Array.prototype.sort;\njProto.splice = Array.prototype.splice;\njProto.slice = Array.prototype.slice;\n\n\n// Return a clean array.\njProto.toArray = function toArray() {\n  return this.length > 1 ? slice.call(this) : slice.call(this)[0];\n};\n\n\n// Map a function to a matrix or vector.\njProto.map = function map(func, toAlter) {\n  return jStat(jStat.map(this, func, toAlter));\n};\n\n\n// Cumulatively combine the elements of a matrix or vector using a function.\njProto.cumreduce = function cumreduce(func, toAlter) {\n  return jStat(jStat.cumreduce(this, func, toAlter));\n};\n\n\n// Destructively alter an array.\njProto.alter = function alter(func) {\n  jStat.alter(this, func);\n  return this;\n};\n\n\n// Extend prototype with methods that have no argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(func) {\n      var self = this,\n      results;\n      // Check for callback.\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self));\n        });\n        return this;\n      }\n      results = jStat[passfunc](this);\n      return isArray(results) ? jStat(results) : results;\n    };\n  })(funcs[i]);\n})('transpose clear symmetric rows cols dimensions diag antidiag'.split(' '));\n\n\n// Extend prototype with methods that have one argument.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function(index, func) {\n      var self = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(self, jProto[passfunc].call(self, index));\n        });\n        return this;\n      }\n      return jStat(jStat[passfunc](this, index));\n    };\n  })(funcs[i]);\n})('row col'.split(' '));\n\n\n// Extend prototype with simple shortcut methods.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('create zeros ones rand identity'.split(' '));\n\n\n// Exposing jStat.\nreturn jStat;\n\n}(Math));\n(function(jStat, Math) {\n\nvar isFunction = jStat.utils.isFunction;\n\n// Ascending functions for sort\nfunction ascNum(a, b) { return a - b; }\n\nfunction clip(arg, min, max) {\n  return Math.max(min, Math.min(arg, max));\n}\n\n\n// sum of an array\njStat.sum = function sum(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n\n// sum squared\njStat.sumsqrd = function sumsqrd(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i] * arr[i];\n  return sum;\n};\n\n\n// sum of squared errors of prediction (SSE)\njStat.sumsqerr = function sumsqerr(arr) {\n  var mean = jStat.mean(arr);\n  var sum = 0;\n  var i = arr.length;\n  var tmp;\n  while (--i >= 0) {\n    tmp = arr[i] - mean;\n    sum += tmp * tmp;\n  }\n  return sum;\n};\n\n// sum of an array in each row\njStat.sumrow = function sumrow(arr) {\n  var sum = 0;\n  var i = arr.length;\n  while (--i >= 0)\n    sum += arr[i];\n  return sum;\n};\n\n// product of an array\njStat.product = function product(arr) {\n  var prod = 1;\n  var i = arr.length;\n  while (--i >= 0)\n    prod *= arr[i];\n  return prod;\n};\n\n\n// minimum value of an array\njStat.min = function min(arr) {\n  var low = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] < low)\n      low = arr[i];\n  return low;\n};\n\n\n// maximum value of an array\njStat.max = function max(arr) {\n  var high = arr[0];\n  var i = 0;\n  while (++i < arr.length)\n    if (arr[i] > high)\n      high = arr[i];\n  return high;\n};\n\n\n// unique values of an array\njStat.unique = function unique(arr) {\n  var hash = {}, _arr = [];\n  for(var i = 0; i < arr.length; i++) {\n    if (!hash[arr[i]]) {\n      hash[arr[i]] = true;\n      _arr.push(arr[i]);\n    }\n  }\n  return _arr;\n};\n\n\n// mean value of an array\njStat.mean = function mean(arr) {\n  return jStat.sum(arr) / arr.length;\n};\n\n\n// mean squared error (MSE)\njStat.meansqerr = function meansqerr(arr) {\n  return jStat.sumsqerr(arr) / arr.length;\n};\n\n\n// geometric mean of an array\njStat.geomean = function geomean(arr) {\n  return Math.pow(jStat.product(arr), 1 / arr.length);\n};\n\n\n// median of an array\njStat.median = function median(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  // check if array is even or odd, then return the appropriate\n  return !(arrlen & 1)\n    ? (_arr[(arrlen / 2) - 1 ] + _arr[(arrlen / 2)]) / 2\n    : _arr[(arrlen / 2) | 0 ];\n};\n\n\n// cumulative sum of an array\njStat.cumsum = function cumsum(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a + b; });\n};\n\n\n// cumulative product of an array\njStat.cumprod = function cumprod(arr) {\n  return jStat.cumreduce(arr, function (a, b) { return a * b; });\n};\n\n\n// successive differences of a sequence\njStat.diff = function diff(arr) {\n  var diffs = [];\n  var arrLen = arr.length;\n  var i;\n  for (i = 1; i < arrLen; i++)\n    diffs.push(arr[i] - arr[i - 1]);\n  return diffs;\n};\n\n\n// ranks of an array\njStat.rank = function (arr) {\n  var arrlen = arr.length;\n  var sorted = arr.slice().sort(ascNum);\n  var ranks = new Array(arrlen);\n  var val;\n  for (var i = 0; i < arrlen; i++) {\n    var first = sorted.indexOf(arr[i]);\n    var last = sorted.lastIndexOf(arr[i]);\n    if (first === last) {\n      val = first;\n    } else {\n      val = (first + last) / 2;\n    }\n    ranks[i] = val + 1;\n  }\n  return ranks;\n};\n\n\n// mode of an array\n// if there are multiple modes of an array, return all of them\n// is this the appropriate way of handling it?\njStat.mode = function mode(arr) {\n  var arrLen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  var count = 1;\n  var maxCount = 0;\n  var numMaxCount = 0;\n  var mode_arr = [];\n  var i;\n\n  for (i = 0; i < arrLen; i++) {\n    if (_arr[i] === _arr[i + 1]) {\n      count++;\n    } else {\n      if (count > maxCount) {\n        mode_arr = [_arr[i]];\n        maxCount = count;\n        numMaxCount = 0;\n      }\n      // are there multiple max counts\n      else if (count === maxCount) {\n        mode_arr.push(_arr[i]);\n        numMaxCount++;\n      }\n      // resetting count for new value in array\n      count = 1;\n    }\n  }\n\n  return numMaxCount === 0 ? mode_arr[0] : mode_arr;\n};\n\n\n// range of an array\njStat.range = function range(arr) {\n  return jStat.max(arr) - jStat.min(arr);\n};\n\n// variance of an array\n// flag = true indicates sample instead of population\njStat.variance = function variance(arr, flag) {\n  return jStat.sumsqerr(arr) / (arr.length - (flag ? 1 : 0));\n};\n\n// pooled variance of an array of arrays\njStat.pooledvariance = function pooledvariance(arr) {\n  var sumsqerr = arr.reduce(function (a, samples) {return a + jStat.sumsqerr(samples);}, 0);\n  var count = arr.reduce(function (a, samples) {return a + samples.length;}, 0);\n  return sumsqerr / (count - arr.length);\n};\n\n// deviation of an array\njStat.deviation = function (arr) {\n  var mean = jStat.mean(arr);\n  var arrlen = arr.length;\n  var dev = new Array(arrlen);\n  for (var i = 0; i < arrlen; i++) {\n    dev[i] = arr[i] - mean;\n  }\n  return dev;\n};\n\n// standard deviation of an array\n// flag = true indicates sample instead of population\njStat.stdev = function stdev(arr, flag) {\n  return Math.sqrt(jStat.variance(arr, flag));\n};\n\n// pooled standard deviation of an array of arrays\njStat.pooledstdev = function pooledstdev(arr) {\n  return Math.sqrt(jStat.pooledvariance(arr));\n};\n\n// mean deviation (mean absolute deviation) of an array\njStat.meandev = function meandev(arr) {\n  var mean = jStat.mean(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - mean));\n  }\n  return jStat.mean(a);\n};\n\n\n// median deviation (median absolute deviation) of an array\njStat.meddev = function meddev(arr) {\n  var median = jStat.median(arr);\n  var a = [];\n  for (var i = arr.length - 1; i >= 0; i--) {\n    a.push(Math.abs(arr[i] - median));\n  }\n  return jStat.median(a);\n};\n\n\n// coefficient of variation\njStat.coeffvar = function coeffvar(arr) {\n  return jStat.stdev(arr) / jStat.mean(arr);\n};\n\n\n// quartiles of an array\njStat.quartiles = function quartiles(arr) {\n  var arrlen = arr.length;\n  var _arr = arr.slice().sort(ascNum);\n  return [\n    _arr[ Math.round((arrlen) / 4) - 1 ],\n    _arr[ Math.round((arrlen) / 2) - 1 ],\n    _arr[ Math.round((arrlen) * 3 / 4) - 1 ]\n  ];\n};\n\n\n// Arbitary quantiles of an array. Direct port of the scipy.stats\n// implementation by Pierre GF Gerard-Marchant.\njStat.quantiles = function quantiles(arr, quantilesArray, alphap, betap) {\n  var sortedArray = arr.slice().sort(ascNum);\n  var quantileVals = [quantilesArray.length];\n  var n = arr.length;\n  var i, p, m, aleph, k, gamma;\n\n  if (typeof alphap === 'undefined')\n    alphap = 3 / 8;\n  if (typeof betap === 'undefined')\n    betap = 3 / 8;\n\n  for (i = 0; i < quantilesArray.length; i++) {\n    p = quantilesArray[i];\n    m = alphap + p * (1 - alphap - betap);\n    aleph = n * p + m;\n    k = Math.floor(clip(aleph, 1, n - 1));\n    gamma = clip(aleph - k, 0, 1);\n    quantileVals[i] = (1 - gamma) * sortedArray[k - 1] + gamma * sortedArray[k];\n  }\n\n  return quantileVals;\n};\n\n// Return the k-th percentile of values in a range, where k is in the range 0..1, inclusive.\n// Passing true for the exclusive parameter excludes both endpoints of the range.\njStat.percentile = function percentile(arr, k, exclusive) {\n  var _arr = arr.slice().sort(ascNum);\n  var realIndex = k * (_arr.length + (exclusive ? 1 : -1)) + (exclusive ? 0 : 1);\n  var index = parseInt(realIndex);\n  var frac = realIndex - index;\n  if (index + 1 < _arr.length) {\n    return _arr[index - 1] + frac * (_arr[index] - _arr[index - 1]);\n  } else {\n    return _arr[index - 1];\n  }\n}\n\n// The percentile rank of score in a given array. Returns the percentage\n// of all values in the input array that are less than (kind='strict') or\n// less or equal than (kind='weak') score. Default is weak.\njStat.percentileOfScore = function percentileOfScore(arr, score, kind) {\n  var counter = 0;\n  var len = arr.length;\n  var strict = false;\n  var value, i;\n\n  if (kind === 'strict')\n    strict = true;\n\n  for (i = 0; i < len; i++) {\n    value = arr[i];\n    if ((strict && value < score) ||\n        (!strict && value <= score)) {\n      counter++;\n    }\n  }\n\n  return counter / len;\n};\n\n\n// Histogram (bin count) data\njStat.histogram = function histogram(arr, binCnt) {\n  binCnt = binCnt || 4;\n  var first = jStat.min(arr);\n  var binWidth = (jStat.max(arr) - first) / binCnt;\n  var len = arr.length;\n  var bins = [];\n  var i;\n\n  for (i = 0; i < binCnt; i++)\n    bins[i] = 0;\n  for (i = 0; i < len; i++)\n    bins[Math.min(Math.floor(((arr[i] - first) / binWidth)), binCnt - 1)] += 1;\n\n  return bins;\n};\n\n\n// covariance of two arrays\njStat.covariance = function covariance(arr1, arr2) {\n  var u = jStat.mean(arr1);\n  var v = jStat.mean(arr2);\n  var arr1Len = arr1.length;\n  var sq_dev = new Array(arr1Len);\n  var i;\n\n  for (i = 0; i < arr1Len; i++)\n    sq_dev[i] = (arr1[i] - u) * (arr2[i] - v);\n\n  return jStat.sum(sq_dev) / (arr1Len - 1);\n};\n\n\n// (pearson's) population correlation coefficient, rho\njStat.corrcoeff = function corrcoeff(arr1, arr2) {\n  return jStat.covariance(arr1, arr2) /\n      jStat.stdev(arr1, 1) /\n      jStat.stdev(arr2, 1);\n};\n\n  // (spearman's) rank correlation coefficient, sp\njStat.spearmancoeff =  function (arr1, arr2) {\n  arr1 = jStat.rank(arr1);\n  arr2 = jStat.rank(arr2);\n  //return pearson's correlation of the ranks:\n  return jStat.corrcoeff(arr1, arr2);\n}\n\n\n// statistical standardized moments (general form of skew/kurt)\njStat.stanMoment = function stanMoment(arr, n) {\n  var mu = jStat.mean(arr);\n  var sigma = jStat.stdev(arr);\n  var len = arr.length;\n  var skewSum = 0;\n\n  for (var i = 0; i < len; i++)\n    skewSum += Math.pow((arr[i] - mu) / sigma, n);\n\n  return skewSum / arr.length;\n};\n\n// (pearson's) moment coefficient of skewness\njStat.skewness = function skewness(arr) {\n  return jStat.stanMoment(arr, 3);\n};\n\n// (pearson's) (excess) kurtosis\njStat.kurtosis = function kurtosis(arr) {\n  return jStat.stanMoment(arr, 4) - 3;\n};\n\n\nvar jProto = jStat.prototype;\n\n\n// Extend jProto with method for calculating cumulative sums and products.\n// This differs from the similar extension below as cumsum and cumprod should\n// not be run again in the case fullbool === true.\n// If a matrix is passed, automatically assume operation should be done on the\n// columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('cumsum cumprod').split(' '));\n\n\n// Extend jProto with methods which don't require arguments and work on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    // If a matrix is passed, automatically assume operation should be done on\n    // the columns.\n    jProto[passfunc] = function(fullbool, func) {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      // Assignment reassignation depending on how parameters were passed in.\n      if (isFunction(fullbool)) {\n        func = fullbool;\n        fullbool = false;\n      }\n      // Check if a callback was passed with the function.\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jProto[passfunc].call(tmpthis, fullbool));\n        });\n        return this;\n      }\n      // Check if matrix and run calculations.\n      if (this.length > 1) {\n        if (passfunc !== 'sumrow')\n          tmpthis = fullbool === true ? this : this.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = jStat[passfunc](tmpthis[i]);\n        return fullbool === true\n            ? jStat[passfunc](jStat.utils.toVector(arr))\n            : arr;\n      }\n      // Pass fullbool if only vector, not a matrix. for variance and stdev.\n      return jStat[passfunc](this[0], fullbool);\n    };\n  })(funcs[i]);\n})(('sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr ' +\n    'geomean median diff rank mode range variance deviation stdev meandev ' +\n    'meddev coeffvar quartiles histogram skewness kurtosis').split(' '));\n\n\n// Extend jProto with functions that take arguments. Operations on matrices are\n// done on columns.\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jProto[passfunc] = function() {\n      var arr = [];\n      var i = 0;\n      var tmpthis = this;\n      var args = Array.prototype.slice.call(arguments);\n      var callbackFunction;\n\n      // If the last argument is a function, we assume it's a callback; we\n      // strip the callback out and call the function again.\n      if (isFunction(args[args.length - 1])) {\n        callbackFunction = args[args.length - 1];\n        var argsToPass = args.slice(0, args.length - 1);\n\n        setTimeout(function() {\n          callbackFunction.call(tmpthis,\n                                jProto[passfunc].apply(tmpthis, argsToPass));\n        });\n        return this;\n\n      // Otherwise we curry the function args and call normally.\n      } else {\n        callbackFunction = undefined;\n        var curriedFunction = function curriedFunction(vector) {\n          return jStat[passfunc].apply(tmpthis, [vector].concat(args));\n        }\n      }\n\n      // If this is a matrix, run column-by-column.\n      if (this.length > 1) {\n        tmpthis = tmpthis.transpose();\n        for (; i < tmpthis.length; i++)\n          arr[i] = curriedFunction(tmpthis[i]);\n        return arr;\n      }\n\n      // Otherwise run on the vector.\n      return curriedFunction(this[0]);\n    };\n  })(funcs[i]);\n})('quantiles percentileOfScore'.split(' '));\n\n}(jStat, Math));\n// Special functions //\n(function(jStat, Math) {\n\n// Log-gamma function\njStat.gammaln = function gammaln(x) {\n  var j = 0;\n  var cof = [\n    76.18009172947146, -86.50532032941677, 24.01409824083091,\n    -1.231739572450155, 0.1208650973866179e-2, -0.5395239384953e-5\n  ];\n  var ser = 1.000000000190015;\n  var xx, y, tmp;\n  tmp = (y = xx = x) + 5.5;\n  tmp -= (xx + 0.5) * Math.log(tmp);\n  for (; j < 6; j++)\n    ser += cof[j] / ++y;\n  return Math.log(2.5066282746310005 * ser / xx) - tmp;\n};\n\n\n// gamma of x\njStat.gammafn = function gammafn(x) {\n  var p = [-1.716185138865495, 24.76565080557592, -379.80425647094563,\n           629.3311553128184, 866.9662027904133, -31451.272968848367,\n           -36144.413418691176, 66456.14382024054\n  ];\n  var q = [-30.8402300119739, 315.35062697960416, -1015.1563674902192,\n           -3107.771671572311, 22538.118420980151, 4755.8462775278811,\n           -134659.9598649693, -115132.2596755535];\n  var fact = false;\n  var n = 0;\n  var xden = 0;\n  var xnum = 0;\n  var y = x;\n  var i, z, yi, res;\n  if (y <= 0) {\n    res = y % 1 + 3.6e-16;\n    if (res) {\n      fact = (!(y & 1) ? 1 : -1) * Math.PI / Math.sin(Math.PI * res);\n      y = 1 - y;\n    } else {\n      return Infinity;\n    }\n  }\n  yi = y;\n  if (y < 1) {\n    z = y++;\n  } else {\n    z = (y -= n = (y | 0) - 1) - 1;\n  }\n  for (i = 0; i < 8; ++i) {\n    xnum = (xnum + p[i]) * z;\n    xden = xden * z + q[i];\n  }\n  res = xnum / xden + 1;\n  if (yi < y) {\n    res /= yi;\n  } else if (yi > y) {\n    for (i = 0; i < n; ++i) {\n      res *= y;\n      y++;\n    }\n  }\n  if (fact) {\n    res = fact / res;\n  }\n  return res;\n};\n\n\n// lower incomplete gamma function, which is usually typeset with a\n// lower-case greek gamma as the function symbol\njStat.gammap = function gammap(a, x) {\n  return jStat.lowRegGamma(a, x) * jStat.gammafn(a);\n};\n\n\n// The lower regularized incomplete gamma function, usually written P(a,x)\njStat.lowRegGamma = function lowRegGamma(a, x) {\n  var aln = jStat.gammaln(a);\n  var ap = a;\n  var sum = 1 / a;\n  var del = sum;\n  var b = x + 1 - a;\n  var c = 1 / 1.0e-30;\n  var d = 1 / b;\n  var h = d;\n  var i = 1;\n  // calculate maximum number of itterations required for a\n  var ITMAX = -~(Math.log((a >= 1) ? a : 1 / a) * 8.5 + a * 0.4 + 17);\n  var an;\n\n  if (x < 0 || a <= 0) {\n    return NaN;\n  } else if (x < a + 1) {\n    for (; i <= ITMAX; i++) {\n      sum += del *= x / ++ap;\n    }\n    return (sum * Math.exp(-x + a * Math.log(x) - (aln)));\n  }\n\n  for (; i <= ITMAX; i++) {\n    an = -i * (i - a);\n    b += 2;\n    d = an * d + b;\n    c = b + an / c;\n    d = 1 / d;\n    h *= d * c;\n  }\n\n  return (1 - h * Math.exp(-x + a * Math.log(x) - (aln)));\n};\n\n// natural log factorial of n\njStat.factorialln = function factorialln(n) {\n  return n < 0 ? NaN : jStat.gammaln(n + 1);\n};\n\n// factorial of n\njStat.factorial = function factorial(n) {\n  return n < 0 ? NaN : jStat.gammafn(n + 1);\n};\n\n// combinations of n, m\njStat.combination = function combination(n, m) {\n  // make sure n or m don't exceed the upper limit of usable values\n  return (n > 170 || m > 170)\n      ? Math.exp(jStat.combinationln(n, m))\n      : (jStat.factorial(n) / jStat.factorial(m)) / jStat.factorial(n - m);\n};\n\n\njStat.combinationln = function combinationln(n, m){\n  return jStat.factorialln(n) - jStat.factorialln(m) - jStat.factorialln(n - m);\n};\n\n\n// permutations of n, m\njStat.permutation = function permutation(n, m) {\n  return jStat.factorial(n) / jStat.factorial(n - m);\n};\n\n\n// beta function\njStat.betafn = function betafn(x, y) {\n  // ensure arguments are positive\n  if (x <= 0 || y <= 0)\n    return undefined;\n  // make sure x + y doesn't exceed the upper limit of usable values\n  return (x + y > 170)\n      ? Math.exp(jStat.betaln(x, y))\n      : jStat.gammafn(x) * jStat.gammafn(y) / jStat.gammafn(x + y);\n};\n\n\n// natural logarithm of beta function\njStat.betaln = function betaln(x, y) {\n  return jStat.gammaln(x) + jStat.gammaln(y) - jStat.gammaln(x + y);\n};\n\n\n// Evaluates the continued fraction for incomplete beta function by modified\n// Lentz's method.\njStat.betacf = function betacf(x, a, b) {\n  var fpmin = 1e-30;\n  var m = 1;\n  var qab = a + b;\n  var qap = a + 1;\n  var qam = a - 1;\n  var c = 1;\n  var d = 1 - qab * x / qap;\n  var m2, aa, del, h;\n\n  // These q's will be used in factors that occur in the coefficients\n  if (Math.abs(d) < fpmin)\n    d = fpmin;\n  d = 1 / d;\n  h = d;\n\n  for (; m <= 100; m++) {\n    m2 = 2 * m;\n    aa = m * (b - m) * x / ((qam + m2) * (a + m2));\n    // One step (the even one) of the recurrence\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    h *= d * c;\n    aa = -(a + m) * (qab + m) * x / ((a + m2) * (qap + m2));\n    // Next step of the recurrence (the odd one)\n    d = 1 + aa * d;\n    if (Math.abs(d) < fpmin)\n      d = fpmin;\n    c = 1 + aa / c;\n    if (Math.abs(c) < fpmin)\n      c = fpmin;\n    d = 1 / d;\n    del = d * c;\n    h *= del;\n    if (Math.abs(del - 1.0) < 3e-7)\n      break;\n  }\n\n  return h;\n};\n\n\n// Returns the inverse of the lower regularized inomplete gamma function\njStat.gammapinv = function gammapinv(p, a) {\n  var j = 0;\n  var a1 = a - 1;\n  var EPS = 1e-8;\n  var gln = jStat.gammaln(a);\n  var x, err, t, u, pp, lna1, afac;\n\n  if (p >= 1)\n    return Math.max(100, a + 100 * Math.sqrt(a));\n  if (p <= 0)\n    return 0;\n  if (a > 1) {\n    lna1 = Math.log(a1);\n    afac = Math.exp(a1 * (lna1 - 1) - gln);\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t * (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    x = Math.max(1e-3,\n                 a * Math.pow(1 - 1 / (9 * a) - x / (3 * Math.sqrt(a)), 3));\n  } else {\n    t = 1 - a * (0.253 + a * 0.12);\n    if (p < t)\n      x = Math.pow(p / t, 1 / a);\n    else\n      x = 1 - Math.log(1 - (p - t) / (1 - t));\n  }\n\n  for(; j < 12; j++) {\n    if (x <= 0)\n      return 0;\n    err = jStat.lowRegGamma(a, x) - p;\n    if (a > 1)\n      t = afac * Math.exp(-(x - a1) + a1 * (Math.log(x) - lna1));\n    else\n      t = Math.exp(-x + a1 * Math.log(x) - gln);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * ((a - 1) / x - 1))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (Math.abs(t) < EPS * x)\n      break;\n  }\n\n  return x;\n};\n\n\n// Returns the error function erf(x)\njStat.erf = function erf(x) {\n  var cof = [-1.3026537197817094, 6.4196979235649026e-1, 1.9476473204185836e-2,\n             -9.561514786808631e-3, -9.46595344482036e-4, 3.66839497852761e-4,\n             4.2523324806907e-5, -2.0278578112534e-5, -1.624290004647e-6,\n             1.303655835580e-6, 1.5626441722e-8, -8.5238095915e-8,\n             6.529054439e-9, 5.059343495e-9, -9.91364156e-10,\n             -2.27365122e-10, 9.6467911e-11, 2.394038e-12,\n             -6.886027e-12, 8.94487e-13, 3.13092e-13,\n             -1.12708e-13, 3.81e-16, 7.106e-15,\n             -1.523e-15, -9.4e-17, 1.21e-16,\n             -2.8e-17];\n  var j = cof.length - 1;\n  var isneg = false;\n  var d = 0;\n  var dd = 0;\n  var t, ty, tmp, res;\n\n  if (x < 0) {\n    x = -x;\n    isneg = true;\n  }\n\n  t = 2 / (2 + x);\n  ty = 4 * t - 2;\n\n  for(; j > 0; j--) {\n    tmp = d;\n    d = ty * d - dd + cof[j];\n    dd = tmp;\n  }\n\n  res = t * Math.exp(-x * x + 0.5 * (cof[0] + ty * d) - dd);\n  return isneg ? res - 1 : 1 - res;\n};\n\n\n// Returns the complmentary error function erfc(x)\njStat.erfc = function erfc(x) {\n  return 1 - jStat.erf(x);\n};\n\n\n// Returns the inverse of the complementary error function\njStat.erfcinv = function erfcinv(p) {\n  var j = 0;\n  var x, err, t, pp;\n  if (p >= 2)\n    return -100;\n  if (p <= 0)\n    return 100;\n  pp = (p < 1) ? p : 2 - p;\n  t = Math.sqrt(-2 * Math.log(pp / 2));\n  x = -0.70711 * ((2.30753 + t * 0.27061) /\n                  (1 + t * (0.99229 + t * 0.04481)) - t);\n  for (; j < 2; j++) {\n    err = jStat.erfc(x) - pp;\n    x += err / (1.12837916709551257 * Math.exp(-x * x) - x * err);\n  }\n  return (p < 1) ? x : -x;\n};\n\n\n// Returns the inverse of the incomplete beta function\njStat.ibetainv = function ibetainv(p, a, b) {\n  var EPS = 1e-8;\n  var a1 = a - 1;\n  var b1 = b - 1;\n  var j = 0;\n  var lna, lnb, pp, t, u, err, x, al, h, w, afac;\n  if (p <= 0)\n    return 0;\n  if (p >= 1)\n    return 1;\n  if (a >= 1 && b >= 1) {\n    pp = (p < 0.5) ? p : 1 - p;\n    t = Math.sqrt(-2 * Math.log(pp));\n    x = (2.30753 + t * 0.27061) / (1 + t* (0.99229 + t * 0.04481)) - t;\n    if (p < 0.5)\n      x = -x;\n    al = (x * x - 3) / 6;\n    h = 2 / (1 / (2 * a - 1)  + 1 / (2 * b - 1));\n    w = (x * Math.sqrt(al + h) / h) - (1 / (2 * b - 1) - 1 / (2 * a - 1)) *\n        (al + 5 / 6 - 2 / (3 * h));\n    x = a / (a + b * Math.exp(2 * w));\n  } else {\n    lna = Math.log(a / (a + b));\n    lnb = Math.log(b / (a + b));\n    t = Math.exp(a * lna) / a;\n    u = Math.exp(b * lnb) / b;\n    w = t + u;\n    if (p < t / w)\n      x = Math.pow(a * w * p, 1 / a);\n    else\n      x = 1 - Math.pow(b * w * (1 - p), 1 / b);\n  }\n  afac = -jStat.gammaln(a) - jStat.gammaln(b) + jStat.gammaln(a + b);\n  for(; j < 10; j++) {\n    if (x === 0 || x === 1)\n      return x;\n    err = jStat.ibeta(x, a, b) - p;\n    t = Math.exp(a1 * Math.log(x) + b1 * Math.log(1 - x) + afac);\n    u = err / t;\n    x -= (t = u / (1 - 0.5 * Math.min(1, u * (a1 / x - b1 / (1 - x)))));\n    if (x <= 0)\n      x = 0.5 * (x + t);\n    if (x >= 1)\n      x = 0.5 * (x + t + 1);\n    if (Math.abs(t) < EPS * x && j > 0)\n      break;\n  }\n  return x;\n};\n\n\n// Returns the incomplete beta function I_x(a,b)\njStat.ibeta = function ibeta(x, a, b) {\n  // Factors in front of the continued fraction.\n  var bt = (x === 0 || x === 1) ?  0 :\n    Math.exp(jStat.gammaln(a + b) - jStat.gammaln(a) -\n             jStat.gammaln(b) + a * Math.log(x) + b *\n             Math.log(1 - x));\n  if (x < 0 || x > 1)\n    return false;\n  if (x < (a + 1) / (a + b + 2))\n    // Use continued fraction directly.\n    return bt * jStat.betacf(x, a, b) / a;\n  // else use continued fraction after making the symmetry transformation.\n  return 1 - bt * jStat.betacf(1 - x, b, a) / b;\n};\n\n\n// Returns a normal deviate (mu=0, sigma=1).\n// If n and m are specified it returns a object of normal deviates.\njStat.randn = function randn(n, m) {\n  var u, v, x, y, q;\n  if (!m)\n    m = n;\n  if (n)\n    return jStat.create(n, m, function() { return jStat.randn(); });\n  do {\n    u = jStat._random_fn();\n    v = 1.7156 * (jStat._random_fn() - 0.5);\n    x = u - 0.449871;\n    y = Math.abs(v) + 0.386595;\n    q = x * x + y * (0.19600 * y - 0.25472 * x);\n  } while (q > 0.27597 && (q > 0.27846 || v * v > -4 * Math.log(u) * u * u));\n  return v / u;\n};\n\n\n// Returns a gamma deviate by the method of Marsaglia and Tsang.\njStat.randg = function randg(shape, n, m) {\n  var oalph = shape;\n  var a1, a2, u, v, x, mat;\n  if (!m)\n    m = n;\n  if (!shape)\n    shape = 1;\n  if (n) {\n    mat = jStat.zeros(n,m);\n    mat.alter(function() { return jStat.randg(shape); });\n    return mat;\n  }\n  if (shape < 1)\n    shape += 1;\n  a1 = shape - 1 / 3;\n  a2 = 1 / Math.sqrt(9 * a1);\n  do {\n    do {\n      x = jStat.randn();\n      v = 1 + a2 * x;\n    } while(v <= 0);\n    v = v * v * v;\n    u = jStat._random_fn();\n  } while(u > 1 - 0.331 * Math.pow(x, 4) &&\n          Math.log(u) > 0.5 * x*x + a1 * (1 - v + Math.log(v)));\n  // alpha > 1\n  if (shape == oalph)\n    return a1 * v;\n  // alpha < 1\n  do {\n    u = jStat._random_fn();\n  } while(u === 0);\n  return Math.pow(u, 1 / oalph) * a1 * v;\n};\n\n\n// making use of static methods on the instance\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(\n          jStat.map(this, function(value) { return jStat[passfunc](value); }));\n    }\n  })(funcs[i]);\n})('gammaln gammafn factorial factorialln'.split(' '));\n\n\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function() {\n      return jStat(jStat[passfunc].apply(null, arguments));\n    };\n  })(funcs[i]);\n})('randn'.split(' '));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\n// generate all distribution instance methods\n(function(list) {\n  for (var i = 0; i < list.length; i++) (function(func) {\n    // distribution instance method\n    jStat[func] = function(a, b, c) {\n      if (!(this instanceof arguments.callee))\n        return new arguments.callee(a, b, c);\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      return this;\n    };\n    // distribution method to be used on a jStat instance\n    jStat.fn[func] = function(a, b, c) {\n      var newthis = jStat[func](a, b, c);\n      newthis.data = this;\n      return newthis;\n    };\n    // sample instance method\n    jStat[func].prototype.sample = function(arr) {\n      var a = this._a;\n      var b = this._b;\n      var c = this._c;\n      if (arr)\n        return jStat.alter(arr, function() {\n          return jStat[func].sample(a, b, c);\n        });\n      else\n        return jStat[func].sample(a, b, c);\n    };\n    // generate the pdf, cdf and inv instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function(x) {\n          var a = this._a;\n          var b = this._b;\n          var c = this._c;\n          if (!x && x !== 0)\n            x = this.data;\n          if (typeof x !== 'number') {\n            return jStat.fn.map.call(x, function(x) {\n              return jStat[func][fnfunc](x, a, b, c);\n            });\n          }\n          return jStat[func][fnfunc](x, a, b, c);\n        };\n      })(vals[i]);\n    })('pdf cdf inv'.split(' '));\n    // generate the mean, median, mode and variance instance methods\n    (function(vals) {\n      for (var i = 0; i < vals.length; i++) (function(fnfunc) {\n        jStat[func].prototype[fnfunc] = function() {\n          return jStat[func][fnfunc](this._a, this._b, this._c);\n        };\n      })(vals[i]);\n    })('mean median mode variance'.split(' '));\n  })(list[i]);\n})((\n  'beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy ' +\n  'laplace lognormal noncentralt normal pareto studentt weibull uniform ' +\n  'binomial negbin hypgeom poisson triangular tukey arcsine'\n).split(' '));\n\n\n\n// extend beta function with static methods\njStat.extend(jStat.beta, {\n  pdf: function pdf(x, alpha, beta) {\n    // PDF is zero outside the support\n    if (x > 1 || x < 0)\n      return 0;\n    // PDF is one for the uniform case\n    if (alpha == 1 && beta == 1)\n      return 1;\n\n    if (alpha < 512 && beta < 512) {\n      return (Math.pow(x, alpha - 1) * Math.pow(1 - x, beta - 1)) /\n          jStat.betafn(alpha, beta);\n    } else {\n      return Math.exp((alpha - 1) * Math.log(x) +\n                      (beta - 1) * Math.log(1 - x) -\n                      jStat.betaln(alpha, beta));\n    }\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    return (x > 1 || x < 0) ? (x > 1) * 1 : jStat.ibeta(x, alpha, beta);\n  },\n\n  inv: function inv(x, alpha, beta) {\n    return jStat.ibetainv(x, alpha, beta);\n  },\n\n  mean: function mean(alpha, beta) {\n    return alpha / (alpha + beta);\n  },\n\n  median: function median(alpha, beta) {\n    return jStat.ibetainv(0.5, alpha, beta);\n  },\n\n  mode: function mode(alpha, beta) {\n    return (alpha - 1 ) / ( alpha + beta - 2);\n  },\n\n  // return a random sample\n  sample: function sample(alpha, beta) {\n    var u = jStat.randg(alpha);\n    return u / (u + jStat.randg(beta));\n  },\n\n  variance: function variance(alpha, beta) {\n    return (alpha * beta) / (Math.pow(alpha + beta, 2) * (alpha + beta + 1));\n  }\n});\n\n// extend F function with static methods\njStat.extend(jStat.centralF, {\n  // This implementation of the pdf function avoids float overflow\n  // See the way that R calculates this value:\n  // https://svn.r-project.org/R/trunk/src/nmath/df.c\n  pdf: function pdf(x, df1, df2) {\n    var p, q, f;\n\n    if (x < 0)\n      return 0;\n\n    if (df1 <= 2) {\n      if (x === 0 && df1 < 2) {\n        return Infinity;\n      }\n      if (x === 0 && df1 === 2) {\n        return 1;\n      }\n      return (1 / jStat.betafn(df1 / 2, df2 / 2)) *\n              Math.pow(df1 / df2, df1 / 2) *\n              Math.pow(x, (df1/2) - 1) *\n              Math.pow((1 + (df1 / df2) * x), -(df1 + df2) / 2);\n    }\n\n    p = (df1 * x) / (df2 + x * df1);\n    q = df2 / (df2 + x * df1);\n    f = df1 * q / 2.0;\n    return f * jStat.binomial.pdf((df1 - 2) / 2, (df1 + df2 - 2) / 2, p);\n  },\n\n  cdf: function cdf(x, df1, df2) {\n    if (x < 0)\n      return 0;\n    return jStat.ibeta((df1 * x) / (df1 * x + df2), df1 / 2, df2 / 2);\n  },\n\n  inv: function inv(x, df1, df2) {\n    return df2 / (df1 * (1 / jStat.ibetainv(x, df1 / 2, df2 / 2) - 1));\n  },\n\n  mean: function mean(df1, df2) {\n    return (df2 > 2) ? df2 / (df2 - 2) : undefined;\n  },\n\n  mode: function mode(df1, df2) {\n    return (df1 > 2) ? (df2 * (df1 - 2)) / (df1 * (df2 + 2)) : undefined;\n  },\n\n  // return a random sample\n  sample: function sample(df1, df2) {\n    var x1 = jStat.randg(df1 / 2) * 2;\n    var x2 = jStat.randg(df2 / 2) * 2;\n    return (x1 / df1) / (x2 / df2);\n  },\n\n  variance: function variance(df1, df2) {\n    if (df2 <= 4)\n      return undefined;\n    return 2 * df2 * df2 * (df1 + df2 - 2) /\n        (df1 * (df2 - 2) * (df2 - 2) * (df2 - 4));\n  }\n});\n\n\n// extend cauchy function with static methods\njStat.extend(jStat.cauchy, {\n  pdf: function pdf(x, local, scale) {\n    if (scale < 0) { return 0; }\n\n    return (scale / (Math.pow(x - local, 2) + Math.pow(scale, 2))) / Math.PI;\n  },\n\n  cdf: function cdf(x, local, scale) {\n    return Math.atan((x - local) / scale) / Math.PI + 0.5;\n  },\n\n  inv: function(p, local, scale) {\n    return local + scale * Math.tan(Math.PI * (p - 0.5));\n  },\n\n  median: function median(local/*, scale*/) {\n    return local;\n  },\n\n  mode: function mode(local/*, scale*/) {\n    return local;\n  },\n\n  sample: function sample(local, scale) {\n    return jStat.randn() *\n        Math.sqrt(1 / (2 * jStat.randg(0.5))) * scale + local;\n  }\n});\n\n\n\n// extend chisquare function with static methods\njStat.extend(jStat.chisquare, {\n  pdf: function pdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && dof === 2) ? 0.5 :\n        Math.exp((dof / 2 - 1) * Math.log(x) - x / 2 - (dof / 2) *\n                 Math.log(2) - jStat.gammaln(dof / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(dof / 2, x / 2);\n  },\n\n  inv: function(p, dof) {\n    return 2 * jStat.gammapinv(p, 0.5 * dof);\n  },\n\n  mean : function(dof) {\n    return dof;\n  },\n\n  // TODO: this is an approximation (is there a better way?)\n  median: function median(dof) {\n    return dof * Math.pow(1 - (2 / (9 * dof)), 3);\n  },\n\n  mode: function mode(dof) {\n    return (dof - 2 > 0) ? dof - 2 : 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randg(dof / 2) * 2;\n  },\n\n  variance: function variance(dof) {\n    return 2 * dof;\n  }\n});\n\n\n\n// extend exponential function with static methods\njStat.extend(jStat.exponential, {\n  pdf: function pdf(x, rate) {\n    return x < 0 ? 0 : rate * Math.exp(-rate * x);\n  },\n\n  cdf: function cdf(x, rate) {\n    return x < 0 ? 0 : 1 - Math.exp(-rate * x);\n  },\n\n  inv: function(p, rate) {\n    return -Math.log(1 - p) / rate;\n  },\n\n  mean : function(rate) {\n    return 1 / rate;\n  },\n\n  median: function (rate) {\n    return (1 / rate) * Math.log(2);\n  },\n\n  mode: function mode(/*rate*/) {\n    return 0;\n  },\n\n  sample: function sample(rate) {\n    return -1 / rate * Math.log(jStat._random_fn());\n  },\n\n  variance : function(rate) {\n    return Math.pow(rate, -2);\n  }\n});\n\n\n\n// extend gamma function with static methods\njStat.extend(jStat.gamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return (x === 0 && shape === 1) ? 1 / scale :\n            Math.exp((shape - 1) * Math.log(x) - x / scale -\n                    jStat.gammaln(shape) - shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x < 0)\n      return 0;\n    return jStat.lowRegGamma(shape, x / scale);\n  },\n\n  inv: function(p, shape, scale) {\n    return jStat.gammapinv(p, shape) * scale;\n  },\n\n  mean : function(shape, scale) {\n    return shape * scale;\n  },\n\n  mode: function mode(shape, scale) {\n    if(shape > 1) return (shape - 1) * scale;\n    return undefined;\n  },\n\n  sample: function sample(shape, scale) {\n    return jStat.randg(shape) * scale;\n  },\n\n  variance: function variance(shape, scale) {\n    return shape * scale * scale;\n  }\n});\n\n// extend inverse gamma function with static methods\njStat.extend(jStat.invgamma, {\n  pdf: function pdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-(shape + 1) * Math.log(x) - scale / x -\n                    jStat.gammaln(shape) + shape * Math.log(scale));\n  },\n\n  cdf: function cdf(x, shape, scale) {\n    if (x <= 0)\n      return 0;\n    return 1 - jStat.lowRegGamma(shape, scale / x);\n  },\n\n  inv: function(p, shape, scale) {\n    return scale / jStat.gammapinv(1 - p, shape);\n  },\n\n  mean : function(shape, scale) {\n    return (shape > 1) ? scale / (shape - 1) : undefined;\n  },\n\n  mode: function mode(shape, scale) {\n    return scale / (shape + 1);\n  },\n\n  sample: function sample(shape, scale) {\n    return scale / jStat.randg(shape);\n  },\n\n  variance: function variance(shape, scale) {\n    if (shape <= 2)\n      return undefined;\n    return scale * scale / ((shape - 1) * (shape - 1) * (shape - 2));\n  }\n});\n\n\n// extend kumaraswamy function with static methods\njStat.extend(jStat.kumaraswamy, {\n  pdf: function pdf(x, alpha, beta) {\n    if (x === 0 && alpha === 1)\n      return beta;\n    else if (x === 1 && beta === 1)\n      return alpha;\n    return Math.exp(Math.log(alpha) + Math.log(beta) + (alpha - 1) *\n                    Math.log(x) + (beta - 1) *\n                    Math.log(1 - Math.pow(x, alpha)));\n  },\n\n  cdf: function cdf(x, alpha, beta) {\n    if (x < 0)\n      return 0;\n    else if (x > 1)\n      return 1;\n    return (1 - Math.pow(1 - Math.pow(x, alpha), beta));\n  },\n\n  inv: function inv(p, alpha, beta) {\n    return Math.pow(1 - Math.pow(1 - p, 1 / beta), 1 / alpha);\n  },\n\n  mean : function(alpha, beta) {\n    return (beta * jStat.gammafn(1 + 1 / alpha) *\n            jStat.gammafn(beta)) / (jStat.gammafn(1 + 1 / alpha + beta));\n  },\n\n  median: function median(alpha, beta) {\n    return Math.pow(1 - Math.pow(2, -1 / beta), 1 / alpha);\n  },\n\n  mode: function mode(alpha, beta) {\n    if (!(alpha >= 1 && beta >= 1 && (alpha !== 1 && beta !== 1)))\n      return undefined;\n    return Math.pow((alpha - 1) / (alpha * beta - 1), 1 / alpha);\n  },\n\n  variance: function variance(/*alpha, beta*/) {\n    throw new Error('variance not yet implemented');\n    // TODO: complete this\n  }\n});\n\n\n\n// extend lognormal function with static methods\njStat.extend(jStat.lognormal, {\n  pdf: function pdf(x, mu, sigma) {\n    if (x <= 0)\n      return 0;\n    return Math.exp(-Math.log(x) - 0.5 * Math.log(2 * Math.PI) -\n                    Math.log(sigma) - Math.pow(Math.log(x) - mu, 2) /\n                    (2 * sigma * sigma));\n  },\n\n  cdf: function cdf(x, mu, sigma) {\n    if (x < 0)\n      return 0;\n    return 0.5 +\n        (0.5 * jStat.erf((Math.log(x) - mu) / Math.sqrt(2 * sigma * sigma)));\n  },\n\n  inv: function(p, mu, sigma) {\n    return Math.exp(-1.41421356237309505 * sigma * jStat.erfcinv(2 * p) + mu);\n  },\n\n  mean: function mean(mu, sigma) {\n    return Math.exp(mu + sigma * sigma / 2);\n  },\n\n  median: function median(mu/*, sigma*/) {\n    return Math.exp(mu);\n  },\n\n  mode: function mode(mu, sigma) {\n    return Math.exp(mu - sigma * sigma);\n  },\n\n  sample: function sample(mu, sigma) {\n    return Math.exp(jStat.randn() * sigma + mu);\n  },\n\n  variance: function variance(mu, sigma) {\n    return (Math.exp(sigma * sigma) - 1) * Math.exp(2 * mu + sigma * sigma);\n  }\n});\n\n\n\n// extend noncentralt function with static methods\njStat.extend(jStat.noncentralt, {\n  pdf: function pdf(x, dof, ncp) {\n    var tol = 1e-14;\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.pdf(x, dof)\n\n    if (Math.abs(x) < tol) {  // different formula for x == 0\n      return Math.exp(jStat.gammaln((dof + 1) / 2) - ncp * ncp / 2 -\n                      0.5 * Math.log(Math.PI * dof) - jStat.gammaln(dof / 2));\n    }\n\n    // formula for x != 0\n    return dof / x *\n        (jStat.noncentralt.cdf(x * Math.sqrt(1 + 2 / dof), dof+2, ncp) -\n         jStat.noncentralt.cdf(x, dof, ncp));\n  },\n\n  cdf: function cdf(x, dof, ncp) {\n    var tol = 1e-14;\n    var min_iterations = 200;\n\n    if (Math.abs(ncp) < tol)  // ncp approx 0; use student-t\n      return jStat.studentt.cdf(x, dof);\n\n    // turn negative x into positive and flip result afterwards\n    var flip = false;\n    if (x < 0) {\n      flip = true;\n      ncp = -ncp;\n    }\n\n    var prob = jStat.normal.cdf(-ncp, 0, 1);\n    var value = tol + 1;\n    // use value at last two steps to determine convergence\n    var lastvalue = value;\n    var y = x * x / (x * x + dof);\n    var j = 0;\n    var p = Math.exp(-ncp * ncp / 2);\n    var q = Math.exp(-ncp * ncp / 2 - 0.5 * Math.log(2) -\n                     jStat.gammaln(3 / 2)) * ncp;\n    while (j < min_iterations || lastvalue > tol || value > tol) {\n      lastvalue = value;\n      if (j > 0) {\n        p *= (ncp * ncp) / (2 * j);\n        q *= (ncp * ncp) / (2 * (j + 1 / 2));\n      }\n      value = p * jStat.beta.cdf(y, j + 0.5, dof / 2) +\n          q * jStat.beta.cdf(y, j+1, dof/2);\n      prob += 0.5 * value;\n      j++;\n    }\n\n    return flip ? (1 - prob) : prob;\n  }\n});\n\n\n// extend normal function with static methods\njStat.extend(jStat.normal, {\n  pdf: function pdf(x, mean, std) {\n    return Math.exp(-0.5 * Math.log(2 * Math.PI) -\n                    Math.log(std) - Math.pow(x - mean, 2) / (2 * std * std));\n  },\n\n  cdf: function cdf(x, mean, std) {\n    return 0.5 * (1 + jStat.erf((x - mean) / Math.sqrt(2 * std * std)));\n  },\n\n  inv: function(p, mean, std) {\n    return -1.41421356237309505 * std * jStat.erfcinv(2 * p) + mean;\n  },\n\n  mean : function(mean/*, std*/) {\n    return mean;\n  },\n\n  median: function median(mean/*, std*/) {\n    return mean;\n  },\n\n  mode: function (mean/*, std*/) {\n    return mean;\n  },\n\n  sample: function sample(mean, std) {\n    return jStat.randn() * std + mean;\n  },\n\n  variance : function(mean, std) {\n    return std * std;\n  }\n});\n\n\n\n// extend pareto function with static methods\njStat.extend(jStat.pareto, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return (shape * Math.pow(scale, shape)) / Math.pow(x, shape + 1);\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    if (x < scale)\n      return 0;\n    return 1 - Math.pow(scale / x, shape);\n  },\n\n  inv: function inv(p, scale, shape) {\n    return scale / Math.pow(1 - p, 1 / shape);\n  },\n\n  mean: function mean(scale, shape) {\n    if (shape <= 1)\n      return undefined;\n    return (shape * Math.pow(scale, shape)) / (shape - 1);\n  },\n\n  median: function median(scale, shape) {\n    return scale * (shape * Math.SQRT2);\n  },\n\n  mode: function mode(scale/*, shape*/) {\n    return scale;\n  },\n\n  variance : function(scale, shape) {\n    if (shape <= 2)\n      return undefined;\n    return (scale*scale * shape) / (Math.pow(shape - 1, 2) * (shape - 2));\n  }\n});\n\n\n\n// extend studentt function with static methods\njStat.extend(jStat.studentt, {\n  pdf: function pdf(x, dof) {\n    dof = dof > 1e100 ? 1e100 : dof;\n    return (1/(Math.sqrt(dof) * jStat.betafn(0.5, dof/2))) *\n        Math.pow(1 + ((x * x) / dof), -((dof + 1) / 2));\n  },\n\n  cdf: function cdf(x, dof) {\n    var dof2 = dof / 2;\n    return jStat.ibeta((x + Math.sqrt(x * x + dof)) /\n                       (2 * Math.sqrt(x * x + dof)), dof2, dof2);\n  },\n\n  inv: function(p, dof) {\n    var x = jStat.ibetainv(2 * Math.min(p, 1 - p), 0.5 * dof, 0.5);\n    x = Math.sqrt(dof * (1 - x) / x);\n    return (p > 0.5) ? x : -x;\n  },\n\n  mean: function mean(dof) {\n    return (dof > 1) ? 0 : undefined;\n  },\n\n  median: function median(/*dof*/) {\n    return 0;\n  },\n\n  mode: function mode(/*dof*/) {\n    return 0;\n  },\n\n  sample: function sample(dof) {\n    return jStat.randn() * Math.sqrt(dof / (2 * jStat.randg(dof / 2)));\n  },\n\n  variance: function variance(dof) {\n    return (dof  > 2) ? dof / (dof - 2) : (dof > 1) ? Infinity : undefined;\n  }\n});\n\n\n\n// extend weibull function with static methods\njStat.extend(jStat.weibull, {\n  pdf: function pdf(x, scale, shape) {\n    if (x < 0 || scale < 0 || shape < 0)\n      return 0;\n    return (shape / scale) * Math.pow((x / scale), (shape - 1)) *\n        Math.exp(-(Math.pow((x / scale), shape)));\n  },\n\n  cdf: function cdf(x, scale, shape) {\n    return x < 0 ? 0 : 1 - Math.exp(-Math.pow((x / scale), shape));\n  },\n\n  inv: function(p, scale, shape) {\n    return scale * Math.pow(-Math.log(1 - p), 1 / shape);\n  },\n\n  mean : function(scale, shape) {\n    return scale * jStat.gammafn(1 + 1 / shape);\n  },\n\n  median: function median(scale, shape) {\n    return scale * Math.pow(Math.log(2), 1 / shape);\n  },\n\n  mode: function mode(scale, shape) {\n    if (shape <= 1)\n      return 0;\n    return scale * Math.pow((shape - 1) / shape, 1 / shape);\n  },\n\n  sample: function sample(scale, shape) {\n    return scale * Math.pow(-Math.log(jStat._random_fn()), 1 / shape);\n  },\n\n  variance: function variance(scale, shape) {\n    return scale * scale * jStat.gammafn(1 + 2 / shape) -\n        Math.pow(jStat.weibull.mean(scale, shape), 2);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.uniform, {\n  pdf: function pdf(x, a, b) {\n    return (x < a || x > b) ? 0 : 1 / (b - a);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (x - a) / (b - a);\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (p * (b - a));\n  },\n\n  mean: function mean(a, b) {\n    return 0.5 * (a + b);\n  },\n\n  median: function median(a, b) {\n    return jStat.mean(a, b);\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return (a / 2 + b / 2) + (b / 2 - a / 2) * (2 * jStat._random_fn() - 1);\n  },\n\n  variance: function variance(a, b) {\n    return Math.pow(b - a, 2) / 12;\n  }\n});\n\n\n// Got this from http://www.math.ucla.edu/~tom/distributions/binomial.html\nfunction betinc(x, a, b, eps) {\n  var a0 = 0;\n  var b0 = 1;\n  var a1 = 1;\n  var b1 = 1;\n  var m9 = 0;\n  var a2 = 0;\n  var c9;\n\n  while (Math.abs((a1 - a2) / a1) > eps) {\n    a2 = a1;\n    c9 = -(a + m9) * (a + b + m9) * x / (a + 2 * m9) / (a + 2 * m9 + 1);\n    a0 = a1 + c9 * a0;\n    b0 = b1 + c9 * b0;\n    m9 = m9 + 1;\n    c9 = m9 * (b - m9) * x / (a + 2 * m9 - 1) / (a + 2 * m9);\n    a1 = a0 + c9 * a1;\n    b1 = b0 + c9 * b1;\n    a0 = a0 / b1;\n    b0 = b0 / b1;\n    a1 = a1 / b1;\n    b1 = 1;\n  }\n\n  return a1 / a;\n}\n\n\n// extend uniform function with static methods\njStat.extend(jStat.binomial, {\n  pdf: function pdf(k, n, p) {\n    return (p === 0 || p === 1) ?\n      ((n * p) === k ? 1 : 0) :\n      jStat.combination(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);\n  },\n\n  cdf: function cdf(x, n, p) {\n    var betacdf;\n    var eps = 1e-10;\n\n    if (x < 0)\n      return 0;\n    if (x >= n)\n      return 1;\n    if (p < 0 || p > 1 || n <= 0)\n      return NaN;\n\n    x = Math.floor(x);\n    var z = p;\n    var a = x + 1;\n    var b = n - x;\n    var s = a + b;\n    var bt = Math.exp(jStat.gammaln(s) - jStat.gammaln(b) -\n                      jStat.gammaln(a) + a * Math.log(z) + b * Math.log(1 - z));\n\n    if (z < (a + 1) / (s + 2))\n      betacdf = bt * betinc(z, a, b, eps);\n    else\n      betacdf = 1 - bt * betinc(1 - z, b, a, eps);\n\n    return Math.round((1 - betacdf) * (1 / eps)) / (1 / eps);\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.negbin, {\n  pdf: function pdf(k, r, p) {\n    if (k !== k >>> 0)\n      return false;\n    if (k < 0)\n      return 0;\n    return jStat.combination(k + r - 1, r - 1) *\n        Math.pow(1 - p, k) * Math.pow(p, r);\n  },\n\n  cdf: function cdf(x, r, p) {\n    var sum = 0,\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sum += jStat.negbin.pdf(k, r, p);\n    }\n    return sum;\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.hypgeom, {\n  pdf: function pdf(k, N, m, n) {\n    // Hypergeometric PDF.\n\n    // A simplification of the CDF algorithm below.\n\n    // k = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(k !== k | 0) {\n      return false;\n    } else if(k < 0 || k < m - (N - n)) {\n      // It's impossible to have this few successes drawn.\n      return 0;\n    } else if(k > n || k > m) {\n      // It's impossible to have this many successes drawn.\n      return 0;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.pdf(N - m - n + k, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return jStat.hypgeom.pdf(n - k, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return jStat.hypgeom.pdf(m - k, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.pdf(k, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate product to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < k; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledPDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          scaledPDF *= 1 - (m / (N - samplesDone));\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledPDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledPDF));\n    }\n  },\n\n  cdf: function cdf(x, N, m, n) {\n    // Hypergeometric CDF.\n\n    // This algorithm is due to Prof. Thomas S. Ferguson, <tom@math.ucla.edu>,\n    // and comes from his hypergeometric test calculator at\n    // <http://www.math.ucla.edu/~tom/distributions/Hypergeometric.html>.\n\n    // x = number of successes drawn\n    // N = population size\n    // m = number of successes in population\n    // n = number of items drawn from population\n\n    if(x < 0 || x < m - (N - n)) {\n      // It's impossible to have this few successes drawn or fewer.\n      return 0;\n    } else if(x >= n || x >= m) {\n      // We will always have this many successes or fewer.\n      return 1;\n    } else if (m * 2 > N) {\n      // More than half the population is successes.\n\n      if(n * 2 > N) {\n        // More than half the population is sampled.\n\n        return jStat.hypgeom.cdf(N - m - n + x, N, N - m, N - n)\n      } else {\n        // Half or less of the population is sampled.\n\n        return 1 - jStat.hypgeom.cdf(n - x - 1, N, N - m, n);\n      }\n\n    } else if(n * 2 > N) {\n      // Half or less is successes.\n\n      return 1 - jStat.hypgeom.cdf(m - x - 1, N, m, N - n);\n\n    } else if(m < n) {\n      // We want to have the number of things sampled to be less than the\n      // successes available. So swap the definitions of successful and sampled.\n      return jStat.hypgeom.cdf(x, N, n, m);\n    } else {\n      // If we get here, half or less of the population was sampled, half or\n      // less of it was successes, and we had fewer sampled things than\n      // successes. Now we can do this complicated iterative algorithm in an\n      // efficient way.\n\n      // The basic premise of the algorithm is that we partially normalize our\n      // intermediate sum to keep it in a numerically good region, and then\n      // finish the normalization at the end.\n\n      // Holds the intermediate, scaled total CDF.\n      var scaledCDF = 1;\n\n      // This variable holds the scaled probability of the current number of\n      // successes.\n      var scaledPDF = 1;\n\n      // This keeps track of how much we have normalized.\n      var samplesDone = 0;\n\n      for(var i = 0; i < x; i++) {\n        // For every possible number of successes up to that observed...\n\n        while(scaledCDF > 1 && samplesDone < n) {\n          // Intermediate result is growing too big. Apply some of the\n          // normalization to shrink everything.\n\n          var factor = 1 - (m / (N - samplesDone));\n\n          scaledPDF *= factor;\n          scaledCDF *= factor;\n\n          // Say we've normalized by this sample already.\n          samplesDone++;\n        }\n\n        // Work out the partially-normalized hypergeometric PDF for the next\n        // number of successes\n        scaledPDF *= (n - i) * (m - i) / ((i + 1) * (N - m - n + i + 1));\n\n        // Add to the CDF answer.\n        scaledCDF += scaledPDF;\n      }\n\n      for(; samplesDone < n; samplesDone++) {\n        // Apply all the rest of the normalization\n        scaledCDF *= 1 - (m / (N - samplesDone));\n      }\n\n      // Bound answer sanely before returning.\n      return Math.min(1, Math.max(0, scaledCDF));\n    }\n  }\n});\n\n\n\n// extend uniform function with static methods\njStat.extend(jStat.poisson, {\n  pdf: function pdf(k, l) {\n    if (l < 0 || (k % 1) !== 0 || k < 0) {\n      return 0;\n    }\n\n    return Math.pow(l, k) * Math.exp(-l) / jStat.factorial(k);\n  },\n\n  cdf: function cdf(x, l) {\n    var sumarr = [],\n    k = 0;\n    if (x < 0) return 0;\n    for (; k <= x; k++) {\n      sumarr.push(jStat.poisson.pdf(k, l));\n    }\n    return jStat.sum(sumarr);\n  },\n\n  mean : function(l) {\n    return l;\n  },\n\n  variance : function(l) {\n    return l;\n  },\n\n  sample: function sample(l) {\n    var p = 1, k = 0, L = Math.exp(-l);\n    do {\n      k++;\n      p *= jStat._random_fn();\n    } while (p > L);\n    return k - 1;\n  }\n});\n\n// extend triangular function with static methods\njStat.extend(jStat.triangular, {\n  pdf: function pdf(x, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (x < a || x > b) {\n        return 0;\n      } else if (x < c) {\n          return (2 * (x - a)) / ((b - a) * (c - a));\n      } else if (x === c) {\n          return (2 / (b - a));\n      } else { // x > c\n          return (2 * (b - x)) / ((b - a) * (b - c));\n      }\n    }\n  },\n\n  cdf: function cdf(x, a, b, c) {\n    if (b <= a || c < a || c > b)\n      return NaN;\n    if (x <= a)\n      return 0;\n    else if (x >= b)\n      return 1;\n    if (x <= c)\n      return Math.pow(x - a, 2) / ((b - a) * (c - a));\n    else // x > c\n      return 1 - Math.pow(b - x, 2) / ((b - a) * (b - c));\n  },\n\n  inv: function inv(p, a, b, c) {\n    if (b <= a || c < a || c > b) {\n      return NaN;\n    } else {\n      if (p <= ((c - a) / (b - a))) {\n        return a + (b - a) * Math.sqrt(p * ((c - a) / (b - a)));\n      } else { // p > ((c - a) / (b - a))\n        return a + (b - a) * (1 - Math.sqrt((1 - p) * (1 - ((c - a) / (b - a)))));\n      }\n    }\n  },\n\n  mean: function mean(a, b, c) {\n    return (a + b + c) / 3;\n  },\n\n  median: function median(a, b, c) {\n    if (c <= (a + b) / 2) {\n      return b - Math.sqrt((b - a) * (b - c)) / Math.sqrt(2);\n    } else if (c > (a + b) / 2) {\n      return a + Math.sqrt((b - a) * (c - a)) / Math.sqrt(2);\n    }\n  },\n\n  mode: function mode(a, b, c) {\n    return c;\n  },\n\n  sample: function sample(a, b, c) {\n    var u = jStat._random_fn();\n    if (u < ((c - a) / (b - a)))\n      return a + Math.sqrt(u * (b - a) * (c - a))\n    return b - Math.sqrt((1 - u) * (b - a) * (b - c));\n  },\n\n  variance: function variance(a, b, c) {\n    return (a * a + b * b + c * c - a * b - a * c - b * c) / 18;\n  }\n});\n\n\n// extend arcsine function with static methods\njStat.extend(jStat.arcsine, {\n  pdf: function pdf(x, a, b) {\n    if (b <= a) return NaN;\n\n    return (x <= a || x >= b) ? 0 :\n      (2 / Math.PI) *\n        Math.pow(Math.pow(b - a, 2) -\n                  Math.pow(2 * x - a - b, 2), -0.5);\n  },\n\n  cdf: function cdf(x, a, b) {\n    if (x < a)\n      return 0;\n    else if (x < b)\n      return (2 / Math.PI) * Math.asin(Math.sqrt((x - a)/(b - a)));\n    return 1;\n  },\n\n  inv: function(p, a, b) {\n    return a + (0.5 - 0.5 * Math.cos(Math.PI * p)) * (b - a);\n  },\n\n  mean: function mean(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  median: function median(a, b) {\n    if (b <= a) return NaN;\n    return (a + b) / 2;\n  },\n\n  mode: function mode(/*a, b*/) {\n    throw new Error('mode is not yet implemented');\n  },\n\n  sample: function sample(a, b) {\n    return ((a + b) / 2) + ((b - a) / 2) *\n      Math.sin(2 * Math.PI * jStat.uniform.sample(0, 1));\n  },\n\n  variance: function variance(a, b) {\n    if (b <= a) return NaN;\n    return Math.pow(b - a, 2) / 8;\n  }\n});\n\n\nfunction laplaceSign(x) { return x / Math.abs(x); }\n\njStat.extend(jStat.laplace, {\n  pdf: function pdf(x, mu, b) {\n    return (b <= 0) ? 0 : (Math.exp(-Math.abs(x - mu) / b)) / (2 * b);\n  },\n\n  cdf: function cdf(x, mu, b) {\n    if (b <= 0) { return 0; }\n\n    if(x < mu) {\n      return 0.5 * Math.exp((x - mu) / b);\n    } else {\n      return 1 - 0.5 * Math.exp(- (x - mu) / b);\n    }\n  },\n\n  mean: function(mu/*, b*/) {\n    return mu;\n  },\n\n  median: function(mu/*, b*/) {\n    return mu;\n  },\n\n  mode: function(mu/*, b*/) {\n    return mu;\n  },\n\n  variance: function(mu, b) {\n    return 2 * b * b;\n  },\n\n  sample: function sample(mu, b) {\n    var u = jStat._random_fn() - 0.5;\n\n    return mu - (b * laplaceSign(u) * Math.log(1 - (2 * Math.abs(u))));\n  }\n});\n\nfunction tukeyWprob(w, rr, cc) {\n  var nleg = 12;\n  var ihalf = 6;\n\n  var C1 = -30;\n  var C2 = -50;\n  var C3 = 60;\n  var bb   = 8;\n  var wlar = 3;\n  var wincr1 = 2;\n  var wincr2 = 3;\n  var xleg = [\n    0.981560634246719250690549090149,\n    0.904117256370474856678465866119,\n    0.769902674194304687036893833213,\n    0.587317954286617447296702418941,\n    0.367831498998180193752691536644,\n    0.125233408511468915472441369464\n  ];\n  var aleg = [\n    0.047175336386511827194615961485,\n    0.106939325995318430960254718194,\n    0.160078328543346226334652529543,\n    0.203167426723065921749064455810,\n    0.233492536538354808760849898925,\n    0.249147045813402785000562436043\n  ];\n\n  var qsqz = w * 0.5;\n\n  // if w >= 16 then the integral lower bound (occurs for c=20)\n  // is 0.99999999999995 so return a value of 1.\n\n  if (qsqz >= bb)\n    return 1.0;\n\n  // find (f(w/2) - 1) ^ cc\n  // (first term in integral of hartley's form).\n\n  var pr_w = 2 * jStat.normal.cdf(qsqz, 0, 1, 1, 0) - 1; // erf(qsqz / M_SQRT2)\n  // if pr_w ^ cc < 2e-22 then set pr_w = 0\n  if (pr_w >= Math.exp(C2 / cc))\n    pr_w = Math.pow(pr_w, cc);\n  else\n    pr_w = 0.0;\n\n  // if w is large then the second component of the\n  // integral is small, so fewer intervals are needed.\n\n  var wincr;\n  if (w > wlar)\n    wincr = wincr1;\n  else\n    wincr = wincr2;\n\n  // find the integral of second term of hartley's form\n  // for the integral of the range for equal-length\n  // intervals using legendre quadrature.  limits of\n  // integration are from (w/2, 8).  two or three\n  // equal-length intervals are used.\n\n  // blb and bub are lower and upper limits of integration.\n\n  var blb = qsqz;\n  var binc = (bb - qsqz) / wincr;\n  var bub = blb + binc;\n  var einsum = 0.0;\n\n  // integrate over each interval\n\n  var cc1 = cc - 1.0;\n  for (var wi = 1; wi <= wincr; wi++) {\n    var elsum = 0.0;\n    var a = 0.5 * (bub + blb);\n\n    // legendre quadrature with order = nleg\n\n    var b = 0.5 * (bub - blb);\n\n    for (var jj = 1; jj <= nleg; jj++) {\n      var j, xx;\n      if (ihalf < jj) {\n        j = (nleg - jj) + 1;\n        xx = xleg[j-1];\n      } else {\n        j = jj;\n        xx = -xleg[j-1];\n      }\n      var c = b * xx;\n      var ac = a + c;\n\n      // if exp(-qexpo/2) < 9e-14,\n      // then doesn't contribute to integral\n\n      var qexpo = ac * ac;\n      if (qexpo > C3)\n        break;\n\n      var pplus = 2 * jStat.normal.cdf(ac, 0, 1, 1, 0);\n      var pminus= 2 * jStat.normal.cdf(ac, w, 1, 1, 0);\n\n      // if rinsum ^ (cc-1) < 9e-14,\n      // then doesn't contribute to integral\n\n      var rinsum = (pplus * 0.5) - (pminus * 0.5);\n      if (rinsum >= Math.exp(C1 / cc1)) {\n        rinsum = (aleg[j-1] * Math.exp(-(0.5 * qexpo))) * Math.pow(rinsum, cc1);\n        elsum += rinsum;\n      }\n    }\n    elsum *= (((2.0 * b) * cc) / Math.sqrt(2 * Math.PI));\n    einsum += elsum;\n    blb = bub;\n    bub += binc;\n  }\n\n  // if pr_w ^ rr < 9e-14, then return 0\n  pr_w += einsum;\n  if (pr_w <= Math.exp(C1 / rr))\n    return 0;\n\n  pr_w = Math.pow(pr_w, rr);\n  if (pr_w >= 1) // 1 was iMax was eps\n    return 1;\n  return pr_w;\n}\n\nfunction tukeyQinv(p, c, v) {\n  var p0 = 0.322232421088;\n  var q0 = 0.993484626060e-01;\n  var p1 = -1.0;\n  var q1 = 0.588581570495;\n  var p2 = -0.342242088547;\n  var q2 = 0.531103462366;\n  var p3 = -0.204231210125;\n  var q3 = 0.103537752850;\n  var p4 = -0.453642210148e-04;\n  var q4 = 0.38560700634e-02;\n  var c1 = 0.8832;\n  var c2 = 0.2368;\n  var c3 = 1.214;\n  var c4 = 1.208;\n  var c5 = 1.4142;\n  var vmax = 120.0;\n\n  var ps = 0.5 - 0.5 * p;\n  var yi = Math.sqrt(Math.log(1.0 / (ps * ps)));\n  var t = yi + (((( yi * p4 + p3) * yi + p2) * yi + p1) * yi + p0)\n     / (((( yi * q4 + q3) * yi + q2) * yi + q1) * yi + q0);\n  if (v < vmax) t += (t * t * t + t) / v / 4.0;\n  var q = c1 - c2 * t;\n  if (v < vmax) q += -c3 / v + c4 * t / v;\n  return t * (q * Math.log(c - 1.0) + c5);\n}\n\njStat.extend(jStat.tukey, {\n  cdf: function cdf(q, nmeans, df) {\n    // Identical implementation as the R ptukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var nlegq = 16;\n    var ihalfq = 8;\n\n    var eps1 = -30.0;\n    var eps2 = 1.0e-14;\n    var dhaf  = 100.0;\n    var dquar = 800.0;\n    var deigh = 5000.0;\n    var dlarg = 25000.0;\n    var ulen1 = 1.0;\n    var ulen2 = 0.5;\n    var ulen3 = 0.25;\n    var ulen4 = 0.125;\n    var xlegq = [\n      0.989400934991649932596154173450,\n      0.944575023073232576077988415535,\n      0.865631202387831743880467897712,\n      0.755404408355003033895101194847,\n      0.617876244402643748446671764049,\n      0.458016777657227386342419442984,\n      0.281603550779258913230460501460,\n      0.950125098376374401853193354250e-1\n    ];\n    var alegq = [\n      0.271524594117540948517805724560e-1,\n      0.622535239386478928628438369944e-1,\n      0.951585116824927848099251076022e-1,\n      0.124628971255533872052476282192,\n      0.149595988816576732081501730547,\n      0.169156519395002538189312079030,\n      0.182603415044923588866763667969,\n      0.189450610455068496285396723208\n    ];\n\n    if (q <= 0)\n      return 0;\n\n    // df must be > 1\n    // there must be at least two values\n\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (!Number.isFinite(q))\n      return 1;\n\n    if (df > dlarg)\n      return tukeyWprob(q, rr, cc);\n\n    // calculate leading constant\n\n    var f2 = df * 0.5;\n    var f2lf = ((f2 * Math.log(df)) - (df * Math.log(2))) - jStat.gammaln(f2);\n    var f21 = f2 - 1.0;\n\n    // integral is divided into unit, half-unit, quarter-unit, or\n    // eighth-unit length intervals depending on the value of the\n    // degrees of freedom.\n\n    var ff4 = df * 0.25;\n    var ulen;\n    if      (df <= dhaf)  ulen = ulen1;\n    else if (df <= dquar) ulen = ulen2;\n    else if (df <= deigh) ulen = ulen3;\n    else                  ulen = ulen4;\n\n    f2lf += Math.log(ulen);\n\n    // integrate over each subinterval\n\n    var ans = 0.0;\n\n    for (var i = 1; i <= 50; i++) {\n      var otsum = 0.0;\n\n      // legendre quadrature with order = nlegq\n      // nodes (stored in xlegq) are symmetric around zero.\n\n      var twa1 = (2 * i - 1) * ulen;\n\n      for (var jj = 1; jj <= nlegq; jj++) {\n        var j, t1;\n        if (ihalfq < jj) {\n          j = jj - ihalfq - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 + (xlegq[j] * ulen))))\n              - (((xlegq[j] * ulen) + twa1) * ff4);\n        } else {\n          j = jj - 1;\n          t1 = (f2lf + (f21 * Math.log(twa1 - (xlegq[j] * ulen))))\n              + (((xlegq[j] * ulen) - twa1) * ff4);\n        }\n\n        // if exp(t1) < 9e-14, then doesn't contribute to integral\n        var qsqz;\n        if (t1 >= eps1) {\n          if (ihalfq < jj) {\n            qsqz = q * Math.sqrt(((xlegq[j] * ulen) + twa1) * 0.5);\n          } else {\n            qsqz = q * Math.sqrt(((-(xlegq[j] * ulen)) + twa1) * 0.5);\n          }\n\n          // call wprob to find integral of range portion\n\n          var wprb = tukeyWprob(qsqz, rr, cc);\n          var rotsum = (wprb * alegq[j]) * Math.exp(t1);\n          otsum += rotsum;\n        }\n        // end legendre integral for interval i\n        // L200:\n      }\n\n      // if integral for interval i < 1e-14, then stop.\n      // However, in order to avoid small area under left tail,\n      // at least  1 / ulen  intervals are calculated.\n      if (i * ulen >= 1.0 && otsum <= eps2)\n        break;\n\n      // end of interval i\n      // L330:\n\n      ans += otsum;\n    }\n\n    if (otsum > eps2) { // not converged\n      throw new Error('tukey.cdf failed to converge');\n    }\n    if (ans > 1)\n      ans = 1;\n    return ans;\n  },\n\n  inv: function(p, nmeans, df) {\n    // Identical implementation as the R qtukey() function as of commit 68947\n    var rr = 1;\n    var cc = nmeans;\n\n    var eps = 0.0001;\n    var maxiter = 50;\n\n    // df must be > 1 ; there must be at least two values\n    if (df < 2 || rr < 1 || cc < 2) return NaN;\n\n    if (p < 0 || p > 1) return NaN;\n    if (p === 0) return 0;\n    if (p === 1) return Infinity;\n\n    // Initial value\n\n    var x0 = tukeyQinv(p, cc, df);\n\n    // Find prob(value < x0)\n\n    var valx0 = jStat.tukey.cdf(x0, nmeans, df) - p;\n\n    // Find the second iterate and prob(value < x1).\n    // If the first iterate has probability value\n    // exceeding p then second iterate is 1 less than\n    // first iterate; otherwise it is 1 greater.\n\n    var x1;\n    if (valx0 > 0.0)\n      x1 = Math.max(0.0, x0 - 1.0);\n    else\n      x1 = x0 + 1.0;\n    var valx1 = jStat.tukey.cdf(x1, nmeans, df) - p;\n\n    // Find new iterate\n\n    var ans;\n    for(var iter = 1; iter < maxiter; iter++) {\n      ans = x1 - ((valx1 * (x1 - x0)) / (valx1 - valx0));\n      valx0 = valx1;\n\n      // New iterate must be >= 0\n\n      x0 = x1;\n      if (ans < 0.0) {\n        ans = 0.0;\n        valx1 = -p;\n      }\n      // Find prob(value < new iterate)\n\n      valx1 = jStat.tukey.cdf(ans, nmeans, df) - p;\n      x1 = ans;\n\n      // If the difference between two successive\n      // iterates is less than eps, stop\n\n      var xabs = Math.abs(x1 - x0);\n      if (xabs < eps)\n        return ans;\n    }\n\n    throw new Error('tukey.inv failed to converge');\n  }\n});\n\n}(jStat, Math));\n/* Provides functions for the solution of linear system of equations, integration, extrapolation,\n * interpolation, eigenvalue problems, differential equations and PCA analysis. */\n\n(function(jStat, Math) {\n\nvar push = Array.prototype.push;\nvar isArray = jStat.utils.isArray;\n\nfunction isUsable(arg) {\n  return isArray(arg) || arg instanceof jStat;\n}\n\njStat.extend({\n\n  // add a vector/matrix to a vector/matrix or scalar\n  add: function add(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value + arg[row][col];\n      });\n    }\n    return jStat.map(arr, function(value) { return value + arg; });\n  },\n\n  // subtract a vector or scalar from the vector\n  subtract: function subtract(arr, arg) {\n    // check if arg is a vector or scalar\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.map(arr, function(value, row, col) {\n        return value - arg[row][col] || 0;\n      });\n    }\n    return jStat.map(arr, function(value) { return value - arg; });\n  },\n\n  // matrix division\n  divide: function divide(arr, arg) {\n    if (isUsable(arg)) {\n      if (!isUsable(arg[0])) arg = [ arg ];\n      return jStat.multiply(arr, jStat.inv(arg));\n    }\n    return jStat.map(arr, function(value) { return value / arg; });\n  },\n\n  // matrix multiplication\n  multiply: function multiply(arr, arg) {\n    var row, col, nrescols, sum, nrow, ncol, res, rescols;\n    // eg: arr = 2 arg = 3 -> 6 for res[0][0] statement closure\n    if (arr.length === undefined && arg.length === undefined) {\n      return arr * arg;\n    }\n    nrow = arr.length,\n    ncol = arr[0].length,\n    res = jStat.zeros(nrow, nrescols = (isUsable(arg)) ? arg[0].length : ncol),\n    rescols = 0;\n    if (isUsable(arg)) {\n      for (; rescols < nrescols; rescols++) {\n        for (row = 0; row < nrow; row++) {\n          sum = 0;\n          for (col = 0; col < ncol; col++)\n          sum += arr[row][col] * arg[col][rescols];\n          res[row][rescols] = sum;\n        }\n      }\n      return (nrow === 1 && rescols === 1) ? res[0][0] : res;\n    }\n    return jStat.map(arr, function(value) { return value * arg; });\n  },\n\n  // outer([1,2,3],[4,5,6])\n  // ===\n  // [[1],[2],[3]] times [[4,5,6]]\n  // ->\n  // [[4,5,6],[8,10,12],[12,15,18]]\n  outer:function outer(A, B) {\n    return jStat.multiply(A.map(function(t){ return [t] }), [B]);\n  },\n\n\n  // Returns the dot product of two matricies\n  dot: function dot(arr, arg) {\n    if (!isUsable(arr[0])) arr = [ arr ];\n    if (!isUsable(arg[0])) arg = [ arg ];\n    // convert column to row vector\n    var left = (arr[0].length === 1 && arr.length !== 1) ? jStat.transpose(arr) : arr,\n    right = (arg[0].length === 1 && arg.length !== 1) ? jStat.transpose(arg) : arg,\n    res = [],\n    row = 0,\n    nrow = left.length,\n    ncol = left[0].length,\n    sum, col;\n    for (; row < nrow; row++) {\n      res[row] = [];\n      sum = 0;\n      for (col = 0; col < ncol; col++)\n      sum += left[row][col] * right[row][col];\n      res[row] = sum;\n    }\n    return (res.length === 1) ? res[0] : res;\n  },\n\n  // raise every element by a scalar\n  pow: function pow(arr, arg) {\n    return jStat.map(arr, function(value) { return Math.pow(value, arg); });\n  },\n\n  // exponentiate every element\n  exp: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.exp(value); });\n  },\n\n  // generate the natural log of every element\n  log: function exp(arr) {\n    return jStat.map(arr, function(value) { return Math.log(value); });\n  },\n\n  // generate the absolute values of the vector\n  abs: function abs(arr) {\n    return jStat.map(arr, function(value) { return Math.abs(value); });\n  },\n\n  // computes the p-norm of the vector\n  // In the case that a matrix is passed, uses the first row as the vector\n  norm: function norm(arr, p) {\n    var nnorm = 0,\n    i = 0;\n    // check the p-value of the norm, and set for most common case\n    if (isNaN(p)) p = 2;\n    // check if multi-dimensional array, and make vector correction\n    if (isUsable(arr[0])) arr = arr[0];\n    // vector norm\n    for (; i < arr.length; i++) {\n      nnorm += Math.pow(Math.abs(arr[i]), p);\n    }\n    return Math.pow(nnorm, 1 / p);\n  },\n\n  // computes the angle between two vectors in rads\n  // In case a matrix is passed, this uses the first row as the vector\n  angle: function angle(arr, arg) {\n    return Math.acos(jStat.dot(arr, arg) / (jStat.norm(arr) * jStat.norm(arg)));\n  },\n\n  // augment one matrix by another\n  // Note: this function returns a matrix, not a jStat object\n  aug: function aug(a, b) {\n    var newarr = [];\n    var i;\n    for (i = 0; i < a.length; i++) {\n      newarr.push(a[i].slice());\n    }\n    for (i = 0; i < newarr.length; i++) {\n      push.apply(newarr[i], b[i]);\n    }\n    return newarr;\n  },\n\n  // The inv() function calculates the inverse of a matrix\n  // Create the inverse by augmenting the matrix by the identity matrix of the\n  // appropriate size, and then use G-J elimination on the augmented matrix.\n  inv: function inv(a) {\n    var rows = a.length;\n    var cols = a[0].length;\n    var b = jStat.identity(rows, cols);\n    var c = jStat.gauss_jordan(a, b);\n    var result = [];\n    var i = 0;\n    var j;\n\n    //We need to copy the inverse portion to a new matrix to rid G-J artifacts\n    for (; i < rows; i++) {\n      result[i] = [];\n      for (j = cols; j < c[0].length; j++)\n        result[i][j - cols] = c[i][j];\n    }\n    return result;\n  },\n\n  // calculate the determinant of a matrix\n  det: function det(a) {\n    var alen = a.length,\n    alend = alen * 2,\n    vals = new Array(alend),\n    rowshift = alen - 1,\n    colshift = alend - 1,\n    mrow = rowshift - alen + 1,\n    mcol = colshift,\n    i = 0,\n    result = 0,\n    j;\n    // check for special 2x2 case\n    if (alen === 2) {\n      return a[0][0] * a[1][1] - a[0][1] * a[1][0];\n    }\n    for (; i < alend; i++) {\n      vals[i] = 1;\n    }\n    for (i = 0; i < alen; i++) {\n      for (j = 0; j < alen; j++) {\n        vals[(mrow < 0) ? mrow + alen : mrow ] *= a[i][j];\n        vals[(mcol < alen) ? mcol + alen : mcol ] *= a[i][j];\n        mrow++;\n        mcol--;\n      }\n      mrow = --rowshift - alen + 1;\n      mcol = --colshift;\n    }\n    for (i = 0; i < alen; i++) {\n      result += vals[i];\n    }\n    for (; i < alend; i++) {\n      result -= vals[i];\n    }\n    return result;\n  },\n\n  gauss_elimination: function gauss_elimination(a, b) {\n    var i = 0,\n    j = 0,\n    n = a.length,\n    m = a[0].length,\n    factor = 1,\n    sum = 0,\n    x = [],\n    maug, pivot, temp, k;\n    a = jStat.aug(a, b);\n    maug = a[0].length;\n    for(i = 0; i < n; i++) {\n      pivot = a[i][i];\n      j = i;\n      for (k = i + 1; k < m; k++) {\n        if (pivot < Math.abs(a[k][i])) {\n          pivot = a[k][i];\n          j = k;\n        }\n      }\n      if (j != i) {\n        for(k = 0; k < maug; k++) {\n          temp = a[i][k];\n          a[i][k] = a[j][k];\n          a[j][k] = temp;\n        }\n      }\n      for (j = i + 1; j < n; j++) {\n        factor = a[j][i] / a[i][i];\n        for(k = i; k < maug; k++) {\n          a[j][k] = a[j][k] - factor * a[i][k];\n        }\n      }\n    }\n    for (i = n - 1; i >= 0; i--) {\n      sum = 0;\n      for (j = i + 1; j<= n - 1; j++) {\n        sum = sum + x[j] * a[i][j];\n      }\n      x[i] =(a[i][maug - 1] - sum) / a[i][i];\n    }\n    return x;\n  },\n\n  gauss_jordan: function gauss_jordan(a, b) {\n    var m = jStat.aug(a, b);\n    var h = m.length;\n    var w = m[0].length;\n    var c = 0;\n    var x, y, y2;\n    // find max pivot\n    for (y = 0; y < h; y++) {\n      var maxrow = y;\n      for (y2 = y+1; y2 < h; y2++) {\n        if (Math.abs(m[y2][y]) > Math.abs(m[maxrow][y]))\n          maxrow = y2;\n      }\n      var tmp = m[y];\n      m[y] = m[maxrow];\n      m[maxrow] = tmp\n      for (y2 = y+1; y2 < h; y2++) {\n        c = m[y2][y] / m[y][y];\n        for (x = y; x < w; x++) {\n          m[y2][x] -= m[y][x] * c;\n        }\n      }\n    }\n    // backsubstitute\n    for (y = h-1; y >= 0; y--) {\n      c = m[y][y];\n      for (y2 = 0; y2 < y; y2++) {\n        for (x = w-1; x > y-1; x--) {\n          m[y2][x] -= m[y][x] * m[y2][y] / c;\n        }\n      }\n      m[y][y] /= c;\n      for (x = h; x < w; x++) {\n        m[y][x] /= c;\n      }\n    }\n    return m;\n  },\n\n  // solve equation\n  // Ax=b\n  // A is upper triangular matrix\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[1,2,3]\n  // triaUpSolve(A,b) // -> [2.666,0.1666,1.666]\n  // if you use matrix style\n  // A=[[1,2,3],[0,4,5],[0,6,7]]\n  // b=[[1],[2],[3]]\n  // will return [[2.666],[0.1666],[1.666]]\n  triaUpSolve: function triaUpSolve(A, b) {\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n    var matrix_mode = false;\n\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size - 1, -1, -1).forEach(function(i) {\n      parts = jStat.arange(i + 1, size).map(function(j) {\n        return x[j] * A[i][j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    });\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n  triaLowSolve: function triaLowSolve(A, b) {\n    // like to triaUpSolve but A is lower triangular matrix\n    var size = A[0].length;\n    var x = jStat.zeros(1, size)[0];\n    var parts;\n\n    var matrix_mode=false;\n    if (b[0].length != undefined) {\n      b = b.map(function(i){ return i[0] });\n      matrix_mode = true;\n    }\n\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(j) {\n        return A[i][j] * x[j];\n      });\n      x[i] = (b[i] - jStat.sum(parts)) / A[i][i];\n    })\n\n    if (matrix_mode)\n      return x.map(function(i){ return [i] });\n    return x;\n  },\n\n\n  // A -> [L,U]\n  // A=LU\n  // L is lower triangular matrix\n  // U is upper triangular matrix\n  lu: function lu(A) {\n    var size = A.length;\n    //var L=jStat.diagonal(jStat.ones(1,size)[0]);\n    var L = jStat.identity(size);\n    var R = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(t) {\n      R[0][t] = A[0][t];\n    });\n    jStat.arange(1, size).forEach(function(l) {\n      jStat.arange(l).forEach(function(i) {\n        parts = jStat.arange(i).map(function(jj) {\n          return L[l][jj] * R[jj][i];\n        });\n        L[l][i] = (A[l][i] - jStat.sum(parts)) / R[i][i];\n      });\n      jStat.arange(l, size).forEach(function(j) {\n        parts = jStat.arange(l).map(function(jj) {\n          return L[l][jj] * R[jj][j];\n        });\n        R[l][j] = A[parts.length][j] - jStat.sum(parts);\n      });\n    });\n    return [L, R];\n  },\n\n  // A -> T\n  // A=TT'\n  // T is lower triangular matrix\n  cholesky: function cholesky(A) {\n    var size = A.length;\n    var T = jStat.zeros(A.length, A[0].length);\n    var parts;\n    jStat.arange(size).forEach(function(i) {\n      parts = jStat.arange(i).map(function(t) {\n        return Math.pow(T[i][t],2);\n      });\n      T[i][i] = Math.sqrt(A[i][i] - jStat.sum(parts));\n      jStat.arange(i + 1, size).forEach(function(j) {\n        parts = jStat.arange(i).map(function(t) {\n          return T[i][t] * T[j][t];\n        });\n        T[j][i] = (A[i][j] - jStat.sum(parts)) / T[i][i];\n      });\n    });\n    return T;\n  },\n\n\n  gauss_jacobi: function gauss_jacobi(a, b, x, r) {\n    var i = 0;\n    var j = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(d), jStat.add(l, u)), -1);\n    c = jStat.multiply(jStat.inv(d), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk,xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  gauss_seidel: function gauss_seidel(a, b, x, r) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d, l)), u), -1);\n    c = jStat.multiply(jStat.inv(jStat.add(d, l)), b);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i = i + 1;\n    }\n    return xk;\n  },\n\n  SOR: function SOR(a, b, x, r, w) {\n    var i = 0;\n    var n = a.length;\n    var l = [];\n    var u = [];\n    var d = [];\n    var j, xv, c, h, xk;\n    for (; i < n; i++) {\n      l[i] = [];\n      u[i] = [];\n      d[i] = [];\n      for (j = 0; j < n; j++) {\n        if (i > j) {\n          l[i][j] = a[i][j];\n          u[i][j] = d[i][j] = 0;\n        } else if (i < j) {\n          u[i][j] = a[i][j];\n          l[i][j] = d[i][j] = 0;\n        } else {\n          d[i][j] = a[i][j];\n          l[i][j] = u[i][j] = 0;\n        }\n      }\n    }\n    h = jStat.multiply(jStat.inv(jStat.add(d, jStat.multiply(l, w))),\n                       jStat.subtract(jStat.multiply(d, 1 - w),\n                                      jStat.multiply(u, w)));\n    c = jStat.multiply(jStat.multiply(jStat.inv(jStat.add(d,\n        jStat.multiply(l, w))), b), w);\n    xv = x;\n    xk = jStat.add(jStat.multiply(h, x), c);\n    i = 2;\n    while (Math.abs(jStat.norm(jStat.subtract(xk, xv))) > r) {\n      xv = xk;\n      xk = jStat.add(jStat.multiply(h, xv), c);\n      i++;\n    }\n    return xk;\n  },\n\n  householder: function householder(a) {\n    var m = a.length;\n    var n = a[0].length;\n    var i = 0;\n    var w = [];\n    var p = [];\n    var alpha, r, k, j, factor;\n    for (; i < m - 1; i++) {\n      alpha = 0;\n      for (j = i + 1; j < n; j++)\n      alpha += (a[j][i] * a[j][i]);\n      factor = (a[i + 1][i] > 0) ? -1 : 1;\n      alpha = factor * Math.sqrt(alpha);\n      r = Math.sqrt((((alpha * alpha) - a[i + 1][i] * alpha) / 2));\n      w = jStat.zeros(m, 1);\n      w[i + 1][0] = (a[i + 1][i] - alpha) / (2 * r);\n      for (k = i + 2; k < m; k++) w[k][0] = a[k][i] / (2 * r);\n      p = jStat.subtract(jStat.identity(m, n),\n          jStat.multiply(jStat.multiply(w, jStat.transpose(w)), 2));\n      a = jStat.multiply(p, jStat.multiply(a, p));\n    }\n    return a;\n  },\n\n  // A -> [Q,R]\n  // Q is orthogonal matrix\n  // R is upper triangular\n  QR: (function() {\n    // x -> Q\n    // find a orthogonal matrix Q st.\n    // Qx=y\n    // y is [||x||,0,0,...]\n\n    // quick ref\n    var sum   = jStat.sum;\n    var range = jStat.arange;\n\n    function qr2(x) {\n      // quick impletation\n      // https://www.stat.wisc.edu/~larget/math496/qr.html\n\n      var n = x.length;\n      var p = x[0].length;\n\n      var r = jStat.zeros(p, p);\n      x = jStat.copy(x);\n\n      var i,j,k;\n      for(j = 0; j < p; j++){\n        r[j][j] = Math.sqrt(sum(range(n).map(function(i){\n          return x[i][j] * x[i][j];\n        })));\n        for(i = 0; i < n; i++){\n          x[i][j] = x[i][j] / r[j][j];\n        }\n        for(k = j+1; k < p; k++){\n          r[j][k] = sum(range(n).map(function(i){\n            return x[i][j] * x[i][k];\n          }));\n          for(i = 0; i < n; i++){\n            x[i][k] = x[i][k] - x[i][j]*r[j][k];\n          }\n        }\n      }\n      return [x, r];\n    }\n\n    return qr2;\n  }()),\n\n  lstsq: (function() {\n    // solve least squard problem for Ax=b as QR decomposition way if b is\n    // [[b1],[b2],[b3]] form will return [[x1],[x2],[x3]] array form solution\n    // else b is [b1,b2,b3] form will return [x1,x2,x3] array form solution\n    function R_I(A) {\n      A = jStat.copy(A);\n      var size = A.length;\n      var I = jStat.identity(size);\n      jStat.arange(size - 1, -1, -1).forEach(function(i) {\n        jStat.sliceAssign(\n            I, { row: i }, jStat.divide(jStat.slice(I, { row: i }), A[i][i]));\n        jStat.sliceAssign(\n            A, { row: i }, jStat.divide(jStat.slice(A, { row: i }), A[i][i]));\n        jStat.arange(i).forEach(function(j) {\n          var c = jStat.multiply(A[j][i], -1);\n          var Aj = jStat.slice(A, { row: j });\n          var cAi = jStat.multiply(jStat.slice(A, { row: i }), c);\n          jStat.sliceAssign(A, { row: j }, jStat.add(Aj, cAi));\n          var Ij = jStat.slice(I, { row: j });\n          var cIi = jStat.multiply(jStat.slice(I, { row: i }), c);\n          jStat.sliceAssign(I, { row: j }, jStat.add(Ij, cIi));\n        })\n      });\n      return I;\n    }\n\n    function qr_solve(A, b){\n      var array_mode = false;\n      if (b[0].length === undefined) {\n        // [c1,c2,c3] mode\n        b = b.map(function(x){ return [x] });\n        array_mode = true;\n      }\n      var QR = jStat.QR(A);\n      var Q = QR[0];\n      var R = QR[1];\n      var attrs = A[0].length;\n      var Q1 = jStat.slice(Q,{col:{end:attrs}});\n      var R1 = jStat.slice(R,{row:{end:attrs}});\n      var RI = R_I(R1);\n      var Q2 = jStat.transpose(Q1);\n\n      if(Q2[0].length === undefined){\n        Q2 = [Q2]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n      var x = jStat.multiply(jStat.multiply(RI, Q2), b);\n\n      if(x.length === undefined){\n        x = [[x]]; // The confusing jStat.multifly implementation threat nature process again.\n      }\n\n\n      if (array_mode)\n        return x.map(function(i){ return i[0] });\n      return x;\n    }\n\n    return qr_solve;\n  }()),\n\n  jacobi: function jacobi(a) {\n    var condition = 1;\n    var n = a.length;\n    var e = jStat.identity(n, n);\n    var ev = [];\n    var b, i, j, p, q, maxim, theta, s;\n    // condition === 1 only if tolerance is not reached\n    while (condition === 1) {\n      maxim = a[0][1];\n      p = 0;\n      q = 1;\n      for (i = 0; i < n; i++) {\n        for (j = 0; j < n; j++) {\n          if (i != j) {\n            if (maxim < Math.abs(a[i][j])) {\n              maxim = Math.abs(a[i][j]);\n              p = i;\n              q = j;\n            }\n          }\n        }\n      }\n      if (a[p][p] === a[q][q])\n        theta = (a[p][q] > 0) ? Math.PI / 4 : -Math.PI / 4;\n      else\n        theta = Math.atan(2 * a[p][q] / (a[p][p] - a[q][q])) / 2;\n      s = jStat.identity(n, n);\n      s[p][p] = Math.cos(theta);\n      s[p][q] = -Math.sin(theta);\n      s[q][p] = Math.sin(theta);\n      s[q][q] = Math.cos(theta);\n      // eigen vector matrix\n      e = jStat.multiply(e, s);\n      b = jStat.multiply(jStat.multiply(jStat.inv(s), a), s);\n      a = b;\n      condition = 0;\n      for (i = 1; i < n; i++) {\n        for (j = 1; j < n; j++) {\n          if (i != j && Math.abs(a[i][j]) > 0.001) {\n            condition = 1;\n          }\n        }\n      }\n    }\n    for (i = 0; i < n; i++) ev.push(a[i][i]);\n    //returns both the eigenvalue and eigenmatrix\n    return [e, ev];\n  },\n\n  rungekutta: function rungekutta(f, h, p, t_j, u_j, order) {\n    var k1, k2, u_j1, k3, k4;\n    if (order === 2) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h, u_j + k1);\n        u_j1 = u_j + (k1 + k2) / 2;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    if (order === 4) {\n      while (t_j <= p) {\n        k1 = h * f(t_j, u_j);\n        k2 = h * f(t_j + h / 2, u_j + k1 / 2);\n        k3 = h * f(t_j + h / 2, u_j + k2 / 2);\n        k4 = h * f(t_j +h, u_j + k3);\n        u_j1 = u_j + (k1 + 2 * k2 + 2 * k3 + k4) / 6;\n        u_j = u_j1;\n        t_j = t_j + h;\n      }\n    }\n    return u_j;\n  },\n\n  romberg: function romberg(f, a, b, order) {\n    var i = 0;\n    var h = (b - a) / 2;\n    var x = [];\n    var h1 = [];\n    var g = [];\n    var m, a1, j, k, I;\n    while (i < order / 2) {\n      I = f(a);\n      for (j = a, k = 0; j <= b; j = j + h, k++) x[k] = j;\n      m = x.length;\n      for (j = 1; j < m - 1; j++) {\n        I += (((j % 2) !== 0) ? 4 : 2) * f(x[j]);\n      }\n      I = (h / 3) * (I + f(b));\n      g[i] = I;\n      h /= 2;\n      i++;\n    }\n    a1 = g.length;\n    m = 1;\n    while (a1 !== 1) {\n      for (j = 0; j < a1 - 1; j++)\n      h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a1 = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  richardson: function richardson(X, f, x, h) {\n    function pos(X, x) {\n      var i = 0;\n      var n = X.length;\n      var p;\n      for (; i < n; i++)\n        if (X[i] === x) p = i;\n      return p;\n    }\n    var h_min = Math.abs(x - X[pos(X, x) + 1]);\n    var i = 0;\n    var g = [];\n    var h1 = [];\n    var y1, y2, m, a, j;\n    while (h >= h_min) {\n      y1 = pos(X, x + h);\n      y2 = pos(X, x);\n      g[i] = (f[y1] - 2 * f[y2] + f[2 * y2 - y1]) / (h * h);\n      h /= 2;\n      i++;\n    }\n    a = g.length;\n    m = 1;\n    while (a != 1) {\n      for (j = 0; j < a - 1; j++)\n        h1[j] = ((Math.pow(4, m)) * g[j + 1] - g[j]) / (Math.pow(4, m) - 1);\n      a = h1.length;\n      g = h1;\n      h1 = [];\n      m++;\n    }\n    return g;\n  },\n\n  simpson: function simpson(f, a, b, n) {\n    var h = (b - a) / n;\n    var I = f(a);\n    var x = [];\n    var j = a;\n    var k = 0;\n    var i = 1;\n    var m;\n    for (; j <= b; j = j + h, k++)\n      x[k] = j;\n    m = x.length;\n    for (; i < m - 1; i++) {\n      I += ((i % 2 !== 0) ? 4 : 2) * f(x[i]);\n    }\n    return (h / 3) * (I + f(b));\n  },\n\n  hermite: function hermite(X, F, dF, value) {\n    var n = X.length;\n    var p = 0;\n    var i = 0;\n    var l = [];\n    var dl = [];\n    var A = [];\n    var B = [];\n    var j;\n    for (; i < n; i++) {\n      l[i] = 1;\n      for (j = 0; j < n; j++) {\n        if (i != j) l[i] *= (value - X[j]) / (X[i] - X[j]);\n      }\n      dl[i] = 0;\n      for (j = 0; j < n; j++) {\n        if (i != j) dl[i] += 1 / (X [i] - X[j]);\n      }\n      A[i] = (1 - 2 * (value - X[i]) * dl[i]) * (l[i] * l[i]);\n      B[i] = (value - X[i]) * (l[i] * l[i]);\n      p += (A[i] * F[i] + B[i] * dF[i]);\n    }\n    return p;\n  },\n\n  lagrange: function lagrange(X, F, value) {\n    var p = 0;\n    var i = 0;\n    var j, l;\n    var n = X.length;\n    for (; i < n; i++) {\n      l = F[i];\n      for (j = 0; j < n; j++) {\n        // calculating the lagrange polynomial L_i\n        if (i != j) l *= (value - X[j]) / (X[i] - X[j]);\n      }\n      // adding the lagrange polynomials found above\n      p += l;\n    }\n    return p;\n  },\n\n  cubic_spline: function cubic_spline(X, F, value) {\n    var n = X.length;\n    var i = 0, j;\n    var A = [];\n    var B = [];\n    var alpha = [];\n    var c = [];\n    var h = [];\n    var b = [];\n    var d = [];\n    for (; i < n - 1; i++)\n      h[i] = X[i + 1] - X[i];\n    alpha[0] = 0;\n    for (i = 1; i < n - 1; i++) {\n      alpha[i] = (3 / h[i]) * (F[i + 1] - F[i]) -\n          (3 / h[i-1]) * (F[i] - F[i-1]);\n    }\n    for (i = 1; i < n - 1; i++) {\n      A[i] = [];\n      B[i] = [];\n      A[i][i-1] = h[i-1];\n      A[i][i] = 2 * (h[i - 1] + h[i]);\n      A[i][i+1] = h[i];\n      B[i][0] = alpha[i];\n    }\n    c = jStat.multiply(jStat.inv(A), B);\n    for (j = 0; j < n - 1; j++) {\n      b[j] = (F[j + 1] - F[j]) / h[j] - h[j] * (c[j + 1][0] + 2 * c[j][0]) / 3;\n      d[j] = (c[j + 1][0] - c[j][0]) / (3 * h[j]);\n    }\n    for (j = 0; j < n; j++) {\n      if (X[j] > value) break;\n    }\n    j -= 1;\n    return F[j] + (value - X[j]) * b[j] + jStat.sq(value-X[j]) *\n        c[j] + (value - X[j]) * jStat.sq(value - X[j]) * d[j];\n  },\n\n  gauss_quadrature: function gauss_quadrature() {\n    throw new Error('gauss_quadrature not yet implemented');\n  },\n\n  PCA: function PCA(X) {\n    var m = X.length;\n    var n = X[0].length;\n    var i = 0;\n    var j, temp1;\n    var u = [];\n    var D = [];\n    var result = [];\n    var temp2 = [];\n    var Y = [];\n    var Bt = [];\n    var B = [];\n    var C = [];\n    var V = [];\n    var Vt = [];\n    for (i = 0; i < m; i++) {\n      u[i] = jStat.sum(X[i]) / n;\n    }\n    for (i = 0; i < n; i++) {\n      B[i] = [];\n      for(j = 0; j < m; j++) {\n        B[i][j] = X[j][i] - u[j];\n      }\n    }\n    B = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      C[i] = [];\n      for (j = 0; j < m; j++) {\n        C[i][j] = (jStat.dot([B[i]], [B[j]])) / (n - 1);\n      }\n    }\n    result = jStat.jacobi(C);\n    V = result[0];\n    D = result[1];\n    Vt = jStat.transpose(V);\n    for (i = 0; i < D.length; i++) {\n      for (j = i; j < D.length; j++) {\n        if(D[i] < D[j])  {\n          temp1 = D[i];\n          D[i] = D[j];\n          D[j] = temp1;\n          temp2 = Vt[i];\n          Vt[i] = Vt[j];\n          Vt[j] = temp2;\n        }\n      }\n    }\n    Bt = jStat.transpose(B);\n    for (i = 0; i < m; i++) {\n      Y[i] = [];\n      for (j = 0; j < Bt.length; j++) {\n        Y[i][j] = jStat.dot([Vt[i]], [Bt[j]]);\n      }\n    }\n    return [X, D, Vt, Y];\n  }\n});\n\n// extend jStat.fn with methods that require one argument\n(function(funcs) {\n  for (var i = 0; i < funcs.length; i++) (function(passfunc) {\n    jStat.fn[passfunc] = function(arg, func) {\n      var tmpthis = this;\n      // check for callback\n      if (func) {\n        setTimeout(function() {\n          func.call(tmpthis, jStat.fn[passfunc].call(tmpthis, arg));\n        }, 15);\n        return this;\n      }\n      if (typeof jStat[passfunc](this, arg) === 'number')\n        return jStat[passfunc](this, arg);\n      else\n        return jStat(jStat[passfunc](this, arg));\n    };\n  }(funcs[i]));\n}('add divide multiply subtract dot pow exp log abs norm angle'.split(' ')));\n\n}(jStat, Math));\n(function(jStat, Math) {\n\nvar slice = [].slice;\nvar isNumber = jStat.utils.isNumber;\nvar isArray = jStat.utils.isArray;\n\n// flag==true denotes use of sample standard deviation\n// Z Statistics\njStat.extend({\n  // 2 different parameter lists:\n  // (value, mean, sd)\n  // (value, array, flag)\n  zscore: function zscore() {\n    var args = slice.call(arguments);\n    if (isNumber(args[1])) {\n      return (args[0] - args[1]) / args[2];\n    }\n    return (args[0] - jStat.mean(args[1])) / jStat.stdev(args[1], args[2]);\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, sides)\n  // (zscore, sides)\n  // (value, array, sides, flag)\n  ztest: function ztest() {\n    var args = slice.call(arguments);\n    var z;\n    if (isArray(args[1])) {\n      // (value, array, sides, flag)\n      z = jStat.zscore(args[0],args[1],args[3]);\n      return (args[2] === 1) ?\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)) :\n        (jStat.normal.cdf(-Math.abs(z), 0, 1)*2);\n    } else {\n      if (args.length > 2) {\n        // (value, mean, sd, sides)\n        z = jStat.zscore(args[0],args[1],args[2]);\n        return (args[3] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)* 2);\n      } else {\n        // (zscore, sides)\n        z = args[0];\n        return (args[1] === 1) ?\n          (jStat.normal.cdf(-Math.abs(z),0,1)) :\n          (jStat.normal.cdf(-Math.abs(z),0,1)*2);\n      }\n    }\n  }\n});\n\njStat.extend(jStat.fn, {\n  zscore: function zscore(value, flag) {\n    return (value - this.mean()) / this.stdev(flag);\n  },\n\n  ztest: function ztest(value, sides, flag) {\n    var zscore = Math.abs(this.zscore(value, flag));\n    return (sides === 1) ?\n      (jStat.normal.cdf(-zscore, 0, 1)) :\n      (jStat.normal.cdf(-zscore, 0, 1) * 2);\n  }\n});\n\n// T Statistics\njStat.extend({\n  // 2 parameter lists\n  // (value, mean, sd, n)\n  // (value, array)\n  tscore: function tscore() {\n    var args = slice.call(arguments);\n    return (args.length === 4) ?\n      ((args[0] - args[1]) / (args[2] / Math.sqrt(args[3]))) :\n      ((args[0] - jStat.mean(args[1])) /\n       (jStat.stdev(args[1], true) / Math.sqrt(args[1].length)));\n  },\n\n  // 3 different paramter lists:\n  // (value, mean, sd, n, sides)\n  // (tscore, n, sides)\n  // (value, array, sides)\n  ttest: function ttest() {\n    var args = slice.call(arguments);\n    var tscore;\n    if (args.length === 5) {\n      tscore = Math.abs(jStat.tscore(args[0], args[1], args[2], args[3]));\n      return (args[4] === 1) ?\n        (jStat.studentt.cdf(-tscore, args[3]-1)) :\n        (jStat.studentt.cdf(-tscore, args[3]-1)*2);\n    }\n    if (isNumber(args[1])) {\n      tscore = Math.abs(args[0])\n      return (args[2] == 1) ?\n        (jStat.studentt.cdf(-tscore, args[1]-1)) :\n        (jStat.studentt.cdf(-tscore, args[1]-1) * 2);\n    }\n    tscore = Math.abs(jStat.tscore(args[0], args[1]))\n    return (args[2] == 1) ?\n      (jStat.studentt.cdf(-tscore, args[1].length-1)) :\n      (jStat.studentt.cdf(-tscore, args[1].length-1) * 2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  tscore: function tscore(value) {\n    return (value - this.mean()) / (this.stdev(true) / Math.sqrt(this.cols()));\n  },\n\n  ttest: function ttest(value, sides) {\n    return (sides === 1) ?\n      (1 - jStat.studentt.cdf(Math.abs(this.tscore(value)), this.cols()-1)) :\n      (jStat.studentt.cdf(-Math.abs(this.tscore(value)), this.cols()-1)*2);\n  }\n});\n\n// F Statistics\njStat.extend({\n  // Paramter list is as follows:\n  // (array1, array2, array3, ...)\n  // or it is an array of arrays\n  // array of arrays conversion\n  anovafscore: function anovafscore() {\n    var args = slice.call(arguments),\n    expVar, sample, sampMean, sampSampMean, tmpargs, unexpVar, i, j;\n    if (args.length === 1) {\n      tmpargs = new Array(args[0].length);\n      for (i = 0; i < args[0].length; i++) {\n        tmpargs[i] = args[0][i];\n      }\n      args = tmpargs;\n    }\n    // Builds sample array\n    sample = new Array();\n    for (i = 0; i < args.length; i++) {\n      sample = sample.concat(args[i]);\n    }\n    sampMean = jStat.mean(sample);\n    // Computes the explained variance\n    expVar = 0;\n    for (i = 0; i < args.length; i++) {\n      expVar = expVar + args[i].length * Math.pow(jStat.mean(args[i]) - sampMean, 2);\n    }\n    expVar /= (args.length - 1);\n    // Computes unexplained variance\n    unexpVar = 0;\n    for (i = 0; i < args.length; i++) {\n      sampSampMean = jStat.mean(args[i]);\n      for (j = 0; j < args[i].length; j++) {\n        unexpVar += Math.pow(args[i][j] - sampSampMean, 2);\n      }\n    }\n    unexpVar /= (sample.length - args.length);\n    return expVar / unexpVar;\n  },\n\n  // 2 different paramter setups\n  // (array1, array2, array3, ...)\n  // (anovafscore, df1, df2)\n  anovaftest: function anovaftest() {\n    var args = slice.call(arguments),\n    df1, df2, n, i;\n    if (isNumber(args[0])) {\n      return 1 - jStat.centralF.cdf(args[0], args[1], args[2]);\n    }\n    var anovafscore = jStat.anovafscore(args);\n    df1 = args.length - 1;\n    n = 0;\n    for (i = 0; i < args.length; i++) {\n      n = n + args[i].length;\n    }\n    df2 = n - df1 - 1;\n    return 1 - jStat.centralF.cdf(anovafscore, df1, df2);\n  },\n\n  ftest: function ftest(fscore, df1, df2) {\n    return 1 - jStat.centralF.cdf(fscore, df1, df2);\n  }\n});\n\njStat.extend(jStat.fn, {\n  anovafscore: function anovafscore() {\n    return jStat.anovafscore(this.toArray());\n  },\n\n  anovaftes: function anovaftes() {\n    var n = 0;\n    var i;\n    for (i = 0; i < this.length; i++) {\n      n = n + this[i].length;\n    }\n    return jStat.ftest(this.anovafscore(), this.length - 1, n - this.length);\n  }\n});\n\n// Tukey's range test\njStat.extend({\n  // 2 parameter lists\n  // (mean1, mean2, n1, n2, sd)\n  // (array1, array2, sd)\n  qscore: function qscore() {\n    var args = slice.call(arguments);\n    var mean1, mean2, n1, n2, sd;\n    if (isNumber(args[0])) {\n        mean1 = args[0];\n        mean2 = args[1];\n        n1 = args[2];\n        n2 = args[3];\n        sd = args[4];\n    } else {\n        mean1 = jStat.mean(args[0]);\n        mean2 = jStat.mean(args[1]);\n        n1 = args[0].length;\n        n2 = args[1].length;\n        sd = args[2];\n    }\n    return Math.abs(mean1 - mean2) / (sd * Math.sqrt((1 / n1 + 1 / n2) / 2));\n  },\n\n  // 3 different parameter lists:\n  // (qscore, n, k)\n  // (mean1, mean2, n1, n2, sd, n, k)\n  // (array1, array2, sd, n, k)\n  qtest: function qtest() {\n    var args = slice.call(arguments);\n\n    var qscore;\n    if (args.length === 3) {\n      qscore = args[0];\n      args = args.slice(1);\n    } else if (args.length === 7) {\n      qscore = jStat.qscore(args[0], args[1], args[2], args[3], args[4]);\n      args = args.slice(5);\n    } else {\n      qscore = jStat.qscore(args[0], args[1], args[2]);\n      args = args.slice(3);\n    }\n\n    var n = args[0];\n    var k = args[1];\n\n    return 1 - jStat.tukey.cdf(qscore, k, n - k);\n  },\n\n  tukeyhsd: function tukeyhsd(arrays) {\n    var sd = jStat.pooledstdev(arrays);\n    var means = arrays.map(function (arr) {return jStat.mean(arr);});\n    var n = arrays.reduce(function (n, arr) {return n + arr.length;}, 0);\n\n    var results = [];\n    for (var i = 0; i < arrays.length; ++i) {\n        for (var j = i + 1; j < arrays.length; ++j) {\n            var p = jStat.qtest(means[i], means[j], arrays[i].length, arrays[j].length, sd, n, arrays.length);\n            results.push([[i, j], p]);\n        }\n    }\n\n    return results;\n  }\n});\n\n// Error Bounds\njStat.extend({\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  normalci: function normalci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.normal.inv(args[1] / 2, 0, 1) *\n                        jStat.stdev(args[2]) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  // 2 different parameter setups\n  // (value, alpha, sd, n)\n  // (value, alpha, array)\n  tci: function tci() {\n    var args = slice.call(arguments),\n    ans = new Array(2),\n    change;\n    if (args.length === 4) {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[3] - 1) *\n                        args[2] / Math.sqrt(args[3]));\n    } else {\n      change = Math.abs(jStat.studentt.inv(args[1] / 2, args[2].length - 1) *\n                        jStat.stdev(args[2], true) / Math.sqrt(args[2].length));\n    }\n    ans[0] = args[0] - change;\n    ans[1] = args[0] + change;\n    return ans;\n  },\n\n  significant: function significant(pvalue, alpha) {\n    return pvalue < alpha;\n  }\n});\n\njStat.extend(jStat.fn, {\n  normalci: function normalci(value, alpha) {\n    return jStat.normalci(value, alpha, this.toArray());\n  },\n\n  tci: function tci(value, alpha) {\n    return jStat.tci(value, alpha, this.toArray());\n  }\n});\n\n// internal method for calculating the z-score for a difference of proportions test\nfunction differenceOfProportions(p1, n1, p2, n2) {\n  if (p1 > 1 || p2 > 1 || p1 <= 0 || p2 <= 0) {\n    throw new Error(\"Proportions should be greater than 0 and less than 1\")\n  }\n  var pooled = (p1 * n1 + p2 * n2) / (n1 + n2);\n  var se = Math.sqrt(pooled * (1 - pooled) * ((1/n1) + (1/n2)));\n  return (p1 - p2) / se;\n}\n\n// Difference of Proportions\njStat.extend(jStat.fn, {\n  oneSidedDifferenceOfProportions: function oneSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 1);\n  },\n\n  twoSidedDifferenceOfProportions: function twoSidedDifferenceOfProportions(p1, n1, p2, n2) {\n    var z = differenceOfProportions(p1, n1, p2, n2);\n    return jStat.ztest(z, 2);\n  }\n});\n\n}(jStat, Math));\njStat.models = (function(){\n  function sub_regress(exog) {\n    var var_count = exog[0].length;\n    var modelList = jStat.arange(var_count).map(function(endog_index) {\n      var exog_index =\n          jStat.arange(var_count).filter(function(i){return i!==endog_index});\n      return ols(jStat.col(exog, endog_index).map(function(x){ return x[0] }),\n                 jStat.col(exog, exog_index))\n    });\n    return modelList;\n  }\n\n  // do OLS model regress\n  // exog have include const columns ,it will not generate it .In fact, exog is\n  // \"design matrix\" look at\n  //https://en.wikipedia.org/wiki/Design_matrix\n  function ols(endog, exog) {\n    var nobs = endog.length;\n    var df_model = exog[0].length - 1;\n    var df_resid = nobs-df_model - 1;\n    var coef = jStat.lstsq(exog, endog);\n    var predict =\n        jStat.multiply(exog, coef.map(function(x) { return [x] }))\n            .map(function(p) { return p[0] });\n    var resid = jStat.subtract(endog, predict);\n    var ybar = jStat.mean(endog);\n    // constant cause problem\n    // var SST = jStat.sum(endog.map(function(y) {\n    //   return Math.pow(y-ybar,2);\n    // }));\n    var SSE = jStat.sum(predict.map(function(f) {\n      return Math.pow(f - ybar, 2);\n    }));\n    var SSR = jStat.sum(endog.map(function(y, i) {\n      return Math.pow(y - predict[i], 2);\n    }));\n    var SST = SSE + SSR;\n    var R2 = (SSE / SST);\n    return {\n        exog:exog,\n        endog:endog,\n        nobs:nobs,\n        df_model:df_model,\n        df_resid:df_resid,\n        coef:coef,\n        predict:predict,\n        resid:resid,\n        ybar:ybar,\n        SST:SST,\n        SSE:SSE,\n        SSR:SSR,\n        R2:R2\n    };\n  }\n\n  // H0: b_I=0\n  // H1: b_I!=0\n  function t_test(model) {\n    var subModelList = sub_regress(model.exog);\n    //var sigmaHat=jStat.stdev(model.resid);\n    var sigmaHat = Math.sqrt(model.SSR / (model.df_resid));\n    var seBetaHat = subModelList.map(function(mod) {\n      var SST = mod.SST;\n      var R2 = mod.R2;\n      return sigmaHat / Math.sqrt(SST * (1 - R2));\n    });\n    var tStatistic = model.coef.map(function(coef, i) {\n      return (coef - 0) / seBetaHat[i];\n    });\n    var pValue = tStatistic.map(function(t) {\n      var leftppf = jStat.studentt.cdf(t, model.df_resid);\n      return (leftppf > 0.5 ? 1 - leftppf : leftppf) * 2;\n    });\n    var c = jStat.studentt.inv(0.975, model.df_resid);\n    var interval95 = model.coef.map(function(coef, i) {\n      var d = c * seBetaHat[i];\n      return [coef - d, coef + d];\n    })\n    return {\n        se: seBetaHat,\n        t: tStatistic,\n        p: pValue,\n        sigmaHat: sigmaHat,\n        interval95: interval95\n    };\n  }\n\n  function F_test(model) {\n    var F_statistic =\n        (model.R2 / model.df_model) / ((1 - model.R2) / model.df_resid);\n    var fcdf = function(x, n1, n2) {\n      return jStat.beta.cdf(x / (n2 / n1 + x), n1 / 2, n2 / 2)\n    }\n    var pvalue = 1 - fcdf(F_statistic, model.df_model, model.df_resid);\n    return { F_statistic: F_statistic, pvalue: pvalue };\n  }\n\n  function ols_wrap(endog, exog) {\n    var model = ols(endog,exog);\n    var ttest = t_test(model);\n    var ftest = F_test(model);\n    // Provide the Wherry / Ezekiel / McNemar / Cohen Adjusted R^2\n    // Which matches the 'adjusted R^2' provided by R's lm package\n    var adjust_R2 =\n        1 - (1 - model.R2) * ((model.nobs - 1) / (model.df_resid));\n    model.t = ttest;\n    model.f = ftest;\n    model.adjust_R2 = adjust_R2;\n    return model;\n  }\n\n  return { ols: ols_wrap };\n})();\n//To regress, simply build X matrix\n//(append column of 1's) using\n//buildxmatrix and build the Y\n//matrix using buildymatrix\n//(simply the transpose)\n//and run regress.\n\n\n\n//Regressions\n\njStat.extend({\n  buildxmatrix: function buildxmatrix(){\n    //Parameters will be passed in as such\n    //(array1,array2,array3,...)\n    //as (x1,x2,x3,...)\n    //needs to be (1,x1,x2,x3,...)\n    var matrixRows = new Array(arguments.length);\n    for(var i=0;i<arguments.length;i++){\n      var array = [1];\n      matrixRows[i]= array.concat(arguments[i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  builddxmatrix: function builddxmatrix() {\n    //Paramters will be passed in as such\n    //([array1,array2,...]\n    var matrixRows = new Array(arguments[0].length);\n    for(var i=0;i<arguments[0].length;i++){\n      var array = [1]\n      matrixRows[i]= array.concat(arguments[0][i]);\n    }\n    return jStat(matrixRows);\n\n  },\n\n  buildjxmatrix: function buildjxmatrix(jMat) {\n    //Builds from jStat Matrix\n    var pass = new Array(jMat.length)\n    for(var i=0;i<jMat.length;i++){\n      pass[i] = jMat[i];\n    }\n    return jStat.builddxmatrix(pass);\n\n  },\n\n  buildymatrix: function buildymatrix(array){\n    return jStat(array).transpose();\n  },\n\n  buildjymatrix: function buildjymatrix(jMat){\n    return jMat.transpose();\n  },\n\n  matrixmult: function matrixmult(A,B){\n    var i, j, k, result, sum;\n    if (A.cols() == B.rows()) {\n      if(B.rows()>1){\n        result = [];\n        for (i = 0; i < A.rows(); i++) {\n          result[i] = [];\n          for (j = 0; j < B.cols(); j++) {\n            sum = 0;\n            for (k = 0; k < A.cols(); k++) {\n              sum += A.toArray()[i][k] * B.toArray()[k][j];\n            }\n            result[i][j] = sum;\n          }\n        }\n        return jStat(result);\n      }\n      result = [];\n      for (i = 0; i < A.rows(); i++) {\n        result[i] = [];\n        for (j = 0; j < B.cols(); j++) {\n          sum = 0;\n          for (k = 0; k < A.cols(); k++) {\n            sum += A.toArray()[i][k] * B.toArray()[j];\n          }\n          result[i][j] = sum;\n        }\n      }\n      return jStat(result);\n    }\n  },\n\n  //regress and regresst to be fixed\n\n  regress: function regress(jMatX,jMatY){\n    //print(\"regressin!\");\n    //print(jMatX.toArray());\n    var innerinv = jStat.xtranspxinv(jMatX);\n    //print(innerinv);\n    var xtransp = jMatX.transpose();\n    var next = jStat.matrixmult(jStat(innerinv),xtransp);\n    return jStat.matrixmult(next,jMatY);\n\n  },\n\n  regresst: function regresst(jMatX,jMatY,sides){\n    var beta = jStat.regress(jMatX,jMatY);\n\n    var compile = {};\n    compile.anova = {};\n    var jMatYBar = jStat.jMatYBar(jMatX, beta);\n    compile.yBar = jMatYBar;\n    var yAverage = jMatY.mean();\n    compile.anova.residuals = jStat.residuals(jMatY, jMatYBar);\n\n    compile.anova.ssr = jStat.ssr(jMatYBar, yAverage);\n    compile.anova.msr = compile.anova.ssr / (jMatX[0].length - 1);\n\n    compile.anova.sse = jStat.sse(jMatY, jMatYBar);\n    compile.anova.mse =\n        compile.anova.sse / (jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.sst = jStat.sst(jMatY, yAverage);\n    compile.anova.mst = compile.anova.sst / (jMatY.length - 1);\n\n    compile.anova.r2 = 1 - (compile.anova.sse / compile.anova.sst);\n    if (compile.anova.r2 < 0) compile.anova.r2 = 0;\n\n    compile.anova.fratio = compile.anova.msr / compile.anova.mse;\n    compile.anova.pvalue =\n        jStat.anovaftest(compile.anova.fratio,\n                         jMatX[0].length - 1,\n                         jMatY.length - (jMatX[0].length - 1) - 1);\n\n    compile.anova.rmse = Math.sqrt(compile.anova.mse);\n\n    compile.anova.r2adj = 1 - (compile.anova.mse / compile.anova.mst);\n    if (compile.anova.r2adj < 0) compile.anova.r2adj = 0;\n\n    compile.stats = new Array(jMatX[0].length);\n    var covar = jStat.xtranspxinv(jMatX);\n    var sds, ts, ps;\n\n    for(var i=0; i<beta.length;i++){\n      sds=Math.sqrt(compile.anova.mse * Math.abs(covar[i][i]));\n      ts= Math.abs(beta[i] / sds);\n      ps= jStat.ttest(ts, jMatY.length - jMatX[0].length - 1, sides);\n\n      compile.stats[i]=[beta[i], sds, ts, ps];\n    }\n\n    compile.regress = beta;\n    return compile;\n  },\n\n  xtranspx: function xtranspx(jMatX){\n    return jStat.matrixmult(jMatX.transpose(),jMatX);\n  },\n\n\n  xtranspxinv: function xtranspxinv(jMatX){\n    var inner = jStat.matrixmult(jMatX.transpose(),jMatX);\n    var innerinv = jStat.inv(inner);\n    return innerinv;\n  },\n\n  jMatYBar: function jMatYBar(jMatX, beta) {\n    var yBar = jStat.matrixmult(jMatX, beta);\n    return new jStat(yBar);\n  },\n\n  residuals: function residuals(jMatY, jMatYBar) {\n    return jStat.matrixsubtract(jMatY, jMatYBar);\n  },\n\n  ssr: function ssr(jMatYBar, yAverage) {\n    var ssr = 0;\n    for(var i = 0; i < jMatYBar.length; i++) {\n      ssr += Math.pow(jMatYBar[i] - yAverage, 2);\n    }\n    return ssr;\n  },\n\n  sse: function sse(jMatY, jMatYBar) {\n    var sse = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sse += Math.pow(jMatY[i] - jMatYBar[i], 2);\n    }\n    return sse;\n  },\n\n  sst: function sst(jMatY, yAverage) {\n    var sst = 0;\n    for(var i = 0; i < jMatY.length; i++) {\n      sst += Math.pow(jMatY[i] - yAverage, 2);\n    }\n    return sst;\n  },\n\n  matrixsubtract: function matrixsubtract(A,B){\n    var ans = new Array(A.length);\n    for(var i=0;i<A.length;i++){\n      ans[i] = new Array(A[i].length);\n      for(var j=0;j<A[i].length;j++){\n        ans[i][j]=A[i][j]-B[i][j];\n      }\n    }\n    return jStat(ans);\n  }\n});\n  // Make it compatible with previous version.\n  jStat.jStat = jStat;\n\n  return jStat;\n});\n","/*!\n * chai\n * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Dependencies that are used for multiple exports are required here only once\n */\n\nvar pathval = require('pathval');\n\n/*!\n * test utility\n */\n\nexports.test = require('./test');\n\n/*!\n * type utility\n */\n\nexports.type = require('type-detect');\n\n/*!\n * expectTypes utility\n */\nexports.expectTypes = require('./expectTypes');\n\n/*!\n * message utility\n */\n\nexports.getMessage = require('./getMessage');\n\n/*!\n * actual utility\n */\n\nexports.getActual = require('./getActual');\n\n/*!\n * Inspect util\n */\n\nexports.inspect = require('./inspect');\n\n/*!\n * Object Display util\n */\n\nexports.objDisplay = require('./objDisplay');\n\n/*!\n * Flag utility\n */\n\nexports.flag = require('./flag');\n\n/*!\n * Flag transferring utility\n */\n\nexports.transferFlags = require('./transferFlags');\n\n/*!\n * Deep equal utility\n */\n\nexports.eql = require('deep-eql');\n\n/*!\n * Deep path info\n */\n\nexports.getPathInfo = pathval.getPathInfo;\n\n/*!\n * Check if a property exists\n */\n\nexports.hasProperty = pathval.hasProperty;\n\n/*!\n * Function name\n */\n\nexports.getName = require('get-func-name');\n\n/*!\n * add Property\n */\n\nexports.addProperty = require('./addProperty');\n\n/*!\n * add Method\n */\n\nexports.addMethod = require('./addMethod');\n\n/*!\n * overwrite Property\n */\n\nexports.overwriteProperty = require('./overwriteProperty');\n\n/*!\n * overwrite Method\n */\n\nexports.overwriteMethod = require('./overwriteMethod');\n\n/*!\n * Add a chainable method\n */\n\nexports.addChainableMethod = require('./addChainableMethod');\n\n/*!\n * Overwrite chainable method\n */\n\nexports.overwriteChainableMethod = require('./overwriteChainableMethod');\n\n/*!\n * Compare by inspect method\n */\n\nexports.compareByInspect = require('./compareByInspect');\n\n/*!\n * Get own enumerable property symbols method\n */\n\nexports.getOwnEnumerablePropertySymbols = require('./getOwnEnumerablePropertySymbols');\n\n/*!\n * Get own enumerable properties method\n */\n\nexports.getOwnEnumerableProperties = require('./getOwnEnumerableProperties');\n\n/*!\n * Checks error against a given set of criteria\n */\n\nexports.checkError = require('check-error');\n\n/*!\n * Proxify util\n */\n\nexports.proxify = require('./proxify');\n\n/*!\n * addLengthGuard util\n */\n\nexports.addLengthGuard = require('./addLengthGuard');\n\n/*!\n * isProxyEnabled helper\n */\n\nexports.isProxyEnabled = require('./isProxyEnabled');\n\n/*!\n * isNaN method\n */\n\nexports.isNaN = require('./isNaN');\n","'use strict';\n\n/* !\n * Chai - pathval utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * @see https://github.com/logicalparadox/filtr\n * MIT Licensed\n */\n\n/**\n * ### .hasProperty(object, name)\n *\n * This allows checking whether an object has own\n * or inherited from prototype chain named property.\n *\n * Basically does the same thing as the `in`\n * operator but works properly with null/undefined values\n * and other primitives.\n *\n *     var obj = {\n *         arr: ['a', 'b', 'c']\n *       , str: 'Hello'\n *     }\n *\n * The following would be the results.\n *\n *     hasProperty(obj, 'str');  // true\n *     hasProperty(obj, 'constructor');  // true\n *     hasProperty(obj, 'bar');  // false\n *\n *     hasProperty(obj.str, 'length'); // true\n *     hasProperty(obj.str, 1);  // true\n *     hasProperty(obj.str, 5);  // false\n *\n *     hasProperty(obj.arr, 'length');  // true\n *     hasProperty(obj.arr, 2);  // true\n *     hasProperty(obj.arr, 3);  // false\n *\n * @param {Object} object\n * @param {String|Symbol} name\n * @returns {Boolean} whether it exists\n * @namespace Utils\n * @name hasProperty\n * @api public\n */\n\nfunction hasProperty(obj, name) {\n  if (typeof obj === 'undefined' || obj === null) {\n    return false;\n  }\n\n  // The `in` operator does not work with primitives.\n  return name in Object(obj);\n}\n\n/* !\n * ## parsePath(path)\n *\n * Helper function used to parse string object\n * paths. Use in conjunction with `internalGetPathValue`.\n *\n *      var parsed = parsePath('myobject.property.subprop');\n *\n * ### Paths:\n *\n * * Can be infinitely deep and nested.\n * * Arrays are also valid using the formal `myobject.document[3].property`.\n * * Literal dots and brackets (not delimiter) must be backslash-escaped.\n *\n * @param {String} path\n * @returns {Object} parsed\n * @api private\n */\n\nfunction parsePath(path) {\n  var str = path.replace(/([^\\\\])\\[/g, '$1.[');\n  var parts = str.match(/(\\\\\\.|[^.]+?)+/g);\n  return parts.map(function mapMatches(value) {\n    var regexp = /^\\[(\\d+)\\]$/;\n    var mArr = regexp.exec(value);\n    var parsed = null;\n    if (mArr) {\n      parsed = { i: parseFloat(mArr[1]) };\n    } else {\n      parsed = { p: value.replace(/\\\\([.\\[\\]])/g, '$1') };\n    }\n\n    return parsed;\n  });\n}\n\n/* !\n * ## internalGetPathValue(obj, parsed[, pathDepth])\n *\n * Helper companion function for `.parsePath` that returns\n * the value located at the parsed address.\n *\n *      var value = getPathValue(obj, parsed);\n *\n * @param {Object} object to search against\n * @param {Object} parsed definition from `parsePath`.\n * @param {Number} depth (nesting level) of the property we want to retrieve\n * @returns {Object|Undefined} value\n * @api private\n */\n\nfunction internalGetPathValue(obj, parsed, pathDepth) {\n  var temporaryValue = obj;\n  var res = null;\n  pathDepth = (typeof pathDepth === 'undefined' ? parsed.length : pathDepth);\n\n  for (var i = 0; i < pathDepth; i++) {\n    var part = parsed[i];\n    if (temporaryValue) {\n      if (typeof part.p === 'undefined') {\n        temporaryValue = temporaryValue[part.i];\n      } else {\n        temporaryValue = temporaryValue[part.p];\n      }\n\n      if (i === (pathDepth - 1)) {\n        res = temporaryValue;\n      }\n    }\n  }\n\n  return res;\n}\n\n/* !\n * ## internalSetPathValue(obj, value, parsed)\n *\n * Companion function for `parsePath` that sets\n * the value located at a parsed address.\n *\n *  internalSetPathValue(obj, 'value', parsed);\n *\n * @param {Object} object to search and define on\n * @param {*} value to use upon set\n * @param {Object} parsed definition from `parsePath`\n * @api private\n */\n\nfunction internalSetPathValue(obj, val, parsed) {\n  var tempObj = obj;\n  var pathDepth = parsed.length;\n  var part = null;\n  // Here we iterate through every part of the path\n  for (var i = 0; i < pathDepth; i++) {\n    var propName = null;\n    var propVal = null;\n    part = parsed[i];\n\n    // If it's the last part of the path, we set the 'propName' value with the property name\n    if (i === (pathDepth - 1)) {\n      propName = typeof part.p === 'undefined' ? part.i : part.p;\n      // Now we set the property with the name held by 'propName' on object with the desired val\n      tempObj[propName] = val;\n    } else if (typeof part.p !== 'undefined' && tempObj[part.p]) {\n      tempObj = tempObj[part.p];\n    } else if (typeof part.i !== 'undefined' && tempObj[part.i]) {\n      tempObj = tempObj[part.i];\n    } else {\n      // If the obj doesn't have the property we create one with that name to define it\n      var next = parsed[i + 1];\n      // Here we set the name of the property which will be defined\n      propName = typeof part.p === 'undefined' ? part.i : part.p;\n      // Here we decide if this property will be an array or a new object\n      propVal = typeof next.p === 'undefined' ? [] : {};\n      tempObj[propName] = propVal;\n      tempObj = tempObj[propName];\n    }\n  }\n}\n\n/**\n * ### .getPathInfo(object, path)\n *\n * This allows the retrieval of property info in an\n * object given a string path.\n *\n * The path info consists of an object with the\n * following properties:\n *\n * * parent - The parent object of the property referenced by `path`\n * * name - The name of the final property, a number if it was an array indexer\n * * value - The value of the property, if it exists, otherwise `undefined`\n * * exists - Whether the property exists or not\n *\n * @param {Object} object\n * @param {String} path\n * @returns {Object} info\n * @namespace Utils\n * @name getPathInfo\n * @api public\n */\n\nfunction getPathInfo(obj, path) {\n  var parsed = parsePath(path);\n  var last = parsed[parsed.length - 1];\n  var info = {\n    parent: parsed.length > 1 ? internalGetPathValue(obj, parsed, parsed.length - 1) : obj,\n    name: last.p || last.i,\n    value: internalGetPathValue(obj, parsed),\n  };\n  info.exists = hasProperty(info.parent, info.name);\n\n  return info;\n}\n\n/**\n * ### .getPathValue(object, path)\n *\n * This allows the retrieval of values in an\n * object given a string path.\n *\n *     var obj = {\n *         prop1: {\n *             arr: ['a', 'b', 'c']\n *           , str: 'Hello'\n *         }\n *       , prop2: {\n *             arr: [ { nested: 'Universe' } ]\n *           , str: 'Hello again!'\n *         }\n *     }\n *\n * The following would be the results.\n *\n *     getPathValue(obj, 'prop1.str'); // Hello\n *     getPathValue(obj, 'prop1.att[2]'); // b\n *     getPathValue(obj, 'prop2.arr[0].nested'); // Universe\n *\n * @param {Object} object\n * @param {String} path\n * @returns {Object} value or `undefined`\n * @namespace Utils\n * @name getPathValue\n * @api public\n */\n\nfunction getPathValue(obj, path) {\n  var info = getPathInfo(obj, path);\n  return info.value;\n}\n\n/**\n * ### .setPathValue(object, path, value)\n *\n * Define the value in an object at a given string path.\n *\n * ```js\n * var obj = {\n *     prop1: {\n *         arr: ['a', 'b', 'c']\n *       , str: 'Hello'\n *     }\n *   , prop2: {\n *         arr: [ { nested: 'Universe' } ]\n *       , str: 'Hello again!'\n *     }\n * };\n * ```\n *\n * The following would be acceptable.\n *\n * ```js\n * var properties = require('tea-properties');\n * properties.set(obj, 'prop1.str', 'Hello Universe!');\n * properties.set(obj, 'prop1.arr[2]', 'B');\n * properties.set(obj, 'prop2.arr[0].nested.value', { hello: 'universe' });\n * ```\n *\n * @param {Object} object\n * @param {String} path\n * @param {Mixed} value\n * @api private\n */\n\nfunction setPathValue(obj, path, val) {\n  var parsed = parsePath(path);\n  internalSetPathValue(obj, val, parsed);\n  return obj;\n}\n\nmodule.exports = {\n  hasProperty: hasProperty,\n  getPathInfo: getPathInfo,\n  getPathValue: getPathValue,\n  setPathValue: setPathValue,\n};\n","/*!\n * Chai - test utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar flag = require('./flag');\n\n/**\n * ### .test(object, expression)\n *\n * Test and object for expression.\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name test\n */\n\nmodule.exports = function test(obj, args) {\n  var negate = flag(obj, 'negate')\n    , expr = args[0];\n  return negate ? !expr : expr;\n};\n","/*!\n * Chai - expectTypes utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .expectTypes(obj, types)\n *\n * Ensures that the object being tested against is of a valid type.\n *\n *     utils.expectTypes(this, ['array', 'object', 'string']);\n *\n * @param {Mixed} obj constructed Assertion\n * @param {Array} type A list of allowed types for this assertion\n * @namespace Utils\n * @name expectTypes\n * @api public\n */\n\nvar AssertionError = require('assertion-error');\nvar flag = require('./flag');\nvar type = require('type-detect');\n\nmodule.exports = function expectTypes(obj, types) {\n  var flagMsg = flag(obj, 'message');\n  var ssfi = flag(obj, 'ssfi');\n\n  flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n  obj = flag(obj, 'object');\n  types = types.map(function (t) { return t.toLowerCase(); });\n  types.sort();\n\n  // Transforms ['lorem', 'ipsum'] into 'a lorem, or an ipsum'\n  var str = types.map(function (t, index) {\n    var art = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(t.charAt(0)) ? 'an' : 'a';\n    var or = types.length > 1 && index === types.length - 1 ? 'or ' : '';\n    return or + art + ' ' + t;\n  }).join(', ');\n\n  var objType = type(obj).toLowerCase();\n\n  if (!types.some(function (expected) { return objType === expected; })) {\n    throw new AssertionError(\n      flagMsg + 'object tested must be ' + str + ', but ' + objType + ' given',\n      undefined,\n      ssfi\n    );\n  }\n};\n","/*!\n * Chai - message composition utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar flag = require('./flag')\n  , getActual = require('./getActual')\n  , objDisplay = require('./objDisplay');\n\n/**\n * ### .getMessage(object, message, negateMessage)\n *\n * Construct the error message based on flags\n * and template tags. Template tags will return\n * a stringified inspection of the object referenced.\n *\n * Message template tags:\n * - `#{this}` current asserted object\n * - `#{act}` actual value\n * - `#{exp}` expected value\n *\n * @param {Object} object (constructed Assertion)\n * @param {Arguments} chai.Assertion.prototype.assert arguments\n * @namespace Utils\n * @name getMessage\n * @api public\n */\n\nmodule.exports = function getMessage(obj, args) {\n  var negate = flag(obj, 'negate')\n    , val = flag(obj, 'object')\n    , expected = args[3]\n    , actual = getActual(obj, args)\n    , msg = negate ? args[2] : args[1]\n    , flagMsg = flag(obj, 'message');\n\n  if(typeof msg === \"function\") msg = msg();\n  msg = msg || '';\n  msg = msg\n    .replace(/#\\{this\\}/g, function () { return objDisplay(val); })\n    .replace(/#\\{act\\}/g, function () { return objDisplay(actual); })\n    .replace(/#\\{exp\\}/g, function () { return objDisplay(expected); });\n\n  return flagMsg ? flagMsg + ': ' + msg : msg;\n};\n","/*!\n * Chai - getEnumerableProperties utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .getEnumerableProperties(object)\n *\n * This allows the retrieval of enumerable property names of an object,\n * inherited or not.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getEnumerableProperties(object) {\n  var result = [];\n  for (var name in object) {\n    result.push(name);\n  }\n  return result;\n};\n","'use strict';\n/* globals Symbol: false, Uint8Array: false, WeakMap: false */\n/*!\n * deep-eql\n * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar type = require('type-detect');\nfunction FakeMap() {\n  this._key = 'chai/deep-eql__' + Math.random() + Date.now();\n}\n\nFakeMap.prototype = {\n  get: function getMap(key) {\n    return key[this._key];\n  },\n  set: function setMap(key, value) {\n    if (Object.isExtensible(key)) {\n      Object.defineProperty(key, this._key, {\n        value: value,\n        configurable: true,\n      });\n    }\n  },\n};\n\nvar MemoizeMap = typeof WeakMap === 'function' ? WeakMap : FakeMap;\n/*!\n * Check to see if the MemoizeMap has recorded a result of the two operands\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {MemoizeMap} memoizeMap\n * @returns {Boolean|null} result\n*/\nfunction memoizeCompare(leftHandOperand, rightHandOperand, memoizeMap) {\n  // Technically, WeakMap keys can *only* be objects, not primitives.\n  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    return null;\n  }\n  var leftHandMap = memoizeMap.get(leftHandOperand);\n  if (leftHandMap) {\n    var result = leftHandMap.get(rightHandOperand);\n    if (typeof result === 'boolean') {\n      return result;\n    }\n  }\n  return null;\n}\n\n/*!\n * Set the result of the equality into the MemoizeMap\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {MemoizeMap} memoizeMap\n * @param {Boolean} result\n*/\nfunction memoizeSet(leftHandOperand, rightHandOperand, memoizeMap, result) {\n  // Technically, WeakMap keys can *only* be objects, not primitives.\n  if (!memoizeMap || isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    return;\n  }\n  var leftHandMap = memoizeMap.get(leftHandOperand);\n  if (leftHandMap) {\n    leftHandMap.set(rightHandOperand, result);\n  } else {\n    leftHandMap = new MemoizeMap();\n    leftHandMap.set(rightHandOperand, result);\n    memoizeMap.set(leftHandOperand, leftHandMap);\n  }\n}\n\n/*!\n * Primary Export\n */\n\nmodule.exports = deepEqual;\nmodule.exports.MemoizeMap = MemoizeMap;\n\n/**\n * Assert deeply nested sameValue equality between two objects of any type.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (optional) Additional options\n * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.\n * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of\n    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular\n    references to blow the stack.\n * @return {Boolean} equal match\n */\nfunction deepEqual(leftHandOperand, rightHandOperand, options) {\n  // If we have a comparator, we can't assume anything; so bail to its check first.\n  if (options && options.comparator) {\n    return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);\n  }\n\n  var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);\n  if (simpleResult !== null) {\n    return simpleResult;\n  }\n\n  // Deeper comparisons are pushed through to a larger function\n  return extensiveDeepEqual(leftHandOperand, rightHandOperand, options);\n}\n\n/**\n * Many comparisons can be canceled out early via simple equality or primitive checks.\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @return {Boolean|null} equal match\n */\nfunction simpleEqual(leftHandOperand, rightHandOperand) {\n  // Equal references (except for Numbers) can be returned early\n  if (leftHandOperand === rightHandOperand) {\n    // Handle +-0 cases\n    return leftHandOperand !== 0 || 1 / leftHandOperand === 1 / rightHandOperand;\n  }\n\n  // handle NaN cases\n  if (\n    leftHandOperand !== leftHandOperand && // eslint-disable-line no-self-compare\n    rightHandOperand !== rightHandOperand // eslint-disable-line no-self-compare\n  ) {\n    return true;\n  }\n\n  // Anything that is not an 'object', i.e. symbols, functions, booleans, numbers,\n  // strings, and undefined, can be compared by reference.\n  if (isPrimitive(leftHandOperand) || isPrimitive(rightHandOperand)) {\n    // Easy out b/c it would have passed the first equality check\n    return false;\n  }\n  return null;\n}\n\n/*!\n * The main logic of the `deepEqual` function.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (optional) Additional options\n * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.\n * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of\n    complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular\n    references to blow the stack.\n * @return {Boolean} equal match\n*/\nfunction extensiveDeepEqual(leftHandOperand, rightHandOperand, options) {\n  options = options || {};\n  options.memoize = options.memoize === false ? false : options.memoize || new MemoizeMap();\n  var comparator = options && options.comparator;\n\n  // Check if a memoized result exists.\n  var memoizeResultLeft = memoizeCompare(leftHandOperand, rightHandOperand, options.memoize);\n  if (memoizeResultLeft !== null) {\n    return memoizeResultLeft;\n  }\n  var memoizeResultRight = memoizeCompare(rightHandOperand, leftHandOperand, options.memoize);\n  if (memoizeResultRight !== null) {\n    return memoizeResultRight;\n  }\n\n  // If a comparator is present, use it.\n  if (comparator) {\n    var comparatorResult = comparator(leftHandOperand, rightHandOperand);\n    // Comparators may return null, in which case we want to go back to default behavior.\n    if (comparatorResult === false || comparatorResult === true) {\n      memoizeSet(leftHandOperand, rightHandOperand, options.memoize, comparatorResult);\n      return comparatorResult;\n    }\n    // To allow comparators to override *any* behavior, we ran them first. Since it didn't decide\n    // what to do, we need to make sure to return the basic tests first before we move on.\n    var simpleResult = simpleEqual(leftHandOperand, rightHandOperand);\n    if (simpleResult !== null) {\n      // Don't memoize this, it takes longer to set/retrieve than to just compare.\n      return simpleResult;\n    }\n  }\n\n  var leftHandType = type(leftHandOperand);\n  if (leftHandType !== type(rightHandOperand)) {\n    memoizeSet(leftHandOperand, rightHandOperand, options.memoize, false);\n    return false;\n  }\n\n  // Temporarily set the operands in the memoize object to prevent blowing the stack\n  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, true);\n\n  var result = extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options);\n  memoizeSet(leftHandOperand, rightHandOperand, options.memoize, result);\n  return result;\n}\n\nfunction extensiveDeepEqualByType(leftHandOperand, rightHandOperand, leftHandType, options) {\n  switch (leftHandType) {\n    case 'String':\n    case 'Number':\n    case 'Boolean':\n    case 'Date':\n      // If these types are their instance types (e.g. `new Number`) then re-deepEqual against their values\n      return deepEqual(leftHandOperand.valueOf(), rightHandOperand.valueOf());\n    case 'Promise':\n    case 'Symbol':\n    case 'function':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Error':\n      return leftHandOperand === rightHandOperand;\n    case 'Arguments':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'Array':\n      return iterableEqual(leftHandOperand, rightHandOperand, options);\n    case 'RegExp':\n      return regexpEqual(leftHandOperand, rightHandOperand);\n    case 'Generator':\n      return generatorEqual(leftHandOperand, rightHandOperand, options);\n    case 'DataView':\n      return iterableEqual(new Uint8Array(leftHandOperand.buffer), new Uint8Array(rightHandOperand.buffer), options);\n    case 'ArrayBuffer':\n      return iterableEqual(new Uint8Array(leftHandOperand), new Uint8Array(rightHandOperand), options);\n    case 'Set':\n      return entriesEqual(leftHandOperand, rightHandOperand, options);\n    case 'Map':\n      return entriesEqual(leftHandOperand, rightHandOperand, options);\n    default:\n      return objectEqual(leftHandOperand, rightHandOperand, options);\n  }\n}\n\n/*!\n * Compare two Regular Expressions for equality.\n *\n * @param {RegExp} leftHandOperand\n * @param {RegExp} rightHandOperand\n * @return {Boolean} result\n */\n\nfunction regexpEqual(leftHandOperand, rightHandOperand) {\n  return leftHandOperand.toString() === rightHandOperand.toString();\n}\n\n/*!\n * Compare two Sets/Maps for equality. Faster than other equality functions.\n *\n * @param {Set} leftHandOperand\n * @param {Set} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction entriesEqual(leftHandOperand, rightHandOperand, options) {\n  // IE11 doesn't support Set#entries or Set#@@iterator, so we need manually populate using Set#forEach\n  if (leftHandOperand.size !== rightHandOperand.size) {\n    return false;\n  }\n  if (leftHandOperand.size === 0) {\n    return true;\n  }\n  var leftHandItems = [];\n  var rightHandItems = [];\n  leftHandOperand.forEach(function gatherEntries(key, value) {\n    leftHandItems.push([ key, value ]);\n  });\n  rightHandOperand.forEach(function gatherEntries(key, value) {\n    rightHandItems.push([ key, value ]);\n  });\n  return iterableEqual(leftHandItems.sort(), rightHandItems.sort(), options);\n}\n\n/*!\n * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.\n *\n * @param {Iterable} leftHandOperand\n * @param {Iterable} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction iterableEqual(leftHandOperand, rightHandOperand, options) {\n  var length = leftHandOperand.length;\n  if (length !== rightHandOperand.length) {\n    return false;\n  }\n  if (length === 0) {\n    return true;\n  }\n  var index = -1;\n  while (++index < length) {\n    if (deepEqual(leftHandOperand[index], rightHandOperand[index], options) === false) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*!\n * Simple equality for generator objects such as those returned by generator functions.\n *\n * @param {Iterable} leftHandOperand\n * @param {Iterable} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction generatorEqual(leftHandOperand, rightHandOperand, options) {\n  return iterableEqual(getGeneratorEntries(leftHandOperand), getGeneratorEntries(rightHandOperand), options);\n}\n\n/*!\n * Determine if the given object has an @@iterator function.\n *\n * @param {Object} target\n * @return {Boolean} `true` if the object has an @@iterator function.\n */\nfunction hasIteratorFunction(target) {\n  return typeof Symbol !== 'undefined' &&\n    typeof target === 'object' &&\n    typeof Symbol.iterator !== 'undefined' &&\n    typeof target[Symbol.iterator] === 'function';\n}\n\n/*!\n * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.\n * This will consume the iterator - which could have side effects depending on the @@iterator implementation.\n *\n * @param {Object} target\n * @returns {Array} an array of entries from the @@iterator function\n */\nfunction getIteratorEntries(target) {\n  if (hasIteratorFunction(target)) {\n    try {\n      return getGeneratorEntries(target[Symbol.iterator]());\n    } catch (iteratorError) {\n      return [];\n    }\n  }\n  return [];\n}\n\n/*!\n * Gets all entries from a Generator. This will consume the generator - which could have side effects.\n *\n * @param {Generator} target\n * @returns {Array} an array of entries from the Generator.\n */\nfunction getGeneratorEntries(generator) {\n  var generatorResult = generator.next();\n  var accumulator = [ generatorResult.value ];\n  while (generatorResult.done === false) {\n    generatorResult = generator.next();\n    accumulator.push(generatorResult.value);\n  }\n  return accumulator;\n}\n\n/*!\n * Gets all own and inherited enumerable keys from a target.\n *\n * @param {Object} target\n * @returns {Array} an array of own and inherited enumerable keys from the target.\n */\nfunction getEnumerableKeys(target) {\n  var keys = [];\n  for (var key in target) {\n    keys.push(key);\n  }\n  return keys;\n}\n\n/*!\n * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of\n * each key. If any value of the given key is not equal, the function will return false (early).\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\nfunction keysEqual(leftHandOperand, rightHandOperand, keys, options) {\n  var length = keys.length;\n  if (length === 0) {\n    return true;\n  }\n  for (var i = 0; i < length; i += 1) {\n    if (deepEqual(leftHandOperand[keys[i]], rightHandOperand[keys[i]], options) === false) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/*!\n * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`\n * for each enumerable key in the object.\n *\n * @param {Mixed} leftHandOperand\n * @param {Mixed} rightHandOperand\n * @param {Object} [options] (Optional)\n * @return {Boolean} result\n */\n\nfunction objectEqual(leftHandOperand, rightHandOperand, options) {\n  var leftHandKeys = getEnumerableKeys(leftHandOperand);\n  var rightHandKeys = getEnumerableKeys(rightHandOperand);\n  if (leftHandKeys.length && leftHandKeys.length === rightHandKeys.length) {\n    leftHandKeys.sort();\n    rightHandKeys.sort();\n    if (iterableEqual(leftHandKeys, rightHandKeys) === false) {\n      return false;\n    }\n    return keysEqual(leftHandOperand, rightHandOperand, leftHandKeys, options);\n  }\n\n  var leftHandEntries = getIteratorEntries(leftHandOperand);\n  var rightHandEntries = getIteratorEntries(rightHandOperand);\n  if (leftHandEntries.length && leftHandEntries.length === rightHandEntries.length) {\n    leftHandEntries.sort();\n    rightHandEntries.sort();\n    return iterableEqual(leftHandEntries, rightHandEntries, options);\n  }\n\n  if (leftHandKeys.length === 0 &&\n      leftHandEntries.length === 0 &&\n      rightHandKeys.length === 0 &&\n      rightHandEntries.length === 0) {\n    return true;\n  }\n\n  return false;\n}\n\n/*!\n * Returns true if the argument is a primitive.\n *\n * This intentionally returns true for all objects that can be compared by reference,\n * including functions and symbols.\n *\n * @param {Mixed} value\n * @return {Boolean} result\n */\nfunction isPrimitive(value) {\n  return value === null || typeof value !== 'object';\n}\n","/*!\n * Chai - addProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar isProxyEnabled = require('./isProxyEnabled');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .addProperty(ctx, name, getter)\n *\n * Adds a property to the prototype of an object.\n *\n *     utils.addProperty(chai.Assertion.prototype, 'foo', function () {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.instanceof(Foo);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.foo;\n *\n * @param {Object} ctx object to which the property is added\n * @param {String} name of property to add\n * @param {Function} getter function to be used for name\n * @namespace Utils\n * @name addProperty\n * @api public\n */\n\nmodule.exports = function addProperty(ctx, name, getter) {\n  getter = getter === undefined ? function () {} : getter;\n\n  Object.defineProperty(ctx, name,\n    { get: function propertyGetter() {\n        // Setting the `ssfi` flag to `propertyGetter` causes this function to\n        // be the starting point for removing implementation frames from the\n        // stack trace of a failed assertion.\n        //\n        // However, we only want to use this function as the starting point if\n        // the `lockSsfi` flag isn't set and proxy protection is disabled.\n        //\n        // If the `lockSsfi` flag is set, then either this assertion has been\n        // overwritten by another assertion, or this assertion is being invoked\n        // from inside of another assertion. In the first case, the `ssfi` flag\n        // has already been set by the overwriting assertion. In the second\n        // case, the `ssfi` flag has already been set by the outer assertion.\n        //\n        // If proxy protection is enabled, then the `ssfi` flag has already been\n        // set by the proxy getter.\n        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {\n          flag(this, 'ssfi', propertyGetter);\n        }\n\n        var result = getter.call(this);\n        if (result !== undefined)\n          return result;\n\n        var newAssertion = new chai.Assertion();\n        transferFlags(this, newAssertion);\n        return newAssertion;\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - addMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .addMethod(ctx, name, method)\n *\n * Adds a method to the prototype of an object.\n *\n *     utils.addMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(fooStr).to.be.foo('bar');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for name\n * @namespace Utils\n * @name addMethod\n * @api public\n */\n\nmodule.exports = function addMethod(ctx, name, method) {\n  var methodWrapper = function () {\n    // Setting the `ssfi` flag to `methodWrapper` causes this function to be the\n    // starting point for removing implementation frames from the stack trace of\n    // a failed assertion.\n    //\n    // However, we only want to use this function as the starting point if the\n    // `lockSsfi` flag isn't set.\n    //\n    // If the `lockSsfi` flag is set, then either this assertion has been\n    // overwritten by another assertion, or this assertion is being invoked from\n    // inside of another assertion. In the first case, the `ssfi` flag has\n    // already been set by the overwriting assertion. In the second case, the\n    // `ssfi` flag has already been set by the outer assertion.\n    if (!flag(this, 'lockSsfi')) {\n      flag(this, 'ssfi', methodWrapper);\n    }\n\n    var result = method.apply(this, arguments);\n    if (result !== undefined)\n      return result;\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n\n  addLengthGuard(methodWrapper, name, false);\n  ctx[name] = proxify(methodWrapper, name);\n};\n","/*!\n * Chai - overwriteProperty utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar isProxyEnabled = require('./isProxyEnabled');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteProperty(ctx, name, fn)\n *\n * Overwrites an already existing property getter and provides\n * access to previous value. Must return function to use as getter.\n *\n *     utils.overwriteProperty(chai.Assertion.prototype, 'ok', function (_super) {\n *       return function () {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.name).to.equal('bar');\n *         } else {\n *           _super.call(this);\n *         }\n *       }\n *     });\n *\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteProperty('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.be.ok;\n *\n * @param {Object} ctx object whose property is to be overwritten\n * @param {String} name of property to overwrite\n * @param {Function} getter function that returns a getter function to be used for name\n * @namespace Utils\n * @name overwriteProperty\n * @api public\n */\n\nmodule.exports = function overwriteProperty(ctx, name, getter) {\n  var _get = Object.getOwnPropertyDescriptor(ctx, name)\n    , _super = function () {};\n\n  if (_get && 'function' === typeof _get.get)\n    _super = _get.get\n\n  Object.defineProperty(ctx, name,\n    { get: function overwritingPropertyGetter() {\n        // Setting the `ssfi` flag to `overwritingPropertyGetter` causes this\n        // function to be the starting point for removing implementation frames\n        // from the stack trace of a failed assertion.\n        //\n        // However, we only want to use this function as the starting point if\n        // the `lockSsfi` flag isn't set and proxy protection is disabled.\n        //\n        // If the `lockSsfi` flag is set, then either this assertion has been\n        // overwritten by another assertion, or this assertion is being invoked\n        // from inside of another assertion. In the first case, the `ssfi` flag\n        // has already been set by the overwriting assertion. In the second\n        // case, the `ssfi` flag has already been set by the outer assertion.\n        //\n        // If proxy protection is enabled, then the `ssfi` flag has already been\n        // set by the proxy getter.\n        if (!isProxyEnabled() && !flag(this, 'lockSsfi')) {\n          flag(this, 'ssfi', overwritingPropertyGetter);\n        }\n\n        // Setting the `lockSsfi` flag to `true` prevents the overwritten\n        // assertion from changing the `ssfi` flag. By this point, the `ssfi`\n        // flag is already set to the correct starting point for this assertion.\n        var origLockSsfi = flag(this, 'lockSsfi');\n        flag(this, 'lockSsfi', true);\n        var result = getter(_super).call(this);\n        flag(this, 'lockSsfi', origLockSsfi);\n\n        if (result !== undefined) {\n          return result;\n        }\n\n        var newAssertion = new chai.Assertion();\n        transferFlags(this, newAssertion);\n        return newAssertion;\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - overwriteMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteMethod(ctx, name, fn)\n *\n * Overwrites an already existing method and provides\n * access to previous function. Must return function\n * to be used for name.\n *\n *     utils.overwriteMethod(chai.Assertion.prototype, 'equal', function (_super) {\n *       return function (str) {\n *         var obj = utils.flag(this, 'object');\n *         if (obj instanceof Foo) {\n *           new chai.Assertion(obj.value).to.equal(str);\n *         } else {\n *           _super.apply(this, arguments);\n *         }\n *       }\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteMethod('foo', fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.equal('bar');\n *\n * @param {Object} ctx object whose method is to be overwritten\n * @param {String} name of method to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @namespace Utils\n * @name overwriteMethod\n * @api public\n */\n\nmodule.exports = function overwriteMethod(ctx, name, method) {\n  var _method = ctx[name]\n    , _super = function () {\n      throw new Error(name + ' is not a function');\n    };\n\n  if (_method && 'function' === typeof _method)\n    _super = _method;\n\n  var overwritingMethodWrapper = function () {\n    // Setting the `ssfi` flag to `overwritingMethodWrapper` causes this\n    // function to be the starting point for removing implementation frames from\n    // the stack trace of a failed assertion.\n    //\n    // However, we only want to use this function as the starting point if the\n    // `lockSsfi` flag isn't set.\n    //\n    // If the `lockSsfi` flag is set, then either this assertion has been\n    // overwritten by another assertion, or this assertion is being invoked from\n    // inside of another assertion. In the first case, the `ssfi` flag has\n    // already been set by the overwriting assertion. In the second case, the\n    // `ssfi` flag has already been set by the outer assertion.\n    if (!flag(this, 'lockSsfi')) {\n      flag(this, 'ssfi', overwritingMethodWrapper);\n    }\n\n    // Setting the `lockSsfi` flag to `true` prevents the overwritten assertion\n    // from changing the `ssfi` flag. By this point, the `ssfi` flag is already\n    // set to the correct starting point for this assertion.\n    var origLockSsfi = flag(this, 'lockSsfi');\n    flag(this, 'lockSsfi', true);\n    var result = method(_super).apply(this, arguments);\n    flag(this, 'lockSsfi', origLockSsfi);\n\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  }\n\n  addLengthGuard(overwritingMethodWrapper, name, false);\n  ctx[name] = proxify(overwritingMethodWrapper, name);\n};\n","/*!\n * Chai - addChainingMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar addLengthGuard = require('./addLengthGuard');\nvar chai = require('../../chai');\nvar flag = require('./flag');\nvar proxify = require('./proxify');\nvar transferFlags = require('./transferFlags');\n\n/*!\n * Module variables\n */\n\n// Check whether `Object.setPrototypeOf` is supported\nvar canSetPrototype = typeof Object.setPrototypeOf === 'function';\n\n// Without `Object.setPrototypeOf` support, this module will need to add properties to a function.\n// However, some of functions' own props are not configurable and should be skipped.\nvar testFn = function() {};\nvar excludeNames = Object.getOwnPropertyNames(testFn).filter(function(name) {\n  var propDesc = Object.getOwnPropertyDescriptor(testFn, name);\n\n  // Note: PhantomJS 1.x includes `callee` as one of `testFn`'s own properties,\n  // but then returns `undefined` as the property descriptor for `callee`. As a\n  // workaround, we perform an otherwise unnecessary type-check for `propDesc`,\n  // and then filter it out if it's not an object as it should be.\n  if (typeof propDesc !== 'object')\n    return true;\n\n  return !propDesc.configurable;\n});\n\n// Cache `Function` properties\nvar call  = Function.prototype.call,\n    apply = Function.prototype.apply;\n\n/**\n * ### .addChainableMethod(ctx, name, method, chainingBehavior)\n *\n * Adds a method to an object, such that the method can also be chained.\n *\n *     utils.addChainableMethod(chai.Assertion.prototype, 'foo', function (str) {\n *       var obj = utils.flag(this, 'object');\n *       new chai.Assertion(obj).to.be.equal(str);\n *     });\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.addChainableMethod('foo', fn, chainingBehavior);\n *\n * The result can then be used as both a method assertion, executing both `method` and\n * `chainingBehavior`, or as a language chain, which only executes `chainingBehavior`.\n *\n *     expect(fooStr).to.be.foo('bar');\n *     expect(fooStr).to.be.foo.equal('foo');\n *\n * @param {Object} ctx object to which the method is added\n * @param {String} name of method to add\n * @param {Function} method function to be used for `name`, when called\n * @param {Function} chainingBehavior function to be called every time the property is accessed\n * @namespace Utils\n * @name addChainableMethod\n * @api public\n */\n\nmodule.exports = function addChainableMethod(ctx, name, method, chainingBehavior) {\n  if (typeof chainingBehavior !== 'function') {\n    chainingBehavior = function () { };\n  }\n\n  var chainableBehavior = {\n      method: method\n    , chainingBehavior: chainingBehavior\n  };\n\n  // save the methods so we can overwrite them later, if we need to.\n  if (!ctx.__methods) {\n    ctx.__methods = {};\n  }\n  ctx.__methods[name] = chainableBehavior;\n\n  Object.defineProperty(ctx, name,\n    { get: function chainableMethodGetter() {\n        chainableBehavior.chainingBehavior.call(this);\n\n        var chainableMethodWrapper = function () {\n          // Setting the `ssfi` flag to `chainableMethodWrapper` causes this\n          // function to be the starting point for removing implementation\n          // frames from the stack trace of a failed assertion.\n          //\n          // However, we only want to use this function as the starting point if\n          // the `lockSsfi` flag isn't set.\n          //\n          // If the `lockSsfi` flag is set, then this assertion is being\n          // invoked from inside of another assertion. In this case, the `ssfi`\n          // flag has already been set by the outer assertion.\n          //\n          // Note that overwriting a chainable method merely replaces the saved\n          // methods in `ctx.__methods` instead of completely replacing the\n          // overwritten assertion. Therefore, an overwriting assertion won't\n          // set the `ssfi` or `lockSsfi` flags.\n          if (!flag(this, 'lockSsfi')) {\n            flag(this, 'ssfi', chainableMethodWrapper);\n          }\n\n          var result = chainableBehavior.method.apply(this, arguments);\n          if (result !== undefined) {\n            return result;\n          }\n\n          var newAssertion = new chai.Assertion();\n          transferFlags(this, newAssertion);\n          return newAssertion;\n        };\n\n        addLengthGuard(chainableMethodWrapper, name, true);\n\n        // Use `Object.setPrototypeOf` if available\n        if (canSetPrototype) {\n          // Inherit all properties from the object by replacing the `Function` prototype\n          var prototype = Object.create(this);\n          // Restore the `call` and `apply` methods from `Function`\n          prototype.call = call;\n          prototype.apply = apply;\n          Object.setPrototypeOf(chainableMethodWrapper, prototype);\n        }\n        // Otherwise, redefine all properties (slow!)\n        else {\n          var asserterNames = Object.getOwnPropertyNames(ctx);\n          asserterNames.forEach(function (asserterName) {\n            if (excludeNames.indexOf(asserterName) !== -1) {\n              return;\n            }\n\n            var pd = Object.getOwnPropertyDescriptor(ctx, asserterName);\n            Object.defineProperty(chainableMethodWrapper, asserterName, pd);\n          });\n        }\n\n        transferFlags(this, chainableMethodWrapper);\n        return proxify(chainableMethodWrapper);\n      }\n    , configurable: true\n  });\n};\n","/*!\n * Chai - overwriteChainableMethod utility\n * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar chai = require('../../chai');\nvar transferFlags = require('./transferFlags');\n\n/**\n * ### .overwriteChainableMethod(ctx, name, method, chainingBehavior)\n *\n * Overwrites an already existing chainable method\n * and provides access to the previous function or\n * property.  Must return functions to be used for\n * name.\n *\n *     utils.overwriteChainableMethod(chai.Assertion.prototype, 'lengthOf',\n *       function (_super) {\n *       }\n *     , function (_super) {\n *       }\n *     );\n *\n * Can also be accessed directly from `chai.Assertion`.\n *\n *     chai.Assertion.overwriteChainableMethod('foo', fn, fn);\n *\n * Then can be used as any other assertion.\n *\n *     expect(myFoo).to.have.lengthOf(3);\n *     expect(myFoo).to.have.lengthOf.above(3);\n *\n * @param {Object} ctx object whose method / property is to be overwritten\n * @param {String} name of method / property to overwrite\n * @param {Function} method function that returns a function to be used for name\n * @param {Function} chainingBehavior function that returns a function to be used for property\n * @namespace Utils\n * @name overwriteChainableMethod\n * @api public\n */\n\nmodule.exports = function overwriteChainableMethod(ctx, name, method, chainingBehavior) {\n  var chainableBehavior = ctx.__methods[name];\n\n  var _chainingBehavior = chainableBehavior.chainingBehavior;\n  chainableBehavior.chainingBehavior = function overwritingChainableMethodGetter() {\n    var result = chainingBehavior(_chainingBehavior).call(this);\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n\n  var _method = chainableBehavior.method;\n  chainableBehavior.method = function overwritingChainableMethodWrapper() {\n    var result = method(_method).apply(this, arguments);\n    if (result !== undefined) {\n      return result;\n    }\n\n    var newAssertion = new chai.Assertion();\n    transferFlags(this, newAssertion);\n    return newAssertion;\n  };\n};\n","/*!\n * Chai - compareByInspect utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar inspect = require('./inspect');\n\n/**\n * ### .compareByInspect(mixed, mixed)\n *\n * To be used as a compareFunction with Array.prototype.sort. Compares elements\n * using inspect instead of default behavior of using toString so that Symbols\n * and objects with irregular/missing toString can still be sorted without a\n * TypeError.\n *\n * @param {Mixed} first element to compare\n * @param {Mixed} second element to compare\n * @returns {Number} -1 if 'a' should come before 'b'; otherwise 1\n * @name compareByInspect\n * @namespace Utils\n * @api public\n */\n\nmodule.exports = function compareByInspect(a, b) {\n  return inspect(a) < inspect(b) ? -1 : 1;\n};\n","/*!\n * Chai - getOwnEnumerableProperties utility\n * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/*!\n * Module dependencies\n */\n\nvar getOwnEnumerablePropertySymbols = require('./getOwnEnumerablePropertySymbols');\n\n/**\n * ### .getOwnEnumerableProperties(object)\n *\n * This allows the retrieval of directly-owned enumerable property names and\n * symbols of an object. This function is necessary because Object.keys only\n * returns enumerable property names, not enumerable property symbols.\n *\n * @param {Object} object\n * @returns {Array}\n * @namespace Utils\n * @name getOwnEnumerableProperties\n * @api public\n */\n\nmodule.exports = function getOwnEnumerableProperties(obj) {\n  return Object.keys(obj).concat(getOwnEnumerablePropertySymbols(obj));\n};\n","'use strict';\n\n/* !\n * Chai - checkError utility\n * Copyright(c) 2012-2016 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\n/**\n * ### .checkError\n *\n * Checks that an error conforms to a given set of criteria and/or retrieves information about it.\n *\n * @api public\n */\n\n/**\n * ### .compatibleInstance(thrown, errorLike)\n *\n * Checks if two instances are compatible (strict equal).\n * Returns false if errorLike is not an instance of Error, because instances\n * can only be compatible if they're both error instances.\n *\n * @name compatibleInstance\n * @param {Error} thrown error\n * @param {Error|ErrorConstructor} errorLike object to compare against\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleInstance(thrown, errorLike) {\n  return errorLike instanceof Error && thrown === errorLike;\n}\n\n/**\n * ### .compatibleConstructor(thrown, errorLike)\n *\n * Checks if two constructors are compatible.\n * This function can receive either an error constructor or\n * an error instance as the `errorLike` argument.\n * Constructors are compatible if they're the same or if one is\n * an instance of another.\n *\n * @name compatibleConstructor\n * @param {Error} thrown error\n * @param {Error|ErrorConstructor} errorLike object to compare against\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleConstructor(thrown, errorLike) {\n  if (errorLike instanceof Error) {\n    // If `errorLike` is an instance of any error we compare their constructors\n    return thrown.constructor === errorLike.constructor || thrown instanceof errorLike.constructor;\n  } else if (errorLike.prototype instanceof Error || errorLike === Error) {\n    // If `errorLike` is a constructor that inherits from Error, we compare `thrown` to `errorLike` directly\n    return thrown.constructor === errorLike || thrown instanceof errorLike;\n  }\n\n  return false;\n}\n\n/**\n * ### .compatibleMessage(thrown, errMatcher)\n *\n * Checks if an error's message is compatible with a matcher (String or RegExp).\n * If the message contains the String or passes the RegExp test,\n * it is considered compatible.\n *\n * @name compatibleMessage\n * @param {Error} thrown error\n * @param {String|RegExp} errMatcher to look for into the message\n * @namespace Utils\n * @api public\n */\n\nfunction compatibleMessage(thrown, errMatcher) {\n  var comparisonString = typeof thrown === 'string' ? thrown : thrown.message;\n  if (errMatcher instanceof RegExp) {\n    return errMatcher.test(comparisonString);\n  } else if (typeof errMatcher === 'string') {\n    return comparisonString.indexOf(errMatcher) !== -1; // eslint-disable-line no-magic-numbers\n  }\n\n  return false;\n}\n\n/**\n * ### .getFunctionName(constructorFn)\n *\n * Returns the name of a function.\n * This also includes a polyfill function if `constructorFn.name` is not defined.\n *\n * @name getFunctionName\n * @param {Function} constructorFn\n * @namespace Utils\n * @api private\n */\n\nvar functionNameMatch = /\\s*function(?:\\s|\\s*\\/\\*[^(?:*\\/)]+\\*\\/\\s*)*([^\\(\\/]+)/;\nfunction getFunctionName(constructorFn) {\n  var name = '';\n  if (typeof constructorFn.name === 'undefined') {\n    // Here we run a polyfill if constructorFn.name is not defined\n    var match = String(constructorFn).match(functionNameMatch);\n    if (match) {\n      name = match[1];\n    }\n  } else {\n    name = constructorFn.name;\n  }\n\n  return name;\n}\n\n/**\n * ### .getConstructorName(errorLike)\n *\n * Gets the constructor name for an Error instance or constructor itself.\n *\n * @name getConstructorName\n * @param {Error|ErrorConstructor} errorLike\n * @namespace Utils\n * @api public\n */\n\nfunction getConstructorName(errorLike) {\n  var constructorName = errorLike;\n  if (errorLike instanceof Error) {\n    constructorName = getFunctionName(errorLike.constructor);\n  } else if (typeof errorLike === 'function') {\n    // If `err` is not an instance of Error it is an error constructor itself or another function.\n    // If we've got a common function we get its name, otherwise we may need to create a new instance\n    // of the error just in case it's a poorly-constructed error. Please see chaijs/chai/issues/45 to know more.\n    constructorName = getFunctionName(errorLike).trim() ||\n        getFunctionName(new errorLike()); // eslint-disable-line new-cap\n  }\n\n  return constructorName;\n}\n\n/**\n * ### .getMessage(errorLike)\n *\n * Gets the error message from an error.\n * If `err` is a String itself, we return it.\n * If the error has no message, we return an empty string.\n *\n * @name getMessage\n * @param {Error|String} errorLike\n * @namespace Utils\n * @api public\n */\n\nfunction getMessage(errorLike) {\n  var msg = '';\n  if (errorLike && errorLike.message) {\n    msg = errorLike.message;\n  } else if (typeof errorLike === 'string') {\n    msg = errorLike;\n  }\n\n  return msg;\n}\n\nmodule.exports = {\n  compatibleInstance: compatibleInstance,\n  compatibleConstructor: compatibleConstructor,\n  compatibleMessage: compatibleMessage,\n  getMessage: getMessage,\n  getConstructorName: getConstructorName,\n};\n","/*!\n * Chai - isNaN utility\n * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>\n * MIT Licensed\n */\n\n/**\n * ### .isNaN(value)\n *\n * Checks if the given value is NaN or not.\n *\n *     utils.isNaN(NaN); // true\n *\n * @param {Value} The value which has to be checked if it is NaN\n * @name isNaN\n * @api private\n */\n\nfunction isNaN(value) {\n  // Refer http://www.ecma-international.org/ecma-262/6.0/#sec-isnan-number\n  // section's NOTE.\n  return value !== value;\n}\n\n// If ECMAScript 6's Number.isNaN is present, prefer that.\nmodule.exports = Number.isNaN || isNaN;\n","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nvar config = require('./config');\n\nmodule.exports = function (_chai, util) {\n  /*!\n   * Module dependencies.\n   */\n\n  var AssertionError = _chai.AssertionError\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  _chai.Assertion = Assertion;\n\n  /*!\n   * Assertion Constructor\n   *\n   * Creates object for chaining.\n   *\n   * `Assertion` objects contain metadata in the form of flags. Three flags can\n   * be assigned during instantiation by passing arguments to this constructor:\n   *\n   * - `object`: This flag contains the target of the assertion. For example, in\n   *   the assertion `expect(numKittens).to.equal(7);`, the `object` flag will\n   *   contain `numKittens` so that the `equal` assertion can reference it when\n   *   needed.\n   *\n   * - `message`: This flag contains an optional custom error message to be\n   *   prepended to the error message that's generated by the assertion when it\n   *   fails.\n   *\n   * - `ssfi`: This flag stands for \"start stack function indicator\". It\n   *   contains a function reference that serves as the starting point for\n   *   removing frames from the stack trace of the error that's created by the\n   *   assertion when it fails. The goal is to provide a cleaner stack trace to\n   *   end users by removing Chai's internal functions. Note that it only works\n   *   in environments that support `Error.captureStackTrace`, and only when\n   *   `Chai.config.includeStack` hasn't been set to `false`.\n   *\n   * - `lockSsfi`: This flag controls whether or not the given `ssfi` flag\n   *   should retain its current value, even as assertions are chained off of\n   *   this object. This is usually set to `true` when creating a new assertion\n   *   from within another assertion. It's also temporarily set to `true` before\n   *   an overwritten assertion gets called by the overwriting assertion.\n   *\n   * @param {Mixed} obj target of the assertion\n   * @param {String} msg (optional) custom error message\n   * @param {Function} ssfi (optional) starting point for removing stack frames\n   * @param {Boolean} lockSsfi (optional) whether or not the ssfi flag is locked\n   * @api private\n   */\n\n  function Assertion (obj, msg, ssfi, lockSsfi) {\n    flag(this, 'ssfi', ssfi || Assertion);\n    flag(this, 'lockSsfi', lockSsfi);\n    flag(this, 'object', obj);\n    flag(this, 'message', msg);\n\n    return util.proxify(this);\n  }\n\n  Object.defineProperty(Assertion, 'includeStack', {\n    get: function() {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      return config.includeStack;\n    },\n    set: function(value) {\n      console.warn('Assertion.includeStack is deprecated, use chai.config.includeStack instead.');\n      config.includeStack = value;\n    }\n  });\n\n  Object.defineProperty(Assertion, 'showDiff', {\n    get: function() {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      return config.showDiff;\n    },\n    set: function(value) {\n      console.warn('Assertion.showDiff is deprecated, use chai.config.showDiff instead.');\n      config.showDiff = value;\n    }\n  });\n\n  Assertion.addProperty = function (name, fn) {\n    util.addProperty(this.prototype, name, fn);\n  };\n\n  Assertion.addMethod = function (name, fn) {\n    util.addMethod(this.prototype, name, fn);\n  };\n\n  Assertion.addChainableMethod = function (name, fn, chainingBehavior) {\n    util.addChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  Assertion.overwriteProperty = function (name, fn) {\n    util.overwriteProperty(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteMethod = function (name, fn) {\n    util.overwriteMethod(this.prototype, name, fn);\n  };\n\n  Assertion.overwriteChainableMethod = function (name, fn, chainingBehavior) {\n    util.overwriteChainableMethod(this.prototype, name, fn, chainingBehavior);\n  };\n\n  /**\n   * ### .assert(expression, message, negateMessage, expected, actual, showDiff)\n   *\n   * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.\n   *\n   * @name assert\n   * @param {Philosophical} expression to be tested\n   * @param {String|Function} message or function that returns message to display if expression fails\n   * @param {String|Function} negatedMessage or function that returns negatedMessage to display if negated expression fails\n   * @param {Mixed} expected value (remember to check for negation)\n   * @param {Mixed} actual (optional) will default to `this.obj`\n   * @param {Boolean} showDiff (optional) when set to `true`, assert will display a diff in addition to the message if expression fails\n   * @api private\n   */\n\n  Assertion.prototype.assert = function (expr, msg, negateMsg, expected, _actual, showDiff) {\n    var ok = util.test(this, arguments);\n    if (false !== showDiff) showDiff = true;\n    if (undefined === expected && undefined === _actual) showDiff = false;\n    if (true !== config.showDiff) showDiff = false;\n\n    if (!ok) {\n      msg = util.getMessage(this, arguments);\n      var actual = util.getActual(this, arguments);\n      throw new AssertionError(msg, {\n          actual: actual\n        , expected: expected\n        , showDiff: showDiff\n      }, (config.includeStack) ? this.assert : flag(this, 'ssfi'));\n    }\n  };\n\n  /*!\n   * ### ._obj\n   *\n   * Quick reference to stored `actual` value for plugin developers.\n   *\n   * @api private\n   */\n\n  Object.defineProperty(Assertion.prototype, '_obj',\n    { get: function () {\n        return flag(this, 'object');\n      }\n    , set: function (val) {\n        flag(this, 'object', val);\n      }\n  });\n};\n","/*!\n * chai\n * http://chaijs.com\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, _) {\n  var Assertion = chai.Assertion\n    , AssertionError = chai.AssertionError\n    , flag = _.flag;\n\n  /**\n   * ### Language Chains\n   *\n   * The following are provided as chainable getters to improve the readability\n   * of your assertions.\n   *\n   * **Chains**\n   *\n   * - to\n   * - be\n   * - been\n   * - is\n   * - that\n   * - which\n   * - and\n   * - has\n   * - have\n   * - with\n   * - at\n   * - of\n   * - same\n   * - but\n   * - does\n   * - still\n   *\n   * @name language chains\n   * @namespace BDD\n   * @api public\n   */\n\n  [ 'to', 'be', 'been', 'is'\n  , 'and', 'has', 'have', 'with'\n  , 'that', 'which', 'at', 'of'\n  , 'same', 'but', 'does', 'still' ].forEach(function (chain) {\n    Assertion.addProperty(chain);\n  });\n\n  /**\n   * ### .not\n   *\n   * Negates all assertions that follow in the chain.\n   *\n   *     expect(function () {}).to.not.throw();\n   *     expect({a: 1}).to.not.have.property('b');\n   *     expect([1, 2]).to.be.an('array').that.does.not.include(3);\n   *\n   * Just because you can negate any assertion with `.not` doesn't mean you\n   * should. With great power comes great responsibility. It's often best to\n   * assert that the one expected output was produced, rather than asserting\n   * that one of countless unexpected outputs wasn't produced. See individual\n   * assertions for specific guidance.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.equal(1); // Not recommended\n   *\n   * @name not\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('not', function () {\n    flag(this, 'negate', true);\n  });\n\n  /**\n   * ### .deep\n   *\n   * Causes all `.equal`, `.include`, `.members`, `.keys`, and `.property`\n   * assertions that follow in the chain to use deep equality instead of strict\n   * (`===`) equality. See the `deep-eql` project page for info on the deep\n   * equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) equals `{a: 1}`\n   *     expect({a: 1}).to.deep.equal({a: 1});\n   *     expect({a: 1}).to.not.equal({a: 1});\n   *\n   *     // Target array deeply (but not strictly) includes `{a: 1}`\n   *     expect([{a: 1}]).to.deep.include({a: 1});\n   *     expect([{a: 1}]).to.not.include({a: 1});\n   *\n   *     // Target object deeply (but not strictly) includes `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});\n   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});\n   *\n   *     // Target array deeply (but not strictly) has member `{a: 1}`\n   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);\n   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);\n   *\n   *     // Target set deeply (but not strictly) has key `{a: 1}`\n   *     expect(new Set([{a: 1}])).to.have.deep.keys([{a: 1}]);\n   *     expect(new Set([{a: 1}])).to.not.have.keys([{a: 1}]);\n   *\n   *     // Target object deeply (but not strictly) has property `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});\n   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});\n   *\n   * @name deep\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('deep', function () {\n    flag(this, 'deep', true);\n  });\n\n  /**\n   * ### .nested\n   *\n   * Enables dot- and bracket-notation in all `.property` and `.include`\n   * assertions that follow in the chain.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');\n   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\\\.a.\\\\[b\\\\]');\n   *     expect({'.a': {'[b]': 'x'}}).to.nested.include({'\\\\.a.\\\\[b\\\\]': 'x'});\n   *\n   * `.nested` cannot be combined with `.own`.\n   *\n   * @name nested\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('nested', function () {\n    flag(this, 'nested', true);\n  });\n\n  /**\n   * ### .own\n   *\n   * Causes all `.property` and `.include` assertions that follow in the chain\n   * to ignore inherited properties.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.have.own.property('a');\n   *     expect({a: 1}).to.have.property('b');\n   *     expect({a: 1}).to.not.have.own.property('b');\n   *\n   *     expect({a: 1}).to.own.include({a: 1});\n   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});\n   *\n   * `.own` cannot be combined with `.nested`.\n   *\n   * @name own\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('own', function () {\n    flag(this, 'own', true);\n  });\n\n  /**\n   * ### .ordered\n   *\n   * Causes all `.members` assertions that follow in the chain to require that\n   * members be in the same order.\n   *\n   *     expect([1, 2]).to.have.ordered.members([1, 2])\n   *       .but.not.have.ordered.members([2, 1]);\n   *\n   * When `.include` and `.ordered` are combined, the ordering begins at the\n   * start of both arrays.\n   *\n   *     expect([1, 2, 3]).to.include.ordered.members([1, 2])\n   *       .but.not.include.ordered.members([2, 3]);\n   *\n   * @name ordered\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('ordered', function () {\n    flag(this, 'ordered', true);\n  });\n\n  /**\n   * ### .any\n   *\n   * Causes all `.keys` assertions that follow in the chain to only require that\n   * the target have at least one of the given keys. This is the opposite of\n   * `.all`, which requires that the target have all of the given keys.\n   *\n   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');\n   *\n   * See the `.keys` doc for guidance on when to use `.any` or `.all`.\n   *\n   * @name any\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('any', function () {\n    flag(this, 'any', true);\n    flag(this, 'all', false);\n  });\n\n  /**\n   * ### .all\n   *\n   * Causes all `.keys` assertions that follow in the chain to require that the\n   * target have all of the given keys. This is the opposite of `.any`, which\n   * only requires that the target have at least one of the given keys.\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *\n   * Note that `.all` is used by default when neither `.all` nor `.any` are\n   * added earlier in the chain. However, it's often best to add `.all` anyway\n   * because it improves readability.\n   *\n   * See the `.keys` doc for guidance on when to use `.any` or `.all`.\n   *\n   * @name all\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('all', function () {\n    flag(this, 'all', true);\n    flag(this, 'any', false);\n  });\n\n  /**\n   * ### .a(type[, msg])\n   *\n   * Asserts that the target's type is equal to the given string `type`. Types\n   * are case insensitive. See the `type-detect` project page for info on the\n   * type detection algorithm: https://github.com/chaijs/type-detect.\n   *\n   *     expect('foo').to.be.a('string');\n   *     expect({a: 1}).to.be.an('object');\n   *     expect(null).to.be.a('null');\n   *     expect(undefined).to.be.an('undefined');\n   *     expect(new Error).to.be.an('error');\n   *     expect(Promise.resolve()).to.be.a('promise');\n   *     expect(new Float32Array).to.be.a('float32array');\n   *     expect(Symbol()).to.be.a('symbol');\n   *\n   * `.a` supports objects that have a custom type set via `Symbol.toStringTag`.\n   *\n   *     var myObj = {\n   *       [Symbol.toStringTag]: 'myCustomType'\n   *     };\n   *\n   *     expect(myObj).to.be.a('myCustomType').but.not.an('object');\n   *\n   * It's often best to use `.a` to check a target's type before making more\n   * assertions on the same target. That way, you avoid unexpected behavior from\n   * any assertion that does different things based on the target's type.\n   *\n   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);\n   *     expect([]).to.be.an('array').that.is.empty;\n   *\n   * Add `.not` earlier in the chain to negate `.a`. However, it's often best to\n   * assert that the target is the expected type, rather than asserting that it\n   * isn't one of many unexpected types.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.an('array'); // Not recommended\n   *\n   * `.a` accepts an optional `msg` argument which is a custom error message to\n   * show when the assertion fails. The message can also be given as the second\n   * argument to `expect`.\n   *\n   *     expect(1).to.be.a('string', 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.a('string');\n   *\n   * `.a` can also be used as a language chain to improve the readability of\n   * your assertions.\n   *\n   *     expect({b: 2}).to.have.a.property('b');\n   *\n   * The alias `.an` can be used interchangeably with `.a`.\n   *\n   * @name a\n   * @alias an\n   * @param {String} type\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function an (type, msg) {\n    if (msg) flag(this, 'message', msg);\n    type = type.toLowerCase();\n    var obj = flag(this, 'object')\n      , article = ~[ 'a', 'e', 'i', 'o', 'u' ].indexOf(type.charAt(0)) ? 'an ' : 'a ';\n\n    this.assert(\n        type === _.type(obj).toLowerCase()\n      , 'expected #{this} to be ' + article + type\n      , 'expected #{this} not to be ' + article + type\n    );\n  }\n\n  Assertion.addChainableMethod('an', an);\n  Assertion.addChainableMethod('a', an);\n\n  /**\n   * ### .include(val[, msg])\n   *\n   * When the target is a string, `.include` asserts that the given string `val`\n   * is a substring of the target.\n   *\n   *     expect('foobar').to.include('foo');\n   *\n   * When the target is an array, `.include` asserts that the given `val` is a\n   * member of the target.\n   *\n   *     expect([1, 2, 3]).to.include(2);\n   *\n   * When the target is an object, `.include` asserts that the given object\n   * `val`'s properties are a subset of the target's properties.\n   *\n   *     expect({a: 1, b: 2, c: 3}).to.include({a: 1, b: 2});\n   *\n   * When the target is a Set or WeakSet, `.include` asserts that the given `val` is a\n   * member of the target. SameValueZero equality algorithm is used.\n   *\n   *     expect(new Set([1, 2])).to.include(2);\n   *\n   * When the target is a Map, `.include` asserts that the given `val` is one of\n   * the values of the target. SameValueZero equality algorithm is used.\n   *\n   *     expect(new Map([['a', 1], ['b', 2]])).to.include(2);\n   *\n   * Because `.include` does different things based on the target's type, it's\n   * important to check the target's type before using `.include`. See the `.a`\n   * doc for info on testing a target's type.\n   *\n   *     expect([1, 2, 3]).to.be.an('array').that.includes(2);\n   *\n   * By default, strict (`===`) equality is used to compare array members and\n   * object properties. Add `.deep` earlier in the chain to use deep equality\n   * instead (WeakSet targets are not supported). See the `deep-eql` project\n   * page for info on the deep equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target array deeply (but not strictly) includes `{a: 1}`\n   *     expect([{a: 1}]).to.deep.include({a: 1});\n   *     expect([{a: 1}]).to.not.include({a: 1});\n   *\n   *     // Target object deeply (but not strictly) includes `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.deep.include({x: {a: 1}});\n   *     expect({x: {a: 1}}).to.not.include({x: {a: 1}});\n   *\n   * By default, all of the target's properties are searched when working with\n   * objects. This includes properties that are inherited and/or non-enumerable.\n   * Add `.own` earlier in the chain to exclude the target's inherited\n   * properties from the search.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.own.include({a: 1});\n   *     expect({a: 1}).to.include({b: 2}).but.not.own.include({b: 2});\n   *\n   * Note that a target object is always only searched for `val`'s own\n   * enumerable properties.\n   *\n   * `.deep` and `.own` can be combined.\n   *\n   *     expect({a: {b: 2}}).to.deep.own.include({a: {b: 2}});\n   *\n   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when\n   * referencing nested properties.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.nested.include({'a.b[1]': 'y'});\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 2}}).to.nested.include({'\\\\.a.\\\\[b\\\\]': 2});\n   *\n   * `.deep` and `.nested` can be combined.\n   *\n   *     expect({a: {b: [{c: 3}]}}).to.deep.nested.include({'a.b[0]': {c: 3}});\n   *\n   * `.own` and `.nested` cannot be combined.\n   *\n   * Add `.not` earlier in the chain to negate `.include`.\n   *\n   *     expect('foobar').to.not.include('taco');\n   *     expect([1, 2, 3]).to.not.include(4);\n   *\n   * However, it's dangerous to negate `.include` when the target is an object.\n   * The problem is that it creates uncertain expectations by asserting that the\n   * target object doesn't have all of `val`'s key/value pairs but may or may\n   * not have some of them. It's often best to identify the exact output that's\n   * expected, and then write an assertion that only accepts that exact output.\n   *\n   * When the target object isn't even expected to have `val`'s keys, it's\n   * often best to assert exactly that.\n   *\n   *     expect({c: 3}).to.not.have.any.keys('a', 'b'); // Recommended\n   *     expect({c: 3}).to.not.include({a: 1, b: 2}); // Not recommended\n   *\n   * When the target object is expected to have `val`'s keys, it's often best to\n   * assert that each of the properties has its expected value, rather than\n   * asserting that each property doesn't have one of many unexpected values.\n   *\n   *     expect({a: 3, b: 4}).to.include({a: 3, b: 4}); // Recommended\n   *     expect({a: 3, b: 4}).to.not.include({a: 1, b: 2}); // Not recommended\n   *\n   * `.include` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2, 3]).to.include(4, 'nooo why fail??');\n   *     expect([1, 2, 3], 'nooo why fail??').to.include(4);\n   *\n   * `.include` can also be used as a language chain, causing all `.members` and\n   * `.keys` assertions that follow in the chain to require the target to be a\n   * superset of the expected set, rather than an identical set. Note that\n   * `.members` ignores duplicates in the subset when `.include` is added.\n   *\n   *     // Target object's keys are a superset of ['a', 'b'] but not identical\n   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');\n   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');\n   *\n   *     // Target array is a superset of [1, 2] but not identical\n   *     expect([1, 2, 3]).to.include.members([1, 2]);\n   *     expect([1, 2, 3]).to.not.have.members([1, 2]);\n   *\n   *     // Duplicates in the subset are ignored\n   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);\n   *\n   * Note that adding `.any` earlier in the chain causes the `.keys` assertion\n   * to ignore `.include`.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1}).to.include.any.keys('a', 'b');\n   *     expect({a: 1}).to.have.any.keys('a', 'b');\n   *\n   * The aliases `.includes`, `.contain`, and `.contains` can be used\n   * interchangeably with `.include`.\n   *\n   * @name include\n   * @alias contain\n   * @alias includes\n   * @alias contains\n   * @param {Mixed} val\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function SameValueZero(a, b) {\n    return (_.isNaN(a) && _.isNaN(b)) || a === b;\n  }\n\n  function includeChainingBehavior () {\n    flag(this, 'contains', true);\n  }\n\n  function include (val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var obj = flag(this, 'object')\n      , objType = _.type(obj).toLowerCase()\n      , flagMsg = flag(this, 'message')\n      , negate = flag(this, 'negate')\n      , ssfi = flag(this, 'ssfi')\n      , isDeep = flag(this, 'deep')\n      , descriptor = isDeep ? 'deep ' : '';\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    var included = false;\n\n    switch (objType) {\n      case 'string':\n        included = obj.indexOf(val) !== -1;\n        break;\n\n      case 'weakset':\n        if (isDeep) {\n          throw new AssertionError(\n            flagMsg + 'unable to use .deep.include with WeakSet',\n            undefined,\n            ssfi\n          );\n        }\n\n        included = obj.has(val);\n        break;\n\n      case 'map':\n        var isEql = isDeep ? _.eql : SameValueZero;\n        obj.forEach(function (item) {\n          included = included || isEql(item, val);\n        });\n        break;\n\n      case 'set':\n        if (isDeep) {\n          obj.forEach(function (item) {\n            included = included || _.eql(item, val);\n          });\n        } else {\n          included = obj.has(val);\n        }\n        break;\n\n      case 'array':\n        if (isDeep) {\n          included = obj.some(function (item) {\n            return _.eql(item, val);\n          })\n        } else {\n          included = obj.indexOf(val) !== -1;\n        }\n        break;\n\n      default:\n        // This block is for asserting a subset of properties in an object.\n        // `_.expectTypes` isn't used here because `.include` should work with\n        // objects with a custom `@@toStringTag`.\n        if (val !== Object(val)) {\n          throw new AssertionError(\n            flagMsg + 'object tested must be an array, a map, an object,'\n              + ' a set, a string, or a weakset, but ' + objType + ' given',\n            undefined,\n            ssfi\n          );\n        }\n\n        var props = Object.keys(val)\n          , firstErr = null\n          , numErrs = 0;\n\n        props.forEach(function (prop) {\n          var propAssertion = new Assertion(obj);\n          _.transferFlags(this, propAssertion, true);\n          flag(propAssertion, 'lockSsfi', true);\n\n          if (!negate || props.length === 1) {\n            propAssertion.property(prop, val[prop]);\n            return;\n          }\n\n          try {\n            propAssertion.property(prop, val[prop]);\n          } catch (err) {\n            if (!_.checkError.compatibleConstructor(err, AssertionError)) {\n              throw err;\n            }\n            if (firstErr === null) firstErr = err;\n            numErrs++;\n          }\n        }, this);\n\n        // When validating .not.include with multiple properties, we only want\n        // to throw an assertion error if all of the properties are included,\n        // in which case we throw the first property assertion error that we\n        // encountered.\n        if (negate && props.length > 1 && numErrs === props.length) {\n          throw firstErr;\n        }\n        return;\n    }\n\n    // Assert inclusion in collection or substring in a string.\n    this.assert(\n      included\n      , 'expected #{this} to ' + descriptor + 'include ' + _.inspect(val)\n      , 'expected #{this} to not ' + descriptor + 'include ' + _.inspect(val));\n  }\n\n  Assertion.addChainableMethod('include', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contain', include, includeChainingBehavior);\n  Assertion.addChainableMethod('contains', include, includeChainingBehavior);\n  Assertion.addChainableMethod('includes', include, includeChainingBehavior);\n\n  /**\n   * ### .ok\n   *\n   * Asserts that the target is a truthy value (considered `true` in boolean context).\n   * However, it's often best to assert that the target is strictly (`===`) or\n   * deeply equal to its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.ok; // Not recommended\n   *\n   *     expect(true).to.be.true; // Recommended\n   *     expect(true).to.be.ok; // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.ok`.\n   *\n   *     expect(0).to.equal(0); // Recommended\n   *     expect(0).to.not.be.ok; // Not recommended\n   *\n   *     expect(false).to.be.false; // Recommended\n   *     expect(false).to.not.be.ok; // Not recommended\n   *\n   *     expect(null).to.be.null; // Recommended\n   *     expect(null).to.not.be.ok; // Not recommended\n   *\n   *     expect(undefined).to.be.undefined; // Recommended\n   *     expect(undefined).to.not.be.ok; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(false, 'nooo why fail??').to.be.ok;\n   *\n   * @name ok\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('ok', function () {\n    this.assert(\n        flag(this, 'object')\n      , 'expected #{this} to be truthy'\n      , 'expected #{this} to be falsy');\n  });\n\n  /**\n   * ### .true\n   *\n   * Asserts that the target is strictly (`===`) equal to `true`.\n   *\n   *     expect(true).to.be.true;\n   *\n   * Add `.not` earlier in the chain to negate `.true`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `true`.\n   *\n   *     expect(false).to.be.false; // Recommended\n   *     expect(false).to.not.be.true; // Not recommended\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.true; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(false, 'nooo why fail??').to.be.true;\n   *\n   * @name true\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('true', function () {\n    this.assert(\n        true === flag(this, 'object')\n      , 'expected #{this} to be true'\n      , 'expected #{this} to be false'\n      , flag(this, 'negate') ? false : true\n    );\n  });\n\n  /**\n   * ### .false\n   *\n   * Asserts that the target is strictly (`===`) equal to `false`.\n   *\n   *     expect(false).to.be.false;\n   *\n   * Add `.not` earlier in the chain to negate `.false`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to `false`.\n   *\n   *     expect(true).to.be.true; // Recommended\n   *     expect(true).to.not.be.false; // Not recommended\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.false; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(true, 'nooo why fail??').to.be.false;\n   *\n   * @name false\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('false', function () {\n    this.assert(\n        false === flag(this, 'object')\n      , 'expected #{this} to be false'\n      , 'expected #{this} to be true'\n      , flag(this, 'negate') ? true : false\n    );\n  });\n\n  /**\n   * ### .null\n   *\n   * Asserts that the target is strictly (`===`) equal to `null`.\n   *\n   *     expect(null).to.be.null;\n   *\n   * Add `.not` earlier in the chain to negate `.null`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `null`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.null; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.null;\n   *\n   * @name null\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('null', function () {\n    this.assert(\n        null === flag(this, 'object')\n      , 'expected #{this} to be null'\n      , 'expected #{this} not to be null'\n    );\n  });\n\n  /**\n   * ### .undefined\n   *\n   * Asserts that the target is strictly (`===`) equal to `undefined`.\n   *\n   *     expect(undefined).to.be.undefined;\n   *\n   * Add `.not` earlier in the chain to negate `.undefined`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to `undefined`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.undefined; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.undefined;\n   *\n   * @name undefined\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('undefined', function () {\n    this.assert(\n        undefined === flag(this, 'object')\n      , 'expected #{this} to be undefined'\n      , 'expected #{this} not to be undefined'\n    );\n  });\n\n  /**\n   * ### .NaN\n   *\n   * Asserts that the target is exactly `NaN`.\n   *\n   *     expect(NaN).to.be.NaN;\n   *\n   * Add `.not` earlier in the chain to negate `.NaN`. However, it's often best\n   * to assert that the target is equal to its expected value, rather than not\n   * equal to `NaN`.\n   *\n   *     expect('foo').to.equal('foo'); // Recommended\n   *     expect('foo').to.not.be.NaN; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(42, 'nooo why fail??').to.be.NaN;\n   *\n   * @name NaN\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('NaN', function () {\n    this.assert(\n        _.isNaN(flag(this, 'object'))\n        , 'expected #{this} to be NaN'\n        , 'expected #{this} not to be NaN'\n    );\n  });\n\n  /**\n   * ### .exist\n   *\n   * Asserts that the target is not strictly (`===`) equal to either `null` or\n   * `undefined`. However, it's often best to assert that the target is equal to\n   * its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.exist; // Not recommended\n   *\n   *     expect(0).to.equal(0); // Recommended\n   *     expect(0).to.exist; // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.exist`.\n   *\n   *     expect(null).to.be.null; // Recommended\n   *     expect(null).to.not.exist; // Not recommended\n   *\n   *     expect(undefined).to.be.undefined; // Recommended\n   *     expect(undefined).to.not.exist; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(null, 'nooo why fail??').to.exist;\n   *\n   * @name exist\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('exist', function () {\n    var val = flag(this, 'object');\n    this.assert(\n        val !== null && val !== undefined\n      , 'expected #{this} to exist'\n      , 'expected #{this} to not exist'\n    );\n  });\n\n  /**\n   * ### .empty\n   *\n   * When the target is a string or array, `.empty` asserts that the target's\n   * `length` property is strictly (`===`) equal to `0`.\n   *\n   *     expect([]).to.be.empty;\n   *     expect('').to.be.empty;\n   *\n   * When the target is a map or set, `.empty` asserts that the target's `size`\n   * property is strictly equal to `0`.\n   *\n   *     expect(new Set()).to.be.empty;\n   *     expect(new Map()).to.be.empty;\n   *\n   * When the target is a non-function object, `.empty` asserts that the target\n   * doesn't have any own enumerable properties. Properties with Symbol-based\n   * keys are excluded from the count.\n   *\n   *     expect({}).to.be.empty;\n   *\n   * Because `.empty` does different things based on the target's type, it's\n   * important to check the target's type before using `.empty`. See the `.a`\n   * doc for info on testing a target's type.\n   *\n   *     expect([]).to.be.an('array').that.is.empty;\n   *\n   * Add `.not` earlier in the chain to negate `.empty`. However, it's often\n   * best to assert that the target contains its expected number of values,\n   * rather than asserting that it's not empty.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.not.be.empty; // Not recommended\n   *\n   *     expect(new Set([1, 2, 3])).to.have.property('size', 3); // Recommended\n   *     expect(new Set([1, 2, 3])).to.not.be.empty; // Not recommended\n   *\n   *     expect(Object.keys({a: 1})).to.have.lengthOf(1); // Recommended\n   *     expect({a: 1}).to.not.be.empty; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect([1, 2, 3], 'nooo why fail??').to.be.empty;\n   *\n   * @name empty\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('empty', function () {\n    var val = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , flagMsg = flag(this, 'message')\n      , itemsCount;\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    switch (_.type(val).toLowerCase()) {\n      case 'array':\n      case 'string':\n        itemsCount = val.length;\n        break;\n      case 'map':\n      case 'set':\n        itemsCount = val.size;\n        break;\n      case 'weakmap':\n      case 'weakset':\n        throw new AssertionError(\n          flagMsg + '.empty was passed a weak collection',\n          undefined,\n          ssfi\n        );\n      case 'function':\n        var msg = flagMsg + '.empty was passed a function ' + _.getName(val);\n        throw new AssertionError(msg.trim(), undefined, ssfi);\n      default:\n        if (val !== Object(val)) {\n          throw new AssertionError(\n            flagMsg + '.empty was passed non-string primitive ' + _.inspect(val),\n            undefined,\n            ssfi\n          );\n        }\n        itemsCount = Object.keys(val).length;\n    }\n\n    this.assert(\n        0 === itemsCount\n      , 'expected #{this} to be empty'\n      , 'expected #{this} not to be empty'\n    );\n  });\n\n  /**\n   * ### .arguments\n   *\n   * Asserts that the target is an `arguments` object.\n   *\n   *     function test () {\n   *       expect(arguments).to.be.arguments;\n   *     }\n   *\n   *     test();\n   *\n   * Add `.not` earlier in the chain to negate `.arguments`. However, it's often\n   * best to assert which type the target is expected to be, rather than\n   * asserting that its not an `arguments` object.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.arguments; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({}, 'nooo why fail??').to.be.arguments;\n   *\n   * The alias `.Arguments` can be used interchangeably with `.arguments`.\n   *\n   * @name arguments\n   * @alias Arguments\n   * @namespace BDD\n   * @api public\n   */\n\n  function checkArguments () {\n    var obj = flag(this, 'object')\n      , type = _.type(obj);\n    this.assert(\n        'Arguments' === type\n      , 'expected #{this} to be arguments but got ' + type\n      , 'expected #{this} to not be arguments'\n    );\n  }\n\n  Assertion.addProperty('arguments', checkArguments);\n  Assertion.addProperty('Arguments', checkArguments);\n\n  /**\n   * ### .equal(val[, msg])\n   *\n   * Asserts that the target is strictly (`===`) equal to the given `val`.\n   *\n   *     expect(1).to.equal(1);\n   *     expect('foo').to.equal('foo');\n   *\n   * Add `.deep` earlier in the chain to use deep equality instead. See the\n   * `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) equals `{a: 1}`\n   *     expect({a: 1}).to.deep.equal({a: 1});\n   *     expect({a: 1}).to.not.equal({a: 1});\n   *\n   *     // Target array deeply (but not strictly) equals `[1, 2]`\n   *     expect([1, 2]).to.deep.equal([1, 2]);\n   *     expect([1, 2]).to.not.equal([1, 2]);\n   *\n   * Add `.not` earlier in the chain to negate `.equal`. However, it's often\n   * best to assert that the target is equal to its expected value, rather than\n   * not equal to one of countless unexpected values.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.equal(2); // Not recommended\n   *\n   * `.equal` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.equal(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.equal(2);\n   *\n   * The aliases `.equals` and `eq` can be used interchangeably with `.equal`.\n   *\n   * @name equal\n   * @alias equals\n   * @alias eq\n   * @param {Mixed} val\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertEqual (val, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    if (flag(this, 'deep')) {\n      var prevLockSsfi = flag(this, 'lockSsfi');\n      flag(this, 'lockSsfi', true);\n      this.eql(val);\n      flag(this, 'lockSsfi', prevLockSsfi);\n    } else {\n      this.assert(\n          val === obj\n        , 'expected #{this} to equal #{exp}'\n        , 'expected #{this} to not equal #{exp}'\n        , val\n        , this._obj\n        , true\n      );\n    }\n  }\n\n  Assertion.addMethod('equal', assertEqual);\n  Assertion.addMethod('equals', assertEqual);\n  Assertion.addMethod('eq', assertEqual);\n\n  /**\n   * ### .eql(obj[, msg])\n   *\n   * Asserts that the target is deeply equal to the given `obj`. See the\n   * `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object is deeply (but not strictly) equal to {a: 1}\n   *     expect({a: 1}).to.eql({a: 1}).but.not.equal({a: 1});\n   *\n   *     // Target array is deeply (but not strictly) equal to [1, 2]\n   *     expect([1, 2]).to.eql([1, 2]).but.not.equal([1, 2]);\n   *\n   * Add `.not` earlier in the chain to negate `.eql`. However, it's often best\n   * to assert that the target is deeply equal to its expected value, rather\n   * than not deeply equal to one of countless unexpected values.\n   *\n   *     expect({a: 1}).to.eql({a: 1}); // Recommended\n   *     expect({a: 1}).to.not.eql({b: 2}); // Not recommended\n   *\n   * `.eql` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect({a: 1}).to.eql({b: 2}, 'nooo why fail??');\n   *     expect({a: 1}, 'nooo why fail??').to.eql({b: 2});\n   *\n   * The alias `.eqls` can be used interchangeably with `.eql`.\n   *\n   * The `.deep.equal` assertion is almost identical to `.eql` but with one\n   * difference: `.deep.equal` causes deep equality comparisons to also be used\n   * for any other assertions that follow in the chain.\n   *\n   * @name eql\n   * @alias eqls\n   * @param {Mixed} obj\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertEql(obj, msg) {\n    if (msg) flag(this, 'message', msg);\n    this.assert(\n        _.eql(obj, flag(this, 'object'))\n      , 'expected #{this} to deeply equal #{exp}'\n      , 'expected #{this} to not deeply equal #{exp}'\n      , obj\n      , this._obj\n      , true\n    );\n  }\n\n  Assertion.addMethod('eql', assertEql);\n  Assertion.addMethod('eqls', assertEql);\n\n  /**\n   * ### .above(n[, msg])\n   *\n   * Asserts that the target is a number or a date greater than the given number or date `n` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.above(1); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.above(2); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.above(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.above`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(1).to.not.be.above(2); // Not recommended\n   *\n   * `.above` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.above(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.above(2);\n   *\n   * The aliases `.gt` and `.greaterThan` can be used interchangeably with\n   * `.above`.\n   *\n   * @name above\n   * @alias gt\n   * @alias greaterThan\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertAbove (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to above must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to above must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount > n\n        , 'expected #{this} to have a ' + descriptor + ' above #{exp} but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + ' above #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj > n\n        , 'expected #{this} to be above #{exp}'\n        , 'expected #{this} to be at most #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('above', assertAbove);\n  Assertion.addMethod('gt', assertAbove);\n  Assertion.addMethod('greaterThan', assertAbove);\n\n  /**\n   * ### .least(n[, msg])\n   *\n   * Asserts that the target is a number or a date greater than or equal to the given\n   * number or date `n` respectively. However, it's often best to assert that the target is equal to\n   * its expected value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.at.least(1); // Not recommended\n   *     expect(2).to.be.at.least(2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than or equal to the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.at.least(2); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.at.least(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.least`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.at.least(2); // Not recommended\n   *\n   * `.least` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.at.least(2, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.at.least(2);\n   *\n   * The alias `.gte` can be used interchangeably with `.least`.\n   *\n   * @name least\n   * @alias gte\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertLeast (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to least must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to least must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount >= n\n        , 'expected #{this} to have a ' + descriptor + ' at least #{exp} but got #{act}'\n        , 'expected #{this} to have a ' + descriptor + ' below #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj >= n\n        , 'expected #{this} to be at least #{exp}'\n        , 'expected #{this} to be below #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('least', assertLeast);\n  Assertion.addMethod('gte', assertLeast);\n\n  /**\n   * ### .below(n[, msg])\n   *\n   * Asserts that the target is a number or a date less than the given number or date `n` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.below(2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is less than the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.below(4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.length(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.below(4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.below`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.be.below(1); // Not recommended\n   *\n   * `.below` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(2).to.be.below(1, 'nooo why fail??');\n   *     expect(2, 'nooo why fail??').to.be.below(1);\n   *\n   * The aliases `.lt` and `.lessThan` can be used interchangeably with\n   * `.below`.\n   *\n   * @name below\n   * @alias lt\n   * @alias lessThan\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertBelow (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to below must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to below must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount < n\n        , 'expected #{this} to have a ' + descriptor + ' below #{exp} but got #{act}'\n        , 'expected #{this} to not have a ' + descriptor + ' below #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj < n\n        , 'expected #{this} to be below #{exp}'\n        , 'expected #{this} to be at least #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('below', assertBelow);\n  Assertion.addMethod('lt', assertBelow);\n  Assertion.addMethod('lessThan', assertBelow);\n\n  /**\n   * ### .most(n[, msg])\n   *\n   * Asserts that the target is a number or a date less than or equal to the given number\n   * or date `n` respectively. However, it's often best to assert that the target is equal to its\n   * expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.at.most(2); // Not recommended\n   *     expect(1).to.be.at.most(1); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is less than or equal to the given number `n`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.at.most(4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.at.most(4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.most`.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.not.be.at.most(1); // Not recommended\n   *\n   * `.most` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(2).to.be.at.most(1, 'nooo why fail??');\n   *     expect(2, 'nooo why fail??').to.be.at.most(1);\n   *\n   * The alias `.lte` can be used interchangeably with `.most`.\n   *\n   * @name most\n   * @alias lte\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertMost (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , nType = _.type(n).toLowerCase()\n      , errorMessage\n      , shouldThrow = true;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && nType !== 'date')) {\n      errorMessage = msgPrefix + 'the argument to most must be a date';\n    } else if (nType !== 'number' && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the argument to most must be a number';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount <= n\n        , 'expected #{this} to have a ' + descriptor + ' at most #{exp} but got #{act}'\n        , 'expected #{this} to have a ' + descriptor + ' above #{exp}'\n        , n\n        , itemsCount\n      );\n    } else {\n      this.assert(\n          obj <= n\n        , 'expected #{this} to be at most #{exp}'\n        , 'expected #{this} to be above #{exp}'\n        , n\n      );\n    }\n  }\n\n  Assertion.addMethod('most', assertMost);\n  Assertion.addMethod('lte', assertMost);\n\n  /**\n   * ### .within(start, finish[, msg])\n   *\n   * Asserts that the target is a number or a date greater than or equal to the given\n   * number or date `start`, and less than or equal to the given number or date `finish` respectively.\n   * However, it's often best to assert that the target is equal to its expected\n   * value.\n   *\n   *     expect(2).to.equal(2); // Recommended\n   *     expect(2).to.be.within(1, 3); // Not recommended\n   *     expect(2).to.be.within(2, 3); // Not recommended\n   *     expect(2).to.be.within(1, 2); // Not recommended\n   *\n   * Add `.lengthOf` earlier in the chain to assert that the target's `length`\n   * or `size` is greater than or equal to the given number `start`, and less\n   * than or equal to the given number `finish`.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.have.lengthOf.within(2, 4); // Not recommended\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3); // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.within(2, 4); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.within`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.within(2, 4); // Not recommended\n   *\n   * `.within` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(4).to.be.within(1, 3, 'nooo why fail??');\n   *     expect(4, 'nooo why fail??').to.be.within(1, 3);\n   *\n   * @name within\n   * @param {Number} start lower bound inclusive\n   * @param {Number} finish upper bound inclusive\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('within', function (start, finish, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , doLength = flag(this, 'doLength')\n      , flagMsg = flag(this, 'message')\n      , msgPrefix = ((flagMsg) ? flagMsg + ': ' : '')\n      , ssfi = flag(this, 'ssfi')\n      , objType = _.type(obj).toLowerCase()\n      , startType = _.type(start).toLowerCase()\n      , finishType = _.type(finish).toLowerCase()\n      , errorMessage\n      , shouldThrow = true\n      , range = (startType === 'date' && finishType === 'date')\n          ? start.toUTCString() + '..' + finish.toUTCString()\n          : start + '..' + finish;\n\n    if (doLength && objType !== 'map' && objType !== 'set') {\n      new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n    }\n\n    if (!doLength && (objType === 'date' && (startType !== 'date' || finishType !== 'date'))) {\n      errorMessage = msgPrefix + 'the arguments to within must be dates';\n    } else if ((startType !== 'number' || finishType !== 'number') && (doLength || objType === 'number')) {\n      errorMessage = msgPrefix + 'the arguments to within must be numbers';\n    } else if (!doLength && (objType !== 'date' && objType !== 'number')) {\n      var printObj = (objType === 'string') ? \"'\" + obj + \"'\" : obj;\n      errorMessage = msgPrefix + 'expected ' + printObj + ' to be a number or a date';\n    } else {\n      shouldThrow = false;\n    }\n\n    if (shouldThrow) {\n      throw new AssertionError(errorMessage, undefined, ssfi);\n    }\n\n    if (doLength) {\n      var descriptor = 'length'\n        , itemsCount;\n      if (objType === 'map' || objType === 'set') {\n        descriptor = 'size';\n        itemsCount = obj.size;\n      } else {\n        itemsCount = obj.length;\n      }\n      this.assert(\n          itemsCount >= start && itemsCount <= finish\n        , 'expected #{this} to have a ' + descriptor + ' within ' + range\n        , 'expected #{this} to not have a ' + descriptor + ' within ' + range\n      );\n    } else {\n      this.assert(\n          obj >= start && obj <= finish\n        , 'expected #{this} to be within ' + range\n        , 'expected #{this} to not be within ' + range\n      );\n    }\n  });\n\n  /**\n   * ### .instanceof(constructor[, msg])\n   *\n   * Asserts that the target is an instance of the given `constructor`.\n   *\n   *     function Cat () { }\n   *\n   *     expect(new Cat()).to.be.an.instanceof(Cat);\n   *     expect([1, 2]).to.be.an.instanceof(Array);\n   *\n   * Add `.not` earlier in the chain to negate `.instanceof`.\n   *\n   *     expect({a: 1}).to.not.be.an.instanceof(Array);\n   *\n   * `.instanceof` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1).to.be.an.instanceof(Array, 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.an.instanceof(Array);\n   *\n   * Due to limitations in ES5, `.instanceof` may not always work as expected\n   * when using a transpiler such as Babel or TypeScript. In particular, it may\n   * produce unexpected results when subclassing built-in object such as\n   * `Array`, `Error`, and `Map`. See your transpiler's docs for details:\n   *\n   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))\n   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))\n   *\n   * The alias `.instanceOf` can be used interchangeably with `.instanceof`.\n   *\n   * @name instanceof\n   * @param {Constructor} constructor\n   * @param {String} msg _optional_\n   * @alias instanceOf\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertInstanceOf (constructor, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var target = flag(this, 'object')\n    var ssfi = flag(this, 'ssfi');\n    var flagMsg = flag(this, 'message');\n\n    try {\n      var isInstanceOf = target instanceof constructor;\n    } catch (err) {\n      if (err instanceof TypeError) {\n        flagMsg = flagMsg ? flagMsg + ': ' : '';\n        throw new AssertionError(\n          flagMsg + 'The instanceof assertion needs a constructor but '\n            + _.type(constructor) + ' was given.',\n          undefined,\n          ssfi\n        );\n      }\n      throw err;\n    }\n\n    var name = _.getName(constructor);\n    if (name === null) {\n      name = 'an unnamed constructor';\n    }\n\n    this.assert(\n        isInstanceOf\n      , 'expected #{this} to be an instance of ' + name\n      , 'expected #{this} to not be an instance of ' + name\n    );\n  };\n\n  Assertion.addMethod('instanceof', assertInstanceOf);\n  Assertion.addMethod('instanceOf', assertInstanceOf);\n\n  /**\n   * ### .property(name[, val[, msg]])\n   *\n   * Asserts that the target has a property with the given key `name`.\n   *\n   *     expect({a: 1}).to.have.property('a');\n   *\n   * When `val` is provided, `.property` also asserts that the property's value\n   * is equal to the given `val`.\n   *\n   *     expect({a: 1}).to.have.property('a', 1);\n   *\n   * By default, strict (`===`) equality is used. Add `.deep` earlier in the\n   * chain to use deep equality instead. See the `deep-eql` project page for\n   * info on the deep equality algorithm: https://github.com/chaijs/deep-eql.\n   *\n   *     // Target object deeply (but not strictly) has property `x: {a: 1}`\n   *     expect({x: {a: 1}}).to.have.deep.property('x', {a: 1});\n   *     expect({x: {a: 1}}).to.not.have.property('x', {a: 1});\n   *\n   * The target's enumerable and non-enumerable properties are always included\n   * in the search. By default, both own and inherited properties are included.\n   * Add `.own` earlier in the chain to exclude inherited properties from the\n   * search.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     expect({a: 1}).to.have.own.property('a');\n   *     expect({a: 1}).to.have.own.property('a', 1);\n   *     expect({a: 1}).to.have.property('b');\n   *     expect({a: 1}).to.not.have.own.property('b');\n   *\n   * `.deep` and `.own` can be combined.\n   *\n   *     expect({x: {a: 1}}).to.have.deep.own.property('x', {a: 1});\n   *\n   * Add `.nested` earlier in the chain to enable dot- and bracket-notation when\n   * referencing nested properties.\n   *\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]');\n   *     expect({a: {b: ['x', 'y']}}).to.have.nested.property('a.b[1]', 'y');\n   *\n   * If `.` or `[]` are part of an actual property name, they can be escaped by\n   * adding two backslashes before them.\n   *\n   *     expect({'.a': {'[b]': 'x'}}).to.have.nested.property('\\\\.a.\\\\[b\\\\]');\n   *\n   * `.deep` and `.nested` can be combined.\n   *\n   *     expect({a: {b: [{c: 3}]}})\n   *       .to.have.deep.nested.property('a.b[0]', {c: 3});\n   *\n   * `.own` and `.nested` cannot be combined.\n   *\n   * Add `.not` earlier in the chain to negate `.property`.\n   *\n   *     expect({a: 1}).to.not.have.property('b');\n   *\n   * However, it's dangerous to negate `.property` when providing `val`. The\n   * problem is that it creates uncertain expectations by asserting that the\n   * target either doesn't have a property with the given key `name`, or that it\n   * does have a property with the given key `name` but its value isn't equal to\n   * the given `val`. It's often best to identify the exact output that's\n   * expected, and then write an assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to have a property with the given key\n   * `name`, it's often best to assert exactly that.\n   *\n   *     expect({b: 2}).to.not.have.property('a'); // Recommended\n   *     expect({b: 2}).to.not.have.property('a', 1); // Not recommended\n   *\n   * When the target is expected to have a property with the given key `name`,\n   * it's often best to assert that the property has its expected value, rather\n   * than asserting that it doesn't have one of many unexpected values.\n   *\n   *     expect({a: 3}).to.have.property('a', 3); // Recommended\n   *     expect({a: 3}).to.not.have.property('a', 1); // Not recommended\n   *\n   * `.property` changes the target of any assertions that follow in the chain\n   * to be the value of the property from the original target object.\n   *\n   *     expect({a: 1}).to.have.property('a').that.is.a('number');\n   *\n   * `.property` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing `val`, only use the\n   * second form.\n   *\n   *     // Recommended\n   *     expect({a: 1}).to.have.property('a', 2, 'nooo why fail??');\n   *     expect({a: 1}, 'nooo why fail??').to.have.property('a', 2);\n   *     expect({a: 1}, 'nooo why fail??').to.have.property('b');\n   *\n   *     // Not recommended\n   *     expect({a: 1}).to.have.property('b', undefined, 'nooo why fail??');\n   *\n   * The above assertion isn't the same thing as not providing `val`. Instead,\n   * it's asserting that the target object has a `b` property that's equal to\n   * `undefined`.\n   *\n   * The assertions `.ownProperty` and `.haveOwnProperty` can be used\n   * interchangeably with `.own.property`.\n   *\n   * @name property\n   * @param {String} name\n   * @param {Mixed} val (optional)\n   * @param {String} msg _optional_\n   * @returns value of property for chaining\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertProperty (name, val, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var isNested = flag(this, 'nested')\n      , isOwn = flag(this, 'own')\n      , flagMsg = flag(this, 'message')\n      , obj = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , nameType = typeof name;\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n\n    if (isNested) {\n      if (nameType !== 'string') {\n        throw new AssertionError(\n          flagMsg + 'the argument to property must be a string when using nested syntax',\n          undefined,\n          ssfi\n        );\n      }\n    } else {\n      if (nameType !== 'string' && nameType !== 'number' && nameType !== 'symbol') {\n        throw new AssertionError(\n          flagMsg + 'the argument to property must be a string, number, or symbol',\n          undefined,\n          ssfi\n        );\n      }\n    }\n\n    if (isNested && isOwn) {\n      throw new AssertionError(\n        flagMsg + 'The \"nested\" and \"own\" flags cannot be combined.',\n        undefined,\n        ssfi\n      );\n    }\n\n    if (obj === null || obj === undefined) {\n      throw new AssertionError(\n        flagMsg + 'Target cannot be null or undefined.',\n        undefined,\n        ssfi\n      );\n    }\n\n    var isDeep = flag(this, 'deep')\n      , negate = flag(this, 'negate')\n      , pathInfo = isNested ? _.getPathInfo(obj, name) : null\n      , value = isNested ? pathInfo.value : obj[name];\n\n    var descriptor = '';\n    if (isDeep) descriptor += 'deep ';\n    if (isOwn) descriptor += 'own ';\n    if (isNested) descriptor += 'nested ';\n    descriptor += 'property ';\n\n    var hasProperty;\n    if (isOwn) hasProperty = Object.prototype.hasOwnProperty.call(obj, name);\n    else if (isNested) hasProperty = pathInfo.exists;\n    else hasProperty = _.hasProperty(obj, name);\n\n    // When performing a negated assertion for both name and val, merely having\n    // a property with the given name isn't enough to cause the assertion to\n    // fail. It must both have a property with the given name, and the value of\n    // that property must equal the given val. Therefore, skip this assertion in\n    // favor of the next.\n    if (!negate || arguments.length === 1) {\n      this.assert(\n          hasProperty\n        , 'expected #{this} to have ' + descriptor + _.inspect(name)\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name));\n    }\n\n    if (arguments.length > 1) {\n      this.assert(\n          hasProperty && (isDeep ? _.eql(val, value) : val === value)\n        , 'expected #{this} to have ' + descriptor + _.inspect(name) + ' of #{exp}, but got #{act}'\n        , 'expected #{this} to not have ' + descriptor + _.inspect(name) + ' of #{act}'\n        , val\n        , value\n      );\n    }\n\n    flag(this, 'object', value);\n  }\n\n  Assertion.addMethod('property', assertProperty);\n\n  function assertOwnProperty (name, value, msg) {\n    flag(this, 'own', true);\n    assertProperty.apply(this, arguments);\n  }\n\n  Assertion.addMethod('ownProperty', assertOwnProperty);\n  Assertion.addMethod('haveOwnProperty', assertOwnProperty);\n\n  /**\n   * ### .ownPropertyDescriptor(name[, descriptor[, msg]])\n   *\n   * Asserts that the target has its own property descriptor with the given key\n   * `name`. Enumerable and non-enumerable properties are included in the\n   * search.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a');\n   *\n   * When `descriptor` is provided, `.ownPropertyDescriptor` also asserts that\n   * the property's descriptor is deeply equal to the given `descriptor`. See\n   * the `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * Add `.not` earlier in the chain to negate `.ownPropertyDescriptor`.\n   *\n   *     expect({a: 1}).to.not.have.ownPropertyDescriptor('b');\n   *\n   * However, it's dangerous to negate `.ownPropertyDescriptor` when providing\n   * a `descriptor`. The problem is that it creates uncertain expectations by\n   * asserting that the target either doesn't have a property descriptor with\n   * the given key `name`, or that it does have a property descriptor with the\n   * given key `name` but its not deeply equal to the given `descriptor`. It's\n   * often best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to have a property descriptor with the given\n   * key `name`, it's often best to assert exactly that.\n   *\n   *     // Recommended\n   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a');\n   *\n   *     // Not recommended\n   *     expect({b: 2}).to.not.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * When the target is expected to have a property descriptor with the given\n   * key `name`, it's often best to assert that the property has its expected\n   * descriptor, rather than asserting that it doesn't have one of many\n   * unexpected descriptors.\n   *\n   *     // Recommended\n   *     expect({a: 3}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 3,\n   *     });\n   *\n   *     // Not recommended\n   *     expect({a: 3}).to.not.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 1,\n   *     });\n   *\n   * `.ownPropertyDescriptor` changes the target of any assertions that follow\n   * in the chain to be the value of the property descriptor from the original\n   * target object.\n   *\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a')\n   *       .that.has.property('enumerable', true);\n   *\n   * `.ownPropertyDescriptor` accepts an optional `msg` argument which is a\n   * custom error message to show when the assertion fails. The message can also\n   * be given as the second argument to `expect`. When not providing\n   * `descriptor`, only use the second form.\n   *\n   *     // Recommended\n   *     expect({a: 1}).to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 2,\n   *     }, 'nooo why fail??');\n   *\n   *     // Recommended\n   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('a', {\n   *       configurable: true,\n   *       enumerable: true,\n   *       writable: true,\n   *       value: 2,\n   *     });\n   *\n   *     // Recommended\n   *     expect({a: 1}, 'nooo why fail??').to.have.ownPropertyDescriptor('b');\n   *\n   *     // Not recommended\n   *     expect({a: 1})\n   *       .to.have.ownPropertyDescriptor('b', undefined, 'nooo why fail??');\n   *\n   * The above assertion isn't the same thing as not providing `descriptor`.\n   * Instead, it's asserting that the target object has a `b` property\n   * descriptor that's deeply equal to `undefined`.\n   *\n   * The alias `.haveOwnPropertyDescriptor` can be used interchangeably with\n   * `.ownPropertyDescriptor`.\n   *\n   * @name ownPropertyDescriptor\n   * @alias haveOwnPropertyDescriptor\n   * @param {String} name\n   * @param {Object} descriptor _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertOwnPropertyDescriptor (name, descriptor, msg) {\n    if (typeof descriptor === 'string') {\n      msg = descriptor;\n      descriptor = null;\n    }\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var actualDescriptor = Object.getOwnPropertyDescriptor(Object(obj), name);\n    if (actualDescriptor && descriptor) {\n      this.assert(\n          _.eql(descriptor, actualDescriptor)\n        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to match ' + _.inspect(descriptor) + ', got ' + _.inspect(actualDescriptor)\n        , 'expected the own property descriptor for ' + _.inspect(name) + ' on #{this} to not match ' + _.inspect(descriptor)\n        , descriptor\n        , actualDescriptor\n        , true\n      );\n    } else {\n      this.assert(\n          actualDescriptor\n        , 'expected #{this} to have an own property descriptor for ' + _.inspect(name)\n        , 'expected #{this} to not have an own property descriptor for ' + _.inspect(name)\n      );\n    }\n    flag(this, 'object', actualDescriptor);\n  }\n\n  Assertion.addMethod('ownPropertyDescriptor', assertOwnPropertyDescriptor);\n  Assertion.addMethod('haveOwnPropertyDescriptor', assertOwnPropertyDescriptor);\n\n  /**\n   * ### .lengthOf(n[, msg])\n   *\n   * Asserts that the target's `length` or `size` is equal to the given number\n   * `n`.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(3);\n   *     expect('foo').to.have.lengthOf(3);\n   *     expect(new Set([1, 2, 3])).to.have.lengthOf(3);\n   *     expect(new Map([['a', 1], ['b', 2], ['c', 3]])).to.have.lengthOf(3);\n   *\n   * Add `.not` earlier in the chain to negate `.lengthOf`. However, it's often\n   * best to assert that the target's `length` property is equal to its expected\n   * value, rather than not equal to one of many unexpected values.\n   *\n   *     expect('foo').to.have.lengthOf(3); // Recommended\n   *     expect('foo').to.not.have.lengthOf(4); // Not recommended\n   *\n   * `.lengthOf` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2, 3]).to.have.lengthOf(2, 'nooo why fail??');\n   *     expect([1, 2, 3], 'nooo why fail??').to.have.lengthOf(2);\n   *\n   * `.lengthOf` can also be used as a language chain, causing all `.above`,\n   * `.below`, `.least`, `.most`, and `.within` assertions that follow in the\n   * chain to use the target's `length` property as the target. However, it's\n   * often best to assert that the target's `length` property is equal to its\n   * expected length, rather than asserting that its `length` property falls\n   * within some range of values.\n   *\n   *     // Recommended\n   *     expect([1, 2, 3]).to.have.lengthOf(3);\n   *\n   *     // Not recommended\n   *     expect([1, 2, 3]).to.have.lengthOf.above(2);\n   *     expect([1, 2, 3]).to.have.lengthOf.below(4);\n   *     expect([1, 2, 3]).to.have.lengthOf.at.least(3);\n   *     expect([1, 2, 3]).to.have.lengthOf.at.most(3);\n   *     expect([1, 2, 3]).to.have.lengthOf.within(2,4);\n   *\n   * Due to a compatibility issue, the alias `.length` can't be chained directly\n   * off of an uninvoked method such as `.a`. Therefore, `.length` can't be used\n   * interchangeably with `.lengthOf` in every situation. It's recommended to\n   * always use `.lengthOf` instead of `.length`.\n   *\n   *     expect([1, 2, 3]).to.have.a.length(3); // incompatible; throws error\n   *     expect([1, 2, 3]).to.have.a.lengthOf(3);  // passes as expected\n   *\n   * @name lengthOf\n   * @alias length\n   * @param {Number} n\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertLengthChain () {\n    flag(this, 'doLength', true);\n  }\n\n  function assertLength (n, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , objType = _.type(obj).toLowerCase()\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi')\n      , descriptor = 'length'\n      , itemsCount;\n\n    switch (objType) {\n      case 'map':\n      case 'set':\n        descriptor = 'size';\n        itemsCount = obj.size;\n        break;\n      default:\n        new Assertion(obj, flagMsg, ssfi, true).to.have.property('length');\n        itemsCount = obj.length;\n    }\n\n    this.assert(\n        itemsCount == n\n      , 'expected #{this} to have a ' + descriptor + ' of #{exp} but got #{act}'\n      , 'expected #{this} to not have a ' + descriptor + ' of #{act}'\n      , n\n      , itemsCount\n    );\n  }\n\n  Assertion.addChainableMethod('length', assertLength, assertLengthChain);\n  Assertion.addChainableMethod('lengthOf', assertLength, assertLengthChain);\n\n  /**\n   * ### .match(re[, msg])\n   *\n   * Asserts that the target matches the given regular expression `re`.\n   *\n   *     expect('foobar').to.match(/^foo/);\n   *\n   * Add `.not` earlier in the chain to negate `.match`.\n   *\n   *     expect('foobar').to.not.match(/taco/);\n   *\n   * `.match` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect('foobar').to.match(/taco/, 'nooo why fail??');\n   *     expect('foobar', 'nooo why fail??').to.match(/taco/);\n   *\n   * The alias `.matches` can be used interchangeably with `.match`.\n   *\n   * @name match\n   * @alias matches\n   * @param {RegExp} re\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n  function assertMatch(re, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    this.assert(\n        re.exec(obj)\n      , 'expected #{this} to match ' + re\n      , 'expected #{this} not to match ' + re\n    );\n  }\n\n  Assertion.addMethod('match', assertMatch);\n  Assertion.addMethod('matches', assertMatch);\n\n  /**\n   * ### .string(str[, msg])\n   *\n   * Asserts that the target string contains the given substring `str`.\n   *\n   *     expect('foobar').to.have.string('bar');\n   *\n   * Add `.not` earlier in the chain to negate `.string`.\n   *\n   *     expect('foobar').to.not.have.string('taco');\n   *\n   * `.string` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect('foobar').to.have.string('taco', 'nooo why fail??');\n   *     expect('foobar', 'nooo why fail??').to.have.string('taco');\n   *\n   * @name string\n   * @param {String} str\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('string', function (str, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(obj, flagMsg, ssfi, true).is.a('string');\n\n    this.assert(\n        ~obj.indexOf(str)\n      , 'expected #{this} to contain ' + _.inspect(str)\n      , 'expected #{this} to not contain ' + _.inspect(str)\n    );\n  });\n\n  /**\n   * ### .keys(key1[, key2[, ...]])\n   *\n   * Asserts that the target object, array, map, or set has the given keys. Only\n   * the target's own inherited properties are included in the search.\n   *\n   * When the target is an object or array, keys can be provided as one or more\n   * string arguments, a single array argument, or a single object argument. In\n   * the latter case, only the keys in the given object matter; the values are\n   * ignored.\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *     expect(['x', 'y']).to.have.all.keys(0, 1);\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys(['a', 'b']);\n   *     expect(['x', 'y']).to.have.all.keys([0, 1]);\n   *\n   *     expect({a: 1, b: 2}).to.have.all.keys({a: 4, b: 5}); // ignore 4 and 5\n   *     expect(['x', 'y']).to.have.all.keys({0: 4, 1: 5}); // ignore 4 and 5\n   *\n   * When the target is a map or set, each key must be provided as a separate\n   * argument.\n   *\n   *     expect(new Map([['a', 1], ['b', 2]])).to.have.all.keys('a', 'b');\n   *     expect(new Set(['a', 'b'])).to.have.all.keys('a', 'b');\n   *\n   * Because `.keys` does different things based on the target's type, it's\n   * important to check the target's type before using `.keys`. See the `.a` doc\n   * for info on testing a target's type.\n   *\n   *     expect({a: 1, b: 2}).to.be.an('object').that.has.all.keys('a', 'b');\n   *\n   * By default, strict (`===`) equality is used to compare keys of maps and\n   * sets. Add `.deep` earlier in the chain to use deep equality instead. See\n   * the `deep-eql` project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target set deeply (but not strictly) has key `{a: 1}`\n   *     expect(new Set([{a: 1}])).to.have.all.deep.keys([{a: 1}]);\n   *     expect(new Set([{a: 1}])).to.not.have.all.keys([{a: 1}]);\n   *\n   * By default, the target must have all of the given keys and no more. Add\n   * `.any` earlier in the chain to only require that the target have at least\n   * one of the given keys. Also, add `.not` earlier in the chain to negate\n   * `.keys`. It's often best to add `.any` when negating `.keys`, and to use\n   * `.all` when asserting `.keys` without negation.\n   *\n   * When negating `.keys`, `.any` is preferred because `.not.any.keys` asserts\n   * exactly what's expected of the output, whereas `.not.all.keys` creates\n   * uncertain expectations.\n   *\n   *     // Recommended; asserts that target doesn't have any of the given keys\n   *     expect({a: 1, b: 2}).to.not.have.any.keys('c', 'd');\n   *\n   *     // Not recommended; asserts that target doesn't have all of the given\n   *     // keys but may or may not have some of them\n   *     expect({a: 1, b: 2}).to.not.have.all.keys('c', 'd');\n   *\n   * When asserting `.keys` without negation, `.all` is preferred because\n   * `.all.keys` asserts exactly what's expected of the output, whereas\n   * `.any.keys` creates uncertain expectations.\n   *\n   *     // Recommended; asserts that target has all the given keys\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b');\n   *\n   *     // Not recommended; asserts that target has at least one of the given\n   *     // keys but may or may not have more of them\n   *     expect({a: 1, b: 2}).to.have.any.keys('a', 'b');\n   *\n   * Note that `.all` is used by default when neither `.all` nor `.any` appear\n   * earlier in the chain. However, it's often best to add `.all` anyway because\n   * it improves readability.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1, b: 2}).to.have.all.keys('a', 'b'); // Recommended\n   *     expect({a: 1, b: 2}).to.have.keys('a', 'b'); // Not recommended\n   *\n   * Add `.include` earlier in the chain to require that the target's keys be a\n   * superset of the expected keys, rather than identical sets.\n   *\n   *     // Target object's keys are a superset of ['a', 'b'] but not identical\n   *     expect({a: 1, b: 2, c: 3}).to.include.all.keys('a', 'b');\n   *     expect({a: 1, b: 2, c: 3}).to.not.have.all.keys('a', 'b');\n   *\n   * However, if `.any` and `.include` are combined, only the `.any` takes\n   * effect. The `.include` is ignored in this case.\n   *\n   *     // Both assertions are identical\n   *     expect({a: 1}).to.have.any.keys('a', 'b');\n   *     expect({a: 1}).to.include.any.keys('a', 'b');\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.have.key('b');\n   *\n   * The alias `.key` can be used interchangeably with `.keys`.\n   *\n   * @name keys\n   * @alias key\n   * @param {...String|Array|Object} keys\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertKeys (keys) {\n    var obj = flag(this, 'object')\n      , objType = _.type(obj)\n      , keysType = _.type(keys)\n      , ssfi = flag(this, 'ssfi')\n      , isDeep = flag(this, 'deep')\n      , str\n      , deepStr = ''\n      , actual\n      , ok = true\n      , flagMsg = flag(this, 'message');\n\n    flagMsg = flagMsg ? flagMsg + ': ' : '';\n    var mixedArgsMsg = flagMsg + 'when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments';\n\n    if (objType === 'Map' || objType === 'Set') {\n      deepStr = isDeep ? 'deeply ' : '';\n      actual = [];\n\n      // Map and Set '.keys' aren't supported in IE 11. Therefore, use .forEach.\n      obj.forEach(function (val, key) { actual.push(key) });\n\n      if (keysType !== 'Array') {\n        keys = Array.prototype.slice.call(arguments);\n      }\n    } else {\n      actual = _.getOwnEnumerableProperties(obj);\n\n      switch (keysType) {\n        case 'Array':\n          if (arguments.length > 1) {\n            throw new AssertionError(mixedArgsMsg, undefined, ssfi);\n          }\n          break;\n        case 'Object':\n          if (arguments.length > 1) {\n            throw new AssertionError(mixedArgsMsg, undefined, ssfi);\n          }\n          keys = Object.keys(keys);\n          break;\n        default:\n          keys = Array.prototype.slice.call(arguments);\n      }\n\n      // Only stringify non-Symbols because Symbols would become \"Symbol()\"\n      keys = keys.map(function (val) {\n        return typeof val === 'symbol' ? val : String(val);\n      });\n    }\n\n    if (!keys.length) {\n      throw new AssertionError(flagMsg + 'keys required', undefined, ssfi);\n    }\n\n    var len = keys.length\n      , any = flag(this, 'any')\n      , all = flag(this, 'all')\n      , expected = keys;\n\n    if (!any && !all) {\n      all = true;\n    }\n\n    // Has any\n    if (any) {\n      ok = expected.some(function(expectedKey) {\n        return actual.some(function(actualKey) {\n          if (isDeep) {\n            return _.eql(expectedKey, actualKey);\n          } else {\n            return expectedKey === actualKey;\n          }\n        });\n      });\n    }\n\n    // Has all\n    if (all) {\n      ok = expected.every(function(expectedKey) {\n        return actual.some(function(actualKey) {\n          if (isDeep) {\n            return _.eql(expectedKey, actualKey);\n          } else {\n            return expectedKey === actualKey;\n          }\n        });\n      });\n\n      if (!flag(this, 'contains')) {\n        ok = ok && keys.length == actual.length;\n      }\n    }\n\n    // Key string\n    if (len > 1) {\n      keys = keys.map(function(key) {\n        return _.inspect(key);\n      });\n      var last = keys.pop();\n      if (all) {\n        str = keys.join(', ') + ', and ' + last;\n      }\n      if (any) {\n        str = keys.join(', ') + ', or ' + last;\n      }\n    } else {\n      str = _.inspect(keys[0]);\n    }\n\n    // Form\n    str = (len > 1 ? 'keys ' : 'key ') + str;\n\n    // Have / include\n    str = (flag(this, 'contains') ? 'contain ' : 'have ') + str;\n\n    // Assertion\n    this.assert(\n        ok\n      , 'expected #{this} to ' + deepStr + str\n      , 'expected #{this} to not ' + deepStr + str\n      , expected.slice(0).sort(_.compareByInspect)\n      , actual.sort(_.compareByInspect)\n      , true\n    );\n  }\n\n  Assertion.addMethod('keys', assertKeys);\n  Assertion.addMethod('key', assertKeys);\n\n  /**\n   * ### .throw([errorLike], [errMsgMatcher], [msg])\n   *\n   * When no arguments are provided, `.throw` invokes the target function and\n   * asserts that an error is thrown.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw();\n   *\n   * When one argument is provided, and it's an error constructor, `.throw`\n   * invokes the target function and asserts that an error is thrown that's an\n   * instance of that error constructor.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(TypeError);\n   *\n   * When one argument is provided, and it's an error instance, `.throw` invokes\n   * the target function and asserts that an error is thrown that's strictly\n   * (`===`) equal to that error instance.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(err);\n   *\n   * When one argument is provided, and it's a string, `.throw` invokes the\n   * target function and asserts that an error is thrown with a message that\n   * contains that string.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw('salmon');\n   *\n   * When one argument is provided, and it's a regular expression, `.throw`\n   * invokes the target function and asserts that an error is thrown with a\n   * message that matches that regular expression.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(/salmon/);\n   *\n   * When two arguments are provided, and the first is an error instance or\n   * constructor, and the second is a string or regular expression, `.throw`\n   * invokes the function and asserts that an error is thrown that fulfills both\n   * conditions as described above.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(TypeError, 'salmon');\n   *     expect(badFn).to.throw(TypeError, /salmon/);\n   *     expect(badFn).to.throw(err, 'salmon');\n   *     expect(badFn).to.throw(err, /salmon/);\n   *\n   * Add `.not` earlier in the chain to negate `.throw`.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.not.throw();\n   *\n   * However, it's dangerous to negate `.throw` when providing any arguments.\n   * The problem is that it creates uncertain expectations by asserting that the\n   * target either doesn't throw an error, or that it throws an error but of a\n   * different type than the given type, or that it throws an error of the given\n   * type but with a message that doesn't include the given string. It's often\n   * best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to throw an error, it's often best to assert\n   * exactly that.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.not.throw(); // Recommended\n   *     expect(goodFn).to.not.throw(ReferenceError, 'x'); // Not recommended\n   *\n   * When the target is expected to throw an error, it's often best to assert\n   * that the error is of its expected type, and has a message that includes an\n   * expected string, rather than asserting that it doesn't have one of many\n   * unexpected types, and doesn't have a message that includes some string.\n   *\n   *     var badFn = function () { throw new TypeError('Illegal salmon!'); };\n   *\n   *     expect(badFn).to.throw(TypeError, 'salmon'); // Recommended\n   *     expect(badFn).to.not.throw(ReferenceError, 'x'); // Not recommended\n   *\n   * `.throw` changes the target of any assertions that follow in the chain to\n   * be the error object that's thrown.\n   *\n   *     var err = new TypeError('Illegal salmon!');\n   *     err.code = 42;\n   *     var badFn = function () { throw err; };\n   *\n   *     expect(badFn).to.throw(TypeError).with.property('code', 42);\n   *\n   * `.throw` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`. When not providing two arguments, always use\n   * the second form.\n   *\n   *     var goodFn = function () {};\n   *\n   *     expect(goodFn).to.throw(TypeError, 'x', 'nooo why fail??');\n   *     expect(goodFn, 'nooo why fail??').to.throw();\n   *\n   * Due to limitations in ES5, `.throw` may not always work as expected when\n   * using a transpiler such as Babel or TypeScript. In particular, it may\n   * produce unexpected results when subclassing the built-in `Error` object and\n   * then passing the subclassed constructor to `.throw`. See your transpiler's\n   * docs for details:\n   *\n   * - ([Babel](https://babeljs.io/docs/usage/caveats/#classes))\n   * - ([TypeScript](https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work))\n   *\n   * Beware of some common mistakes when using the `throw` assertion. One common\n   * mistake is to accidentally invoke the function yourself instead of letting\n   * the `throw` assertion invoke the function for you. For example, when\n   * testing if a function named `fn` throws, provide `fn` instead of `fn()` as\n   * the target for the assertion.\n   *\n   *     expect(fn).to.throw();     // Good! Tests `fn` as desired\n   *     expect(fn()).to.throw();   // Bad! Tests result of `fn()`, not `fn`\n   *\n   * If you need to assert that your function `fn` throws when passed certain\n   * arguments, then wrap a call to `fn` inside of another function.\n   *\n   *     expect(function () { fn(42); }).to.throw();  // Function expression\n   *     expect(() => fn(42)).to.throw();             // ES6 arrow function\n   *\n   * Another common mistake is to provide an object method (or any stand-alone\n   * function that relies on `this`) as the target of the assertion. Doing so is\n   * problematic because the `this` context will be lost when the function is\n   * invoked by `.throw`; there's no way for it to know what `this` is supposed\n   * to be. There are two ways around this problem. One solution is to wrap the\n   * method or function call inside of another function. Another solution is to\n   * use `bind`.\n   *\n   *     expect(function () { cat.meow(); }).to.throw();  // Function expression\n   *     expect(() => cat.meow()).to.throw();             // ES6 arrow function\n   *     expect(cat.meow.bind(cat)).to.throw();           // Bind\n   *\n   * Finally, it's worth mentioning that it's a best practice in JavaScript to\n   * only throw `Error` and derivatives of `Error` such as `ReferenceError`,\n   * `TypeError`, and user-defined objects that extend `Error`. No other type of\n   * value will generate a stack trace when initialized. With that said, the\n   * `throw` assertion does technically support any type of value being thrown,\n   * not just `Error` and its derivatives.\n   *\n   * The aliases `.throws` and `.Throw` can be used interchangeably with\n   * `.throw`.\n   *\n   * @name throw\n   * @alias throws\n   * @alias Throw\n   * @param {Error|ErrorConstructor} errorLike\n   * @param {String|RegExp} errMsgMatcher error message\n   * @param {String} msg _optional_\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @returns error for chaining (null if no error)\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertThrows (errorLike, errMsgMatcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , ssfi = flag(this, 'ssfi')\n      , flagMsg = flag(this, 'message')\n      , negate = flag(this, 'negate') || false;\n    new Assertion(obj, flagMsg, ssfi, true).is.a('function');\n\n    if (errorLike instanceof RegExp || typeof errorLike === 'string') {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    var caughtErr;\n    try {\n      obj();\n    } catch (err) {\n      caughtErr = err;\n    }\n\n    // If we have the negate flag enabled and at least one valid argument it means we do expect an error\n    // but we want it to match a given set of criteria\n    var everyArgIsUndefined = errorLike === undefined && errMsgMatcher === undefined;\n\n    // If we've got the negate flag enabled and both args, we should only fail if both aren't compatible\n    // See Issue #551 and PR #683@GitHub\n    var everyArgIsDefined = Boolean(errorLike && errMsgMatcher);\n    var errorLikeFail = false;\n    var errMsgMatcherFail = false;\n\n    // Checking if error was thrown\n    if (everyArgIsUndefined || !everyArgIsUndefined && !negate) {\n      // We need this to display results correctly according to their types\n      var errorLikeString = 'an error';\n      if (errorLike instanceof Error) {\n        errorLikeString = '#{exp}';\n      } else if (errorLike) {\n        errorLikeString = _.checkError.getConstructorName(errorLike);\n      }\n\n      this.assert(\n          caughtErr\n        , 'expected #{this} to throw ' + errorLikeString\n        , 'expected #{this} to not throw an error but #{act} was thrown'\n        , errorLike && errorLike.toString()\n        , (caughtErr instanceof Error ?\n            caughtErr.toString() : (typeof caughtErr === 'string' ? caughtErr : caughtErr &&\n                                    _.checkError.getConstructorName(caughtErr)))\n      );\n    }\n\n    if (errorLike && caughtErr) {\n      // We should compare instances only if `errorLike` is an instance of `Error`\n      if (errorLike instanceof Error) {\n        var isCompatibleInstance = _.checkError.compatibleInstance(caughtErr, errorLike);\n\n        if (isCompatibleInstance === negate) {\n          // These checks were created to ensure we won't fail too soon when we've got both args and a negate\n          // See Issue #551 and PR #683@GitHub\n          if (everyArgIsDefined && negate) {\n            errorLikeFail = true;\n          } else {\n            this.assert(\n                negate\n              , 'expected #{this} to throw #{exp} but #{act} was thrown'\n              , 'expected #{this} to not throw #{exp}' + (caughtErr && !negate ? ' but #{act} was thrown' : '')\n              , errorLike.toString()\n              , caughtErr.toString()\n            );\n          }\n        }\n      }\n\n      var isCompatibleConstructor = _.checkError.compatibleConstructor(caughtErr, errorLike);\n      if (isCompatibleConstructor === negate) {\n        if (everyArgIsDefined && negate) {\n            errorLikeFail = true;\n        } else {\n          this.assert(\n              negate\n            , 'expected #{this} to throw #{exp} but #{act} was thrown'\n            , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')\n            , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))\n            , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))\n          );\n        }\n      }\n    }\n\n    if (caughtErr && errMsgMatcher !== undefined && errMsgMatcher !== null) {\n      // Here we check compatible messages\n      var placeholder = 'including';\n      if (errMsgMatcher instanceof RegExp) {\n        placeholder = 'matching'\n      }\n\n      var isCompatibleMessage = _.checkError.compatibleMessage(caughtErr, errMsgMatcher);\n      if (isCompatibleMessage === negate) {\n        if (everyArgIsDefined && negate) {\n            errMsgMatcherFail = true;\n        } else {\n          this.assert(\n            negate\n            , 'expected #{this} to throw error ' + placeholder + ' #{exp} but got #{act}'\n            , 'expected #{this} to throw error not ' + placeholder + ' #{exp}'\n            ,  errMsgMatcher\n            ,  _.checkError.getMessage(caughtErr)\n          );\n        }\n      }\n    }\n\n    // If both assertions failed and both should've matched we throw an error\n    if (errorLikeFail && errMsgMatcherFail) {\n      this.assert(\n        negate\n        , 'expected #{this} to throw #{exp} but #{act} was thrown'\n        , 'expected #{this} to not throw #{exp}' + (caughtErr ? ' but #{act} was thrown' : '')\n        , (errorLike instanceof Error ? errorLike.toString() : errorLike && _.checkError.getConstructorName(errorLike))\n        , (caughtErr instanceof Error ? caughtErr.toString() : caughtErr && _.checkError.getConstructorName(caughtErr))\n      );\n    }\n\n    flag(this, 'object', caughtErr);\n  };\n\n  Assertion.addMethod('throw', assertThrows);\n  Assertion.addMethod('throws', assertThrows);\n  Assertion.addMethod('Throw', assertThrows);\n\n  /**\n   * ### .respondTo(method[, msg])\n   *\n   * When the target is a non-function object, `.respondTo` asserts that the\n   * target has a method with the given name `method`. The method can be own or\n   * inherited, and it can be enumerable or non-enumerable.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(new Cat()).to.respondTo('meow');\n   *\n   * When the target is a function, `.respondTo` asserts that the target's\n   * `prototype` property has a method with the given name `method`. Again, the\n   * method can be own or inherited, and it can be enumerable or non-enumerable.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(Cat).to.respondTo('meow');\n   *\n   * Add `.itself` earlier in the chain to force `.respondTo` to treat the\n   * target as a non-function object, even if it's a function. Thus, it asserts\n   * that the target has a method with the given name `method`, rather than\n   * asserting that the target's `prototype` property has a method with the\n   * given name `method`.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *     Cat.hiss = function () {};\n   *\n   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');\n   *\n   * When not adding `.itself`, it's important to check the target's type before\n   * using `.respondTo`. See the `.a` doc for info on checking a target's type.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *\n   *     expect(new Cat()).to.be.an('object').that.respondsTo('meow');\n   *\n   * Add `.not` earlier in the chain to negate `.respondTo`.\n   *\n   *     function Dog () {}\n   *     Dog.prototype.bark = function () {};\n   *\n   *     expect(new Dog()).to.not.respondTo('meow');\n   *\n   * `.respondTo` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect({}).to.respondTo('meow', 'nooo why fail??');\n   *     expect({}, 'nooo why fail??').to.respondTo('meow');\n   *\n   * The alias `.respondsTo` can be used interchangeably with `.respondTo`.\n   *\n   * @name respondTo\n   * @alias respondsTo\n   * @param {String} method\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function respondTo (method, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , itself = flag(this, 'itself')\n      , context = ('function' === typeof obj && !itself)\n        ? obj.prototype[method]\n        : obj[method];\n\n    this.assert(\n        'function' === typeof context\n      , 'expected #{this} to respond to ' + _.inspect(method)\n      , 'expected #{this} to not respond to ' + _.inspect(method)\n    );\n  }\n\n  Assertion.addMethod('respondTo', respondTo);\n  Assertion.addMethod('respondsTo', respondTo);\n\n  /**\n   * ### .itself\n   *\n   * Forces all `.respondTo` assertions that follow in the chain to behave as if\n   * the target is a non-function object, even if it's a function. Thus, it\n   * causes `.respondTo` to assert that the target has a method with the given\n   * name, rather than asserting that the target's `prototype` property has a\n   * method with the given name.\n   *\n   *     function Cat () {}\n   *     Cat.prototype.meow = function () {};\n   *     Cat.hiss = function () {};\n   *\n   *     expect(Cat).itself.to.respondTo('hiss').but.not.respondTo('meow');\n   *\n   * @name itself\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('itself', function () {\n    flag(this, 'itself', true);\n  });\n\n  /**\n   * ### .satisfy(matcher[, msg])\n   *\n   * Invokes the given `matcher` function with the target being passed as the\n   * first argument, and asserts that the value returned is truthy.\n   *\n   *     expect(1).to.satisfy(function(num) {\n   *       return num > 0;\n   *     });\n   *\n   * Add `.not` earlier in the chain to negate `.satisfy`.\n   *\n   *     expect(1).to.not.satisfy(function(num) {\n   *       return num > 2;\n   *     });\n   *\n   * `.satisfy` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1).to.satisfy(function(num) {\n   *       return num > 2;\n   *     }, 'nooo why fail??');\n   *\n   *     expect(1, 'nooo why fail??').to.satisfy(function(num) {\n   *       return num > 2;\n   *     });\n   *\n   * The alias `.satisfies` can be used interchangeably with `.satisfy`.\n   *\n   * @name satisfy\n   * @alias satisfies\n   * @param {Function} matcher\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function satisfy (matcher, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object');\n    var result = matcher(obj);\n    this.assert(\n        result\n      , 'expected #{this} to satisfy ' + _.objDisplay(matcher)\n      , 'expected #{this} to not satisfy' + _.objDisplay(matcher)\n      , flag(this, 'negate') ? false : true\n      , result\n    );\n  }\n\n  Assertion.addMethod('satisfy', satisfy);\n  Assertion.addMethod('satisfies', satisfy);\n\n  /**\n   * ### .closeTo(expected, delta[, msg])\n   *\n   * Asserts that the target is a number that's within a given +/- `delta` range\n   * of the given number `expected`. However, it's often best to assert that the\n   * target is equal to its expected value.\n   *\n   *     // Recommended\n   *     expect(1.5).to.equal(1.5);\n   *\n   *     // Not recommended\n   *     expect(1.5).to.be.closeTo(1, 0.5);\n   *     expect(1.5).to.be.closeTo(2, 0.5);\n   *     expect(1.5).to.be.closeTo(1, 1);\n   *\n   * Add `.not` earlier in the chain to negate `.closeTo`.\n   *\n   *     expect(1.5).to.equal(1.5); // Recommended\n   *     expect(1.5).to.not.be.closeTo(3, 1); // Not recommended\n   *\n   * `.closeTo` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect(1.5).to.be.closeTo(3, 1, 'nooo why fail??');\n   *     expect(1.5, 'nooo why fail??').to.be.closeTo(3, 1);\n   *\n   * The alias `.approximately` can be used interchangeably with `.closeTo`.\n   *\n   * @name closeTo\n   * @alias approximately\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function closeTo(expected, delta, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n\n    new Assertion(obj, flagMsg, ssfi, true).is.a('number');\n    if (typeof expected !== 'number' || typeof delta !== 'number') {\n      flagMsg = flagMsg ? flagMsg + ': ' : '';\n      throw new AssertionError(\n          flagMsg + 'the arguments to closeTo or approximately must be numbers',\n          undefined,\n          ssfi\n      );\n    }\n\n    this.assert(\n        Math.abs(obj - expected) <= delta\n      , 'expected #{this} to be close to ' + expected + ' +/- ' + delta\n      , 'expected #{this} not to be close to ' + expected + ' +/- ' + delta\n    );\n  }\n\n  Assertion.addMethod('closeTo', closeTo);\n  Assertion.addMethod('approximately', closeTo);\n\n  // Note: Duplicates are ignored if testing for inclusion instead of sameness.\n  function isSubsetOf(subset, superset, cmp, contains, ordered) {\n    if (!contains) {\n      if (subset.length !== superset.length) return false;\n      superset = superset.slice();\n    }\n\n    return subset.every(function(elem, idx) {\n      if (ordered) return cmp ? cmp(elem, superset[idx]) : elem === superset[idx];\n\n      if (!cmp) {\n        var matchIdx = superset.indexOf(elem);\n        if (matchIdx === -1) return false;\n\n        // Remove match from superset so not counted twice if duplicate in subset.\n        if (!contains) superset.splice(matchIdx, 1);\n        return true;\n      }\n\n      return superset.some(function(elem2, matchIdx) {\n        if (!cmp(elem, elem2)) return false;\n\n        // Remove match from superset so not counted twice if duplicate in subset.\n        if (!contains) superset.splice(matchIdx, 1);\n        return true;\n      });\n    });\n  }\n\n  /**\n   * ### .members(set[, msg])\n   *\n   * Asserts that the target array has the same members as the given array\n   * `set`.\n   *\n   *     expect([1, 2, 3]).to.have.members([2, 1, 3]);\n   *     expect([1, 2, 2]).to.have.members([2, 1, 2]);\n   *\n   * By default, members are compared using strict (`===`) equality. Add `.deep`\n   * earlier in the chain to use deep equality instead. See the `deep-eql`\n   * project page for info on the deep equality algorithm:\n   * https://github.com/chaijs/deep-eql.\n   *\n   *     // Target array deeply (but not strictly) has member `{a: 1}`\n   *     expect([{a: 1}]).to.have.deep.members([{a: 1}]);\n   *     expect([{a: 1}]).to.not.have.members([{a: 1}]);\n   *\n   * By default, order doesn't matter. Add `.ordered` earlier in the chain to\n   * require that members appear in the same order.\n   *\n   *     expect([1, 2, 3]).to.have.ordered.members([1, 2, 3]);\n   *     expect([1, 2, 3]).to.have.members([2, 1, 3])\n   *       .but.not.ordered.members([2, 1, 3]);\n   *\n   * By default, both arrays must be the same size. Add `.include` earlier in\n   * the chain to require that the target's members be a superset of the\n   * expected members. Note that duplicates are ignored in the subset when\n   * `.include` is added.\n   *\n   *     // Target array is a superset of [1, 2] but not identical\n   *     expect([1, 2, 3]).to.include.members([1, 2]);\n   *     expect([1, 2, 3]).to.not.have.members([1, 2]);\n   *\n   *     // Duplicates in the subset are ignored\n   *     expect([1, 2, 3]).to.include.members([1, 2, 2, 2]);\n   *\n   * `.deep`, `.ordered`, and `.include` can all be combined. However, if\n   * `.include` and `.ordered` are combined, the ordering begins at the start of\n   * both arrays.\n   *\n   *     expect([{a: 1}, {b: 2}, {c: 3}])\n   *       .to.include.deep.ordered.members([{a: 1}, {b: 2}])\n   *       .but.not.include.deep.ordered.members([{b: 2}, {c: 3}]);\n   *\n   * Add `.not` earlier in the chain to negate `.members`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the target array doesn't have all of the same members as\n   * the given array `set` but may or may not have some of them. It's often best\n   * to identify the exact output that's expected, and then write an assertion\n   * that only accepts that exact output.\n   *\n   *     expect([1, 2]).to.not.include(3).and.not.include(4); // Recommended\n   *     expect([1, 2]).to.not.have.members([3, 4]); // Not recommended\n   *\n   * `.members` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`.\n   *\n   *     expect([1, 2]).to.have.members([1, 2, 3], 'nooo why fail??');\n   *     expect([1, 2], 'nooo why fail??').to.have.members([1, 2, 3]);\n   *\n   * @name members\n   * @param {Array} set\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addMethod('members', function (subset, msg) {\n    if (msg) flag(this, 'message', msg);\n    var obj = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n\n    new Assertion(obj, flagMsg, ssfi, true).to.be.an('array');\n    new Assertion(subset, flagMsg, ssfi, true).to.be.an('array');\n\n    var contains = flag(this, 'contains');\n    var ordered = flag(this, 'ordered');\n\n    var subject, failMsg, failNegateMsg;\n\n    if (contains) {\n      subject = ordered ? 'an ordered superset' : 'a superset';\n      failMsg = 'expected #{this} to be ' + subject + ' of #{exp}';\n      failNegateMsg = 'expected #{this} to not be ' + subject + ' of #{exp}';\n    } else {\n      subject = ordered ? 'ordered members' : 'members';\n      failMsg = 'expected #{this} to have the same ' + subject + ' as #{exp}';\n      failNegateMsg = 'expected #{this} to not have the same ' + subject + ' as #{exp}';\n    }\n\n    var cmp = flag(this, 'deep') ? _.eql : undefined;\n\n    this.assert(\n        isSubsetOf(subset, obj, cmp, contains, ordered)\n      , failMsg\n      , failNegateMsg\n      , subset\n      , obj\n      , true\n    );\n  });\n\n  /**\n   * ### .oneOf(list[, msg])\n   *\n   * Asserts that the target is a member of the given array `list`. However,\n   * it's often best to assert that the target is equal to its expected value.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.be.oneOf([1, 2, 3]); // Not recommended\n   *\n   * Comparisons are performed using strict (`===`) equality.\n   *\n   * Add `.not` earlier in the chain to negate `.oneOf`.\n   *\n   *     expect(1).to.equal(1); // Recommended\n   *     expect(1).to.not.be.oneOf([2, 3, 4]); // Not recommended\n   *\n   * `.oneOf` accepts an optional `msg` argument which is a custom error message\n   * to show when the assertion fails. The message can also be given as the\n   * second argument to `expect`.\n   *\n   *     expect(1).to.be.oneOf([2, 3, 4], 'nooo why fail??');\n   *     expect(1, 'nooo why fail??').to.be.oneOf([2, 3, 4]);\n   *\n   * @name oneOf\n   * @param {Array<*>} list\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function oneOf (list, msg) {\n    if (msg) flag(this, 'message', msg);\n    var expected = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(list, flagMsg, ssfi, true).to.be.an('array');\n\n    this.assert(\n        list.indexOf(expected) > -1\n      , 'expected #{this} to be one of #{exp}'\n      , 'expected #{this} to not be one of #{exp}'\n      , list\n      , expected\n    );\n  }\n\n  Assertion.addMethod('oneOf', oneOf);\n\n  /**\n   * ### .change(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.change` asserts that the given function\n   * `subject` returns a different value when it's invoked before the target\n   * function compared to when it's invoked afterward. However, it's often best\n   * to assert that `subject` is equal to its expected value.\n   *\n   *     var dots = ''\n   *       , addDot = function () { dots += '.'; }\n   *       , getDots = function () { return dots; };\n   *\n   *     // Recommended\n   *     expect(getDots()).to.equal('');\n   *     addDot();\n   *     expect(getDots()).to.equal('.');\n   *\n   *     // Not recommended\n   *     expect(addDot).to.change(getDots);\n   *\n   * When two arguments are provided, `.change` asserts that the value of the\n   * given object `subject`'s `prop` property is different before invoking the\n   * target function compared to afterward.\n   *\n   *     var myObj = {dots: ''}\n   *       , addDot = function () { myObj.dots += '.'; };\n   *\n   *     // Recommended\n   *     expect(myObj).to.have.property('dots', '');\n   *     addDot();\n   *     expect(myObj).to.have.property('dots', '.');\n   *\n   *     // Not recommended\n   *     expect(addDot).to.change(myObj, 'dots');\n   *\n   * Strict (`===`) equality is used to compare before and after values.\n   *\n   * Add `.not` earlier in the chain to negate `.change`.\n   *\n   *     var dots = ''\n   *       , noop = function () {}\n   *       , getDots = function () { return dots; };\n   *\n   *     expect(noop).to.not.change(getDots);\n   *\n   *     var myObj = {dots: ''}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'dots');\n   *\n   * `.change` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {dots: ''}\n   *       , addDot = function () { myObj.dots += '.'; };\n   *\n   *     expect(addDot).to.not.change(myObj, 'dots', 'nooo why fail??');\n   *\n   *     var dots = ''\n   *       , addDot = function () { dots += '.'; }\n   *       , getDots = function () { return dots; };\n   *\n   *     expect(addDot, 'nooo why fail??').to.not.change(getDots);\n   *\n   * `.change` also causes all `.by` assertions that follow in the chain to\n   * assert how much a numeric subject was increased or decreased by. However,\n   * it's dangerous to use `.change.by`. The problem is that it creates\n   * uncertain expectations by asserting that the subject either increases by\n   * the given delta, or that it decreases by the given delta. It's often best\n   * to identify the exact output that's expected, and then write an assertion\n   * that only accepts that exact output.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; }\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   * The alias `.changes` can be used interchangeably with `.change`.\n   *\n   * @name change\n   * @alias changes\n   * @param {String} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertChanges (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    // This gets flagged because of the .by(delta) assertion\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'change');\n    flag(this, 'realDelta', final !== initial);\n\n    this.assert(\n      initial !== final\n      , 'expected ' + msgObj + ' to change'\n      , 'expected ' + msgObj + ' to not change'\n    );\n  }\n\n  Assertion.addMethod('change', assertChanges);\n  Assertion.addMethod('changes', assertChanges);\n\n  /**\n   * ### .increase(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.increase` asserts that the given function\n   * `subject` returns a greater number when it's invoked after invoking the\n   * target function compared to when it's invoked beforehand. `.increase` also\n   * causes all `.by` assertions that follow in the chain to assert how much\n   * greater of a number is returned. It's often best to assert that the return\n   * value increased by the expected amount, rather than asserting it increased\n   * by any amount.\n   *\n   *     var val = 1\n   *       , addTwo = function () { val += 2; }\n   *       , getVal = function () { return val; };\n   *\n   *     expect(addTwo).to.increase(getVal).by(2); // Recommended\n   *     expect(addTwo).to.increase(getVal); // Not recommended\n   *\n   * When two arguments are provided, `.increase` asserts that the value of the\n   * given object `subject`'s `prop` property is greater after invoking the\n   * target function compared to beforehand.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.increase(myObj, 'val'); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.increase`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either decreases, or that it stays the same.\n   * It's often best to identify the exact output that's expected, and then\n   * write an assertion that only accepts that exact output.\n   *\n   * When the subject is expected to decrease, it's often best to assert that it\n   * decreased by the expected amount.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.not.increase(myObj, 'val'); // Not recommended\n   *\n   * When the subject is expected to stay the same, it's often best to assert\n   * exactly that.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'val'); // Recommended\n   *     expect(noop).to.not.increase(myObj, 'val'); // Not recommended\n   *\n   * `.increase` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.increase(myObj, 'val', 'nooo why fail??');\n   *\n   *     var val = 1\n   *       , noop = function () {}\n   *       , getVal = function () { return val; };\n   *\n   *     expect(noop, 'nooo why fail??').to.increase(getVal);\n   *\n   * The alias `.increases` can be used interchangeably with `.increase`.\n   *\n   * @name increase\n   * @alias increases\n   * @param {String|Function} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertIncreases (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    // Make sure that the target is a number\n    new Assertion(initial, flagMsg, ssfi, true).is.a('number');\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'increase');\n    flag(this, 'realDelta', final - initial);\n\n    this.assert(\n      final - initial > 0\n      , 'expected ' + msgObj + ' to increase'\n      , 'expected ' + msgObj + ' to not increase'\n    );\n  }\n\n  Assertion.addMethod('increase', assertIncreases);\n  Assertion.addMethod('increases', assertIncreases);\n\n  /**\n   * ### .decrease(subject[, prop[, msg]])\n   *\n   * When one argument is provided, `.decrease` asserts that the given function\n   * `subject` returns a lesser number when it's invoked after invoking the\n   * target function compared to when it's invoked beforehand. `.decrease` also\n   * causes all `.by` assertions that follow in the chain to assert how much\n   * lesser of a number is returned. It's often best to assert that the return\n   * value decreased by the expected amount, rather than asserting it decreased\n   * by any amount.\n   *\n   *     var val = 1\n   *       , subtractTwo = function () { val -= 2; }\n   *       , getVal = function () { return val; };\n   *\n   *     expect(subtractTwo).to.decrease(getVal).by(2); // Recommended\n   *     expect(subtractTwo).to.decrease(getVal); // Not recommended\n   *\n   * When two arguments are provided, `.decrease` asserts that the value of the\n   * given object `subject`'s `prop` property is lesser after invoking the\n   * target function compared to beforehand.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.decrease(myObj, 'val'); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.decrease`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either increases, or that it stays the same.\n   * It's often best to identify the exact output that's expected, and then\n   * write an assertion that only accepts that exact output.\n   *\n   * When the subject is expected to increase, it's often best to assert that it\n   * increased by the expected amount.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.not.decrease(myObj, 'val'); // Not recommended\n   *\n   * When the subject is expected to stay the same, it's often best to assert\n   * exactly that.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.not.change(myObj, 'val'); // Recommended\n   *     expect(noop).to.not.decrease(myObj, 'val'); // Not recommended\n   *\n   * `.decrease` accepts an optional `msg` argument which is a custom error\n   * message to show when the assertion fails. The message can also be given as\n   * the second argument to `expect`. When not providing two arguments, always\n   * use the second form.\n   *\n   *     var myObj = {val: 1}\n   *       , noop = function () {};\n   *\n   *     expect(noop).to.decrease(myObj, 'val', 'nooo why fail??');\n   *\n   *     var val = 1\n   *       , noop = function () {}\n   *       , getVal = function () { return val; };\n   *\n   *     expect(noop, 'nooo why fail??').to.decrease(getVal);\n   *\n   * The alias `.decreases` can be used interchangeably with `.decrease`.\n   *\n   * @name decrease\n   * @alias decreases\n   * @param {String|Function} subject\n   * @param {String} prop name _optional_\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertDecreases (subject, prop, msg) {\n    if (msg) flag(this, 'message', msg);\n    var fn = flag(this, 'object')\n      , flagMsg = flag(this, 'message')\n      , ssfi = flag(this, 'ssfi');\n    new Assertion(fn, flagMsg, ssfi, true).is.a('function');\n\n    var initial;\n    if (!prop) {\n      new Assertion(subject, flagMsg, ssfi, true).is.a('function');\n      initial = subject();\n    } else {\n      new Assertion(subject, flagMsg, ssfi, true).to.have.property(prop);\n      initial = subject[prop];\n    }\n\n    // Make sure that the target is a number\n    new Assertion(initial, flagMsg, ssfi, true).is.a('number');\n\n    fn();\n\n    var final = prop === undefined || prop === null ? subject() : subject[prop];\n    var msgObj = prop === undefined || prop === null ? initial : '.' + prop;\n\n    flag(this, 'deltaMsgObj', msgObj);\n    flag(this, 'initialDeltaValue', initial);\n    flag(this, 'finalDeltaValue', final);\n    flag(this, 'deltaBehavior', 'decrease');\n    flag(this, 'realDelta', initial - final);\n\n    this.assert(\n      final - initial < 0\n      , 'expected ' + msgObj + ' to decrease'\n      , 'expected ' + msgObj + ' to not decrease'\n    );\n  }\n\n  Assertion.addMethod('decrease', assertDecreases);\n  Assertion.addMethod('decreases', assertDecreases);\n\n  /**\n   * ### .by(delta[, msg])\n   *\n   * When following an `.increase` assertion in the chain, `.by` asserts that\n   * the subject of the `.increase` assertion increased by the given `delta`.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2);\n   *\n   * When following a `.decrease` assertion in the chain, `.by` asserts that the\n   * subject of the `.decrease` assertion decreased by the given `delta`.\n   *\n   *     var myObj = {val: 1}\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2);\n   *\n   * When following a `.change` assertion in the chain, `.by` asserts that the\n   * subject of the `.change` assertion either increased or decreased by the\n   * given `delta`. However, it's dangerous to use `.change.by`. The problem is\n   * that it creates uncertain expectations. It's often best to identify the\n   * exact output that's expected, and then write an assertion that only accepts\n   * that exact output.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; }\n   *       , subtractTwo = function () { myObj.val -= 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(2); // Recommended\n   *     expect(addTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   *     expect(subtractTwo).to.decrease(myObj, 'val').by(2); // Recommended\n   *     expect(subtractTwo).to.change(myObj, 'val').by(2); // Not recommended\n   *\n   * Add `.not` earlier in the chain to negate `.by`. However, it's often best\n   * to assert that the subject changed by its expected delta, rather than\n   * asserting that it didn't change by one of countless unexpected deltas.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     // Recommended\n   *     expect(addTwo).to.increase(myObj, 'val').by(2);\n   *\n   *     // Not recommended\n   *     expect(addTwo).to.increase(myObj, 'val').but.not.by(3);\n   *\n   * `.by` accepts an optional `msg` argument which is a custom error message to\n   * show when the assertion fails. The message can also be given as the second\n   * argument to `expect`.\n   *\n   *     var myObj = {val: 1}\n   *       , addTwo = function () { myObj.val += 2; };\n   *\n   *     expect(addTwo).to.increase(myObj, 'val').by(3, 'nooo why fail??');\n   *     expect(addTwo, 'nooo why fail??').to.increase(myObj, 'val').by(3);\n   *\n   * @name by\n   * @param {Number} delta\n   * @param {String} msg _optional_\n   * @namespace BDD\n   * @api public\n   */\n\n  function assertDelta(delta, msg) {\n    if (msg) flag(this, 'message', msg);\n\n    var msgObj = flag(this, 'deltaMsgObj');\n    var initial = flag(this, 'initialDeltaValue');\n    var final = flag(this, 'finalDeltaValue');\n    var behavior = flag(this, 'deltaBehavior');\n    var realDelta = flag(this, 'realDelta');\n\n    var expression;\n    if (behavior === 'change') {\n      expression = Math.abs(final - initial) === Math.abs(delta);\n    } else {\n      expression = realDelta === Math.abs(delta);\n    }\n\n    this.assert(\n      expression\n      , 'expected ' + msgObj + ' to ' + behavior + ' by ' + delta\n      , 'expected ' + msgObj + ' to not ' + behavior + ' by ' + delta\n    );\n  }\n\n  Assertion.addMethod('by', assertDelta);\n\n  /**\n   * ### .extensible\n   *\n   * Asserts that the target is extensible, which means that new properties can\n   * be added to it. Primitives are never extensible.\n   *\n   *     expect({a: 1}).to.be.extensible;\n   *\n   * Add `.not` earlier in the chain to negate `.extensible`.\n   *\n   *     var nonExtensibleObject = Object.preventExtensions({})\n   *       , sealedObject = Object.seal({})\n   *       , frozenObject = Object.freeze({});\n   *\n   *     expect(nonExtensibleObject).to.not.be.extensible;\n   *     expect(sealedObject).to.not.be.extensible;\n   *     expect(frozenObject).to.not.be.extensible;\n   *     expect(1).to.not.be.extensible;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect(1, 'nooo why fail??').to.be.extensible;\n   *\n   * @name extensible\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('extensible', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return false.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isExtensible = obj === Object(obj) && Object.isExtensible(obj);\n\n    this.assert(\n      isExtensible\n      , 'expected #{this} to be extensible'\n      , 'expected #{this} to not be extensible'\n    );\n  });\n\n  /**\n   * ### .sealed\n   *\n   * Asserts that the target is sealed, which means that new properties can't be\n   * added to it, and its existing properties can't be reconfigured or deleted.\n   * However, it's possible that its existing properties can still be reassigned\n   * to different values. Primitives are always sealed.\n   *\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.freeze({});\n   *\n   *     expect(sealedObject).to.be.sealed;\n   *     expect(frozenObject).to.be.sealed;\n   *     expect(1).to.be.sealed;\n   *\n   * Add `.not` earlier in the chain to negate `.sealed`.\n   *\n   *     expect({a: 1}).to.not.be.sealed;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.be.sealed;\n   *\n   * @name sealed\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('sealed', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a sealed ordinary object, simply return true.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isSealed = obj === Object(obj) ? Object.isSealed(obj) : true;\n\n    this.assert(\n      isSealed\n      , 'expected #{this} to be sealed'\n      , 'expected #{this} to not be sealed'\n    );\n  });\n\n  /**\n   * ### .frozen\n   *\n   * Asserts that the target is frozen, which means that new properties can't be\n   * added to it, and its existing properties can't be reassigned to different\n   * values, reconfigured, or deleted. Primitives are always frozen.\n   *\n   *     var frozenObject = Object.freeze({});\n   *\n   *     expect(frozenObject).to.be.frozen;\n   *     expect(1).to.be.frozen;\n   *\n   * Add `.not` earlier in the chain to negate `.frozen`.\n   *\n   *     expect({a: 1}).to.not.be.frozen;\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect({a: 1}, 'nooo why fail??').to.be.frozen;\n   *\n   * @name frozen\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('frozen', function() {\n    var obj = flag(this, 'object');\n\n    // In ES5, if the argument to this method is a primitive, then it will cause a TypeError.\n    // In ES6, a non-object argument will be treated as if it was a frozen ordinary object, simply return true.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen\n    // The following provides ES6 behavior for ES5 environments.\n\n    var isFrozen = obj === Object(obj) ? Object.isFrozen(obj) : true;\n\n    this.assert(\n      isFrozen\n      , 'expected #{this} to be frozen'\n      , 'expected #{this} to not be frozen'\n    );\n  });\n\n  /**\n   * ### .finite\n   *\n   * Asserts that the target is a number, and isn't `NaN` or positive/negative\n   * `Infinity`.\n   *\n   *     expect(1).to.be.finite;\n   *\n   * Add `.not` earlier in the chain to negate `.finite`. However, it's\n   * dangerous to do so. The problem is that it creates uncertain expectations\n   * by asserting that the subject either isn't a number, or that it's `NaN`, or\n   * that it's positive `Infinity`, or that it's negative `Infinity`. It's often\n   * best to identify the exact output that's expected, and then write an\n   * assertion that only accepts that exact output.\n   *\n   * When the target isn't expected to be a number, it's often best to assert\n   * that it's the expected type, rather than asserting that it isn't one of\n   * many unexpected types.\n   *\n   *     expect('foo').to.be.a('string'); // Recommended\n   *     expect('foo').to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be `NaN`, it's often best to assert exactly\n   * that.\n   *\n   *     expect(NaN).to.be.NaN; // Recommended\n   *     expect(NaN).to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be positive infinity, it's often best to\n   * assert exactly that.\n   *\n   *     expect(Infinity).to.equal(Infinity); // Recommended\n   *     expect(Infinity).to.not.be.finite; // Not recommended\n   *\n   * When the target is expected to be negative infinity, it's often best to\n   * assert exactly that.\n   *\n   *     expect(-Infinity).to.equal(-Infinity); // Recommended\n   *     expect(-Infinity).to.not.be.finite; // Not recommended\n   *\n   * A custom error message can be given as the second argument to `expect`.\n   *\n   *     expect('foo', 'nooo why fail??').to.be.finite;\n   *\n   * @name finite\n   * @namespace BDD\n   * @api public\n   */\n\n  Assertion.addProperty('finite', function(msg) {\n    var obj = flag(this, 'object');\n\n    this.assert(\n        typeof obj === 'number' && isFinite(obj)\n      , 'expected #{this} to be a finite number'\n      , 'expected #{this} to not be a finite number'\n    );\n  });\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  chai.expect = function (val, message) {\n    return new chai.Assertion(val, message);\n  };\n\n  /**\n   * ### .fail([message])\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure.\n   *\n   *     expect.fail();\n   *     expect.fail(\"custom error message\");\n   *     expect.fail(1, 2);\n   *     expect.fail(1, 2, \"custom error message\");\n   *     expect.fail(1, 2, \"custom error message\", \">\");\n   *     expect.fail(1, 2, undefined, \">\");\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @namespace BDD\n   * @api public\n   */\n\n  chai.expect.fail = function (actual, expected, message, operator) {\n    if (arguments.length < 2) {\n        message = actual;\n        actual = undefined;\n    }\n\n    message = message || 'expect.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, chai.expect.fail);\n  };\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  var Assertion = chai.Assertion;\n\n  function loadShould () {\n    // explicitly define this method as function as to have it's name to include as `ssfi`\n    function shouldGetter() {\n      if (this instanceof String\n          || this instanceof Number\n          || this instanceof Boolean\n          || typeof Symbol === 'function' && this instanceof Symbol) {\n        return new Assertion(this.valueOf(), null, shouldGetter);\n      }\n      return new Assertion(this, null, shouldGetter);\n    }\n    function shouldSetter(value) {\n      // See https://github.com/chaijs/chai/issues/86: this makes\n      // `whatever.should = someValue` actually set `someValue`, which is\n      // especially useful for `global.should = require('chai').should()`.\n      //\n      // Note that we have to use [[DefineProperty]] instead of [[Put]]\n      // since otherwise we would trigger this very setter!\n      Object.defineProperty(this, 'should', {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    }\n    // modify Object.prototype to have `should`\n    Object.defineProperty(Object.prototype, 'should', {\n      set: shouldSetter\n      , get: shouldGetter\n      , configurable: true\n    });\n\n    var should = {};\n\n    /**\n     * ### .fail([message])\n     * ### .fail(actual, expected, [message], [operator])\n     *\n     * Throw a failure.\n     *\n     *     should.fail();\n     *     should.fail(\"custom error message\");\n     *     should.fail(1, 2);\n     *     should.fail(1, 2, \"custom error message\");\n     *     should.fail(1, 2, \"custom error message\", \">\");\n     *     should.fail(1, 2, undefined, \">\");\n     *\n     *\n     * @name fail\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @param {String} operator\n     * @namespace BDD\n     * @api public\n     */\n\n    should.fail = function (actual, expected, message, operator) {\n      if (arguments.length < 2) {\n          message = actual;\n          actual = undefined;\n      }\n\n      message = message || 'should.fail()';\n      throw new chai.AssertionError(message, {\n          actual: actual\n        , expected: expected\n        , operator: operator\n      }, should.fail);\n    };\n\n    /**\n     * ### .equal(actual, expected, [message])\n     *\n     * Asserts non-strict equality (`==`) of `actual` and `expected`.\n     *\n     *     should.equal(3, '3', '== coerces values to strings');\n     *\n     * @name equal\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @namespace Should\n     * @api public\n     */\n\n    should.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.equal(val2);\n    };\n\n    /**\n     * ### .throw(function, [constructor/string/regexp], [string/regexp], [message])\n     *\n     * Asserts that `function` will throw an error that is an instance of\n     * `constructor`, or alternately that it will throw an error with message\n     * matching `regexp`.\n     *\n     *     should.throw(fn, 'function throws a reference error');\n     *     should.throw(fn, /function throws a reference error/);\n     *     should.throw(fn, ReferenceError);\n     *     should.throw(fn, ReferenceError, 'function throws a reference error');\n     *     should.throw(fn, ReferenceError, /function throws a reference error/);\n     *\n     * @name throw\n     * @alias Throw\n     * @param {Function} function\n     * @param {ErrorConstructor} constructor\n     * @param {RegExp} regexp\n     * @param {String} message\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n     * @namespace Should\n     * @api public\n     */\n\n    should.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.Throw(errt, errs);\n    };\n\n    /**\n     * ### .exist\n     *\n     * Asserts that the target is neither `null` nor `undefined`.\n     *\n     *     var foo = 'hi';\n     *\n     *     should.exist(foo, 'foo exists');\n     *\n     * @name exist\n     * @namespace Should\n     * @api public\n     */\n\n    should.exist = function (val, msg) {\n      new Assertion(val, msg).to.exist;\n    }\n\n    // negation\n    should.not = {}\n\n    /**\n     * ### .not.equal(actual, expected, [message])\n     *\n     * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n     *\n     *     should.not.equal(3, 4, 'these numbers are not equal');\n     *\n     * @name not.equal\n     * @param {Mixed} actual\n     * @param {Mixed} expected\n     * @param {String} message\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.equal = function (val1, val2, msg) {\n      new Assertion(val1, msg).to.not.equal(val2);\n    };\n\n    /**\n     * ### .throw(function, [constructor/regexp], [message])\n     *\n     * Asserts that `function` will _not_ throw an error that is an instance of\n     * `constructor`, or alternately that it will not throw an error with message\n     * matching `regexp`.\n     *\n     *     should.not.throw(fn, Error, 'function does not throw');\n     *\n     * @name not.throw\n     * @alias not.Throw\n     * @param {Function} function\n     * @param {ErrorConstructor} constructor\n     * @param {RegExp} regexp\n     * @param {String} message\n     * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.Throw = function (fn, errt, errs, msg) {\n      new Assertion(fn, msg).to.not.Throw(errt, errs);\n    };\n\n    /**\n     * ### .not.exist\n     *\n     * Asserts that the target is neither `null` nor `undefined`.\n     *\n     *     var bar = null;\n     *\n     *     should.not.exist(bar, 'bar does not exist');\n     *\n     * @name not.exist\n     * @namespace Should\n     * @api public\n     */\n\n    should.not.exist = function (val, msg) {\n      new Assertion(val, msg).to.not.exist;\n    }\n\n    should['throw'] = should['Throw'];\n    should.not['throw'] = should.not['Throw'];\n\n    return should;\n  };\n\n  chai.should = loadShould;\n  chai.Should = loadShould;\n};\n","/*!\n * chai\n * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>\n * MIT Licensed\n */\n\nmodule.exports = function (chai, util) {\n  /*!\n   * Chai dependencies.\n   */\n\n  var Assertion = chai.Assertion\n    , flag = util.flag;\n\n  /*!\n   * Module export.\n   */\n\n  /**\n   * ### assert(expression, message)\n   *\n   * Write your own test expressions.\n   *\n   *     assert('foo' !== 'bar', 'foo is not bar');\n   *     assert(Array.isArray([]), 'empty arrays are arrays');\n   *\n   * @param {Mixed} expression to test for truthiness\n   * @param {String} message to display on error\n   * @name assert\n   * @namespace Assert\n   * @api public\n   */\n\n  var assert = chai.assert = function (express, errmsg) {\n    var test = new Assertion(null, null, chai.assert, true);\n    test.assert(\n        express\n      , errmsg\n      , '[ negation message unavailable ]'\n    );\n  };\n\n  /**\n   * ### .fail([message])\n   * ### .fail(actual, expected, [message], [operator])\n   *\n   * Throw a failure. Node.js `assert` module-compatible.\n   *\n   *     assert.fail();\n   *     assert.fail(\"custom error message\");\n   *     assert.fail(1, 2);\n   *     assert.fail(1, 2, \"custom error message\");\n   *     assert.fail(1, 2, \"custom error message\", \">\");\n   *     assert.fail(1, 2, undefined, \">\");\n   *\n   * @name fail\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @param {String} operator\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.fail = function (actual, expected, message, operator) {\n    if (arguments.length < 2) {\n        // Comply with Node's fail([message]) interface\n\n        message = actual;\n        actual = undefined;\n    }\n\n    message = message || 'assert.fail()';\n    throw new chai.AssertionError(message, {\n        actual: actual\n      , expected: expected\n      , operator: operator\n    }, assert.fail);\n  };\n\n  /**\n   * ### .isOk(object, [message])\n   *\n   * Asserts that `object` is truthy.\n   *\n   *     assert.isOk('everything', 'everything is ok');\n   *     assert.isOk(false, 'this will fail');\n   *\n   * @name isOk\n   * @alias ok\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isOk = function (val, msg) {\n    new Assertion(val, msg, assert.isOk, true).is.ok;\n  };\n\n  /**\n   * ### .isNotOk(object, [message])\n   *\n   * Asserts that `object` is falsy.\n   *\n   *     assert.isNotOk('everything', 'this will fail');\n   *     assert.isNotOk(false, 'this will pass');\n   *\n   * @name isNotOk\n   * @alias notOk\n   * @param {Mixed} object to test\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotOk = function (val, msg) {\n    new Assertion(val, msg, assert.isNotOk, true).is.not.ok;\n  };\n\n  /**\n   * ### .equal(actual, expected, [message])\n   *\n   * Asserts non-strict equality (`==`) of `actual` and `expected`.\n   *\n   *     assert.equal(3, '3', '== coerces values to strings');\n   *\n   * @name equal\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.equal = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.equal, true);\n\n    test.assert(\n        exp == flag(test, 'object')\n      , 'expected #{this} to equal #{exp}'\n      , 'expected #{this} to not equal #{act}'\n      , exp\n      , act\n      , true\n    );\n  };\n\n  /**\n   * ### .notEqual(actual, expected, [message])\n   *\n   * Asserts non-strict inequality (`!=`) of `actual` and `expected`.\n   *\n   *     assert.notEqual(3, 4, 'these numbers are not equal');\n   *\n   * @name notEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notEqual = function (act, exp, msg) {\n    var test = new Assertion(act, msg, assert.notEqual, true);\n\n    test.assert(\n        exp != flag(test, 'object')\n      , 'expected #{this} to not equal #{exp}'\n      , 'expected #{this} to equal #{act}'\n      , exp\n      , act\n      , true\n    );\n  };\n\n  /**\n   * ### .strictEqual(actual, expected, [message])\n   *\n   * Asserts strict equality (`===`) of `actual` and `expected`.\n   *\n   *     assert.strictEqual(true, true, 'these booleans are strictly equal');\n   *\n   * @name strictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.strictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.strictEqual, true).to.equal(exp);\n  };\n\n  /**\n   * ### .notStrictEqual(actual, expected, [message])\n   *\n   * Asserts strict inequality (`!==`) of `actual` and `expected`.\n   *\n   *     assert.notStrictEqual(3, '3', 'no coercion for strict equality');\n   *\n   * @name notStrictEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.notStrictEqual, true).to.not.equal(exp);\n  };\n\n  /**\n   * ### .deepEqual(actual, expected, [message])\n   *\n   * Asserts that `actual` is deeply equal to `expected`.\n   *\n   *     assert.deepEqual({ tea: 'green' }, { tea: 'green' });\n   *\n   * @name deepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @alias deepStrictEqual\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepEqual = assert.deepStrictEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.deepEqual, true).to.eql(exp);\n  };\n\n  /**\n   * ### .notDeepEqual(actual, expected, [message])\n   *\n   * Assert that `actual` is not deeply equal to `expected`.\n   *\n   *     assert.notDeepEqual({ tea: 'green' }, { tea: 'jasmine' });\n   *\n   * @name notDeepEqual\n   * @param {Mixed} actual\n   * @param {Mixed} expected\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepEqual = function (act, exp, msg) {\n    new Assertion(act, msg, assert.notDeepEqual, true).to.not.eql(exp);\n  };\n\n   /**\n   * ### .isAbove(valueToCheck, valueToBeAbove, [message])\n   *\n   * Asserts `valueToCheck` is strictly greater than (>) `valueToBeAbove`.\n   *\n   *     assert.isAbove(5, 2, '5 is strictly greater than 2');\n   *\n   * @name isAbove\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAbove\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAbove = function (val, abv, msg) {\n    new Assertion(val, msg, assert.isAbove, true).to.be.above(abv);\n  };\n\n   /**\n   * ### .isAtLeast(valueToCheck, valueToBeAtLeast, [message])\n   *\n   * Asserts `valueToCheck` is greater than or equal to (>=) `valueToBeAtLeast`.\n   *\n   *     assert.isAtLeast(5, 2, '5 is greater or equal to 2');\n   *     assert.isAtLeast(3, 3, '3 is greater or equal to 3');\n   *\n   * @name isAtLeast\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAtLeast\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAtLeast = function (val, atlst, msg) {\n    new Assertion(val, msg, assert.isAtLeast, true).to.be.least(atlst);\n  };\n\n   /**\n   * ### .isBelow(valueToCheck, valueToBeBelow, [message])\n   *\n   * Asserts `valueToCheck` is strictly less than (<) `valueToBeBelow`.\n   *\n   *     assert.isBelow(3, 6, '3 is strictly less than 6');\n   *\n   * @name isBelow\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeBelow\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isBelow = function (val, blw, msg) {\n    new Assertion(val, msg, assert.isBelow, true).to.be.below(blw);\n  };\n\n   /**\n   * ### .isAtMost(valueToCheck, valueToBeAtMost, [message])\n   *\n   * Asserts `valueToCheck` is less than or equal to (<=) `valueToBeAtMost`.\n   *\n   *     assert.isAtMost(3, 6, '3 is less than or equal to 6');\n   *     assert.isAtMost(4, 4, '4 is less than or equal to 4');\n   *\n   * @name isAtMost\n   * @param {Mixed} valueToCheck\n   * @param {Mixed} valueToBeAtMost\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isAtMost = function (val, atmst, msg) {\n    new Assertion(val, msg, assert.isAtMost, true).to.be.most(atmst);\n  };\n\n  /**\n   * ### .isTrue(value, [message])\n   *\n   * Asserts that `value` is true.\n   *\n   *     var teaServed = true;\n   *     assert.isTrue(teaServed, 'the tea has been served');\n   *\n   * @name isTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isTrue = function (val, msg) {\n    new Assertion(val, msg, assert.isTrue, true).is['true'];\n  };\n\n  /**\n   * ### .isNotTrue(value, [message])\n   *\n   * Asserts that `value` is not true.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotTrue(tea, 'great, time for tea!');\n   *\n   * @name isNotTrue\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotTrue = function (val, msg) {\n    new Assertion(val, msg, assert.isNotTrue, true).to.not.equal(true);\n  };\n\n  /**\n   * ### .isFalse(value, [message])\n   *\n   * Asserts that `value` is false.\n   *\n   *     var teaServed = false;\n   *     assert.isFalse(teaServed, 'no tea yet? hmm...');\n   *\n   * @name isFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFalse = function (val, msg) {\n    new Assertion(val, msg, assert.isFalse, true).is['false'];\n  };\n\n  /**\n   * ### .isNotFalse(value, [message])\n   *\n   * Asserts that `value` is not false.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotFalse(tea, 'great, time for tea!');\n   *\n   * @name isNotFalse\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFalse = function (val, msg) {\n    new Assertion(val, msg, assert.isNotFalse, true).to.not.equal(false);\n  };\n\n  /**\n   * ### .isNull(value, [message])\n   *\n   * Asserts that `value` is null.\n   *\n   *     assert.isNull(err, 'there was no error');\n   *\n   * @name isNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNull = function (val, msg) {\n    new Assertion(val, msg, assert.isNull, true).to.equal(null);\n  };\n\n  /**\n   * ### .isNotNull(value, [message])\n   *\n   * Asserts that `value` is not null.\n   *\n   *     var tea = 'tasty chai';\n   *     assert.isNotNull(tea, 'great, time for tea!');\n   *\n   * @name isNotNull\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotNull = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNull, true).to.not.equal(null);\n  };\n\n  /**\n   * ### .isNaN\n   *\n   * Asserts that value is NaN.\n   *\n   *     assert.isNaN(NaN, 'NaN is NaN');\n   *\n   * @name isNaN\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNaN = function (val, msg) {\n    new Assertion(val, msg, assert.isNaN, true).to.be.NaN;\n  };\n\n  /**\n   * ### .isNotNaN\n   *\n   * Asserts that value is not NaN.\n   *\n   *     assert.isNotNaN(4, '4 is not NaN');\n   *\n   * @name isNotNaN\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n  assert.isNotNaN = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNaN, true).not.to.be.NaN;\n  };\n\n  /**\n   * ### .exists\n   *\n   * Asserts that the target is neither `null` nor `undefined`.\n   *\n   *     var foo = 'hi';\n   *\n   *     assert.exists(foo, 'foo is neither `null` nor `undefined`');\n   *\n   * @name exists\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.exists = function (val, msg) {\n    new Assertion(val, msg, assert.exists, true).to.exist;\n  };\n\n  /**\n   * ### .notExists\n   *\n   * Asserts that the target is either `null` or `undefined`.\n   *\n   *     var bar = null\n   *       , baz;\n   *\n   *     assert.notExists(bar);\n   *     assert.notExists(baz, 'baz is either null or undefined');\n   *\n   * @name notExists\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notExists = function (val, msg) {\n    new Assertion(val, msg, assert.notExists, true).to.not.exist;\n  };\n\n  /**\n   * ### .isUndefined(value, [message])\n   *\n   * Asserts that `value` is `undefined`.\n   *\n   *     var tea;\n   *     assert.isUndefined(tea, 'no tea defined');\n   *\n   * @name isUndefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isUndefined = function (val, msg) {\n    new Assertion(val, msg, assert.isUndefined, true).to.equal(undefined);\n  };\n\n  /**\n   * ### .isDefined(value, [message])\n   *\n   * Asserts that `value` is not `undefined`.\n   *\n   *     var tea = 'cup of chai';\n   *     assert.isDefined(tea, 'tea has been defined');\n   *\n   * @name isDefined\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isDefined = function (val, msg) {\n    new Assertion(val, msg, assert.isDefined, true).to.not.equal(undefined);\n  };\n\n  /**\n   * ### .isFunction(value, [message])\n   *\n   * Asserts that `value` is a function.\n   *\n   *     function serveTea() { return 'cup of tea'; };\n   *     assert.isFunction(serveTea, 'great, we can have tea now');\n   *\n   * @name isFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFunction = function (val, msg) {\n    new Assertion(val, msg, assert.isFunction, true).to.be.a('function');\n  };\n\n  /**\n   * ### .isNotFunction(value, [message])\n   *\n   * Asserts that `value` is _not_ a function.\n   *\n   *     var serveTea = [ 'heat', 'pour', 'sip' ];\n   *     assert.isNotFunction(serveTea, 'great, we have listed the steps');\n   *\n   * @name isNotFunction\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFunction = function (val, msg) {\n    new Assertion(val, msg, assert.isNotFunction, true).to.not.be.a('function');\n  };\n\n  /**\n   * ### .isObject(value, [message])\n   *\n   * Asserts that `value` is an object of type 'Object' (as revealed by `Object.prototype.toString`).\n   * _The assertion does not match subclassed objects._\n   *\n   *     var selection = { name: 'Chai', serve: 'with spices' };\n   *     assert.isObject(selection, 'tea selection is an object');\n   *\n   * @name isObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isObject = function (val, msg) {\n    new Assertion(val, msg, assert.isObject, true).to.be.a('object');\n  };\n\n  /**\n   * ### .isNotObject(value, [message])\n   *\n   * Asserts that `value` is _not_ an object of type 'Object' (as revealed by `Object.prototype.toString`).\n   *\n   *     var selection = 'chai'\n   *     assert.isNotObject(selection, 'tea selection is not an object');\n   *     assert.isNotObject(null, 'null is not an object');\n   *\n   * @name isNotObject\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotObject = function (val, msg) {\n    new Assertion(val, msg, assert.isNotObject, true).to.not.be.a('object');\n  };\n\n  /**\n   * ### .isArray(value, [message])\n   *\n   * Asserts that `value` is an array.\n   *\n   *     var menu = [ 'green', 'chai', 'oolong' ];\n   *     assert.isArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isArray = function (val, msg) {\n    new Assertion(val, msg, assert.isArray, true).to.be.an('array');\n  };\n\n  /**\n   * ### .isNotArray(value, [message])\n   *\n   * Asserts that `value` is _not_ an array.\n   *\n   *     var menu = 'green|chai|oolong';\n   *     assert.isNotArray(menu, 'what kind of tea do we want?');\n   *\n   * @name isNotArray\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotArray = function (val, msg) {\n    new Assertion(val, msg, assert.isNotArray, true).to.not.be.an('array');\n  };\n\n  /**\n   * ### .isString(value, [message])\n   *\n   * Asserts that `value` is a string.\n   *\n   *     var teaOrder = 'chai';\n   *     assert.isString(teaOrder, 'order placed');\n   *\n   * @name isString\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isString = function (val, msg) {\n    new Assertion(val, msg, assert.isString, true).to.be.a('string');\n  };\n\n  /**\n   * ### .isNotString(value, [message])\n   *\n   * Asserts that `value` is _not_ a string.\n   *\n   *     var teaOrder = 4;\n   *     assert.isNotString(teaOrder, 'order placed');\n   *\n   * @name isNotString\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotString = function (val, msg) {\n    new Assertion(val, msg, assert.isNotString, true).to.not.be.a('string');\n  };\n\n  /**\n   * ### .isNumber(value, [message])\n   *\n   * Asserts that `value` is a number.\n   *\n   *     var cups = 2;\n   *     assert.isNumber(cups, 'how many cups');\n   *\n   * @name isNumber\n   * @param {Number} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNumber = function (val, msg) {\n    new Assertion(val, msg, assert.isNumber, true).to.be.a('number');\n  };\n\n  /**\n   * ### .isNotNumber(value, [message])\n   *\n   * Asserts that `value` is _not_ a number.\n   *\n   *     var cups = '2 cups please';\n   *     assert.isNotNumber(cups, 'how many cups');\n   *\n   * @name isNotNumber\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotNumber = function (val, msg) {\n    new Assertion(val, msg, assert.isNotNumber, true).to.not.be.a('number');\n  };\n\n   /**\n   * ### .isFinite(value, [message])\n   *\n   * Asserts that `value` is a finite number. Unlike `.isNumber`, this will fail for `NaN` and `Infinity`.\n   *\n   *     var cups = 2;\n   *     assert.isFinite(cups, 'how many cups');\n   *\n   *     assert.isFinite(NaN); // throws\n   *\n   * @name isFinite\n   * @param {Number} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFinite = function (val, msg) {\n    new Assertion(val, msg, assert.isFinite, true).to.be.finite;\n  };\n\n  /**\n   * ### .isBoolean(value, [message])\n   *\n   * Asserts that `value` is a boolean.\n   *\n   *     var teaReady = true\n   *       , teaServed = false;\n   *\n   *     assert.isBoolean(teaReady, 'is the tea ready');\n   *     assert.isBoolean(teaServed, 'has tea been served');\n   *\n   * @name isBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isBoolean = function (val, msg) {\n    new Assertion(val, msg, assert.isBoolean, true).to.be.a('boolean');\n  };\n\n  /**\n   * ### .isNotBoolean(value, [message])\n   *\n   * Asserts that `value` is _not_ a boolean.\n   *\n   *     var teaReady = 'yep'\n   *       , teaServed = 'nope';\n   *\n   *     assert.isNotBoolean(teaReady, 'is the tea ready');\n   *     assert.isNotBoolean(teaServed, 'has tea been served');\n   *\n   * @name isNotBoolean\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotBoolean = function (val, msg) {\n    new Assertion(val, msg, assert.isNotBoolean, true).to.not.be.a('boolean');\n  };\n\n  /**\n   * ### .typeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.typeOf({ tea: 'chai' }, 'object', 'we have an object');\n   *     assert.typeOf(['chai', 'jasmine'], 'array', 'we have an array');\n   *     assert.typeOf('tea', 'string', 'we have a string');\n   *     assert.typeOf(/tea/, 'regexp', 'we have a regular expression');\n   *     assert.typeOf(null, 'null', 'we have a null');\n   *     assert.typeOf(undefined, 'undefined', 'we have an undefined');\n   *\n   * @name typeOf\n   * @param {Mixed} value\n   * @param {String} name\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.typeOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.typeOf, true).to.be.a(type);\n  };\n\n  /**\n   * ### .notTypeOf(value, name, [message])\n   *\n   * Asserts that `value`'s type is _not_ `name`, as determined by\n   * `Object.prototype.toString`.\n   *\n   *     assert.notTypeOf('tea', 'number', 'strings are not numbers');\n   *\n   * @name notTypeOf\n   * @param {Mixed} value\n   * @param {String} typeof name\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notTypeOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.notTypeOf, true).to.not.be.a(type);\n  };\n\n  /**\n   * ### .instanceOf(object, constructor, [message])\n   *\n   * Asserts that `value` is an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new Tea('chai');\n   *\n   *     assert.instanceOf(chai, Tea, 'chai is an instance of tea');\n   *\n   * @name instanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.instanceOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.instanceOf, true).to.be.instanceOf(type);\n  };\n\n  /**\n   * ### .notInstanceOf(object, constructor, [message])\n   *\n   * Asserts `value` is not an instance of `constructor`.\n   *\n   *     var Tea = function (name) { this.name = name; }\n   *       , chai = new String('chai');\n   *\n   *     assert.notInstanceOf(chai, Tea, 'chai is not an instance of tea');\n   *\n   * @name notInstanceOf\n   * @param {Object} object\n   * @param {Constructor} constructor\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notInstanceOf = function (val, type, msg) {\n    new Assertion(val, msg, assert.notInstanceOf, true)\n      .to.not.be.instanceOf(type);\n  };\n\n  /**\n   * ### .include(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Can be used to assert the\n   * inclusion of a value in an array, a substring in a string, or a subset of\n   * properties in an object.\n   *\n   *     assert.include([1,2,3], 2, 'array contains value');\n   *     assert.include('foobar', 'foo', 'string contains substring');\n   *     assert.include({ foo: 'bar', hello: 'universe' }, { foo: 'bar' }, 'object contains property');\n   *\n   * Strict equality (===) is used. When asserting the inclusion of a value in\n   * an array, the array is searched for an element that's strictly equal to the\n   * given value. When asserting a subset of properties in an object, the object\n   * is searched for the given property keys, checking that each one is present\n   * and strictly equal to the given property value. For instance:\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.include([obj1, obj2], obj1);\n   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1});\n   *     assert.include({foo: obj1, bar: obj2}, {foo: obj1, bar: obj2});\n   *\n   * @name include\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.include = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.include, true).include(inc);\n  };\n\n  /**\n   * ### .notInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Can be used to assert\n   * the absence of a value in an array, a substring in a string, or a subset of\n   * properties in an object.\n   *\n   *     assert.notInclude([1,2,3], 4, \"array doesn't contain value\");\n   *     assert.notInclude('foobar', 'baz', \"string doesn't contain substring\");\n   *     assert.notInclude({ foo: 'bar', hello: 'universe' }, { foo: 'baz' }, 'object doesn't contain property');\n   *\n   * Strict equality (===) is used. When asserting the absence of a value in an\n   * array, the array is searched to confirm the absence of an element that's\n   * strictly equal to the given value. When asserting a subset of properties in\n   * an object, the object is searched to confirm that at least one of the given\n   * property keys is either not present or not strictly equal to the given\n   * property value. For instance:\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.notInclude([obj1, obj2], {a: 1});\n   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});\n   *     assert.notInclude({foo: obj1, bar: obj2}, {foo: obj1, bar: {b: 2}});\n   *\n   * @name notInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notInclude, true).not.include(inc);\n  };\n\n  /**\n   * ### .deepInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` includes `needle`. Can be used to assert the\n   * inclusion of a value in an array or a subset of properties in an object.\n   * Deep equality is used.\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.deepInclude([obj1, obj2], {a: 1});\n   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}});\n   *     assert.deepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 2}});\n   *\n   * @name deepInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepInclude, true).deep.include(inc);\n  };\n\n  /**\n   * ### .notDeepInclude(haystack, needle, [message])\n   *\n   * Asserts that `haystack` does not include `needle`. Can be used to assert\n   * the absence of a value in an array or a subset of properties in an object.\n   * Deep equality is used.\n   *\n   *     var obj1 = {a: 1}\n   *       , obj2 = {b: 2};\n   *     assert.notDeepInclude([obj1, obj2], {a: 9});\n   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 9}});\n   *     assert.notDeepInclude({foo: obj1, bar: obj2}, {foo: {a: 1}, bar: {b: 9}});\n   *\n   * @name notDeepInclude\n   * @param {Array|String} haystack\n   * @param {Mixed} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepInclude, true).not.deep.include(inc);\n  };\n\n  /**\n   * ### .nestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.nestedInclude({'.a': {'b': 'x'}}, {'\\\\.a.[b]': 'x'});\n   *     assert.nestedInclude({'a': {'[b]': 'x'}}, {'a.\\\\[b\\\\]': 'x'});\n   *\n   * @name nestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.nestedInclude, true).nested.include(inc);\n  };\n\n  /**\n   * ### .notNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' does not include 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.notNestedInclude({'.a': {'b': 'x'}}, {'\\\\.a.b': 'y'});\n   *     assert.notNestedInclude({'a': {'[b]': 'x'}}, {'a.\\\\[b\\\\]': 'y'});\n   *\n   * @name notNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedInclude = function (exp, inc, msg) {\n    new Assertion(exp, msg, assert.notNestedInclude, true)\n      .not.nested.include(inc);\n  };\n\n  /**\n   * ### .deepNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while checking for deep equality.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.deepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {x: 1}});\n   *     assert.deepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\\\.a.\\\\[b\\\\]': {x: 1}});\n   *\n   * @name deepNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepNestedInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepNestedInclude, true)\n      .deep.nested.include(inc);\n  };\n\n  /**\n   * ### .notDeepNestedInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' does not include 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while checking for deep equality.\n   * Enables the use of dot- and bracket-notation for referencing nested\n   * properties.\n   * '[]' and '.' in property names can be escaped using double backslashes.\n   *\n   *     assert.notDeepNestedInclude({a: {b: [{x: 1}]}}, {'a.b[0]': {y: 1}})\n   *     assert.notDeepNestedInclude({'.a': {'[b]': {x: 1}}}, {'\\\\.a.\\\\[b\\\\]': {y: 2}});\n   *\n   * @name notDeepNestedInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepNestedInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepNestedInclude, true)\n      .not.deep.nested.include(inc);\n  };\n\n  /**\n   * ### .ownInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while ignoring inherited properties.\n   *\n   *     assert.ownInclude({ a: 1 }, { a: 1 });\n   *\n   * @name ownInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.ownInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.ownInclude, true).own.include(inc);\n  };\n\n  /**\n   * ### .notOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while ignoring inherited properties.\n   *\n   *     Object.prototype.b = 2;\n   *\n   *     assert.notOwnInclude({ a: 1 }, { b: 2 });\n   *\n   * @name notOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notOwnInclude, true).not.own.include(inc);\n  };\n\n  /**\n   * ### .deepOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the inclusion of a subset of properties in an\n   * object while ignoring inherited properties and checking for deep equality.\n   *\n   *      assert.deepOwnInclude({a: {b: 2}}, {a: {b: 2}});\n   *\n   * @name deepOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.deepOwnInclude, true)\n      .deep.own.include(inc);\n  };\n\n   /**\n   * ### .notDeepOwnInclude(haystack, needle, [message])\n   *\n   * Asserts that 'haystack' includes 'needle'.\n   * Can be used to assert the absence of a subset of properties in an\n   * object while ignoring inherited properties and checking for deep equality.\n   *\n   *      assert.notDeepOwnInclude({a: {b: 2}}, {a: {c: 3}});\n   *\n   * @name notDeepOwnInclude\n   * @param {Object} haystack\n   * @param {Object} needle\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepOwnInclude = function(exp, inc, msg) {\n    new Assertion(exp, msg, assert.notDeepOwnInclude, true)\n      .not.deep.own.include(inc);\n  };\n\n  /**\n   * ### .match(value, regexp, [message])\n   *\n   * Asserts that `value` matches the regular expression `regexp`.\n   *\n   *     assert.match('foobar', /^foo/, 'regexp matches');\n   *\n   * @name match\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.match = function (exp, re, msg) {\n    new Assertion(exp, msg, assert.match, true).to.match(re);\n  };\n\n  /**\n   * ### .notMatch(value, regexp, [message])\n   *\n   * Asserts that `value` does not match the regular expression `regexp`.\n   *\n   *     assert.notMatch('foobar', /^foo/, 'regexp does not match');\n   *\n   * @name notMatch\n   * @param {Mixed} value\n   * @param {RegExp} regexp\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notMatch = function (exp, re, msg) {\n    new Assertion(exp, msg, assert.notMatch, true).to.not.match(re);\n  };\n\n  /**\n   * ### .property(object, property, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property`.\n   *\n   *     assert.property({ tea: { green: 'matcha' }}, 'tea');\n   *     assert.property({ tea: { green: 'matcha' }}, 'toString');\n   *\n   * @name property\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.property = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.property, true).to.have.property(prop);\n  };\n\n  /**\n   * ### .notProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property`.\n   *\n   *     assert.notProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *\n   * @name notProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notProperty, true)\n      .to.not.have.property(prop);\n  };\n\n  /**\n   * ### .propertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property` with a value given by `value`. Uses a strict equality check\n   * (===).\n   *\n   *     assert.propertyVal({ tea: 'is good' }, 'tea', 'is good');\n   *\n   * @name propertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.propertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.propertyVal, true)\n      .to.have.property(prop, val);\n  };\n\n  /**\n   * ### .notPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property` with value given by `value`. Uses a strict equality check\n   * (===).\n   *\n   *     assert.notPropertyVal({ tea: 'is good' }, 'tea', 'is bad');\n   *     assert.notPropertyVal({ tea: 'is good' }, 'coffee', 'is good');\n   *\n   * @name notPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notPropertyVal, true)\n      .to.not.have.property(prop, val);\n  };\n\n  /**\n   * ### .deepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property` with a value given by `value`. Uses a deep equality check.\n   *\n   *     assert.deepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });\n   *\n   * @name deepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.deepPropertyVal, true)\n      .to.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .notDeepPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct or inherited property named\n   * by `property` with value given by `value`. Uses a deep equality check.\n   *\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });\n   *     assert.notDeepPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });\n   *\n   * @name notDeepPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notDeepPropertyVal, true)\n      .to.not.have.deep.property(prop, val);\n  };\n\n  /**\n   * ### .ownProperty(object, property, [message])\n   *\n   * Asserts that `object` has a direct property named by `property`. Inherited\n   * properties aren't checked.\n   *\n   *     assert.ownProperty({ tea: { green: 'matcha' }}, 'tea');\n   *\n   * @name ownProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ownProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.ownProperty, true)\n      .to.have.own.property(prop);\n  };\n\n  /**\n   * ### .notOwnProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by\n   * `property`. Inherited properties aren't checked.\n   *\n   *     assert.notOwnProperty({ tea: { green: 'matcha' }}, 'coffee');\n   *     assert.notOwnProperty({}, 'toString');\n   *\n   * @name notOwnProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOwnProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notOwnProperty, true)\n      .to.not.have.own.property(prop);\n  };\n\n  /**\n   * ### .ownPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct property named by `property` and a value\n   * equal to the provided `value`. Uses a strict equality check (===).\n   * Inherited properties aren't checked.\n   *\n   *     assert.ownPropertyVal({ coffee: 'is good'}, 'coffee', 'is good');\n   *\n   * @name ownPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.ownPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.ownPropertyVal, true)\n      .to.have.own.property(prop, value);\n  };\n\n  /**\n   * ### .notOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by `property`\n   * with a value equal to the provided `value`. Uses a strict equality check\n   * (===). Inherited properties aren't checked.\n   *\n   *     assert.notOwnPropertyVal({ tea: 'is better'}, 'tea', 'is worse');\n   *     assert.notOwnPropertyVal({}, 'toString', Object.prototype.toString);\n   *\n   * @name notOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.notOwnPropertyVal, true)\n      .to.not.have.own.property(prop, value);\n  };\n\n  /**\n   * ### .deepOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a direct property named by `property` and a value\n   * equal to the provided `value`. Uses a deep equality check. Inherited\n   * properties aren't checked.\n   *\n   *     assert.deepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'matcha' });\n   *\n   * @name deepOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.deepOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.deepOwnPropertyVal, true)\n      .to.have.deep.own.property(prop, value);\n  };\n\n  /**\n   * ### .notDeepOwnPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a direct property named by `property`\n   * with a value equal to the provided `value`. Uses a deep equality check.\n   * Inherited properties aren't checked.\n   *\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { black: 'matcha' });\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'tea', { green: 'oolong' });\n   *     assert.notDeepOwnPropertyVal({ tea: { green: 'matcha' } }, 'coffee', { green: 'matcha' });\n   *     assert.notDeepOwnPropertyVal({}, 'toString', Object.prototype.toString);\n   *\n   * @name notDeepOwnPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @api public\n   */\n\n  assert.notDeepOwnPropertyVal = function (obj, prop, value, msg) {\n    new Assertion(obj, msg, assert.notDeepOwnPropertyVal, true)\n      .to.not.have.deep.own.property(prop, value);\n  };\n\n  /**\n   * ### .nestedProperty(object, property, [message])\n   *\n   * Asserts that `object` has a direct or inherited property named by\n   * `property`, which can be a string using dot- and bracket-notation for\n   * nested reference.\n   *\n   *     assert.nestedProperty({ tea: { green: 'matcha' }}, 'tea.green');\n   *\n   * @name nestedProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.nestedProperty, true)\n      .to.have.nested.property(prop);\n  };\n\n  /**\n   * ### .notNestedProperty(object, property, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property`, which\n   * can be a string using dot- and bracket-notation for nested reference. The\n   * property cannot exist on the object nor anywhere in its prototype chain.\n   *\n   *     assert.notNestedProperty({ tea: { green: 'matcha' }}, 'tea.oolong');\n   *\n   * @name notNestedProperty\n   * @param {Object} object\n   * @param {String} property\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedProperty = function (obj, prop, msg) {\n    new Assertion(obj, msg, assert.notNestedProperty, true)\n      .to.not.have.nested.property(prop);\n  };\n\n  /**\n   * ### .nestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with value given\n   * by `value`. `property` can use dot- and bracket-notation for nested\n   * reference. Uses a strict equality check (===).\n   *\n   *     assert.nestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'matcha');\n   *\n   * @name nestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.nestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.nestedPropertyVal, true)\n      .to.have.nested.property(prop, val);\n  };\n\n  /**\n   * ### .notNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property` with\n   * value given by `value`. `property` can use dot- and bracket-notation for\n   * nested reference. Uses a strict equality check (===).\n   *\n   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'tea.green', 'konacha');\n   *     assert.notNestedPropertyVal({ tea: { green: 'matcha' }}, 'coffee.green', 'matcha');\n   *\n   * @name notNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notNestedPropertyVal, true)\n      .to.not.have.nested.property(prop, val);\n  };\n\n  /**\n   * ### .deepNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` has a property named by `property` with a value given\n   * by `value`. `property` can use dot- and bracket-notation for nested\n   * reference. Uses a deep equality check.\n   *\n   *     assert.deepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yum' });\n   *\n   * @name deepNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.deepNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.deepNestedPropertyVal, true)\n      .to.have.deep.nested.property(prop, val);\n  };\n\n  /**\n   * ### .notDeepNestedPropertyVal(object, property, value, [message])\n   *\n   * Asserts that `object` does _not_ have a property named by `property` with\n   * value given by `value`. `property` can use dot- and bracket-notation for\n   * nested reference. Uses a deep equality check.\n   *\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { oolong: 'yum' });\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.green', { matcha: 'yuck' });\n   *     assert.notDeepNestedPropertyVal({ tea: { green: { matcha: 'yum' } } }, 'tea.black', { matcha: 'yum' });\n   *\n   * @name notDeepNestedPropertyVal\n   * @param {Object} object\n   * @param {String} property\n   * @param {Mixed} value\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notDeepNestedPropertyVal = function (obj, prop, val, msg) {\n    new Assertion(obj, msg, assert.notDeepNestedPropertyVal, true)\n      .to.not.have.deep.nested.property(prop, val);\n  }\n\n  /**\n   * ### .lengthOf(object, length, [message])\n   *\n   * Asserts that `object` has a `length` or `size` with the expected value.\n   *\n   *     assert.lengthOf([1,2,3], 3, 'array has length of 3');\n   *     assert.lengthOf('foobar', 6, 'string has length of 6');\n   *     assert.lengthOf(new Set([1,2,3]), 3, 'set has size of 3');\n   *     assert.lengthOf(new Map([['a',1],['b',2],['c',3]]), 3, 'map has size of 3');\n   *\n   * @name lengthOf\n   * @param {Mixed} object\n   * @param {Number} length\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.lengthOf = function (exp, len, msg) {\n    new Assertion(exp, msg, assert.lengthOf, true).to.have.lengthOf(len);\n  };\n\n  /**\n   * ### .hasAnyKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has at least one of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'iDontExist', 'baz']);\n   *     assert.hasAnyKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, iDontExist: 99, baz: 1337});\n   *     assert.hasAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.hasAnyKeys(new Set([{foo: 'bar'}, 'anotherKey']), [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name hasAnyKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAnyKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAnyKeys, true).to.have.any.keys(keys);\n  }\n\n  /**\n   * ### .hasAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all and only all of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);\n   *     assert.hasAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337]);\n   *     assert.hasAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.hasAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name hasAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAllKeys, true).to.have.all.keys(keys);\n  }\n\n  /**\n   * ### .containsAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all of the `keys` provided but may have more keys not listed.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'baz']);\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, ['foo', 'bar', 'baz']);\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, baz: 1337});\n   *     assert.containsAllKeys({foo: 1, bar: 2, baz: 3}, {foo: 30, bar: 99, baz: 1337});\n   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}]);\n   *     assert.containsAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{foo: 1}, 'key']);\n   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}]);\n   *     assert.containsAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{foo: 'bar'}, 'anotherKey']);\n   *\n   * @name containsAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.containsAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.containsAllKeys, true)\n      .to.contain.all.keys(keys);\n  }\n\n  /**\n   * ### .doesNotHaveAnyKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has none of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);\n   *     assert.doesNotHaveAnyKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});\n   *     assert.doesNotHaveAnyKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);\n   *     assert.doesNotHaveAnyKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);\n   *\n   * @name doesNotHaveAnyKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAnyKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAnyKeys, true)\n      .to.not.have.any.keys(keys);\n  }\n\n  /**\n   * ### .doesNotHaveAllKeys(object, [keys], [message])\n   *\n   * Asserts that `object` does not have at least one of the `keys` provided.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, ['one', 'two', 'example']);\n   *     assert.doesNotHaveAllKeys({foo: 1, bar: 2, baz: 3}, {one: 1, two: 2, example: 'foo'});\n   *     assert.doesNotHaveAllKeys(new Map([[{foo: 1}, 'bar'], ['key', 'value']]), [{one: 'two'}, 'example']);\n   *     assert.doesNotHaveAllKeys(new Set([{foo: 'bar'}, 'anotherKey'], [{one: 'two'}, 'example']);\n   *\n   * @name doesNotHaveAllKeys\n   * @param {Mixed} object\n   * @param {String[]} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAllKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAllKeys, true)\n      .to.not.have.all.keys(keys);\n  }\n\n  /**\n   * ### .hasAnyDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has at least one of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {three: 'three'}]);\n   *     assert.hasAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name doesNotHaveAllKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAnyDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAnyDeepKeys, true)\n      .to.have.any.deep.keys(keys);\n  }\n\n /**\n   * ### .hasAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has all and only all of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne']]), {one: 'one'});\n   *     assert.hasAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.hasAllDeepKeys(new Set([{one: 'one'}]), {one: 'one'});\n   *     assert.hasAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name hasAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.hasAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.hasAllDeepKeys, true)\n      .to.have.all.deep.keys(keys);\n  }\n\n /**\n   * ### .containsAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` contains all of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {one: 'one'});\n   *     assert.containsAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{one: 'one'}, {two: 'two'}]);\n   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {one: 'one'});\n   *     assert.containsAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {two: 'two'}]);\n   *\n   * @name containsAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.containsAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.containsAllDeepKeys, true)\n      .to.contain.all.deep.keys(keys);\n  }\n\n /**\n   * ### .doesNotHaveAnyDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` has none of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});\n   *     assert.doesNotHaveAnyDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);\n   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});\n   *     assert.doesNotHaveAnyDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{twenty: 'twenty'}, {fifty: 'fifty'}]);\n   *\n   * @name doesNotHaveAnyDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAnyDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAnyDeepKeys, true)\n      .to.not.have.any.deep.keys(keys);\n  }\n\n /**\n   * ### .doesNotHaveAllDeepKeys(object, [keys], [message])\n   *\n   * Asserts that `object` does not have at least one of the `keys` provided.\n   * Since Sets and Maps can have objects as keys you can use this assertion to perform\n   * a deep comparison.\n   * You can also provide a single object instead of a `keys` array and its keys\n   * will be used as the expected set of keys.\n   *\n   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [1, 2]]), {thisDoesNot: 'exist'});\n   *     assert.doesNotHaveAllDeepKeys(new Map([[{one: 'one'}, 'valueOne'], [{two: 'two'}, 'valueTwo']]), [{twenty: 'twenty'}, {one: 'one'}]);\n   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), {twenty: 'twenty'});\n   *     assert.doesNotHaveAllDeepKeys(new Set([{one: 'one'}, {two: 'two'}]), [{one: 'one'}, {fifty: 'fifty'}]);\n   *\n   * @name doesNotHaveAllDeepKeys\n   * @param {Mixed} object\n   * @param {Array|Object} keys\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotHaveAllDeepKeys = function (obj, keys, msg) {\n    new Assertion(obj, msg, assert.doesNotHaveAllDeepKeys, true)\n      .to.not.have.all.deep.keys(keys);\n  }\n\n /**\n   * ### .throws(fn, [errorLike/string/regexp], [string/regexp], [message])\n   *\n   * If `errorLike` is an `Error` constructor, asserts that `fn` will throw an error that is an\n   * instance of `errorLike`.\n   * If `errorLike` is an `Error` instance, asserts that the error thrown is the same\n   * instance as `errorLike`.\n   * If `errMsgMatcher` is provided, it also asserts that the error thrown will have a\n   * message matching `errMsgMatcher`.\n   *\n   *     assert.throws(fn, 'Error thrown must have this msg');\n   *     assert.throws(fn, /Error thrown must have a msg that matches this/);\n   *     assert.throws(fn, ReferenceError);\n   *     assert.throws(fn, errorInstance);\n   *     assert.throws(fn, ReferenceError, 'Error thrown must be a ReferenceError and have this msg');\n   *     assert.throws(fn, errorInstance, 'Error thrown must be the same errorInstance and have this msg');\n   *     assert.throws(fn, ReferenceError, /Error thrown must be a ReferenceError and match this/);\n   *     assert.throws(fn, errorInstance, /Error thrown must be the same errorInstance and match this/);\n   *\n   * @name throws\n   * @alias throw\n   * @alias Throw\n   * @param {Function} fn\n   * @param {ErrorConstructor|Error} errorLike\n   * @param {RegExp|String} errMsgMatcher\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.throws = function (fn, errorLike, errMsgMatcher, msg) {\n    if ('string' === typeof errorLike || errorLike instanceof RegExp) {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    var assertErr = new Assertion(fn, msg, assert.throws, true)\n      .to.throw(errorLike, errMsgMatcher);\n    return flag(assertErr, 'object');\n  };\n\n  /**\n   * ### .doesNotThrow(fn, [errorLike/string/regexp], [string/regexp], [message])\n   *\n   * If `errorLike` is an `Error` constructor, asserts that `fn` will _not_ throw an error that is an\n   * instance of `errorLike`.\n   * If `errorLike` is an `Error` instance, asserts that the error thrown is _not_ the same\n   * instance as `errorLike`.\n   * If `errMsgMatcher` is provided, it also asserts that the error thrown will _not_ have a\n   * message matching `errMsgMatcher`.\n   *\n   *     assert.doesNotThrow(fn, 'Any Error thrown must not have this message');\n   *     assert.doesNotThrow(fn, /Any Error thrown must not match this/);\n   *     assert.doesNotThrow(fn, Error);\n   *     assert.doesNotThrow(fn, errorInstance);\n   *     assert.doesNotThrow(fn, Error, 'Error must not have this message');\n   *     assert.doesNotThrow(fn, errorInstance, 'Error must not have this message');\n   *     assert.doesNotThrow(fn, Error, /Error must not match this/);\n   *     assert.doesNotThrow(fn, errorInstance, /Error must not match this/);\n   *\n   * @name doesNotThrow\n   * @param {Function} fn\n   * @param {ErrorConstructor} errorLike\n   * @param {RegExp|String} errMsgMatcher\n   * @param {String} message\n   * @see https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Error#Error_types\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotThrow = function (fn, errorLike, errMsgMatcher, msg) {\n    if ('string' === typeof errorLike || errorLike instanceof RegExp) {\n      errMsgMatcher = errorLike;\n      errorLike = null;\n    }\n\n    new Assertion(fn, msg, assert.doesNotThrow, true)\n      .to.not.throw(errorLike, errMsgMatcher);\n  };\n\n  /**\n   * ### .operator(val1, operator, val2, [message])\n   *\n   * Compares two values using `operator`.\n   *\n   *     assert.operator(1, '<', 2, 'everything is ok');\n   *     assert.operator(1, '>', 2, 'this will fail');\n   *\n   * @name operator\n   * @param {Mixed} val1\n   * @param {String} operator\n   * @param {Mixed} val2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.operator = function (val, operator, val2, msg) {\n    var ok;\n    switch(operator) {\n      case '==':\n        ok = val == val2;\n        break;\n      case '===':\n        ok = val === val2;\n        break;\n      case '>':\n        ok = val > val2;\n        break;\n      case '>=':\n        ok = val >= val2;\n        break;\n      case '<':\n        ok = val < val2;\n        break;\n      case '<=':\n        ok = val <= val2;\n        break;\n      case '!=':\n        ok = val != val2;\n        break;\n      case '!==':\n        ok = val !== val2;\n        break;\n      default:\n        msg = msg ? msg + ': ' : msg;\n        throw new chai.AssertionError(\n          msg + 'Invalid operator \"' + operator + '\"',\n          undefined,\n          assert.operator\n        );\n    }\n    var test = new Assertion(ok, msg, assert.operator, true);\n    test.assert(\n        true === flag(test, 'object')\n      , 'expected ' + util.inspect(val) + ' to be ' + operator + ' ' + util.inspect(val2)\n      , 'expected ' + util.inspect(val) + ' to not be ' + operator + ' ' + util.inspect(val2) );\n  };\n\n  /**\n   * ### .closeTo(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.closeTo(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name closeTo\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.closeTo = function (act, exp, delta, msg) {\n    new Assertion(act, msg, assert.closeTo, true).to.be.closeTo(exp, delta);\n  };\n\n  /**\n   * ### .approximately(actual, expected, delta, [message])\n   *\n   * Asserts that the target is equal `expected`, to within a +/- `delta` range.\n   *\n   *     assert.approximately(1.5, 1, 0.5, 'numbers are close');\n   *\n   * @name approximately\n   * @param {Number} actual\n   * @param {Number} expected\n   * @param {Number} delta\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.approximately = function (act, exp, delta, msg) {\n    new Assertion(act, msg, assert.approximately, true)\n      .to.be.approximately(exp, delta);\n  };\n\n  /**\n   * ### .sameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in any order. Uses a\n   * strict equality check (===).\n   *\n   *     assert.sameMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'same members');\n   *\n   * @name sameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameMembers, true)\n      .to.have.same.members(set2);\n  }\n\n  /**\n   * ### .notSameMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in any order.\n   * Uses a strict equality check (===).\n   *\n   *     assert.notSameMembers([ 1, 2, 3 ], [ 5, 1, 3 ], 'not same members');\n   *\n   * @name notSameMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameMembers, true)\n      .to.not.have.same.members(set2);\n  }\n\n  /**\n   * ### .sameDeepMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in any order. Uses a\n   * deep equality check.\n   *\n   *     assert.sameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { c: 3 }], 'same deep members');\n   *\n   * @name sameDeepMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameDeepMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameDeepMembers, true)\n      .to.have.same.deep.members(set2);\n  }\n\n  /**\n   * ### .notSameDeepMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in any order.\n   * Uses a deep equality check.\n   *\n   *     assert.notSameDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [{ b: 2 }, { a: 1 }, { f: 5 }], 'not same deep members');\n   *\n   * @name notSameDeepMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameDeepMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameDeepMembers, true)\n      .to.not.have.same.deep.members(set2);\n  }\n\n  /**\n   * ### .sameOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in the same order.\n   * Uses a strict equality check (===).\n   *\n   *     assert.sameOrderedMembers([ 1, 2, 3 ], [ 1, 2, 3 ], 'same ordered members');\n   *\n   * @name sameOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameOrderedMembers, true)\n      .to.have.same.ordered.members(set2);\n  }\n\n  /**\n   * ### .notSameOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in the same\n   * order. Uses a strict equality check (===).\n   *\n   *     assert.notSameOrderedMembers([ 1, 2, 3 ], [ 2, 1, 3 ], 'not same ordered members');\n   *\n   * @name notSameOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameOrderedMembers, true)\n      .to.not.have.same.ordered.members(set2);\n  }\n\n  /**\n   * ### .sameDeepOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` have the same members in the same order.\n   * Uses a deep equality check.\n   *\n   * assert.sameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { c: 3 } ], 'same deep ordered members');\n   *\n   * @name sameDeepOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.sameDeepOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.sameDeepOrderedMembers, true)\n      .to.have.same.deep.ordered.members(set2);\n  }\n\n  /**\n   * ### .notSameDeepOrderedMembers(set1, set2, [message])\n   *\n   * Asserts that `set1` and `set2` don't have the same members in the same\n   * order. Uses a deep equality check.\n   *\n   * assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 }, { z: 5 } ], 'not same deep ordered members');\n   * assert.notSameDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { c: 3 } ], 'not same deep ordered members');\n   *\n   * @name notSameDeepOrderedMembers\n   * @param {Array} set1\n   * @param {Array} set2\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notSameDeepOrderedMembers = function (set1, set2, msg) {\n    new Assertion(set1, msg, assert.notSameDeepOrderedMembers, true)\n      .to.not.have.same.deep.ordered.members(set2);\n  }\n\n  /**\n   * ### .includeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in any order. Uses a\n   * strict equality check (===). Duplicates are ignored.\n   *\n   *     assert.includeMembers([ 1, 2, 3 ], [ 2, 1, 2 ], 'include members');\n   *\n   * @name includeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeMembers, true)\n      .to.include.members(subset);\n  }\n\n  /**\n   * ### .notIncludeMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in any order. Uses a\n   * strict equality check (===). Duplicates are ignored.\n   *\n   *     assert.notIncludeMembers([ 1, 2, 3 ], [ 5, 1 ], 'not include members');\n   *\n   * @name notIncludeMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeMembers, true)\n      .to.not.include.members(subset);\n  }\n\n  /**\n   * ### .includeDeepMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in any order. Uses a deep\n   * equality check. Duplicates are ignored.\n   *\n   *     assert.includeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 }, { b: 2 } ], 'include deep members');\n   *\n   * @name includeDeepMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeDeepMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeDeepMembers, true)\n      .to.include.deep.members(subset);\n  }\n\n  /**\n   * ### .notIncludeDeepMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in any order. Uses a\n   * deep equality check. Duplicates are ignored.\n   *\n   *     assert.notIncludeDeepMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { f: 5 } ], 'not include deep members');\n   *\n   * @name notIncludeDeepMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeDeepMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeDeepMembers, true)\n      .to.not.include.deep.members(subset);\n  }\n\n  /**\n   * ### .includeOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a strict equality\n   * check (===).\n   *\n   *     assert.includeOrderedMembers([ 1, 2, 3 ], [ 1, 2 ], 'include ordered members');\n   *\n   * @name includeOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeOrderedMembers, true)\n      .to.include.ordered.members(subset);\n  }\n\n  /**\n   * ### .notIncludeOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a strict equality\n   * check (===).\n   *\n   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 1 ], 'not include ordered members');\n   *     assert.notIncludeOrderedMembers([ 1, 2, 3 ], [ 2, 3 ], 'not include ordered members');\n   *\n   * @name notIncludeOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeOrderedMembers, true)\n      .to.not.include.ordered.members(subset);\n  }\n\n  /**\n   * ### .includeDeepOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` is included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a deep equality\n   * check.\n   *\n   *     assert.includeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { b: 2 } ], 'include deep ordered members');\n   *\n   * @name includeDeepOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.includeDeepOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.includeDeepOrderedMembers, true)\n      .to.include.deep.ordered.members(subset);\n  }\n\n  /**\n   * ### .notIncludeDeepOrderedMembers(superset, subset, [message])\n   *\n   * Asserts that `subset` isn't included in `superset` in the same order\n   * beginning with the first element in `superset`. Uses a deep equality\n   * check.\n   *\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { a: 1 }, { f: 5 } ], 'not include deep ordered members');\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { a: 1 } ], 'not include deep ordered members');\n   *     assert.notIncludeDeepOrderedMembers([ { a: 1 }, { b: 2 }, { c: 3 } ], [ { b: 2 }, { c: 3 } ], 'not include deep ordered members');\n   *\n   * @name notIncludeDeepOrderedMembers\n   * @param {Array} superset\n   * @param {Array} subset\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.notIncludeDeepOrderedMembers = function (superset, subset, msg) {\n    new Assertion(superset, msg, assert.notIncludeDeepOrderedMembers, true)\n      .to.not.include.deep.ordered.members(subset);\n  }\n\n  /**\n   * ### .oneOf(inList, list, [message])\n   *\n   * Asserts that non-object, non-array value `inList` appears in the flat array `list`.\n   *\n   *     assert.oneOf(1, [ 2, 1 ], 'Not found in list');\n   *\n   * @name oneOf\n   * @param {*} inList\n   * @param {Array<*>} list\n   * @param {String} message\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.oneOf = function (inList, list, msg) {\n    new Assertion(inList, msg, assert.oneOf, true).to.be.oneOf(list);\n  }\n\n  /**\n   * ### .changes(function, object, property, [message])\n   *\n   * Asserts that a function changes the value of a property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 22 };\n   *     assert.changes(fn, obj, 'val');\n   *\n   * @name changes\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changes = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changes, true).to.change(obj, prop);\n  }\n\n   /**\n   * ### .changesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function changes the value of a property by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 2 };\n   *     assert.changesBy(fn, obj, 'val', 2);\n   *\n   * @name changesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changesBy, true)\n      .to.change(obj, prop).by(delta);\n  }\n\n   /**\n   * ### .doesNotChange(function, object, property, [message])\n   *\n   * Asserts that a function does not change the value of a property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { console.log('foo'); };\n   *     assert.doesNotChange(fn, obj, 'val');\n   *\n   * @name doesNotChange\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotChange = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotChange, true)\n      .to.not.change(obj, prop);\n  }\n\n  /**\n   * ### .changesButNotBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not change the value of a property or of a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 10 };\n   *     assert.changesButNotBy(fn, obj, 'val', 5);\n   *\n   * @name changesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.changesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.changesButNotBy, true)\n      .to.change(obj, prop).but.not.by(delta);\n  }\n\n  /**\n   * ### .increases(function, object, property, [message])\n   *\n   * Asserts that a function increases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 13 };\n   *     assert.increases(fn, obj, 'val');\n   *\n   * @name increases\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increases = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.increases, true)\n      .to.increase(obj, prop);\n  }\n\n  /**\n   * ### .increasesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function increases a numeric object property or a function's return value by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val += 10 };\n   *     assert.increasesBy(fn, obj, 'val', 10);\n   *\n   * @name increasesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increasesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.increasesBy, true)\n      .to.increase(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .doesNotIncrease(function, object, property, [message])\n   *\n   * Asserts that a function does not increase a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 8 };\n   *     assert.doesNotIncrease(fn, obj, 'val');\n   *\n   * @name doesNotIncrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotIncrease = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotIncrease, true)\n      .to.not.increase(obj, prop);\n  }\n\n  /**\n   * ### .increasesButNotBy(function, object, property, [message])\n   *\n   * Asserts that a function does not increase a numeric object property or function's return value by an amount (delta).\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 15 };\n   *     assert.increasesButNotBy(fn, obj, 'val', 10);\n   *\n   * @name increasesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.increasesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.increasesButNotBy, true)\n      .to.increase(obj, prop).but.not.by(delta);\n  }\n\n  /**\n   * ### .decreases(function, object, property, [message])\n   *\n   * Asserts that a function decreases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.decreases(fn, obj, 'val');\n   *\n   * @name decreases\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreases = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.decreases, true)\n      .to.decrease(obj, prop);\n  }\n\n  /**\n   * ### .decreasesBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val -= 5 };\n   *     assert.decreasesBy(fn, obj, 'val', 5);\n   *\n   * @name decreasesBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreasesBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.decreasesBy, true)\n      .to.decrease(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .doesNotDecrease(function, object, property, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property.\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 15 };\n   *     assert.doesNotDecrease(fn, obj, 'val');\n   *\n   * @name doesNotDecrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotDecrease = function (fn, obj, prop, msg) {\n    if (arguments.length === 3 && typeof obj === 'function') {\n      msg = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotDecrease, true)\n      .to.not.decrease(obj, prop);\n  }\n\n  /**\n   * ### .doesNotDecreaseBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.doesNotDecreaseBy(fn, obj, 'val', 1);\n   *\n   * @name doesNotDecrease\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.doesNotDecreaseBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    return new Assertion(fn, msg, assert.doesNotDecreaseBy, true)\n      .to.not.decrease(obj, prop).by(delta);\n  }\n\n  /**\n   * ### .decreasesButNotBy(function, object, property, delta, [message])\n   *\n   * Asserts that a function does not decreases a numeric object property or a function's return value by an amount (delta)\n   *\n   *     var obj = { val: 10 };\n   *     var fn = function() { obj.val = 5 };\n   *     assert.decreasesButNotBy(fn, obj, 'val', 1);\n   *\n   * @name decreasesButNotBy\n   * @param {Function} modifier function\n   * @param {Object} object or getter function\n   * @param {String} property name _optional_\n   * @param {Number} change amount (delta)\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.decreasesButNotBy = function (fn, obj, prop, delta, msg) {\n    if (arguments.length === 4 && typeof obj === 'function') {\n      var tmpMsg = delta;\n      delta = prop;\n      msg = tmpMsg;\n    } else if (arguments.length === 3) {\n      delta = prop;\n      prop = null;\n    }\n\n    new Assertion(fn, msg, assert.decreasesButNotBy, true)\n      .to.decrease(obj, prop).but.not.by(delta);\n  }\n\n  /*!\n   * ### .ifError(object)\n   *\n   * Asserts if value is not a false value, and throws if it is a true value.\n   * This is added to allow for chai to be a drop-in replacement for Node's\n   * assert class.\n   *\n   *     var err = new Error('I am a custom error');\n   *     assert.ifError(err); // Rethrows err!\n   *\n   * @name ifError\n   * @param {Object} object\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.ifError = function (val) {\n    if (val) {\n      throw(val);\n    }\n  };\n\n  /**\n   * ### .isExtensible(object)\n   *\n   * Asserts that `object` is extensible (can have new properties added to it).\n   *\n   *     assert.isExtensible({});\n   *\n   * @name isExtensible\n   * @alias extensible\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isExtensible = function (obj, msg) {\n    new Assertion(obj, msg, assert.isExtensible, true).to.be.extensible;\n  };\n\n  /**\n   * ### .isNotExtensible(object)\n   *\n   * Asserts that `object` is _not_ extensible.\n   *\n   *     var nonExtensibleObject = Object.preventExtensions({});\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.freeze({});\n   *\n   *     assert.isNotExtensible(nonExtensibleObject);\n   *     assert.isNotExtensible(sealedObject);\n   *     assert.isNotExtensible(frozenObject);\n   *\n   * @name isNotExtensible\n   * @alias notExtensible\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotExtensible = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotExtensible, true).to.not.be.extensible;\n  };\n\n  /**\n   * ### .isSealed(object)\n   *\n   * Asserts that `object` is sealed (cannot have new properties added to it\n   * and its existing properties cannot be removed).\n   *\n   *     var sealedObject = Object.seal({});\n   *     var frozenObject = Object.seal({});\n   *\n   *     assert.isSealed(sealedObject);\n   *     assert.isSealed(frozenObject);\n   *\n   * @name isSealed\n   * @alias sealed\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isSealed = function (obj, msg) {\n    new Assertion(obj, msg, assert.isSealed, true).to.be.sealed;\n  };\n\n  /**\n   * ### .isNotSealed(object)\n   *\n   * Asserts that `object` is _not_ sealed.\n   *\n   *     assert.isNotSealed({});\n   *\n   * @name isNotSealed\n   * @alias notSealed\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotSealed = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotSealed, true).to.not.be.sealed;\n  };\n\n  /**\n   * ### .isFrozen(object)\n   *\n   * Asserts that `object` is frozen (cannot have new properties added to it\n   * and its existing properties cannot be modified).\n   *\n   *     var frozenObject = Object.freeze({});\n   *     assert.frozen(frozenObject);\n   *\n   * @name isFrozen\n   * @alias frozen\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isFrozen = function (obj, msg) {\n    new Assertion(obj, msg, assert.isFrozen, true).to.be.frozen;\n  };\n\n  /**\n   * ### .isNotFrozen(object)\n   *\n   * Asserts that `object` is _not_ frozen.\n   *\n   *     assert.isNotFrozen({});\n   *\n   * @name isNotFrozen\n   * @alias notFrozen\n   * @param {Object} object\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotFrozen = function (obj, msg) {\n    new Assertion(obj, msg, assert.isNotFrozen, true).to.not.be.frozen;\n  };\n\n  /**\n   * ### .isEmpty(target)\n   *\n   * Asserts that the target does not contain any values.\n   * For arrays and strings, it checks the `length` property.\n   * For `Map` and `Set` instances, it checks the `size` property.\n   * For non-function objects, it gets the count of own\n   * enumerable string keys.\n   *\n   *     assert.isEmpty([]);\n   *     assert.isEmpty('');\n   *     assert.isEmpty(new Map);\n   *     assert.isEmpty({});\n   *\n   * @name isEmpty\n   * @alias empty\n   * @param {Object|Array|String|Map|Set} target\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isEmpty = function(val, msg) {\n    new Assertion(val, msg, assert.isEmpty, true).to.be.empty;\n  };\n\n  /**\n   * ### .isNotEmpty(target)\n   *\n   * Asserts that the target contains values.\n   * For arrays and strings, it checks the `length` property.\n   * For `Map` and `Set` instances, it checks the `size` property.\n   * For non-function objects, it gets the count of own\n   * enumerable string keys.\n   *\n   *     assert.isNotEmpty([1, 2]);\n   *     assert.isNotEmpty('34');\n   *     assert.isNotEmpty(new Set([5, 6]));\n   *     assert.isNotEmpty({ key: 7 });\n   *\n   * @name isNotEmpty\n   * @alias notEmpty\n   * @param {Object|Array|String|Map|Set} target\n   * @param {String} message _optional_\n   * @namespace Assert\n   * @api public\n   */\n\n  assert.isNotEmpty = function(val, msg) {\n    new Assertion(val, msg, assert.isNotEmpty, true).to.not.be.empty;\n  };\n\n  /*!\n   * Aliases.\n   */\n\n  (function alias(name, as){\n    assert[as] = assert[name];\n    return alias;\n  })\n  ('isOk', 'ok')\n  ('isNotOk', 'notOk')\n  ('throws', 'throw')\n  ('throws', 'Throw')\n  ('isExtensible', 'extensible')\n  ('isNotExtensible', 'notExtensible')\n  ('isSealed', 'sealed')\n  ('isNotSealed', 'notSealed')\n  ('isFrozen', 'frozen')\n  ('isNotFrozen', 'notFrozen')\n  ('isEmpty', 'empty')\n  ('isNotEmpty', 'notEmpty');\n};\n"],"sourceRoot":""}